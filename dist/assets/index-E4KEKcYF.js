var VH=Object.defineProperty;var zH=(t,e,n)=>e in t?VH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var xn=(t,e,n)=>zH(t,typeof e!="symbol"?e+"":e,n);function qH(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var d0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ln(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var FD={exports:{}},Xx={},$D={exports:{}},Gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv=Symbol.for("react.element"),WH=Symbol.for("react.portal"),HH=Symbol.for("react.fragment"),GH=Symbol.for("react.strict_mode"),KH=Symbol.for("react.profiler"),YH=Symbol.for("react.provider"),XH=Symbol.for("react.context"),QH=Symbol.for("react.forward_ref"),JH=Symbol.for("react.suspense"),ZH=Symbol.for("react.memo"),eG=Symbol.for("react.lazy"),_3=Symbol.iterator;function tG(t){return t===null||typeof t!="object"?null:(t=_3&&t[_3]||t["@@iterator"],typeof t=="function"?t:null)}var BD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UD=Object.assign,VD={};function Cp(t,e,n){this.props=t,this.context=e,this.refs=VD,this.updater=n||BD}Cp.prototype.isReactComponent={};Cp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Cp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zD(){}zD.prototype=Cp.prototype;function DE(t,e,n){this.props=t,this.context=e,this.refs=VD,this.updater=n||BD}var FE=DE.prototype=new zD;FE.constructor=DE;UD(FE,Cp.prototype);FE.isPureReactComponent=!0;var S3=Array.isArray,qD=Object.prototype.hasOwnProperty,$E={current:null},WD={key:!0,ref:!0,__self:!0,__source:!0};function HD(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)qD.call(e,r)&&!WD.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:sv,type:t,key:a,ref:s,props:i,_owner:$E.current}}function nG(t,e){return{$$typeof:sv,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function BE(t){return typeof t=="object"&&t!==null&&t.$$typeof===sv}function rG(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var A3=/\/+/g;function e5(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rG(""+t.key):e.toString(36)}function m1(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case sv:case WH:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+e5(s,0):r,S3(i)?(n="",t!=null&&(n=t.replace(A3,"$&/")+"/"),m1(i,e,n,"",function(c){return c})):i!=null&&(BE(i)&&(i=nG(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(A3,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",S3(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+e5(a,o);s+=m1(a,e,n,l,i)}else if(l=tG(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+e5(a,o++),s+=m1(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function h0(t,e,n){if(t==null)return t;var r=[],i=0;return m1(t,r,"","",function(a){return e.call(n,a,i++)}),r}function iG(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ha={current:null},g1={transition:null},aG={ReactCurrentDispatcher:ha,ReactCurrentBatchConfig:g1,ReactCurrentOwner:$E};function GD(){throw Error("act(...) is not supported in production builds of React.")}Gt.Children={map:h0,forEach:function(t,e,n){h0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return h0(t,function(){e++}),e},toArray:function(t){return h0(t,function(e){return e})||[]},only:function(t){if(!BE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Gt.Component=Cp;Gt.Fragment=HH;Gt.Profiler=KH;Gt.PureComponent=DE;Gt.StrictMode=GH;Gt.Suspense=JH;Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aG;Gt.act=GD;Gt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=UD({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=$E.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)qD.call(e,l)&&!WD.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:sv,type:t.type,key:i,ref:a,props:r,_owner:s}};Gt.createContext=function(t){return t={$$typeof:XH,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:YH,_context:t},t.Consumer=t};Gt.createElement=HD;Gt.createFactory=function(t){var e=HD.bind(null,t);return e.type=t,e};Gt.createRef=function(){return{current:null}};Gt.forwardRef=function(t){return{$$typeof:QH,render:t}};Gt.isValidElement=BE;Gt.lazy=function(t){return{$$typeof:eG,_payload:{_status:-1,_result:t},_init:iG}};Gt.memo=function(t,e){return{$$typeof:ZH,type:t,compare:e===void 0?null:e}};Gt.startTransition=function(t){var e=g1.transition;g1.transition={};try{t()}finally{g1.transition=e}};Gt.unstable_act=GD;Gt.useCallback=function(t,e){return ha.current.useCallback(t,e)};Gt.useContext=function(t){return ha.current.useContext(t)};Gt.useDebugValue=function(){};Gt.useDeferredValue=function(t){return ha.current.useDeferredValue(t)};Gt.useEffect=function(t,e){return ha.current.useEffect(t,e)};Gt.useId=function(){return ha.current.useId()};Gt.useImperativeHandle=function(t,e,n){return ha.current.useImperativeHandle(t,e,n)};Gt.useInsertionEffect=function(t,e){return ha.current.useInsertionEffect(t,e)};Gt.useLayoutEffect=function(t,e){return ha.current.useLayoutEffect(t,e)};Gt.useMemo=function(t,e){return ha.current.useMemo(t,e)};Gt.useReducer=function(t,e,n){return ha.current.useReducer(t,e,n)};Gt.useRef=function(t){return ha.current.useRef(t)};Gt.useState=function(t){return ha.current.useState(t)};Gt.useSyncExternalStore=function(t,e,n){return ha.current.useSyncExternalStore(t,e,n)};Gt.useTransition=function(){return ha.current.useTransition()};Gt.version="18.3.1";$D.exports=Gt;var U=$D.exports;const pe=Ln(U),sG=qH({__proto__:null,default:pe},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oG=U,lG=Symbol.for("react.element"),cG=Symbol.for("react.fragment"),uG=Object.prototype.hasOwnProperty,fG=oG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dG={key:!0,ref:!0,__self:!0,__source:!0};function KD(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)uG.call(e,r)&&!dG.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:lG,type:t,key:a,ref:s,props:i,_owner:fG.current}}Xx.Fragment=cG;Xx.jsx=KD;Xx.jsxs=KD;FD.exports=Xx;var d=FD.exports,aS={},YD={exports:{}},ss={},XD={exports:{}},QD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,ae){var ue=Y.length;Y.push(ae);e:for(;0<ue;){var he=ue-1>>>1,$=Y[he];if(0<i($,ae))Y[he]=ae,Y[ue]=$,ue=he;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ae=Y[0],ue=Y.pop();if(ue!==ae){Y[0]=ue;e:for(var he=0,$=Y.length,H=$>>>1;he<H;){var ie=2*(he+1)-1,se=Y[ie],le=ie+1,ge=Y[le];if(0>i(se,ue))le<$&&0>i(ge,se)?(Y[he]=ge,Y[le]=ue,he=le):(Y[he]=se,Y[ie]=ue,he=ie);else if(le<$&&0>i(ge,ue))Y[he]=ge,Y[le]=ue,he=le;else break e}}return ae}function i(Y,ae){var ue=Y.sortIndex-ae.sortIndex;return ue!==0?ue:Y.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,h=3,p=!1,y=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(Y){for(var ae=n(c);ae!==null;){if(ae.callback===null)r(c);else if(ae.startTime<=Y)r(c),ae.sortIndex=ae.expirationTime,e(l,ae);else break;ae=n(c)}}function A(Y){if(b=!1,_(Y),!y)if(n(l)!==null)y=!0,Z(E);else{var ae=n(c);ae!==null&&re(A,ae.startTime-Y)}}function E(Y,ae){y=!1,b&&(b=!1,v(N),N=-1),p=!0;var ue=h;try{for(_(ae),f=n(l);f!==null&&(!(f.expirationTime>ae)||Y&&!P());){var he=f.callback;if(typeof he=="function"){f.callback=null,h=f.priorityLevel;var $=he(f.expirationTime<=ae);ae=t.unstable_now(),typeof $=="function"?f.callback=$:f===n(l)&&r(l),_(ae)}else r(l);f=n(l)}if(f!==null)var H=!0;else{var ie=n(c);ie!==null&&re(A,ie.startTime-ae),H=!1}return H}finally{f=null,h=ue,p=!1}}var O=!1,C=null,N=-1,k=5,M=-1;function P(){return!(t.unstable_now()-M<k)}function I(){if(C!==null){var Y=t.unstable_now();M=Y;var ae=!0;try{ae=C(!0,Y)}finally{ae?j():(O=!1,C=null)}}else O=!1}var j;if(typeof w=="function")j=function(){w(I)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,G=B.port2;B.port1.onmessage=I,j=function(){G.postMessage(null)}}else j=function(){x(I,0)};function Z(Y){C=Y,O||(O=!0,j())}function re(Y,ae){N=x(function(){Y(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,Z(E))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(h){case 1:case 2:case 3:var ae=3;break;default:ae=h}var ue=h;h=ae;try{return Y()}finally{h=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ue=h;h=Y;try{return ae()}finally{h=ue}},t.unstable_scheduleCallback=function(Y,ae,ue){var he=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?he+ue:he):ue=he,Y){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ue+$,Y={id:u++,callback:ae,priorityLevel:Y,startTime:ue,expirationTime:$,sortIndex:-1},ue>he?(Y.sortIndex=ue,e(c,Y),n(l)===null&&Y===n(c)&&(b?(v(N),N=-1):b=!0,re(A,ue-he))):(Y.sortIndex=$,e(l,Y),y||p||(y=!0,Z(E))),Y},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(Y){var ae=h;return function(){var ue=h;h=ae;try{return Y.apply(this,arguments)}finally{h=ue}}}})(QD);XD.exports=QD;var hG=XD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pG=U,ts=hG;function Ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JD=new Set,$g={};function hd(t,e){zh(t,e),zh(t+"Capture",e)}function zh(t,e){for($g[t]=e,t=0;t<e.length;t++)JD.add(e[t])}var Ql=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sS=Object.prototype.hasOwnProperty,mG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N3={},E3={};function gG(t){return sS.call(E3,t)?!0:sS.call(N3,t)?!1:mG.test(t)?E3[t]=!0:(N3[t]=!0,!1)}function yG(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vG(t,e,n,r){if(e===null||typeof e>"u"||yG(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pa(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Ti={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ti[t]=new pa(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ti[e]=new pa(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ti[t]=new pa(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ti[t]=new pa(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ti[t]=new pa(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ti[t]=new pa(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ti[t]=new pa(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ti[t]=new pa(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ti[t]=new pa(t,5,!1,t.toLowerCase(),null,!1,!1)});var UE=/[\-:]([a-z])/g;function VE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(UE,VE);Ti[e]=new pa(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(UE,VE);Ti[e]=new pa(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(UE,VE);Ti[e]=new pa(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ti[t]=new pa(t,1,!1,t.toLowerCase(),null,!1,!1)});Ti.xlinkHref=new pa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ti[t]=new pa(t,1,!1,t.toLowerCase(),null,!0,!0)});function zE(t,e,n,r){var i=Ti.hasOwnProperty(e)?Ti[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vG(e,n,i,r)&&(n=null),r||i===null?gG(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var fc=pG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,p0=Symbol.for("react.element"),Zd=Symbol.for("react.portal"),eh=Symbol.for("react.fragment"),qE=Symbol.for("react.strict_mode"),oS=Symbol.for("react.profiler"),ZD=Symbol.for("react.provider"),e8=Symbol.for("react.context"),WE=Symbol.for("react.forward_ref"),lS=Symbol.for("react.suspense"),cS=Symbol.for("react.suspense_list"),HE=Symbol.for("react.memo"),Gc=Symbol.for("react.lazy"),t8=Symbol.for("react.offscreen"),P3=Symbol.iterator;function Pm(t){return t===null||typeof t!="object"?null:(t=P3&&t[P3]||t["@@iterator"],typeof t=="function"?t:null)}var mr=Object.assign,t5;function Zm(t){if(t5===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);t5=e&&e[1]||""}return`
`+t5+t}var n5=!1;function r5(t,e){if(!t||n5)return"";n5=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{n5=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zm(t):""}function bG(t){switch(t.tag){case 5:return Zm(t.type);case 16:return Zm("Lazy");case 13:return Zm("Suspense");case 19:return Zm("SuspenseList");case 0:case 2:case 15:return t=r5(t.type,!1),t;case 11:return t=r5(t.type.render,!1),t;case 1:return t=r5(t.type,!0),t;default:return""}}function uS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case eh:return"Fragment";case Zd:return"Portal";case oS:return"Profiler";case qE:return"StrictMode";case lS:return"Suspense";case cS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case e8:return(t.displayName||"Context")+".Consumer";case ZD:return(t._context.displayName||"Context")+".Provider";case WE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case HE:return e=t.displayName||null,e!==null?e:uS(t.type)||"Memo";case Gc:e=t._payload,t=t._init;try{return uS(t(e))}catch{}}return null}function xG(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uS(e);case 8:return e===qE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Eu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function n8(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wG(t){var e=n8(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function m0(t){t._valueTracker||(t._valueTracker=wG(t))}function r8(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=n8(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function G1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fS(t,e){var n=e.checked;return mr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function T3(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Eu(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function i8(t,e){e=e.checked,e!=null&&zE(t,"checked",e,!1)}function dS(t,e){i8(t,e);var n=Eu(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hS(t,e.type,n):e.hasOwnProperty("defaultValue")&&hS(t,e.type,Eu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function k3(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function hS(t,e,n){(e!=="number"||G1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var eg=Array.isArray;function wh(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Eu(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function pS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return mr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function j3(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ue(92));if(eg(n)){if(1<n.length)throw Error(Ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Eu(n)}}function a8(t,e){var n=Eu(e.value),r=Eu(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function C3(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function s8(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?s8(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var g0,o8=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(g0=g0||document.createElement("div"),g0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=g0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bg(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_G=["Webkit","ms","Moz","O"];Object.keys(hg).forEach(function(t){_G.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hg[e]=hg[t]})});function l8(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hg.hasOwnProperty(t)&&hg[t]?(""+e).trim():e+"px"}function c8(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=l8(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var SG=mr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gS(t,e){if(e){if(SG[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ue(62))}}function yS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vS=null;function GE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bS=null,_h=null,Sh=null;function I3(t){if(t=cv(t)){if(typeof bS!="function")throw Error(Ue(280));var e=t.stateNode;e&&(e=t2(e),bS(t.stateNode,t.type,e))}}function u8(t){_h?Sh?Sh.push(t):Sh=[t]:_h=t}function f8(){if(_h){var t=_h,e=Sh;if(Sh=_h=null,I3(t),e)for(t=0;t<e.length;t++)I3(e[t])}}function d8(t,e){return t(e)}function h8(){}var i5=!1;function p8(t,e,n){if(i5)return t(e,n);i5=!0;try{return d8(t,e,n)}finally{i5=!1,(_h!==null||Sh!==null)&&(h8(),f8())}}function Ug(t,e){var n=t.stateNode;if(n===null)return null;var r=t2(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ue(231,e,typeof n));return n}var xS=!1;if(Ql)try{var Tm={};Object.defineProperty(Tm,"passive",{get:function(){xS=!0}}),window.addEventListener("test",Tm,Tm),window.removeEventListener("test",Tm,Tm)}catch{xS=!1}function AG(t,e,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var pg=!1,K1=null,Y1=!1,wS=null,NG={onError:function(t){pg=!0,K1=t}};function EG(t,e,n,r,i,a,s,o,l){pg=!1,K1=null,AG.apply(NG,arguments)}function PG(t,e,n,r,i,a,s,o,l){if(EG.apply(this,arguments),pg){if(pg){var c=K1;pg=!1,K1=null}else throw Error(Ue(198));Y1||(Y1=!0,wS=c)}}function pd(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function m8(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function O3(t){if(pd(t)!==t)throw Error(Ue(188))}function TG(t){var e=t.alternate;if(!e){if(e=pd(t),e===null)throw Error(Ue(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return O3(i),t;if(a===r)return O3(i),e;a=a.sibling}throw Error(Ue(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(Ue(189))}}if(n.alternate!==r)throw Error(Ue(190))}if(n.tag!==3)throw Error(Ue(188));return n.stateNode.current===n?t:e}function g8(t){return t=TG(t),t!==null?y8(t):null}function y8(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=y8(t);if(e!==null)return e;t=t.sibling}return null}var v8=ts.unstable_scheduleCallback,R3=ts.unstable_cancelCallback,kG=ts.unstable_shouldYield,jG=ts.unstable_requestPaint,Mr=ts.unstable_now,CG=ts.unstable_getCurrentPriorityLevel,KE=ts.unstable_ImmediatePriority,b8=ts.unstable_UserBlockingPriority,X1=ts.unstable_NormalPriority,IG=ts.unstable_LowPriority,x8=ts.unstable_IdlePriority,Qx=null,Go=null;function OG(t){if(Go&&typeof Go.onCommitFiberRoot=="function")try{Go.onCommitFiberRoot(Qx,t,void 0,(t.current.flags&128)===128)}catch{}}var lo=Math.clz32?Math.clz32:MG,RG=Math.log,LG=Math.LN2;function MG(t){return t>>>=0,t===0?32:31-(RG(t)/LG|0)|0}var y0=64,v0=4194304;function tg(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Q1(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=tg(o):(a&=s,a!==0&&(r=tg(a)))}else s=n&~i,s!==0?r=tg(s):a!==0&&(r=tg(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-lo(e),i=1<<n,r|=t[n],e&=~i;return r}function DG(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FG(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-lo(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=DG(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function _S(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function w8(){var t=y0;return y0<<=1,!(y0&4194240)&&(y0=64),t}function a5(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ov(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-lo(e),t[e]=n}function $G(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-lo(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function YE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-lo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Sn=0;function _8(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var S8,XE,A8,N8,E8,SS=!1,b0=[],fu=null,du=null,hu=null,Vg=new Map,zg=new Map,Xc=[],BG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function L3(t,e){switch(t){case"focusin":case"focusout":fu=null;break;case"dragenter":case"dragleave":du=null;break;case"mouseover":case"mouseout":hu=null;break;case"pointerover":case"pointerout":Vg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zg.delete(e.pointerId)}}function km(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=cv(e),e!==null&&XE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function UG(t,e,n,r,i){switch(e){case"focusin":return fu=km(fu,t,e,n,r,i),!0;case"dragenter":return du=km(du,t,e,n,r,i),!0;case"mouseover":return hu=km(hu,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Vg.set(a,km(Vg.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,zg.set(a,km(zg.get(a)||null,t,e,n,r,i)),!0}return!1}function P8(t){var e=Pf(t.target);if(e!==null){var n=pd(e);if(n!==null){if(e=n.tag,e===13){if(e=m8(n),e!==null){t.blockedOn=e,E8(t.priority,function(){A8(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function y1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=AS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vS=r,n.target.dispatchEvent(r),vS=null}else return e=cv(n),e!==null&&XE(e),t.blockedOn=n,!1;e.shift()}return!0}function M3(t,e,n){y1(t)&&n.delete(e)}function VG(){SS=!1,fu!==null&&y1(fu)&&(fu=null),du!==null&&y1(du)&&(du=null),hu!==null&&y1(hu)&&(hu=null),Vg.forEach(M3),zg.forEach(M3)}function jm(t,e){t.blockedOn===e&&(t.blockedOn=null,SS||(SS=!0,ts.unstable_scheduleCallback(ts.unstable_NormalPriority,VG)))}function qg(t){function e(i){return jm(i,t)}if(0<b0.length){jm(b0[0],t);for(var n=1;n<b0.length;n++){var r=b0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fu!==null&&jm(fu,t),du!==null&&jm(du,t),hu!==null&&jm(hu,t),Vg.forEach(e),zg.forEach(e),n=0;n<Xc.length;n++)r=Xc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Xc.length&&(n=Xc[0],n.blockedOn===null);)P8(n),n.blockedOn===null&&Xc.shift()}var Ah=fc.ReactCurrentBatchConfig,J1=!0;function zG(t,e,n,r){var i=Sn,a=Ah.transition;Ah.transition=null;try{Sn=1,QE(t,e,n,r)}finally{Sn=i,Ah.transition=a}}function qG(t,e,n,r){var i=Sn,a=Ah.transition;Ah.transition=null;try{Sn=4,QE(t,e,n,r)}finally{Sn=i,Ah.transition=a}}function QE(t,e,n,r){if(J1){var i=AS(t,e,n,r);if(i===null)m5(t,e,r,Z1,n),L3(t,r);else if(UG(i,t,e,n,r))r.stopPropagation();else if(L3(t,r),e&4&&-1<BG.indexOf(t)){for(;i!==null;){var a=cv(i);if(a!==null&&S8(a),a=AS(t,e,n,r),a===null&&m5(t,e,r,Z1,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else m5(t,e,r,null,n)}}var Z1=null;function AS(t,e,n,r){if(Z1=null,t=GE(r),t=Pf(t),t!==null)if(e=pd(t),e===null)t=null;else if(n=e.tag,n===13){if(t=m8(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Z1=t,null}function T8(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CG()){case KE:return 1;case b8:return 4;case X1:case IG:return 16;case x8:return 536870912;default:return 16}default:return 16}}var iu=null,JE=null,v1=null;function k8(){if(v1)return v1;var t,e=JE,n=e.length,r,i="value"in iu?iu.value:iu.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return v1=i.slice(t,1<r?1-r:void 0)}function b1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function x0(){return!0}function D3(){return!1}function os(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?x0:D3,this.isPropagationStopped=D3,this}return mr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=x0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=x0)},persist:function(){},isPersistent:x0}),e}var Ip={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ZE=os(Ip),lv=mr({},Ip,{view:0,detail:0}),WG=os(lv),s5,o5,Cm,Jx=mr({},lv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cm&&(Cm&&t.type==="mousemove"?(s5=t.screenX-Cm.screenX,o5=t.screenY-Cm.screenY):o5=s5=0,Cm=t),s5)},movementY:function(t){return"movementY"in t?t.movementY:o5}}),F3=os(Jx),HG=mr({},Jx,{dataTransfer:0}),GG=os(HG),KG=mr({},lv,{relatedTarget:0}),l5=os(KG),YG=mr({},Ip,{animationName:0,elapsedTime:0,pseudoElement:0}),XG=os(YG),QG=mr({},Ip,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JG=os(QG),ZG=mr({},Ip,{data:0}),$3=os(ZG),eK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rK(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nK[t])?!!e[t]:!1}function eP(){return rK}var iK=mr({},lv,{key:function(t){if(t.key){var e=eK[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=b1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tK[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eP,charCode:function(t){return t.type==="keypress"?b1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?b1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aK=os(iK),sK=mr({},Jx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B3=os(sK),oK=mr({},lv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eP}),lK=os(oK),cK=mr({},Ip,{propertyName:0,elapsedTime:0,pseudoElement:0}),uK=os(cK),fK=mr({},Jx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dK=os(fK),hK=[9,13,27,32],tP=Ql&&"CompositionEvent"in window,mg=null;Ql&&"documentMode"in document&&(mg=document.documentMode);var pK=Ql&&"TextEvent"in window&&!mg,j8=Ql&&(!tP||mg&&8<mg&&11>=mg),U3=" ",V3=!1;function C8(t,e){switch(t){case"keyup":return hK.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var th=!1;function mK(t,e){switch(t){case"compositionend":return I8(e);case"keypress":return e.which!==32?null:(V3=!0,U3);case"textInput":return t=e.data,t===U3&&V3?null:t;default:return null}}function gK(t,e){if(th)return t==="compositionend"||!tP&&C8(t,e)?(t=k8(),v1=JE=iu=null,th=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return j8&&e.locale!=="ko"?null:e.data;default:return null}}var yK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function z3(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yK[t.type]:e==="textarea"}function O8(t,e,n,r){u8(r),e=eb(e,"onChange"),0<e.length&&(n=new ZE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var gg=null,Wg=null;function vK(t){q8(t,0)}function Zx(t){var e=ih(t);if(r8(e))return t}function bK(t,e){if(t==="change")return e}var R8=!1;if(Ql){var c5;if(Ql){var u5="oninput"in document;if(!u5){var q3=document.createElement("div");q3.setAttribute("oninput","return;"),u5=typeof q3.oninput=="function"}c5=u5}else c5=!1;R8=c5&&(!document.documentMode||9<document.documentMode)}function W3(){gg&&(gg.detachEvent("onpropertychange",L8),Wg=gg=null)}function L8(t){if(t.propertyName==="value"&&Zx(Wg)){var e=[];O8(e,Wg,t,GE(t)),p8(vK,e)}}function xK(t,e,n){t==="focusin"?(W3(),gg=e,Wg=n,gg.attachEvent("onpropertychange",L8)):t==="focusout"&&W3()}function wK(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zx(Wg)}function _K(t,e){if(t==="click")return Zx(e)}function SK(t,e){if(t==="input"||t==="change")return Zx(e)}function AK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ho=typeof Object.is=="function"?Object.is:AK;function Hg(t,e){if(ho(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sS.call(e,i)||!ho(t[i],e[i]))return!1}return!0}function H3(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function G3(t,e){var n=H3(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=H3(n)}}function M8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?M8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function D8(){for(var t=window,e=G1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=G1(t.document)}return e}function nP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function NK(t){var e=D8(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&M8(n.ownerDocument.documentElement,n)){if(r!==null&&nP(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=G3(n,a);var s=G3(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var EK=Ql&&"documentMode"in document&&11>=document.documentMode,nh=null,NS=null,yg=null,ES=!1;function K3(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ES||nh==null||nh!==G1(r)||(r=nh,"selectionStart"in r&&nP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yg&&Hg(yg,r)||(yg=r,r=eb(NS,"onSelect"),0<r.length&&(e=new ZE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=nh)))}function w0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var rh={animationend:w0("Animation","AnimationEnd"),animationiteration:w0("Animation","AnimationIteration"),animationstart:w0("Animation","AnimationStart"),transitionend:w0("Transition","TransitionEnd")},f5={},F8={};Ql&&(F8=document.createElement("div").style,"AnimationEvent"in window||(delete rh.animationend.animation,delete rh.animationiteration.animation,delete rh.animationstart.animation),"TransitionEvent"in window||delete rh.transitionend.transition);function e2(t){if(f5[t])return f5[t];if(!rh[t])return t;var e=rh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in F8)return f5[t]=e[n];return t}var $8=e2("animationend"),B8=e2("animationiteration"),U8=e2("animationstart"),V8=e2("transitionend"),z8=new Map,Y3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mu(t,e){z8.set(t,e),hd(e,[t])}for(var d5=0;d5<Y3.length;d5++){var h5=Y3[d5],PK=h5.toLowerCase(),TK=h5[0].toUpperCase()+h5.slice(1);Mu(PK,"on"+TK)}Mu($8,"onAnimationEnd");Mu(B8,"onAnimationIteration");Mu(U8,"onAnimationStart");Mu("dblclick","onDoubleClick");Mu("focusin","onFocus");Mu("focusout","onBlur");Mu(V8,"onTransitionEnd");zh("onMouseEnter",["mouseout","mouseover"]);zh("onMouseLeave",["mouseout","mouseover"]);zh("onPointerEnter",["pointerout","pointerover"]);zh("onPointerLeave",["pointerout","pointerover"]);hd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hd("onBeforeInput",["compositionend","keypress","textInput","paste"]);hd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ng="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kK=new Set("cancel close invalid load scroll toggle".split(" ").concat(ng));function X3(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,PG(r,e,void 0,t),t.currentTarget=null}function q8(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;X3(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;X3(i,o,c),a=l}}}if(Y1)throw t=wS,Y1=!1,wS=null,t}function Wn(t,e){var n=e[CS];n===void 0&&(n=e[CS]=new Set);var r=t+"__bubble";n.has(r)||(W8(e,t,2,!1),n.add(r))}function p5(t,e,n){var r=0;e&&(r|=4),W8(n,t,r,e)}var _0="_reactListening"+Math.random().toString(36).slice(2);function Gg(t){if(!t[_0]){t[_0]=!0,JD.forEach(function(n){n!=="selectionchange"&&(kK.has(n)||p5(n,!1,t),p5(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_0]||(e[_0]=!0,p5("selectionchange",!1,e))}}function W8(t,e,n,r){switch(T8(e)){case 1:var i=zG;break;case 4:i=qG;break;default:i=QE}n=i.bind(null,e,n,t),i=void 0,!xS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function m5(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Pf(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}p8(function(){var c=a,u=GE(n),f=[];e:{var h=z8.get(t);if(h!==void 0){var p=ZE,y=t;switch(t){case"keypress":if(b1(n)===0)break e;case"keydown":case"keyup":p=aK;break;case"focusin":y="focus",p=l5;break;case"focusout":y="blur",p=l5;break;case"beforeblur":case"afterblur":p=l5;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=F3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=GG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=lK;break;case $8:case B8:case U8:p=XG;break;case V8:p=uK;break;case"scroll":p=WG;break;case"wheel":p=dK;break;case"copy":case"cut":case"paste":p=JG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=B3}var b=(e&4)!==0,x=!b&&t==="scroll",v=b?h!==null?h+"Capture":null:h;b=[];for(var w=c,_;w!==null;){_=w;var A=_.stateNode;if(_.tag===5&&A!==null&&(_=A,v!==null&&(A=Ug(w,v),A!=null&&b.push(Kg(w,A,_)))),x)break;w=w.return}0<b.length&&(h=new p(h,y,null,n,u),f.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==vS&&(y=n.relatedTarget||n.fromElement)&&(Pf(y)||y[Jl]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=c,y=y?Pf(y):null,y!==null&&(x=pd(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(b=F3,A="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(b=B3,A="onPointerLeave",v="onPointerEnter",w="pointer"),x=p==null?h:ih(p),_=y==null?h:ih(y),h=new b(A,w+"leave",p,n,u),h.target=x,h.relatedTarget=_,A=null,Pf(u)===c&&(b=new b(v,w+"enter",y,n,u),b.target=_,b.relatedTarget=x,A=b),x=A,p&&y)t:{for(b=p,v=y,w=0,_=b;_;_=Dd(_))w++;for(_=0,A=v;A;A=Dd(A))_++;for(;0<w-_;)b=Dd(b),w--;for(;0<_-w;)v=Dd(v),_--;for(;w--;){if(b===v||v!==null&&b===v.alternate)break t;b=Dd(b),v=Dd(v)}b=null}else b=null;p!==null&&Q3(f,h,p,b,!1),y!==null&&x!==null&&Q3(f,x,y,b,!0)}}e:{if(h=c?ih(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=bK;else if(z3(h))if(R8)E=SK;else{E=wK;var O=xK}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=_K);if(E&&(E=E(t,c))){O8(f,E,n,u);break e}O&&O(t,h,c),t==="focusout"&&(O=h._wrapperState)&&O.controlled&&h.type==="number"&&hS(h,"number",h.value)}switch(O=c?ih(c):window,t){case"focusin":(z3(O)||O.contentEditable==="true")&&(nh=O,NS=c,yg=null);break;case"focusout":yg=NS=nh=null;break;case"mousedown":ES=!0;break;case"contextmenu":case"mouseup":case"dragend":ES=!1,K3(f,n,u);break;case"selectionchange":if(EK)break;case"keydown":case"keyup":K3(f,n,u)}var C;if(tP)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else th?C8(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(j8&&n.locale!=="ko"&&(th||N!=="onCompositionStart"?N==="onCompositionEnd"&&th&&(C=k8()):(iu=u,JE="value"in iu?iu.value:iu.textContent,th=!0)),O=eb(c,N),0<O.length&&(N=new $3(N,t,null,n,u),f.push({event:N,listeners:O}),C?N.data=C:(C=I8(n),C!==null&&(N.data=C)))),(C=pK?mK(t,n):gK(t,n))&&(c=eb(c,"onBeforeInput"),0<c.length&&(u=new $3("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=C))}q8(f,e)})}function Kg(t,e,n){return{instance:t,listener:e,currentTarget:n}}function eb(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ug(t,n),a!=null&&r.unshift(Kg(t,a,i)),a=Ug(t,e),a!=null&&r.push(Kg(t,a,i))),t=t.return}return r}function Dd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Q3(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Ug(n,a),l!=null&&s.unshift(Kg(n,l,o))):i||(l=Ug(n,a),l!=null&&s.push(Kg(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var jK=/\r\n?/g,CK=/\u0000|\uFFFD/g;function J3(t){return(typeof t=="string"?t:""+t).replace(jK,`
`).replace(CK,"")}function S0(t,e,n){if(e=J3(e),J3(t)!==e&&n)throw Error(Ue(425))}function tb(){}var PS=null,TS=null;function kS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jS=typeof setTimeout=="function"?setTimeout:void 0,IK=typeof clearTimeout=="function"?clearTimeout:void 0,Z3=typeof Promise=="function"?Promise:void 0,OK=typeof queueMicrotask=="function"?queueMicrotask:typeof Z3<"u"?function(t){return Z3.resolve(null).then(t).catch(RK)}:jS;function RK(t){setTimeout(function(){throw t})}function g5(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),qg(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);qg(e)}function pu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ej(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Op=Math.random().toString(36).slice(2),Uo="__reactFiber$"+Op,Yg="__reactProps$"+Op,Jl="__reactContainer$"+Op,CS="__reactEvents$"+Op,LK="__reactListeners$"+Op,MK="__reactHandles$"+Op;function Pf(t){var e=t[Uo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jl]||n[Uo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ej(t);t!==null;){if(n=t[Uo])return n;t=ej(t)}return e}t=n,n=t.parentNode}return null}function cv(t){return t=t[Uo]||t[Jl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ih(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ue(33))}function t2(t){return t[Yg]||null}var IS=[],ah=-1;function Du(t){return{current:t}}function Yn(t){0>ah||(t.current=IS[ah],IS[ah]=null,ah--)}function Un(t,e){ah++,IS[ah]=t.current,t.current=e}var Pu={},Zi=Du(Pu),Na=Du(!1),Hf=Pu;function qh(t,e){var n=t.type.contextTypes;if(!n)return Pu;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ea(t){return t=t.childContextTypes,t!=null}function nb(){Yn(Na),Yn(Zi)}function tj(t,e,n){if(Zi.current!==Pu)throw Error(Ue(168));Un(Zi,e),Un(Na,n)}function H8(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ue(108,xG(t)||"Unknown",i));return mr({},n,r)}function rb(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pu,Hf=Zi.current,Un(Zi,t),Un(Na,Na.current),!0}function nj(t,e,n){var r=t.stateNode;if(!r)throw Error(Ue(169));n?(t=H8(t,e,Hf),r.__reactInternalMemoizedMergedChildContext=t,Yn(Na),Yn(Zi),Un(Zi,t)):Yn(Na),Un(Na,n)}var Ol=null,n2=!1,y5=!1;function G8(t){Ol===null?Ol=[t]:Ol.push(t)}function DK(t){n2=!0,G8(t)}function Fu(){if(!y5&&Ol!==null){y5=!0;var t=0,e=Sn;try{var n=Ol;for(Sn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ol=null,n2=!1}catch(i){throw Ol!==null&&(Ol=Ol.slice(t+1)),v8(KE,Fu),i}finally{Sn=e,y5=!1}}return null}var sh=[],oh=0,ib=null,ab=0,ks=[],js=0,Gf=null,Ll=1,Ml="";function gf(t,e){sh[oh++]=ab,sh[oh++]=ib,ib=t,ab=e}function K8(t,e,n){ks[js++]=Ll,ks[js++]=Ml,ks[js++]=Gf,Gf=t;var r=Ll;t=Ml;var i=32-lo(r)-1;r&=~(1<<i),n+=1;var a=32-lo(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ll=1<<32-lo(e)+i|n<<i|r,Ml=a+t}else Ll=1<<a|n<<i|r,Ml=t}function rP(t){t.return!==null&&(gf(t,1),K8(t,1,0))}function iP(t){for(;t===ib;)ib=sh[--oh],sh[oh]=null,ab=sh[--oh],sh[oh]=null;for(;t===Gf;)Gf=ks[--js],ks[js]=null,Ml=ks[--js],ks[js]=null,Ll=ks[--js],ks[js]=null}var Za=null,Ya=null,tr=!1,ao=null;function Y8(t,e){var n=Is(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function rj(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Za=t,Ya=pu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Za=t,Ya=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Gf!==null?{id:Ll,overflow:Ml}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Is(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Za=t,Ya=null,!0):!1;default:return!1}}function OS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function RS(t){if(tr){var e=Ya;if(e){var n=e;if(!rj(t,e)){if(OS(t))throw Error(Ue(418));e=pu(n.nextSibling);var r=Za;e&&rj(t,e)?Y8(r,n):(t.flags=t.flags&-4097|2,tr=!1,Za=t)}}else{if(OS(t))throw Error(Ue(418));t.flags=t.flags&-4097|2,tr=!1,Za=t}}}function ij(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Za=t}function A0(t){if(t!==Za)return!1;if(!tr)return ij(t),tr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kS(t.type,t.memoizedProps)),e&&(e=Ya)){if(OS(t))throw X8(),Error(Ue(418));for(;e;)Y8(t,e),e=pu(e.nextSibling)}if(ij(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ya=pu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ya=null}}else Ya=Za?pu(t.stateNode.nextSibling):null;return!0}function X8(){for(var t=Ya;t;)t=pu(t.nextSibling)}function Wh(){Ya=Za=null,tr=!1}function aP(t){ao===null?ao=[t]:ao.push(t)}var FK=fc.ReactCurrentBatchConfig;function Im(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ue(309));var r=n.stateNode}if(!r)throw Error(Ue(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(Ue(284));if(!n._owner)throw Error(Ue(290,t))}return t}function N0(t,e){throw t=Object.prototype.toString.call(e),Error(Ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function aj(t){var e=t._init;return e(t._payload)}function Q8(t){function e(v,w){if(t){var _=v.deletions;_===null?(v.deletions=[w],v.flags|=16):_.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=vu(v,w),v.index=0,v.sibling=null,v}function a(v,w,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<w?(v.flags|=2,w):_):(v.flags|=2,w)):(v.flags|=1048576,w)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,w,_,A){return w===null||w.tag!==6?(w=A5(_,v.mode,A),w.return=v,w):(w=i(w,_),w.return=v,w)}function l(v,w,_,A){var E=_.type;return E===eh?u(v,w,_.props.children,A,_.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Gc&&aj(E)===w.type)?(A=i(w,_.props),A.ref=Im(v,w,_),A.return=v,A):(A=E1(_.type,_.key,_.props,null,v.mode,A),A.ref=Im(v,w,_),A.return=v,A)}function c(v,w,_,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=N5(_,v.mode,A),w.return=v,w):(w=i(w,_.children||[]),w.return=v,w)}function u(v,w,_,A,E){return w===null||w.tag!==7?(w=$f(_,v.mode,A,E),w.return=v,w):(w=i(w,_),w.return=v,w)}function f(v,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=A5(""+w,v.mode,_),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case p0:return _=E1(w.type,w.key,w.props,null,v.mode,_),_.ref=Im(v,null,w),_.return=v,_;case Zd:return w=N5(w,v.mode,_),w.return=v,w;case Gc:var A=w._init;return f(v,A(w._payload),_)}if(eg(w)||Pm(w))return w=$f(w,v.mode,_,null),w.return=v,w;N0(v,w)}return null}function h(v,w,_,A){var E=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:o(v,w,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case p0:return _.key===E?l(v,w,_,A):null;case Zd:return _.key===E?c(v,w,_,A):null;case Gc:return E=_._init,h(v,w,E(_._payload),A)}if(eg(_)||Pm(_))return E!==null?null:u(v,w,_,A,null);N0(v,_)}return null}function p(v,w,_,A,E){if(typeof A=="string"&&A!==""||typeof A=="number")return v=v.get(_)||null,o(w,v,""+A,E);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case p0:return v=v.get(A.key===null?_:A.key)||null,l(w,v,A,E);case Zd:return v=v.get(A.key===null?_:A.key)||null,c(w,v,A,E);case Gc:var O=A._init;return p(v,w,_,O(A._payload),E)}if(eg(A)||Pm(A))return v=v.get(_)||null,u(w,v,A,E,null);N0(w,A)}return null}function y(v,w,_,A){for(var E=null,O=null,C=w,N=w=0,k=null;C!==null&&N<_.length;N++){C.index>N?(k=C,C=null):k=C.sibling;var M=h(v,C,_[N],A);if(M===null){C===null&&(C=k);break}t&&C&&M.alternate===null&&e(v,C),w=a(M,w,N),O===null?E=M:O.sibling=M,O=M,C=k}if(N===_.length)return n(v,C),tr&&gf(v,N),E;if(C===null){for(;N<_.length;N++)C=f(v,_[N],A),C!==null&&(w=a(C,w,N),O===null?E=C:O.sibling=C,O=C);return tr&&gf(v,N),E}for(C=r(v,C);N<_.length;N++)k=p(C,v,N,_[N],A),k!==null&&(t&&k.alternate!==null&&C.delete(k.key===null?N:k.key),w=a(k,w,N),O===null?E=k:O.sibling=k,O=k);return t&&C.forEach(function(P){return e(v,P)}),tr&&gf(v,N),E}function b(v,w,_,A){var E=Pm(_);if(typeof E!="function")throw Error(Ue(150));if(_=E.call(_),_==null)throw Error(Ue(151));for(var O=E=null,C=w,N=w=0,k=null,M=_.next();C!==null&&!M.done;N++,M=_.next()){C.index>N?(k=C,C=null):k=C.sibling;var P=h(v,C,M.value,A);if(P===null){C===null&&(C=k);break}t&&C&&P.alternate===null&&e(v,C),w=a(P,w,N),O===null?E=P:O.sibling=P,O=P,C=k}if(M.done)return n(v,C),tr&&gf(v,N),E;if(C===null){for(;!M.done;N++,M=_.next())M=f(v,M.value,A),M!==null&&(w=a(M,w,N),O===null?E=M:O.sibling=M,O=M);return tr&&gf(v,N),E}for(C=r(v,C);!M.done;N++,M=_.next())M=p(C,v,N,M.value,A),M!==null&&(t&&M.alternate!==null&&C.delete(M.key===null?N:M.key),w=a(M,w,N),O===null?E=M:O.sibling=M,O=M);return t&&C.forEach(function(I){return e(v,I)}),tr&&gf(v,N),E}function x(v,w,_,A){if(typeof _=="object"&&_!==null&&_.type===eh&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case p0:e:{for(var E=_.key,O=w;O!==null;){if(O.key===E){if(E=_.type,E===eh){if(O.tag===7){n(v,O.sibling),w=i(O,_.props.children),w.return=v,v=w;break e}}else if(O.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Gc&&aj(E)===O.type){n(v,O.sibling),w=i(O,_.props),w.ref=Im(v,O,_),w.return=v,v=w;break e}n(v,O);break}else e(v,O);O=O.sibling}_.type===eh?(w=$f(_.props.children,v.mode,A,_.key),w.return=v,v=w):(A=E1(_.type,_.key,_.props,null,v.mode,A),A.ref=Im(v,w,_),A.return=v,v=A)}return s(v);case Zd:e:{for(O=_.key;w!==null;){if(w.key===O)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(v,w.sibling),w=i(w,_.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=N5(_,v.mode,A),w.return=v,v=w}return s(v);case Gc:return O=_._init,x(v,w,O(_._payload),A)}if(eg(_))return y(v,w,_,A);if(Pm(_))return b(v,w,_,A);N0(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,_),w.return=v,v=w):(n(v,w),w=A5(_,v.mode,A),w.return=v,v=w),s(v)):n(v,w)}return x}var Hh=Q8(!0),J8=Q8(!1),sb=Du(null),ob=null,lh=null,sP=null;function oP(){sP=lh=ob=null}function lP(t){var e=sb.current;Yn(sb),t._currentValue=e}function LS(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Nh(t,e){ob=t,sP=lh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Sa=!0),t.firstContext=null)}function Fs(t){var e=t._currentValue;if(sP!==t)if(t={context:t,memoizedValue:e,next:null},lh===null){if(ob===null)throw Error(Ue(308));lh=t,ob.dependencies={lanes:0,firstContext:t}}else lh=lh.next=t;return e}var Tf=null;function cP(t){Tf===null?Tf=[t]:Tf.push(t)}function Z8(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,cP(e)):(n.next=i.next,i.next=n),e.interleaved=n,Zl(t,r)}function Zl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Kc=!1;function uP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e7(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function mu(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,sn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Zl(t,n)}return i=r.interleaved,i===null?(e.next=e,cP(r)):(e.next=i.next,i.next=e),r.interleaved=e,Zl(t,n)}function x1(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,YE(t,n)}}function sj(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function lb(t,e,n,r){var i=t.updateQueue;Kc=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,u=c=l=null,o=a;do{var h=o.lane,p=o.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,b=o;switch(h=e,p=n,b.tag){case 1:if(y=b.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=mr({},f,h);break e;case 2:Kc=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Yf|=s,t.lanes=s,t.memoizedState=f}}function oj(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ue(191,i));i.call(r)}}}var uv={},Ko=Du(uv),Xg=Du(uv),Qg=Du(uv);function kf(t){if(t===uv)throw Error(Ue(174));return t}function fP(t,e){switch(Un(Qg,e),Un(Xg,t),Un(Ko,uv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mS(e,t)}Yn(Ko),Un(Ko,e)}function Gh(){Yn(Ko),Yn(Xg),Yn(Qg)}function t7(t){kf(Qg.current);var e=kf(Ko.current),n=mS(e,t.type);e!==n&&(Un(Xg,t),Un(Ko,n))}function dP(t){Xg.current===t&&(Yn(Ko),Yn(Xg))}var lr=Du(0);function cb(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var v5=[];function hP(){for(var t=0;t<v5.length;t++)v5[t]._workInProgressVersionPrimary=null;v5.length=0}var w1=fc.ReactCurrentDispatcher,b5=fc.ReactCurrentBatchConfig,Kf=0,dr=null,Zr=null,fi=null,ub=!1,vg=!1,Jg=0,$K=0;function Mi(){throw Error(Ue(321))}function pP(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ho(t[n],e[n]))return!1;return!0}function mP(t,e,n,r,i,a){if(Kf=a,dr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,w1.current=t===null||t.memoizedState===null?zK:qK,t=n(r,i),vg){a=0;do{if(vg=!1,Jg=0,25<=a)throw Error(Ue(301));a+=1,fi=Zr=null,e.updateQueue=null,w1.current=WK,t=n(r,i)}while(vg)}if(w1.current=fb,e=Zr!==null&&Zr.next!==null,Kf=0,fi=Zr=dr=null,ub=!1,e)throw Error(Ue(300));return t}function gP(){var t=Jg!==0;return Jg=0,t}function $o(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fi===null?dr.memoizedState=fi=t:fi=fi.next=t,fi}function $s(){if(Zr===null){var t=dr.alternate;t=t!==null?t.memoizedState:null}else t=Zr.next;var e=fi===null?dr.memoizedState:fi.next;if(e!==null)fi=e,Zr=t;else{if(t===null)throw Error(Ue(310));Zr=t,t={memoizedState:Zr.memoizedState,baseState:Zr.baseState,baseQueue:Zr.baseQueue,queue:Zr.queue,next:null},fi===null?dr.memoizedState=fi=t:fi=fi.next=t}return fi}function Zg(t,e){return typeof e=="function"?e(t):e}function x5(t){var e=$s(),n=e.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=t;var r=Zr,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((Kf&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,dr.lanes|=u,Yf|=u}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,ho(r,e.memoizedState)||(Sa=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,dr.lanes|=a,Yf|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function w5(t){var e=$s(),n=e.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);ho(a,e.memoizedState)||(Sa=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function n7(){}function r7(t,e){var n=dr,r=$s(),i=e(),a=!ho(r.memoizedState,i);if(a&&(r.memoizedState=i,Sa=!0),r=r.queue,yP(s7.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||fi!==null&&fi.memoizedState.tag&1){if(n.flags|=2048,ey(9,a7.bind(null,n,r,i,e),void 0,null),hi===null)throw Error(Ue(349));Kf&30||i7(n,e,i)}return i}function i7(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=dr.updateQueue,e===null?(e={lastEffect:null,stores:null},dr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function a7(t,e,n,r){e.value=n,e.getSnapshot=r,o7(e)&&l7(t)}function s7(t,e,n){return n(function(){o7(e)&&l7(t)})}function o7(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ho(t,n)}catch{return!0}}function l7(t){var e=Zl(t,1);e!==null&&co(e,t,1,-1)}function lj(t){var e=$o();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zg,lastRenderedState:t},e.queue=t,t=t.dispatch=VK.bind(null,dr,t),[e.memoizedState,t]}function ey(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=dr.updateQueue,e===null?(e={lastEffect:null,stores:null},dr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function c7(){return $s().memoizedState}function _1(t,e,n,r){var i=$o();dr.flags|=t,i.memoizedState=ey(1|e,n,void 0,r===void 0?null:r)}function r2(t,e,n,r){var i=$s();r=r===void 0?null:r;var a=void 0;if(Zr!==null){var s=Zr.memoizedState;if(a=s.destroy,r!==null&&pP(r,s.deps)){i.memoizedState=ey(e,n,a,r);return}}dr.flags|=t,i.memoizedState=ey(1|e,n,a,r)}function cj(t,e){return _1(8390656,8,t,e)}function yP(t,e){return r2(2048,8,t,e)}function u7(t,e){return r2(4,2,t,e)}function f7(t,e){return r2(4,4,t,e)}function d7(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function h7(t,e,n){return n=n!=null?n.concat([t]):null,r2(4,4,d7.bind(null,e,t),n)}function vP(){}function p7(t,e){var n=$s();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pP(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function m7(t,e){var n=$s();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pP(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function g7(t,e,n){return Kf&21?(ho(n,e)||(n=w8(),dr.lanes|=n,Yf|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Sa=!0),t.memoizedState=n)}function BK(t,e){var n=Sn;Sn=n!==0&&4>n?n:4,t(!0);var r=b5.transition;b5.transition={};try{t(!1),e()}finally{Sn=n,b5.transition=r}}function y7(){return $s().memoizedState}function UK(t,e,n){var r=yu(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},v7(t))b7(e,n);else if(n=Z8(t,e,n,r),n!==null){var i=ua();co(n,t,r,i),x7(n,e,r)}}function VK(t,e,n){var r=yu(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(v7(t))b7(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,ho(o,s)){var l=e.interleaved;l===null?(i.next=i,cP(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Z8(t,e,i,r),n!==null&&(i=ua(),co(n,t,r,i),x7(n,e,r))}}function v7(t){var e=t.alternate;return t===dr||e!==null&&e===dr}function b7(t,e){vg=ub=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function x7(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,YE(t,n)}}var fb={readContext:Fs,useCallback:Mi,useContext:Mi,useEffect:Mi,useImperativeHandle:Mi,useInsertionEffect:Mi,useLayoutEffect:Mi,useMemo:Mi,useReducer:Mi,useRef:Mi,useState:Mi,useDebugValue:Mi,useDeferredValue:Mi,useTransition:Mi,useMutableSource:Mi,useSyncExternalStore:Mi,useId:Mi,unstable_isNewReconciler:!1},zK={readContext:Fs,useCallback:function(t,e){return $o().memoizedState=[t,e===void 0?null:e],t},useContext:Fs,useEffect:cj,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_1(4194308,4,d7.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _1(4194308,4,t,e)},useInsertionEffect:function(t,e){return _1(4,2,t,e)},useMemo:function(t,e){var n=$o();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$o();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=UK.bind(null,dr,t),[r.memoizedState,t]},useRef:function(t){var e=$o();return t={current:t},e.memoizedState=t},useState:lj,useDebugValue:vP,useDeferredValue:function(t){return $o().memoizedState=t},useTransition:function(){var t=lj(!1),e=t[0];return t=BK.bind(null,t[1]),$o().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=dr,i=$o();if(tr){if(n===void 0)throw Error(Ue(407));n=n()}else{if(n=e(),hi===null)throw Error(Ue(349));Kf&30||i7(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,cj(s7.bind(null,r,a,t),[t]),r.flags|=2048,ey(9,a7.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=$o(),e=hi.identifierPrefix;if(tr){var n=Ml,r=Ll;n=(r&~(1<<32-lo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Jg++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$K++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qK={readContext:Fs,useCallback:p7,useContext:Fs,useEffect:yP,useImperativeHandle:h7,useInsertionEffect:u7,useLayoutEffect:f7,useMemo:m7,useReducer:x5,useRef:c7,useState:function(){return x5(Zg)},useDebugValue:vP,useDeferredValue:function(t){var e=$s();return g7(e,Zr.memoizedState,t)},useTransition:function(){var t=x5(Zg)[0],e=$s().memoizedState;return[t,e]},useMutableSource:n7,useSyncExternalStore:r7,useId:y7,unstable_isNewReconciler:!1},WK={readContext:Fs,useCallback:p7,useContext:Fs,useEffect:yP,useImperativeHandle:h7,useInsertionEffect:u7,useLayoutEffect:f7,useMemo:m7,useReducer:w5,useRef:c7,useState:function(){return w5(Zg)},useDebugValue:vP,useDeferredValue:function(t){var e=$s();return Zr===null?e.memoizedState=t:g7(e,Zr.memoizedState,t)},useTransition:function(){var t=w5(Zg)[0],e=$s().memoizedState;return[t,e]},useMutableSource:n7,useSyncExternalStore:r7,useId:y7,unstable_isNewReconciler:!1};function no(t,e){if(t&&t.defaultProps){e=mr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function MS(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:mr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var i2={isMounted:function(t){return(t=t._reactInternals)?pd(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ua(),i=yu(t),a=zl(r,i);a.payload=e,n!=null&&(a.callback=n),e=mu(t,a,i),e!==null&&(co(e,t,i,r),x1(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ua(),i=yu(t),a=zl(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=mu(t,a,i),e!==null&&(co(e,t,i,r),x1(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ua(),r=yu(t),i=zl(n,r);i.tag=2,e!=null&&(i.callback=e),e=mu(t,i,r),e!==null&&(co(e,t,r,n),x1(e,t,r))}};function uj(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Hg(n,r)||!Hg(i,a):!0}function w7(t,e,n){var r=!1,i=Pu,a=e.contextType;return typeof a=="object"&&a!==null?a=Fs(a):(i=Ea(e)?Hf:Zi.current,r=e.contextTypes,a=(r=r!=null)?qh(t,i):Pu),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=i2,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function fj(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&i2.enqueueReplaceState(e,e.state,null)}function DS(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},uP(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Fs(a):(a=Ea(e)?Hf:Zi.current,i.context=qh(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(MS(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&i2.enqueueReplaceState(i,i.state,null),lb(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Kh(t,e){try{var n="",r=e;do n+=bG(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function _5(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function FS(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var HK=typeof WeakMap=="function"?WeakMap:Map;function _7(t,e,n){n=zl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hb||(hb=!0,KS=r),FS(t,e)},n}function S7(t,e,n){n=zl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){FS(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){FS(t,e),typeof r!="function"&&(gu===null?gu=new Set([this]):gu.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function dj(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new HK;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=sY.bind(null,t,e,n),e.then(t,t))}function hj(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function pj(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zl(-1,1),e.tag=2,mu(n,e,1))),n.lanes|=1),t)}var GK=fc.ReactCurrentOwner,Sa=!1;function oa(t,e,n,r){e.child=t===null?J8(e,null,n,r):Hh(e,t.child,n,r)}function mj(t,e,n,r,i){n=n.render;var a=e.ref;return Nh(e,i),r=mP(t,e,n,r,a,i),n=gP(),t!==null&&!Sa?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ec(t,e,i)):(tr&&n&&rP(e),e.flags|=1,oa(t,e,r,i),e.child)}function gj(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!EP(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,A7(t,e,a,r,i)):(t=E1(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Hg,n(s,r)&&t.ref===e.ref)return ec(t,e,i)}return e.flags|=1,t=vu(a,r),t.ref=e.ref,t.return=e,e.child=t}function A7(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Hg(a,r)&&t.ref===e.ref)if(Sa=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Sa=!0);else return e.lanes=t.lanes,ec(t,e,i)}return $S(t,e,n,r,i)}function N7(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Un(uh,Ha),Ha|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Un(uh,Ha),Ha|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Un(uh,Ha),Ha|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Un(uh,Ha),Ha|=r;return oa(t,e,i,n),e.child}function E7(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $S(t,e,n,r,i){var a=Ea(n)?Hf:Zi.current;return a=qh(e,a),Nh(e,i),n=mP(t,e,n,r,a,i),r=gP(),t!==null&&!Sa?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ec(t,e,i)):(tr&&r&&rP(e),e.flags|=1,oa(t,e,n,i),e.child)}function yj(t,e,n,r,i){if(Ea(n)){var a=!0;rb(e)}else a=!1;if(Nh(e,i),e.stateNode===null)S1(t,e),w7(e,n,r),DS(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Fs(c):(c=Ea(n)?Hf:Zi.current,c=qh(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&fj(e,s,r,c),Kc=!1;var h=e.memoizedState;s.state=h,lb(e,r,s,i),l=e.memoizedState,o!==r||h!==l||Na.current||Kc?(typeof u=="function"&&(MS(e,n,u,r),l=e.memoizedState),(o=Kc||uj(e,n,o,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,e7(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:no(e.type,o),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Fs(l):(l=Ea(n)?Hf:Zi.current,l=qh(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&fj(e,s,r,l),Kc=!1,h=e.memoizedState,s.state=h,lb(e,r,s,i);var y=e.memoizedState;o!==f||h!==y||Na.current||Kc?(typeof p=="function"&&(MS(e,n,p,r),y=e.memoizedState),(c=Kc||uj(e,n,c,r,h,y,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return BS(t,e,n,r,a,i)}function BS(t,e,n,r,i,a){E7(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&nj(e,n,!1),ec(t,e,a);r=e.stateNode,GK.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Hh(e,t.child,null,a),e.child=Hh(e,null,o,a)):oa(t,e,o,a),e.memoizedState=r.state,i&&nj(e,n,!0),e.child}function P7(t){var e=t.stateNode;e.pendingContext?tj(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tj(t,e.context,!1),fP(t,e.containerInfo)}function vj(t,e,n,r,i){return Wh(),aP(i),e.flags|=256,oa(t,e,n,r),e.child}var US={dehydrated:null,treeContext:null,retryLane:0};function VS(t){return{baseLanes:t,cachePool:null,transitions:null}}function T7(t,e,n){var r=e.pendingProps,i=lr.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Un(lr,i&1),t===null)return RS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=o2(s,r,0,null),t=$f(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=VS(n),e.memoizedState=US,t):bP(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return KK(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=vu(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=vu(o,a):(a=$f(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?VS(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=US,r}return a=t.child,t=a.sibling,r=vu(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function bP(t,e){return e=o2({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function E0(t,e,n,r){return r!==null&&aP(r),Hh(e,t.child,null,n),t=bP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function KK(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=_5(Error(Ue(422))),E0(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=o2({mode:"visible",children:r.children},i,0,null),a=$f(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Hh(e,t.child,null,s),e.child.memoizedState=VS(s),e.memoizedState=US,a);if(!(e.mode&1))return E0(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(Ue(419)),r=_5(a,r,void 0),E0(t,e,s,r)}if(o=(s&t.childLanes)!==0,Sa||o){if(r=hi,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Zl(t,i),co(r,t,i,-1))}return NP(),r=_5(Error(Ue(421))),E0(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=oY.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Ya=pu(i.nextSibling),Za=e,tr=!0,ao=null,t!==null&&(ks[js++]=Ll,ks[js++]=Ml,ks[js++]=Gf,Ll=t.id,Ml=t.overflow,Gf=e),e=bP(e,r.children),e.flags|=4096,e)}function bj(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),LS(t.return,e,n)}function S5(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function k7(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(oa(t,e,r.children,n),r=lr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bj(t,n,e);else if(t.tag===19)bj(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Un(lr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&cb(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),S5(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&cb(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}S5(e,!0,n,null,a);break;case"together":S5(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function S1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ec(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Yf|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ue(153));if(e.child!==null){for(t=e.child,n=vu(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vu(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function YK(t,e,n){switch(e.tag){case 3:P7(e),Wh();break;case 5:t7(e);break;case 1:Ea(e.type)&&rb(e);break;case 4:fP(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Un(sb,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Un(lr,lr.current&1),e.flags|=128,null):n&e.child.childLanes?T7(t,e,n):(Un(lr,lr.current&1),t=ec(t,e,n),t!==null?t.sibling:null);Un(lr,lr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return k7(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Un(lr,lr.current),r)break;return null;case 22:case 23:return e.lanes=0,N7(t,e,n)}return ec(t,e,n)}var j7,zS,C7,I7;j7=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zS=function(){};C7=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,kf(Ko.current);var a=null;switch(n){case"input":i=fS(t,i),r=fS(t,r),a=[];break;case"select":i=mr({},i,{value:void 0}),r=mr({},r,{value:void 0}),a=[];break;case"textarea":i=pS(t,i),r=pS(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=tb)}gS(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&($g.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&($g.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Wn("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};I7=function(t,e,n,r){n!==r&&(e.flags|=4)};function Om(t,e){if(!tr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Di(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function XK(t,e,n){var r=e.pendingProps;switch(iP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Di(e),null;case 1:return Ea(e.type)&&nb(),Di(e),null;case 3:return r=e.stateNode,Gh(),Yn(Na),Yn(Zi),hP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(A0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ao!==null&&(QS(ao),ao=null))),zS(t,e),Di(e),null;case 5:dP(e);var i=kf(Qg.current);if(n=e.type,t!==null&&e.stateNode!=null)C7(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ue(166));return Di(e),null}if(t=kf(Ko.current),A0(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Uo]=e,r[Yg]=a,t=(e.mode&1)!==0,n){case"dialog":Wn("cancel",r),Wn("close",r);break;case"iframe":case"object":case"embed":Wn("load",r);break;case"video":case"audio":for(i=0;i<ng.length;i++)Wn(ng[i],r);break;case"source":Wn("error",r);break;case"img":case"image":case"link":Wn("error",r),Wn("load",r);break;case"details":Wn("toggle",r);break;case"input":T3(r,a),Wn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Wn("invalid",r);break;case"textarea":j3(r,a),Wn("invalid",r)}gS(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&S0(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&S0(r.textContent,o,t),i=["children",""+o]):$g.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Wn("scroll",r)}switch(n){case"input":m0(r),k3(r,a,!0);break;case"textarea":m0(r),C3(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=tb)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=s8(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Uo]=e,t[Yg]=r,j7(t,e,!1,!1),e.stateNode=t;e:{switch(s=yS(n,r),n){case"dialog":Wn("cancel",t),Wn("close",t),i=r;break;case"iframe":case"object":case"embed":Wn("load",t),i=r;break;case"video":case"audio":for(i=0;i<ng.length;i++)Wn(ng[i],t);i=r;break;case"source":Wn("error",t),i=r;break;case"img":case"image":case"link":Wn("error",t),Wn("load",t),i=r;break;case"details":Wn("toggle",t),i=r;break;case"input":T3(t,r),i=fS(t,r),Wn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=mr({},r,{value:void 0}),Wn("invalid",t);break;case"textarea":j3(t,r),i=pS(t,r),Wn("invalid",t);break;default:i=r}gS(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?c8(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&o8(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Bg(t,l):typeof l=="number"&&Bg(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&($g.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Wn("scroll",t):l!=null&&zE(t,a,l,s))}switch(n){case"input":m0(t),k3(t,r,!1);break;case"textarea":m0(t),C3(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Eu(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?wh(t,!!r.multiple,a,!1):r.defaultValue!=null&&wh(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=tb)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Di(e),null;case 6:if(t&&e.stateNode!=null)I7(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ue(166));if(n=kf(Qg.current),kf(Ko.current),A0(e)){if(r=e.stateNode,n=e.memoizedProps,r[Uo]=e,(a=r.nodeValue!==n)&&(t=Za,t!==null))switch(t.tag){case 3:S0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&S0(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Uo]=e,e.stateNode=r}return Di(e),null;case 13:if(Yn(lr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tr&&Ya!==null&&e.mode&1&&!(e.flags&128))X8(),Wh(),e.flags|=98560,a=!1;else if(a=A0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(Ue(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ue(317));a[Uo]=e}else Wh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Di(e),a=!1}else ao!==null&&(QS(ao),ao=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||lr.current&1?ti===0&&(ti=3):NP())),e.updateQueue!==null&&(e.flags|=4),Di(e),null);case 4:return Gh(),zS(t,e),t===null&&Gg(e.stateNode.containerInfo),Di(e),null;case 10:return lP(e.type._context),Di(e),null;case 17:return Ea(e.type)&&nb(),Di(e),null;case 19:if(Yn(lr),a=e.memoizedState,a===null)return Di(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)Om(a,!1);else{if(ti!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=cb(t),s!==null){for(e.flags|=128,Om(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Un(lr,lr.current&1|2),e.child}t=t.sibling}a.tail!==null&&Mr()>Yh&&(e.flags|=128,r=!0,Om(a,!1),e.lanes=4194304)}else{if(!r)if(t=cb(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Om(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!tr)return Di(e),null}else 2*Mr()-a.renderingStartTime>Yh&&n!==1073741824&&(e.flags|=128,r=!0,Om(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Mr(),e.sibling=null,n=lr.current,Un(lr,r?n&1|2:n&1),e):(Di(e),null);case 22:case 23:return AP(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ha&1073741824&&(Di(e),e.subtreeFlags&6&&(e.flags|=8192)):Di(e),null;case 24:return null;case 25:return null}throw Error(Ue(156,e.tag))}function QK(t,e){switch(iP(e),e.tag){case 1:return Ea(e.type)&&nb(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gh(),Yn(Na),Yn(Zi),hP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dP(e),null;case 13:if(Yn(lr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ue(340));Wh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Yn(lr),null;case 4:return Gh(),null;case 10:return lP(e.type._context),null;case 22:case 23:return AP(),null;case 24:return null;default:return null}}var P0=!1,Hi=!1,JK=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function ch(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ar(t,e,r)}else n.current=null}function qS(t,e,n){try{n()}catch(r){Ar(t,e,r)}}var xj=!1;function ZK(t,e){if(PS=J1,t=D8(),nP(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++c===i&&(o=s),h===a&&++u===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(TS={focusedElem:t,selectionRange:n},J1=!1,Xe=e;Xe!==null;)if(e=Xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Xe=t;else for(;Xe!==null;){e=Xe;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,x=y.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?b:no(e.type,b),x);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(A){Ar(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Xe=t;break}Xe=e.return}return y=xj,xj=!1,y}function bg(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&qS(e,n,a)}i=i.next}while(i!==r)}}function a2(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function WS(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function O7(t){var e=t.alternate;e!==null&&(t.alternate=null,O7(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Uo],delete e[Yg],delete e[CS],delete e[LK],delete e[MK])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function R7(t){return t.tag===5||t.tag===3||t.tag===4}function wj(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R7(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function HS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=tb));else if(r!==4&&(t=t.child,t!==null))for(HS(t,e,n),t=t.sibling;t!==null;)HS(t,e,n),t=t.sibling}function GS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(GS(t,e,n),t=t.sibling;t!==null;)GS(t,e,n),t=t.sibling}var wi=null,ro=!1;function Bc(t,e,n){for(n=n.child;n!==null;)L7(t,e,n),n=n.sibling}function L7(t,e,n){if(Go&&typeof Go.onCommitFiberUnmount=="function")try{Go.onCommitFiberUnmount(Qx,n)}catch{}switch(n.tag){case 5:Hi||ch(n,e);case 6:var r=wi,i=ro;wi=null,Bc(t,e,n),wi=r,ro=i,wi!==null&&(ro?(t=wi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):wi.removeChild(n.stateNode));break;case 18:wi!==null&&(ro?(t=wi,n=n.stateNode,t.nodeType===8?g5(t.parentNode,n):t.nodeType===1&&g5(t,n),qg(t)):g5(wi,n.stateNode));break;case 4:r=wi,i=ro,wi=n.stateNode.containerInfo,ro=!0,Bc(t,e,n),wi=r,ro=i;break;case 0:case 11:case 14:case 15:if(!Hi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&qS(n,e,s),i=i.next}while(i!==r)}Bc(t,e,n);break;case 1:if(!Hi&&(ch(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ar(n,e,o)}Bc(t,e,n);break;case 21:Bc(t,e,n);break;case 22:n.mode&1?(Hi=(r=Hi)||n.memoizedState!==null,Bc(t,e,n),Hi=r):Bc(t,e,n);break;default:Bc(t,e,n)}}function _j(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new JK),e.forEach(function(r){var i=lY.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Js(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:wi=o.stateNode,ro=!1;break e;case 3:wi=o.stateNode.containerInfo,ro=!0;break e;case 4:wi=o.stateNode.containerInfo,ro=!0;break e}o=o.return}if(wi===null)throw Error(Ue(160));L7(a,s,i),wi=null,ro=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ar(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)M7(e,t),e=e.sibling}function M7(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Js(e,t),Lo(t),r&4){try{bg(3,t,t.return),a2(3,t)}catch(b){Ar(t,t.return,b)}try{bg(5,t,t.return)}catch(b){Ar(t,t.return,b)}}break;case 1:Js(e,t),Lo(t),r&512&&n!==null&&ch(n,n.return);break;case 5:if(Js(e,t),Lo(t),r&512&&n!==null&&ch(n,n.return),t.flags&32){var i=t.stateNode;try{Bg(i,"")}catch(b){Ar(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&i8(i,a),yS(o,s);var c=yS(o,a);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?c8(i,f):u==="dangerouslySetInnerHTML"?o8(i,f):u==="children"?Bg(i,f):zE(i,u,f,c)}switch(o){case"input":dS(i,a);break;case"textarea":a8(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?wh(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?wh(i,!!a.multiple,a.defaultValue,!0):wh(i,!!a.multiple,a.multiple?[]:"",!1))}i[Yg]=a}catch(b){Ar(t,t.return,b)}}break;case 6:if(Js(e,t),Lo(t),r&4){if(t.stateNode===null)throw Error(Ue(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(b){Ar(t,t.return,b)}}break;case 3:if(Js(e,t),Lo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qg(e.containerInfo)}catch(b){Ar(t,t.return,b)}break;case 4:Js(e,t),Lo(t);break;case 13:Js(e,t),Lo(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(_P=Mr())),r&4&&_j(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Hi=(c=Hi)||u,Js(e,t),Hi=c):Js(e,t),Lo(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Xe=t,u=t.child;u!==null;){for(f=Xe=u;Xe!==null;){switch(h=Xe,p=h.child,h.tag){case 0:case 11:case 14:case 15:bg(4,h,h.return);break;case 1:ch(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(b){Ar(r,n,b)}}break;case 5:ch(h,h.return);break;case 22:if(h.memoizedState!==null){Aj(f);continue}}p!==null?(p.return=h,Xe=p):Aj(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=l8("display",s))}catch(b){Ar(t,t.return,b)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(b){Ar(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Js(e,t),Lo(t),r&4&&_j(t);break;case 21:break;default:Js(e,t),Lo(t)}}function Lo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(R7(n)){var r=n;break e}n=n.return}throw Error(Ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Bg(i,""),r.flags&=-33);var a=wj(t);GS(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=wj(t);HS(t,o,s);break;default:throw Error(Ue(161))}}catch(l){Ar(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eY(t,e,n){Xe=t,D7(t)}function D7(t,e,n){for(var r=(t.mode&1)!==0;Xe!==null;){var i=Xe,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||P0;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Hi;o=P0;var c=Hi;if(P0=s,(Hi=l)&&!c)for(Xe=i;Xe!==null;)s=Xe,l=s.child,s.tag===22&&s.memoizedState!==null?Nj(i):l!==null?(l.return=s,Xe=l):Nj(i);for(;a!==null;)Xe=a,D7(a),a=a.sibling;Xe=i,P0=o,Hi=c}Sj(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Xe=a):Sj(t)}}function Sj(t){for(;Xe!==null;){var e=Xe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Hi||a2(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Hi)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:no(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&oj(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}oj(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&qg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}Hi||e.flags&512&&WS(e)}catch(h){Ar(e,e.return,h)}}if(e===t){Xe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Xe=n;break}Xe=e.return}}function Aj(t){for(;Xe!==null;){var e=Xe;if(e===t){Xe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Xe=n;break}Xe=e.return}}function Nj(t){for(;Xe!==null;){var e=Xe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{a2(4,e)}catch(l){Ar(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ar(e,i,l)}}var a=e.return;try{WS(e)}catch(l){Ar(e,a,l)}break;case 5:var s=e.return;try{WS(e)}catch(l){Ar(e,s,l)}}}catch(l){Ar(e,e.return,l)}if(e===t){Xe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Xe=o;break}Xe=e.return}}var tY=Math.ceil,db=fc.ReactCurrentDispatcher,xP=fc.ReactCurrentOwner,Rs=fc.ReactCurrentBatchConfig,sn=0,hi=null,zr=null,Ei=0,Ha=0,uh=Du(0),ti=0,ty=null,Yf=0,s2=0,wP=0,xg=null,wa=null,_P=0,Yh=1/0,Il=null,hb=!1,KS=null,gu=null,T0=!1,au=null,pb=0,wg=0,YS=null,A1=-1,N1=0;function ua(){return sn&6?Mr():A1!==-1?A1:A1=Mr()}function yu(t){return t.mode&1?sn&2&&Ei!==0?Ei&-Ei:FK.transition!==null?(N1===0&&(N1=w8()),N1):(t=Sn,t!==0||(t=window.event,t=t===void 0?16:T8(t.type)),t):1}function co(t,e,n,r){if(50<wg)throw wg=0,YS=null,Error(Ue(185));ov(t,n,r),(!(sn&2)||t!==hi)&&(t===hi&&(!(sn&2)&&(s2|=n),ti===4&&Qc(t,Ei)),Pa(t,r),n===1&&sn===0&&!(e.mode&1)&&(Yh=Mr()+500,n2&&Fu()))}function Pa(t,e){var n=t.callbackNode;FG(t,e);var r=Q1(t,t===hi?Ei:0);if(r===0)n!==null&&R3(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&R3(n),e===1)t.tag===0?DK(Ej.bind(null,t)):G8(Ej.bind(null,t)),OK(function(){!(sn&6)&&Fu()}),n=null;else{switch(_8(r)){case 1:n=KE;break;case 4:n=b8;break;case 16:n=X1;break;case 536870912:n=x8;break;default:n=X1}n=W7(n,F7.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function F7(t,e){if(A1=-1,N1=0,sn&6)throw Error(Ue(327));var n=t.callbackNode;if(Eh()&&t.callbackNode!==n)return null;var r=Q1(t,t===hi?Ei:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=mb(t,r);else{e=r;var i=sn;sn|=2;var a=B7();(hi!==t||Ei!==e)&&(Il=null,Yh=Mr()+500,Ff(t,e));do try{iY();break}catch(o){$7(t,o)}while(!0);oP(),db.current=a,sn=i,zr!==null?e=0:(hi=null,Ei=0,e=ti)}if(e!==0){if(e===2&&(i=_S(t),i!==0&&(r=i,e=XS(t,i))),e===1)throw n=ty,Ff(t,0),Qc(t,r),Pa(t,Mr()),n;if(e===6)Qc(t,r);else{if(i=t.current.alternate,!(r&30)&&!nY(i)&&(e=mb(t,r),e===2&&(a=_S(t),a!==0&&(r=a,e=XS(t,a))),e===1))throw n=ty,Ff(t,0),Qc(t,r),Pa(t,Mr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ue(345));case 2:yf(t,wa,Il);break;case 3:if(Qc(t,r),(r&130023424)===r&&(e=_P+500-Mr(),10<e)){if(Q1(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ua(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=jS(yf.bind(null,t,wa,Il),e);break}yf(t,wa,Il);break;case 4:if(Qc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-lo(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=Mr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tY(r/1960))-r,10<r){t.timeoutHandle=jS(yf.bind(null,t,wa,Il),r);break}yf(t,wa,Il);break;case 5:yf(t,wa,Il);break;default:throw Error(Ue(329))}}}return Pa(t,Mr()),t.callbackNode===n?F7.bind(null,t):null}function XS(t,e){var n=xg;return t.current.memoizedState.isDehydrated&&(Ff(t,e).flags|=256),t=mb(t,e),t!==2&&(e=wa,wa=n,e!==null&&QS(e)),t}function QS(t){wa===null?wa=t:wa.push.apply(wa,t)}function nY(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ho(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qc(t,e){for(e&=~wP,e&=~s2,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-lo(e),r=1<<n;t[n]=-1,e&=~r}}function Ej(t){if(sn&6)throw Error(Ue(327));Eh();var e=Q1(t,0);if(!(e&1))return Pa(t,Mr()),null;var n=mb(t,e);if(t.tag!==0&&n===2){var r=_S(t);r!==0&&(e=r,n=XS(t,r))}if(n===1)throw n=ty,Ff(t,0),Qc(t,e),Pa(t,Mr()),n;if(n===6)throw Error(Ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yf(t,wa,Il),Pa(t,Mr()),null}function SP(t,e){var n=sn;sn|=1;try{return t(e)}finally{sn=n,sn===0&&(Yh=Mr()+500,n2&&Fu())}}function Xf(t){au!==null&&au.tag===0&&!(sn&6)&&Eh();var e=sn;sn|=1;var n=Rs.transition,r=Sn;try{if(Rs.transition=null,Sn=1,t)return t()}finally{Sn=r,Rs.transition=n,sn=e,!(sn&6)&&Fu()}}function AP(){Ha=uh.current,Yn(uh)}function Ff(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,IK(n)),zr!==null)for(n=zr.return;n!==null;){var r=n;switch(iP(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nb();break;case 3:Gh(),Yn(Na),Yn(Zi),hP();break;case 5:dP(r);break;case 4:Gh();break;case 13:Yn(lr);break;case 19:Yn(lr);break;case 10:lP(r.type._context);break;case 22:case 23:AP()}n=n.return}if(hi=t,zr=t=vu(t.current,null),Ei=Ha=e,ti=0,ty=null,wP=s2=Yf=0,wa=xg=null,Tf!==null){for(e=0;e<Tf.length;e++)if(n=Tf[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Tf=null}return t}function $7(t,e){do{var n=zr;try{if(oP(),w1.current=fb,ub){for(var r=dr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ub=!1}if(Kf=0,fi=Zr=dr=null,vg=!1,Jg=0,xP.current=null,n===null||n.return===null){ti=1,ty=e,zr=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=Ei,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=hj(s);if(p!==null){p.flags&=-257,pj(p,s,o,a,e),p.mode&1&&dj(a,c,e),e=p,l=c;var y=e.updateQueue;if(y===null){var b=new Set;b.add(l),e.updateQueue=b}else y.add(l);break e}else{if(!(e&1)){dj(a,c,e),NP();break e}l=Error(Ue(426))}}else if(tr&&o.mode&1){var x=hj(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),pj(x,s,o,a,e),aP(Kh(l,o));break e}}a=l=Kh(l,o),ti!==4&&(ti=2),xg===null?xg=[a]:xg.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=_7(a,l,e);sj(a,v);break e;case 1:o=l;var w=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(gu===null||!gu.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e;var A=S7(a,o,e);sj(a,A);break e}}a=a.return}while(a!==null)}V7(n)}catch(E){e=E,zr===n&&n!==null&&(zr=n=n.return);continue}break}while(!0)}function B7(){var t=db.current;return db.current=fb,t===null?fb:t}function NP(){(ti===0||ti===3||ti===2)&&(ti=4),hi===null||!(Yf&268435455)&&!(s2&268435455)||Qc(hi,Ei)}function mb(t,e){var n=sn;sn|=2;var r=B7();(hi!==t||Ei!==e)&&(Il=null,Ff(t,e));do try{rY();break}catch(i){$7(t,i)}while(!0);if(oP(),sn=n,db.current=r,zr!==null)throw Error(Ue(261));return hi=null,Ei=0,ti}function rY(){for(;zr!==null;)U7(zr)}function iY(){for(;zr!==null&&!kG();)U7(zr)}function U7(t){var e=q7(t.alternate,t,Ha);t.memoizedProps=t.pendingProps,e===null?V7(t):zr=e,xP.current=null}function V7(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=QK(n,e),n!==null){n.flags&=32767,zr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ti=6,zr=null;return}}else if(n=XK(n,e,Ha),n!==null){zr=n;return}if(e=e.sibling,e!==null){zr=e;return}zr=e=t}while(e!==null);ti===0&&(ti=5)}function yf(t,e,n){var r=Sn,i=Rs.transition;try{Rs.transition=null,Sn=1,aY(t,e,n,r)}finally{Rs.transition=i,Sn=r}return null}function aY(t,e,n,r){do Eh();while(au!==null);if(sn&6)throw Error(Ue(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ue(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if($G(t,a),t===hi&&(zr=hi=null,Ei=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||T0||(T0=!0,W7(X1,function(){return Eh(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Rs.transition,Rs.transition=null;var s=Sn;Sn=1;var o=sn;sn|=4,xP.current=null,ZK(t,n),M7(n,t),NK(TS),J1=!!PS,TS=PS=null,t.current=n,eY(n),jG(),sn=o,Sn=s,Rs.transition=a}else t.current=n;if(T0&&(T0=!1,au=t,pb=i),a=t.pendingLanes,a===0&&(gu=null),OG(n.stateNode),Pa(t,Mr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hb)throw hb=!1,t=KS,KS=null,t;return pb&1&&t.tag!==0&&Eh(),a=t.pendingLanes,a&1?t===YS?wg++:(wg=0,YS=t):wg=0,Fu(),null}function Eh(){if(au!==null){var t=_8(pb),e=Rs.transition,n=Sn;try{if(Rs.transition=null,Sn=16>t?16:t,au===null)var r=!1;else{if(t=au,au=null,pb=0,sn&6)throw Error(Ue(331));var i=sn;for(sn|=4,Xe=t.current;Xe!==null;){var a=Xe,s=a.child;if(Xe.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Xe=c;Xe!==null;){var u=Xe;switch(u.tag){case 0:case 11:case 15:bg(8,u,a)}var f=u.child;if(f!==null)f.return=u,Xe=f;else for(;Xe!==null;){u=Xe;var h=u.sibling,p=u.return;if(O7(u),u===c){Xe=null;break}if(h!==null){h.return=p,Xe=h;break}Xe=p}}}var y=a.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}Xe=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Xe=s;else e:for(;Xe!==null;){if(a=Xe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:bg(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,Xe=v;break e}Xe=a.return}}var w=t.current;for(Xe=w;Xe!==null;){s=Xe;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,Xe=_;else e:for(s=w;Xe!==null;){if(o=Xe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:a2(9,o)}}catch(E){Ar(o,o.return,E)}if(o===s){Xe=null;break e}var A=o.sibling;if(A!==null){A.return=o.return,Xe=A;break e}Xe=o.return}}if(sn=i,Fu(),Go&&typeof Go.onPostCommitFiberRoot=="function")try{Go.onPostCommitFiberRoot(Qx,t)}catch{}r=!0}return r}finally{Sn=n,Rs.transition=e}}return!1}function Pj(t,e,n){e=Kh(n,e),e=_7(t,e,1),t=mu(t,e,1),e=ua(),t!==null&&(ov(t,1,e),Pa(t,e))}function Ar(t,e,n){if(t.tag===3)Pj(t,t,n);else for(;e!==null;){if(e.tag===3){Pj(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gu===null||!gu.has(r))){t=Kh(n,t),t=S7(e,t,1),e=mu(e,t,1),t=ua(),e!==null&&(ov(e,1,t),Pa(e,t));break}}e=e.return}}function sY(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ua(),t.pingedLanes|=t.suspendedLanes&n,hi===t&&(Ei&n)===n&&(ti===4||ti===3&&(Ei&130023424)===Ei&&500>Mr()-_P?Ff(t,0):wP|=n),Pa(t,e)}function z7(t,e){e===0&&(t.mode&1?(e=v0,v0<<=1,!(v0&130023424)&&(v0=4194304)):e=1);var n=ua();t=Zl(t,e),t!==null&&(ov(t,e,n),Pa(t,n))}function oY(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),z7(t,n)}function lY(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ue(314))}r!==null&&r.delete(e),z7(t,n)}var q7;q7=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Na.current)Sa=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Sa=!1,YK(t,e,n);Sa=!!(t.flags&131072)}else Sa=!1,tr&&e.flags&1048576&&K8(e,ab,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;S1(t,e),t=e.pendingProps;var i=qh(e,Zi.current);Nh(e,n),i=mP(null,e,r,t,i,n);var a=gP();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ea(r)?(a=!0,rb(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,uP(e),i.updater=i2,e.stateNode=i,i._reactInternals=e,DS(e,r,t,n),e=BS(null,e,r,!0,a,n)):(e.tag=0,tr&&a&&rP(e),oa(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(S1(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=uY(r),t=no(r,t),i){case 0:e=$S(null,e,r,t,n);break e;case 1:e=yj(null,e,r,t,n);break e;case 11:e=mj(null,e,r,t,n);break e;case 14:e=gj(null,e,r,no(r.type,t),n);break e}throw Error(Ue(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:no(r,i),$S(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:no(r,i),yj(t,e,r,i,n);case 3:e:{if(P7(e),t===null)throw Error(Ue(387));r=e.pendingProps,a=e.memoizedState,i=a.element,e7(t,e),lb(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Kh(Error(Ue(423)),e),e=vj(t,e,r,n,i);break e}else if(r!==i){i=Kh(Error(Ue(424)),e),e=vj(t,e,r,n,i);break e}else for(Ya=pu(e.stateNode.containerInfo.firstChild),Za=e,tr=!0,ao=null,n=J8(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wh(),r===i){e=ec(t,e,n);break e}oa(t,e,r,n)}e=e.child}return e;case 5:return t7(e),t===null&&RS(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,kS(r,i)?s=null:a!==null&&kS(r,a)&&(e.flags|=32),E7(t,e),oa(t,e,s,n),e.child;case 6:return t===null&&RS(e),null;case 13:return T7(t,e,n);case 4:return fP(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hh(e,null,r,n):oa(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:no(r,i),mj(t,e,r,i,n);case 7:return oa(t,e,e.pendingProps,n),e.child;case 8:return oa(t,e,e.pendingProps.children,n),e.child;case 12:return oa(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Un(sb,r._currentValue),r._currentValue=s,a!==null)if(ho(a.value,s)){if(a.children===i.children&&!Na.current){e=ec(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=zl(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),LS(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Ue(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),LS(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}oa(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Nh(e,n),i=Fs(i),r=r(i),e.flags|=1,oa(t,e,r,n),e.child;case 14:return r=e.type,i=no(r,e.pendingProps),i=no(r.type,i),gj(t,e,r,i,n);case 15:return A7(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:no(r,i),S1(t,e),e.tag=1,Ea(r)?(t=!0,rb(e)):t=!1,Nh(e,n),w7(e,r,i),DS(e,r,i,n),BS(null,e,r,!0,t,n);case 19:return k7(t,e,n);case 22:return N7(t,e,n)}throw Error(Ue(156,e.tag))};function W7(t,e){return v8(t,e)}function cY(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Is(t,e,n,r){return new cY(t,e,n,r)}function EP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uY(t){if(typeof t=="function")return EP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===WE)return 11;if(t===HE)return 14}return 2}function vu(t,e){var n=t.alternate;return n===null?(n=Is(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function E1(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")EP(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case eh:return $f(n.children,i,a,e);case qE:s=8,i|=8;break;case oS:return t=Is(12,n,e,i|2),t.elementType=oS,t.lanes=a,t;case lS:return t=Is(13,n,e,i),t.elementType=lS,t.lanes=a,t;case cS:return t=Is(19,n,e,i),t.elementType=cS,t.lanes=a,t;case t8:return o2(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ZD:s=10;break e;case e8:s=9;break e;case WE:s=11;break e;case HE:s=14;break e;case Gc:s=16,r=null;break e}throw Error(Ue(130,t==null?t:typeof t,""))}return e=Is(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function $f(t,e,n,r){return t=Is(7,t,r,e),t.lanes=n,t}function o2(t,e,n,r){return t=Is(22,t,r,e),t.elementType=t8,t.lanes=n,t.stateNode={isHidden:!1},t}function A5(t,e,n){return t=Is(6,t,null,e),t.lanes=n,t}function N5(t,e,n){return e=Is(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fY(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=a5(0),this.expirationTimes=a5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=a5(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function PP(t,e,n,r,i,a,s,o,l){return t=new fY(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Is(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uP(a),t}function dY(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function H7(t){if(!t)return Pu;t=t._reactInternals;e:{if(pd(t)!==t||t.tag!==1)throw Error(Ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ea(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ue(171))}if(t.tag===1){var n=t.type;if(Ea(n))return H8(t,n,e)}return e}function G7(t,e,n,r,i,a,s,o,l){return t=PP(n,r,!0,t,i,a,s,o,l),t.context=H7(null),n=t.current,r=ua(),i=yu(n),a=zl(r,i),a.callback=e??null,mu(n,a,i),t.current.lanes=i,ov(t,i,r),Pa(t,r),t}function l2(t,e,n,r){var i=e.current,a=ua(),s=yu(i);return n=H7(n),e.context===null?e.context=n:e.pendingContext=n,e=zl(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=mu(i,e,s),t!==null&&(co(t,i,s,a),x1(t,i,s)),s}function gb(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Tj(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function TP(t,e){Tj(t,e),(t=t.alternate)&&Tj(t,e)}function hY(){return null}var K7=typeof reportError=="function"?reportError:function(t){console.error(t)};function kP(t){this._internalRoot=t}c2.prototype.render=kP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ue(409));l2(t,e,null,null)};c2.prototype.unmount=kP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xf(function(){l2(null,t,null,null)}),e[Jl]=null}};function c2(t){this._internalRoot=t}c2.prototype.unstable_scheduleHydration=function(t){if(t){var e=N8();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xc.length&&e!==0&&e<Xc[n].priority;n++);Xc.splice(n,0,t),n===0&&P8(t)}};function jP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kj(){}function pY(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=gb(s);a.call(c)}}var s=G7(e,r,t,0,null,!1,!1,"",kj);return t._reactRootContainer=s,t[Jl]=s.current,Gg(t.nodeType===8?t.parentNode:t),Xf(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=gb(l);o.call(c)}}var l=PP(t,0,!1,null,null,!1,!1,"",kj);return t._reactRootContainer=l,t[Jl]=l.current,Gg(t.nodeType===8?t.parentNode:t),Xf(function(){l2(e,l,n,r)}),l}function f2(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=gb(s);o.call(l)}}l2(e,s,t,i)}else s=pY(n,e,t,i,r);return gb(s)}S8=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=tg(e.pendingLanes);n!==0&&(YE(e,n|1),Pa(e,Mr()),!(sn&6)&&(Yh=Mr()+500,Fu()))}break;case 13:Xf(function(){var r=Zl(t,1);if(r!==null){var i=ua();co(r,t,1,i)}}),TP(t,1)}};XE=function(t){if(t.tag===13){var e=Zl(t,134217728);if(e!==null){var n=ua();co(e,t,134217728,n)}TP(t,134217728)}};A8=function(t){if(t.tag===13){var e=yu(t),n=Zl(t,e);if(n!==null){var r=ua();co(n,t,e,r)}TP(t,e)}};N8=function(){return Sn};E8=function(t,e){var n=Sn;try{return Sn=t,e()}finally{Sn=n}};bS=function(t,e,n){switch(e){case"input":if(dS(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=t2(r);if(!i)throw Error(Ue(90));r8(r),dS(r,i)}}}break;case"textarea":a8(t,n);break;case"select":e=n.value,e!=null&&wh(t,!!n.multiple,e,!1)}};d8=SP;h8=Xf;var mY={usingClientEntryPoint:!1,Events:[cv,ih,t2,u8,f8,SP]},Rm={findFiberByHostInstance:Pf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gY={bundleType:Rm.bundleType,version:Rm.version,rendererPackageName:Rm.rendererPackageName,rendererConfig:Rm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=g8(t),t===null?null:t.stateNode},findFiberByHostInstance:Rm.findFiberByHostInstance||hY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var k0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!k0.isDisabled&&k0.supportsFiber)try{Qx=k0.inject(gY),Go=k0}catch{}}ss.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mY;ss.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jP(e))throw Error(Ue(200));return dY(t,e,null,n)};ss.createRoot=function(t,e){if(!jP(t))throw Error(Ue(299));var n=!1,r="",i=K7;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=PP(t,1,!1,null,null,n,!1,r,i),t[Jl]=e.current,Gg(t.nodeType===8?t.parentNode:t),new kP(e)};ss.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ue(188)):(t=Object.keys(t).join(","),Error(Ue(268,t)));return t=g8(e),t=t===null?null:t.stateNode,t};ss.flushSync=function(t){return Xf(t)};ss.hydrate=function(t,e,n){if(!u2(e))throw Error(Ue(200));return f2(null,t,e,!0,n)};ss.hydrateRoot=function(t,e,n){if(!jP(t))throw Error(Ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=K7;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=G7(e,null,t,1,n??null,i,!1,a,s),t[Jl]=e.current,Gg(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new c2(e)};ss.render=function(t,e,n){if(!u2(e))throw Error(Ue(200));return f2(null,t,e,!1,n)};ss.unmountComponentAtNode=function(t){if(!u2(t))throw Error(Ue(40));return t._reactRootContainer?(Xf(function(){f2(null,null,t,!1,function(){t._reactRootContainer=null,t[Jl]=null})}),!0):!1};ss.unstable_batchedUpdates=SP;ss.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!u2(n))throw Error(Ue(200));if(t==null||t._reactInternals===void 0)throw Error(Ue(38));return f2(t,e,n,!1,r)};ss.version="18.3.1-next-f1338f8080-20240426";function Y7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Y7)}catch(t){console.error(t)}}Y7(),YD.exports=ss;var yY=YD.exports,jj=yY;aS.createRoot=jj.createRoot,aS.hydrateRoot=jj.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ny(){return ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ny.apply(this,arguments)}var su;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(su||(su={}));const Cj="popstate";function vY(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return JS("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:yb(i)}return xY(e,n,null,t)}function hr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function CP(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bY(){return Math.random().toString(36).substr(2,8)}function Ij(t,e){return{usr:t.state,key:t.key,idx:e}}function JS(t,e,n,r){return n===void 0&&(n=null),ny({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Rp(e):e,{state:n,key:e&&e.key||r||bY()})}function yb(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Rp(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function xY(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=su.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(ny({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){o=su.Pop;let x=u(),v=x==null?null:x-c;c=x,l&&l({action:o,location:b.location,delta:v})}function h(x,v){o=su.Push;let w=JS(b.location,x,v);c=u()+1;let _=Ij(w,c),A=b.createHref(w);try{s.pushState(_,"",A)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(A)}a&&l&&l({action:o,location:b.location,delta:1})}function p(x,v){o=su.Replace;let w=JS(b.location,x,v);c=u();let _=Ij(w,c),A=b.createHref(w);s.replaceState(_,"",A),a&&l&&l({action:o,location:b.location,delta:0})}function y(x){let v=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof x=="string"?x:yb(x);return w=w.replace(/ $/,"%20"),hr(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let b={get action(){return o},get location(){return t(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Cj,f),l=x,()=>{i.removeEventListener(Cj,f),l=null}},createHref(x){return e(i,x)},createURL:y,encodeLocation(x){let v=y(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(x){return s.go(x)}};return b}var Oj;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Oj||(Oj={}));function wY(t,e,n){return n===void 0&&(n="/"),_Y(t,e,n)}function _Y(t,e,n,r){let i=typeof e=="string"?Rp(e):e,a=Xh(i.pathname||"/",n);if(a==null)return null;let s=X7(t);SY(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=RY(a);o=IY(s[l],c)}return o}function X7(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(hr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=bu([r,l.relativePath]),u=n.concat(l);a.children&&a.children.length>0&&(hr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),X7(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:jY(c,a.index),routesMeta:u})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of Q7(a.path))i(a,s,l)}),e}function Q7(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=Q7(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function SY(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:CY(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const AY=/^:[\w-]+$/,NY=3,EY=2,PY=1,TY=10,kY=-2,Rj=t=>t==="*";function jY(t,e){let n=t.split("/"),r=n.length;return n.some(Rj)&&(r+=kY),e&&(r+=EY),n.filter(i=>!Rj(i)).reduce((i,a)=>i+(AY.test(a)?NY:a===""?PY:TY),r)}function CY(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function IY(t,e,n){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=a==="/"?e:e.slice(a.length)||"/",f=ZS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:bu([a,f.pathname]),pathnameBase:$Y(bu([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=bu([a,f.pathnameBase]))}return s}function ZS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=OY(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let b=o[f]||"";s=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const y=o[f];return p&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function OY(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),CP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function RY(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return CP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Xh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const LY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MY=t=>LY.test(t);function DY(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Rp(t):t,a;if(n)if(MY(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),CP(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?a=Lj(n.substring(1),"/"):a=Lj(n,e)}else a=e;return{pathname:a,search:BY(r),hash:UY(i)}}function Lj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function E5(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function FY(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function IP(t,e){let n=FY(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function OP(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Rp(t):(i=ny({},t),hr(!i.pathname||!i.pathname.includes("?"),E5("?","pathname","search",i)),hr(!i.pathname||!i.pathname.includes("#"),E5("#","pathname","hash",i)),hr(!i.search||!i.search.includes("#"),E5("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=DY(i,o),c=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const bu=t=>t.join("/").replace(/\/\/+/g,"/"),$Y=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),BY=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UY=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function VY(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const J7=["post","put","patch","delete"];new Set(J7);const zY=["get",...J7];new Set(zY);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ry(){return ry=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ry.apply(this,arguments)}const d2=U.createContext(null),Z7=U.createContext(null),dc=U.createContext(null),h2=U.createContext(null),cl=U.createContext({outlet:null,matches:[],isDataRoute:!1}),eF=U.createContext(null);function qY(t,e){let{relative:n}=e===void 0?{}:e;Lp()||hr(!1);let{basename:r,navigator:i}=U.useContext(dc),{hash:a,pathname:s,search:o}=p2(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:bu([r,s])),i.createHref({pathname:l,search:o,hash:a})}function Lp(){return U.useContext(h2)!=null}function $u(){return Lp()||hr(!1),U.useContext(h2).location}function tF(t){U.useContext(dc).static||U.useLayoutEffect(t)}function ls(){let{isDataRoute:t}=U.useContext(cl);return t?aX():WY()}function WY(){Lp()||hr(!1);let t=U.useContext(d2),{basename:e,future:n,navigator:r}=U.useContext(dc),{matches:i}=U.useContext(cl),{pathname:a}=$u(),s=JSON.stringify(IP(i,n.v7_relativeSplatPath)),o=U.useRef(!1);return tF(()=>{o.current=!0}),U.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=OP(c,JSON.parse(s),a,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:bu([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,s,a,t])}const HY=U.createContext(null);function GY(t){let e=U.useContext(cl).outlet;return e&&U.createElement(HY.Provider,{value:t},e)}function RP(){let{matches:t}=U.useContext(cl),e=t[t.length-1];return e?e.params:{}}function p2(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=U.useContext(dc),{matches:i}=U.useContext(cl),{pathname:a}=$u(),s=JSON.stringify(IP(i,r.v7_relativeSplatPath));return U.useMemo(()=>OP(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function KY(t,e){return YY(t,e)}function YY(t,e,n,r){Lp()||hr(!1);let{navigator:i}=U.useContext(dc),{matches:a}=U.useContext(cl),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=$u(),u;if(e){var f;let x=typeof e=="string"?Rp(e):e;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||hr(!1),u=x}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=wY(t,{pathname:p}),b=eX(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:bu([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:bu([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,n,r);return e&&b?U.createElement(h2.Provider,{value:{location:ry({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:su.Pop}},b):b}function XY(){let t=iX(),e=VY(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,null)}const QY=U.createElement(XY,null);class JY extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?U.createElement(cl.Provider,{value:this.props.routeContext},U.createElement(eF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZY(t){let{routeContext:e,match:n,children:r}=t,i=U.useContext(d2);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(cl.Provider,{value:e},r)}function eX(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let u=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||hr(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:p}=n,y=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,h)=>{let p,y=!1,b=null,x=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,b=f.route.errorElement||QY,l&&(c<0&&h===0?(sX("route-fallback"),y=!0,x=null):c===h&&(y=!0,x=f.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,h+1)),w=()=>{let _;return p?_=b:y?_=x:f.route.Component?_=U.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=u,U.createElement(ZY,{match:f,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?U.createElement(JY,{location:n.location,revalidation:n.revalidation,component:b,error:p,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var nF=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(nF||{}),rF=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(rF||{});function tX(t){let e=U.useContext(d2);return e||hr(!1),e}function nX(t){let e=U.useContext(Z7);return e||hr(!1),e}function rX(t){let e=U.useContext(cl);return e||hr(!1),e}function iF(t){let e=rX(),n=e.matches[e.matches.length-1];return n.route.id||hr(!1),n.route.id}function iX(){var t;let e=U.useContext(eF),n=nX(),r=iF();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function aX(){let{router:t}=tX(nF.UseNavigateStable),e=iF(rF.UseNavigateStable),n=U.useRef(!1);return tF(()=>{n.current=!0}),U.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ry({fromRouteId:e},a)))},[t,e])}const Mj={};function sX(t,e,n){Mj[t]||(Mj[t]=!0)}function oX(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function _g(t){let{to:e,replace:n,state:r,relative:i}=t;Lp()||hr(!1);let{future:a,static:s}=U.useContext(dc),{matches:o}=U.useContext(cl),{pathname:l}=$u(),c=ls(),u=OP(e,IP(o,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return U.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function lX(t){return GY(t.context)}function wr(t){hr(!1)}function cX(t){let{basename:e="/",children:n=null,location:r,navigationType:i=su.Pop,navigator:a,static:s=!1,future:o}=t;Lp()&&hr(!1);let l=e.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:l,navigator:a,static:s,future:ry({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof r=="string"&&(r=Rp(r));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:y="default"}=r,b=U.useMemo(()=>{let x=Xh(u,l);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:y},navigationType:i}},[l,u,f,h,p,y,i]);return b==null?null:U.createElement(dc.Provider,{value:c},U.createElement(h2.Provider,{children:n,value:b}))}function uX(t){let{children:e,location:n}=t;return KY(eA(e),n)}new Promise(()=>{});function eA(t,e){e===void 0&&(e=[]);let n=[];return U.Children.forEach(t,(r,i)=>{if(!U.isValidElement(r))return;let a=[...e,i];if(r.type===U.Fragment){n.push.apply(n,eA(r.props.children,a));return}r.type!==wr&&hr(!1),!r.props.index||!r.props.children||hr(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=eA(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vb(){return vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vb.apply(this,arguments)}function aF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fX(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dX(t,e){return t.button===0&&(!e||e==="_self")&&!fX(t)}function tA(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function hX(t,e){let n=tA(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const pX=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mX=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],gX="6";try{window.__reactRouterVersion=gX}catch{}const yX=U.createContext({isTransitioning:!1}),vX="startTransition",Dj=sG[vX];function bX(t){let{basename:e,children:n,future:r,window:i}=t,a=U.useRef();a.current==null&&(a.current=vY({window:i,v5Compat:!0}));let s=a.current,[o,l]=U.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=U.useCallback(f=>{c&&Dj?Dj(()=>l(f)):l(f)},[l,c]);return U.useLayoutEffect(()=>s.listen(u),[s,u]),U.useEffect(()=>oX(r),[r]),U.createElement(cX,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const xX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xn=U.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,h=aF(e,pX),{basename:p}=U.useContext(dc),y,b=!1;if(typeof c=="string"&&wX.test(c)&&(y=c,xX))try{let _=new URL(window.location.href),A=c.startsWith("//")?new URL(_.protocol+c):new URL(c),E=Xh(A.pathname,p);A.origin===_.origin&&E!=null?c=E+A.search+A.hash:b=!0}catch{}let x=qY(c,{relative:i}),v=AX(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:f});function w(_){r&&r(_),_.defaultPrevented||v(_)}return U.createElement("a",vb({},h,{href:y||x,onClick:b||a?r:w,ref:n,target:l}))}),_X=U.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:s=!1,style:o,to:l,viewTransition:c,children:u}=e,f=aF(e,mX),h=p2(l,{relative:f.relative}),p=$u(),y=U.useContext(Z7),{navigator:b,basename:x}=U.useContext(dc),v=y!=null&&NX(h)&&c===!0,w=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,_=p.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(_=_.toLowerCase(),A=A?A.toLowerCase():null,w=w.toLowerCase()),A&&x&&(A=Xh(A,x)||A);const E=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let O=_===w||!s&&_.startsWith(w)&&_.charAt(E)==="/",C=A!=null&&(A===w||!s&&A.startsWith(w)&&A.charAt(w.length)==="/"),N={isActive:O,isPending:C,isTransitioning:v},k=O?r:void 0,M;typeof a=="function"?M=a(N):M=[a,O?"active":null,C?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(N):o;return U.createElement(Xn,vb({},f,{"aria-current":k,className:M,ref:n,style:P,to:l,viewTransition:c}),typeof u=="function"?u(N):u)});var nA;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(nA||(nA={}));var Fj;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Fj||(Fj={}));function SX(t){let e=U.useContext(d2);return e||hr(!1),e}function AX(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=ls(),c=$u(),u=p2(t,{relative:s});return U.useCallback(f=>{if(dX(f,n)){f.preventDefault();let h=r!==void 0?r:yb(c)===yb(u);l(t,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,u,r,i,n,t,a,s,o])}function sF(t){let e=U.useRef(tA(t)),n=U.useRef(!1),r=$u(),i=U.useMemo(()=>hX(r.search,n.current?null:e.current),[r.search]),a=ls(),s=U.useCallback((o,l)=>{const c=tA(typeof o=="function"?o(i):o);n.current=!0,a("?"+c,l)},[a,i]);return[i,s]}function NX(t,e){e===void 0&&(e={});let n=U.useContext(yX);n==null&&hr(!1);let{basename:r}=SX(nA.useViewTransitionState),i=p2(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Xh(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Xh(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ZS(i.pathname,s)!=null||ZS(i.pathname,a)!=null}let EX={data:""},PX=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||EX},TX=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,kX=/\/\*[^]*?\*\/|  +/g,$j=/\n+/g,Jc=(t,e)=>{let n="",r="",i="";for(let a in t){let s=t[a];a[0]=="@"?a[1]=="i"?n=a+" "+s+";":r+=a[1]=="f"?Jc(s,a):a+"{"+Jc(s,a[1]=="k"?"":e)+"}":typeof s=="object"?r+=Jc(s,e?e.replace(/([^,])+/g,o=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Jc.p?Jc.p(a,s):a+":"+s+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Pl={},oF=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+oF(t[n]);return e}return t},jX=(t,e,n,r,i)=>{let a=oF(t),s=Pl[a]||(Pl[a]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(a));if(!Pl[s]){let l=a!==t?t:(c=>{let u,f,h=[{}];for(;u=TX.exec(c.replace(kX,""));)u[4]?h.shift():u[3]?(f=u[3].replace($j," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][u[1]]=u[2].replace($j," ").trim();return h[0]})(t);Pl[s]=Jc(i?{["@keyframes "+s]:l}:l,n?"":"."+s)}let o=n&&Pl.g?Pl.g:null;return n&&(Pl.g=Pl[s]),((l,c,u,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Pl[s],e,r,o),s},CX=(t,e,n)=>t.reduce((r,i,a)=>{let s=e[a];if(s&&s.call){let o=s(n),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;s=l?"."+l:o&&typeof o=="object"?o.props?"":Jc(o,""):o===!1?"":o}return r+i+(s??"")},"");function m2(t){let e=this||{},n=t.call?t(e.p):t;return jX(n.unshift?n.raw?CX(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,PX(e.target),e.g,e.o,e.k)}let lF,rA,iA;m2.bind({g:1});let tc=m2.bind({k:1});function IX(t,e,n,r){Jc.p=e,lF=t,rA=n,iA=r}function Bu(t,e){let n=this||{};return function(){let r=arguments;function i(a,s){let o=Object.assign({},a),l=o.className||i.className;n.p=Object.assign({theme:rA&&rA()},o),n.o=/ *go\d+/.test(l),o.className=m2.apply(n,r)+(l?" "+l:"");let c=t;return t[0]&&(c=o.as||t,delete o.as),iA&&c[0]&&iA(o),lF(c,o)}return i}}var OX=t=>typeof t=="function",bb=(t,e)=>OX(t)?t(e):t,RX=(()=>{let t=0;return()=>(++t).toString()})(),cF=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),LX=20,LP="default",uF=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:r}=e;return uF(t,{type:t.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(s=>s.id===i||i===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},P1=[],fF={toasts:[],pausedAt:void 0,settings:{toastLimit:LX}},Vo={},dF=(t,e=LP)=>{Vo[e]=uF(Vo[e]||fF,t),P1.forEach(([n,r])=>{n===e&&r(Vo[e])})},hF=t=>Object.keys(Vo).forEach(e=>dF(t,e)),MX=t=>Object.keys(Vo).find(e=>Vo[e].toasts.some(n=>n.id===t)),g2=(t=LP)=>e=>{dF(e,t)},DX={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},FX=(t={},e=LP)=>{let[n,r]=U.useState(Vo[e]||fF),i=U.useRef(Vo[e]);U.useEffect(()=>(i.current!==Vo[e]&&r(Vo[e]),P1.push([e,r]),()=>{let s=P1.findIndex(([o])=>o===e);s>-1&&P1.splice(s,1)}),[e]);let a=n.toasts.map(s=>{var o,l,c;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((o=t[s.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((l=t[s.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||DX[s.type],style:{...t.style,...(c=t[s.type])==null?void 0:c.style,...s.style}}});return{...n,toasts:a}},$X=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||RX()}),fv=t=>(e,n)=>{let r=$X(e,t,n);return g2(r.toasterId||MX(r.id))({type:2,toast:r}),r.id},ei=(t,e)=>fv("blank")(t,e);ei.error=fv("error");ei.success=fv("success");ei.loading=fv("loading");ei.custom=fv("custom");ei.dismiss=(t,e)=>{let n={type:3,toastId:t};e?g2(e)(n):hF(n)};ei.dismissAll=t=>ei.dismiss(void 0,t);ei.remove=(t,e)=>{let n={type:4,toastId:t};e?g2(e)(n):hF(n)};ei.removeAll=t=>ei.remove(void 0,t);ei.promise=(t,e,n)=>{let r=ei.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let a=e.success?bb(e.success,i):void 0;return a?ei.success(a,{id:r,...n,...n==null?void 0:n.success}):ei.dismiss(r),i}).catch(i=>{let a=e.error?bb(e.error,i):void 0;a?ei.error(a,{id:r,...n,...n==null?void 0:n.error}):ei.dismiss(r)}),t};var BX=1e3,UX=(t,e="default")=>{let{toasts:n,pausedAt:r}=FX(t,e),i=U.useRef(new Map).current,a=U.useCallback((f,h=BX)=>{if(i.has(f))return;let p=setTimeout(()=>{i.delete(f),s({type:4,toastId:f})},h);i.set(f,p)},[]);U.useEffect(()=>{if(r)return;let f=Date.now(),h=n.map(p=>{if(p.duration===1/0)return;let y=(p.duration||0)+p.pauseDuration-(f-p.createdAt);if(y<0){p.visible&&ei.dismiss(p.id);return}return setTimeout(()=>ei.dismiss(p.id,e),y)});return()=>{h.forEach(p=>p&&clearTimeout(p))}},[n,r,e]);let s=U.useCallback(g2(e),[e]),o=U.useCallback(()=>{s({type:5,time:Date.now()})},[s]),l=U.useCallback((f,h)=>{s({type:1,toast:{id:f,height:h}})},[s]),c=U.useCallback(()=>{r&&s({type:6,time:Date.now()})},[r,s]),u=U.useCallback((f,h)=>{let{reverseOrder:p=!1,gutter:y=8,defaultPosition:b}=h||{},x=n.filter(_=>(_.position||b)===(f.position||b)&&_.height),v=x.findIndex(_=>_.id===f.id),w=x.filter((_,A)=>A<v&&_.visible).length;return x.filter(_=>_.visible).slice(...p?[w+1]:[0,w]).reduce((_,A)=>_+(A.height||0)+y,0)},[n]);return U.useEffect(()=>{n.forEach(f=>{if(f.dismissed)a(f.id,f.removeDelay);else{let h=i.get(f.id);h&&(clearTimeout(h),i.delete(f.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:l,startPause:o,endPause:c,calculateOffset:u}}},VX=tc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,zX=tc`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,qX=tc`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,WX=Bu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${VX} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${zX} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${qX} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,HX=tc`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,GX=Bu("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${HX} 1s linear infinite;
`,KX=tc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,YX=tc`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,XX=Bu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${KX} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${YX} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,QX=Bu("div")`
  position: absolute;
`,JX=Bu("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ZX=tc`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,eQ=Bu("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ZX} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,tQ=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?U.createElement(eQ,null,e):e:n==="blank"?null:U.createElement(JX,null,U.createElement(GX,{...r}),n!=="loading"&&U.createElement(QX,null,n==="error"?U.createElement(WX,{...r}):U.createElement(XX,{...r})))},nQ=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,rQ=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,iQ="0%{opacity:0;} 100%{opacity:1;}",aQ="0%{opacity:1;} 100%{opacity:0;}",sQ=Bu("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,oQ=Bu("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,lQ=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=cF()?[iQ,aQ]:[nQ(n),rQ(n)];return{animation:e?`${tc(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${tc(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},cQ=U.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?lQ(t.position||e||"top-center",t.visible):{opacity:0},a=U.createElement(tQ,{toast:t}),s=U.createElement(oQ,{...t.ariaProps},bb(t.message,t));return U.createElement(sQ,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:a,message:s}):U.createElement(U.Fragment,null,a,s))});IX(U.createElement);var uQ=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let a=U.useCallback(s=>{if(s){let o=()=>{let l=s.getBoundingClientRect().height;r(t,l)};o(),new MutationObserver(o).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return U.createElement("div",{ref:a,className:e,style:n},i)},fQ=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:cF()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},dQ=m2`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,j0=16,hQ=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:s,containerClassName:o})=>{let{toasts:l,handlers:c}=UX(n,a);return U.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:j0,left:j0,right:j0,bottom:j0,pointerEvents:"none",...s},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let f=u.position||e,h=c.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),p=fQ(f,h);return U.createElement(uQ,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?dQ:"",style:p},u.type==="custom"?bb(u.message,u):i?i(u):U.createElement(cQ,{toast:u,position:f}))}))},We=ei,Bj={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},pQ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},mF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,f=(a&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),r.push(n[u],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pQ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||c==null||f==null)throw new mQ;const h=a<<2|o>>4;if(r.push(h),c!==64){const p=o<<4&240|c>>2;if(r.push(p),f!==64){const y=c<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gQ=function(t){const e=pF(t);return mF.encodeByteArray(e,!0)},xb=function(t){return gQ(t).replace(/\./g,"")},gF=function(t){try{return mF.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vQ=()=>yQ().__FIREBASE_DEFAULTS__,bQ=()=>{if(typeof process>"u"||typeof Bj>"u")return;const t=Bj.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xQ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gF(t[1]);return e&&JSON.parse(e)},y2=()=>{try{return vQ()||bQ()||xQ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yF=t=>{var e,n;return(n=(e=y2())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wQ=t=>{const e=yF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vF=()=>{var t;return(t=y2())===null||t===void 0?void 0:t.config},bF=t=>{var e;return(e=y2())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Q{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SQ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xb(JSON.stringify(n)),xb(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ea())}function NQ(){var t;const e=(t=y2())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EQ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PQ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TQ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kQ(){const t=ea();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jQ(){return!NQ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CQ(){try{return typeof indexedDB=="object"}catch{return!1}}function IQ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OQ="FirebaseError";class hc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OQ,Object.setPrototypeOf(this,hc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dv.prototype.create)}}class dv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?RQ(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new hc(i,o,r)}}function RQ(t,e){return t.replace(LQ,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const LQ=/\{\$([^}]+)}/g;function MQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wb(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(Uj(a)&&Uj(s)){if(!wb(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Uj(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rg(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function ig(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function DQ(t,e){const n=new FQ(t,e);return n.subscribe.bind(n)}class FQ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$Q(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=P5),i.error===void 0&&(i.error=P5),i.complete===void 0&&(i.complete=P5);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $Q(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function P5(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t){return t&&t._delegate?t._delegate:t}class Qf{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BQ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _Q;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VQ(e))try{this.getOrInitializeService({instanceIdentifier:vf})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=vf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vf){return this.instances.has(e)}getOptions(e=vf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UQ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vf){return this.component?this.component.multipleInstances?e:vf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UQ(t){return t===vf?void 0:t}function VQ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BQ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tn||(tn={}));const qQ={debug:tn.DEBUG,verbose:tn.VERBOSE,info:tn.INFO,warn:tn.WARN,error:tn.ERROR,silent:tn.SILENT},WQ=tn.INFO,HQ={[tn.DEBUG]:"log",[tn.VERBOSE]:"log",[tn.INFO]:"info",[tn.WARN]:"warn",[tn.ERROR]:"error"},GQ=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=HQ[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class MP{constructor(e){this.name=e,this._logLevel=WQ,this._logHandler=GQ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tn.DEBUG,...e),this._logHandler(this,tn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tn.VERBOSE,...e),this._logHandler(this,tn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tn.INFO,...e),this._logHandler(this,tn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tn.WARN,...e),this._logHandler(this,tn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tn.ERROR,...e),this._logHandler(this,tn.ERROR,...e)}}const KQ=(t,e)=>e.some(n=>t instanceof n);let Vj,zj;function YQ(){return Vj||(Vj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XQ(){return zj||(zj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xF=new WeakMap,aA=new WeakMap,wF=new WeakMap,T5=new WeakMap,DP=new WeakMap;function QQ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(xu(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&xF.set(n,t)}).catch(()=>{}),DP.set(e,t),e}function JQ(t){if(aA.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});aA.set(t,e)}let sA={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return aA.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wF.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZQ(t){sA=t(sA)}function eJ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(k5(this),e,...n);return wF.set(r,e.sort?e.sort():[e]),xu(r)}:XQ().includes(t)?function(...e){return t.apply(k5(this),e),xu(xF.get(this))}:function(...e){return xu(t.apply(k5(this),e))}}function tJ(t){return typeof t=="function"?eJ(t):(t instanceof IDBTransaction&&JQ(t),KQ(t,YQ())?new Proxy(t,sA):t)}function xu(t){if(t instanceof IDBRequest)return QQ(t);if(T5.has(t))return T5.get(t);const e=tJ(t);return e!==t&&(T5.set(t,e),DP.set(e,t)),e}const k5=t=>DP.get(t);function nJ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=xu(s);return r&&s.addEventListener("upgradeneeded",l=>{r(xu(s.result),l.oldVersion,l.newVersion,xu(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const rJ=["get","getKey","getAll","getAllKeys","count"],iJ=["put","add","delete","clear"],j5=new Map;function qj(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(j5.get(e))return j5.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=iJ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rJ.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return j5.set(e,a),a}ZQ(t=>({...t,get:(e,n,r)=>qj(e,n)||t.get(e,n,r),has:(e,n)=>!!qj(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aJ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sJ(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sJ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const oA="@firebase/app",Wj="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=new MP("@firebase/app"),oJ="@firebase/app-compat",lJ="@firebase/analytics-compat",cJ="@firebase/analytics",uJ="@firebase/app-check-compat",fJ="@firebase/app-check",dJ="@firebase/auth",hJ="@firebase/auth-compat",pJ="@firebase/database",mJ="@firebase/data-connect",gJ="@firebase/database-compat",yJ="@firebase/functions",vJ="@firebase/functions-compat",bJ="@firebase/installations",xJ="@firebase/installations-compat",wJ="@firebase/messaging",_J="@firebase/messaging-compat",SJ="@firebase/performance",AJ="@firebase/performance-compat",NJ="@firebase/remote-config",EJ="@firebase/remote-config-compat",PJ="@firebase/storage",TJ="@firebase/storage-compat",kJ="@firebase/firestore",jJ="@firebase/vertexai-preview",CJ="@firebase/firestore-compat",IJ="firebase",OJ="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="[DEFAULT]",RJ={[oA]:"fire-core",[oJ]:"fire-core-compat",[cJ]:"fire-analytics",[lJ]:"fire-analytics-compat",[fJ]:"fire-app-check",[uJ]:"fire-app-check-compat",[dJ]:"fire-auth",[hJ]:"fire-auth-compat",[pJ]:"fire-rtdb",[mJ]:"fire-data-connect",[gJ]:"fire-rtdb-compat",[yJ]:"fire-fn",[vJ]:"fire-fn-compat",[bJ]:"fire-iid",[xJ]:"fire-iid-compat",[wJ]:"fire-fcm",[_J]:"fire-fcm-compat",[SJ]:"fire-perf",[AJ]:"fire-perf-compat",[NJ]:"fire-rc",[EJ]:"fire-rc-compat",[PJ]:"fire-gcs",[TJ]:"fire-gcs-compat",[kJ]:"fire-fst",[CJ]:"fire-fst-compat",[jJ]:"fire-vertex","fire-js":"fire-js",[IJ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=new Map,LJ=new Map,cA=new Map;function Hj(t,e){try{t.container.addComponent(e)}catch(n){nc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qh(t){const e=t.name;if(cA.has(e))return nc.debug(`There were multiple attempts to register component ${e}.`),!1;cA.set(e,t);for(const n of iy.values())Hj(n,t);for(const n of LJ.values())Hj(n,t);return!0}function FP(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zo(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MJ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wu=new dv("app","Firebase",MJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DJ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp=OJ;function _F(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:lA,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw wu.create("bad-app-name",{appName:String(i)});if(n||(n=vF()),!n)throw wu.create("no-options");const a=iy.get(i);if(a){if(wb(n,a.options)&&wb(r,a.config))return a;throw wu.create("duplicate-app",{appName:i})}const s=new zQ(i);for(const l of cA.values())s.addComponent(l);const o=new DJ(n,r,s);return iy.set(i,o),o}function SF(t=lA){const e=iy.get(t);if(!e&&t===lA&&vF())return _F();if(!e)throw wu.create("no-app",{appName:t});return e}function Gj(){return Array.from(iy.values())}function _u(t,e,n){var r;let i=(r=RJ[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const o=[`Unable to register library "${i}" with version "${e}":`];a&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nc.warn(o.join(" "));return}Qh(new Qf(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FJ="firebase-heartbeat-database",$J=1,ay="firebase-heartbeat-store";let C5=null;function AF(){return C5||(C5=nJ(FJ,$J,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ay)}catch(n){console.warn(n)}}}}).catch(t=>{throw wu.create("idb-open",{originalErrorMessage:t.message})})),C5}async function BJ(t){try{const n=(await AF()).transaction(ay),r=await n.objectStore(ay).get(NF(t));return await n.done,r}catch(e){if(e instanceof hc)nc.warn(e.message);else{const n=wu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});nc.warn(n.message)}}}async function Kj(t,e){try{const r=(await AF()).transaction(ay,"readwrite");await r.objectStore(ay).put(e,NF(t)),await r.done}catch(n){if(n instanceof hc)nc.warn(n.message);else{const r=wu.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});nc.warn(r.message)}}}function NF(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UJ=1024,VJ=30*24*60*60*1e3;class zJ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WJ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Yj();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=VJ}),this._storage.overwrite(this._heartbeatsCache))}catch(r){nc.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Yj(),{heartbeatsToSend:r,unsentEntries:i}=qJ(this._heartbeatsCache.heartbeats),a=xb(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return nc.warn(n),""}}}function Yj(){return new Date().toISOString().substring(0,10)}function qJ(t,e=UJ){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),Xj(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Xj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WJ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CQ()?IQ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BJ(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Kj(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Kj(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Xj(t){return xb(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HJ(t){Qh(new Qf("platform-logger",e=>new aJ(e),"PRIVATE")),Qh(new Qf("heartbeat",e=>new zJ(e),"PRIVATE")),_u(oA,Wj,t),_u(oA,Wj,"esm2017"),_u("fire-js","")}HJ("");var GJ="firebase",KJ="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_u(GJ,KJ,"app");function $P(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function EF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YJ=EF,PF=new dv("auth","Firebase",EF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=new MP("@firebase/auth");function XJ(t,...e){_b.logLevel<=tn.WARN&&_b.warn(`Auth (${Mp}): ${t}`,...e)}function T1(t,...e){_b.logLevel<=tn.ERROR&&_b.error(`Auth (${Mp}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(t,...e){throw BP(t,...e)}function Yo(t,...e){return BP(t,...e)}function TF(t,e,n){const r=Object.assign(Object.assign({},YJ()),{[e]:n});return new dv("auth","Firebase",r).create(e,{appName:t.name})}function ql(t){return TF(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BP(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return PF.create(t,...e)}function Nt(t,e,...n){if(!t)throw BP(e,...n)}function Dl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw T1(e),new Error(e)}function rc(t,e){t||Dl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function QJ(){return Qj()==="http:"||Qj()==="https:"}function Qj(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JJ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QJ()||PQ()||"connection"in navigator)?navigator.onLine:!0}function ZJ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,n){this.shortDelay=e,this.longDelay=n,rc(n>e,"Short delay should be less than long delay!"),this.isMobile=AQ()||TQ()}get(){return JJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(t,e){rc(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tZ=new pv(3e4,6e4);function pc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ul(t,e,n,r,i={}){return jF(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=hv(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},a);return EQ()||(c.referrerPolicy="no-referrer"),kF.fetch()(CF(t,t.config.apiHost,n,o),c)})}async function jF(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},eZ),e);try{const i=new rZ(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw C0(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw C0(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw C0(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw C0(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw TF(t,u,c);po(t,u)}}catch(i){if(i instanceof hc)throw i;po(t,"network-request-failed",{message:String(i)})}}async function mv(t,e,n,r,i={}){const a=await ul(t,e,n,r,i);return"mfaPendingCredential"in a&&po(t,"multi-factor-auth-required",{_serverResponse:a}),a}function CF(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?UP(t.config,i):`${t.config.apiScheme}://${i}`}function nZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rZ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yo(this.auth,"network-request-failed")),tZ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function C0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Yo(t,e,r);return i.customData._tokenResponse=n,i}function Jj(t){return t!==void 0&&t.enterprise!==void 0}class iZ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nZ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function aZ(t,e){return ul(t,"GET","/v2/recaptchaConfig",pc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sZ(t,e){return ul(t,"POST","/v1/accounts:delete",e)}async function IF(t,e){return ul(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oZ(t,e=!1){const n=Er(t),r=await n.getIdToken(e),i=VP(r);Nt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Sg(I5(i.auth_time)),issuedAtTime:Sg(I5(i.iat)),expirationTime:Sg(I5(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function I5(t){return Number(t)*1e3}function VP(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return T1("JWT malformed, contained fewer than 3 sections"),null;try{const i=gF(n);return i?JSON.parse(i):(T1("Failed to decode base64 JWT payload"),null)}catch(i){return T1("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Zj(t){const e=VP(t);return Nt(e,"internal-error"),Nt(typeof e.exp<"u","internal-error"),Nt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof hc&&lZ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function lZ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sg(this.lastLoginAt),this.creationTime=Sg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sb(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Jh(t,IF(n,{idToken:r}));Nt(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?OF(a.providerUserInfo):[],o=fZ(t.providerData,s),l=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new fA(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function uZ(t){const e=Er(t);await Sb(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fZ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function OF(t){return t.map(e=>{var{providerId:n}=e,r=$P(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dZ(t,e){const n=await jF(t,{},async()=>{const r=hv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=CF(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",kF.fetch()(s,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hZ(t,e){return ul(t,"POST","/v2/accounts:revokeToken",pc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Nt(e.idToken,"internal-error"),Nt(typeof e.idToken<"u","internal-error"),Nt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Nt(e.length!==0,"internal-error");const n=Zj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Nt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await dZ(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new Ph;return r&&(Nt(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Nt(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Nt(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ph,this.toJSON())}_performRefresh(){return Dl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t,e){Nt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fl{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=$P(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new fA(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Jh(this,this.stsTokenManager.getToken(this.auth,e));return Nt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oZ(this,e)}reload(){return uZ(this)}_assign(e){this!==e&&(Nt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sb(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zo(this.auth.app))return Promise.reject(ql(this.auth));const e=await this.getIdToken();return await Jh(this,sZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,s,o,l,c,u;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,y=(s=n.photoURL)!==null&&s!==void 0?s:void 0,b=(o=n.tenantId)!==null&&o!==void 0?o:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:A,isAnonymous:E,providerData:O,stsTokenManager:C}=n;Nt(_&&C,e,"internal-error");const N=Ph.fromJSON(this.name,C);Nt(typeof _=="string",e,"internal-error"),Uc(f,e.name),Uc(h,e.name),Nt(typeof A=="boolean",e,"internal-error"),Nt(typeof E=="boolean",e,"internal-error"),Uc(p,e.name),Uc(y,e.name),Uc(b,e.name),Uc(x,e.name),Uc(v,e.name),Uc(w,e.name);const k=new Fl({uid:_,auth:e,email:h,emailVerified:A,displayName:f,isAnonymous:E,photoURL:y,phoneNumber:p,tenantId:b,stsTokenManager:N,createdAt:v,lastLoginAt:w});return O&&Array.isArray(O)&&(k.providerData=O.map(M=>Object.assign({},M))),x&&(k._redirectEventId=x),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ph;i.updateFromServerResponse(n);const a=new Fl({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Sb(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Nt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?OF(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new Ph;o.updateFromIdToken(r);const l=new Fl({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new fA(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=new Map;function $l(t){rc(t instanceof Function,"Expected a class definition");let e=eC.get(t);return e?(rc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RF.type="NONE";const tC=RF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(t,e,n){return`firebase:${t}:${e}:${n}`}class Th{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=k1(this.userKey,i.apiKey,a),this.fullPersistenceKey=k1("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Th($l(tC),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||$l(tC);const s=k1(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const u=await c._get(s);if(u){const f=Fl._fromJSON(e,u);c!==a&&(o=f),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Th(a,e,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new Th(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BF(e))return"Blackberry";if(UF(e))return"Webos";if(MF(e))return"Safari";if((e.includes("chrome/")||DF(e))&&!e.includes("edge/"))return"Chrome";if($F(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function LF(t=ea()){return/firefox\//i.test(t)}function MF(t=ea()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DF(t=ea()){return/crios\//i.test(t)}function FF(t=ea()){return/iemobile/i.test(t)}function $F(t=ea()){return/android/i.test(t)}function BF(t=ea()){return/blackberry/i.test(t)}function UF(t=ea()){return/webos/i.test(t)}function zP(t=ea()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pZ(t=ea()){var e;return zP(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mZ(){return kQ()&&document.documentMode===10}function VF(t=ea()){return zP(t)||$F(t)||UF(t)||BF(t)||/windows phone/i.test(t)||FF(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(t,e=[]){let n;switch(t){case"Browser":n=nC(ea());break;case"Worker":n=`${nC(ea())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mp}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gZ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yZ(t,e={}){return ul(t,"GET","/v2/passwordPolicy",pc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vZ=6;class bZ{constructor(e){var n,r,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:vZ,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,s,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xZ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rC(this),this.idTokenSubscription=new rC(this),this.beforeStateQueue=new gZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$l(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Th.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await IF(this,{idToken:e}),r=await Fl._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(zo(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sb(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZJ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zo(this.app))return Promise.reject(ql(this));const n=e?Er(e):null;return n&&Nt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Nt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zo(this.app)?Promise.reject(ql(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zo(this.app)?Promise.reject(ql(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($l(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yZ(this),n=new bZ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dv("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await hZ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$l(e)||this._popupRedirectResolver;Nt(n,this,"argument-error"),this.redirectPersistenceManager=await Th.create(this,[$l(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Nt(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&XJ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Uu(t){return Er(t)}class rC{constructor(e){this.auth=e,this.observer=null,this.addObserver=DQ(n=>this.observer=n)}get next(){return Nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wZ(t){v2=t}function qF(t){return v2.loadJS(t)}function _Z(){return v2.recaptchaEnterpriseScript}function SZ(){return v2.gapiScript}function AZ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const NZ="recaptcha-enterprise",EZ="NO_RECAPTCHA";class PZ{constructor(e){this.type=NZ,this.auth=Uu(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{aZ(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new iZ(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,s(c.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;Jj(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{s(c)}).catch(()=>{s(EZ)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&Jj(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=_Z();l.length!==0&&(l+=o),qF(l).then(()=>{i(o,a,s)}).catch(c=>{s(c)})}}).catch(o=>{s(o)})})}}async function iC(t,e,n,r=!1){const i=new PZ(t);let a;try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Ab(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await iC(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await iC(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TZ(t,e){const n=FP(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(wb(a,e??{}))return i;po(i,"already-initialized")}return n.initialize({options:e})}function kZ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map($l);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function jZ(t,e,n){const r=Uu(t);Nt(r._canInitEmulator,r,"emulator-config-failed"),Nt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=WF(e),{host:s,port:o}=CZ(e),l=o===null?"":`:${o}`;r.config.emulator={url:`${a}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),IZ()}function WF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function CZ(t){const e=WF(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:aC(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:aC(s)}}}function aC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function IZ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Dl("not implemented")}_getIdTokenResponse(e){return Dl("not implemented")}_linkToIdToken(e,n){return Dl("not implemented")}_getReauthenticationResolver(e){return Dl("not implemented")}}async function OZ(t,e){return ul(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RZ(t,e){return mv(t,"POST","/v1/accounts:signInWithPassword",pc(t,e))}async function LZ(t,e){return ul(t,"POST","/v1/accounts:sendOobCode",pc(t,e))}async function MZ(t,e){return LZ(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DZ(t,e){return mv(t,"POST","/v1/accounts:signInWithEmailLink",pc(t,e))}async function FZ(t,e){return mv(t,"POST","/v1/accounts:signInWithEmailLink",pc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy extends qP{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new sy(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new sy(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ab(e,n,"signInWithPassword",RZ);case"emailLink":return DZ(e,{email:this._email,oobCode:this._password});default:po(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ab(e,r,"signUpPassword",OZ);case"emailLink":return FZ(e,{idToken:n,email:this._email,oobCode:this._password});default:po(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(t,e){return mv(t,"POST","/v1/accounts:signInWithIdp",pc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Z="http://localhost";class Jf extends qP{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Jf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):po("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=$P(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Jf(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return kh(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,kh(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,kh(e,n)}buildRequest(){const e={requestUri:$Z,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hv(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BZ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UZ(t){const e=rg(ig(t)).link,n=e?rg(ig(e)).deep_link_id:null,r=rg(ig(t)).deep_link_id;return(r?rg(ig(r)).link:null)||r||n||e||t}class WP{constructor(e){var n,r,i,a,s,o;const l=rg(ig(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,f=BZ((i=l.mode)!==null&&i!==void 0?i:null);Nt(c&&u&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=u,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=UZ(e);try{return new WP(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(){this.providerId=Dp.PROVIDER_ID}static credential(e,n){return sy._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=WP.parseLink(n);return Nt(r,"argument-error"),sy._fromEmailAndCode(e,r.code,r.tenantId)}}Dp.PROVIDER_ID="password";Dp.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv extends HF{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends gv{constructor(){super("facebook.com")}static credential(e){return Jf._fromParams({providerId:Zc.PROVIDER_ID,signInMethod:Zc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zc.credentialFromTaggedObject(e)}static credentialFromError(e){return Zc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zc.credential(e.oauthAccessToken)}catch{return null}}}Zc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends gv{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Jf._fromParams({providerId:eu.PROVIDER_ID,signInMethod:eu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return eu.credentialFromTaggedObject(e)}static credentialFromError(e){return eu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return eu.credential(n,r)}catch{return null}}}eu.GOOGLE_SIGN_IN_METHOD="google.com";eu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends gv{constructor(){super("github.com")}static credential(e){return Jf._fromParams({providerId:tu.PROVIDER_ID,signInMethod:tu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tu.credentialFromTaggedObject(e)}static credentialFromError(e){return tu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tu.credential(e.oauthAccessToken)}catch{return null}}}tu.GITHUB_SIGN_IN_METHOD="github.com";tu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends gv{constructor(){super("twitter.com")}static credential(e,n){return Jf._fromParams({providerId:nu.PROVIDER_ID,signInMethod:nu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return nu.credentialFromTaggedObject(e)}static credentialFromError(e){return nu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return nu.credential(n,r)}catch{return null}}}nu.TWITTER_SIGN_IN_METHOD="twitter.com";nu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VZ(t,e){return mv(t,"POST","/v1/accounts:signUp",pc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Fl._fromIdTokenResponse(e,r,i),s=sC(r);return new Zf({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=sC(r);return new Zf({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function sC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb extends hc{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Nb.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Nb(e,n,r,i)}}function GF(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Nb._fromErrorAndOperation(t,a,e,r):a})}async function zZ(t,e,n=!1){const r=await Jh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Zf._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qZ(t,e,n=!1){const{auth:r}=t;if(zo(r.app))return Promise.reject(ql(r));const i="reauthenticate";try{const a=await Jh(t,GF(r,i,e,t),n);Nt(a.idToken,r,"internal-error");const s=VP(a.idToken);Nt(s,r,"internal-error");const{sub:o}=s;return Nt(t.uid===o,r,"user-mismatch"),Zf._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&po(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KF(t,e,n=!1){if(zo(t.app))return Promise.reject(ql(t));const r="signIn",i=await GF(t,r,e),a=await Zf._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function WZ(t,e){return KF(Uu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YF(t){const e=Uu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HZ(t,e,n){const r=Uu(t);await Ab(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",MZ)}async function GZ(t,e,n){if(zo(t.app))return Promise.reject(ql(t));const r=Uu(t),s=await Ab(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VZ).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&YF(t),l}),o=await Zf._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function KZ(t,e,n){return zo(t.app)?Promise.reject(ql(t)):WZ(Er(t),Dp.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&YF(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YZ(t,e){return ul(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XZ(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Er(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await Jh(r,YZ(r.auth,a));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function QZ(t,e,n,r){return Er(t).onIdTokenChanged(e,n,r)}function JZ(t,e,n){return Er(t).beforeAuthStateChanged(e,n)}function ZZ(t,e,n,r){return Er(t).onAuthStateChanged(e,n,r)}function eee(t){return Er(t).signOut()}const Eb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eb,"1"),this.storage.removeItem(Eb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tee=1e3,nee=10;class QF extends XF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VF(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);mZ()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,nee):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},tee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}QF.type="LOCAL";const ree=QF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF extends XF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JF.type="SESSION";const ZF=JF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new b2(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async c=>c(n.origin,a)),l=await iee(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}b2.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const c=HP("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(h.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(){return window}function see(t){Xo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(){return typeof Xo().WorkerGlobalScope<"u"&&typeof Xo().importScripts=="function"}async function oee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lee(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function cee(){return e$()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$="firebaseLocalStorageDb",uee=1,Pb="firebaseLocalStorage",n$="fbase_key";class yv{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function x2(t,e){return t.transaction([Pb],e?"readwrite":"readonly").objectStore(Pb)}function fee(){const t=indexedDB.deleteDatabase(t$);return new yv(t).toPromise()}function dA(){const t=indexedDB.open(t$,uee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pb,{keyPath:n$})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pb)?e(r):(r.close(),await fee(),e(await dA()))})})}async function oC(t,e,n){const r=x2(t,!0).put({[n$]:e,value:n});return new yv(r).toPromise()}async function dee(t,e){const n=x2(t,!1).get(e),r=await new yv(n).toPromise();return r===void 0?null:r.value}function lC(t,e){const n=x2(t,!0).delete(e);return new yv(n).toPromise()}const hee=800,pee=3;class r${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dA(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>pee)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e$()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=b2._getInstance(cee()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await oee(),!this.activeServiceWorker)return;this.sender=new aee(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dA();return await oC(e,Eb,"1"),await lC(e,Eb),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>oC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>dee(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=x2(i,!1).getAll();return new yv(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r$.type="LOCAL";const mee=r$;new pv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gee(t,e){return e?$l(e):(Nt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP extends qP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kh(e,this._buildIdpRequest())}_linkToIdToken(e,n){return kh(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return kh(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yee(t){return KF(t.auth,new GP(t),t.bypassAuthState)}function vee(t){const{auth:e,user:n}=t;return Nt(n,e,"internal-error"),qZ(n,new GP(t),t.bypassAuthState)}async function bee(t){const{auth:e,user:n}=t;return Nt(n,e,"internal-error"),zZ(n,new GP(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yee;case"linkViaPopup":case"linkViaRedirect":return bee;case"reauthViaPopup":case"reauthViaRedirect":return vee;default:po(this.auth,"internal-error")}}resolve(e){rc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xee=new pv(2e3,1e4);class fh extends i${constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,fh.currentPopupAction&&fh.currentPopupAction.cancel(),fh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Nt(e,this.auth,"internal-error"),e}async onExecution(){rc(this.filter.length===1,"Popup operations only handle one event");const e=HP();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xee.get())};e()}}fh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wee="pendingRedirect",j1=new Map;class _ee extends i${constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=j1.get(this.auth._key());if(!e){try{const r=await See(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}j1.set(this.auth._key(),e)}return this.bypassAuthState||j1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function See(t,e){const n=Eee(e),r=Nee(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Aee(t,e){j1.set(t._key(),e)}function Nee(t){return $l(t._redirectPersistence)}function Eee(t){return k1(wee,t.config.apiKey,t.name)}async function Pee(t,e,n=!1){if(zo(t.app))return Promise.reject(ql(t));const r=Uu(t),i=gee(r,e),s=await new _ee(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tee=10*60*1e3;class kee{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jee(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!a$(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Yo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Tee&&this.cachedEventUids.clear(),this.cachedEventUids.has(cC(e))}saveEventToCache(e){this.cachedEventUids.add(cC(e)),this.lastProcessedEventTime=Date.now()}}function cC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function a$({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jee(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a$(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cee(t,e={}){return ul(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Oee=/^https?/;async function Ree(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Cee(t);for(const n of e)try{if(Lee(n))return}catch{}po(t,"unauthorized-domain")}function Lee(t){const e=uA(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Oee.test(n))return!1;if(Iee.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mee=new pv(3e4,6e4);function uC(){const t=Xo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Dee(t){return new Promise((e,n)=>{var r,i,a;function s(){uC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uC(),n(Yo(t,"network-request-failed"))},timeout:Mee.get()})}if(!((i=(r=Xo().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Xo().gapi)===null||a===void 0)&&a.load)s();else{const o=AZ("iframefcb");return Xo()[o]=()=>{gapi.load?s():n(Yo(t,"network-request-failed"))},qF(`${SZ()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw C1=null,e})}let C1=null;function Fee(t){return C1=C1||Dee(t),C1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ee=new pv(5e3,15e3),Bee="__/auth/iframe",Uee="emulator/auth/iframe",Vee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qee(t){const e=t.config;Nt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?UP(e,Uee):`https://${t.config.authDomain}/${Bee}`,r={apiKey:e.apiKey,appName:t.name,v:Mp},i=zee.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${hv(r).slice(1)}`}async function Wee(t){const e=await Fee(t),n=Xo().gapi;return Nt(n,t,"internal-error"),e.open({where:document.body,url:qee(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vee,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=Yo(t,"network-request-failed"),o=Xo().setTimeout(()=>{a(s)},$ee.get());function l(){Xo().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gee=500,Kee=600,Yee="_blank",Xee="http://localhost";class fC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Qee(t,e,n,r=Gee,i=Kee){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Hee),{width:r.toString(),height:i.toString(),top:a,left:s}),c=ea().toLowerCase();n&&(o=DF(c)?Yee:n),LF(c)&&(e=e||Xee,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,y])=>`${h}${p}=${y},`,"");if(pZ(c)&&o!=="_self")return Jee(e||"",o),new fC(null);const f=window.open(e||"",o,u);Nt(f,t,"popup-blocked");try{f.focus()}catch{}return new fC(f)}function Jee(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zee="__/auth/handler",ete="emulator/auth/handler",tte=encodeURIComponent("fac");async function dC(t,e,n,r,i,a){Nt(t.config.authDomain,t,"auth-domain-config-required"),Nt(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Mp,eventId:i};if(e instanceof HF){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",MQ(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))s[u]=f}if(e instanceof gv){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${tte}=${encodeURIComponent(l)}`:"";return`${nte(t)}?${hv(o).slice(1)}${c}`}function nte({config:t}){return t.emulator?UP(t,ete):`https://${t.authDomain}/${Zee}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5="webStorageSupport";class rte{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZF,this._completeRedirectFn=Pee,this._overrideRedirectResult=Aee}async _openPopup(e,n,r,i){var a;rc((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await dC(e,n,r,uA(),i);return Qee(e,s,HP())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await dC(e,n,r,uA(),i);return see(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(rc(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Wee(e),r=new kee(e);return n.register("authEvent",i=>(Nt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(O5,{type:O5},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[O5];s!==void 0&&n(!!s),po(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ree(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VF()||MF()||zP()}}const ite=rte;var hC="@firebase/auth",pC="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ate{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ste(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ote(t){Qh(new Qf("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;Nt(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zF(t)},c=new xZ(r,i,a,l);return kZ(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qh(new Qf("auth-internal",e=>{const n=Uu(e.getProvider("auth").getImmediate());return(r=>new ate(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_u(hC,pC,ste(t)),_u(hC,pC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lte=5*60,cte=bF("authIdTokenMaxAge")||lte;let mC=null;const ute=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>cte)return;const i=n==null?void 0:n.token;mC!==i&&(mC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function fte(t=SF()){const e=FP(t,"auth");if(e.isInitialized())return e.getImmediate();const n=TZ(t,{popupRedirectResolver:ite,persistence:[mee,ree,ZF]}),r=bF("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=ute(a.toString());JZ(n,s,()=>s(n.currentUser)),QZ(n,o=>s(o))}}const i=yF("auth");return i&&jZ(n,`http://${i}`),n}function dte(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}wZ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Yo("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",dte().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ote("Browser");var gC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bf,s$;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,N){function k(){}k.prototype=N.prototype,C.D=N.prototype,C.prototype=new k,C.prototype.constructor=C,C.C=function(M,P,I){for(var j=Array(arguments.length-2),B=2;B<arguments.length;B++)j[B-2]=arguments[B];return N.prototype[P].apply(M,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,N,k){k||(k=0);var M=Array(16);if(typeof N=="string")for(var P=0;16>P;++P)M[P]=N.charCodeAt(k++)|N.charCodeAt(k++)<<8|N.charCodeAt(k++)<<16|N.charCodeAt(k++)<<24;else for(P=0;16>P;++P)M[P]=N[k++]|N[k++]<<8|N[k++]<<16|N[k++]<<24;N=C.g[0],k=C.g[1],P=C.g[2];var I=C.g[3],j=N+(I^k&(P^I))+M[0]+3614090360&4294967295;N=k+(j<<7&4294967295|j>>>25),j=I+(P^N&(k^P))+M[1]+3905402710&4294967295,I=N+(j<<12&4294967295|j>>>20),j=P+(k^I&(N^k))+M[2]+606105819&4294967295,P=I+(j<<17&4294967295|j>>>15),j=k+(N^P&(I^N))+M[3]+3250441966&4294967295,k=P+(j<<22&4294967295|j>>>10),j=N+(I^k&(P^I))+M[4]+4118548399&4294967295,N=k+(j<<7&4294967295|j>>>25),j=I+(P^N&(k^P))+M[5]+1200080426&4294967295,I=N+(j<<12&4294967295|j>>>20),j=P+(k^I&(N^k))+M[6]+2821735955&4294967295,P=I+(j<<17&4294967295|j>>>15),j=k+(N^P&(I^N))+M[7]+4249261313&4294967295,k=P+(j<<22&4294967295|j>>>10),j=N+(I^k&(P^I))+M[8]+1770035416&4294967295,N=k+(j<<7&4294967295|j>>>25),j=I+(P^N&(k^P))+M[9]+2336552879&4294967295,I=N+(j<<12&4294967295|j>>>20),j=P+(k^I&(N^k))+M[10]+4294925233&4294967295,P=I+(j<<17&4294967295|j>>>15),j=k+(N^P&(I^N))+M[11]+2304563134&4294967295,k=P+(j<<22&4294967295|j>>>10),j=N+(I^k&(P^I))+M[12]+1804603682&4294967295,N=k+(j<<7&4294967295|j>>>25),j=I+(P^N&(k^P))+M[13]+4254626195&4294967295,I=N+(j<<12&4294967295|j>>>20),j=P+(k^I&(N^k))+M[14]+2792965006&4294967295,P=I+(j<<17&4294967295|j>>>15),j=k+(N^P&(I^N))+M[15]+1236535329&4294967295,k=P+(j<<22&4294967295|j>>>10),j=N+(P^I&(k^P))+M[1]+4129170786&4294967295,N=k+(j<<5&4294967295|j>>>27),j=I+(k^P&(N^k))+M[6]+3225465664&4294967295,I=N+(j<<9&4294967295|j>>>23),j=P+(N^k&(I^N))+M[11]+643717713&4294967295,P=I+(j<<14&4294967295|j>>>18),j=k+(I^N&(P^I))+M[0]+3921069994&4294967295,k=P+(j<<20&4294967295|j>>>12),j=N+(P^I&(k^P))+M[5]+3593408605&4294967295,N=k+(j<<5&4294967295|j>>>27),j=I+(k^P&(N^k))+M[10]+38016083&4294967295,I=N+(j<<9&4294967295|j>>>23),j=P+(N^k&(I^N))+M[15]+3634488961&4294967295,P=I+(j<<14&4294967295|j>>>18),j=k+(I^N&(P^I))+M[4]+3889429448&4294967295,k=P+(j<<20&4294967295|j>>>12),j=N+(P^I&(k^P))+M[9]+568446438&4294967295,N=k+(j<<5&4294967295|j>>>27),j=I+(k^P&(N^k))+M[14]+3275163606&4294967295,I=N+(j<<9&4294967295|j>>>23),j=P+(N^k&(I^N))+M[3]+4107603335&4294967295,P=I+(j<<14&4294967295|j>>>18),j=k+(I^N&(P^I))+M[8]+1163531501&4294967295,k=P+(j<<20&4294967295|j>>>12),j=N+(P^I&(k^P))+M[13]+2850285829&4294967295,N=k+(j<<5&4294967295|j>>>27),j=I+(k^P&(N^k))+M[2]+4243563512&4294967295,I=N+(j<<9&4294967295|j>>>23),j=P+(N^k&(I^N))+M[7]+1735328473&4294967295,P=I+(j<<14&4294967295|j>>>18),j=k+(I^N&(P^I))+M[12]+2368359562&4294967295,k=P+(j<<20&4294967295|j>>>12),j=N+(k^P^I)+M[5]+4294588738&4294967295,N=k+(j<<4&4294967295|j>>>28),j=I+(N^k^P)+M[8]+2272392833&4294967295,I=N+(j<<11&4294967295|j>>>21),j=P+(I^N^k)+M[11]+1839030562&4294967295,P=I+(j<<16&4294967295|j>>>16),j=k+(P^I^N)+M[14]+4259657740&4294967295,k=P+(j<<23&4294967295|j>>>9),j=N+(k^P^I)+M[1]+2763975236&4294967295,N=k+(j<<4&4294967295|j>>>28),j=I+(N^k^P)+M[4]+1272893353&4294967295,I=N+(j<<11&4294967295|j>>>21),j=P+(I^N^k)+M[7]+4139469664&4294967295,P=I+(j<<16&4294967295|j>>>16),j=k+(P^I^N)+M[10]+3200236656&4294967295,k=P+(j<<23&4294967295|j>>>9),j=N+(k^P^I)+M[13]+681279174&4294967295,N=k+(j<<4&4294967295|j>>>28),j=I+(N^k^P)+M[0]+3936430074&4294967295,I=N+(j<<11&4294967295|j>>>21),j=P+(I^N^k)+M[3]+3572445317&4294967295,P=I+(j<<16&4294967295|j>>>16),j=k+(P^I^N)+M[6]+76029189&4294967295,k=P+(j<<23&4294967295|j>>>9),j=N+(k^P^I)+M[9]+3654602809&4294967295,N=k+(j<<4&4294967295|j>>>28),j=I+(N^k^P)+M[12]+3873151461&4294967295,I=N+(j<<11&4294967295|j>>>21),j=P+(I^N^k)+M[15]+530742520&4294967295,P=I+(j<<16&4294967295|j>>>16),j=k+(P^I^N)+M[2]+3299628645&4294967295,k=P+(j<<23&4294967295|j>>>9),j=N+(P^(k|~I))+M[0]+4096336452&4294967295,N=k+(j<<6&4294967295|j>>>26),j=I+(k^(N|~P))+M[7]+1126891415&4294967295,I=N+(j<<10&4294967295|j>>>22),j=P+(N^(I|~k))+M[14]+2878612391&4294967295,P=I+(j<<15&4294967295|j>>>17),j=k+(I^(P|~N))+M[5]+4237533241&4294967295,k=P+(j<<21&4294967295|j>>>11),j=N+(P^(k|~I))+M[12]+1700485571&4294967295,N=k+(j<<6&4294967295|j>>>26),j=I+(k^(N|~P))+M[3]+2399980690&4294967295,I=N+(j<<10&4294967295|j>>>22),j=P+(N^(I|~k))+M[10]+4293915773&4294967295,P=I+(j<<15&4294967295|j>>>17),j=k+(I^(P|~N))+M[1]+2240044497&4294967295,k=P+(j<<21&4294967295|j>>>11),j=N+(P^(k|~I))+M[8]+1873313359&4294967295,N=k+(j<<6&4294967295|j>>>26),j=I+(k^(N|~P))+M[15]+4264355552&4294967295,I=N+(j<<10&4294967295|j>>>22),j=P+(N^(I|~k))+M[6]+2734768916&4294967295,P=I+(j<<15&4294967295|j>>>17),j=k+(I^(P|~N))+M[13]+1309151649&4294967295,k=P+(j<<21&4294967295|j>>>11),j=N+(P^(k|~I))+M[4]+4149444226&4294967295,N=k+(j<<6&4294967295|j>>>26),j=I+(k^(N|~P))+M[11]+3174756917&4294967295,I=N+(j<<10&4294967295|j>>>22),j=P+(N^(I|~k))+M[2]+718787259&4294967295,P=I+(j<<15&4294967295|j>>>17),j=k+(I^(P|~N))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+N&4294967295,C.g[1]=C.g[1]+(P+(j<<21&4294967295|j>>>11))&4294967295,C.g[2]=C.g[2]+P&4294967295,C.g[3]=C.g[3]+I&4294967295}r.prototype.u=function(C,N){N===void 0&&(N=C.length);for(var k=N-this.blockSize,M=this.B,P=this.h,I=0;I<N;){if(P==0)for(;I<=k;)i(this,C,I),I+=this.blockSize;if(typeof C=="string"){for(;I<N;)if(M[P++]=C.charCodeAt(I++),P==this.blockSize){i(this,M),P=0;break}}else for(;I<N;)if(M[P++]=C[I++],P==this.blockSize){i(this,M),P=0;break}}this.h=P,this.o+=N},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var N=1;N<C.length-8;++N)C[N]=0;var k=8*this.o;for(N=C.length-8;N<C.length;++N)C[N]=k&255,k/=256;for(this.u(C),C=Array(16),N=k=0;4>N;++N)for(var M=0;32>M;M+=8)C[k++]=this.g[N]>>>M&255;return C};function a(C,N){var k=o;return Object.prototype.hasOwnProperty.call(k,C)?k[C]:k[C]=N(C)}function s(C,N){this.h=N;for(var k=[],M=!0,P=C.length-1;0<=P;P--){var I=C[P]|0;M&&I==N||(k[P]=I,M=!1)}this.g=k}var o={};function l(C){return-128<=C&&128>C?a(C,function(N){return new s([N|0],0>N?-1:0)}):new s([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return x(c(-C));for(var N=[],k=1,M=0;C>=k;M++)N[M]=C/k|0,k*=4294967296;return new s(N,0)}function u(C,N){if(C.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(C.charAt(0)=="-")return x(u(C.substring(1),N));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(N,8)),M=f,P=0;P<C.length;P+=8){var I=Math.min(8,C.length-P),j=parseInt(C.substring(P,P+I),N);8>I?(I=c(Math.pow(N,I)),M=M.j(I).add(c(j))):(M=M.j(k),M=M.add(c(j)))}return M}var f=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(b(this))return-x(this).m();for(var C=0,N=1,k=0;k<this.g.length;k++){var M=this.i(k);C+=(0<=M?M:4294967296+M)*N,N*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(y(this))return"0";if(b(this))return"-"+x(this).toString(C);for(var N=c(Math.pow(C,6)),k=this,M="";;){var P=A(k,N).g;k=v(k,P.j(N));var I=((0<k.g.length?k.g[0]:k.h)>>>0).toString(C);if(k=P,y(k))return I+M;for(;6>I.length;)I="0"+I;M=I+M}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function y(C){if(C.h!=0)return!1;for(var N=0;N<C.g.length;N++)if(C.g[N]!=0)return!1;return!0}function b(C){return C.h==-1}t.l=function(C){return C=v(this,C),b(C)?-1:y(C)?0:1};function x(C){for(var N=C.g.length,k=[],M=0;M<N;M++)k[M]=~C.g[M];return new s(k,~C.h).add(h)}t.abs=function(){return b(this)?x(this):this},t.add=function(C){for(var N=Math.max(this.g.length,C.g.length),k=[],M=0,P=0;P<=N;P++){var I=M+(this.i(P)&65535)+(C.i(P)&65535),j=(I>>>16)+(this.i(P)>>>16)+(C.i(P)>>>16);M=j>>>16,I&=65535,j&=65535,k[P]=j<<16|I}return new s(k,k[k.length-1]&-2147483648?-1:0)};function v(C,N){return C.add(x(N))}t.j=function(C){if(y(this)||y(C))return f;if(b(this))return b(C)?x(this).j(x(C)):x(x(this).j(C));if(b(C))return x(this.j(x(C)));if(0>this.l(p)&&0>C.l(p))return c(this.m()*C.m());for(var N=this.g.length+C.g.length,k=[],M=0;M<2*N;M++)k[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<C.g.length;P++){var I=this.i(M)>>>16,j=this.i(M)&65535,B=C.i(P)>>>16,G=C.i(P)&65535;k[2*M+2*P]+=j*G,w(k,2*M+2*P),k[2*M+2*P+1]+=I*G,w(k,2*M+2*P+1),k[2*M+2*P+1]+=j*B,w(k,2*M+2*P+1),k[2*M+2*P+2]+=I*B,w(k,2*M+2*P+2)}for(M=0;M<N;M++)k[M]=k[2*M+1]<<16|k[2*M];for(M=N;M<2*N;M++)k[M]=0;return new s(k,0)};function w(C,N){for(;(C[N]&65535)!=C[N];)C[N+1]+=C[N]>>>16,C[N]&=65535,N++}function _(C,N){this.g=C,this.h=N}function A(C,N){if(y(N))throw Error("division by zero");if(y(C))return new _(f,f);if(b(C))return N=A(x(C),N),new _(x(N.g),x(N.h));if(b(N))return N=A(C,x(N)),new _(x(N.g),N.h);if(30<C.g.length){if(b(C)||b(N))throw Error("slowDivide_ only works with positive integers.");for(var k=h,M=N;0>=M.l(C);)k=E(k),M=E(M);var P=O(k,1),I=O(M,1);for(M=O(M,2),k=O(k,2);!y(M);){var j=I.add(M);0>=j.l(C)&&(P=P.add(k),I=j),M=O(M,1),k=O(k,1)}return N=v(C,P.j(N)),new _(P,N)}for(P=f;0<=C.l(N);){for(k=Math.max(1,Math.floor(C.m()/N.m())),M=Math.ceil(Math.log(k)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),I=c(k),j=I.j(N);b(j)||0<j.l(C);)k-=M,I=c(k),j=I.j(N);y(I)&&(I=h),P=P.add(I),C=v(C,j)}return new _(P,C)}t.A=function(C){return A(this,C).h},t.and=function(C){for(var N=Math.max(this.g.length,C.g.length),k=[],M=0;M<N;M++)k[M]=this.i(M)&C.i(M);return new s(k,this.h&C.h)},t.or=function(C){for(var N=Math.max(this.g.length,C.g.length),k=[],M=0;M<N;M++)k[M]=this.i(M)|C.i(M);return new s(k,this.h|C.h)},t.xor=function(C){for(var N=Math.max(this.g.length,C.g.length),k=[],M=0;M<N;M++)k[M]=this.i(M)^C.i(M);return new s(k,this.h^C.h)};function E(C){for(var N=C.g.length+1,k=[],M=0;M<N;M++)k[M]=C.i(M)<<1|C.i(M-1)>>>31;return new s(k,C.h)}function O(C,N){var k=N>>5;N%=32;for(var M=C.g.length-k,P=[],I=0;I<M;I++)P[I]=0<N?C.i(I+k)>>>N|C.i(I+k+1)<<32-N:C.i(I+k);return new s(P,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,s$=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,Bf=s}).apply(typeof gC<"u"?gC:typeof self<"u"?self:typeof window<"u"?window:{});var I0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var o$,ag,l$,I1,hA,c$,u$,f$;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,L,F){return g==Array.prototype||g==Object.prototype||(g[L]=F.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof I0=="object"&&I0];for(var L=0;L<g.length;++L){var F=g[L];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var r=n(this);function i(g,L){if(L)e:{var F=r;g=g.split(".");for(var X=0;X<g.length-1;X++){var be=g[X];if(!(be in F))break e;F=F[be]}g=g[g.length-1],X=F[g],L=L(X),L!=X&&L!=null&&e(F,g,{configurable:!0,writable:!0,value:L})}}function a(g,L){g instanceof String&&(g+="");var F=0,X=!1,be={next:function(){if(!X&&F<g.length){var Ne=F++;return{value:L(Ne,g[Ne]),done:!1}}return X=!0,{done:!0,value:void 0}}};return be[Symbol.iterator]=function(){return be},be}i("Array.prototype.values",function(g){return g||function(){return a(this,function(L,F){return F})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(g){var L=typeof g;return L=L!="object"?L:g?Array.isArray(g)?"array":L:"null",L=="array"||L=="object"&&typeof g.length=="number"}function c(g){var L=typeof g;return L=="object"&&g!=null||L=="function"}function u(g,L,F){return g.call.apply(g.bind,arguments)}function f(g,L,F){if(!g)throw Error();if(2<arguments.length){var X=Array.prototype.slice.call(arguments,2);return function(){var be=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(be,X),g.apply(L,be)}}return function(){return g.apply(L,arguments)}}function h(g,L,F){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(g,L){var F=Array.prototype.slice.call(arguments,1);return function(){var X=F.slice();return X.push.apply(X,arguments),g.apply(this,X)}}function y(g,L){function F(){}F.prototype=L.prototype,g.aa=L.prototype,g.prototype=new F,g.prototype.constructor=g,g.Qb=function(X,be,Ne){for(var Ve=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)Ve[Zt-2]=arguments[Zt];return L.prototype[be].apply(X,Ve)}}function b(g){const L=g.length;if(0<L){const F=Array(L);for(let X=0;X<L;X++)F[X]=g[X];return F}return[]}function x(g,L){for(let F=1;F<arguments.length;F++){const X=arguments[F];if(l(X)){const be=g.length||0,Ne=X.length||0;g.length=be+Ne;for(let Ve=0;Ve<Ne;Ve++)g[be+Ve]=X[Ve]}else g.push(X)}}class v{constructor(L,F){this.i=L,this.j=F,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function w(g){return/^[\s\xa0]*$/.test(g)}function _(){var g=o.navigator;return g&&(g=g.userAgent)?g:""}function A(g){return A[" "](g),g}A[" "]=function(){};var E=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function O(g,L,F){for(const X in g)L.call(F,g[X],X,g)}function C(g,L){for(const F in g)L.call(void 0,g[F],F,g)}function N(g){const L={};for(const F in g)L[F]=g[F];return L}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(g,L){let F,X;for(let be=1;be<arguments.length;be++){X=arguments[be];for(F in X)g[F]=X[F];for(let Ne=0;Ne<k.length;Ne++)F=k[Ne],Object.prototype.hasOwnProperty.call(X,F)&&(g[F]=X[F])}}function P(g){var L=1;g=g.split(":");const F=[];for(;0<L&&g.length;)F.push(g.shift()),L--;return g.length&&F.push(g.join(":")),F}function I(g){o.setTimeout(()=>{throw g},0)}function j(){var g=ae;let L=null;return g.g&&(L=g.g,g.g=g.g.next,g.g||(g.h=null),L.next=null),L}class B{constructor(){this.h=this.g=null}add(L,F){const X=G.get();X.set(L,F),this.h?this.h.next=X:this.g=X,this.h=X}}var G=new v(()=>new Z,g=>g.reset());class Z{constructor(){this.next=this.g=this.h=null}set(L,F){this.h=L,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let re,Y=!1,ae=new B,ue=()=>{const g=o.Promise.resolve(void 0);re=()=>{g.then(he)}};var he=()=>{for(var g;g=j();){try{g.h.call(g.g)}catch(F){I(F)}var L=G;L.j(g),100>L.h&&(L.h++,g.next=L.g,L.g=g)}Y=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(g,L){this.type=g,this.g=this.target=L,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var g=!1,L=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const F=()=>{};o.addEventListener("test",F,L),o.removeEventListener("test",F,L)}catch{}return g}();function se(g,L){if(H.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var F=this.type=g.type,X=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=L,L=g.relatedTarget){if(E){e:{try{A(L.nodeName);var be=!0;break e}catch{}be=!1}be||(L=null)}}else F=="mouseover"?L=g.fromElement:F=="mouseout"&&(L=g.toElement);this.relatedTarget=L,X?(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:le[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&se.aa.h.call(this)}}y(se,H);var le={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function fe(g,L,F,X,be){this.listener=g,this.proxy=null,this.src=L,this.type=F,this.capture=!!X,this.ha=be,this.key=++Ae,this.da=this.fa=!1}function we(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Ee(g){this.src=g,this.g={},this.h=0}Ee.prototype.add=function(g,L,F,X,be){var Ne=g.toString();g=this.g[Ne],g||(g=this.g[Ne]=[],this.h++);var Ve=Le(g,L,X,be);return-1<Ve?(L=g[Ve],F||(L.fa=!1)):(L=new fe(L,this.src,Ne,!!X,be),L.fa=F,g.push(L)),L};function ve(g,L){var F=L.type;if(F in g.g){var X=g.g[F],be=Array.prototype.indexOf.call(X,L,void 0),Ne;(Ne=0<=be)&&Array.prototype.splice.call(X,be,1),Ne&&(we(L),g.g[F].length==0&&(delete g.g[F],g.h--))}}function Le(g,L,F,X){for(var be=0;be<g.length;++be){var Ne=g[be];if(!Ne.da&&Ne.listener==L&&Ne.capture==!!F&&Ne.ha==X)return be}return-1}var $e="closure_lm_"+(1e6*Math.random()|0),Q={};function Me(g,L,F,X,be){if(Array.isArray(L)){for(var Ne=0;Ne<L.length;Ne++)Me(g,L[Ne],F,X,be);return null}return F=Ct(F),g&&g[ge]?g.K(L,F,c(X)?!!X.capture:!1,be):ct(g,L,F,!1,X,be)}function ct(g,L,F,X,be,Ne){if(!L)throw Error("Invalid event type");var Ve=c(be)?!!be.capture:!!be,Zt=tt(g);if(Zt||(g[$e]=Zt=new Ee(g)),F=Zt.add(L,F,X,Ve,Ne),F.proxy)return F;if(X=Je(),F.proxy=X,X.src=g,X.listener=F,g.addEventListener)ie||(be=Ve),be===void 0&&(be=!1),g.addEventListener(L.toString(),X,be);else if(g.attachEvent)g.attachEvent(qe(L.toString()),X);else if(g.addListener&&g.removeListener)g.addListener(X);else throw Error("addEventListener and attachEvent are unavailable.");return F}function Je(){function g(F){return L.call(g.src,g.listener,F)}const L=et;return g}function ce(g,L,F,X,be){if(Array.isArray(L))for(var Ne=0;Ne<L.length;Ne++)ce(g,L[Ne],F,X,be);else X=c(X)?!!X.capture:!!X,F=Ct(F),g&&g[ge]?(g=g.i,L=String(L).toString(),L in g.g&&(Ne=g.g[L],F=Le(Ne,F,X,be),-1<F&&(we(Ne[F]),Array.prototype.splice.call(Ne,F,1),Ne.length==0&&(delete g.g[L],g.h--)))):g&&(g=tt(g))&&(L=g.g[L.toString()],g=-1,L&&(g=Le(L,F,X,be)),(F=-1<g?L[g]:null)&&Be(F))}function Be(g){if(typeof g!="number"&&g&&!g.da){var L=g.src;if(L&&L[ge])ve(L.i,g);else{var F=g.type,X=g.proxy;L.removeEventListener?L.removeEventListener(F,X,g.capture):L.detachEvent?L.detachEvent(qe(F),X):L.addListener&&L.removeListener&&L.removeListener(X),(F=tt(L))?(ve(F,g),F.h==0&&(F.src=null,L[$e]=null)):we(g)}}}function qe(g){return g in Q?Q[g]:Q[g]="on"+g}function et(g,L){if(g.da)g=!0;else{L=new se(L,this);var F=g.listener,X=g.ha||g.src;g.fa&&Be(g),g=F.call(X,L)}return g}function tt(g){return g=g[$e],g instanceof Ee?g:null}var zt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ct(g){return typeof g=="function"?g:(g[zt]||(g[zt]=function(L){return g.handleEvent(L)}),g[zt])}function ut(){$.call(this),this.i=new Ee(this),this.M=this,this.F=null}y(ut,$),ut.prototype[ge]=!0,ut.prototype.removeEventListener=function(g,L,F,X){ce(this,g,L,F,X)};function xt(g,L){var F,X=g.F;if(X)for(F=[];X;X=X.F)F.push(X);if(g=g.M,X=L.type||L,typeof L=="string")L=new H(L,g);else if(L instanceof H)L.target=L.target||g;else{var be=L;L=new H(X,g),M(L,be)}if(be=!0,F)for(var Ne=F.length-1;0<=Ne;Ne--){var Ve=L.g=F[Ne];be=$t(Ve,X,!0,L)&&be}if(Ve=L.g=g,be=$t(Ve,X,!0,L)&&be,be=$t(Ve,X,!1,L)&&be,F)for(Ne=0;Ne<F.length;Ne++)Ve=L.g=F[Ne],be=$t(Ve,X,!1,L)&&be}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var g=this.i,L;for(L in g.g){for(var F=g.g[L],X=0;X<F.length;X++)we(F[X]);delete g.g[L],g.h--}}this.F=null},ut.prototype.K=function(g,L,F,X){return this.i.add(String(g),L,!1,F,X)},ut.prototype.L=function(g,L,F,X){return this.i.add(String(g),L,!0,F,X)};function $t(g,L,F,X){if(L=g.i.g[String(L)],!L)return!0;L=L.concat();for(var be=!0,Ne=0;Ne<L.length;++Ne){var Ve=L[Ne];if(Ve&&!Ve.da&&Ve.capture==F){var Zt=Ve.listener,or=Ve.ha||Ve.src;Ve.fa&&ve(g.i,Ve),be=Zt.call(or,X)!==!1&&be}}return be&&!X.defaultPrevented}function it(g,L,F){if(typeof g=="function")F&&(g=h(g,F));else if(g&&typeof g.handleEvent=="function")g=h(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(L)?-1:o.setTimeout(g,L||0)}function kt(g){g.g=it(()=>{g.g=null,g.i&&(g.i=!1,kt(g))},g.l);const L=g.h;g.h=null,g.m.apply(null,L)}class ft extends ${constructor(L,F){super(),this.m=L,this.l=F,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:kt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kn(g){$.call(this),this.h=g,this.g={}}y(kn,$);var Kt=[];function Dt(g){O(g.g,function(L,F){this.g.hasOwnProperty(F)&&Be(L)},g),g.g={}}kn.prototype.N=function(){kn.aa.N.call(this),Dt(this)},kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lt=o.JSON.stringify,Mn=o.JSON.parse,pt=class{stringify(g){return o.JSON.stringify(g,void 0)}parse(g){return o.JSON.parse(g,void 0)}};function hn(){}hn.prototype.h=null;function vt(g){return g.h||(g.h=g.i())}function Pt(){}var pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ft(){H.call(this,"d")}y(Ft,H);function mt(){H.call(this,"c")}y(mt,H);var qt={},_o=null;function Tr(){return _o=_o||new ut}qt.La="serverreachability";function us(g){H.call(this,qt.La,g)}y(us,H);function Ci(g){const L=Tr();xt(L,new us(L))}qt.STAT_EVENT="statevent";function yt(g,L){H.call(this,qt.STAT_EVENT,g),this.stat=L}y(yt,H);function zn(g){const L=Tr();xt(L,new yt(L,g))}qt.Ma="timingevent";function fs(g,L){H.call(this,qt.Ma,g),this.size=L}y(fs,H);function ai(g,L){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){g()},L)}function si(){this.g=!0}si.prototype.xa=function(){this.g=!1};function Jn(g,L,F,X,be,Ne){g.info(function(){if(g.g)if(Ne)for(var Ve="",Zt=Ne.split("&"),or=0;or<Zt.length;or++){var Wt=Zt[or].split("=");if(1<Wt.length){var ln=Wt[0];Wt=Wt[1];var Dn=ln.split("_");Ve=2<=Dn.length&&Dn[1]=="type"?Ve+(ln+"="+Wt+"&"):Ve+(ln+"=redacted&")}}else Ve=null;else Ve=Ne;return"XMLHTTP REQ ("+X+") [attempt "+be+"]: "+L+`
`+F+`
`+Ve})}function Br(g,L,F,X,be,Ne,Ve){g.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+be+"]: "+L+`
`+F+`
`+Ne+" "+Ve})}function Zn(g,L,F,X){g.info(function(){return"XMLHTTP TEXT ("+L+"): "+So(g,F)+(X?" "+X:"")})}function hl(g,L){g.info(function(){return"TIMEOUT: "+L})}si.prototype.info=function(){};function So(g,L){if(!g.g)return L;if(!L)return null;try{var F=JSON.parse(L);if(F){for(g=0;g<F.length;g++)if(Array.isArray(F[g])){var X=F[g];if(!(2>X.length)){var be=X[1];if(Array.isArray(be)&&!(1>be.length)){var Ne=be[0];if(Ne!="noop"&&Ne!="stop"&&Ne!="close")for(var Ve=1;Ve<be.length;Ve++)be[Ve]=""}}}}return Lt(F)}catch{return L}}var Ii={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ca={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ta;function Oi(){}y(Oi,hn),Oi.prototype.g=function(){return new XMLHttpRequest},Oi.prototype.i=function(){return{}},ta=new Oi;function kr(g,L,F,X){this.j=g,this.i=L,this.l=F,this.R=X||1,this.U=new kn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ao}function Ao(){this.i=null,this.g="",this.h=!1}var Ia={},Ws={};function No(g,L,F){g.L=1,g.v=vl(Hr(L)),g.m=F,g.P=!0,pl(g,null)}function pl(g,L){g.F=Date.now(),Eo(g),g.A=Hr(g.v);var F=g.A,X=g.R;Array.isArray(X)||(X=[String(X)]),Cd(F.i,"t",X),g.C=0,F=g.j.J,g.h=new Ao,g.g=yr(g.j,F?L:null,!g.m),0<g.O&&(g.M=new ft(h(g.Y,g,g.g),g.O)),L=g.U,F=g.g,X=g.ca;var be="readystatechange";Array.isArray(be)||(be&&(Kt[0]=be.toString()),be=Kt);for(var Ne=0;Ne<be.length;Ne++){var Ve=Me(F,be[Ne],X||L.handleEvent,!1,L.h||L);if(!Ve)break;L.g[Ve.key]=Ve}L=g.H?N(g.H):{},g.m?(g.u||(g.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,L)):(g.u="GET",g.g.ea(g.A,g.u,null,L)),Ci(),Jn(g.i,g.u,g.A,g.l,g.R,g.m)}kr.prototype.ca=function(g){g=g.target;const L=this.M;L&&na(g)==3?L.j():this.Y(g)},kr.prototype.Y=function(g){try{if(g==this.g)e:{const Dn=na(this.g);var L=this.g.Ba();const La=this.g.Z();if(!(3>Dn)&&(Dn!=3||this.g&&(this.h.h||this.g.oa()||lf(this.g)))){this.J||Dn!=4||L==7||(L==8||0>=La?Ci(3):Ci(2)),bc(this);var F=this.g.Z();this.X=F;t:if(ml(this)){var X=lf(this.g);g="";var be=X.length,Ne=na(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oa(this),oi(this);var Ve="";break t}this.h.i=new o.TextDecoder}for(L=0;L<be;L++)this.h.h=!0,g+=this.h.i.decode(X[L],{stream:!(Ne&&L==be-1)});X.length=0,this.h.g+=g,this.C=0,Ve=this.h.g}else Ve=this.g.oa();if(this.o=F==200,Br(this.i,this.u,this.A,this.l,this.R,Dn,F),this.o){if(this.T&&!this.K){t:{if(this.g){var Zt,or=this.g;if((Zt=or.g?or.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Zt)){var Wt=Zt;break t}}Wt=null}if(F=Wt)Zn(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xc(this,F);else{this.o=!1,this.s=3,zn(12),Oa(this),oi(this);break e}}if(this.P){F=!0;let Ri;for(;!this.J&&this.C<Ve.length;)if(Ri=sm(this,Ve),Ri==Ws){Dn==4&&(this.s=4,zn(14),F=!1),Zn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ri==Ia){this.s=4,zn(15),Zn(this.i,this.l,Ve,"[Invalid Chunk]"),F=!1;break}else Zn(this.i,this.l,Ri,null),xc(this,Ri);if(ml(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dn!=4||Ve.length!=0||this.h.h||(this.s=1,zn(16),F=!1),this.o=this.o&&F,!F)Zn(this.i,this.l,Ve,"[Invalid Chunked Response]"),Oa(this),oi(this);else if(0<Ve.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+Ve.length),Ye(ln),ln.M=!0,zn(11))}}else Zn(this.i,this.l,Ve,null),xc(this,Ve);Dn==4&&Oa(this),this.o&&!this.J&&(Dn==4?jt(this.j,this):(this.o=!1,Eo(this)))}else Od(this.g),F==400&&0<Ve.indexOf("Unknown SID")?(this.s=3,zn(12)):(this.s=0,zn(13)),Oa(this),oi(this)}}}catch{}finally{}};function ml(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function sm(g,L){var F=g.C,X=L.indexOf(`
`,F);return X==-1?Ws:(F=Number(L.substring(F,X)),isNaN(F)?Ia:(X+=1,X+F>L.length?Ws:(L=L.slice(X,X+F),g.C=X+F,L)))}kr.prototype.cancel=function(){this.J=!0,Oa(this)};function Eo(g){g.S=Date.now()+g.I,Ju(g,g.I)}function Ju(g,L){if(g.B!=null)throw Error("WatchDog timer not null");g.B=ai(h(g.ba,g),L)}function bc(g){g.B&&(o.clearTimeout(g.B),g.B=null)}kr.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(hl(this.i,this.A),this.L!=2&&(Ci(),zn(17)),Oa(this),this.s=2,oi(this)):Ju(this,this.S-g)};function oi(g){g.j.G==0||g.J||jt(g.j,g)}function Oa(g){bc(g);var L=g.M;L&&typeof L.ma=="function"&&L.ma(),g.M=null,Dt(g.U),g.g&&(L=g.g,g.g=null,L.abort(),L.ma())}function xc(g,L){try{var F=g.j;if(F.G!=0&&(F.g==g||ga(F.h,g))){if(!g.K&&ga(F.h,g)&&F.G==3){try{var X=F.Da.g.parse(L)}catch{X=null}if(Array.isArray(X)&&X.length==3){var be=X;if(be[0]==0){e:if(!F.u){if(F.g)if(F.g.F+3e3<g.F)wt(F),vs(F);else break e;Oe(F),zn(18)}}else F.za=be[1],0<F.za-F.T&&37500>be[2]&&F.F&&F.v==0&&!F.C&&(F.C=ai(h(F.Za,F),6e3));if(1>=nf(F.h)&&F.ca){try{F.ca()}catch{}F.ca=void 0}}else dn(F,11)}else if((g.K||F.g==g)&&wt(F),!w(L))for(be=F.Da.g.parse(L),L=0;L<be.length;L++){let Wt=be[L];if(F.T=Wt[0],Wt=Wt[1],F.G==2)if(Wt[0]=="c"){F.K=Wt[1],F.ia=Wt[2];const ln=Wt[3];ln!=null&&(F.la=ln,F.j.info("VER="+F.la));const Dn=Wt[4];Dn!=null&&(F.Aa=Dn,F.j.info("SVER="+F.Aa));const La=Wt[5];La!=null&&typeof La=="number"&&0<La&&(X=1.5*La,F.L=X,F.j.info("backChannelRequestTimeoutMs_="+X)),X=F;const Ri=g.g;if(Ri){const gi=Ri.g?Ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gi){var Ne=X.h;Ne.g||gi.indexOf("spdy")==-1&&gi.indexOf("quic")==-1&&gi.indexOf("h2")==-1||(Ne.j=Ne.l,Ne.g=new Set,Ne.h&&(Po(Ne,Ne.h),Ne.h=null))}if(X.D){const Ks=Ri.g?Ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Ks&&(X.ya=Ks,Yt(X.I,X.D,Ks))}}F.G=3,F.l&&F.l.ua(),F.ba&&(F.R=Date.now()-g.F,F.j.info("Handshake RTT: "+F.R+"ms")),X=F;var Ve=g;if(X.qa=yn(X,X.J?X.ia:null,X.W),Ve.K){Ed(X.h,Ve);var Zt=Ve,or=X.L;or&&(Zt.I=or),Zt.B&&(bc(Zt),Eo(Zt)),X.g=Ve}else ke(X);0<F.i.length&&T(F)}else Wt[0]!="stop"&&Wt[0]!="close"||dn(F,7);else F.G==3&&(Wt[0]=="stop"||Wt[0]=="close"?Wt[0]=="stop"?dn(F,7):Ec(F):Wt[0]!="noop"&&F.l&&F.l.ta(Wt),F.v=0)}}Ci(4)}catch{}}var Zu=class{constructor(g,L){this.g=g,this.map=L}};function ef(g){this.l=g||10,o.PerformanceNavigationTiming?(g=o.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tf(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function nf(g){return g.h?1:g.g?g.g.size:0}function ga(g,L){return g.h?g.h==L:g.g?g.g.has(L):!1}function Po(g,L){g.g?g.g.add(L):g.h=L}function Ed(g,L){g.h&&g.h==L?g.h=null:g.g&&g.g.has(L)&&g.g.delete(L)}ef.prototype.cancel=function(){if(this.i=rr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function rr(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let L=g.i;for(const F of g.g.values())L=L.concat(F.D);return L}return b(g.i)}function Pd(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(l(g)){for(var L=[],F=g.length,X=0;X<F;X++)L.push(g[X]);return L}L=[],F=0;for(X in g)L[F++]=g[X];return L}function ds(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(l(g)||typeof g=="string"){var L=[];g=g.length;for(var F=0;F<g;F++)L.push(F);return L}L=[],F=0;for(const X in g)L[F++]=X;return L}}}function gl(g,L){if(g.forEach&&typeof g.forEach=="function")g.forEach(L,void 0);else if(l(g)||typeof g=="string")Array.prototype.forEach.call(g,L,void 0);else for(var F=ds(g),X=Pd(g),be=X.length,Ne=0;Ne<be;Ne++)L.call(void 0,X[Ne],F&&F[Ne],g)}var rf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(g,L){if(g){g=g.split("&");for(var F=0;F<g.length;F++){var X=g[F].indexOf("="),be=null;if(0<=X){var Ne=g[F].substring(0,X);be=g[F].substring(X+1)}else Ne=g[F];L(Ne,be?decodeURIComponent(be.replace(/\+/g," ")):"")}}}function jn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof jn){this.h=g.h,yl(this,g.j),this.o=g.o,this.g=g.g,wc(this,g.s),this.l=g.l;var L=g.i,F=new mi;F.i=L.i,L.g&&(F.g=new Map(L.g),F.h=L.h),Td(this,F),this.m=g.m}else g&&(L=String(g).match(rf))?(this.h=!1,yl(this,L[1]||"",!0),this.o=To(L[2]||""),this.g=To(L[3]||"",!0),wc(this,L[4]),this.l=To(L[5]||"",!0),Td(this,L[6]||"",!0),this.m=To(L[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}jn.prototype.toString=function(){var g=[],L=this.j;L&&g.push(hs(L,kd,!0),":");var F=this.g;return(F||L=="file")&&(g.push("//"),(L=this.o)&&g.push(hs(L,kd,!0),"@"),g.push(encodeURIComponent(String(F)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.s,F!=null&&g.push(":",String(F))),(F=this.l)&&(this.g&&F.charAt(0)!="/"&&g.push("/"),g.push(hs(F,F.charAt(0)=="/"?lm:om,!0))),(F=this.i.toString())&&g.push("?",F),(F=this.m)&&g.push("#",hs(F,jd)),g.join("")};function Hr(g){return new jn(g)}function yl(g,L,F){g.j=F?To(L,!0):L,g.j&&(g.j=g.j.replace(/:$/,""))}function wc(g,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);g.s=L}else g.s=null}function Td(g,L,F){L instanceof mi?(g.i=L,cm(g.i,g.h)):(F||(L=hs(L,af)),g.i=new mi(L,g.h))}function Yt(g,L,F){g.i.set(L,F)}function vl(g){return Yt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function To(g,L){return g?L?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function hs(g,L,F){return typeof g=="string"?(g=encodeURI(g).replace(L,bl),F&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function bl(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var kd=/[#\/\?@]/g,om=/[#\?:]/g,lm=/[#\?]/g,af=/[#\?@]/g,jd=/#/g;function mi(g,L){this.h=this.g=null,this.i=g||null,this.j=!!L}function ps(g){g.g||(g.g=new Map,g.h=0,g.i&&ya(g.i,function(L,F){g.add(decodeURIComponent(L.replace(/\+/g," ")),F)}))}t=mi.prototype,t.add=function(g,L){ps(this),this.i=null,g=bt(this,g);var F=this.g.get(g);return F||this.g.set(g,F=[]),F.push(L),this.h+=1,this};function ko(g,L){ps(g),L=bt(g,L),g.g.has(L)&&(g.i=null,g.h-=g.g.get(L).length,g.g.delete(L))}function _c(g,L){return ps(g),L=bt(g,L),g.g.has(L)}t.forEach=function(g,L){ps(this),this.g.forEach(function(F,X){F.forEach(function(be){g.call(L,be,X,this)},this)},this)},t.na=function(){ps(this);const g=Array.from(this.g.values()),L=Array.from(this.g.keys()),F=[];for(let X=0;X<L.length;X++){const be=g[X];for(let Ne=0;Ne<be.length;Ne++)F.push(L[X])}return F},t.V=function(g){ps(this);let L=[];if(typeof g=="string")_c(this,g)&&(L=L.concat(this.g.get(bt(this,g))));else{g=Array.from(this.g.values());for(let F=0;F<g.length;F++)L=L.concat(g[F])}return L},t.set=function(g,L){return ps(this),this.i=null,g=bt(this,g),_c(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[L]),this.h+=1,this},t.get=function(g,L){return g?(g=this.V(g),0<g.length?String(g[0]):L):L};function Cd(g,L,F){ko(g,L),0<F.length&&(g.i=null,g.g.set(bt(g,L),b(F)),g.h+=F.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],L=Array.from(this.g.keys());for(var F=0;F<L.length;F++){var X=L[F];const Ne=encodeURIComponent(String(X)),Ve=this.V(X);for(X=0;X<Ve.length;X++){var be=Ne;Ve[X]!==""&&(be+="="+encodeURIComponent(String(Ve[X]))),g.push(be)}}return this.i=g.join("&")};function bt(g,L){return L=String(L),g.j&&(L=L.toLowerCase()),L}function cm(g,L){L&&!g.j&&(ps(g),g.i=null,g.g.forEach(function(F,X){var be=X.toLowerCase();X!=be&&(ko(this,X),Cd(this,be,F))},g)),g.j=L}function um(g,L){const F=new si;if(o.Image){const X=new Image;X.onload=p(li,F,"TestLoadImage: loaded",!0,L,X),X.onerror=p(li,F,"TestLoadImage: error",!1,L,X),X.onabort=p(li,F,"TestLoadImage: abort",!1,L,X),X.ontimeout=p(li,F,"TestLoadImage: timeout",!1,L,X),o.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=g}else L(!1)}function fm(g,L){const F=new si,X=new AbortController,be=setTimeout(()=>{X.abort(),li(F,"TestPingServer: timeout",!1,L)},1e4);fetch(g,{signal:X.signal}).then(Ne=>{clearTimeout(be),Ne.ok?li(F,"TestPingServer: ok",!0,L):li(F,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(be),li(F,"TestPingServer: error",!1,L)})}function li(g,L,F,X,be){try{be&&(be.onload=null,be.onerror=null,be.onabort=null,be.ontimeout=null),X(F)}catch{}}function Hs(){this.g=new pt}function dm(g,L,F){const X=F||"";try{gl(g,function(be,Ne){let Ve=be;c(be)&&(Ve=Lt(be)),L.push(X+Ne+"="+encodeURIComponent(Ve))})}catch(be){throw L.push(X+"type="+encodeURIComponent("_badmap")),be}}function Sc(g){this.l=g.Ub||null,this.j=g.eb||!1}y(Sc,hn),Sc.prototype.g=function(){return new Gs(this.l,this.j)},Sc.prototype.i=function(g){return function(){return g}}({});function Gs(g,L){ut.call(this),this.D=g,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Gs,ut),t=Gs.prototype,t.open=function(g,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=L,this.readyState=1,xl(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(L.body=g),(this.D||o).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ra(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,xl(this)),this.g&&(this.readyState=3,xl(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ac(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ac(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var L=g.value?g.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!g.done}))&&(this.response=this.responseText+=L)}g.done?Ra(this):xl(this),this.readyState==3&&Ac(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,Ra(this))},t.Qa=function(g){this.g&&(this.response=g,Ra(this))},t.ga=function(){this.g&&Ra(this)};function Ra(g){g.readyState=4,g.l=null,g.j=null,g.v=null,xl(g)}t.setRequestHeader=function(g,L){this.u.append(g,L)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],L=this.h.entries();for(var F=L.next();!F.done;)F=F.value,g.push(F[0]+": "+F[1]),F=L.next();return g.join(`\r
`)};function xl(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ms(g){let L="";return O(g,function(F,X){L+=X,L+=":",L+=F,L+=`\r
`}),L}function sf(g,L,F){e:{for(X in F){var X=!1;break e}X=!0}X||(F=ms(F),typeof g=="string"?F!=null&&encodeURIComponent(String(F)):Yt(g,L,F))}function En(g){ut.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(En,ut);var of=/^https?$/i,Id=["POST","PUT"];t=En.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,L,F,X){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);L=L?L.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ta.g(),this.v=this.o?vt(this.o):vt(ta),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(L,String(g),!0),this.B=!1}catch(Ne){gs(this,Ne);return}if(g=F||"",F=new Map(this.headers),X)if(Object.getPrototypeOf(X)===Object.prototype)for(var be in X)F.set(be,X[be]);else if(typeof X.keys=="function"&&typeof X.get=="function")for(const Ne of X.keys())F.set(Ne,X.get(Ne));else throw Error("Unknown input type for opt_headers: "+String(X));X=Array.from(F.keys()).find(Ne=>Ne.toLowerCase()=="content-type"),be=o.FormData&&g instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Id,L,void 0))||X||be||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ne,Ve]of F)this.g.setRequestHeader(Ne,Ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Co(this),this.u=!0,this.g.send(g),this.u=!1}catch(Ne){gs(this,Ne)}};function gs(g,L){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=L,g.m=5,Nc(g),jo(g)}function Nc(g){g.A||(g.A=!0,xt(g,"complete"),xt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,xt(this,"complete"),xt(this,"abort"),jo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jo(this,!0)),En.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wl(this):this.bb())},t.bb=function(){wl(this)};function wl(g){if(g.h&&typeof s<"u"&&(!g.v[1]||na(g)!=4||g.Z()!=2)){if(g.u&&na(g)==4)it(g.Ea,0,g);else if(xt(g,"readystatechange"),na(g)==4){g.h=!1;try{const Ve=g.Z();e:switch(Ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var F;if(!(F=L)){var X;if(X=Ve===0){var be=String(g.D).match(rf)[1]||null;!be&&o.self&&o.self.location&&(be=o.self.location.protocol.slice(0,-1)),X=!of.test(be?be.toLowerCase():"")}F=X}if(F)xt(g,"complete"),xt(g,"success");else{g.m=6;try{var Ne=2<na(g)?g.g.statusText:""}catch{Ne=""}g.l=Ne+" ["+g.Z()+"]",Nc(g)}}finally{jo(g)}}}}function jo(g,L){if(g.g){Co(g);const F=g.g,X=g.v[0]?()=>{}:null;g.g=null,g.v=null,L||xt(g,"ready");try{F.onreadystatechange=X}catch{}}}function Co(g){g.I&&(o.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function na(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<na(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var L=this.g.responseText;return g&&L.indexOf(g)==0&&(L=L.substring(g.length)),Mn(L)}};function lf(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Od(g){const L={};g=(g.g&&2<=na(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let X=0;X<g.length;X++){if(w(g[X]))continue;var F=P(g[X]);const be=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const Ne=L[be]||[];L[be]=Ne,Ne.push(F)}C(L,function(X){return X.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ra(g,L,F){return F&&F.internalChannelParams&&F.internalChannelParams[g]||L}function ys(g){this.Aa=0,this.i=[],this.j=new si,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ra("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ra("baseRetryDelayMs",5e3,g),this.cb=ra("retryDelaySeedMs",1e4,g),this.Wa=ra("forwardChannelMaxRetries",2,g),this.wa=ra("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new ef(g&&g.concurrentRequestLimit),this.Da=new Hs,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ys.prototype,t.la=8,t.G=1,t.connect=function(g,L,F,X){zn(0),this.W=g,this.H=L||{},F&&X!==void 0&&(this.H.OSID=F,this.H.OAID=X),this.F=this.X,this.I=yn(this,null,this.W),T(this)};function Ec(g){if(cf(g),g.G==3){var L=g.U++,F=Hr(g.I);if(Yt(F,"SID",g.K),Yt(F,"RID",L),Yt(F,"TYPE","terminate"),oe(g,F),L=new kr(g,g.j,L),L.L=2,L.v=vl(Hr(F)),F=!1,o.navigator&&o.navigator.sendBeacon)try{F=o.navigator.sendBeacon(L.v.toString(),"")}catch{}!F&&o.Image&&(new Image().src=L.v,F=!0),F||(L.g=yr(L.j,null),L.g.ea(L.v)),L.F=Date.now(),Eo(L)}ir(g)}function vs(g){g.g&&(Ye(g),g.g.cancel(),g.g=null)}function cf(g){vs(g),g.u&&(o.clearTimeout(g.u),g.u=null),wt(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&o.clearTimeout(g.s),g.s=null)}function T(g){if(!tf(g.h)&&!g.s){g.s=!0;var L=g.Ga;re||ue(),Y||(re(),Y=!0),ae.add(L,g),g.B=0}}function V(g,L){return nf(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=L.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=ai(h(g.Ga,g,L),Xt(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const be=new kr(this,this.j,g);let Ne=this.o;if(this.S&&(Ne?(Ne=N(Ne),M(Ne,this.S)):Ne=this.S),this.m!==null||this.O||(be.H=Ne,Ne=null),this.P)e:{for(var L=0,F=0;F<this.i.length;F++){t:{var X=this.i[F];if("__data__"in X.map&&(X=X.map.__data__,typeof X=="string")){X=X.length;break t}X=void 0}if(X===void 0)break;if(L+=X,4096<L){L=F;break e}if(L===4096||F===this.i.length-1){L=F+1;break e}}L=1e3}else L=1e3;L=ye(this,be,L),F=Hr(this.I),Yt(F,"RID",g),Yt(F,"CVER",22),this.D&&Yt(F,"X-HTTP-Session-Id",this.D),oe(this,F),Ne&&(this.O?L="headers="+encodeURIComponent(String(ms(Ne)))+"&"+L:this.m&&sf(F,this.m,Ne)),Po(this.h,be),this.Ua&&Yt(F,"TYPE","init"),this.P?(Yt(F,"$req",L),Yt(F,"SID","null"),be.T=!0,No(be,F,null)):No(be,F,L),this.G=2}}else this.G==3&&(g?ee(this,g):this.i.length==0||tf(this.h)||ee(this))};function ee(g,L){var F;L?F=L.l:F=g.U++;const X=Hr(g.I);Yt(X,"SID",g.K),Yt(X,"RID",F),Yt(X,"AID",g.T),oe(g,X),g.m&&g.o&&sf(X,g.m,g.o),F=new kr(g,g.j,F,g.B+1),g.m===null&&(F.H=g.o),L&&(g.i=L.D.concat(g.i)),L=ye(g,F,1e3),F.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Po(g.h,F),No(F,X,L)}function oe(g,L){g.H&&O(g.H,function(F,X){Yt(L,X,F)}),g.l&&gl({},function(F,X){Yt(L,X,F)})}function ye(g,L,F){F=Math.min(g.i.length,F);var X=g.l?h(g.l.Na,g.l,g):null;e:{var be=g.i;let Ne=-1;for(;;){const Ve=["count="+F];Ne==-1?0<F?(Ne=be[0].g,Ve.push("ofs="+Ne)):Ne=0:Ve.push("ofs="+Ne);let Zt=!0;for(let or=0;or<F;or++){let Wt=be[or].g;const ln=be[or].map;if(Wt-=Ne,0>Wt)Ne=Math.max(0,be[or].g-100),Zt=!1;else try{dm(ln,Ve,"req"+Wt+"_")}catch{X&&X(ln)}}if(Zt){X=Ve.join("&");break e}}}return g=g.i.splice(0,F),L.D=g,X}function ke(g){if(!g.g&&!g.u){g.Y=1;var L=g.Fa;re||ue(),Y||(re(),Y=!0),ae.add(L,g),g.v=0}}function Oe(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=ai(h(g.Fa,g),Xt(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,at(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=ai(h(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zn(10),vs(this),at(this))};function Ye(g){g.A!=null&&(o.clearTimeout(g.A),g.A=null)}function at(g){g.g=new kr(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var L=Hr(g.qa);Yt(L,"RID","rpc"),Yt(L,"SID",g.K),Yt(L,"AID",g.T),Yt(L,"CI",g.F?"0":"1"),!g.F&&g.ja&&Yt(L,"TO",g.ja),Yt(L,"TYPE","xmlhttp"),oe(g,L),g.m&&g.o&&sf(L,g.m,g.o),g.L&&(g.g.I=g.L);var F=g.g;g=g.ia,F.L=1,F.v=vl(Hr(L)),F.m=null,F.P=!0,pl(F,g)}t.Za=function(){this.C!=null&&(this.C=null,vs(this),Oe(this),zn(19))};function wt(g){g.C!=null&&(o.clearTimeout(g.C),g.C=null)}function jt(g,L){var F=null;if(g.g==L){wt(g),Ye(g),g.g=null;var X=2}else if(ga(g.h,L))F=L.D,Ed(g.h,L),X=1;else return;if(g.G!=0){if(L.o)if(X==1){F=L.m?L.m.length:0,L=Date.now()-L.F;var be=g.B;X=Tr(),xt(X,new fs(X,F)),T(g)}else ke(g);else if(be=L.s,be==3||be==0&&0<L.X||!(X==1&&V(g,L)||X==2&&Oe(g)))switch(F&&0<F.length&&(L=g.h,L.i=L.i.concat(F)),be){case 1:dn(g,5);break;case 4:dn(g,10);break;case 3:dn(g,6);break;default:dn(g,2)}}}function Xt(g,L){let F=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(F*=2),F*L}function dn(g,L){if(g.j.info("Error code "+L),L==2){var F=h(g.fb,g),X=g.Xa;const be=!X;X=new jn(X||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||yl(X,"https"),vl(X),be?um(X.toString(),F):fm(X.toString(),F)}else zn(2);g.G=0,g.l&&g.l.sa(L),ir(g),cf(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),zn(2)):(this.j.info("Failed to ping google.com"),zn(1))};function ir(g){if(g.G=0,g.ka=[],g.l){const L=rr(g.h);(L.length!=0||g.i.length!=0)&&(x(g.ka,L),x(g.ka,g.i),g.h.i.length=0,b(g.i),g.i.length=0),g.l.ra()}}function yn(g,L,F){var X=F instanceof jn?Hr(F):new jn(F);if(X.g!="")L&&(X.g=L+"."+X.g),wc(X,X.s);else{var be=o.location;X=be.protocol,L=L?L+"."+be.hostname:be.hostname,be=+be.port;var Ne=new jn(null);X&&yl(Ne,X),L&&(Ne.g=L),be&&wc(Ne,be),F&&(Ne.l=F),X=Ne}return F=g.D,L=g.ya,F&&L&&Yt(X,F,L),Yt(X,"VER",g.la),oe(g,X),X}function yr(g,L,F){if(L&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return L=g.Ca&&!g.pa?new En(new Sc({eb:F})):new En(g.pa),L.Ha(g.J),L}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ar(){}t=ar.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function vr(){}vr.prototype.g=function(g,L){return new sr(g,L)};function sr(g,L){ut.call(this),this.g=new ys(L),this.l=g,this.h=L&&L.messageUrlParams||null,g=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(g?g["X-WebChannel-Content-Type"]=L.messageContentType:g={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(g?g["X-WebChannel-Client-Profile"]=L.va:g={"X-WebChannel-Client-Profile":L.va}),this.g.S=g,(g=L&&L.Sb)&&!w(g)&&(this.g.m=g),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!w(L)&&(this.g.D=L,g=this.h,g!==null&&L in g&&(g=this.h,L in g&&delete g[L])),this.j=new xs(this)}y(sr,ut),sr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sr.prototype.close=function(){Ec(this.g)},sr.prototype.o=function(g){var L=this.g;if(typeof g=="string"){var F={};F.__data__=g,g=F}else this.u&&(F={},F.__data__=Lt(g),g=F);L.i.push(new Zu(L.Ya++,g)),L.G==3&&T(L)},sr.prototype.N=function(){this.g.l=null,delete this.j,Ec(this.g),delete this.g,sr.aa.N.call(this)};function va(g){Ft.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var L=g.__sm__;if(L){e:{for(const F in L){g=F;break e}g=void 0}(this.i=g)&&(g=this.i,L=L!==null&&g in L?L[g]:void 0),this.data=L}else this.data=g}y(va,Ft);function bs(){mt.call(this),this.status=1}y(bs,mt);function xs(g){this.g=g}y(xs,ar),xs.prototype.ua=function(){xt(this.g,"a")},xs.prototype.ta=function(g){xt(this.g,new va(g))},xs.prototype.sa=function(g){xt(this.g,new bs)},xs.prototype.ra=function(){xt(this.g,"b")},vr.prototype.createWebChannel=vr.prototype.g,sr.prototype.send=sr.prototype.o,sr.prototype.open=sr.prototype.m,sr.prototype.close=sr.prototype.close,f$=function(){return new vr},u$=function(){return Tr()},c$=qt,hA={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ii.NO_ERROR=0,Ii.TIMEOUT=8,Ii.HTTP_ERROR=6,I1=Ii,Ca.COMPLETE="complete",l$=Ca,Pt.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",ut.prototype.listen=ut.prototype.K,ag=Pt,En.prototype.listenOnce=En.prototype.L,En.prototype.getLastError=En.prototype.Ka,En.prototype.getLastErrorCode=En.prototype.Ba,En.prototype.getStatus=En.prototype.Z,En.prototype.getResponseJson=En.prototype.Oa,En.prototype.getResponseText=En.prototype.oa,En.prototype.send=En.prototype.ea,En.prototype.setWithCredentials=En.prototype.Ha,o$=En}).apply(typeof I0<"u"?I0:typeof self<"u"?self:typeof window<"u"?window:{});const yC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wi.UNAUTHENTICATED=new Wi(null),Wi.GOOGLE_CREDENTIALS=new Wi("google-credentials-uid"),Wi.FIRST_PARTY=new Wi("first-party-uid"),Wi.MOCK_USER=new Wi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fp="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new MP("@firebase/firestore");function Lm(){return ed.logLevel}function st(t,...e){if(ed.logLevel<=tn.DEBUG){const n=e.map(KP);ed.debug(`Firestore (${Fp}): ${t}`,...n)}}function ic(t,...e){if(ed.logLevel<=tn.ERROR){const n=e.map(KP);ed.error(`Firestore (${Fp}): ${t}`,...n)}}function Zh(t,...e){if(ed.logLevel<=tn.WARN){const n=e.map(KP);ed.warn(`Firestore (${Fp}): ${t}`,...n)}}function KP(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t="Unexpected state"){const e=`FIRESTORE (${Fp}) INTERNAL ASSERTION FAILED: `+t;throw ic(e),new Error(e)}function An(t,e){t||Tt()}function Rt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends hc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wi.UNAUTHENTICATED))}shutdown(){}}class pte{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mte{constructor(e){this.t=e,this.currentUser=Wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){An(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Wl;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Wl,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Wl)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(An(typeof r.accessToken=="string"),new d$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return An(e===null||typeof e=="string"),new Wi(e)}}class gte{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Wi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class yte{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new gte(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vte{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bte{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){An(this.o===void 0);const r=a=>{a.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,st("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(An(typeof n.token=="string"),this.R=n.token,new vte(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xte(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=xte(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function cn(t,e){return t<e?-1:t>e?1:0}function ep(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ke(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ke(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ke(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vn.fromMillis(Date.now())}static fromDate(e){return Vn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Vn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?cn(this.nanoseconds,e.nanoseconds):cn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ot(e)}static min(){return new Ot(new Vn(0,0))}static max(){return new Ot(new Vn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n,r){n===void 0?n=0:n>e.length&&Tt(),r===void 0?r=e.length-n:r>e.length-n&&Tt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return oy.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oy?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),s=n.get(i);if(a<s)return-1;if(a>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Bn extends oy{construct(e,n,r){return new Bn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ke(Ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Bn(n)}static emptyPath(){return new Bn([])}}const wte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ai extends oy{construct(e,n,r){return new Ai(e,n,r)}static isValidIdentifier(e){return wte.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ai.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ai(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ke(Ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Ke(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ke(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new Ke(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ai(n)}static emptyPath(){return new Ai([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Bn.fromString(e))}static fromName(e){return new gt(Bn.fromString(e).popFirst(5))}static empty(){return new gt(Bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Bn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Bn(e.slice()))}}function _te(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ot.fromTimestamp(r===1e9?new Vn(n+1,0):new Vn(n,r));return new Tu(i,gt.empty(),e)}function Ste(t){return new Tu(t.readTime,t.key,-1)}class Tu{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Tu(Ot.min(),gt.empty(),-1)}static max(){return new Tu(Ot.max(),gt.empty(),-1)}}function Ate(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=gt.comparator(t.documentKey,e.documentKey),n!==0?n:cn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ete{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vv(t){if(t.code!==Ie.FAILED_PRECONDITION||t.message!==Nte)throw t;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new De((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof De?n:De.resolve(n)}catch(n){return De.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):De.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):De.reject(n)}static resolve(e){return new De((n,r)=>{n(e)})}static reject(e){return new De((n,r)=>{r(e)})}static waitFor(e){return new De((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(e){let n=De.resolve(!1);for(const r of e)n=n.next(i=>i?De.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new De((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++o,o===a&&r(s)},u=>i(u))}})}static doWhile(e,n){return new De((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function Pte(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bv(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}YP.oe=-1;function w2(t){return t==null}function Tb(t){return t===0&&1/t==-1/0}function Tte(t){return typeof t=="number"&&Number.isInteger(t)&&!Tb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function md(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function p$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){this.comparator=e,this.root=n||Si.EMPTY}insert(e,n){return new gr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Si.BLACK,null,null))}remove(e){return new gr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Si.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new O0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new O0(this.root,e,this.comparator,!1)}getReverseIterator(){return new O0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new O0(this.root,e,this.comparator,!0)}}class O0{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Si{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Si.RED,this.left=i??Si.EMPTY,this.right=a??Si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Si(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Si.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Tt();const e=this.left.check();if(e!==this.right.check())throw Tt();return e+(this.isRed()?0:1)}}Si.EMPTY=null,Si.RED=!0,Si.BLACK=!1;Si.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt()}get value(){throw Tt()}get color(){throw Tt()}get left(){throw Tt()}get right(){throw Tt()}copy(e,n,r,i,a){return this}insert(e,n,r){return new Si(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.comparator=e,this.data=new gr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bC(this.data.getIterator())}getIteratorFrom(e){return new bC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pi)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pi(this.comparator);return n.data=e,n}}class bC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this.fields=e,e.sort(Ai.comparator)}static empty(){return new Xa([])}unionWith(e){let n=new Pi(Ai.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xa(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ep(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new m$("Invalid base64 string: "+a):a}}(e);return new ki(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new ki(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return cn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ki.EMPTY_BYTE_STRING=new ki("");const kte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ku(t){if(An(!!t),typeof t=="string"){let e=0;const n=kte.exec(t);if(An(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lr(t.seconds),nanos:Lr(t.nanos)}}function Lr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function td(t){return typeof t=="string"?ki.fromBase64String(t):ki.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function QP(t){const e=t.mapValue.fields.__previous_value__;return XP(e)?QP(e):e}function ly(t){const e=ku(t.mapValue.fields.__local_write_time__.timestampValue);return new Vn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jte{constructor(e,n,r,i,a,s,o,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c}}class cy{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new cy("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof cy&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0={mapValue:{}};function nd(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?XP(t)?4:Ite(t)?9007199254740991:Cte(t)?10:11:Tt()}function rl(t,e){if(t===e)return!0;const n=nd(t);if(n!==nd(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ly(t).isEqual(ly(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=ku(i.timestampValue),o=ku(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return td(i.bytesValue).isEqual(td(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Lr(i.geoPointValue.latitude)===Lr(a.geoPointValue.latitude)&&Lr(i.geoPointValue.longitude)===Lr(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Lr(i.integerValue)===Lr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Lr(i.doubleValue),o=Lr(a.doubleValue);return s===o?Tb(s)===Tb(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ep(t.arrayValue.values||[],e.arrayValue.values||[],rl);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(vC(s)!==vC(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!rl(s[l],o[l])))return!1;return!0}(t,e);default:return Tt()}}function uy(t,e){return(t.values||[]).find(n=>rl(n,e))!==void 0}function tp(t,e){if(t===e)return 0;const n=nd(t),r=nd(e);if(n!==r)return cn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return cn(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=Lr(a.integerValue||a.doubleValue),l=Lr(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return xC(t.timestampValue,e.timestampValue);case 4:return xC(ly(t),ly(e));case 5:return cn(t.stringValue,e.stringValue);case 6:return function(a,s){const o=td(a),l=td(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=cn(o[c],l[c]);if(u!==0)return u}return cn(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=cn(Lr(a.latitude),Lr(s.latitude));return o!==0?o:cn(Lr(a.longitude),Lr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return wC(t.arrayValue,e.arrayValue);case 10:return function(a,s){var o,l,c,u;const f=a.fields||{},h=s.fields||{},p=(o=f.value)===null||o===void 0?void 0:o.arrayValue,y=(l=h.value)===null||l===void 0?void 0:l.arrayValue,b=cn(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0);return b!==0?b:wC(p,y)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===R0.mapValue&&s===R0.mapValue)return 0;if(a===R0.mapValue)return 1;if(s===R0.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=cn(l[f],u[f]);if(h!==0)return h;const p=tp(o[l[f]],c[u[f]]);if(p!==0)return p}return cn(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Tt()}}function xC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return cn(t,e);const n=ku(t),r=ku(e),i=cn(n.seconds,r.seconds);return i!==0?i:cn(n.nanos,r.nanos)}function wC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=tp(n[i],r[i]);if(a)return a}return cn(n.length,r.length)}function np(t){return pA(t)}function pA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ku(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return td(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return gt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=pA(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${pA(n.fields[s])}`;return i+"}"}(t.mapValue):Tt()}function _C(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function mA(t){return!!t&&"integerValue"in t}function JP(t){return!!t&&"arrayValue"in t}function SC(t){return!!t&&"nullValue"in t}function AC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function O1(t){return!!t&&"mapValue"in t}function Cte(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ag(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return md(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ag(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ag(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ite(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.value=e}static empty(){return new _a({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!O1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ag(n)}setAll(e){let n=Ai.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=Ag(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());O1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rl(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];O1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){md(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new _a(Ag(this.value))}}function g$(t){const e=[];return md(t.fields,(n,r)=>{const i=new Ai([n]);if(O1(r)){const a=g$(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Xa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Gi(e,0,Ot.min(),Ot.min(),Ot.min(),_a.empty(),0)}static newFoundDocument(e,n,r,i){return new Gi(e,1,n,Ot.min(),r,i,0)}static newNoDocument(e,n){return new Gi(e,2,n,Ot.min(),Ot.min(),_a.empty(),0)}static newUnknownDocument(e,n){return new Gi(e,3,n,Ot.min(),Ot.min(),_a.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_a.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_a.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n){this.position=e,this.inclusive=n}}function NC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=gt.comparator(gt.fromName(s.referenceValue),n.key):r=tp(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function EC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rl(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ote(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${}class qr extends y${constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Lte(e,n,r):n==="array-contains"?new Fte(e,r):n==="in"?new $te(e,r):n==="not-in"?new Bte(e,r):n==="array-contains-any"?new Ute(e,r):new qr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Mte(e,r):new Dte(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(tp(n,this.value)):n!==null&&nd(this.value)===nd(n)&&this.matchesComparison(tp(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mo extends y${constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new mo(e,n)}matches(e){return v$(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function v$(t){return t.op==="and"}function b$(t){return Rte(t)&&v$(t)}function Rte(t){for(const e of t.filters)if(e instanceof mo)return!1;return!0}function gA(t){if(t instanceof qr)return t.field.canonicalString()+t.op.toString()+np(t.value);if(b$(t))return t.filters.map(e=>gA(e)).join(",");{const e=t.filters.map(n=>gA(n)).join(",");return`${t.op}(${e})`}}function x$(t,e){return t instanceof qr?function(r,i){return i instanceof qr&&r.op===i.op&&r.field.isEqual(i.field)&&rl(r.value,i.value)}(t,e):t instanceof mo?function(r,i){return i instanceof mo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&x$(s,i.filters[o]),!0):!1}(t,e):void Tt()}function w$(t){return t instanceof qr?function(n){return`${n.field.canonicalString()} ${n.op} ${np(n.value)}`}(t):t instanceof mo?function(n){return n.op.toString()+" {"+n.getFilters().map(w$).join(" ,")+"}"}(t):"Filter"}class Lte extends qr{constructor(e,n,r){super(e,n,r),this.key=gt.fromName(r.referenceValue)}matches(e){const n=gt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Mte extends qr{constructor(e,n){super(e,"in",n),this.keys=_$("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Dte extends qr{constructor(e,n){super(e,"not-in",n),this.keys=_$("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _$(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>gt.fromName(r.referenceValue))}class Fte extends qr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return JP(n)&&uy(n.arrayValue,this.value)}}class $te extends qr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uy(this.value.arrayValue,n)}}class Bte extends qr{constructor(e,n){super(e,"not-in",n)}matches(e){if(uy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!uy(this.value.arrayValue,n)}}class Ute extends qr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!JP(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>uy(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vte{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.ue=null}}function PC(t,e=null,n=[],r=[],i=null,a=null,s=null){return new Vte(t,e,n,r,i,a,s)}function ZP(t){const e=Rt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>gA(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),w2(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>np(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>np(r)).join(",")),e.ue=n}return e.ue}function eT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ote(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!x$(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!EC(t.startAt,e.startAt)&&EC(t.endAt,e.endAt)}function yA(t){return gt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function zte(t,e,n,r,i,a,s,o){return new gd(t,e,n,r,i,a,s,o)}function _2(t){return new gd(t)}function TC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function S$(t){return t.collectionGroup!==null}function Ng(t){const e=Rt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Pi(Ai.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new fy(a,r))}),n.has(Ai.keyField().canonicalString())||e.ce.push(new fy(Ai.keyField(),r))}return e.ce}function Qo(t){const e=Rt(t);return e.le||(e.le=qte(e,Ng(t))),e.le}function qte(t,e){if(t.limitType==="F")return PC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new fy(i.field,a)});const n=t.endAt?new kb(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new kb(t.startAt.position,t.startAt.inclusive):null;return PC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function vA(t,e){const n=t.filters.concat([e]);return new gd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function bA(t,e,n){return new gd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function S2(t,e){return eT(Qo(t),Qo(e))&&t.limitType===e.limitType}function A$(t){return`${ZP(Qo(t))}|lt:${t.limitType}`}function Gd(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>w$(i)).join(", ")}]`),w2(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>np(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>np(i)).join(",")),`Target(${r})`}(Qo(t))}; limitType=${t.limitType})`}function A2(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):gt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Ng(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,l){const c=NC(s,o,l);return s.inclusive?c<=0:c<0}(r.startAt,Ng(r),i)||r.endAt&&!function(s,o,l){const c=NC(s,o,l);return s.inclusive?c>=0:c>0}(r.endAt,Ng(r),i))}(t,e)}function Wte(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function N$(t){return(e,n)=>{let r=!1;for(const i of Ng(t)){const a=Hte(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function Hte(t,e,n){const r=t.field.isKeyField()?gt.comparator(e.key,n.key):function(a,s,o){const l=s.data.field(a),c=o.data.field(a);return l!==null&&c!==null?tp(l,c):Tt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Tt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){md(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return p$(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gte=new gr(gt.comparator);function ac(){return Gte}const E$=new gr(gt.comparator);function sg(...t){let e=E$;for(const n of t)e=e.insert(n.key,n);return e}function P$(t){let e=E$;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function jf(){return Eg()}function T$(){return Eg()}function Eg(){return new $p(t=>t.toString(),(t,e)=>t.isEqual(e))}const Kte=new gr(gt.comparator),Yte=new Pi(gt.comparator);function Qt(...t){let e=Yte;for(const n of t)e=e.add(n);return e}const Xte=new Pi(cn);function Qte(){return Xte}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tb(e)?"-0":e}}function k$(t){return{integerValue:""+t}}function Jte(t,e){return Tte(e)?k$(e):tT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this._=void 0}}function Zte(t,e,n){return t instanceof dy?function(i,a){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&XP(a)&&(a=QP(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}}(n,e):t instanceof hy?C$(t,e):t instanceof py?I$(t,e):function(i,a){const s=j$(i,a),o=kC(s)+kC(i.Pe);return mA(s)&&mA(i.Pe)?k$(o):tT(i.serializer,o)}(t,e)}function ene(t,e,n){return t instanceof hy?C$(t,e):t instanceof py?I$(t,e):n}function j$(t,e){return t instanceof jb?function(r){return mA(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class dy extends N2{}class hy extends N2{constructor(e){super(),this.elements=e}}function C$(t,e){const n=O$(e);for(const r of t.elements)n.some(i=>rl(i,r))||n.push(r);return{arrayValue:{values:n}}}class py extends N2{constructor(e){super(),this.elements=e}}function I$(t,e){let n=O$(e);for(const r of t.elements)n=n.filter(i=>!rl(i,r));return{arrayValue:{values:n}}}class jb extends N2{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function kC(t){return Lr(t.integerValue||t.doubleValue)}function O$(t){return JP(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tne{constructor(e,n){this.field=e,this.transform=n}}function nne(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof hy&&i instanceof hy||r instanceof py&&i instanceof py?ep(r.elements,i.elements,rl):r instanceof jb&&i instanceof jb?rl(r.Pe,i.Pe):r instanceof dy&&i instanceof dy}(t.transform,e.transform)}class rne{constructor(e,n){this.version=e,this.transformResults=n}}class fa{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fa}static exists(e){return new fa(void 0,e)}static updateTime(e){return new fa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function R1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class E2{}function R$(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new P2(t.key,fa.none()):new xv(t.key,t.data,fa.none());{const n=t.data,r=_a.empty();let i=new Pi(Ai.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new Vu(t.key,r,new Xa(i.toArray()),fa.none())}}function ine(t,e,n){t instanceof xv?function(i,a,s){const o=i.value.clone(),l=CC(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Vu?function(i,a,s){if(!R1(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=CC(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(L$(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Pg(t,e,n,r){return t instanceof xv?function(a,s,o,l){if(!R1(a.precondition,s))return o;const c=a.value.clone(),u=IC(a.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vu?function(a,s,o,l){if(!R1(a.precondition,s))return o;const c=IC(a.fieldTransforms,l,s),u=s.data;return u.setAll(L$(a)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(a,s,o){return R1(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function ane(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=j$(r.transform,i||null);a!=null&&(n===null&&(n=_a.empty()),n.set(r.field,a))}return n||null}function jC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ep(r,i,(a,s)=>nne(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xv extends E2{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vu extends E2{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function L$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function CC(t,e,n){const r=new Map;An(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,ene(s,o,n[i]))}return r}function IC(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,Zte(a,s,e))}return r}class P2 extends E2{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sne extends E2{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class one{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&ine(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Pg(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Pg(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=T$();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=R$(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ot.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qt())}isEqual(e){return this.batchId===e.batchId&&ep(this.mutations,e.mutations,(n,r)=>jC(n,r))&&ep(this.baseMutations,e.baseMutations,(n,r)=>jC(n,r))}}class nT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){An(e.mutations.length===r.length);let i=function(){return Kte}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new nT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lne{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cne{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ur,rn;function une(t){switch(t){default:return Tt();case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0}}function M$(t){if(t===void 0)return ic("GRPC error has no .code"),Ie.UNKNOWN;switch(t){case Ur.OK:return Ie.OK;case Ur.CANCELLED:return Ie.CANCELLED;case Ur.UNKNOWN:return Ie.UNKNOWN;case Ur.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case Ur.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case Ur.INTERNAL:return Ie.INTERNAL;case Ur.UNAVAILABLE:return Ie.UNAVAILABLE;case Ur.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case Ur.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case Ur.NOT_FOUND:return Ie.NOT_FOUND;case Ur.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case Ur.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case Ur.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case Ur.ABORTED:return Ie.ABORTED;case Ur.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case Ur.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case Ur.DATA_LOSS:return Ie.DATA_LOSS;default:return Tt()}}(rn=Ur||(Ur={}))[rn.OK=0]="OK",rn[rn.CANCELLED=1]="CANCELLED",rn[rn.UNKNOWN=2]="UNKNOWN",rn[rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rn[rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rn[rn.NOT_FOUND=5]="NOT_FOUND",rn[rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",rn[rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",rn[rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",rn[rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rn[rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rn[rn.ABORTED=10]="ABORTED",rn[rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",rn[rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",rn[rn.INTERNAL=13]="INTERNAL",rn[rn.UNAVAILABLE=14]="UNAVAILABLE",rn[rn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fne(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dne=new Bf([4294967295,4294967295],0);function OC(t){const e=fne().encode(t),n=new s$;return n.update(e),new Uint8Array(n.digest())}function RC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Bf([n,r],0),new Bf([i,a],0)]}class rT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new og(`Invalid padding: ${n}`);if(r<0)throw new og(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new og(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new og(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Bf.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Bf.fromNumber(r)));return i.compare(dne)===1&&(i=new Bf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=OC(e),[r,i]=RC(n);for(let a=0;a<this.hashCount;a++){const s=this.Ee(r,i,a);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new rT(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.Ie===0)return;const n=OC(e),[r,i]=RC(n);for(let a=0;a<this.hashCount;a++){const s=this.Ee(r,i,a);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class og extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wv.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new T2(Ot.min(),i,new gr(cn),ac(),Qt())}}class wv{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wv(r,n,Qt(),Qt(),Qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class D${constructor(e,n){this.targetId=e,this.me=n}}class F${constructor(e,n,r=ki.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class LC{constructor(){this.fe=0,this.ge=DC(),this.pe=ki.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Qt(),n=Qt(),r=Qt();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Tt()}}),new wv(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=DC()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,An(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hne{constructor(e){this.Le=e,this.Be=new Map,this.ke=ac(),this.qe=MC(),this.Qe=new gr(cn)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Tt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const a=i.target;if(yA(a))if(r===0){const s=new gt(a.path);this.Ue(n,s,Gi.newNoDocument(s,Ot.min()))}else An(r===1);else{const s=this.Ye(n);if(s!==r){const o=this.Ze(e),l=o?this.Xe(o,e,s):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=td(r).toUint8Array()}catch(l){if(l instanceof m$)return Zh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new rT(s,i,a)}catch(l){return Zh(l instanceof og?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Le.tt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.Ue(n,a,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((a,s)=>{const o=this.Je(s);if(o){if(a.current&&yA(o.target)){const l=new gt(o.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Gi.newNoDocument(l,e))}a.be&&(n.set(s,a.ve()),a.Ce())}});let r=Qt();this.qe.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.ke.forEach((a,s)=>s.setReadTime(e));const i=new T2(e,n,this.Qe,this.ke,r);return this.ke=ac(),this.qe=MC(),this.Qe=new gr(cn),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new LC,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Pi(cn),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||st("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new LC),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function MC(){return new gr(gt.comparator)}function DC(){return new gr(gt.comparator)}const pne={asc:"ASCENDING",desc:"DESCENDING"},mne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gne={and:"AND",or:"OR"};class yne{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xA(t,e){return t.useProto3Json||w2(e)?e:{value:e}}function Cb(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vne(t,e){return Cb(t,e.toTimestamp())}function Jo(t){return An(!!t),Ot.fromTimestamp(function(n){const r=ku(n);return new Vn(r.seconds,r.nanos)}(t))}function iT(t,e){return wA(t,e).canonicalString()}function wA(t,e){const n=function(i){return new Bn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function B$(t){const e=Bn.fromString(t);return An(W$(e)),e}function _A(t,e){return iT(t.databaseId,e.path)}function R5(t,e){const n=B$(e);if(n.get(1)!==t.databaseId.projectId)throw new Ke(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ke(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new gt(V$(n))}function U$(t,e){return iT(t.databaseId,e)}function bne(t){const e=B$(t);return e.length===4?Bn.emptyPath():V$(e)}function SA(t){return new Bn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function V$(t){return An(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function FC(t,e,n){return{name:_A(t,e),fields:n.value.mapValue.fields}}function xne(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Tt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(An(u===void 0||typeof u=="string"),ki.fromBase64String(u||"")):(An(u===void 0||u instanceof Buffer||u instanceof Uint8Array),ki.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(c){const u=c.code===void 0?Ie.UNKNOWN:M$(c.code);return new Ke(u,c.message||"")}(s);n=new F$(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=R5(t,r.document.name),a=Jo(r.document.updateTime),s=r.document.createTime?Jo(r.document.createTime):Ot.min(),o=new _a({mapValue:{fields:r.document.fields}}),l=Gi.newFoundDocument(i,a,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new L1(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=R5(t,r.document),a=r.readTime?Jo(r.readTime):Ot.min(),s=Gi.newNoDocument(i,a),o=r.removedTargetIds||[];n=new L1([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=R5(t,r.document),a=r.removedTargetIds||[];n=new L1([],a,i,null)}else{if(!("filter"in e))return Tt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new cne(i,a),o=r.targetId;n=new D$(o,s)}}return n}function wne(t,e){let n;if(e instanceof xv)n={update:FC(t,e.key,e.value)};else if(e instanceof P2)n={delete:_A(t,e.key)};else if(e instanceof Vu)n={update:FC(t,e.key,e.data),updateMask:jne(e.fieldMask)};else{if(!(e instanceof sne))return Tt();n={verify:_A(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof dy)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof hy)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof py)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof jb)return{fieldPath:s.field.canonicalString(),increment:o.Pe};throw Tt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:vne(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Tt()}(t,e.precondition)),n}function _ne(t,e){return t&&t.length>0?(An(e!==void 0),t.map(n=>function(i,a){let s=i.updateTime?Jo(i.updateTime):Jo(a);return s.isEqual(Ot.min())&&(s=Jo(a)),new rne(s,i.transformResults||[])}(n,e))):[]}function Sne(t,e){return{documents:[U$(t,e.path)]}}function Ane(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=U$(t,i);const a=function(c){if(c.length!==0)return q$(mo.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Kd(h.field),direction:Pne(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=xA(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function Nne(t){let e=bne(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){An(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];n.where&&(a=function(f){const h=z$(f);return h instanceof mo&&b$(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(y){return new fy(Yd(y.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let o=null;n.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,w2(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new kb(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new kb(p,h)}(n.endAt)),zte(e,i,s,a,o,"F",l,c)}function Ene(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function z$(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yd(n.unaryFilter.field);return qr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Yd(n.unaryFilter.field);return qr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Yd(n.unaryFilter.field);return qr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Yd(n.unaryFilter.field);return qr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Tt()}}(t):t.fieldFilter!==void 0?function(n){return qr.create(Yd(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mo.create(n.compositeFilter.filters.map(r=>z$(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Tt()}}(n.compositeFilter.op))}(t):Tt()}function Pne(t){return pne[t]}function Tne(t){return mne[t]}function kne(t){return gne[t]}function Kd(t){return{fieldPath:t.canonicalString()}}function Yd(t){return Ai.fromServerFormat(t.fieldPath)}function q$(t){return t instanceof qr?function(n){if(n.op==="=="){if(AC(n.value))return{unaryFilter:{field:Kd(n.field),op:"IS_NAN"}};if(SC(n.value))return{unaryFilter:{field:Kd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(AC(n.value))return{unaryFilter:{field:Kd(n.field),op:"IS_NOT_NAN"}};if(SC(n.value))return{unaryFilter:{field:Kd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kd(n.field),op:Tne(n.op),value:n.value}}}(t):t instanceof mo?function(n){const r=n.getFilters().map(i=>q$(i));return r.length===1?r[0]:{compositeFilter:{op:kne(n.op),filters:r}}}(t):Tt()}function jne(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function W$(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n,r,i,a=Ot.min(),s=Ot.min(),o=ki.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new ou(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ou(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ou(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ou(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cne{constructor(e){this.ct=e}}function Ine(t){const e=Nne({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bA(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class One{constructor(){this.un=new Rne}addToCollectionParentIndex(e,n){return this.un.add(n),De.resolve()}getCollectionParents(e,n){return De.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return De.resolve()}deleteFieldIndex(e,n){return De.resolve()}deleteAllFieldIndexes(e){return De.resolve()}createTargetIndexes(e,n){return De.resolve()}getDocumentsMatchingTarget(e,n){return De.resolve(null)}getIndexType(e,n){return De.resolve(0)}getFieldIndexes(e,n){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}getMinOffset(e,n){return De.resolve(Tu.min())}getMinOffsetFromCollectionGroup(e,n){return De.resolve(Tu.min())}updateCollectionGroup(e,n,r){return De.resolve()}updateIndexEntries(e,n){return De.resolve()}}class Rne{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pi(Bn.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pi(Bn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new rp(0)}static kn(){return new rp(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lne{constructor(){this.changes=new $p(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?De.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mne{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dne{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Pg(r.mutation,i,Xa.empty(),Vn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qt()){const i=jf();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=sg();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=jf();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qt()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=ac();const s=Eg(),o=function(){return Eg()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Vu)?a=a.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Pg(u.mutation,c,u.mutation.getFieldMask(),Vn.now())):s.set(c.key,Xa.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>{var f;return o.set(c,new Mne(u,(f=s.get(c))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(e,n){const r=Eg();let i=new gr((s,o)=>s-o),a=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Xa.empty();u=o.applyToLocalView(c,u),r.set(l,u);const f=(i.get(o.batchId)||Qt()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=T$();u.forEach(h=>{if(!a.has(h)){const p=R$(n.get(h),r.get(h));p!==null&&f.set(h,p),a=a.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return De.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):S$(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):De.resolve(jf());let o=-1,l=a;return s.next(c=>De.forEach(c,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),a.get(u)?De.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,Qt())).next(u=>({batchId:o,changes:P$(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new gt(n)).next(r=>{let i=sg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=sg();return this.indexManager.getCollectionParents(e,a).next(o=>De.forEach(o,l=>{const c=function(f,h){return new gd(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Gi.newInvalidDocument(u)))});let o=sg();return s.forEach((l,c)=>{const u=a.get(l);u!==void 0&&Pg(u.mutation,c,Xa.empty(),Vn.now()),A2(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fne{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return De.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jo(i.createTime)}}(n)),De.resolve()}getNamedQuery(e,n){return De.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Ine(i.bundledQuery),readTime:Jo(i.readTime)}}(n)),De.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ne{constructor(){this.overlays=new gr(gt.comparator),this.Ir=new Map}getOverlay(e,n){return De.resolve(this.overlays.get(n))}getOverlays(e,n){const r=jf();return De.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.ht(e,n,a)}),De.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),De.resolve()}getOverlaysForCollection(e,n,r){const i=jf(),a=n.length+1,s=new gt(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return De.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new gr((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=a.get(c.largestBatchId);u===null&&(u=jf(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=jf(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=i)););return De.resolve(o)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new lne(n,r));let a=this.Ir.get(n);a===void 0&&(a=Qt(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bne{constructor(){this.sessionToken=ki.EMPTY_BYTE_STRING}getSessionToken(e){return De.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,De.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.Tr=new Pi(ci.Er),this.dr=new Pi(ci.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ci(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ci(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new gt(new Bn([])),r=new ci(n,e),i=new ci(n,e+1),a=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),a.push(s.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new gt(new Bn([])),r=new ci(n,e),i=new ci(n,e+1);let a=Qt();return this.dr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new ci(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ci{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return gt.comparator(e.key,n.key)||cn(e.wr,n.wr)}static Ar(e,n){return cn(e.wr,n.wr)||gt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Une{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Pi(ci.Er)}checkEmpty(e){return De.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new one(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.br=this.br.add(new ci(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return De.resolve(s)}lookupMutationBatch(e,n){return De.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),a=i<0?0:i;return De.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return De.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ci(n,0),i=new ci(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],s=>{const o=this.Dr(s.wr);a.push(o)}),De.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pi(cn);return n.forEach(i=>{const a=new ci(i,0),s=new ci(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],o=>{r=r.add(o.wr)})}),De.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;gt.isDocumentKey(a)||(a=a.child(""));const s=new ci(new gt(a),0);let o=new Pi(cn);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.wr)),!0)},s),De.resolve(this.Cr(o))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){An(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return De.forEach(n.mutations,i=>{const a=new ci(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ci(n,0),i=this.br.firstAfterOrEqual(r);return De.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,De.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vne{constructor(e){this.Mr=e,this.docs=function(){return new gr(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return De.resolve(r?r.document.mutableCopy():Gi.newInvalidDocument(n))}getEntries(e,n){let r=ac();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Gi.newInvalidDocument(i))}),De.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=ac();const s=n.path,o=new gt(s.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Ate(Ste(u),r)<=0||(i.has(u.key)||A2(n,u))&&(a=a.insert(u.key,u.mutableCopy()))}return De.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Tt()}Or(e,n){return De.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new zne(this)}getSize(e){return De.resolve(this.size)}}class zne extends Lne{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),De.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qne{constructor(e){this.persistence=e,this.Nr=new $p(n=>ZP(n),eT),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.Lr=0,this.Br=new aT,this.targetCount=0,this.kr=rp.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),De.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new rp(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,De.resolve()}updateTargetData(e,n){return this.Kn(n),De.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Nr.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),De.waitFor(a).next(()=>i)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return De.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),De.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),De.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),De.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return De.resolve(r)}containsKey(e,n){return De.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wne{constructor(e,n){this.qr={},this.overlays={},this.Qr=new YP(0),this.Kr=!1,this.Kr=!0,this.$r=new Bne,this.referenceDelegate=e(this),this.Ur=new qne(this),this.indexManager=new One,this.remoteDocumentCache=function(i){return new Vne(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Cne(n),this.Gr=new Fne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $ne,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Une(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){st("MemoryPersistence","Starting transaction:",e);const i=new Hne(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,n){return De.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Hne extends Ete{constructor(e){super(),this.currentSequenceNumber=e}}class sT{constructor(e){this.persistence=e,this.Jr=new aT,this.Yr=null}static Zr(e){return new sT(e)}get Xr(){if(this.Yr)return this.Yr;throw Tt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),De.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),De.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),De.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.Xr,r=>{const i=gt.fromPath(r);return this.ei(e,i).next(a=>{a||n.removeEntry(i,Ot.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return De.or([()=>De.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Qt(),i=Qt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new oT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kne{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return jQ()?8:Pte(ea())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Yi(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Zi(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new Gne;return this.Xi(e,n,s).next(o=>{if(a.result=o,this.zi)return this.es(e,n,s,o.size)})}).next(()=>a.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Lm()<=tn.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Gd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),De.resolve()):(Lm()<=tn.DEBUG&&st("QueryEngine","Query:",Gd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Lm()<=tn.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Gd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qo(n))):De.resolve())}Yi(e,n){if(TC(n))return De.resolve(null);let r=Qo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=bA(n,null,"F"),r=Qo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=Qt(...a);return this.Ji.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,o);return this.ns(n,c,s,l.readTime)?this.Yi(e,bA(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return TC(n)||i.isEqual(Ot.min())?De.resolve(null):this.Ji.getDocuments(e,r).next(a=>{const s=this.ts(n,a);return this.ns(n,s,r,i)?De.resolve(null):(Lm()<=tn.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Gd(n)),this.rs(e,s,n,_te(i,-1)).next(o=>o))})}ts(e,n){let r=new Pi(N$(e));return n.forEach((i,a)=>{A2(e,a)&&(r=r.add(a))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,n,r){return Lm()<=tn.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Gd(n)),this.Ji.getDocumentsMatchingQuery(e,n,Tu.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yne{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new gr(cn),this._s=new $p(a=>ZP(a),eT),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dne(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Xne(t,e,n,r){return new Yne(t,e,n,r)}async function H$(t,e){const n=Rt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=Qt();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:o}))})})}function Qne(t,e){const n=Rt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const f=c.batch,h=f.keys();let p=De.resolve();return h.forEach(y=>{p=p.next(()=>u.getEntry(l,y)).next(b=>{const x=c.docVersions.get(y);An(x!==null),b.version.compareTo(x)<0&&(f.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),u.addEntry(b)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Qt();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function G$(t){const e=Rt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Jne(t,e){const n=Rt(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;o.push(n.Ur.removeMatchingKeys(a,u.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(a,u.addedDocuments,f)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(ki.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(f,p),function(b,x,v){return b.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,p,u)&&o.push(n.Ur.updateTargetData(a,p))});let l=ac(),c=Qt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,u))}),o.push(Zne(a,s,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(Ot.min())){const u=n.Ur.getLastRemoteSnapshotVersion(a).next(f=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(u)}return De.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(n.os=i,a))}function Zne(t,e,n){let r=Qt(),i=Qt();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=ac();return n.forEach((o,l)=>{const c=a.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Ot.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):st("LocalStore","Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function ere(t,e){const n=Rt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function tre(t,e){const n=Rt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(a=>a?(i=a,De.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new ou(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function AA(t,e,n){const r=Rt(t),i=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!bv(s))throw s;st("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function $C(t,e,n){const r=Rt(t);let i=Ot.min(),a=Qt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=Rt(l),h=f._s.get(u);return h!==void 0?De.resolve(f.os.get(h)):f.Ur.getTargetData(c,u)}(r,s,Qo(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Ot.min(),n?a:Qt())).next(o=>(nre(r,Wte(e),o),{documents:o,Ts:a})))}function nre(t,e,n){let r=t.us.get(e)||Ot.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.us.set(e,r)}class BC{constructor(){this.activeTargetIds=Qte()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rre{constructor(){this.so=new BC,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new BC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ire{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){st("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){st("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L0=null;function L5(){return L0===null?L0=function(){return 268435456+Math.round(2147483648*Math.random())}():L0++,"0x"+L0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const are={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sre{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="WebChannelConnection";class ore extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(n,r,i,a,s){const o=L5(),l=this.xo(n,r.toUriEncodedString());st("RestConnection",`Sending RPC '${n}' ${o}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,a,s),this.No(n,l,c,i).then(u=>(st("RestConnection",`Received RPC '${n}' ${o}: `,u),u),u=>{throw Zh("RestConnection",`RPC '${n}' ${o} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(n,r,i,a,s,o){return this.Mo(n,r,i,a,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fp}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,s)=>n[s]=a),i&&i.headers.forEach((a,s)=>n[s]=a)}xo(n,r){const i=are[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const a=L5();return new Promise((s,o)=>{const l=new o$;l.setWithCredentials(!0),l.listenOnce(l$.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case I1.NO_ERROR:const u=l.getResponseJson();st(Fi,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(u)),s(u);break;case I1.TIMEOUT:st(Fi,`RPC '${e}' ${a} timed out`),o(new Ke(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case I1.HTTP_ERROR:const f=l.getStatus();if(st(Fi,`RPC '${e}' ${a} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const y=function(x){const v=x.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(v)>=0?v:Ie.UNKNOWN}(p.status);o(new Ke(y,p.message))}else o(new Ke(Ie.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new Ke(Ie.UNAVAILABLE,"Connection failed."));break;default:Tt()}}finally{st(Fi,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(i);st(Fi,`RPC '${e}' ${a} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=L5(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=f$(),o=u$(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=a.join("");st(Fi,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=s.createWebChannel(u,l);let h=!1,p=!1;const y=new sre({Io:x=>{p?st(Fi,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(st(Fi,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),st(Fi,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},To:()=>f.close()}),b=(x,v,w)=>{x.listen(v,_=>{try{w(_)}catch(A){setTimeout(()=>{throw A},0)}})};return b(f,ag.EventType.OPEN,()=>{p||(st(Fi,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),b(f,ag.EventType.CLOSE,()=>{p||(p=!0,st(Fi,`RPC '${e}' stream ${i} transport closed`),y.So())}),b(f,ag.EventType.ERROR,x=>{p||(p=!0,Zh(Fi,`RPC '${e}' stream ${i} transport errored:`,x),y.So(new Ke(Ie.UNAVAILABLE,"The operation could not be completed")))}),b(f,ag.EventType.MESSAGE,x=>{var v;if(!p){const w=x.data[0];An(!!w);const _=w,A=_.error||((v=_[0])===null||v===void 0?void 0:v.error);if(A){st(Fi,`RPC '${e}' stream ${i} received error:`,A);const E=A.status;let O=function(k){const M=Ur[k];if(M!==void 0)return M$(M)}(E),C=A.message;O===void 0&&(O=Ie.INTERNAL,C="Unknown error status: "+E+" with message "+A.message),p=!0,y.So(new Ke(O,C)),f.close()}else st(Fi,`RPC '${e}' stream ${i} received:`,w),y.bo(w)}}),b(o,c$.STAT_EVENT,x=>{x.stat===hA.PROXY?st(Fi,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===hA.NOPROXY&&st(Fi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function M5(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t){return new yne(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e,n,r=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&st("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(e,n,r,i,a,s,o,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new K$(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Ie.RESOURCE_EXHAUSTED?(ic(n.toString()),ic("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Ke(Ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return st("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(st("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lre extends Y${constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=xne(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ot.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Ot.min():s.readTime?Jo(s.readTime):Ot.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=SA(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=yA(l)?{documents:Sne(a,l)}:{query:Ane(a,l)._t},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=$$(a,s.resumeToken);const c=xA(a,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(Ot.min())>0){o.readTime=Cb(a,s.snapshotVersion.toTimestamp());const c=xA(a,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=Ene(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=SA(this.serializer),n.removeTarget=e,this.a_(n)}}class cre extends Y${constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return An(!!e.streamToken),this.lastStreamToken=e.streamToken,An(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){An(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=_ne(e.writeResults,e.commitTime),r=Jo(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=SA(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>wne(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ure extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ke(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Mo(e,wA(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ke(Ie.UNKNOWN,a.toString())})}Lo(e,n,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Lo(e,wA(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ke(Ie.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class fre{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ic(n),this.D_=!1):st("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dre{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(s=>{r.enqueueAndForget(async()=>{yd(this)&&(st("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Rt(l);c.L_.add(4),await _v(c),c.q_.set("Unknown"),c.L_.delete(4),await j2(c)}(this))})}),this.q_=new fre(r,i)}}async function j2(t){if(yd(t))for(const e of t.B_)await e(!0)}async function _v(t){for(const e of t.B_)await e(!1)}function X$(t,e){const n=Rt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),fT(n)?uT(n):Bp(n).r_()&&cT(n,e))}function lT(t,e){const n=Rt(t),r=Bp(n);n.N_.delete(e),r.r_()&&Q$(n,e),n.N_.size===0&&(r.r_()?r.o_():yd(n)&&n.q_.set("Unknown"))}function cT(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ot.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bp(t).A_(e)}function Q$(t,e){t.Q_.xe(e),Bp(t).R_(e)}function uT(t){t.Q_=new hne({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Bp(t).start(),t.q_.v_()}function fT(t){return yd(t)&&!Bp(t).n_()&&t.N_.size>0}function yd(t){return Rt(t).L_.size===0}function J$(t){t.Q_=void 0}async function hre(t){t.q_.set("Online")}async function pre(t){t.N_.forEach((e,n)=>{cT(t,e)})}async function mre(t,e){J$(t),fT(t)?(t.q_.M_(e),uT(t)):t.q_.set("Unknown")}async function gre(t,e,n){if(t.q_.set("Online"),e instanceof F$&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(r){st("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ib(t,r)}else if(e instanceof L1?t.Q_.Ke(e):e instanceof D$?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ot.min()))try{const r=await G$(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.Q_.rt(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.N_.get(c);u&&a.N_.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=a.N_.get(l);if(!u)return;a.N_.set(l,u.withResumeToken(ki.EMPTY_BYTE_STRING,u.snapshotVersion)),Q$(a,l);const f=new ou(u.target,l,c,u.sequenceNumber);cT(a,f)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){st("RemoteStore","Failed to raise snapshot:",r),await Ib(t,r)}}async function Ib(t,e,n){if(!bv(e))throw e;t.L_.add(1),await _v(t),t.q_.set("Offline"),n||(n=()=>G$(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{st("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await j2(t)})}function Z$(t,e){return e().catch(n=>Ib(t,n,e))}async function C2(t){const e=Rt(t),n=ju(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;yre(e);)try{const i=await ere(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,vre(e,i)}catch(i){await Ib(e,i)}e9(e)&&t9(e)}function yre(t){return yd(t)&&t.O_.length<10}function vre(t,e){t.O_.push(e);const n=ju(t);n.r_()&&n.V_&&n.m_(e.mutations)}function e9(t){return yd(t)&&!ju(t).n_()&&t.O_.length>0}function t9(t){ju(t).start()}async function bre(t){ju(t).p_()}async function xre(t){const e=ju(t);for(const n of t.O_)e.m_(n.mutations)}async function wre(t,e,n){const r=t.O_.shift(),i=nT.from(r,e,n);await Z$(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await C2(t)}async function _re(t,e){e&&ju(t).V_&&await async function(r,i){if(function(s){return une(s)&&s!==Ie.ABORTED}(i.code)){const a=r.O_.shift();ju(r).s_(),await Z$(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await C2(r)}}(t,e),e9(t)&&t9(t)}async function VC(t,e){const n=Rt(t);n.asyncQueue.verifyOperationInProgress(),st("RemoteStore","RemoteStore received new credentials");const r=yd(n);n.L_.add(3),await _v(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await j2(n)}async function Sre(t,e){const n=Rt(t);e?(n.L_.delete(2),await j2(n)):e||(n.L_.add(2),await _v(n),n.q_.set("Unknown"))}function Bp(t){return t.K_||(t.K_=function(n,r,i){const a=Rt(n);return a.w_(),new lre(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:hre.bind(null,t),Ro:pre.bind(null,t),mo:mre.bind(null,t),d_:gre.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),fT(t)?uT(t):t.q_.set("Unknown")):(await t.K_.stop(),J$(t))})),t.K_}function ju(t){return t.U_||(t.U_=function(n,r,i){const a=Rt(n);return a.w_(),new cre(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:bre.bind(null,t),mo:_re.bind(null,t),f_:xre.bind(null,t),g_:wre.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await C2(t)):(await t.U_.stop(),t.O_.length>0&&(st("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Wl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new dT(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ke(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hT(t,e){if(ic("AsyncQueue",`${e}: ${t}`),bv(t))return new Ke(Ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e){this.comparator=e?(n,r)=>e(n,r)||gt.comparator(n.key,r.key):(n,r)=>gt.comparator(n.key,r.key),this.keyedMap=sg(),this.sortedSet=new gr(this.comparator)}static emptySet(e){return new jh(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jh)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new jh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(){this.W_=new gr(gt.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Tt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ip{constructor(e,n,r,i,a,s,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new ip(e,n,jh.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&S2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Are{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Nre{constructor(){this.queries=qC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Rt(n),a=i.queries;i.queries=qC(),a.forEach((s,o)=>{for(const l of o.j_)l.onError(r)})})(this,new Ke(Ie.ABORTED,"Firestore shutting down"))}}function qC(){return new $p(t=>A$(t),S2)}async function pT(t,e){const n=Rt(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.H_()&&e.J_()&&(r=2):(a=new Are,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=hT(s,`Initialization of query '${Gd(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&gT(n)}async function mT(t,e){const n=Rt(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.j_.indexOf(e);s>=0&&(a.j_.splice(s,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ere(t,e){const n=Rt(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.j_)o.X_(i)&&(r=!0);s.z_=i}}r&&gT(n)}function Pre(t,e,n){const r=Rt(t),i=r.queries.get(e);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(e)}function gT(t){t.Y_.forEach(e=>{e.next()})}var NA,WC;(WC=NA||(NA={})).ea="default",WC.Cache="cache";class yT{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ip(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ip.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==NA.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e){this.key=e}}class r9{constructor(e){this.key=e}}class Tre{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Qt(),this.mutatedKeys=Qt(),this.Aa=N$(e),this.Ra=new jh(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new zC,i=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),p=A2(this.query,f)?f:null,y=!!h&&this.mutatedKeys.has(h.key),b=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;h&&p?h.data.isEqual(p.data)?y!==b&&(r.track({type:3,doc:p}),x=!0):this.ga(h,p)||(r.track({type:2,doc:p}),x=!0,(l&&this.Aa(p,l)>0||c&&this.Aa(p,c)<0)&&(o=!0)):!h&&p?(r.track({type:0,doc:p}),x=!0):h&&!p&&(r.track({type:1,doc:h}),x=!0,(l||c)&&(o=!0)),x&&(p?(s=s.add(p),a=b?a.add(u):a.delete(u)):(s=s.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),a=a.delete(u.key),r.track({type:1,doc:u})}return{Ra:s,fa:r,ns:o,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((u,f)=>function(p,y){const b=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt()}};return b(p)-b(y)}(u.type,f.type)||this.Aa(u.doc,f.doc)),this.pa(r),i=i!=null&&i;const o=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,s.length!==0||c?{snapshot:new ip(this.query,e.Ra,a,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new zC,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Qt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new r9(r))}),this.da.forEach(r=>{e.has(r)||n.push(new n9(r))}),n}ba(e){this.Ta=e.Ts,this.da=Qt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ip.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class kre{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jre{constructor(e){this.key=e,this.va=!1}}class Cre{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new $p(o=>A$(o),S2),this.Ma=new Map,this.xa=new Set,this.Oa=new gr(gt.comparator),this.Na=new Map,this.La=new aT,this.Ba={},this.ka=new Map,this.qa=rp.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Ire(t,e,n=!0){const r=c9(t);let i;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await i9(r,e,n,!0),i}async function Ore(t,e){const n=c9(t);await i9(n,e,!0,!1)}async function i9(t,e,n,r){const i=await tre(t.localStore,Qo(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await Rre(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&X$(t.remoteStore,i),o}async function Rre(t,e,n,r,i){t.Ka=(f,h,p)=>async function(b,x,v,w){let _=x.view.ma(v);_.ns&&(_=await $C(b.localStore,x.query,!1).then(({documents:C})=>x.view.ma(C,_)));const A=w&&w.targetChanges.get(x.targetId),E=w&&w.targetMismatches.get(x.targetId)!=null,O=x.view.applyChanges(_,b.isPrimaryClient,A,E);return GC(b,x.targetId,O.wa),O.snapshot}(t,f,h,p);const a=await $C(t.localStore,e,!0),s=new Tre(e,a.Ts),o=s.ma(a.documents),l=wv.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(o,t.isPrimaryClient,l);GC(t,n,c.wa);const u=new kre(e,n,s);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function Lre(t,e,n){const r=Rt(t),i=r.Fa.get(e),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter(s=>!S2(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await AA(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&lT(r.remoteStore,i.targetId),EA(r,i.targetId)}).catch(vv)):(EA(r,i.targetId),await AA(r.localStore,i.targetId,!0))}async function Mre(t,e){const n=Rt(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),lT(n.remoteStore,r.targetId))}async function Dre(t,e,n){const r=qre(t);try{const i=await function(s,o){const l=Rt(s),c=Vn.now(),u=o.reduce((p,y)=>p.add(y.key),Qt());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=ac(),b=Qt();return l.cs.getEntries(p,u).next(x=>{y=x,y.forEach((v,w)=>{w.isValidDocument()||(b=b.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,y)).next(x=>{f=x;const v=[];for(const w of o){const _=ane(w,f.get(w.key).overlayedDocument);_!=null&&v.push(new Vu(w.key,_,g$(_.value.mapValue),fa.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,v,o)}).next(x=>{h=x;const v=x.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(p,x.batchId,v)})}).then(()=>({batchId:h.batchId,changes:P$(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let c=s.Ba[s.currentUser.toKey()];c||(c=new gr(cn)),c=c.insert(o,l),s.Ba[s.currentUser.toKey()]=c}(r,i.batchId,n),await Sv(r,i.changes),await C2(r.remoteStore)}catch(i){const a=hT(i,"Failed to persist write");n.reject(a)}}async function a9(t,e){const n=Rt(t);try{const r=await Jne(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Na.get(a);s&&(An(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?An(s.va):i.removedDocuments.size>0&&(An(s.va),s.va=!1))}),await Sv(n,r,e)}catch(r){await vv(r)}}function HC(t,e,n){const r=Rt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((a,s)=>{const o=s.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=Rt(s);l.onlineState=o;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.j_)h.Z_(o)&&(c=!0)}),c&&gT(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Fre(t,e,n){const r=Rt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),a=i&&i.key;if(a){let s=new gr(gt.comparator);s=s.insert(a,Gi.newNoDocument(a,Ot.min()));const o=Qt().add(a),l=new T2(Ot.min(),new Map,new gr(cn),s,o);await a9(r,l),r.Oa=r.Oa.remove(a),r.Na.delete(e),vT(r)}else await AA(r.localStore,e,!1).then(()=>EA(r,e,n)).catch(vv)}async function $re(t,e){const n=Rt(t),r=e.batch.batchId;try{const i=await Qne(n.localStore,e);o9(n,r,null),s9(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sv(n,i)}catch(i){await vv(i)}}async function Bre(t,e,n){const r=Rt(t);try{const i=await function(s,o){const l=Rt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(An(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);o9(r,e,n),s9(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Sv(r,i)}catch(i){await vv(i)}}function s9(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function o9(t,e,n){const r=Rt(t);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function EA(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||l9(t,r)})}function l9(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(lT(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),vT(t))}function GC(t,e,n){for(const r of n)r instanceof n9?(t.La.addReference(r.key,e),Ure(t,r)):r instanceof r9?(st("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||l9(t,r.key)):Tt()}function Ure(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(st("SyncEngine","New document in limbo: "+n),t.xa.add(r),vT(t))}function vT(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new gt(Bn.fromString(e)),r=t.qa.next();t.Na.set(r,new jre(n)),t.Oa=t.Oa.insert(n,r),X$(t.remoteStore,new ou(Qo(_2(n.path)),r,"TargetPurposeLimboResolution",YP.oe))}}async function Sv(t,e,n){const r=Rt(t),i=[],a=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((o,l)=>{s.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=oT.Wi(l.targetId,c);a.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,c){const u=Rt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>De.forEach(c,h=>De.forEach(h.$i,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>De.forEach(h.Ui,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!bv(f))throw f;st("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.os.get(h),y=p.snapshotVersion,b=p.withLastLimboFreeSnapshotVersion(y);u.os=u.os.insert(h,b)}}}(r.localStore,a))}async function Vre(t,e){const n=Rt(t);if(!n.currentUser.isEqual(e)){st("SyncEngine","User change. New user:",e.toKey());const r=await H$(n.localStore,e);n.currentUser=e,function(a,s){a.ka.forEach(o=>{o.forEach(l=>{l.reject(new Ke(Ie.CANCELLED,s))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Sv(n,r.hs)}}function zre(t,e){const n=Rt(t),r=n.Na.get(e);if(r&&r.va)return Qt().add(r.key);{let i=Qt();const a=n.Ma.get(e);if(!a)return i;for(const s of a){const o=n.Fa.get(s);i=i.unionWith(o.view.Va)}return i}}function c9(t){const e=Rt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=a9.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fre.bind(null,e),e.Ca.d_=Ere.bind(null,e.eventManager),e.Ca.$a=Pre.bind(null,e.eventManager),e}function qre(t){const e=Rt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$re.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bre.bind(null,e),e}class Ob{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=k2(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Xne(this.persistence,new Kne,e.initialUser,this.serializer)}Ga(e){return new Wne(sT.Zr,this.serializer)}Wa(e){return new rre}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ob.provider={build:()=>new Ob};class PA{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Vre.bind(null,this.syncEngine),await Sre(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Nre}()}createDatastore(e){const n=k2(e.databaseInfo.databaseId),r=function(a){return new ore(a)}(e.databaseInfo);return function(a,s,o,l){return new ure(a,s,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new dre(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>HC(this.syncEngine,n,0),function(){return UC.D()?new UC:new ire}())}createSyncEngine(e,n){return function(i,a,s,o,l,c,u){const f=new Cre(i,a,s,o,l,c);return u&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Rt(i);st("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await _v(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}PA.provider={build:()=>new PA};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ic("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wre{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Wi.UNAUTHENTICATED,this.clientId=h$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{st("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(st("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function D5(t,e){t.asyncQueue.verifyOperationInProgress(),st("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await H$(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function KC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Hre(t);st("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>VC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>VC(e.remoteStore,i)),t._onlineComponents=e}async function Hre(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){st("FirestoreClient","Using user provided OfflineComponentProvider");try{await D5(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ie.FAILED_PRECONDITION||i.code===Ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Zh("Error using user provided cache. Falling back to memory cache: "+n),await D5(t,new Ob)}}else st("FirestoreClient","Using default OfflineComponentProvider"),await D5(t,new Ob);return t._offlineComponents}async function u9(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(st("FirestoreClient","Using user provided OnlineComponentProvider"),await KC(t,t._uninitializedComponentsProvider._online)):(st("FirestoreClient","Using default OnlineComponentProvider"),await KC(t,new PA))),t._onlineComponents}function Gre(t){return u9(t).then(e=>e.syncEngine)}async function Rb(t){const e=await u9(t),n=e.eventManager;return n.onListen=Ire.bind(null,e.syncEngine),n.onUnlisten=Lre.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Ore.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Mre.bind(null,e.syncEngine),n}function Kre(t,e,n={}){const r=new Wl;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const u=new bT({next:h=>{u.Za(),s.enqueueAndForget(()=>mT(a,f));const p=h.docs.has(o);!p&&h.fromCache?c.reject(new Ke(Ie.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new Ke(Ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new yT(_2(o.path),u,{includeMetadataChanges:!0,_a:!0});return pT(a,f)}(await Rb(t),t.asyncQueue,e,n,r)),r.promise}function Yre(t,e,n={}){const r=new Wl;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const u=new bT({next:h=>{u.Za(),s.enqueueAndForget(()=>mT(a,f)),h.fromCache&&l.source==="server"?c.reject(new Ke(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new yT(o,u,{includeMetadataChanges:!0,_a:!0});return pT(a,f)}(await Rb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(t,e,n){if(!n)throw new Ke(Ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Xre(t,e,n,r){if(e===!0&&r===!0)throw new Ke(Ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function XC(t){if(!gt.isDocumentKey(t))throw new Ke(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function QC(t){if(gt.isDocumentKey(t))throw new Ke(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function I2(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Tt()}function Qi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ke(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=I2(t);throw new Ke(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ke(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ke(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Xre("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f9((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ke(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ke(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ke(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Av{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JC({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ke(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ke(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JC(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hte;switch(r.type){case"firstParty":return new yte(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ke(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=YC.get(n);r&&(st("ComponentProvider","Removing Datastore"),YC.delete(n),r.terminate())}(this),Promise.resolve()}}function Qre(t,e,n,r={}){var i;const a=(t=Qi(t,Av))._getSettings(),s=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==s&&Zh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=Wi.MOCK_USER;else{o=SQ(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Ke(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Wi(c)}t._authCredentials=new pte(new d$(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mc(this.firestore,e,this._query)}}class Ji{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Su(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ji(this.firestore,e,this._key)}}class Su extends mc{constructor(e,n,r){super(e,n,_2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ji(this.firestore,null,new gt(e))}withConverter(e){return new Su(this.firestore,e,this._path)}}function ri(t,e,...n){if(t=Er(t),xT("collection","path",e),t instanceof Av){const r=Bn.fromString(e,...n);return QC(r),new Su(t,null,r)}{if(!(t instanceof Ji||t instanceof Su))throw new Ke(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bn.fromString(e,...n));return QC(r),new Su(t.firestore,null,r)}}function wT(t,e){if(t=Qi(t,Av),xT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ke(Ie.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new mc(t,null,function(r){return new gd(Bn.emptyPath(),r)}(e))}function Tn(t,e,...n){if(t=Er(t),arguments.length===1&&(e=h$.newId()),xT("doc","path",e),t instanceof Av){const r=Bn.fromString(e,...n);return XC(r),new Ji(t,null,new gt(r))}{if(!(t instanceof Ji||t instanceof Su))throw new Ke(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bn.fromString(e,...n));return XC(r),new Ji(t.firestore,t instanceof Su?t.converter:null,new gt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new K$(this,"async_queue_retry"),this.Vu=()=>{const r=M5();r&&st("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=M5();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=M5();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Wl;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!bv(e))throw e;st("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw ic("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=dT.createAndSchedule(this,e,n,r,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&Tt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function eI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class il extends Av{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ZC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ZC(e),this._firestoreClient=void 0,await e}}}function Jre(t,e){const n=typeof t=="object"?t:SF(),r=typeof t=="string"?t:"(default)",i=FP(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=wQ("firestore");a&&Qre(i,...a)}return i}function Nv(t){if(t._terminated)throw new Ke(Ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Zre(t),t._firestoreClient}function Zre(t){var e,n,r;const i=t._freezeSettings(),a=function(o,l,c,u){return new jte(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,f9(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Wre(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ap(ki.fromBase64String(e))}catch(n){throw new Ke(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ap(ki.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ke(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ai(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ke(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ke(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return cn(this._lat,e._lat)||cn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eie=/^__.*__$/;class tie{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Vu(e,this.data,this.fieldMask,n,this.fieldTransforms):new xv(e,this.data,n,this.fieldTransforms)}}class d9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Vu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function h9(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt()}}class AT{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new AT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Lb(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(h9(this.Cu)&&eie.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class nie{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||k2(e)}Qu(e,n,r,i=!1){return new AT({Cu:e,methodName:n,qu:r,path:Ai.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pv(t){const e=t._freezeSettings(),n=k2(t._databaseId);return new nie(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NT(t,e,n,r,i,a={}){const s=t.Qu(a.merge||a.mergeFields?2:0,e,n,i);PT("Data must be an object, but it was:",s,r);const o=g9(r,s);let l,c;if(a.merge)l=new Xa(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const u=[];for(const f of a.mergeFields){const h=TA(e,f,n);if(!s.contains(h))throw new Ke(Ie.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);v9(u,h)||u.push(h)}l=new Xa(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new tie(new _a(o),l,c)}class R2 extends O2{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof R2}}class ET extends O2{_toFieldTransform(e){return new tne(e.path,new dy)}isEqual(e){return e instanceof ET}}function p9(t,e,n,r){const i=t.Qu(1,e,n);PT("Data must be an object, but it was:",i,r);const a=[],s=_a.empty();md(r,(l,c)=>{const u=TT(e,l,n);c=Er(c);const f=i.Nu(u);if(c instanceof R2)a.push(u);else{const h=Tv(c,f);h!=null&&(a.push(u),s.set(u,h))}});const o=new Xa(a);return new d9(s,o,i.fieldTransforms)}function m9(t,e,n,r,i,a){const s=t.Qu(1,e,n),o=[TA(e,r,n)],l=[i];if(a.length%2!=0)throw new Ke(Ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)o.push(TA(e,a[h])),l.push(a[h+1]);const c=[],u=_a.empty();for(let h=o.length-1;h>=0;--h)if(!v9(c,o[h])){const p=o[h];let y=l[h];y=Er(y);const b=s.Nu(p);if(y instanceof R2)c.push(p);else{const x=Tv(y,b);x!=null&&(c.push(p),u.set(p,x))}}const f=new Xa(c);return new d9(u,f,s.fieldTransforms)}function rie(t,e,n,r=!1){return Tv(n,t.Qu(r?4:3,e))}function Tv(t,e){if(y9(t=Er(t)))return PT("Unsupported field value:",e,t),g9(t,e);if(t instanceof O2)return function(r,i){if(!h9(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=Tv(o,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Er(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Jte(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Vn.fromDate(r);return{timestampValue:Cb(i.serializer,a)}}if(r instanceof Vn){const a=new Vn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cb(i.serializer,a)}}if(r instanceof _T)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ap)return{bytesValue:$$(i.serializer,r._byteString)};if(r instanceof Ji){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:iT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ST)return function(s,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return tT(o.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${I2(r)}`)}(t,e)}function g9(t,e){const n={};return p$(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):md(t,(r,i)=>{const a=Tv(i,e.Mu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function y9(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vn||t instanceof _T||t instanceof ap||t instanceof Ji||t instanceof O2||t instanceof ST)}function PT(t,e,n){if(!y9(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=I2(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function TA(t,e,n){if((e=Er(e))instanceof Ev)return e._internalPath;if(typeof e=="string")return TT(t,e);throw Lb("Field path arguments must be of type string or ",t,!1,void 0,n)}const iie=new RegExp("[~\\*/\\[\\]]");function TT(t,e,n){if(e.search(iie)>=0)throw Lb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ev(...e.split("."))._internalPath}catch{throw Lb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lb(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Ke(Ie.INVALID_ARGUMENT,o+t+l)}function v9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ji(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(L2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aie extends b9{data(){return super.data()}}function L2(t,e){return typeof e=="string"?TT(t,e):e instanceof Ev?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ke(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kT{}class w9 extends kT{}function ma(t,e,...n){let r=[];e instanceof kT&&r.push(e),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof jT).length,o=a.filter(l=>l instanceof M2).length;if(s>1||s>0&&o>0)throw new Ke(Ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class M2 extends w9{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new M2(e,n,r)}_apply(e){const n=this._parse(e);return _9(e._query,n),new mc(e.firestore,e.converter,vA(e._query,n))}_parse(e){const n=Pv(e.firestore);return function(a,s,o,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ke(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){nI(f,u);const p=[];for(const y of f)p.push(tI(l,a,y));h={arrayValue:{values:p}}}else h=tI(l,a,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||nI(f,u),h=rie(o,s,f,u==="in"||u==="not-in");return qr.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function fr(t,e,n){const r=e,i=L2("where",t);return M2._create(i,r,n)}class jT extends kT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jT(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:mo.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)_9(s,l),s=vA(s,l)}(e._query,n),new mc(e.firestore,e.converter,vA(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class CT extends w9{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new CT(e,n)}_apply(e){const n=function(i,a,s){if(i.startAt!==null)throw new Ke(Ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ke(Ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fy(a,s)}(e._query,this._field,this._direction);return new mc(e.firestore,e.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new gd(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function zu(t,e="asc"){const n=e,r=L2("orderBy",t);return CT._create(r,n)}function tI(t,e,n){if(typeof(n=Er(n))=="string"){if(n==="")throw new Ke(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!S$(e)&&n.indexOf("/")!==-1)throw new Ke(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Bn.fromString(n));if(!gt.isDocumentKey(r))throw new Ke(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _C(t,new gt(r))}if(n instanceof Ji)return _C(t,n._key);throw new Ke(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${I2(n)}.`)}function nI(t,e){if(!Array.isArray(t)||t.length===0)throw new Ke(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _9(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ke(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ke(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sie{convertValue(e,n="none"){switch(nd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(td(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Tt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return md(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Lr(s.doubleValue));return new ST(a)}convertGeoPoint(e){return new _T(Lr(e.latitude),Lr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=QP(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ly(e));default:return null}}convertTimestamp(e){const n=ku(e);return new Vn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Bn.fromString(e);An(W$(r));const i=new cy(r.get(1),r.get(3)),a=new gt(r.popFirst(5));return i.isEqual(n)||ic(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class S9 extends b9{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new M1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(L2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class M1 extends S9{data(e={}){return super.data(e)}}class A9{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new lg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new M1(this._firestore,this._userDataWriter,r.key,r,new lg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ke(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new M1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new lg(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new M1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new lg(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:oie(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function oie(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(t){t=Qi(t,Ji);const e=Qi(t.firestore,il);return Kre(Nv(e),t._key).then(n=>E9(e,t,n))}class OT extends sie{constructor(e){super(),this.firestore=e}convertBytes(e){return new ap(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ji(this.firestore,null,n)}}function vd(t){t=Qi(t,mc);const e=Qi(t.firestore,il),n=Nv(e),r=new OT(e);return x9(t._query),Yre(n,t._query).then(i=>new A9(e,r,t,i))}function RT(t,e,n){t=Qi(t,Ji);const r=Qi(t.firestore,il),i=IT(t.converter,e,n);return kv(r,[NT(Pv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,fa.none())])}function cs(t,e,n,...r){t=Qi(t,Ji);const i=Qi(t.firestore,il),a=Pv(i);let s;return s=typeof(e=Er(e))=="string"||e instanceof Ev?m9(a,"updateDoc",t._key,e,n,r):p9(a,"updateDoc",t._key,e),kv(i,[s.toMutation(t._key,fa.exists(!0))])}function N9(t){return kv(Qi(t.firestore,il),[new P2(t._key,fa.none())])}function Up(t,e){const n=Qi(t.firestore,il),r=Tn(t),i=IT(t.converter,e);return kv(n,[NT(Pv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,fa.exists(!1))]).then(()=>r)}function qu(t,...e){var n,r,i;t=Er(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||eI(e[s])||(a=e[s],s++);const o={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(eI(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,u;if(t instanceof Ji)c=Qi(t.firestore,il),u=_2(t._key.path),l={next:f=>{e[s]&&e[s](E9(c,t,f))},error:e[s+1],complete:e[s+2]};else{const f=Qi(t,mc);c=Qi(f.firestore,il),u=f._query;const h=new OT(c);l={next:p=>{e[s]&&e[s](new A9(c,h,f,p))},error:e[s+1],complete:e[s+2]},x9(t._query)}return function(h,p,y,b){const x=new bT(b),v=new yT(p,x,y);return h.asyncQueue.enqueueAndForget(async()=>pT(await Rb(h),v)),()=>{x.Za(),h.asyncQueue.enqueueAndForget(async()=>mT(await Rb(h),v))}}(Nv(c),u,o,l)}function kv(t,e){return function(r,i){const a=new Wl;return r.asyncQueue.enqueueAndForget(async()=>Dre(await Gre(r),i,a)),a.promise}(Nv(t),e)}function E9(t,e,n){const r=n.docs.get(e._key),i=new OT(t);return new S9(t,i,e._key,r,new lg(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lie{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Pv(e)}set(e,n,r){this._verifyNotCommitted();const i=F5(e,this._firestore),a=IT(i.converter,n,r),s=NT(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,fa.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=F5(e,this._firestore);let s;return s=typeof(n=Er(n))=="string"||n instanceof Ev?m9(this._dataReader,"WriteBatch.update",a._key,n,r,i):p9(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,fa.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=F5(e,this._firestore);return this._mutations=this._mutations.concat(new P2(n._key,fa.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ke(Ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function F5(t,e){if((t=Er(t)).firestore!==e)throw new Ke(Ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function pr(){return new ET("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cie(t){return Nv(t=Qi(t,il)),new lie(t,e=>kv(t,e))}(function(e,n=!0){(function(i){Fp=i})(Mp),Qh(new Qf("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new il(new mte(r.getProvider("auth-internal")),new bte(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ke(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cy(c.options.projectId,u)}(s,i),s);return a=Object.assign({useFetchStreams:n},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),_u(yC,"4.7.3",e),_u(yC,"4.7.3","esm2017")})();const uie={apiKey:"AIzaSyAUoBd0RUQgHCmC5gVh3CcAU6rNgjW00nw",authDomain:"leaseease-updated.firebaseapp.com",projectId:"leaseease-updated",storageBucket:"leaseease-updated.firebasestorage.app",messagingSenderId:"608675835471",appId:"1:608675835471:web:6e1ee6d75c1eed7a39c43a"},P9=Gj().length?Gj()[0]:_F(uie),jv=fte(P9),At=Jre(P9),fie=async({email:t,password:e,fullName:n,phone:r,countryCode:i,role:a="landlord"})=>{const{user:s}=await GZ(jv,t,e);return await XZ(s,{displayName:n}),await RT(Tn(At,"users",s.uid),{uid:s.uid,email:t,fullName:n,phone:r||"",countryCode:i||"NG",role:a,createdAt:pr(),updatedAt:pr()}),s},die=(t,e)=>KZ(jv,t,e),hie=()=>eee(jv),T9=t=>HZ(jv,t),pie=t=>ZZ(jv,t),k9=async t=>{const e=await al(Tn(At,"users",t));return e.exists()?e.data():null},mie=(t,e)=>cs(Tn(At,"users",t),{...e,updatedAt:pr()}),LT=(t,e)=>Up(ri(At,"users",t,"properties"),{...e,ownerId:t,createdAt:pr(),updatedAt:pr()}),gie=(t,e)=>N9(Tn(At,"users",t,"properties",e)),Cv=(t,e)=>qu(ma(ri(At,"users",t,"properties"),zu("createdAt","desc")),n=>e(n.docs.map(r=>({id:r.id,...r.data()})))),MT=(t,e)=>qu(ma(wT(At,"properties"),fr("tenantEmail","==",t),zu("createdAt","desc")),n=>e(n.docs.map(r=>({id:r.id,...r.data()})))),j9=(t,e,n)=>qu(ma(ri(At,"users",t,"properties",e,"payments"),zu("paidDate","desc")),r=>n(r.docs.map(i=>({id:i.id,...i.data()})))),C9=(t,e)=>qu(ma(wT(At,"payments"),fr("tenantEmail","==",t),zu("paidDate","desc")),n=>e(n.docs.map(r=>({id:r.id,...r.data()})))),I9=(t,e)=>Up(ri(At,"users",t,"reminders"),{...e,createdAt:pr(),status:"pending"}),kA=(t,e,n)=>cs(Tn(At,"users",t,"reminders",e),n),O9=(t,e)=>N9(Tn(At,"users",t,"reminders",e)),Iv=(t,e)=>qu(ma(ri(At,"users",t,"reminders"),zu("dueDate","asc")),n=>e(n.docs.map(r=>({id:r.id,...r.data()})))),yie=(t,e,n)=>Up(ri(At,"users",t,"properties",e,"maintenance"),{...n,createdAt:pr(),status:"open"}),vie=(t,e,n,r)=>cs(Tn(At,"users",t,"properties",e,"maintenance",n),r),bie=(t,e,n)=>qu(ma(ri(At,"users",t,"properties",e,"maintenance"),zu("createdAt","desc")),r=>n(r.docs.map(i=>({id:i.id,...i.data()})))),R9=(t,e,n)=>Up(ri(At,"users",t,"properties",e,"units"),{...n,landlordId:t,createdAt:pr(),updatedAt:pr()}),Xd=(t,e,n,r)=>cs(Tn(At,"users",t,"properties",e,"units",n),{...r,updatedAt:pr()}),L9=(t,e,n)=>qu(ma(ri(At,"users",t,"properties",e,"units"),zu("createdAt","desc")),r=>n(r.docs.map(i=>({id:i.id,...i.data()})))),xie=async(t,e,n,r={})=>{if(!n||n.length===0)return[];const i=cie(At),a=ri(At,"users",t,"properties",e,"units"),s=pr(),o=[];for(const l of n){const c=Tn(a);o.push(c),i.set(c,{...r,name:l,status:"vacant",landlordId:t,createdAt:s,updatedAt:s})}return await i.commit(),o.map(l=>l.id)},wie=async t=>{if(!t||t.length<2)return[];const e=t.slice(0,-1)+String.fromCharCode(t.charCodeAt(t.length-1)+1);return(await vd(ma(ri(At,"users"),fr("email",">=",t.toLowerCase()),fr("email","<",e.toLowerCase()),fr("role","==","tenant")))).docs.map(r=>({uid:r.id,...r.data()}))},jA=async(t,e)=>(await vd(ma(ri(At,"users",t,"properties",e,"units"),fr("status","==","vacant"),zu("name")))).docs.map(r=>({id:r.id,...r.data()})),M9=async(t,e,n,r)=>{const i=Tn(At,"users",t,"properties",e,"units",n),a=await al(i);if(!a.exists())throw new Error("Unit not found.");const s=a.data();if(s.status!=="vacant")throw new Error("Unit is no longer available.");await cs(i,{status:"pending_approval",pendingTenantId:r.uid,pendingTenantName:r.displayName||"",pendingTenantEmail:r.email||"",pendingRequestedAt:pr(),updatedAt:pr()}),await Up(ri(At,"users",t,"notifications"),{type:"unit_request",propertyId:e,unitId:n,unitName:s.name||n,tenantId:r.uid,tenantName:r.displayName||"",tenantEmail:r.email||"",createdAt:pr(),read:!1})},D9=U.createContext(null);function _ie({children:t}){const[e,n]=U.useState(null),[r,i]=U.useState(null),[a,s]=U.useState(!0);U.useEffect(()=>pie(async c=>{if(n(c),c){const u=await k9(c.uid);if(i(u),u!=null&&u.countryCode)try{localStorage.setItem("leaseease_locale",JSON.stringify({countryCode:u.countryCode}))}catch{}}else i(null);s(!1)}),[]);const o=()=>hie();return d.jsx(D9.Provider,{value:{user:e,profile:r,loading:a,logout:o},children:t})}const Pr=()=>{const t=U.useContext(D9);if(!t)throw new Error("useAuth must be inside AuthProvider");return t},DT=[{code:"AF",name:"Afghanistan",currency:"AFN",currencyName:"Afghan Afghani",symbol:"",locale:"fa-AF"},{code:"AL",name:"Albania",currency:"ALL",currencyName:"Albanian Lek",symbol:"L",locale:"sq-AL"},{code:"DZ",name:"Algeria",currency:"DZD",currencyName:"Algerian Dinar",symbol:".",locale:"ar-DZ"},{code:"AO",name:"Angola",currency:"AOA",currencyName:"Angolan Kwanza",symbol:"Kz",locale:"pt-AO"},{code:"AR",name:"Argentina",currency:"ARS",currencyName:"Argentine Peso",symbol:"$",locale:"es-AR"},{code:"AM",name:"Armenia",currency:"AMD",currencyName:"Armenian Dram",symbol:"",locale:"hy-AM"},{code:"AU",name:"Australia",currency:"AUD",currencyName:"Australian Dollar",symbol:"A$",locale:"en-AU"},{code:"AT",name:"Austria",currency:"EUR",currencyName:"Euro",symbol:"",locale:"de-AT"},{code:"AZ",name:"Azerbaijan",currency:"AZN",currencyName:"Azerbaijani Manat",symbol:"",locale:"az-AZ"},{code:"BH",name:"Bahrain",currency:"BHD",currencyName:"Bahraini Dinar",symbol:"..",locale:"ar-BH"},{code:"BD",name:"Bangladesh",currency:"BDT",currencyName:"Bangladeshi Taka",symbol:"",locale:"bn-BD"},{code:"BY",name:"Belarus",currency:"BYN",currencyName:"Belarusian Ruble",symbol:"Br",locale:"be-BY"},{code:"BE",name:"Belgium",currency:"EUR",currencyName:"Euro",symbol:"",locale:"nl-BE"},{code:"BJ",name:"Benin",currency:"XOF",currencyName:"West African CFA Franc",symbol:"Fr",locale:"fr-BJ"},{code:"BO",name:"Bolivia",currency:"BOB",currencyName:"Bolivian Boliviano",symbol:"Bs.",locale:"es-BO"},{code:"BA",name:"Bosnia and Herzegovina",currency:"BAM",currencyName:"Bosnian Mark",symbol:"KM",locale:"bs-BA"},{code:"BW",name:"Botswana",currency:"BWP",currencyName:"Botswana Pula",symbol:"P",locale:"en-BW"},{code:"BR",name:"Brazil",currency:"BRL",currencyName:"Brazilian Real",symbol:"R$",locale:"pt-BR"},{code:"BN",name:"Brunei",currency:"BND",currencyName:"Brunei Dollar",symbol:"B$",locale:"ms-BN"},{code:"BG",name:"Bulgaria",currency:"BGN",currencyName:"Bulgarian Lev",symbol:"",locale:"bg-BG"},{code:"BF",name:"Burkina Faso",currency:"XOF",currencyName:"West African CFA Franc",symbol:"Fr",locale:"fr-BF"},{code:"BI",name:"Burundi",currency:"BIF",currencyName:"Burundian Franc",symbol:"Fr",locale:"fr-BI"},{code:"CV",name:"Cabo Verde",currency:"CVE",currencyName:"Cape Verdean Escudo",symbol:"$",locale:"pt-CV"},{code:"KH",name:"Cambodia",currency:"KHR",currencyName:"Cambodian Riel",symbol:"",locale:"km-KH"},{code:"CM",name:"Cameroon",currency:"XAF",currencyName:"Central African CFA",symbol:"Fr",locale:"fr-CM"},{code:"CA",name:"Canada",currency:"CAD",currencyName:"Canadian Dollar",symbol:"C$",locale:"en-CA"},{code:"CF",name:"Central African Rep.",currency:"XAF",currencyName:"Central African CFA",symbol:"Fr",locale:"fr-CF"},{code:"TD",name:"Chad",currency:"XAF",currencyName:"Central African CFA",symbol:"Fr",locale:"fr-TD"},{code:"CL",name:"Chile",currency:"CLP",currencyName:"Chilean Peso",symbol:"$",locale:"es-CL"},{code:"CN",name:"China",currency:"CNY",currencyName:"Chinese Yuan",symbol:"",locale:"zh-CN"},{code:"CO",name:"Colombia",currency:"COP",currencyName:"Colombian Peso",symbol:"$",locale:"es-CO"},{code:"CD",name:"Congo (DRC)",currency:"CDF",currencyName:"Congolese Franc",symbol:"Fr",locale:"fr-CD"},{code:"CR",name:"Costa Rica",currency:"CRC",currencyName:"Costa Rican Coln",symbol:"",locale:"es-CR"},{code:"CI",name:"Cte d'Ivoire",currency:"XOF",currencyName:"West African CFA Franc",symbol:"Fr",locale:"fr-CI"},{code:"HR",name:"Croatia",currency:"EUR",currencyName:"Euro",symbol:"",locale:"hr-HR"},{code:"CU",name:"Cuba",currency:"CUP",currencyName:"Cuban Peso",symbol:"$",locale:"es-CU"},{code:"CY",name:"Cyprus",currency:"EUR",currencyName:"Euro",symbol:"",locale:"el-CY"},{code:"CZ",name:"Czechia",currency:"CZK",currencyName:"Czech Koruna",symbol:"K",locale:"cs-CZ"},{code:"DK",name:"Denmark",currency:"DKK",currencyName:"Danish Krone",symbol:"kr",locale:"da-DK"},{code:"DJ",name:"Djibouti",currency:"DJF",currencyName:"Djiboutian Franc",symbol:"Fr",locale:"fr-DJ"},{code:"DO",name:"Dominican Republic",currency:"DOP",currencyName:"Dominican Peso",symbol:"RD$",locale:"es-DO"},{code:"EC",name:"Ecuador",currency:"USD",currencyName:"US Dollar",symbol:"$",locale:"es-EC"},{code:"EG",name:"Egypt",currency:"EGP",currencyName:"Egyptian Pound",symbol:"E",locale:"ar-EG"},{code:"SV",name:"El Salvador",currency:"USD",currencyName:"US Dollar",symbol:"$",locale:"es-SV"},{code:"GQ",name:"Equatorial Guinea",currency:"XAF",currencyName:"Central African CFA",symbol:"Fr",locale:"es-GQ"},{code:"ER",name:"Eritrea",currency:"ERN",currencyName:"Eritrean Nakfa",symbol:"Nfk",locale:"ti-ER"},{code:"EE",name:"Estonia",currency:"EUR",currencyName:"Euro",symbol:"",locale:"et-EE"},{code:"SZ",name:"Eswatini",currency:"SZL",currencyName:"Swazi Lilangeni",symbol:"L",locale:"en-SZ"},{code:"ET",name:"Ethiopia",currency:"ETB",currencyName:"Ethiopian Birr",symbol:"Br",locale:"am-ET"},{code:"FJ",name:"Fiji",currency:"FJD",currencyName:"Fijian Dollar",symbol:"FJ$",locale:"en-FJ"},{code:"FI",name:"Finland",currency:"EUR",currencyName:"Euro",symbol:"",locale:"fi-FI"},{code:"FR",name:"France",currency:"EUR",currencyName:"Euro",symbol:"",locale:"fr-FR"},{code:"GA",name:"Gabon",currency:"XAF",currencyName:"Central African CFA",symbol:"Fr",locale:"fr-GA"},{code:"GM",name:"Gambia",currency:"GMD",currencyName:"Gambian Dalasi",symbol:"D",locale:"en-GM"},{code:"GE",name:"Georgia",currency:"GEL",currencyName:"Georgian Lari",symbol:"",locale:"ka-GE"},{code:"DE",name:"Germany",currency:"EUR",currencyName:"Euro",symbol:"",locale:"de-DE"},{code:"GH",name:"Ghana",currency:"GHS",currencyName:"Ghanaian Cedi",symbol:"",locale:"en-GH"},{code:"GR",name:"Greece",currency:"EUR",currencyName:"Euro",symbol:"",locale:"el-GR"},{code:"GT",name:"Guatemala",currency:"GTQ",currencyName:"Guatemalan Quetzal",symbol:"Q",locale:"es-GT"},{code:"GN",name:"Guinea",currency:"GNF",currencyName:"Guinean Franc",symbol:"Fr",locale:"fr-GN"},{code:"GW",name:"Guinea-Bissau",currency:"XOF",currencyName:"West African CFA Franc",symbol:"Fr",locale:"pt-GW"},{code:"GY",name:"Guyana",currency:"GYD",currencyName:"Guyanese Dollar",symbol:"G$",locale:"en-GY"},{code:"HT",name:"Haiti",currency:"HTG",currencyName:"Haitian Gourde",symbol:"G",locale:"fr-HT"},{code:"HN",name:"Honduras",currency:"HNL",currencyName:"Honduran Lempira",symbol:"L",locale:"es-HN"},{code:"HK",name:"Hong Kong",currency:"HKD",currencyName:"Hong Kong Dollar",symbol:"HK$",locale:"zh-HK"},{code:"HU",name:"Hungary",currency:"HUF",currencyName:"Hungarian Forint",symbol:"Ft",locale:"hu-HU"},{code:"IS",name:"Iceland",currency:"ISK",currencyName:"Icelandic Krna",symbol:"kr",locale:"is-IS"},{code:"IN",name:"India",currency:"INR",currencyName:"Indian Rupee",symbol:"",locale:"en-IN"},{code:"ID",name:"Indonesia",currency:"IDR",currencyName:"Indonesian Rupiah",symbol:"Rp",locale:"id-ID"},{code:"IR",name:"Iran",currency:"IRR",currencyName:"Iranian Rial",symbol:"",locale:"fa-IR"},{code:"IQ",name:"Iraq",currency:"IQD",currencyName:"Iraqi Dinar",symbol:".",locale:"ar-IQ"},{code:"IE",name:"Ireland",currency:"EUR",currencyName:"Euro",symbol:"",locale:"en-IE"},{code:"IL",name:"Israel",currency:"ILS",currencyName:"Israeli New Shekel",symbol:"",locale:"he-IL"},{code:"IT",name:"Italy",currency:"EUR",currencyName:"Euro",symbol:"",locale:"it-IT"},{code:"JM",name:"Jamaica",currency:"JMD",currencyName:"Jamaican Dollar",symbol:"J$",locale:"en-JM"},{code:"JP",name:"Japan",currency:"JPY",currencyName:"Japanese Yen",symbol:"",locale:"ja-JP"},{code:"JO",name:"Jordan",currency:"JOD",currencyName:"Jordanian Dinar",symbol:"JD",locale:"ar-JO"},{code:"KZ",name:"Kazakhstan",currency:"KZT",currencyName:"Kazakhstani Tenge",symbol:"",locale:"kk-KZ"},{code:"KE",name:"Kenya",currency:"KES",currencyName:"Kenyan Shilling",symbol:"Ksh",locale:"en-KE"},{code:"KW",name:"Kuwait",currency:"KWD",currencyName:"Kuwaiti Dinar",symbol:"KD",locale:"ar-KW"},{code:"KG",name:"Kyrgyzstan",currency:"KGS",currencyName:"Kyrgystani Som",symbol:"",locale:"ky-KG"},{code:"LA",name:"Laos",currency:"LAK",currencyName:"Lao Kip",symbol:"",locale:"lo-LA"},{code:"LV",name:"Latvia",currency:"EUR",currencyName:"Euro",symbol:"",locale:"lv-LV"},{code:"LB",name:"Lebanon",currency:"LBP",currencyName:"Lebanese Pound",symbol:"L",locale:"ar-LB"},{code:"LS",name:"Lesotho",currency:"LSL",currencyName:"Lesotho Loti",symbol:"L",locale:"en-LS"},{code:"LR",name:"Liberia",currency:"LRD",currencyName:"Liberian Dollar",symbol:"L$",locale:"en-LR"},{code:"LY",name:"Libya",currency:"LYD",currencyName:"Libyan Dinar",symbol:"LD",locale:"ar-LY"},{code:"LI",name:"Liechtenstein",currency:"CHF",currencyName:"Swiss Franc",symbol:"Fr",locale:"de-LI"},{code:"LT",name:"Lithuania",currency:"EUR",currencyName:"Euro",symbol:"",locale:"lt-LT"},{code:"LU",name:"Luxembourg",currency:"EUR",currencyName:"Euro",symbol:"",locale:"fr-LU"},{code:"MO",name:"Macao",currency:"MOP",currencyName:"Macanese Pataca",symbol:"P",locale:"zh-MO"},{code:"MG",name:"Madagascar",currency:"MGA",currencyName:"Malagasy Ariary",symbol:"Ar",locale:"mg-MG"},{code:"MW",name:"Malawi",currency:"MWK",currencyName:"Malawian Kwacha",symbol:"MK",locale:"en-MW"},{code:"MY",name:"Malaysia",currency:"MYR",currencyName:"Malaysian Ringgit",symbol:"RM",locale:"ms-MY"},{code:"MV",name:"Maldives",currency:"MVR",currencyName:"Maldivian Rufiyaa",symbol:"Rf",locale:"dv-MV"},{code:"ML",name:"Mali",currency:"XOF",currencyName:"West African CFA Franc",symbol:"Fr",locale:"fr-ML"},{code:"MT",name:"Malta",currency:"EUR",currencyName:"Euro",symbol:"",locale:"mt-MT"},{code:"MR",name:"Mauritania",currency:"MRU",currencyName:"Mauritanian Ouguiya",symbol:"UM",locale:"ar-MR"},{code:"MU",name:"Mauritius",currency:"MUR",currencyName:"Mauritian Rupee",symbol:"Rs",locale:"en-MU"},{code:"MX",name:"Mexico",currency:"MXN",currencyName:"Mexican Peso",symbol:"$",locale:"es-MX"},{code:"MD",name:"Moldova",currency:"MDL",currencyName:"Moldovan Leu",symbol:"L",locale:"ro-MD"},{code:"MC",name:"Monaco",currency:"EUR",currencyName:"Euro",symbol:"",locale:"fr-MC"},{code:"MN",name:"Mongolia",currency:"MNT",currencyName:"Mongolian Tgrg",symbol:"",locale:"mn-MN"},{code:"ME",name:"Montenegro",currency:"EUR",currencyName:"Euro",symbol:"",locale:"sr-ME"},{code:"MA",name:"Morocco",currency:"MAD",currencyName:"Moroccan Dirham",symbol:"MAD",locale:"ar-MA"},{code:"MZ",name:"Mozambique",currency:"MZN",currencyName:"Mozambican Metical",symbol:"MT",locale:"pt-MZ"},{code:"MM",name:"Myanmar",currency:"MMK",currencyName:"Myanmar Kyat",symbol:"K",locale:"my-MM"},{code:"NA",name:"Namibia",currency:"NAD",currencyName:"Namibian Dollar",symbol:"N$",locale:"en-NA"},{code:"NP",name:"Nepal",currency:"NPR",currencyName:"Nepalese Rupee",symbol:"Rs",locale:"ne-NP"},{code:"NL",name:"Netherlands",currency:"EUR",currencyName:"Euro",symbol:"",locale:"nl-NL"},{code:"NZ",name:"New Zealand",currency:"NZD",currencyName:"New Zealand Dollar",symbol:"NZ$",locale:"en-NZ"},{code:"NI",name:"Nicaragua",currency:"NIO",currencyName:"Nicaraguan Crdoba",symbol:"C$",locale:"es-NI"},{code:"NE",name:"Niger",currency:"XOF",currencyName:"West African CFA Franc",symbol:"Fr",locale:"fr-NE"},{code:"NG",name:"Nigeria",currency:"NGN",currencyName:"Nigerian Naira",symbol:"",locale:"en-NG"},{code:"NO",name:"Norway",currency:"NOK",currencyName:"Norwegian Krone",symbol:"kr",locale:"no-NO"},{code:"OM",name:"Oman",currency:"OMR",currencyName:"Omani Rial",symbol:"R.O",locale:"ar-OM"},{code:"PK",name:"Pakistan",currency:"PKR",currencyName:"Pakistani Rupee",symbol:"Rs",locale:"ur-PK"},{code:"PA",name:"Panama",currency:"PAB",currencyName:"Panamanian Balboa",symbol:"B/.",locale:"es-PA"},{code:"PG",name:"Papua New Guinea",currency:"PGK",currencyName:"Papua New Guinean Kina",symbol:"K",locale:"en-PG"},{code:"PY",name:"Paraguay",currency:"PYG",currencyName:"Paraguayan Guaran",symbol:"",locale:"es-PY"},{code:"PE",name:"Peru",currency:"PEN",currencyName:"Peruvian Sol",symbol:"S/.",locale:"es-PE"},{code:"PH",name:"Philippines",currency:"PHP",currencyName:"Philippine Peso",symbol:"",locale:"en-PH"},{code:"PL",name:"Poland",currency:"PLN",currencyName:"Polish Zoty",symbol:"z",locale:"pl-PL"},{code:"PT",name:"Portugal",currency:"EUR",currencyName:"Euro",symbol:"",locale:"pt-PT"},{code:"QA",name:"Qatar",currency:"QAR",currencyName:"Qatari Riyal",symbol:"QR",locale:"ar-QA"},{code:"RO",name:"Romania",currency:"RON",currencyName:"Romanian Leu",symbol:"lei",locale:"ro-RO"},{code:"RU",name:"Russia",currency:"RUB",currencyName:"Russian Ruble",symbol:"",locale:"ru-RU"},{code:"RW",name:"Rwanda",currency:"RWF",currencyName:"Rwandan Franc",symbol:"Fr",locale:"rw-RW"},{code:"SA",name:"Saudi Arabia",currency:"SAR",currencyName:"Saudi Riyal",symbol:"SR",locale:"ar-SA"},{code:"SN",name:"Senegal",currency:"XOF",currencyName:"West African CFA Franc",symbol:"Fr",locale:"fr-SN"},{code:"RS",name:"Serbia",currency:"RSD",currencyName:"Serbian Dinar",symbol:"din",locale:"sr-RS"},{code:"SL",name:"Sierra Leone",currency:"SLL",currencyName:"Sierra Leonean Leone",symbol:"Le",locale:"en-SL"},{code:"SG",name:"Singapore",currency:"SGD",currencyName:"Singapore Dollar",symbol:"S$",locale:"en-SG"},{code:"SK",name:"Slovakia",currency:"EUR",currencyName:"Euro",symbol:"",locale:"sk-SK"},{code:"SI",name:"Slovenia",currency:"EUR",currencyName:"Euro",symbol:"",locale:"sl-SI"},{code:"SO",name:"Somalia",currency:"SOS",currencyName:"Somali Shilling",symbol:"Sh",locale:"so-SO"},{code:"ZA",name:"South Africa",currency:"ZAR",currencyName:"South African Rand",symbol:"R",locale:"en-ZA"},{code:"SS",name:"South Sudan",currency:"SSP",currencyName:"South Sudanese Pound",symbol:"",locale:"en-SS"},{code:"ES",name:"Spain",currency:"EUR",currencyName:"Euro",symbol:"",locale:"es-ES"},{code:"LK",name:"Sri Lanka",currency:"LKR",currencyName:"Sri Lankan Rupee",symbol:"Rs",locale:"si-LK"},{code:"SD",name:"Sudan",currency:"SDG",currencyName:"Sudanese Pound",symbol:".",locale:"ar-SD"},{code:"SE",name:"Sweden",currency:"SEK",currencyName:"Swedish Krona",symbol:"kr",locale:"sv-SE"},{code:"CH",name:"Switzerland",currency:"CHF",currencyName:"Swiss Franc",symbol:"Fr",locale:"de-CH"},{code:"SY",name:"Syria",currency:"SYP",currencyName:"Syrian Pound",symbol:"",locale:"ar-SY"},{code:"TW",name:"Taiwan",currency:"TWD",currencyName:"New Taiwan Dollar",symbol:"NT$",locale:"zh-TW"},{code:"TJ",name:"Tajikistan",currency:"TJS",currencyName:"Tajikistani Somoni",symbol:"SM",locale:"tg-TJ"},{code:"TZ",name:"Tanzania",currency:"TZS",currencyName:"Tanzanian Shilling",symbol:"Sh",locale:"sw-TZ"},{code:"TH",name:"Thailand",currency:"THB",currencyName:"Thai Baht",symbol:"",locale:"th-TH"},{code:"TL",name:"Timor-Leste",currency:"USD",currencyName:"US Dollar",symbol:"$",locale:"pt-TL"},{code:"TG",name:"Togo",currency:"XOF",currencyName:"West African CFA Franc",symbol:"Fr",locale:"fr-TG"},{code:"TT",name:"Trinidad and Tobago",currency:"TTD",currencyName:"Trinidad Dollar",symbol:"TT$",locale:"en-TT"},{code:"TN",name:"Tunisia",currency:"TND",currencyName:"Tunisian Dinar",symbol:"DT",locale:"ar-TN"},{code:"TR",name:"Turkey",currency:"TRY",currencyName:"Turkish Lira",symbol:"",locale:"tr-TR"},{code:"TM",name:"Turkmenistan",currency:"TMT",currencyName:"Turkmenistani Manat",symbol:"T",locale:"tk-TM"},{code:"UG",name:"Uganda",currency:"UGX",currencyName:"Ugandan Shilling",symbol:"Sh",locale:"en-UG"},{code:"UA",name:"Ukraine",currency:"UAH",currencyName:"Ukrainian Hryvnia",symbol:"",locale:"uk-UA"},{code:"AE",name:"United Arab Emirates",currency:"AED",currencyName:"UAE Dirham",symbol:"AED",locale:"ar-AE"},{code:"GB",name:"United Kingdom",currency:"GBP",currencyName:"British Pound",symbol:"",locale:"en-GB"},{code:"US",name:"United States",currency:"USD",currencyName:"US Dollar",symbol:"$",locale:"en-US"},{code:"UY",name:"Uruguay",currency:"UYU",currencyName:"Uruguayan Peso",symbol:"$U",locale:"es-UY"},{code:"UZ",name:"Uzbekistan",currency:"UZS",currencyName:"Uzbekistani Som",symbol:"",locale:"uz-UZ"},{code:"VE",name:"Venezuela",currency:"VES",currencyName:"Venezuelan Bolvar",symbol:"Bs.S",locale:"es-VE"},{code:"VN",name:"Vietnam",currency:"VND",currencyName:"Vietnamese ng",symbol:"",locale:"vi-VN"},{code:"YE",name:"Yemen",currency:"YER",currencyName:"Yemeni Rial",symbol:"",locale:"ar-YE"},{code:"ZM",name:"Zambia",currency:"ZMW",currencyName:"Zambian Kwacha",symbol:"ZK",locale:"en-ZM"},{code:"ZW",name:"Zimbabwe",currency:"ZWL",currencyName:"Zimbabwean Dollar",symbol:"Z$",locale:"en-ZW"}];function rd(t){return t?t.toUpperCase().split("").map(e=>String.fromCodePoint(e.charCodeAt(0)+127397)).join(""):""}function M0(t){return DT.find(e=>e.code===t)||null}function rI(t,e="USD",n="en-US"){if(t==null||isNaN(t))return"";try{return new Intl.NumberFormat(n,{style:"currency",currency:e,minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}catch{const r=DT.find(i=>i.currency===e);return`${(r==null?void 0:r.symbol)??""}${Number(t).toLocaleString()}`}}const F9=U.createContext(null),iI="leaseease_locale",aI={countryCode:"NG"};function Sie({children:t}){const[e,n]=U.useState(()=>{try{const o=localStorage.getItem(iI);if(o){const l=JSON.parse(o);if(M0(l.countryCode))return l.countryCode}}catch{}return aI.countryCode}),r=M0(e)??M0(aI.countryCode);U.useEffect(()=>{localStorage.setItem(iI,JSON.stringify({countryCode:e}))},[e]);const i=U.useCallback(o=>rI(o,r.currency,r.locale),[r]),a=U.useCallback((o,l="monthly")=>{if(!o&&o!==0)return"";const c={daily:"day",weekly:"week",monthly:"month",yearly:"year"};return`${rI(o,r.currency,r.locale)}/${c[l]??"month"}`},[r]),s=U.useCallback(o=>{M0(o)&&n(o)},[]);return d.jsx(F9.Provider,{value:{countryCode:e,country:r,currency:r.currency,currencyName:r.currencyName,currencySymbol:r.symbol,locale:r.locale,fmt:i,fmtRent:a,changeCountry:s,countries:DT},children:t})}function ji(){const t=U.useContext(F9);if(!t)throw new Error("useLocale must be inside LocaleProvider");return t}const FT=U.createContext({});function $T(t){const e=U.useRef(null);return e.current===null&&(e.current=t()),e.current}const D2=U.createContext(null),BT=U.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Aie extends U.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Nie({children:t,isPresent:e}){const n=U.useId(),r=U.useRef(null),i=U.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=U.useContext(BT);return U.useInsertionEffect(()=>{const{width:s,height:o,top:l,left:c}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return a&&(u.nonce=a),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),d.jsx(Aie,{isPresent:e,childRef:r,sizeRef:i,children:U.cloneElement(t,{ref:r})})}const Eie=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:s})=>{const o=$T(Pie),l=U.useId(),c=U.useCallback(f=>{o.set(f,!0);for(const h of o.values())if(!h)return;r&&r()},[o,r]),u=U.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c,register:f=>(o.set(f,!1),()=>o.delete(f))}),a?[Math.random(),c]:[n,c]);return U.useMemo(()=>{o.forEach((f,h)=>o.set(h,!1))},[n]),U.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),s==="popLayout"&&(t=d.jsx(Nie,{isPresent:n,children:t})),d.jsx(D2.Provider,{value:u,children:t})};function Pie(){return new Map}function $9(t=!0){const e=U.useContext(D2);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=U.useId();U.useEffect(()=>{t&&i(a)},[t]);const s=U.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,s]:[!0]}const D0=t=>t.key||"";function sI(t){const e=[];return U.Children.forEach(t,n=>{U.isValidElement(n)&&e.push(n)}),e}const UT=typeof window<"u",B9=UT?U.useLayoutEffect:U.useEffect,ns=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1})=>{const[o,l]=$9(s),c=U.useMemo(()=>sI(t),[t]),u=s&&!o?[]:c.map(D0),f=U.useRef(!0),h=U.useRef(c),p=$T(()=>new Map),[y,b]=U.useState(c),[x,v]=U.useState(c);B9(()=>{f.current=!1,h.current=c;for(let A=0;A<x.length;A++){const E=D0(x[A]);u.includes(E)?p.delete(E):p.get(E)!==!0&&p.set(E,!1)}},[x,u.length,u.join("-")]);const w=[];if(c!==y){let A=[...c];for(let E=0;E<x.length;E++){const O=x[E],C=D0(O);u.includes(C)||(A.splice(E,0,O),w.push(O))}a==="wait"&&w.length&&(A=w),v(sI(A)),b(c);return}const{forceRender:_}=U.useContext(FT);return d.jsx(d.Fragment,{children:x.map(A=>{const E=D0(A),O=s&&!o?!1:c===x||u.includes(E),C=()=>{if(p.has(E))p.set(E,!0);else return;let N=!0;p.forEach(k=>{k||(N=!1)}),N&&(_==null||_(),v(h.current),s&&(l==null||l()),r&&r())};return d.jsx(Eie,{isPresent:O,initial:!f.current||n?void 0:!1,custom:O?void 0:e,presenceAffectsLayout:i,mode:a,onExitComplete:O?void 0:C,children:A},E)})})},es=t=>t;let U9=es;function VT(t){let e;return()=>(e===void 0&&(e=t()),e)}const sp=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Hl=t=>t*1e3,Gl=t=>t/1e3,Tie={useManualTiming:!1};function kie(t){let e=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function o(c){a.has(c)&&(l.schedule(c),t()),c(s)}const l={schedule:(c,u=!1,f=!1)=>{const p=f&&r?e:n;return u&&a.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),a.delete(c)},process:c=>{if(s=c,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(o),e.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const F0=["read","resolveKeyframes","update","preRender","render","postRender"],jie=40;function V9(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=F0.reduce((v,w)=>(v[w]=kie(a),v),{}),{read:o,resolveKeyframes:l,update:c,preRender:u,render:f,postRender:h}=s,p=()=>{const v=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(v-i.timestamp,jie),1),i.timestamp=v,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),f.process(i),h.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(p))},y=()=>{n=!0,r=!0,i.isProcessing||t(p)};return{schedule:F0.reduce((v,w)=>{const _=s[w];return v[w]=(A,E=!1,O=!1)=>(n||y(),_.schedule(A,E,O)),v},{}),cancel:v=>{for(let w=0;w<F0.length;w++)s[F0[w]].cancel(v)},state:i,steps:s}}const{schedule:Qn,cancel:Cu,state:_i,steps:$5}=V9(typeof requestAnimationFrame<"u"?requestAnimationFrame:es,!0),z9=U.createContext({strict:!1}),oI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},op={};for(const t in oI)op[t]={isEnabled:e=>oI[t].some(n=>!!e[n])};function Cie(t){for(const e in t)op[e]={...op[e],...t[e]}}const Iie=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Iie.has(t)}let q9=t=>!Mb(t);function Oie(t){t&&(q9=e=>e.startsWith("on")?!Mb(e):t(e))}try{Oie(require("@emotion/is-prop-valid").default)}catch{}function Rie(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(q9(i)||n===!0&&Mb(i)||!e&&!Mb(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Lie(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const F2=U.createContext({});function my(t){return typeof t=="string"||Array.isArray(t)}function $2(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const zT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qT=["initial",...zT];function B2(t){return $2(t.animate)||qT.some(e=>my(t[e]))}function W9(t){return!!(B2(t)||t.variants)}function Mie(t,e){if(B2(t)){const{initial:n,animate:r}=t;return{initial:n===!1||my(n)?n:void 0,animate:my(r)?r:void 0}}return t.inherit!==!1?e:{}}function Die(t){const{initial:e,animate:n}=Mie(t,U.useContext(F2));return U.useMemo(()=>({initial:e,animate:n}),[lI(e),lI(n)])}function lI(t){return Array.isArray(t)?t.join(" "):t}const Fie=Symbol.for("motionComponentSymbol");function dh(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function $ie(t,e,n){return U.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):dh(n)&&(n.current=r))},[e])}const WT=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Bie="framerAppearId",H9="data-"+WT(Bie),{schedule:HT}=V9(queueMicrotask,!1),G9=U.createContext({});function Uie(t,e,n,r,i){var a,s;const{visualElement:o}=U.useContext(F2),l=U.useContext(z9),c=U.useContext(D2),u=U.useContext(BT).reducedMotion,f=U.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=f.current,p=U.useContext(G9);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&Vie(f.current,n,i,p);const y=U.useRef(!1);U.useInsertionEffect(()=>{h&&y.current&&h.update(n,c)});const b=n[H9],x=U.useRef(!!b&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,b))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,b)));return B9(()=>{h&&(y.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),HT.render(h.render),x.current&&h.animationState&&h.animationState.animateChanges())}),U.useEffect(()=>{h&&(!x.current&&h.animationState&&h.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,b)}),x.current=!1))}),h}function Vie(t,e,n,r){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:K9(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&dh(o),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function K9(t){if(t)return t.options.allowProjection!==!1?t.projection:K9(t.parent)}function zie({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,s;t&&Cie(t);function o(c,u){let f;const h={...U.useContext(BT),...c,layoutId:qie(c)},{isStatic:p}=h,y=Die(c),b=r(c,p);if(!p&&UT){Wie();const x=Hie(h);f=x.MeasureLayout,y.visualElement=Uie(i,b,h,e,x.ProjectionNode)}return d.jsxs(F2.Provider,{value:y,children:[f&&y.visualElement?d.jsx(f,{visualElement:y.visualElement,...h}):null,n(i,c,$ie(b,y.visualElement,u),b,p,y.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(s=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&s!==void 0?s:""})`}`;const l=U.forwardRef(o);return l[Fie]=i,l}function qie({layoutId:t}){const e=U.useContext(FT).id;return e&&t!==void 0?e+"-"+t:t}function Wie(t,e){U.useContext(z9).strict}function Hie(t){const{drag:e,layout:n}=op;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Gie=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function GT(t){return typeof t!="string"||t.includes("-")?!1:!!(Gie.indexOf(t)>-1||/[A-Z]/u.test(t))}function cI(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function KT(t,e,n,r){if(typeof e=="function"){const[i,a]=cI(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=cI(r);e=e(n!==void 0?n:t.custom,i,a)}return e}const CA=t=>Array.isArray(t),Kie=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Yie=t=>CA(t)?t[t.length-1]||0:t,Xi=t=>!!(t&&t.getVelocity);function D1(t){const e=Xi(t)?t.get():t;return Kie(e)?e.toValue():e}function Xie({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,a){const s={latestValues:Qie(r,i,a,t),renderState:e()};return n&&(s.onMount=o=>n({props:r,current:o,...s}),s.onUpdate=o=>n(o)),s}const Y9=t=>(e,n)=>{const r=U.useContext(F2),i=U.useContext(D2),a=()=>Xie(t,e,r,i);return n?a():$T(a)};function Qie(t,e,n,r){const i={},a=r(t,{});for(const h in a)i[h]=D1(a[h]);let{initial:s,animate:o}=t;const l=B2(t),c=W9(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),o===void 0&&(o=e.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const f=u?o:s;if(f&&typeof f!="boolean"&&!$2(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const y=KT(t,h[p]);if(y){const{transitionEnd:b,transition:x,...v}=y;for(const w in v){let _=v[w];if(Array.isArray(_)){const A=u?_.length-1:0;_=_[A]}_!==null&&(i[w]=_)}for(const w in b)i[w]=b[w]}}}return i}const Vp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bd=new Set(Vp),X9=t=>e=>typeof e=="string"&&e.startsWith(t),Q9=X9("--"),Jie=X9("var(--"),YT=t=>Jie(t)?Zie.test(t.split("/*")[0].trim()):!1,Zie=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,J9=(t,e)=>e&&typeof t=="number"?e.transform(t):t,sc=(t,e,n)=>n>e?e:n<t?t:n,zp={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},gy={...zp,transform:t=>sc(0,1,t)},$0={...zp,default:1},Ov=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Wc=Ov("deg"),Zo=Ov("%"),St=Ov("px"),eae=Ov("vh"),tae=Ov("vw"),uI={...Zo,parse:t=>Zo.parse(t)/100,transform:t=>Zo.transform(t*100)},nae={borderWidth:St,borderTopWidth:St,borderRightWidth:St,borderBottomWidth:St,borderLeftWidth:St,borderRadius:St,radius:St,borderTopLeftRadius:St,borderTopRightRadius:St,borderBottomRightRadius:St,borderBottomLeftRadius:St,width:St,maxWidth:St,height:St,maxHeight:St,top:St,right:St,bottom:St,left:St,padding:St,paddingTop:St,paddingRight:St,paddingBottom:St,paddingLeft:St,margin:St,marginTop:St,marginRight:St,marginBottom:St,marginLeft:St,backgroundPositionX:St,backgroundPositionY:St},rae={rotate:Wc,rotateX:Wc,rotateY:Wc,rotateZ:Wc,scale:$0,scaleX:$0,scaleY:$0,scaleZ:$0,skew:Wc,skewX:Wc,skewY:Wc,distance:St,translateX:St,translateY:St,translateZ:St,x:St,y:St,z:St,perspective:St,transformPerspective:St,opacity:gy,originX:uI,originY:uI,originZ:St},fI={...zp,transform:Math.round},XT={...nae,...rae,zIndex:fI,size:St,fillOpacity:gy,strokeOpacity:gy,numOctaves:fI},iae={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aae=Vp.length;function sae(t,e,n){let r="",i=!0;for(let a=0;a<aae;a++){const s=Vp[a],o=t[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const c=J9(o,XT[s]);if(!l){i=!1;const u=iae[s]||s;r+=`${u}(${c}) `}n&&(e[s]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function QT(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let s=!1,o=!1;for(const l in e){const c=e[l];if(bd.has(l)){s=!0;continue}else if(Q9(l)){i[l]=c;continue}else{const u=J9(c,XT[l]);l.startsWith("origin")?(o=!0,a[l]=u):r[l]=u}}if(e.transform||(s||n?r.transform=sae(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=a;r.transformOrigin=`${l} ${c} ${u}`}}const oae={offset:"stroke-dashoffset",array:"stroke-dasharray"},lae={offset:"strokeDashoffset",array:"strokeDasharray"};function cae(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?oae:lae;t[a.offset]=St.transform(-r);const s=St.transform(e),o=St.transform(n);t[a.array]=`${s} ${o}`}function dI(t,e,n){return typeof t=="string"?t:St.transform(e+n*t)}function uae(t,e,n){const r=dI(e,t.x,t.width),i=dI(n,t.y,t.height);return`${r} ${i}`}function JT(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},u,f){if(QT(t,c,f),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p,dimensions:y}=t;h.transform&&(y&&(p.transform=h.transform),delete h.transform),y&&(i!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=uae(y,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&cae(h,s,o,l,!1)}const ZT=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Z9=()=>({...ZT(),attrs:{}}),e4=t=>typeof t=="string"&&t.toLowerCase()==="svg";function eB(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const tB=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nB(t,e,n,r){eB(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(tB.has(i)?i:WT(i),e.attrs[i])}const Db={};function fae(t){Object.assign(Db,t)}function rB(t,{layout:e,layoutId:n}){return bd.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Db[t]||t==="opacity")}function t4(t,e,n){var r;const{style:i}=t,a={};for(const s in i)(Xi(i[s])||e.style&&Xi(e.style[s])||rB(s,t)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[s]=i[s]);return a}function iB(t,e,n){const r=t4(t,e,n);for(const i in t)if(Xi(t[i])||Xi(e[i])){const a=Vp.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function dae(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const hI=["x","y","width","height","cx","cy","r"],hae={useVisualState:Y9({scrapeMotionValuesFromProps:iB,createRenderState:Z9,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const o in i)if(bd.has(o)){a=!0;break}}if(!a)return;let s=!e;if(e)for(let o=0;o<hI.length;o++){const l=hI[o];t[l]!==e[l]&&(s=!0)}s&&Qn.read(()=>{dae(n,r),Qn.render(()=>{JT(r,i,e4(n.tagName),t.transformTemplate),nB(n,r)})})}})},pae={useVisualState:Y9({scrapeMotionValuesFromProps:t4,createRenderState:ZT})};function aB(t,e,n){for(const r in e)!Xi(e[r])&&!rB(r,n)&&(t[r]=e[r])}function mae({transformTemplate:t},e){return U.useMemo(()=>{const n=ZT();return QT(n,e,t),Object.assign({},n.vars,n.style)},[e])}function gae(t,e){const n=t.style||{},r={};return aB(r,n,t),Object.assign(r,mae(t,e)),r}function yae(t,e){const n={},r=gae(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function vae(t,e,n,r){const i=U.useMemo(()=>{const a=Z9();return JT(a,e,e4(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};aB(a,t.style,t),i.style={...a,...i.style}}return i}function bae(t=!1){return(n,r,i,{latestValues:a},s)=>{const l=(GT(n)?vae:yae)(r,a,s,n),c=Rie(r,typeof n=="string",t),u=n!==U.Fragment?{...c,...l,ref:i}:{},{children:f}=r,h=U.useMemo(()=>Xi(f)?f.get():f,[f]);return U.createElement(n,{...u,children:h})}}function xae(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...GT(r)?hae:pae,preloadedFeatures:t,useRender:bae(i),createVisualElement:e,Component:r};return zie(s)}}function sB(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function U2(t,e,n){const r=t.getProps();return KT(r,e,n!==void 0?n:r.custom,t)}const wae=VT(()=>window.ScrollTimeline!==void 0);class _ae{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(wae()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Sae extends _ae{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function n4(t,e){return t?t[e]||t.default||t:void 0}const IA=2e4;function oB(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<IA;)e+=n,r=t.next(e);return e>=IA?1/0:e}function r4(t){return typeof t=="function"}function pI(t,e){t.timeline=e,t.onfinish=null}const i4=t=>Array.isArray(t)&&typeof t[0]=="number",Aae={linearEasing:void 0};function Nae(t,e){const n=VT(t);return()=>{var r;return(r=Aae[e])!==null&&r!==void 0?r:n()}}const Fb=Nae(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),lB=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=t(sp(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function cB(t){return!!(typeof t=="function"&&Fb()||!t||typeof t=="string"&&(t in OA||Fb())||i4(t)||Array.isArray(t)&&t.every(cB))}const cg=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,OA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cg([0,.65,.55,1]),circOut:cg([.55,0,1,.45]),backIn:cg([.31,.01,.66,-.59]),backOut:cg([.33,1.53,.69,.99])};function uB(t,e){if(t)return typeof t=="function"&&Fb()?lB(t,e):i4(t)?cg(t):Array.isArray(t)?t.map(n=>uB(n,e)||OA.easeOut):OA[t]}const to={x:!1,y:!1};function fB(){return to.x||to.y}function Eae(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function dB(t,e){const n=Eae(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function mI(t){return e=>{e.pointerType==="touch"||fB()||t(e)}}function Pae(t,e,n={}){const[r,i,a]=dB(t,n),s=mI(o=>{const{target:l}=o,c=e(o);if(typeof c!="function"||!l)return;const u=mI(f=>{c(f),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return r.forEach(o=>{o.addEventListener("pointerenter",s,i)}),a}const hB=(t,e)=>e?t===e?!0:hB(t,e.parentElement):!1,a4=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Tae=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function kae(t){return Tae.has(t.tagName)||t.tabIndex!==-1}const ug=new WeakSet;function gI(t){return e=>{e.key==="Enter"&&t(e)}}function B5(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const jae=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=gI(()=>{if(ug.has(n))return;B5(n,"down");const i=gI(()=>{B5(n,"up")}),a=()=>B5(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function yI(t){return a4(t)&&!fB()}function Cae(t,e,n={}){const[r,i,a]=dB(t,n),s=o=>{const l=o.currentTarget;if(!yI(o)||ug.has(l))return;ug.add(l);const c=e(o),u=(p,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!yI(p)||!ug.has(l))&&(ug.delete(l),typeof c=="function"&&c(p,{success:y}))},f=p=>{u(p,n.useGlobalTarget||hB(l,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return r.forEach(o=>{!kae(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",s,i),o.addEventListener("focus",c=>jae(c,i),i)}),a}function Iae(t){return t==="x"||t==="y"?to[t]?null:(to[t]=!0,()=>{to[t]=!1}):to.x||to.y?null:(to.x=to.y=!0,()=>{to.x=to.y=!1})}const pB=new Set(["width","height","top","left","right","bottom",...Vp]);let F1;function Oae(){F1=void 0}const el={now:()=>(F1===void 0&&el.set(_i.isProcessing||Tie.useManualTiming?_i.timestamp:performance.now()),F1),set:t=>{F1=t,queueMicrotask(Oae)}};function s4(t,e){t.indexOf(e)===-1&&t.push(e)}function o4(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class l4{constructor(){this.subscriptions=[]}add(e){return s4(this.subscriptions,e),()=>o4(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function mB(t,e){return e?t*(1e3/e):0}const vI=30,Rae=t=>!isNaN(parseFloat(t));class Lae{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=el.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=el.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Rae(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new l4);const r=this.events[e].add(n);return e==="change"?()=>{r(),Qn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=el.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>vI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,vI);return mB(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yy(t,e){return new Lae(t,e)}function Mae(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,yy(n))}function Dae(t,e){const n=U2(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const s in a){const o=Yie(a[s]);Mae(t,s,o)}}function Fae(t){return!!(Xi(t)&&t.add)}function RA(t,e){const n=t.getValue("willChange");if(Fae(n))return n.add(e)}function gB(t){return t.props[H9]}const yB=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,$ae=1e-7,Bae=12;function Uae(t,e,n,r,i){let a,s,o=0;do s=e+(n-e)/2,a=yB(s,r,i)-t,a>0?n=s:e=s;while(Math.abs(a)>$ae&&++o<Bae);return s}function Rv(t,e,n,r){if(t===e&&n===r)return es;const i=a=>Uae(a,0,1,t,n);return a=>a===0||a===1?a:yB(i(a),e,r)}const vB=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,bB=t=>e=>1-t(1-e),xB=Rv(.33,1.53,.69,.99),c4=bB(xB),wB=vB(c4),_B=t=>(t*=2)<1?.5*c4(t):.5*(2-Math.pow(2,-10*(t-1))),u4=t=>1-Math.sin(Math.acos(t)),SB=bB(u4),AB=vB(u4),NB=t=>/^0[^.\s]+$/u.test(t);function Vae(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||NB(t):!0}const Tg=t=>Math.round(t*1e5)/1e5,f4=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zae(t){return t==null}const qae=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,d4=(t,e)=>n=>!!(typeof n=="string"&&qae.test(n)&&n.startsWith(t)||e&&!zae(n)&&Object.prototype.hasOwnProperty.call(n,e)),EB=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,s,o]=r.match(f4);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},Wae=t=>sc(0,255,t),U5={...zp,transform:t=>Math.round(Wae(t))},Cf={test:d4("rgb","red"),parse:EB("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+U5.transform(t)+", "+U5.transform(e)+", "+U5.transform(n)+", "+Tg(gy.transform(r))+")"};function Hae(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const LA={test:d4("#"),parse:Hae,transform:Cf.transform},hh={test:d4("hsl","hue"),parse:EB("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Zo.transform(Tg(e))+", "+Zo.transform(Tg(n))+", "+Tg(gy.transform(r))+")"},zi={test:t=>Cf.test(t)||LA.test(t)||hh.test(t),parse:t=>Cf.test(t)?Cf.parse(t):hh.test(t)?hh.parse(t):LA.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Cf.transform(t):hh.transform(t)},Gae=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Kae(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(f4))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Gae))===null||n===void 0?void 0:n.length)||0)>0}const PB="number",TB="color",Yae="var",Xae="var(",bI="${}",Qae=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vy(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const o=e.replace(Qae,l=>(zi.test(l)?(r.color.push(a),i.push(TB),n.push(zi.parse(l))):l.startsWith(Xae)?(r.var.push(a),i.push(Yae),n.push(l)):(r.number.push(a),i.push(PB),n.push(parseFloat(l))),++a,bI)).split(bI);return{values:n,split:o,indexes:r,types:i}}function kB(t){return vy(t).values}function jB(t){const{split:e,types:n}=vy(t),r=e.length;return i=>{let a="";for(let s=0;s<r;s++)if(a+=e[s],i[s]!==void 0){const o=n[s];o===PB?a+=Tg(i[s]):o===TB?a+=zi.transform(i[s]):a+=i[s]}return a}}const Jae=t=>typeof t=="number"?0:t;function Zae(t){const e=kB(t);return jB(t)(e.map(Jae))}const Iu={test:Kae,parse:kB,createTransformer:jB,getAnimatableNone:Zae},ese=new Set(["brightness","contrast","saturate","opacity"]);function tse(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(f4)||[];if(!r)return t;const i=n.replace(r,"");let a=ese.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const nse=/\b([a-z-]*)\(.*?\)/gu,MA={...Iu,getAnimatableNone:t=>{const e=t.match(nse);return e?e.map(tse).join(" "):t}},rse={...XT,color:zi,backgroundColor:zi,outlineColor:zi,fill:zi,stroke:zi,borderColor:zi,borderTopColor:zi,borderRightColor:zi,borderBottomColor:zi,borderLeftColor:zi,filter:MA,WebkitFilter:MA},h4=t=>rse[t];function CB(t,e){let n=h4(t);return n!==MA&&(n=Iu),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const ise=new Set(["auto","none","0"]);function ase(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!ise.has(a)&&vy(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=CB(n,i)}const xI=t=>t===zp||t===St,wI=(t,e)=>parseFloat(t.split(", ")[e]),_I=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return wI(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?wI(a[1],t):0}},sse=new Set(["x","y","z"]),ose=Vp.filter(t=>!sse.has(t));function lse(t){const e=[];return ose.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const lp={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:_I(4,13),y:_I(5,14)};lp.translateX=lp.x;lp.translateY=lp.y;const Uf=new Set;let DA=!1,FA=!1;function IB(){if(FA){const t=Array.from(Uf).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=lse(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,s])=>{var o;(o=r.getValue(a))===null||o===void 0||o.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}FA=!1,DA=!1,Uf.forEach(t=>t.complete()),Uf.clear()}function OB(){Uf.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(FA=!0)})}function cse(){OB(),IB()}class p4{constructor(e,n,r,i,a,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Uf.add(this),DA||(DA=!0,Qn.read(OB),Qn.resolveKeyframes(IB))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Uf.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Uf.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const RB=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),use=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fse(t){const e=use.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function LB(t,e,n=1){const[r,i]=fse(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const s=a.trim();return RB(s)?parseFloat(s):s}return YT(i)?LB(i,e,n+1):i}const MB=t=>e=>e.test(t),dse={test:t=>t==="auto",parse:t=>t},DB=[zp,St,Zo,Wc,tae,eae,dse],SI=t=>DB.find(MB(t));class FB extends p4{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),YT(c))){const u=LB(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!pB.has(r)||e.length!==2)return;const[i,a]=e,s=SI(i),o=SI(a);if(s!==o)if(xI(s)&&xI(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Vae(e[i])&&r.push(i);r.length&&ase(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=lp[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=lp[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const AI=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Iu.test(t)||t==="0")&&!t.startsWith("url("));function hse(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function pse(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],s=AI(i,e),o=AI(a,e);return!s||!o?!1:hse(t)||(n==="spring"||r4(n))&&r}const mse=t=>t!==null;function V2(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(mse),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const gse=40;class $B{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=el.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:s,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>gse?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&cse(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=el.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:s,onComplete:o,onUpdate:l,isGenerator:c}=this.options;if(!c&&!pse(e,r,i,a))if(s)this.options.duration=0;else{l&&l(V2(e,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const cr=(t,e,n)=>t+(e-t)*n;function V5(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function yse({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,s=0;if(!e)i=a=s=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=V5(l,o,t+1/3),a=V5(l,o,t),s=V5(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}function $b(t,e){return n=>n>0?e:t}const z5=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},vse=[LA,Cf,hh],bse=t=>vse.find(e=>e.test(t));function NI(t){const e=bse(t);if(!e)return!1;let n=e.parse(t);return e===hh&&(n=yse(n)),n}const EI=(t,e)=>{const n=NI(t),r=NI(e);if(!n||!r)return $b(t,e);const i={...n};return a=>(i.red=z5(n.red,r.red,a),i.green=z5(n.green,r.green,a),i.blue=z5(n.blue,r.blue,a),i.alpha=cr(n.alpha,r.alpha,a),Cf.transform(i))},xse=(t,e)=>n=>e(t(n)),Lv=(...t)=>t.reduce(xse),$A=new Set(["none","hidden"]);function wse(t,e){return $A.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function _se(t,e){return n=>cr(t,e,n)}function m4(t){return typeof t=="number"?_se:typeof t=="string"?YT(t)?$b:zi.test(t)?EI:Nse:Array.isArray(t)?BB:typeof t=="object"?zi.test(t)?EI:Sse:$b}function BB(t,e){const n=[...t],r=n.length,i=t.map((a,s)=>m4(a)(a,e[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}}function Sse(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=m4(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function Ase(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const s=e.types[a],o=t.indexes[s][i[s]],l=(n=t.values[o])!==null&&n!==void 0?n:0;r[a]=l,i[s]++}return r}const Nse=(t,e)=>{const n=Iu.createTransformer(e),r=vy(t),i=vy(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?$A.has(t)&&!i.values.length||$A.has(e)&&!r.values.length?wse(t,e):Lv(BB(Ase(r,i),i.values),n):$b(t,e)};function UB(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?cr(t,e,n):m4(t)(t,e)}const Ese=5;function VB(t,e,n){const r=Math.max(e-Ese,0);return mB(n-t(r),e-r)}const Sr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},q5=.001;function Pse({duration:t=Sr.duration,bounce:e=Sr.bounce,velocity:n=Sr.velocity,mass:r=Sr.mass}){let i,a,s=1-e;s=sc(Sr.minDamping,Sr.maxDamping,s),t=sc(Sr.minDuration,Sr.maxDuration,Gl(t)),s<1?(i=c=>{const u=c*s,f=u*t,h=u-n,p=BA(c,s),y=Math.exp(-f);return q5-h/p*y},a=c=>{const f=c*s*t,h=f*n+n,p=Math.pow(s,2)*Math.pow(c,2)*t,y=Math.exp(-f),b=BA(Math.pow(c,2),s);return(-i(c)+q5>0?-1:1)*((h-p)*y)/b}):(i=c=>{const u=Math.exp(-c*t),f=(c-n)*t+1;return-q5+u*f},a=c=>{const u=Math.exp(-c*t),f=(n-c)*(t*t);return u*f});const o=5/t,l=kse(i,a,o);if(t=Hl(t),isNaN(l))return{stiffness:Sr.stiffness,damping:Sr.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const Tse=12;function kse(t,e,n){let r=n;for(let i=1;i<Tse;i++)r=r-t(r)/e(r);return r}function BA(t,e){return t*Math.sqrt(1-e*e)}const jse=["duration","bounce"],Cse=["stiffness","damping","mass"];function PI(t,e){return e.some(n=>t[n]!==void 0)}function Ise(t){let e={velocity:Sr.velocity,stiffness:Sr.stiffness,damping:Sr.damping,mass:Sr.mass,isResolvedFromDuration:!1,...t};if(!PI(t,Cse)&&PI(t,jse))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*sc(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Sr.mass,stiffness:i,damping:a}}else{const n=Pse(t);e={...e,...n,mass:Sr.mass},e.isResolvedFromDuration=!0}return e}function zB(t=Sr.visualDuration,e=Sr.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:p}=Ise({...n,velocity:-Gl(n.velocity||0)}),y=h||0,b=c/(2*Math.sqrt(l*u)),x=s-a,v=Gl(Math.sqrt(l/u)),w=Math.abs(x)<5;r||(r=w?Sr.restSpeed.granular:Sr.restSpeed.default),i||(i=w?Sr.restDelta.granular:Sr.restDelta.default);let _;if(b<1){const E=BA(v,b);_=O=>{const C=Math.exp(-b*v*O);return s-C*((y+b*v*x)/E*Math.sin(E*O)+x*Math.cos(E*O))}}else if(b===1)_=E=>s-Math.exp(-v*E)*(x+(y+v*x)*E);else{const E=v*Math.sqrt(b*b-1);_=O=>{const C=Math.exp(-b*v*O),N=Math.min(E*O,300);return s-C*((y+b*v*x)*Math.sinh(N)+E*x*Math.cosh(N))/E}}const A={calculatedDuration:p&&f||null,next:E=>{const O=_(E);if(p)o.done=E>=f;else{let C=0;b<1&&(C=E===0?Hl(y):VB(_,E,O));const N=Math.abs(C)<=r,k=Math.abs(s-O)<=i;o.done=N&&k}return o.value=o.done?s:O,o},toString:()=>{const E=Math.min(oB(A),IA),O=lB(C=>A.next(E*C).value,E,30);return E+"ms "+O}};return A}function TI({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=t[0],h={done:!1,value:f},p=N=>o!==void 0&&N<o||l!==void 0&&N>l,y=N=>o===void 0?l:l===void 0||Math.abs(o-N)<Math.abs(l-N)?o:l;let b=n*e;const x=f+b,v=s===void 0?x:s(x);v!==x&&(b=v-f);const w=N=>-b*Math.exp(-N/r),_=N=>v+w(N),A=N=>{const k=w(N),M=_(N);h.done=Math.abs(k)<=c,h.value=h.done?v:M};let E,O;const C=N=>{p(h.value)&&(E=N,O=zB({keyframes:[h.value,y(h.value)],velocity:VB(_,N,h.value),damping:i,stiffness:a,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:N=>{let k=!1;return!O&&E===void 0&&(k=!0,A(N),C(N)),E!==void 0&&N>=E?O.next(N-E):(!k&&A(N),h)}}}const Ose=Rv(.42,0,1,1),Rse=Rv(0,0,.58,1),qB=Rv(.42,0,.58,1),Lse=t=>Array.isArray(t)&&typeof t[0]!="number",Mse={linear:es,easeIn:Ose,easeInOut:qB,easeOut:Rse,circIn:u4,circInOut:AB,circOut:SB,backIn:c4,backInOut:wB,backOut:xB,anticipate:_B},kI=t=>{if(i4(t)){U9(t.length===4);const[e,n,r,i]=t;return Rv(e,n,r,i)}else if(typeof t=="string")return Mse[t];return t};function Dse(t,e,n){const r=[],i=n||UB,a=t.length-1;for(let s=0;s<a;s++){let o=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||es:e;o=Lv(l,o)}r.push(o)}return r}function Fse(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(U9(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Dse(e,r,i),l=o.length,c=u=>{if(s&&u<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(u<t[f+1]);f++);const h=sp(t[f],t[f+1],u);return o[f](h)};return n?u=>c(sc(t[0],t[a-1],u)):c}function $se(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=sp(0,e,r);t.push(cr(n,1,i))}}function Bse(t){const e=[0];return $se(e,t.length-1),e}function Use(t,e){return t.map(n=>n*e)}function Vse(t,e){return t.map(()=>e||qB).splice(0,t.length-1)}function Bb({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Lse(r)?r.map(kI):kI(r),a={done:!1,value:e[0]},s=Use(n&&n.length===e.length?n:Bse(e),t),o=Fse(s,e,{ease:Array.isArray(i)?i:Vse(e,i)});return{calculatedDuration:t,next:l=>(a.value=o(l),a.done=l>=t,a)}}const zse=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Qn.update(e,!0),stop:()=>Cu(e),now:()=>_i.isProcessing?_i.timestamp:el.now()}},qse={decay:TI,inertia:TI,tween:Bb,keyframes:Bb,spring:zB},Wse=t=>t/100;class g4 extends $B{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,s=(i==null?void 0:i.KeyframeResolver)||p4,o=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new s(a,o,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=this.options,o=r4(n)?n:qse[n]||Bb;let l,c;o!==Bb&&typeof e[0]!="number"&&(l=Lv(Wse,UB(e[0],e[1])),e=[0,100]);const u=o({...this.options,keyframes:e});a==="mirror"&&(c=o({...this.options,keyframes:[...e].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=oB(u));const{calculatedDuration:f}=u,h=f+i,p=h*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:N}=this.options;return{done:!0,value:N[N.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:f}=r;if(this.startTime===null)return a.next(0);const{delay:h,repeat:p,repeatType:y,repeatDelay:b,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-h*(this.speed>=0?1:-1),w=this.speed>=0?v<0:v>u;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let _=this.currentTime,A=a;if(p){const N=Math.min(this.currentTime,u)/f;let k=Math.floor(N),M=N%1;!M&&N>=1&&(M=1),M===1&&k--,k=Math.min(k,p+1),!!(k%2)&&(y==="reverse"?(M=1-M,b&&(M-=b/f)):y==="mirror"&&(A=s)),_=sc(0,1,M)*f}const E=w?{done:!1,value:l[0]}:A.next(_);o&&(E.value=o(E.value));let{done:O}=E;!w&&c!==null&&(O=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return C&&i!==void 0&&(E.value=V2(l,this.options,i)),x&&x(E.value),C&&this.finish(),E}get duration(){const{resolved:e}=this;return e?Gl(e.calculatedDuration):0}get time(){return Gl(this.currentTime)}set time(e){e=Hl(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Gl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=zse,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Hse=new Set(["opacity","clipPath","filter","transform"]);function Gse(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=uB(o,i);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}const Kse=VT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ub=10,Yse=2e4;function Xse(t){return r4(t.type)||t.type==="spring"||!cB(t.ease)}function Qse(t,e){const n=new g4({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<Yse;)r=n.sample(a),i.push(r.value),a+=Ub;return{times:void 0,keyframes:i,duration:a-Ub,ease:"linear"}}const WB={anticipate:_B,backInOut:wB,circInOut:AB};function Jse(t){return t in WB}class jI extends $B{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new FB(a,(s,o)=>this.onKeyframesResolved(s,o),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:a,type:s,motionValue:o,name:l,startTime:c}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof a=="string"&&Fb()&&Jse(a)&&(a=WB[a]),Xse(this.options)){const{onComplete:f,onUpdate:h,motionValue:p,element:y,...b}=this.options,x=Qse(e,b);e=x.keyframes,e.length===1&&(e[1]=e[0]),r=x.duration,i=x.times,a=x.ease,s="keyframes"}const u=Gse(o.owner.current,l,e,{...this.options,duration:r,times:i,ease:a});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(pI(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:f}=this.options;o.set(V2(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:s,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Gl(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Gl(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Hl(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return es;const{animation:r}=n;pI(r,e)}return es}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:s,times:o}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:f,element:h,...p}=this.options,y=new g4({...p,keyframes:r,duration:i,type:a,ease:s,times:o,isGenerator:!0}),b=Hl(this.time);c.setWithVelocity(y.sample(b-Ub).value,y.sample(b).value,Ub)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:s,type:o}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Kse()&&r&&Hse.has(r)&&!l&&!c&&!i&&a!=="mirror"&&s!==0&&o!=="inertia"}}const Zse={type:"spring",stiffness:500,damping:25,restSpeed:10},eoe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),toe={type:"keyframes",duration:.8},noe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},roe=(t,{keyframes:e})=>e.length>2?toe:bd.has(t)?t.startsWith("scale")?eoe(e[1]):Zse:noe;function ioe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const y4=(t,e,n,r={},i,a)=>s=>{const o=n4(r,t)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Hl(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:h=>{e.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:a?void 0:i};ioe(o)||(u={...u,...roe(t,u)}),u.duration&&(u.duration=Hl(u.duration)),u.repeatDelay&&(u.repeatDelay=Hl(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),f&&!a&&e.get()!==void 0){const h=V2(u.keyframes,o);if(h!==void 0)return Qn.update(()=>{u.onUpdate(h),u.onComplete()}),new Sae([])}return!a&&jI.supports(u)?new jI(u):new g4(u)};function aoe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function HB(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(s=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const h=t.getValue(f,(a=t.latestValues[f])!==null&&a!==void 0?a:null),p=l[f];if(p===void 0||u&&aoe(u,f))continue;const y={delay:n,...n4(s||{},f)};let b=!1;if(window.MotionHandoffAnimation){const v=gB(t);if(v){const w=window.MotionHandoffAnimation(v,f,Qn);w!==null&&(y.startTime=w,b=!0)}}RA(t,f),h.start(y4(f,h,p,t.shouldReduceMotion&&pB.has(f)?{type:!1}:y,t,b));const x=h.animation;x&&c.push(x)}return o&&Promise.all(c).then(()=>{Qn.update(()=>{o&&Dae(t,o)})}),c}function UA(t,e,n={}){var r;const i=U2(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const s=i?()=>Promise.all(HB(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=a;return soe(t,e,u+c,f,h,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function soe(t,e,n=0,r=0,i=1,a){const s=[],o=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(t.variantChildren).sort(ooe).forEach((c,u)=>{c.notify("AnimationStart",e),s.push(UA(c,e,{...a,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function ooe(t,e){return t.sortNodePosition(e)}function loe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>UA(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=UA(t,e,n);else{const i=typeof e=="function"?U2(t,e,n.custom):e;r=Promise.all(HB(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const coe=qT.length;function GB(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?GB(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<coe;n++){const r=qT[n],i=t.props[r];(my(i)||i===!1)&&(e[r]=i)}return e}const uoe=[...zT].reverse(),foe=zT.length;function doe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>loe(t,n,r)))}function hoe(t){let e=doe(t),n=CI(),r=!0;const i=l=>(c,u)=>{var f;const h=U2(t,u,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:y,...b}=h;c={...c,...b,...y}}return c};function a(l){e=l(t)}function s(l){const{props:c}=t,u=GB(t.parent)||{},f=[],h=new Set;let p={},y=1/0;for(let x=0;x<foe;x++){const v=uoe[x],w=n[v],_=c[v]!==void 0?c[v]:u[v],A=my(_),E=v===l?w.isActive:null;E===!1&&(y=x);let O=_===u[v]&&_!==c[v]&&A;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),w.protectedKeys={...p},!w.isActive&&E===null||!_&&!w.prevProp||$2(_)||typeof _=="boolean")continue;const C=poe(w.prevProp,_);let N=C||v===l&&w.isActive&&!O&&A||x>y&&A,k=!1;const M=Array.isArray(_)?_:[_];let P=M.reduce(i(v),{});E===!1&&(P={});const{prevResolvedValues:I={}}=w,j={...I,...P},B=re=>{N=!0,h.has(re)&&(k=!0,h.delete(re)),w.needsAnimating[re]=!0;const Y=t.getValue(re);Y&&(Y.liveStyle=!1)};for(const re in j){const Y=P[re],ae=I[re];if(p.hasOwnProperty(re))continue;let ue=!1;CA(Y)&&CA(ae)?ue=!sB(Y,ae):ue=Y!==ae,ue?Y!=null?B(re):h.add(re):Y!==void 0&&h.has(re)?B(re):w.protectedKeys[re]=!0}w.prevProp=_,w.prevResolvedValues=P,w.isActive&&(p={...p,...P}),r&&t.blockInitialAnimation&&(N=!1),N&&(!(O&&C)||k)&&f.push(...M.map(re=>({animation:re,options:{type:v}})))}if(h.size){const x={};h.forEach(v=>{const w=t.getBaseTarget(v),_=t.getValue(v);_&&(_.liveStyle=!0),x[v]=w??null}),f.push({animation:x})}let b=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(f):Promise.resolve()}function o(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const f=s(l);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n,reset:()=>{n=CI(),r=!0}}}function poe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!sB(e,t):!1}function pf(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function CI(){return{animate:pf(!0),whileInView:pf(),whileHover:pf(),whileTap:pf(),whileDrag:pf(),whileFocus:pf(),exit:pf()}}class Wu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class moe extends Wu{constructor(e){super(e),e.animationState||(e.animationState=hoe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();$2(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let goe=0;class yoe extends Wu{constructor(){super(...arguments),this.id=goe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const voe={animation:{Feature:moe},exit:{Feature:yoe}};function by(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Mv(t){return{point:{x:t.pageX,y:t.pageY}}}const boe=t=>e=>a4(e)&&t(e,Mv(e));function kg(t,e,n,r){return by(t,e,boe(n),r)}const II=(t,e)=>Math.abs(t-e);function xoe(t,e){const n=II(t.x,e.x),r=II(t.y,e.y);return Math.sqrt(n**2+r**2)}class KB{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=H5(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=xoe(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:y}=f,{timestamp:b}=_i;this.history.push({...y,timestamp:b});const{onStart:x,onMove:v}=this.handlers;h||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=W5(h,this.transformPagePoint),Qn.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=H5(f.type==="pointercancel"?this.lastMoveEventInfo:W5(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,x),y&&y(f,x)},!a4(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Mv(e),o=W5(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=_i;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,H5(o,this.history)),this.removeListeners=Lv(kg(this.contextWindow,"pointermove",this.handlePointerMove),kg(this.contextWindow,"pointerup",this.handlePointerUp),kg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Cu(this.updatePoint)}}function W5(t,e){return e?{point:e(t.point)}:t}function OI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function H5({point:t},e){return{point:t,delta:OI(t,YB(e)),offset:OI(t,woe(e)),velocity:_oe(e,.1)}}function woe(t){return t[0]}function YB(t){return t[t.length-1]}function _oe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=YB(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Hl(e)));)n--;if(!r)return{x:0,y:0};const a=Gl(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}const XB=1e-4,Soe=1-XB,Aoe=1+XB,QB=.01,Noe=0-QB,Eoe=0+QB;function rs(t){return t.max-t.min}function Poe(t,e,n){return Math.abs(t-e)<=n}function RI(t,e,n,r=.5){t.origin=r,t.originPoint=cr(e.min,e.max,t.origin),t.scale=rs(n)/rs(e),t.translate=cr(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Soe&&t.scale<=Aoe||isNaN(t.scale))&&(t.scale=1),(t.translate>=Noe&&t.translate<=Eoe||isNaN(t.translate))&&(t.translate=0)}function jg(t,e,n,r){RI(t.x,e.x,n.x,r?r.originX:void 0),RI(t.y,e.y,n.y,r?r.originY:void 0)}function LI(t,e,n){t.min=n.min+e.min,t.max=t.min+rs(e)}function Toe(t,e,n){LI(t.x,e.x,n.x),LI(t.y,e.y,n.y)}function MI(t,e,n){t.min=e.min-n.min,t.max=t.min+rs(e)}function Cg(t,e,n){MI(t.x,e.x,n.x),MI(t.y,e.y,n.y)}function koe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?cr(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?cr(n,t,r.max):Math.min(t,n)),t}function DI(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function joe(t,{top:e,left:n,bottom:r,right:i}){return{x:DI(t.x,n,i),y:DI(t.y,e,r)}}function FI(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Coe(t,e){return{x:FI(t.x,e.x),y:FI(t.y,e.y)}}function Ioe(t,e){let n=.5;const r=rs(t),i=rs(e);return i>r?n=sp(e.min,e.max-r,t.min):r>i&&(n=sp(t.min,t.max-i,e.min)),sc(0,1,n)}function Ooe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const VA=.35;function Roe(t=VA){return t===!1?t=0:t===!0&&(t=VA),{x:$I(t,"left","right"),y:$I(t,"top","bottom")}}function $I(t,e,n){return{min:BI(t,e),max:BI(t,n)}}function BI(t,e){return typeof t=="number"?t:t[e]||0}const UI=()=>({translate:0,scale:1,origin:0,originPoint:0}),ph=()=>({x:UI(),y:UI()}),VI=()=>({min:0,max:0}),Rr=()=>({x:VI(),y:VI()});function Ts(t){return[t("x"),t("y")]}function JB({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Loe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Moe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function G5(t){return t===void 0||t===1}function zA({scale:t,scaleX:e,scaleY:n}){return!G5(t)||!G5(e)||!G5(n)}function bf(t){return zA(t)||ZB(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ZB(t){return zI(t.x)||zI(t.y)}function zI(t){return t&&t!=="0%"}function Vb(t,e,n){const r=t-n,i=e*r;return n+i}function qI(t,e,n,r,i){return i!==void 0&&(t=Vb(t,i,r)),Vb(t,n,r)+e}function qA(t,e=0,n=1,r,i){t.min=qI(t.min,e,n,r,i),t.max=qI(t.max,e,n,r,i)}function eU(t,{x:e,y:n}){qA(t.x,e.translate,e.scale,e.originPoint),qA(t.y,n.translate,n.scale,n.originPoint)}const WI=.999999999999,HI=1.0000000000001;function Doe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&gh(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,eU(t,s)),r&&bf(a.latestValues)&&gh(t,a.latestValues))}e.x<HI&&e.x>WI&&(e.x=1),e.y<HI&&e.y>WI&&(e.y=1)}function mh(t,e){t.min=t.min+e,t.max=t.max+e}function GI(t,e,n,r,i=.5){const a=cr(t.min,t.max,i);qA(t,e,n,a,r)}function gh(t,e){GI(t.x,e.x,e.scaleX,e.scale,e.originX),GI(t.y,e.y,e.scaleY,e.scale,e.originY)}function tU(t,e){return JB(Moe(t.getBoundingClientRect(),e))}function Foe(t,e,n){const r=tU(t,n),{scroll:i}=e;return i&&(mh(r.x,i.offset.x),mh(r.y,i.offset.y)),r}const nU=({current:t})=>t?t.ownerDocument.defaultView:null,$oe=new WeakMap;class Boe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Mv(u).point)},a=(u,f)=>{const{drag:h,dragPropagation:p,onDragStart:y}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Iae(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ts(x=>{let v=this.getAxisMotionValue(x).get()||0;if(Zo.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const _=w.layout.layoutBox[x];_&&(v=rs(_)*(parseFloat(v)/100))}}this.originPoint[x]=v}),y&&Qn.postRender(()=>y(u,f)),RA(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},s=(u,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:y,onDrag:b}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:x}=f;if(p&&this.currentDirection===null){this.currentDirection=Uoe(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),b&&b(u,f)},o=(u,f)=>this.stop(u,f),l=()=>Ts(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new KB(e,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:nU(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Qn.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!B0(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=koe(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&dh(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=joe(i.layoutBox,n):this.constraints=!1,this.elastic=Roe(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ts(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Ooe(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!dh(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Foe(r,i.root,this.visualElement.getTransformPagePoint());let s=Coe(i.layout.layoutBox,a);if(n){const o=n(Loe(s));this.hasMutatedConstraints=!!o,o&&(s=JB(o))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Ts(u=>{if(!B0(u,n,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,y={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(u,y)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return RA(this.visualElement,e),r.start(y4(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ts(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ts(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ts(n=>{const{drag:r}=this.getProps();if(!B0(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(e[n]-cr(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!dh(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ts(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();i[s]=Ioe({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ts(s=>{if(!B0(s,e,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(cr(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;$oe.set(this.visualElement,this);const e=this.visualElement.current,n=kg(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();dh(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Qn.read(r);const s=by(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ts(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=VA,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function B0(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Uoe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Voe extends Wu{constructor(e){super(e),this.removeGroupControls=es,this.removeListeners=es,this.controls=new Boe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||es}unmount(){this.removeGroupControls(),this.removeListeners()}}const KI=t=>(e,n)=>{t&&Qn.postRender(()=>t(e,n))};class zoe extends Wu{constructor(){super(...arguments),this.removePointerDownListener=es}onPointerDown(e){this.session=new KB(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nU(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:KI(e),onStart:KI(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&Qn.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=kg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function YI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Mm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(St.test(t))t=parseFloat(t);else return t;const n=YI(t,e.target.x),r=YI(t,e.target.y);return`${n}% ${r}%`}},qoe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Iu.parse(t);if(i.length>5)return r;const a=Iu.createTransformer(t),s=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=o,i[1+s]/=l;const c=cr(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),a(i)}};class Woe extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;fae(Hoe),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),$1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||Qn.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),HT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rU(t){const[e,n]=$9(),r=U.useContext(FT);return d.jsx(Woe,{...t,layoutGroup:r,switchLayoutGroup:U.useContext(G9),isPresent:e,safeToRemove:n})}const Hoe={borderRadius:{...Mm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Mm,borderTopRightRadius:Mm,borderBottomLeftRadius:Mm,borderBottomRightRadius:Mm,boxShadow:qoe};function Goe(t,e,n){const r=Xi(t)?t:yy(t);return r.start(y4("",r,e,n)),r.animation}function Koe(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Yoe=(t,e)=>t.depth-e.depth;class Xoe{constructor(){this.children=[],this.isDirty=!1}add(e){s4(this.children,e),this.isDirty=!0}remove(e){o4(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Yoe),this.isDirty=!1,this.children.forEach(e)}}function Qoe(t,e){const n=el.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Cu(r),t(a-e))};return Qn.read(r,!0),()=>Cu(r)}const iU=["TopLeft","TopRight","BottomLeft","BottomRight"],Joe=iU.length,XI=t=>typeof t=="string"?parseFloat(t):t,QI=t=>typeof t=="number"||St.test(t);function Zoe(t,e,n,r,i,a){i?(t.opacity=cr(0,n.opacity!==void 0?n.opacity:1,ele(r)),t.opacityExit=cr(e.opacity!==void 0?e.opacity:1,0,tle(r))):a&&(t.opacity=cr(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Joe;s++){const o=`border${iU[s]}Radius`;let l=JI(e,o),c=JI(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||QI(l)===QI(c)?(t[o]=Math.max(cr(XI(l),XI(c),r),0),(Zo.test(c)||Zo.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=cr(e.rotate||0,n.rotate||0,r))}function JI(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ele=aU(0,.5,SB),tle=aU(.5,.95,es);function aU(t,e,n){return r=>r<t?0:r>e?1:n(sp(t,e,r))}function ZI(t,e){t.min=e.min,t.max=e.max}function As(t,e){ZI(t.x,e.x),ZI(t.y,e.y)}function eO(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function tO(t,e,n,r,i){return t-=e,t=Vb(t,1/n,r),i!==void 0&&(t=Vb(t,1/i,r)),t}function nle(t,e=0,n=1,r=.5,i,a=t,s=t){if(Zo.test(e)&&(e=parseFloat(e),e=cr(s.min,s.max,e/100)-s.min),typeof e!="number")return;let o=cr(a.min,a.max,r);t===a&&(o-=e),t.min=tO(t.min,e,n,o,i),t.max=tO(t.max,e,n,o,i)}function nO(t,e,[n,r,i],a,s){nle(t,e[n],e[r],e[i],e.scale,a,s)}const rle=["x","scaleX","originX"],ile=["y","scaleY","originY"];function rO(t,e,n,r){nO(t.x,e,rle,n?n.x:void 0,r?r.x:void 0),nO(t.y,e,ile,n?n.y:void 0,r?r.y:void 0)}function iO(t){return t.translate===0&&t.scale===1}function sU(t){return iO(t.x)&&iO(t.y)}function aO(t,e){return t.min===e.min&&t.max===e.max}function ale(t,e){return aO(t.x,e.x)&&aO(t.y,e.y)}function sO(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function oU(t,e){return sO(t.x,e.x)&&sO(t.y,e.y)}function oO(t){return rs(t.x)/rs(t.y)}function lO(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class sle{constructor(){this.members=[]}add(e){s4(this.members,e),e.scheduleRender()}remove(e){if(o4(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ole(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((i||a||s)&&(r=`translate3d(${i}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:p,skewY:y}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),y&&(r+=`skewY(${y}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const xf={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},fg=typeof window<"u"&&window.MotionDebug!==void 0,K5=["","X","Y","Z"],lle={visibility:"hidden"},cO=1e3;let cle=0;function Y5(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function lU(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=gB(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Qn,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&lU(r)}function cU({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=e==null?void 0:e()){this.id=cle++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,fg&&(xf.totalNodes=xf.resolvedTargetDeltas=xf.recalculatedProjection=0),this.nodes.forEach(dle),this.nodes.forEach(yle),this.nodes.forEach(vle),this.nodes.forEach(hle),fg&&window.MotionDebug.record(xf)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Xoe)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new l4),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Koe(s),this.instance=s;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Qoe(h,250),$1.hasAnimatedSinceResize&&($1.hasAnimatedSinceResize=!1,this.nodes.forEach(fO))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||u.getDefaultTransition()||Sle,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=u.getProps(),w=!this.targetLayout||!oU(this.targetLayout,y)||p,_=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,_);const A={...n4(b,"layout"),onPlay:x,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else h||fO(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Cu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ble),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&lU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uO);return}this.isUpdating||this.nodes.forEach(mle),this.isUpdating=!1,this.nodes.forEach(gle),this.nodes.forEach(ule),this.nodes.forEach(fle),this.clearAllSnapshots();const o=el.now();_i.delta=sc(0,1e3/60,o-_i.timestamp),_i.timestamp=o,_i.isProcessing=!0,$5.update.process(_i),$5.preRender.process(_i),$5.render.process(_i),_i.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,HT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ple),this.sharedNodes.forEach(xle)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Rr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!sU(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&(o||bf(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),Ale(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:o}=this.options;if(!o)return Rr();const l=o.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(Nle))){const{scroll:u}=this.root;u&&(mh(l.x,u.offset.x),mh(l.y,u.offset.y))}return l}removeElementScroll(s){var o;const l=Rr();if(As(l,s),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&As(l,s),mh(l.x,f.offset.x),mh(l.y,f.offset.y))}return l}applyTransform(s,o=!1){const l=Rr();As(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&gh(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),bf(u.latestValues)&&gh(l,u.latestValues)}return bf(this.latestValues)&&gh(l,this.latestValues),l}removeTransform(s){const o=Rr();As(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!bf(c.latestValues))continue;zA(c.latestValues)&&c.updateSnapshot();const u=Rr(),f=c.measurePageBox();As(u,f),rO(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return bf(this.latestValues)&&rO(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_i.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=_i.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rr(),this.relativeTargetOrigin=Rr(),Cg(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),As(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Rr(),this.targetWithTransforms=Rr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Toe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):As(this.target,this.layout.layoutBox),eU(this.target,this.targetDelta)):As(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rr(),this.relativeTargetOrigin=Rr(),Cg(this.relativeTargetOrigin,this.target,p.target),As(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}fg&&xf.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||zA(this.parent.latestValues)||ZB(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===_i.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;As(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;Doe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Rr());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(eO(this.prevProjectionDelta.x,this.projectionDelta.x),eO(this.prevProjectionDelta.y,this.projectionDelta.y)),jg(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!lO(this.projectionDelta.x,this.prevProjectionDelta.x)||!lO(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),fg&&xf.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ph(),this.projectionDelta=ph(),this.projectionDeltaWithTransform=ph()}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=ph();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Rr(),p=l?l.source:void 0,y=this.layout?this.layout.source:void 0,b=p!==y,x=this.getStack(),v=!x||x.members.length<=1,w=!!(b&&!v&&this.options.crossfade===!0&&!this.path.some(_le));this.animationProgress=0;let _;this.mixTargetDelta=A=>{const E=A/1e3;dO(f.x,s.x,E),dO(f.y,s.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cg(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wle(this.relativeTarget,this.relativeTargetOrigin,h,E),_&&ale(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Rr()),As(_,this.relativeTarget)),b&&(this.animationValues=u,Zoe(u,c,this.latestValues,E,w,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Cu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qn.update(()=>{$1.hasAnimatedSinceResize=!0,this.currentAnimation=Goe(0,cO,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&uU(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Rr();const f=rs(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=rs(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}As(o,l),gh(o,u),jg(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new sle),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&Y5("z",s,c,this.animationValues);for(let u=0;u<K5.length;u++)Y5(`rotate${K5[u]}`,s,c,this.animationValues),Y5(`skew${K5[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return lle;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=D1(s==null?void 0:s.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=D1(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!bf(this.latestValues)&&(b.transform=u?u({},""):"none",this.hasProjected=!1),b}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=ole(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:p,y}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const b in Db){if(h[b]===void 0)continue;const{correct:x,applyTo:v}=Db[b],w=c.transform==="none"?h[b]:x(h[b],f);if(v){const _=v.length;for(let A=0;A<_;A++)c[v[A]]=w}else c[b]=w}return this.options.layoutId&&(c.pointerEvents=f===this?D1(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(uO),this.root.sharedNodes.clear()}}}function ule(t){t.updateLayout()}function fle(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,s=n.source!==t.layout.source;a==="size"?Ts(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],p=rs(h);h.min=r[f].min,h.max=h.min+p}):uU(a,n.layoutBox,r)&&Ts(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],p=rs(r[f]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const o=ph();jg(o,r,n.layoutBox);const l=ph();s?jg(l,t.applyTransform(i,!0),n.measuredBox):jg(l,r,n.layoutBox);const c=!sU(o);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const y=Rr();Cg(y,n.layoutBox,h.layoutBox);const b=Rr();Cg(b,r,p.layoutBox),oU(y,b)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function dle(t){fg&&xf.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function hle(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ple(t){t.clearSnapshot()}function uO(t){t.clearMeasurements()}function mle(t){t.isLayoutDirty=!1}function gle(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fO(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function yle(t){t.resolveTargetDelta()}function vle(t){t.calcProjection()}function ble(t){t.resetSkewAndRotation()}function xle(t){t.removeLeadSnapshot()}function dO(t,e,n){t.translate=cr(e.translate,0,n),t.scale=cr(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function hO(t,e,n,r){t.min=cr(e.min,n.min,r),t.max=cr(e.max,n.max,r)}function wle(t,e,n,r){hO(t.x,e.x,n.x,r),hO(t.y,e.y,n.y,r)}function _le(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Sle={duration:.45,ease:[.4,0,.1,1]},pO=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),mO=pO("applewebkit/")&&!pO("chrome/")?Math.round:es;function gO(t){t.min=mO(t.min),t.max=mO(t.max)}function Ale(t){gO(t.x),gO(t.y)}function uU(t,e,n){return t==="position"||t==="preserve-aspect"&&!Poe(oO(e),oO(n),.2)}function Nle(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Ele=cU({attachResizeListener:(t,e)=>by(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),X5={current:void 0},fU=cU({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!X5.current){const t=new Ele({});t.mount(window),t.setOptions({layoutScroll:!0}),X5.current=t}return X5.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ple={pan:{Feature:zoe},drag:{Feature:Voe,ProjectionNode:fU,MeasureLayout:rU}};function yO(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Qn.postRender(()=>a(e,Mv(e)))}class Tle extends Wu{mount(){const{current:e}=this.node;e&&(this.unmount=Pae(e,n=>(yO(this.node,n,"Start"),r=>yO(this.node,r,"End"))))}unmount(){}}class kle extends Wu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lv(by(this.node.current,"focus",()=>this.onFocus()),by(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vO(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Qn.postRender(()=>a(e,Mv(e)))}class jle extends Wu{mount(){const{current:e}=this.node;e&&(this.unmount=Cae(e,n=>(vO(this.node,n,"Start"),(r,{success:i})=>vO(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const WA=new WeakMap,Q5=new WeakMap,Cle=t=>{const e=WA.get(t.target);e&&e(t)},Ile=t=>{t.forEach(Cle)};function Ole({root:t,...e}){const n=t||document;Q5.has(n)||Q5.set(n,{});const r=Q5.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Ile,{root:t,...e})),r[i]}function Rle(t,e,n){const r=Ole(e);return WA.set(t,n),r.observe(t),()=>{WA.delete(t),r.unobserve(t)}}const Lle={some:0,all:1};class Mle extends Wu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Lle[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return Rle(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Dle(e,n))&&this.startObserver()}unmount(){}}function Dle({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Fle={inView:{Feature:Mle},tap:{Feature:jle},focus:{Feature:kle},hover:{Feature:Tle}},$le={layout:{ProjectionNode:fU,MeasureLayout:rU}},HA={current:null},dU={current:!1};function Ble(){if(dU.current=!0,!!UT)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>HA.current=t.matches;t.addListener(e),e()}else HA.current=!1}const Ule=[...DB,zi,Iu],Vle=t=>Ule.find(MB(t)),bO=new WeakMap;function zle(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Xi(i))t.addValue(r,i);else if(Xi(a))t.addValue(r,yy(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,yy(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const xO=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qle{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=p4,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=el.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Qn.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=s;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=B2(n),this.isVariantNode=W9(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const y=h[p];l[p]!==void 0&&Xi(y)&&y.set(l[p],!1)}}mount(e){this.current=e,bO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),dU.current||Ble(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:HA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){bO.delete(this.current),this.projection&&this.projection.unmount(),Cu(this.notifyUpdate),Cu(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=bd.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Qn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in op){const n=op[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<xO.length;r++){const i=xO[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=e[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=zle(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=yy(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(RB(i)||NB(i))?i=parseFloat(i):!Vle(i)&&Iu.test(n)&&(i=CB(e,n)),this.setBaseTarget(e,Xi(i)?i.get():i)),Xi(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=KT(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Xi(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new l4),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class hU extends qle{constructor(){super(...arguments),this.KeyframeResolver=FB}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xi(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Wle(t){return window.getComputedStyle(t)}class Hle extends hU{constructor(){super(...arguments),this.type="html",this.renderInstance=eB}readValueFromInstance(e,n){if(bd.has(n)){const r=h4(n);return r&&r.default||0}else{const r=Wle(e),i=(Q9(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return tU(e,n)}build(e,n,r){QT(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return t4(e,n,r)}}class Gle extends hU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(bd.has(n)){const r=h4(n);return r&&r.default||0}return n=tB.has(n)?n:WT(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return iB(e,n,r)}build(e,n,r){JT(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){nB(e,n,r,i)}mount(e){this.isSVGTag=e4(e.tagName),super.mount(e)}}const Kle=(t,e)=>GT(t)?new Gle(e):new Hle(e,{allowProjection:t!==U.Fragment}),Yle=xae({...voe,...Fle,...Ple,...$le},Kle),He=Lie(Yle);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xle={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qle=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),rt=(t,e)=>{const n=U.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>U.createElement("svg",{ref:u,...Xle,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${Qle(t)}`,o].join(" "),...c},[...e.map(([f,h])=>U.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=rt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=rt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=rt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=rt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jle=rt("Bath",[["path",{d:"M9 6 6.5 3.5a1.5 1.5 0 0 0-1-.5C4.683 3 4 3.683 4 4.5V17a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"1r8yf5"}],["line",{x1:"10",x2:"8",y1:"5",y2:"7",key:"h5g8z4"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"7",x2:"7",y1:"19",y2:"21",key:"16jp00"}],["line",{x1:"17",x2:"17",y1:"19",y2:"21",key:"1pxrnk"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zle=rt("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=rt("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=rt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=rt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=rt("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=rt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=rt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=rt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=rt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ece=rt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=rt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=rt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=rt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=rt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=rt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=rt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=rt("DoorOpen",[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tce=rt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nce=rt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rce=rt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ice=rt("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ace=rt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=rt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=rt("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=rt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=rt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=rt("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=rt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=rt("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=rt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=rt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sce=rt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=rt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=rt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=rt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oce=rt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=rt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lce=rt("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=rt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=rt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cce=rt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=rt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=rt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uce=rt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=rt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=rt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fce=rt("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=rt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=rt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dce=rt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=rt("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=rt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hce=rt("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=rt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pce=rt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=rt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=rt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mce=rt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);async function JA({tenantId:t,landlordId:e,propertyId:n,unitId:r,tenantName:i="",tenantEmail:a="",unitName:s="",propertyName:o="",rentAmount:l,billingCycle:c="monthly",currency:u="NGN"}){await A4(e,n,r);const f={tenantId:t||null,landlordId:e,propertyId:n,unitId:r,tenantName:i,tenantEmail:a,unitName:s,propertyName:o,rentAmount:Number(l)||0,billingCycle:c,currency:u,status:"active",startDate:pr(),endDate:null,closedAt:null,invoiceSchedulingEnabled:!0,nextInvoiceDate:vce(c),createdAt:pr(),updatedAt:pr()};return{id:(await Up(ri(At,"tenancies"),f)).id,...f}}async function gce(t){await cs(Tn(At,"tenancies",t),{status:"closed",endDate:pr(),closedAt:pr(),invoiceSchedulingEnabled:!1,updatedAt:pr()})}async function A4(t,e,n){const r=await vd(ma(ri(At,"tenancies"),fr("landlordId","==",t),fr("propertyId","==",e),fr("unitId","==",n),fr("status","==","active")));for(const i of r.docs)await gce(i.id)}async function yce(t,e){const n=await vd(ma(ri(At,"tenancies"),fr("propertyId","==",t),fr("unitId","==",e),fr("status","==","active")));if(n.empty)return null;const r=n.docs[0];return{id:r.id,...r.data()}}function vce(t){const e=new Date;switch(t){case"yearly":return Vn.fromDate(new Date(e.getFullYear()+1,e.getMonth(),1));case"weekly":return Vn.fromDate(new Date(e.getTime()+7*864e5));case"daily":return Vn.fromDate(new Date(e.getTime()+864e5));case"monthly":default:return Vn.fromDate(new Date(e.getFullYear(),e.getMonth()+1,1))}}function bce(t){return`${window.location.origin}/invite/${t}`}async function xce({landlordUid:t,propertyId:e,unitId:n,unitName:r,propertyName:i}){await wce(e,n);const a=crypto.randomUUID(),s=new Date,o=new Date(s.getTime()+24*60*60*1e3);return await RT(Tn(At,"inviteTokens",a),{token:a,landlordUid:t,propertyId:e,unitId:n,unitName:r||"",propertyName:i||"",createdAt:Vn.fromDate(s),expiresAt:Vn.fromDate(o),status:"pending",acceptedBy:null}),{token:a,link:bce(a),expiresAt:o}}async function SU(t){var s,o;if(!t)return{data:null,valid:!1,reason:"not_found"};const e=await al(Tn(At,"inviteTokens",t));if(!e.exists())return{data:null,valid:!1,reason:"not_found"};const n=e.data();if(n.status==="accepted")return{data:n,valid:!1,reason:"already_used"};if(n.status==="expired")return{data:n,valid:!1,reason:"expired"};const r=((o=(s=n.expiresAt)==null?void 0:s.toDate)==null?void 0:o.call(s))??new Date(n.expiresAt);if(new Date>r)return await cs(Tn(At,"inviteTokens",t),{status:"expired"}),{data:n,valid:!1,reason:"expired"};const i=Tn(At,"users",n.landlordUid,"properties",n.propertyId,"units",n.unitId),a=await al(i);if(a.exists()){const l=a.data();if(l.status==="occupied"&&l.tenantId)return{data:n,valid:!1,reason:"unit_occupied"}}return{data:n,valid:!0,reason:"ok"}}async function AU(t,e){const{data:n,valid:r,reason:i}=await SU(t);if(!r)throw new Error(i);const{landlordUid:a,propertyId:s,unitId:o,unitName:l,propertyName:c}=n,u=Tn(At,"users",a,"properties",s,"units",o),f=await al(u),h=f.exists()?f.data():{};return await A4(a,s,o),await Xd(a,s,o,{tenantId:e.uid,tenantName:e.displayName||"",tenantEmail:e.email||"",status:"occupied"}),await JA({tenantId:e.uid,landlordId:a,propertyId:s,unitId:o,tenantName:e.displayName||"",tenantEmail:e.email||"",unitName:l||h.unitName||"",propertyName:c||"",rentAmount:h.rentAmount||0,billingCycle:h.billingCycle||"monthly",currency:h.currency||"NGN"}),await cs(Tn(At,"inviteTokens",t),{status:"accepted",acceptedBy:e.uid,acceptedAt:Vn.now()}),{propertyId:s,unitId:o,landlordUid:a}}async function wce(t,e){try{const n=ma(ri(At,"inviteTokens"),fr("propertyId","==",t),fr("unitId","==",e),fr("status","==","pending")),r=await vd(n);await Promise.all(r.docs.map(i=>cs(i.ref,{status:"expired"})))}catch(n){console.warn("revokePendingTokensForUnit query failed (add composite index):",n.message)}}function un(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function yo(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function _ce(t,e){const n=un(t);return isNaN(e)?yo(t,NaN):(n.setDate(n.getDate()+e),n)}function Sce(t,e){const n=un(t);if(isNaN(e))return yo(t,NaN);if(!e)return n;const r=n.getDate(),i=yo(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const a=i.getDate();return r>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const NU=6048e5,Ace=864e5,U0=43200,AO=1440;let Nce={};function Dv(){return Nce}function wy(t,e){var o,l,c,u;const n=Dv(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=un(t),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function zb(t){return wy(t,{weekStartsOn:1})}function EU(t){const e=un(t),n=e.getFullYear(),r=yo(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=zb(r),a=yo(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const s=zb(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function NO(t){const e=un(t);return e.setHours(0,0,0,0),e}function qb(t){const e=un(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function PU(t,e){const n=NO(t),r=NO(e),i=+n-qb(n),a=+r-qb(r);return Math.round((i-a)/Ace)}function Ece(t){const e=EU(t),n=yo(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),zb(n)}function B1(t,e){const n=un(t),r=un(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function Pce(t){return yo(t,Date.now())}function Tce(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function kce(t){if(!Tce(t)&&typeof t!="number")return!1;const e=un(t);return!isNaN(Number(e))}function jce(t,e){const n=un(t),r=un(e),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function Fv(t,e){const n=un(t),r=un(e),i=EO(n,r),a=Math.abs(PU(n,r));n.setDate(n.getDate()-i*a);const s=+(EO(n,r)===-i),o=i*(a-s);return o===0?0:o}function EO(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function Cce(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function Ice(t,e){return+un(t)-+un(e)}function Oce(t){const e=un(t);return e.setHours(23,59,59,999),e}function Rce(t){const e=un(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Lce(t){const e=un(t);return+Oce(e)==+Rce(e)}function Mce(t,e){const n=un(t),r=un(e),i=B1(n,r),a=Math.abs(jce(n,r));let s;if(a<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*a);let o=B1(n,r)===-i;Lce(un(t))&&a===1&&B1(t,r)===1&&(o=!1),s=i*(a-Number(o))}return s===0?0:s}function Dce(t,e,n){const r=Ice(t,e)/1e3;return Cce(n==null?void 0:n.roundingMethod)(r)}function Fce(t){const e=un(t),n=yo(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const $ce={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Bce=(t,e,n)=>{let r;const i=$ce[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Z5(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Uce={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Vce={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zce={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qce={date:Z5({formats:Uce,defaultWidth:"full"}),time:Z5({formats:Vce,defaultWidth:"full"}),dateTime:Z5({formats:zce,defaultWidth:"full"})},Wce={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Hce=(t,e,n,r)=>Wce[t];function Dm(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const Gce={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Kce={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Yce={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Xce={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Qce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Jce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Zce=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},eue={ordinalNumber:Zce,era:Dm({values:Gce,defaultWidth:"wide"}),quarter:Dm({values:Kce,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Dm({values:Yce,defaultWidth:"wide"}),day:Dm({values:Xce,defaultWidth:"wide"}),dayPeriod:Dm({values:Qce,defaultWidth:"wide",formattingValues:Jce,defaultFormattingWidth:"wide"})};function Fm(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?nue(o,f=>f.test(s)):tue(o,f=>f.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function tue(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function nue(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function rue(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const iue=/^(\d+)(th|st|nd|rd)?/i,aue=/\d+/i,sue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oue={any:[/^b/i,/^(a|c)/i]},lue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cue={any:[/1/i,/2/i,/3/i,/4/i]},uue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},due={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gue={ordinalNumber:rue({matchPattern:iue,parsePattern:aue,valueCallback:t=>parseInt(t,10)}),era:Fm({matchPatterns:sue,defaultMatchWidth:"wide",parsePatterns:oue,defaultParseWidth:"any"}),quarter:Fm({matchPatterns:lue,defaultMatchWidth:"wide",parsePatterns:cue,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Fm({matchPatterns:uue,defaultMatchWidth:"wide",parsePatterns:fue,defaultParseWidth:"any"}),day:Fm({matchPatterns:due,defaultMatchWidth:"wide",parsePatterns:hue,defaultParseWidth:"any"}),dayPeriod:Fm({matchPatterns:pue,defaultMatchWidth:"any",parsePatterns:mue,defaultParseWidth:"any"})},TU={code:"en-US",formatDistance:Bce,formatLong:qce,formatRelative:Hce,localize:eue,match:gue,options:{weekStartsOn:0,firstWeekContainsDate:1}};function yue(t){const e=un(t);return PU(e,Fce(e))+1}function vue(t){const e=un(t),n=+zb(e)-+Ece(e);return Math.round(n/NU)+1}function kU(t,e){var u,f,h,p;const n=un(t),r=n.getFullYear(),i=Dv(),a=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=yo(t,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const o=wy(s,e),l=yo(t,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const c=wy(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function bue(t,e){var o,l,c,u;const n=Dv(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=kU(t,e),a=yo(t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),wy(a,e)}function xue(t,e){const n=un(t),r=+wy(n,e)-+bue(n,e);return Math.round(r/NU)+1}function wn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Vc={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return wn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):wn(n+1,2)},d(t,e){return wn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return wn(t.getHours()%12||12,e.length)},H(t,e){return wn(t.getHours(),e.length)},m(t,e){return wn(t.getMinutes(),e.length)},s(t,e){return wn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return wn(i,e.length)}},Fd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},PO={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Vc.y(t,e)},Y:function(t,e,n,r){const i=kU(t,r),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return wn(s,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):wn(a,e.length)},R:function(t,e){const n=EU(t);return wn(n,e.length)},u:function(t,e){const n=t.getFullYear();return wn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return wn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return wn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Vc.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return wn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=xue(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):wn(i,e.length)},I:function(t,e,n){const r=vue(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):wn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Vc.d(t,e)},D:function(t,e,n){const r=yue(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):wn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return wn(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return wn(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return wn(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Fd.noon:r===0?i=Fd.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Fd.evening:r>=12?i=Fd.afternoon:r>=4?i=Fd.morning:i=Fd.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Vc.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Vc.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):wn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):wn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Vc.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Vc.s(t,e)},S:function(t,e){return Vc.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return kO(r);case"XXXX":case"XX":return wf(r);case"XXXXX":case"XXX":default:return wf(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return kO(r);case"xxxx":case"xx":return wf(r);case"xxxxx":case"xxx":default:return wf(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+TO(r,":");case"OOOO":default:return"GMT"+wf(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+TO(r,":");case"zzzz":default:return"GMT"+wf(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return wn(r,e.length)},T:function(t,e,n){const r=t.getTime();return wn(r,e.length)}};function TO(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+wn(a,2)}function kO(t,e){return t%60===0?(t>0?"-":"+")+wn(Math.abs(t)/60,2):wf(t,e)}function wf(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=wn(Math.trunc(r/60),2),a=wn(r%60,2);return n+i+e+a}const jO=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},jU=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},wue=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return jO(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",jO(r,e)).replace("{{time}}",jU(i,e))},_ue={p:jU,P:wue},Sue=/^D+$/,Aue=/^Y+$/,Nue=["D","DD","YY","YYYY"];function Eue(t){return Sue.test(t)}function Pue(t){return Aue.test(t)}function Tue(t,e,n){const r=kue(t,e,n);if(console.warn(r),Nue.includes(t))throw new RangeError(r)}function kue(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Cue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Iue=/^'([^]*?)'?$/,Oue=/''/g,Rue=/[a-zA-Z]/;function Ta(t,e,n){var u,f,h,p;const r=Dv(),i=r.locale??TU,a=r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,s=r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,o=un(t);if(!kce(o))throw new RangeError("Invalid time value");let l=e.match(Cue).map(y=>{const b=y[0];if(b==="p"||b==="P"){const x=_ue[b];return x(y,i.formatLong)}return y}).join("").match(jue).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:Lue(y)};if(PO[b])return{isToken:!0,value:y};if(b.match(Rue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const b=y.value;(Pue(b)||Eue(b))&&Tue(b,e,String(t));const x=PO[b[0]];return x(o,b,i.localize,c)}).join("")}function Lue(t){const e=t.match(Iue);return e?e[1].replace(Oue,"'"):t}function Mue(t,e,n){const r=Dv(),i=(n==null?void 0:n.locale)??r.locale??TU,a=2520,s=B1(t,e);if(isNaN(s))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:s});let l,c;s>0?(l=un(e),c=un(t)):(l=un(t),c=un(e));const u=Dce(c,l),f=(qb(c)-qb(l))/1e3,h=Math.round((u-f)/60);let p;if(h<2)return n!=null&&n.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,o):u<10?i.formatDistance("lessThanXSeconds",10,o):u<20?i.formatDistance("lessThanXSeconds",20,o):u<40?i.formatDistance("halfAMinute",0,o):u<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):h===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",h,o);if(h<45)return i.formatDistance("xMinutes",h,o);if(h<90)return i.formatDistance("aboutXHours",1,o);if(h<AO){const y=Math.round(h/60);return i.formatDistance("aboutXHours",y,o)}else{if(h<a)return i.formatDistance("xDays",1,o);if(h<U0){const y=Math.round(h/AO);return i.formatDistance("xDays",y,o)}else if(h<U0*2)return p=Math.round(h/U0),i.formatDistance("aboutXMonths",p,o)}if(p=Mce(c,l),p<12){const y=Math.round(h/U0);return i.formatDistance("xMonths",y,o)}else{const y=p%12,b=Math.trunc(p/12);return y<3?i.formatDistance("aboutXYears",b,o):y<9?i.formatDistance("overXYears",b,o):i.formatDistance("almostXYears",b+1,o)}}function ZA(t,e){return Mue(t,Pce(t),e)}function Vf(t){return+un(t)<Date.now()}function Due(t,e){return Sce(t,-e)}const eN="leaseease_pending_invite";function V0(t){sessionStorage.setItem(eN,t)}function CU(){const t=sessionStorage.getItem(eN);return sessionStorage.removeItem(eN),t}function Fue(){var v;const{token:t}=RP(),{user:e}=Pr(),n=ls(),[r,i]=U.useState("loading"),[a,s]=U.useState(null),[o,l]=U.useState(null),[c,u]=U.useState([]),[f,h]=U.useState(!1),[p,y]=U.useState(null);U.useEffect(()=>{(async()=>{var w,_;try{const{data:A,valid:E,reason:O}=await SU(t);if(E){s(A);const C=((_=(w=A.expiresAt)==null?void 0:w.toDate)==null?void 0:_.call(w))??new Date(A.expiresAt);if(l(C),A.unitId)i("valid");else{i("picking"),h(!0);try{const N=await jA(A.landlordUid,A.propertyId);u(N)}catch{We.error("Could not load available units.")}finally{h(!1)}}}else i(O==="already_used"?"used":O==="expired"?"expired":O==="unit_occupied"?"occupied":"error"),s(A)}catch{i("error")}})()},[t]);const b=async()=>{if(!e){V0(t),n(`/register?invite=${t}`,{replace:!0});return}if(e.uid===(a==null?void 0:a.landlordUid)){We.error("You can't accept your own invite.");return}i("accepting");try{await AU(t,e),i("done"),We.success("You've been added to the unit!")}catch(w){We.error("Failed to accept invite: "+w.message),i("valid")}},x=async()=>{if(!e){V0(t),n(`/register?invite=${t}`,{replace:!0});return}if(p){if(e.uid===(a==null?void 0:a.landlordUid)){We.error("You can't request your own unit.");return}i("submitting");try{await M9(a.landlordUid,a.propertyId,p,e);const w=c.find(_=>_.id===p);s(_=>({..._,unitName:(w==null?void 0:w.name)||p})),i("pending_approval"),We.success("Request sent to your landlord!")}catch(w){We.error(w.message||"Failed to submit. Please try again."),i("picking")}}};return r==="done"?d.jsx(Tl,{children:d.jsxs(He.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"flex flex-col items-center text-center gap-4",children:[d.jsx("div",{className:"w-20 h-20 rounded-full bg-sage/15 flex items-center justify-center",children:d.jsx(la,{size:36,className:"text-sage"})}),d.jsx("h2",{className:"font-display text-ink text-2xl font-semibold",children:"You're in!"}),d.jsxs("p",{className:"font-body text-stone-500 text-sm max-w-xs",children:["You've been assigned to ",d.jsx("strong",{children:a==null?void 0:a.unitName})," at ",d.jsx("strong",{children:a==null?void 0:a.propertyName}),"."]}),d.jsxs("button",{onClick:()=>n("/tenant"),className:"btn-primary mt-2",children:[d.jsx(Oh,{size:16})," Go to My Homes"]})]})}):r==="pending_approval"?d.jsx(Tl,{children:d.jsxs(He.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"flex flex-col items-center text-center gap-4 max-w-sm",children:[d.jsx("div",{className:"w-20 h-20 rounded-full bg-sage/15 flex items-center justify-center",children:d.jsx(mU,{size:36,className:"text-sage"})}),d.jsx("h2",{className:"font-display text-ink text-2xl font-semibold",children:"Request Sent!"}),d.jsxs("p",{className:"font-body text-stone-500 text-sm",children:["Your request for ",d.jsx("strong",{children:a==null?void 0:a.unitName})," at ",d.jsx("strong",{children:a==null?void 0:a.propertyName})," has been sent to your landlord. You'll be notified once they confirm."]}),d.jsxs("div",{className:"w-full p-4 rounded-xl bg-sage/8 border border-sage/20 text-left",children:[d.jsx("p",{className:"font-body text-xs text-sage font-semibold uppercase tracking-wider mb-1",children:"What happens next?"}),d.jsx("p",{className:"font-body text-xs text-stone-500",children:"Your landlord will review and approve your request. Once approved, you'll see the unit in your Homes dashboard."})]}),d.jsxs("button",{onClick:()=>n("/tenant"),className:"btn-primary mt-2 w-full justify-center",children:[d.jsx(Oh,{size:16})," Go to My Homes"]})]})}):r==="picking"||r==="submitting"?d.jsx(Tl,{children:d.jsxs(He.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},className:"w-full max-w-md space-y-5",children:[d.jsxs("div",{className:"card overflow-hidden",children:[d.jsxs("div",{className:"bg-gradient-to-br from-ink to-ink/90 p-6 relative",children:[d.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"radial-gradient(circle at 1px 1px, #F5F0E8 1px, transparent 0)",backgroundSize:"20px 20px"}}),d.jsxs("div",{className:"relative flex items-center gap-4",children:[d.jsx("div",{className:"w-14 h-14 rounded-2xl bg-sage/20 border border-sage/30 flex items-center justify-center flex-shrink-0",children:d.jsx(is,{size:24,className:"text-sage"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-body text-stone-400 text-xs uppercase tracking-wider mb-0.5",children:"Building Portal"}),d.jsx("h2",{className:"font-display text-cream text-xl font-semibold",children:a==null?void 0:a.propertyName}),d.jsx("p",{className:"font-body text-stone-400 text-sm",children:"Select your unit to request access"})]})]})]}),o&&d.jsxs("div",{className:"px-5 py-3 flex items-center gap-2",children:[d.jsx(Ch,{size:13,className:"text-stone-400 flex-shrink-0"}),d.jsxs("span",{className:"font-body text-xs text-stone-400",children:["Invite expires ",ZA(o,{addSuffix:!0})]})]})]}),e&&d.jsxs("p",{className:"font-body text-sm text-stone-500 text-center",children:["Requesting as ",d.jsx("strong",{className:"text-ink",children:e.email})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-3",children:"Available Units"}),f?d.jsx("div",{className:"flex items-center justify-center py-10",children:d.jsx(If,{size:28,className:"text-sage animate-spin"})}):c.length===0?d.jsxs("div",{className:"card p-6 text-center",children:[d.jsx(da,{size:28,className:"text-stone-300 mx-auto mb-2"}),d.jsx("p",{className:"font-body text-sm text-stone-400",children:"No vacant units available right now."}),d.jsx("p",{className:"font-body text-xs text-stone-300 mt-1",children:"Contact your landlord directly."})]}):d.jsx("div",{className:"grid grid-cols-2 gap-3",children:d.jsx(ns,{children:c.map((w,_)=>{var E;const A=p===w.id;return d.jsxs(He.button,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:_*.04},type:"button",onClick:()=>y(A?null:w.id),className:`relative text-left p-4 rounded-2xl border-2 transition-all ${A?"border-sage bg-sage/8 shadow-md":"border-stone-200 bg-white hover:border-stone-300 hover:shadow-sm"}`,children:[A&&d.jsx("div",{className:"absolute top-2.5 right-2.5 w-5 h-5 rounded-full bg-sage flex items-center justify-center",children:d.jsx(la,{size:11,className:"text-white"})}),d.jsx("div",{className:`w-9 h-9 rounded-xl flex items-center justify-center mb-2.5 ${A?"bg-sage/20":"bg-stone-100"}`,children:d.jsx(da,{size:17,className:A?"text-sage":"text-stone-400"})}),d.jsx("p",{className:`font-body text-sm font-semibold ${A?"text-ink":"text-stone-700"}`,children:w.name}),w.rentAmount>0&&d.jsxs("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:[(E=w.rentAmount)==null?void 0:E.toLocaleString()," / ",w.billingCycle||"mo"]})]},w.id)})})})]}),d.jsx("button",{onClick:x,disabled:!p||r==="submitting"||!e,className:"btn-primary w-full py-3 justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:r==="submitting"?d.jsxs(d.Fragment,{children:[d.jsx(If,{size:16,className:"animate-spin"})," Sending Request"]}):e?d.jsxs(d.Fragment,{children:[d.jsx(sl,{size:16})," Request to Join",p?`  ${(v=c.find(w=>w.id===p))==null?void 0:v.name}`:""]}):d.jsxs(d.Fragment,{children:[d.jsx(Bs,{size:16})," Sign In / Sign Up to Continue"]})}),!e&&d.jsxs("p",{className:"font-body text-xs text-stone-400 text-center",children:["Already have an account?"," ",d.jsx(Xn,{to:`/login?invite=${t}`,onClick:()=>V0(t),className:"text-sage font-medium hover:underline",children:"Sign in"})]})]})}):r==="occupied"?d.jsx(Tl,{children:d.jsx(z0,{icon:hce,iconClass:"text-amber",title:"Unit Already Taken",message:`${a!=null&&a.unitName?`"${a.unitName}" at `:""}${(a==null?void 0:a.propertyName)||"this property"} already has a tenant assigned. Contact your landlord if you believe this is an error.`})}):r==="expired"?d.jsx(Tl,{children:d.jsx(z0,{icon:Ch,iconClass:"text-amber",title:"Link Expired",message:"This invite link has expired (links are valid for 24 hours). Please ask your landlord to send a new one."})}):r==="used"?d.jsx(Tl,{children:d.jsx(z0,{icon:la,iconClass:"text-sage",title:"Already Accepted",message:"This invite has already been used. If you think this is a mistake, contact your landlord.",action:e?d.jsxs("button",{onClick:()=>n("/tenant"),className:"btn-primary mt-2",children:[d.jsx(Oh,{size:15})," My Homes"]}):null})}):r==="error"?d.jsx(Tl,{children:d.jsx(z0,{icon:z2,iconClass:"text-rust",title:"Invalid Link",message:"This invite link doesn't exist or has been revoked. Please ask your landlord for a new invite."})}):r==="loading"?d.jsxs(Tl,{children:[d.jsx(If,{size:32,className:"text-sage animate-spin"}),d.jsx("p",{className:"font-body text-sm text-stone-400 mt-4",children:"Checking your invite"})]}):d.jsx(Tl,{children:d.jsxs(He.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},className:"w-full max-w-sm space-y-5",children:[d.jsxs("div",{className:"card overflow-hidden",children:[d.jsxs("div",{className:"bg-gradient-to-br from-ink to-ink/90 p-6 relative",children:[d.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"radial-gradient(circle at 1px 1px, #F5F0E8 1px, transparent 0)",backgroundSize:"20px 20px"}}),d.jsxs("div",{className:"relative flex items-center gap-4",children:[d.jsx("div",{className:"w-14 h-14 rounded-2xl bg-sage/20 border border-sage/30 flex items-center justify-center flex-shrink-0",children:d.jsx(da,{size:24,className:"text-sage"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-body text-stone-400 text-xs uppercase tracking-wider mb-0.5",children:"Unit Invite"}),d.jsx("h2",{className:"font-display text-cream text-xl font-semibold",children:a==null?void 0:a.unitName}),d.jsx("p",{className:"font-body text-stone-400 text-sm",children:a==null?void 0:a.propertyName})]})]})]}),d.jsxs("div",{className:"px-5 py-4 flex items-center gap-2",children:[d.jsx(Ch,{size:13,className:"text-stone-400 flex-shrink-0"}),d.jsx("span",{className:"font-body text-xs text-stone-400",children:o?`Expires ${ZA(o,{addSuffix:!0})}`:""})]})]}),e?d.jsxs("p",{className:"font-body text-sm text-stone-500 text-center",children:["Accepting as ",d.jsx("strong",{className:"text-ink",children:e.email})]}):d.jsx("p",{className:"font-body text-sm text-stone-500 text-center",children:"You'll need to sign in or create an account to accept this invite."}),d.jsx("button",{onClick:b,disabled:r==="accepting",className:"btn-primary w-full",children:r==="accepting"?d.jsxs(d.Fragment,{children:[d.jsx(If,{size:16,className:"animate-spin"})," Accepting"]}):e?d.jsxs(d.Fragment,{children:[d.jsx(la,{size:16})," Accept & Join Unit"]}):d.jsxs(d.Fragment,{children:[d.jsx(Bs,{size:16})," Sign In / Sign Up to Accept"]})}),!e&&d.jsxs("p",{className:"font-body text-xs text-stone-400 text-center",children:["Already have an account?"," ",d.jsx(Xn,{to:`/login?invite=${t}`,onClick:()=>V0(t),className:"text-sage font-medium hover:underline",children:"Sign in"})]})]})})}function Tl({children:t}){return d.jsxs("div",{className:"min-h-screen bg-stone-50 flex flex-col items-center justify-center p-6",children:[d.jsxs("div",{className:"mb-8 flex items-center gap-3",children:[d.jsx("div",{className:"w-9 h-9 rounded-xl bg-sage flex items-center justify-center shadow-sm",children:d.jsx(Bs,{size:17,className:"text-cream"})}),d.jsx("span",{className:"font-display font-semibold text-ink text-xl",children:"LeaseEase"})]}),t]})}function z0({icon:t,iconClass:e,title:n,message:r,action:i}){return d.jsxs(He.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"card p-8 max-w-sm w-full flex flex-col items-center text-center gap-3",children:[d.jsx("div",{className:"w-16 h-16 rounded-2xl bg-stone-100 flex items-center justify-center",children:d.jsx(t,{size:28,className:e})}),d.jsx("h2",{className:"font-display text-ink text-xl font-semibold",children:n}),d.jsx("p",{className:"font-body text-stone-500 text-sm",children:r}),i]})}function tN({id:t,label:e,value:n,onChange:r,placeholder:i="Enter password",autoComplete:a="off",required:s=!1}){const[o,l]=U.useState(!1);return d.jsxs("div",{children:[d.jsx("label",{htmlFor:t,className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:e}),d.jsxs("div",{className:"relative",children:[d.jsx(sce,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none","aria-hidden":"true"}),d.jsx("input",{id:t,type:o?"text":"password",className:"input-base pl-10 pr-10",placeholder:i,value:n,onChange:r,autoComplete:a,required:s,"aria-label":e}),d.jsx("button",{type:"button",onClick:()=>l(c=>!c),"aria-label":o?"Hide password":"Show password",className:"absolute right-3.5 top-1/2 -translate-y-1/2 text-stone-400 hover:text-stone-600 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sage rounded",children:o?d.jsx(nce,{size:16}):d.jsx(rce,{size:16})})]})]})}function $ue(){const t=ls(),[e,n]=U.useState({email:"",password:""}),[r,i]=U.useState(!1),[a,s]=U.useState(""),o=c=>u=>n(f=>({...f,[c]:u.target.value})),l=async c=>{if(c.preventDefault(),!e.email||!e.password){s("Please fill in all fields.");return}i(!0),s("");try{const u=await die(e.email.trim().toLowerCase(),e.password),f=await k9(u.user.uid),h=(f==null?void 0:f.role)||"landlord",p=CU();if(p&&h==="tenant")try{await AU(p,u.user),We.success("Welcome back! You've been added to your unit."),t("/tenant");return}catch(y){console.warn("Pending invite accept failed:",y.message)}We.success("Welcome back!"),t(h==="tenant"?"/tenant":"/dashboard")}catch(u){const f=u.code==="auth/user-not-found"?"No account found with this email.":u.code==="auth/wrong-password"?"Incorrect password. Please try again.":u.code==="auth/invalid-email"?"Please enter a valid email address.":u.code==="auth/too-many-requests"?"Too many attempts. Please wait a moment.":u.code==="auth/invalid-credential"?"Invalid email or password.":"Sign in failed. Please try again.";s(f)}finally{i(!1)}};return d.jsxs("div",{className:"min-h-dvh bg-cream flex",children:[d.jsxs("div",{className:"hidden lg:flex w-[48%] bg-ink relative overflow-hidden flex-col justify-between p-12",children:[d.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"radial-gradient(circle at 1px 1px, #F5F0E8 1px, transparent 0)",backgroundSize:"32px 32px"}}),d.jsx("div",{className:"absolute top-1/4 -left-20 w-80 h-80 rounded-full bg-sage/20 blur-3xl"}),d.jsx("div",{className:"absolute bottom-1/4 right-0 w-64 h-64 rounded-full bg-amber/15 blur-3xl"}),d.jsxs("div",{className:"relative flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-sage flex items-center justify-center",children:d.jsx(Bs,{size:18,className:"text-cream"})}),d.jsx("span",{className:"font-display font-semibold text-cream text-xl",children:"LeaseEase"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("p",{className:"font-body text-sage text-sm font-medium tracking-widest uppercase mb-4",children:"Smart Property Management"}),d.jsxs("h1",{className:"font-display text-cream text-4xl leading-tight mb-6",children:["Every property,",d.jsx("br",{}),d.jsx("em",{className:"text-sage",children:"perfectly"})," managed."]}),d.jsx("p",{className:"font-body text-stone-400 text-base leading-relaxed max-w-sm",children:"Track rent payments, manage tenants, set automated reminders, and monitor maintenance  all in one elegant platform."}),d.jsx("div",{className:"flex flex-wrap gap-2 mt-8",children:["Rent Tracking","Push Reminders","Tenant Portal","Analytics"].map(c=>d.jsx("span",{className:"px-3 py-1.5 rounded-full border border-stone-700 text-stone-400 font-body text-xs",children:c},c))})]}),d.jsx("div",{className:"relative font-body text-xs text-stone-600",children:" 2026 LeaseEase  Trusted by property managers"})]}),d.jsx("div",{className:"flex-1 flex items-center justify-center p-6 sm:p-12",children:d.jsxs(He.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.35,ease:"easeOut"},className:"w-full max-w-md",children:[d.jsxs("div",{className:"lg:hidden flex items-center gap-2 mb-8",children:[d.jsx("div",{className:"w-9 h-9 rounded-xl bg-sage flex items-center justify-center",children:d.jsx(Bs,{size:16,className:"text-cream"})}),d.jsx("span",{className:"font-display font-semibold text-ink text-xl",children:"LeaseEase"})]}),d.jsx("h2",{className:"font-display text-ink text-3xl font-semibold mb-1",children:"Welcome back"}),d.jsx("p",{className:"font-body text-stone-400 text-sm mb-8",children:"Sign in to your property dashboard"}),a&&d.jsxs(He.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},className:"flex items-center gap-2 bg-rust/8 border border-rust/20 text-rust rounded-xl p-3.5 mb-6 text-sm font-body",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-rust flex-shrink-0"}),a]}),d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:"Email Address"}),d.jsxs("div",{className:"relative",children:[d.jsx(ol,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400"}),d.jsx("input",{type:"email",className:"input-base pl-10",placeholder:"you@example.com",value:e.email,onChange:o("email"),autoComplete:"email"})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[d.jsx("label",{className:"font-body text-xs font-semibold text-stone-500 uppercase tracking-wider",children:"Password"}),d.jsx(Xn,{to:"/forgot-password",className:"font-body text-xs text-forgot hover:text-forgot-hover transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-forgot rounded",children:"Forgot password?"})]}),d.jsx(tN,{id:"login-password",value:e.password,onChange:o("password"),placeholder:"Your password",autoComplete:"current-password",required:!0})]}),d.jsx("button",{type:"submit",disabled:r,className:"btn-primary w-full mt-2 py-3 text-sm flex items-center justify-center gap-2",children:r?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:["Sign In ",d.jsx(Qa,{size:16})]})})]}),d.jsxs("p",{className:"text-center font-body text-sm text-stone-400 mt-6",children:["Don't have an account?"," ",d.jsx(Xn,{to:"/register",className:"text-sage font-semibold hover:text-sage-light transition-colors",children:"Create one to get started"})]})]})})]})}function Bue(){const t=ls(),{countries:e,changeCountry:n,country:r}=ji(),[i,a]=U.useState({fullName:"",email:"",phone:"",password:"",confirm:"",countryCode:r.code,accountType:"landlord"}),[s,o]=U.useState(!1),[l,c]=U.useState(""),u=v=>w=>a(_=>({..._,[v]:w.target.value})),f=v=>{const w=v.target.value;a(_=>({..._,countryCode:w})),n(w)},h=/[A-Z]/.test(i.password)&&/[0-9]/.test(i.password),p=i.confirm===""||i.password===i.confirm,y=!s&&i.password.length>=8&&h&&i.confirm.length>=8&&i.password===i.confirm,b=async v=>{var N;v.preventDefault();const{fullName:w,email:_,password:A,confirm:E,countryCode:O,accountType:C}=i;if(!w||!_||!A){c("All required fields must be filled.");return}if(!O){c("Please select your country.");return}if(A.length<8||!/[A-Z]/.test(A)||!/[0-9]/.test(A)){c("Password must be at least 8 characters and include an uppercase letter and a number.");return}if(A!==E){c("Passwords do not match.");return}o(!0),c("");try{await fie({...i,email:_.trim().toLowerCase(),countryCode:O,role:C==="tenant"?"tenant":"landlord"}),n(O);const k=CU();if(k&&C==="tenant")try{const{user:M}=await getProfile?{user:{uid:(N=await getProfile(i.email))==null?void 0:N.uid}}:{};We.success("Account created! Complete your unit invite to finish setup."),t(`/invite/${k}`);return}catch{}We.success("Account created! Welcome to LeaseEase."),t(C==="tenant"?"/tenant":"/onboarding")}catch(k){console.error("Registration error:",k);const M=k.code==="auth/email-already-in-use"?"This email is already registered.":k.code==="auth/invalid-email"?"Please enter a valid email.":k.code==="auth/weak-password"?"Password must be at least 8 characters and include an uppercase letter and a number.":k.code==="auth/operation-not-allowed"?"Email/password sign-up is not enabled. Contact support.":k.message||"Registration failed. Please try again.";c(M)}finally{o(!1)}},x=e.find(v=>v.code===i.countryCode);return d.jsx("div",{className:"min-h-dvh bg-cream flex items-center justify-center p-6 sm:p-12",children:d.jsxs(He.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.35,ease:"easeOut"},className:"w-full max-w-lg",children:[d.jsxs(Xn,{to:"/login",className:"inline-flex items-center gap-1.5 text-sm font-body text-stone-400 hover:text-ink transition-colors mb-8",children:[d.jsx(v4,{size:15})," Back to sign in"]}),d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-sage flex items-center justify-center",children:d.jsx(Bs,{size:18,className:"text-cream"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"font-display text-ink text-2xl font-semibold",children:"Create your account"}),d.jsx("p",{className:"font-body text-stone-400 text-xs mt-0.5",children:"Start managing your properties in minutes"})]})]}),d.jsxs("div",{className:"card p-6 sm:p-8",children:[l&&d.jsxs(He.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},className:"flex items-center gap-2 bg-rust/8 border border-rust/20 text-rust rounded-xl p-3.5 mb-6 text-sm font-body",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-rust flex-shrink-0"}),l]}),d.jsxs("form",{onSubmit:b,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:"I am a *"}),d.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"landlord",label:"Landlord / Manager",helper:"Manage properties and tenants"},{value:"tenant",label:"Tenant",helper:"Pay rent and view history"}].map(v=>d.jsxs("button",{type:"button",onClick:()=>a(w=>({...w,accountType:v.value})),className:`flex flex-col items-start px-3 py-2 rounded-xl border text-left transition-colors ${i.accountType===v.value?"border-sage bg-sage/10 text-ink":"border-stone-200 bg-stone-50 text-stone-500 hover:border-stone-300"}`,children:[d.jsx("span",{className:"font-body text-sm font-medium",children:v.label}),d.jsx("span",{className:"font-body text-xs text-stone-400 mt-0.5",children:v.helper})]},v.value))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:"Full Name *"}),d.jsxs("div",{className:"relative",children:[d.jsx(go,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{type:"text",className:"input-base pl-10",placeholder:"John Doe",value:i.fullName,onChange:u("fullName"),autoComplete:"name",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:"Email Address *"}),d.jsxs("div",{className:"relative",children:[d.jsx(ol,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{type:"email",className:"input-base pl-10",placeholder:"john@example.com",value:i.email,onChange:u("email"),autoComplete:"email",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:"Country & Currency *"}),d.jsxs("div",{className:"relative",children:[d.jsx(GA,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none z-10"}),d.jsx("select",{className:"input-base pl-10 appearance-none",value:i.countryCode,onChange:f,required:!0,children:e.map(v=>d.jsxs("option",{value:v.code,children:[rd(v.code)," ",v.name,"  ",v.currency," (",v.symbol,")"]},v.code))})]}),x&&d.jsxs("p",{className:"font-body text-xs text-stone-400 mt-1.5",children:[rd(x.code)," Prices will show in ",d.jsxs("strong",{className:"text-sage",children:[x.currencyName," (",x.symbol,")"]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:"Phone "}),d.jsxs("div",{className:"relative",children:[d.jsx(S4,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{type:"tel",className:"input-base pl-10",placeholder:"+1 555 000 0000",value:i.phone,onChange:u("phone"),autoComplete:"tel"})]})]}),d.jsx(tN,{id:"reg-password",label:"Password *",value:i.password,onChange:u("password"),placeholder:"Min. 8 characters",autoComplete:"new-password",required:!0}),i.password.length>0&&!h&&d.jsxs("p",{className:"mt-1.5 font-body text-xs text-rust flex items-center gap-1",children:[d.jsx("span",{className:"w-1 h-1 rounded-full bg-rust inline-block flex-shrink-0"}),"Password must be at least 8 characters and include an uppercase letter and a number."]}),d.jsxs("div",{children:[d.jsx(tN,{id:"reg-confirm",label:"Confirm Password *",value:i.confirm,onChange:u("confirm"),placeholder:"Min. 8 characters",autoComplete:"new-password",required:!0}),!p&&d.jsxs("p",{className:"mt-1.5 font-body text-xs text-rust flex items-center gap-1",children:[d.jsx("span",{className:"w-1 h-1 rounded-full bg-rust inline-block flex-shrink-0"}),"Passwords do not match."]})]}),d.jsx("div",{className:"pt-2",children:d.jsx("button",{type:"submit",disabled:!y,className:"btn-primary w-full py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:s?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"Create Account"}),d.jsx(Qa,{size:16})]})})})]}),d.jsxs("p",{className:"text-center font-body text-sm text-stone-400 mt-5",children:["Already have an account?"," ",d.jsx(Xn,{to:"/login",className:"text-sage font-semibold hover:text-sage-light transition-colors",children:"Sign in"})]})]})]})})}function Uue(){const[t,e]=U.useState(""),[n,r]=U.useState(!1),[i,a]=U.useState(!1),[s,o]=U.useState(""),l=async c=>{if(c.preventDefault(),!t){o("Please enter your email address.");return}r(!0),o("");try{await T9(t.trim().toLowerCase()),a(!0)}catch(u){const f=u.code==="auth/user-not-found"?"No account found with this email.":u.code==="auth/invalid-email"?"Please enter a valid email address.":"Failed to send reset email. Please try again.";o(f)}finally{r(!1)}};return d.jsx("div",{className:"min-h-dvh bg-cream flex items-center justify-center p-6 sm:p-12",children:d.jsxs(He.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.35,ease:"easeOut"},className:"w-full max-w-md",children:[d.jsxs(Xn,{to:"/login",className:"inline-flex items-center gap-1.5 text-sm font-body text-stone-400 hover:text-ink transition-colors mb-8",children:[d.jsx(v4,{size:15})," Back to sign in"]}),d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-sage flex items-center justify-center",children:d.jsx(Bs,{size:18,className:"text-cream"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"font-display text-ink text-2xl font-semibold",children:"Reset your password"}),d.jsx("p",{className:"font-body text-stone-400 text-xs mt-0.5",children:"We'll send a reset link to your email"})]})]}),d.jsx("div",{className:"card p-6 sm:p-8",children:i?d.jsxs(He.div,{initial:{opacity:0,scale:.97},animate:{opacity:1,scale:1},className:"text-center py-4",children:[d.jsx("div",{className:"w-14 h-14 rounded-full bg-sage/10 flex items-center justify-center mx-auto mb-4",children:d.jsx(ol,{size:24,className:"text-sage"})}),d.jsx("h2",{className:"font-display text-ink text-xl font-semibold mb-2",children:"Check your inbox"}),d.jsxs("p",{className:"font-body text-stone-400 text-sm leading-relaxed mb-6",children:["We sent a password reset link to ",d.jsx("span",{className:"font-semibold text-ink",children:t}),". Check your spam folder if you don't see it."]}),d.jsxs(Xn,{to:"/login",className:"btn-primary w-full flex items-center justify-center gap-2",children:["Back to Sign In ",d.jsx(Qa,{size:16})]})]}):d.jsxs(d.Fragment,{children:[s&&d.jsxs(He.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},className:"flex items-center gap-2 bg-rust/8 border border-rust/20 text-rust rounded-xl p-3.5 mb-6 text-sm font-body",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-rust flex-shrink-0"}),s]}),d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:"Email Address"}),d.jsxs("div",{className:"relative",children:[d.jsx(ol,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400"}),d.jsx("input",{type:"email",className:"input-base pl-10",placeholder:"you@example.com",value:t,onChange:c=>e(c.target.value),autoComplete:"email",required:!0})]})]}),d.jsx("button",{type:"submit",disabled:n,className:"btn-primary w-full py-3",children:n?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"Send Reset Link"}),d.jsx(Qa,{size:16})]})})]}),d.jsxs("p",{className:"text-center font-body text-sm text-stone-400 mt-5",children:["Remembered it?"," ",d.jsx(Xn,{to:"/login",className:"text-sage font-semibold hover:text-sage-light transition-colors",children:"Sign in"})]})]})})]})})}function IU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=IU(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function on(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=IU(t))&&(r&&(r+=" "),r+=e);return r}var Vue=Array.isArray,ka=Vue,zue=typeof d0=="object"&&d0&&d0.Object===Object&&d0,OU=zue,que=OU,Wue=typeof self=="object"&&self&&self.Object===Object&&self,Hue=que||Wue||Function("return this")(),fl=Hue,Gue=fl,Kue=Gue.Symbol,$v=Kue,CO=$v,RU=Object.prototype,Yue=RU.hasOwnProperty,Xue=RU.toString,$m=CO?CO.toStringTag:void 0;function Que(t){var e=Yue.call(t,$m),n=t[$m];try{t[$m]=void 0;var r=!0}catch{}var i=Xue.call(t);return r&&(e?t[$m]=n:delete t[$m]),i}var Jue=Que,Zue=Object.prototype,efe=Zue.toString;function tfe(t){return efe.call(t)}var nfe=tfe,IO=$v,rfe=Jue,ife=nfe,afe="[object Null]",sfe="[object Undefined]",OO=IO?IO.toStringTag:void 0;function ofe(t){return t==null?t===void 0?sfe:afe:OO&&OO in Object(t)?rfe(t):ife(t)}var gc=ofe;function lfe(t){return t!=null&&typeof t=="object"}var yc=lfe,cfe=gc,ufe=yc,ffe="[object Symbol]";function dfe(t){return typeof t=="symbol"||ufe(t)&&cfe(t)==ffe}var Wp=dfe,hfe=ka,pfe=Wp,mfe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gfe=/^\w*$/;function yfe(t,e){if(hfe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||pfe(t)?!0:gfe.test(t)||!mfe.test(t)||e!=null&&t in Object(e)}var N4=yfe;function vfe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Hu=vfe;const Hp=Ln(Hu);var bfe=gc,xfe=Hu,wfe="[object AsyncFunction]",_fe="[object Function]",Sfe="[object GeneratorFunction]",Afe="[object Proxy]";function Nfe(t){if(!xfe(t))return!1;var e=bfe(t);return e==_fe||e==Sfe||e==wfe||e==Afe}var E4=Nfe;const Vt=Ln(E4);var Efe=fl,Pfe=Efe["__core-js_shared__"],Tfe=Pfe,e_=Tfe,RO=function(){var t=/[^.]+$/.exec(e_&&e_.keys&&e_.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function kfe(t){return!!RO&&RO in t}var jfe=kfe,Cfe=Function.prototype,Ife=Cfe.toString;function Ofe(t){if(t!=null){try{return Ife.call(t)}catch{}try{return t+""}catch{}}return""}var LU=Ofe,Rfe=E4,Lfe=jfe,Mfe=Hu,Dfe=LU,Ffe=/[\\^$.*+?()[\]{}|]/g,$fe=/^\[object .+?Constructor\]$/,Bfe=Function.prototype,Ufe=Object.prototype,Vfe=Bfe.toString,zfe=Ufe.hasOwnProperty,qfe=RegExp("^"+Vfe.call(zfe).replace(Ffe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Wfe(t){if(!Mfe(t)||Lfe(t))return!1;var e=Rfe(t)?qfe:$fe;return e.test(Dfe(t))}var Hfe=Wfe;function Gfe(t,e){return t==null?void 0:t[e]}var Kfe=Gfe,Yfe=Hfe,Xfe=Kfe;function Qfe(t,e){var n=Xfe(t,e);return Yfe(n)?n:void 0}var xd=Qfe,Jfe=xd,Zfe=Jfe(Object,"create"),G2=Zfe,LO=G2;function ede(){this.__data__=LO?LO(null):{},this.size=0}var tde=ede;function nde(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var rde=nde,ide=G2,ade="__lodash_hash_undefined__",sde=Object.prototype,ode=sde.hasOwnProperty;function lde(t){var e=this.__data__;if(ide){var n=e[t];return n===ade?void 0:n}return ode.call(e,t)?e[t]:void 0}var cde=lde,ude=G2,fde=Object.prototype,dde=fde.hasOwnProperty;function hde(t){var e=this.__data__;return ude?e[t]!==void 0:dde.call(e,t)}var pde=hde,mde=G2,gde="__lodash_hash_undefined__";function yde(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mde&&e===void 0?gde:e,this}var vde=yde,bde=tde,xde=rde,wde=cde,_de=pde,Sde=vde;function Gp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Gp.prototype.clear=bde;Gp.prototype.delete=xde;Gp.prototype.get=wde;Gp.prototype.has=_de;Gp.prototype.set=Sde;var Ade=Gp;function Nde(){this.__data__=[],this.size=0}var Ede=Nde;function Pde(t,e){return t===e||t!==t&&e!==e}var P4=Pde,Tde=P4;function kde(t,e){for(var n=t.length;n--;)if(Tde(t[n][0],e))return n;return-1}var K2=kde,jde=K2,Cde=Array.prototype,Ide=Cde.splice;function Ode(t){var e=this.__data__,n=jde(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Ide.call(e,n,1),--this.size,!0}var Rde=Ode,Lde=K2;function Mde(t){var e=this.__data__,n=Lde(e,t);return n<0?void 0:e[n][1]}var Dde=Mde,Fde=K2;function $de(t){return Fde(this.__data__,t)>-1}var Bde=$de,Ude=K2;function Vde(t,e){var n=this.__data__,r=Ude(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var zde=Vde,qde=Ede,Wde=Rde,Hde=Dde,Gde=Bde,Kde=zde;function Kp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Kp.prototype.clear=qde;Kp.prototype.delete=Wde;Kp.prototype.get=Hde;Kp.prototype.has=Gde;Kp.prototype.set=Kde;var Y2=Kp,Yde=xd,Xde=fl,Qde=Yde(Xde,"Map"),T4=Qde,MO=Ade,Jde=Y2,Zde=T4;function ehe(){this.size=0,this.__data__={hash:new MO,map:new(Zde||Jde),string:new MO}}var the=ehe;function nhe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var rhe=nhe,ihe=rhe;function ahe(t,e){var n=t.__data__;return ihe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var X2=ahe,she=X2;function ohe(t){var e=she(this,t).delete(t);return this.size-=e?1:0,e}var lhe=ohe,che=X2;function uhe(t){return che(this,t).get(t)}var fhe=uhe,dhe=X2;function hhe(t){return dhe(this,t).has(t)}var phe=hhe,mhe=X2;function ghe(t,e){var n=mhe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var yhe=ghe,vhe=the,bhe=lhe,xhe=fhe,whe=phe,_he=yhe;function Yp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yp.prototype.clear=vhe;Yp.prototype.delete=bhe;Yp.prototype.get=xhe;Yp.prototype.has=whe;Yp.prototype.set=_he;var k4=Yp,MU=k4,She="Expected a function";function j4(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(She);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(j4.Cache||MU),n}j4.Cache=MU;var DU=j4;const Ahe=Ln(DU);var Nhe=DU,Ehe=500;function Phe(t){var e=Nhe(t,function(r){return n.size===Ehe&&n.clear(),r}),n=e.cache;return e}var The=Phe,khe=The,jhe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Che=/\\(\\)?/g,Ihe=khe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(jhe,function(n,r,i,a){e.push(i?a.replace(Che,"$1"):r||n)}),e}),Ohe=Ihe;function Rhe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var C4=Rhe,DO=$v,Lhe=C4,Mhe=ka,Dhe=Wp,FO=DO?DO.prototype:void 0,$O=FO?FO.toString:void 0;function FU(t){if(typeof t=="string")return t;if(Mhe(t))return Lhe(t,FU)+"";if(Dhe(t))return $O?$O.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Fhe=FU,$he=Fhe;function Bhe(t){return t==null?"":$he(t)}var $U=Bhe,Uhe=ka,Vhe=N4,zhe=Ohe,qhe=$U;function Whe(t,e){return Uhe(t)?t:Vhe(t,e)?[t]:zhe(qhe(t))}var BU=Whe,Hhe=Wp;function Ghe(t){if(typeof t=="string"||Hhe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Q2=Ghe,Khe=BU,Yhe=Q2;function Xhe(t,e){e=Khe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Yhe(e[n++])];return n&&n==r?t:void 0}var I4=Xhe,Qhe=I4;function Jhe(t,e,n){var r=t==null?void 0:Qhe(t,e);return r===void 0?n:r}var UU=Jhe;const Ms=Ln(UU);function Zhe(t){return t==null}var epe=Zhe;const Jt=Ln(epe);var tpe=gc,npe=ka,rpe=yc,ipe="[object String]";function ape(t){return typeof t=="string"||!npe(t)&&rpe(t)&&tpe(t)==ipe}var spe=ape;const id=Ln(spe);var VU={exports:{}},Nn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O4=Symbol.for("react.element"),R4=Symbol.for("react.portal"),J2=Symbol.for("react.fragment"),Z2=Symbol.for("react.strict_mode"),ew=Symbol.for("react.profiler"),tw=Symbol.for("react.provider"),nw=Symbol.for("react.context"),ope=Symbol.for("react.server_context"),rw=Symbol.for("react.forward_ref"),iw=Symbol.for("react.suspense"),aw=Symbol.for("react.suspense_list"),sw=Symbol.for("react.memo"),ow=Symbol.for("react.lazy"),lpe=Symbol.for("react.offscreen"),zU;zU=Symbol.for("react.module.reference");function zs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case O4:switch(t=t.type,t){case J2:case ew:case Z2:case iw:case aw:return t;default:switch(t=t&&t.$$typeof,t){case ope:case nw:case rw:case ow:case sw:case tw:return t;default:return e}}case R4:return e}}}Nn.ContextConsumer=nw;Nn.ContextProvider=tw;Nn.Element=O4;Nn.ForwardRef=rw;Nn.Fragment=J2;Nn.Lazy=ow;Nn.Memo=sw;Nn.Portal=R4;Nn.Profiler=ew;Nn.StrictMode=Z2;Nn.Suspense=iw;Nn.SuspenseList=aw;Nn.isAsyncMode=function(){return!1};Nn.isConcurrentMode=function(){return!1};Nn.isContextConsumer=function(t){return zs(t)===nw};Nn.isContextProvider=function(t){return zs(t)===tw};Nn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===O4};Nn.isForwardRef=function(t){return zs(t)===rw};Nn.isFragment=function(t){return zs(t)===J2};Nn.isLazy=function(t){return zs(t)===ow};Nn.isMemo=function(t){return zs(t)===sw};Nn.isPortal=function(t){return zs(t)===R4};Nn.isProfiler=function(t){return zs(t)===ew};Nn.isStrictMode=function(t){return zs(t)===Z2};Nn.isSuspense=function(t){return zs(t)===iw};Nn.isSuspenseList=function(t){return zs(t)===aw};Nn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===J2||t===ew||t===Z2||t===iw||t===aw||t===lpe||typeof t=="object"&&t!==null&&(t.$$typeof===ow||t.$$typeof===sw||t.$$typeof===tw||t.$$typeof===nw||t.$$typeof===rw||t.$$typeof===zU||t.getModuleId!==void 0)};Nn.typeOf=zs;VU.exports=Nn;var cpe=VU.exports,upe=gc,fpe=yc,dpe="[object Number]";function hpe(t){return typeof t=="number"||fpe(t)&&upe(t)==dpe}var qU=hpe;const ppe=Ln(qU);var mpe=qU;function gpe(t){return mpe(t)&&t!=+t}var ype=gpe;const Xp=Ln(ype);var oo=function(e){return e===0?0:e>0?1:-1},Of=function(e){return id(e)&&e.indexOf("%")===e.length-1},ze=function(e){return ppe(e)&&!Xp(e)},vpe=function(e){return Jt(e)},ni=function(e){return ze(e)||id(e)},bpe=0,Bv=function(e){var n=++bpe;return"".concat(e||"").concat(n)},ad=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ze(e)&&!id(e))return r;var a;if(Of(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Xp(a)&&(a=r),i&&a>n&&(a=n),a},ru=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},xpe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Cs=function(e,n){return ze(e)&&ze(n)?function(r){return e+r*(n-e)}:function(){return n}};function Wb(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ms(r,e))===n})}var wpe=function(e,n){return ze(e)&&ze(n)?e-n:id(e)&&id(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Rh(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function nN(t){"@babel/helpers - typeof";return nN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nN(t)}var _pe=["viewBox","children"],Spe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],BO=["points","pathLength"],t_={svg:_pe,polygon:BO,polyline:BO},L4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Hb=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(U.isValidElement(e)&&(r=e.props),!Hp(r))return null;var i={};return Object.keys(r).forEach(function(a){L4.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},Ape=function(e,n,r){return function(i){return e(n,r,i),null}},Gb=function(e,n,r){if(!Hp(e)||nN(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];L4.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=Ape(s,n,r))}),i},Npe=["children"],Epe=["children"];function UO(t,e){if(t==null)return{};var n=Ppe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ppe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rN(t){"@babel/helpers - typeof";return rN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rN(t)}var VO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Kl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},zO=null,n_=null,M4=function t(e){if(e===zO&&Array.isArray(n_))return n_;var n=[];return U.Children.forEach(e,function(r){Jt(r)||(cpe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),n_=n,zO=e,n};function fo(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Kl(i)}):r=[Kl(e)],M4(t).forEach(function(i){var a=Ms(i,"type.displayName")||Ms(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Ga(t,e){var n=fo(t,e);return n&&n[0]}var qO=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ze(r)||r<=0||!ze(i)||i<=0)},Tpe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],kpe=function(e){return e&&e.type&&id(e.type)&&Tpe.indexOf(e.type)>=0},jpe=function(e){return e&&rN(e)==="object"&&"clipDot"in e},Cpe=function(e,n,r,i){var a,s=(a=t_==null?void 0:t_[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Vt(e)&&(i&&s.includes(n)||Spe.includes(n))||r&&L4.includes(n)},Ht=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(U.isValidElement(e)&&(i=e.props),!Hp(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;Cpe((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},iN=function t(e,n){if(e===n)return!0;var r=U.Children.count(e);if(r!==U.Children.count(n))return!1;if(r===0)return!0;if(r===1)return WO(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!WO(a,s))return!1}return!0},WO=function(e,n){if(Jt(e)&&Jt(n))return!0;if(!Jt(e)&&!Jt(n)){var r=e.props||{},i=r.children,a=UO(r,Npe),s=n.props||{},o=s.children,l=UO(s,Epe);return i&&o?Rh(a,l)&&iN(i,o):!i&&!o?Rh(a,l):!1}return!1},HO=function(e,n){var r=[],i={};return M4(e).forEach(function(a,s){if(kpe(a))r.push(a);else if(a){var o=Kl(a.type),l=n[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var f=c(a,o,s);r.push(f),i[o]=!0}}}),r},Ipe=function(e){var n=e&&e.type;return n&&VO[n]?VO[n]:null},Ope=function(e,n){return M4(n).indexOf(e)},Rpe=["children","width","height","viewBox","className","style","title","desc"];function aN(){return aN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aN.apply(this,arguments)}function Lpe(t,e){if(t==null)return{};var n=Mpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sN(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,c=Lpe(t,Rpe),u=i||{width:n,height:r,x:0,y:0},f=on("recharts-surface",a);return pe.createElement("svg",aN({},Ht(c,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),pe.createElement("title",null,o),pe.createElement("desc",null,l),e)}var Dpe=["children","className"];function oN(){return oN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oN.apply(this,arguments)}function Fpe(t,e){if(t==null)return{};var n=$pe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $pe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ur=pe.forwardRef(function(t,e){var n=t.children,r=t.className,i=Fpe(t,Dpe),a=on("recharts-layer",r);return pe.createElement("g",oN({className:a},Ht(i,!0),{ref:e}),n)}),Yl=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Bpe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var Upe=Bpe,Vpe=Upe;function zpe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Vpe(t,e,n)}var qpe=zpe,Wpe="\\ud800-\\udfff",Hpe="\\u0300-\\u036f",Gpe="\\ufe20-\\ufe2f",Kpe="\\u20d0-\\u20ff",Ype=Hpe+Gpe+Kpe,Xpe="\\ufe0e\\ufe0f",Qpe="\\u200d",Jpe=RegExp("["+Qpe+Wpe+Ype+Xpe+"]");function Zpe(t){return Jpe.test(t)}var WU=Zpe;function eme(t){return t.split("")}var tme=eme,HU="\\ud800-\\udfff",nme="\\u0300-\\u036f",rme="\\ufe20-\\ufe2f",ime="\\u20d0-\\u20ff",ame=nme+rme+ime,sme="\\ufe0e\\ufe0f",ome="["+HU+"]",lN="["+ame+"]",cN="\\ud83c[\\udffb-\\udfff]",lme="(?:"+lN+"|"+cN+")",GU="[^"+HU+"]",KU="(?:\\ud83c[\\udde6-\\uddff]){2}",YU="[\\ud800-\\udbff][\\udc00-\\udfff]",cme="\\u200d",XU=lme+"?",QU="["+sme+"]?",ume="(?:"+cme+"(?:"+[GU,KU,YU].join("|")+")"+QU+XU+")*",fme=QU+XU+ume,dme="(?:"+[GU+lN+"?",lN,KU,YU,ome].join("|")+")",hme=RegExp(cN+"(?="+cN+")|"+dme+fme,"g");function pme(t){return t.match(hme)||[]}var mme=pme,gme=tme,yme=WU,vme=mme;function bme(t){return yme(t)?vme(t):gme(t)}var xme=bme,wme=qpe,_me=WU,Sme=xme,Ame=$U;function Nme(t){return function(e){e=Ame(e);var n=_me(e)?Sme(e):void 0,r=n?n[0]:e.charAt(0),i=n?wme(n,1).join(""):e.slice(1);return r[t]()+i}}var Eme=Nme,Pme=Eme,Tme=Pme("toUpperCase"),kme=Tme;const lw=Ln(kme);function $n(t){return function(){return t}}const JU=Math.cos,Kb=Math.sin,bo=Math.sqrt,Yb=Math.PI,cw=2*Yb,uN=Math.PI,fN=2*uN,_f=1e-6,jme=fN-_f;function ZU(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Cme(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ZU;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Ime{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ZU:Cme(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,c=i-n,u=s-e,f=o-n,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>_f)if(!(Math.abs(f*l-c*u)>_f)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,y=i-o,b=l*l+c*c,x=p*p+y*y,v=Math.sqrt(b),w=Math.sqrt(h),_=a*Math.tan((uN-Math.acos((b+h-x)/(2*v*w)))/2),A=_/w,E=_/v;Math.abs(A-1)>_f&&this._append`L${e+A*u},${n+A*f}`,this._append`A${a},${a},0,0,${+(f*p>u*y)},${this._x1=e+E*l},${this._y1=n+E*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,u=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>_f||Math.abs(this._y1-u)>_f)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%fN+fN),h>jme?this._append`A${r},${r},0,1,${f},${e-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:h>_f&&this._append`A${r},${r},0,${+(h>=uN)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function D4(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Ime(e)}function F4(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function eV(t){this._context=t}eV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function uw(t){return new eV(t)}function tV(t){return t[0]}function nV(t){return t[1]}function rV(t,e){var n=$n(!0),r=null,i=uw,a=null,s=D4(o);t=typeof t=="function"?t:t===void 0?tV:$n(t),e=typeof e=="function"?e:e===void 0?nV:$n(e);function o(l){var c,u=(l=F4(l)).length,f,h=!1,p;for(r==null&&(a=i(p=s())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,c,l),+e(f,c,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:$n(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:$n(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:$n(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function q0(t,e,n){var r=null,i=$n(!0),a=null,s=uw,o=null,l=D4(c);t=typeof t=="function"?t:t===void 0?tV:$n(+t),e=typeof e=="function"?e:$n(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?nV:$n(+n);function c(f){var h,p,y,b=(f=F4(f)).length,x,v=!1,w,_=new Array(b),A=new Array(b);for(a==null&&(o=s(w=l())),h=0;h<=b;++h){if(!(h<b&&i(x=f[h],h,f))===v)if(v=!v)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),y=h-1;y>=p;--y)o.point(_[y],A[y]);o.lineEnd(),o.areaEnd()}v&&(_[h]=+t(x,h,f),A[h]=+e(x,h,f),o.point(r?+r(x,h,f):_[h],n?+n(x,h,f):A[h]))}if(w)return o=null,w+""||null}function u(){return rV().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:$n(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:$n(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:$n(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:$n(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:$n(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:$n(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:$n(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class iV{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Ome(t){return new iV(t,!0)}function Rme(t){return new iV(t,!1)}const $4={draw(t,e){const n=bo(e/Yb);t.moveTo(n,0),t.arc(0,0,n,0,cw)}},Lme={draw(t,e){const n=bo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},aV=bo(1/3),Mme=aV*2,Dme={draw(t,e){const n=bo(e/Mme),r=n*aV;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Fme={draw(t,e){const n=bo(e),r=-n/2;t.rect(r,r,n,n)}},$me=.8908130915292852,sV=Kb(Yb/10)/Kb(7*Yb/10),Bme=Kb(cw/10)*sV,Ume=-JU(cw/10)*sV,Vme={draw(t,e){const n=bo(e*$me),r=Bme*n,i=Ume*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=cw*a/5,o=JU(s),l=Kb(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},r_=bo(3),zme={draw(t,e){const n=-bo(e/(r_*3));t.moveTo(0,n*2),t.lineTo(-r_*n,-n),t.lineTo(r_*n,-n),t.closePath()}},Ns=-.5,Es=bo(3)/2,dN=1/bo(12),qme=(dN/2+1)*3,Wme={draw(t,e){const n=bo(e/qme),r=n/2,i=n*dN,a=r,s=n*dN+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(Ns*r-Es*i,Es*r+Ns*i),t.lineTo(Ns*a-Es*s,Es*a+Ns*s),t.lineTo(Ns*o-Es*l,Es*o+Ns*l),t.lineTo(Ns*r+Es*i,Ns*i-Es*r),t.lineTo(Ns*a+Es*s,Ns*s-Es*a),t.lineTo(Ns*o+Es*l,Ns*l-Es*o),t.closePath()}};function Hme(t,e){let n=null,r=D4(i);t=typeof t=="function"?t:$n(t||$4),e=typeof e=="function"?e:$n(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:$n(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:$n(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Xb(){}function Qb(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function oV(t){this._context=t}oV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Gme(t){return new oV(t)}function lV(t){this._context=t}lV.prototype={areaStart:Xb,areaEnd:Xb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Qb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Kme(t){return new lV(t)}function cV(t){this._context=t}cV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Qb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Yme(t){return new cV(t)}function uV(t){this._context=t}uV.prototype={areaStart:Xb,areaEnd:Xb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Xme(t){return new uV(t)}function GO(t){return t<0?-1:1}function KO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(GO(a)+GO(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function YO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function i_(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function Jb(t){this._context=t}Jb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:i_(this,this._t0,YO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,i_(this,YO(this,n=KO(this,t,e)),n);break;default:i_(this,this._t0,n=KO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function fV(t){this._context=new dV(t)}(fV.prototype=Object.create(Jb.prototype)).point=function(t,e){Jb.prototype.point.call(this,e,t)};function dV(t){this._context=t}dV.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Qme(t){return new Jb(t)}function Jme(t){return new fV(t)}function hV(t){this._context=t}hV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=XO(t),i=XO(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function XO(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Zme(t){return new hV(t)}function fw(t,e){this._context=t,this._t=e}fw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function ege(t){return new fw(t,.5)}function tge(t){return new fw(t,0)}function nge(t){return new fw(t,1)}function cp(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function hN(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function rge(t,e){return t[e]}function ige(t){const e=[];return e.key=t,e}function age(){var t=$n([]),e=hN,n=cp,r=rge;function i(a){var s=Array.from(t.apply(this,arguments),ige),o,l=s.length,c=-1,u;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(f,s[o].key,c,a)]).data=f;for(o=0,u=F4(e(s));o<l;++o)s[u[o]].index=o;return n(s,u),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:$n(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:$n(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?hN:typeof a=="function"?a:$n(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??cp,i):n},i}function sge(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}cp(t,e)}}function oge(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}cp(t,e)}}function lge(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var u=t[e[o]],f=u[r][1]||0,h=u[r-1][1]||0,p=(f-h)/2,y=0;y<o;++y){var b=t[e[y]],x=b[r][1]||0,v=b[r-1][1]||0;p+=x-v}l+=f,c+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,cp(t,e)}}function _y(t){"@babel/helpers - typeof";return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_y(t)}var cge=["type","size","sizeType"];function pN(){return pN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pN.apply(this,arguments)}function QO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(n),!0).forEach(function(r){uge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uge(t,e,n){return e=fge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fge(t){var e=dge(t,"string");return _y(e)=="symbol"?e:e+""}function dge(t,e){if(_y(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_y(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hge(t,e){if(t==null)return{};var n=pge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var pV={symbolCircle:$4,symbolCross:Lme,symbolDiamond:Dme,symbolSquare:Fme,symbolStar:Vme,symbolTriangle:zme,symbolWye:Wme},mge=Math.PI/180,gge=function(e){var n="symbol".concat(lw(e));return pV[n]||$4},yge=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*mge;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},vge=function(e,n){pV["symbol".concat(lw(e))]=n},B4=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=hge(e,cge),c=JO(JO({},l),{},{type:r,size:a,sizeType:o}),u=function(){var x=gge(r),v=Hme().type(x).size(yge(a,o,r));return v()},f=c.className,h=c.cx,p=c.cy,y=Ht(c,!0);return h===+h&&p===+p&&a===+a?pe.createElement("path",pN({},y,{className:on("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};B4.registerSymbol=vge;function up(t){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},up(t)}function mN(){return mN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mN.apply(this,arguments)}function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){Sy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gV(r.key),r)}}function _ge(t,e,n){return e&&wge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sge(t,e,n){return e=Zb(e),Age(t,mV()?Reflect.construct(e,n||[],Zb(t).constructor):e.apply(t,n))}function Age(t,e){if(e&&(up(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nge(t)}function Nge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mV=function(){return!!t})()}function Zb(t){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zb(t)}function Ege(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gN(t,e)}function gN(t,e){return gN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gN(t,e)}function Sy(t,e,n){return e=gV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gV(t){var e=Pge(t,"string");return up(e)=="symbol"?e:e+""}function Pge(t,e){if(up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ps=32,U4=function(t){function e(){return xge(this,e),Sge(this,e,arguments)}return Ege(e,t),_ge(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Ps/2,s=Ps/6,o=Ps/3,l=r.inactive?i:r.color;if(r.type==="plainline")return pe.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Ps,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return pe.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Ps,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return pe.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ps/8,"h").concat(Ps,"v").concat(Ps*3/4,"h").concat(-Ps,"z"),className:"recharts-legend-icon"});if(pe.isValidElement(r.legendIcon)){var c=bge({},r);return delete c.legendIcon,pe.cloneElement(r.legendIcon,c)}return pe.createElement(B4,{fill:l,cx:a,cy:a,size:Ps,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Ps,height:Ps},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,y){var b=p.formatter||l,x=on(Sy(Sy({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=Vt(p.value)?null:p.value;Yl(!Vt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?c:p.color;return pe.createElement("li",mN({className:x,style:f,key:"legend-item-".concat(y)},Gb(r.props,p,y)),pe.createElement(sN,{width:s,height:s,viewBox:u,style:h},r.renderIcon(p)),pe.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},b?b(v,p,y):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return pe.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(U.PureComponent);Sy(U4,"displayName","Legend");Sy(U4,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Tge=Y2;function kge(){this.__data__=new Tge,this.size=0}var jge=kge;function Cge(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Ige=Cge;function Oge(t){return this.__data__.get(t)}var Rge=Oge;function Lge(t){return this.__data__.has(t)}var Mge=Lge,Dge=Y2,Fge=T4,$ge=k4,Bge=200;function Uge(t,e){var n=this.__data__;if(n instanceof Dge){var r=n.__data__;if(!Fge||r.length<Bge-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new $ge(r)}return n.set(t,e),this.size=n.size,this}var Vge=Uge,zge=Y2,qge=jge,Wge=Ige,Hge=Rge,Gge=Mge,Kge=Vge;function Qp(t){var e=this.__data__=new zge(t);this.size=e.size}Qp.prototype.clear=qge;Qp.prototype.delete=Wge;Qp.prototype.get=Hge;Qp.prototype.has=Gge;Qp.prototype.set=Kge;var yV=Qp,Yge="__lodash_hash_undefined__";function Xge(t){return this.__data__.set(t,Yge),this}var Qge=Xge;function Jge(t){return this.__data__.has(t)}var Zge=Jge,eye=k4,tye=Qge,nye=Zge;function ex(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new eye;++e<n;)this.add(t[e])}ex.prototype.add=ex.prototype.push=tye;ex.prototype.has=nye;var vV=ex;function rye(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var bV=rye;function iye(t,e){return t.has(e)}var xV=iye,aye=vV,sye=bV,oye=xV,lye=1,cye=2;function uye(t,e,n,r,i,a){var s=n&lye,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,p=n&cye?new aye:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var y=t[f],b=e[f];if(r)var x=s?r(b,y,f,e,t,a):r(y,b,f,t,e,a);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!sye(e,function(v,w){if(!oye(p,w)&&(y===v||i(y,v,n,r,a)))return p.push(w)})){h=!1;break}}else if(!(y===b||i(y,b,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var wV=uye,fye=fl,dye=fye.Uint8Array,hye=dye;function pye(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var mye=pye;function gye(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var V4=gye,eR=$v,tR=hye,yye=P4,vye=wV,bye=mye,xye=V4,wye=1,_ye=2,Sye="[object Boolean]",Aye="[object Date]",Nye="[object Error]",Eye="[object Map]",Pye="[object Number]",Tye="[object RegExp]",kye="[object Set]",jye="[object String]",Cye="[object Symbol]",Iye="[object ArrayBuffer]",Oye="[object DataView]",nR=eR?eR.prototype:void 0,a_=nR?nR.valueOf:void 0;function Rye(t,e,n,r,i,a,s){switch(n){case Oye:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Iye:return!(t.byteLength!=e.byteLength||!a(new tR(t),new tR(e)));case Sye:case Aye:case Pye:return yye(+t,+e);case Nye:return t.name==e.name&&t.message==e.message;case Tye:case jye:return t==e+"";case Eye:var o=bye;case kye:var l=r&wye;if(o||(o=xye),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=_ye,s.set(t,e);var u=vye(o(t),o(e),r,i,a,s);return s.delete(t),u;case Cye:if(a_)return a_.call(t)==a_.call(e)}return!1}var Lye=Rye;function Mye(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var _V=Mye,Dye=_V,Fye=ka;function $ye(t,e,n){var r=e(t);return Fye(t)?r:Dye(r,n(t))}var Bye=$ye;function Uye(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var Vye=Uye;function zye(){return[]}var qye=zye,Wye=Vye,Hye=qye,Gye=Object.prototype,Kye=Gye.propertyIsEnumerable,rR=Object.getOwnPropertySymbols,Yye=rR?function(t){return t==null?[]:(t=Object(t),Wye(rR(t),function(e){return Kye.call(t,e)}))}:Hye,Xye=Yye;function Qye(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Jye=Qye,Zye=gc,eve=yc,tve="[object Arguments]";function nve(t){return eve(t)&&Zye(t)==tve}var rve=nve,iR=rve,ive=yc,SV=Object.prototype,ave=SV.hasOwnProperty,sve=SV.propertyIsEnumerable,ove=iR(function(){return arguments}())?iR:function(t){return ive(t)&&ave.call(t,"callee")&&!sve.call(t,"callee")},z4=ove,tx={exports:{}};function lve(){return!1}var cve=lve;tx.exports;(function(t,e){var n=fl,r=cve,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(tx,tx.exports);var AV=tx.exports,uve=9007199254740991,fve=/^(?:0|[1-9]\d*)$/;function dve(t,e){var n=typeof t;return e=e??uve,!!e&&(n=="number"||n!="symbol"&&fve.test(t))&&t>-1&&t%1==0&&t<e}var q4=dve,hve=9007199254740991;function pve(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=hve}var W4=pve,mve=gc,gve=W4,yve=yc,vve="[object Arguments]",bve="[object Array]",xve="[object Boolean]",wve="[object Date]",_ve="[object Error]",Sve="[object Function]",Ave="[object Map]",Nve="[object Number]",Eve="[object Object]",Pve="[object RegExp]",Tve="[object Set]",kve="[object String]",jve="[object WeakMap]",Cve="[object ArrayBuffer]",Ive="[object DataView]",Ove="[object Float32Array]",Rve="[object Float64Array]",Lve="[object Int8Array]",Mve="[object Int16Array]",Dve="[object Int32Array]",Fve="[object Uint8Array]",$ve="[object Uint8ClampedArray]",Bve="[object Uint16Array]",Uve="[object Uint32Array]",Hn={};Hn[Ove]=Hn[Rve]=Hn[Lve]=Hn[Mve]=Hn[Dve]=Hn[Fve]=Hn[$ve]=Hn[Bve]=Hn[Uve]=!0;Hn[vve]=Hn[bve]=Hn[Cve]=Hn[xve]=Hn[Ive]=Hn[wve]=Hn[_ve]=Hn[Sve]=Hn[Ave]=Hn[Nve]=Hn[Eve]=Hn[Pve]=Hn[Tve]=Hn[kve]=Hn[jve]=!1;function Vve(t){return yve(t)&&gve(t.length)&&!!Hn[mve(t)]}var zve=Vve;function qve(t){return function(e){return t(e)}}var NV=qve,nx={exports:{}};nx.exports;(function(t,e){var n=OU,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(nx,nx.exports);var Wve=nx.exports,Hve=zve,Gve=NV,aR=Wve,sR=aR&&aR.isTypedArray,Kve=sR?Gve(sR):Hve,EV=Kve,Yve=Jye,Xve=z4,Qve=ka,Jve=AV,Zve=q4,e0e=EV,t0e=Object.prototype,n0e=t0e.hasOwnProperty;function r0e(t,e){var n=Qve(t),r=!n&&Xve(t),i=!n&&!r&&Jve(t),a=!n&&!r&&!i&&e0e(t),s=n||r||i||a,o=s?Yve(t.length,String):[],l=o.length;for(var c in t)(e||n0e.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Zve(c,l)))&&o.push(c);return o}var i0e=r0e,a0e=Object.prototype;function s0e(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||a0e;return t===n}var o0e=s0e;function l0e(t,e){return function(n){return t(e(n))}}var PV=l0e,c0e=PV,u0e=c0e(Object.keys,Object),f0e=u0e,d0e=o0e,h0e=f0e,p0e=Object.prototype,m0e=p0e.hasOwnProperty;function g0e(t){if(!d0e(t))return h0e(t);var e=[];for(var n in Object(t))m0e.call(t,n)&&n!="constructor"&&e.push(n);return e}var y0e=g0e,v0e=E4,b0e=W4;function x0e(t){return t!=null&&b0e(t.length)&&!v0e(t)}var Uv=x0e,w0e=i0e,_0e=y0e,S0e=Uv;function A0e(t){return S0e(t)?w0e(t):_0e(t)}var dw=A0e,N0e=Bye,E0e=Xye,P0e=dw;function T0e(t){return N0e(t,P0e,E0e)}var k0e=T0e,oR=k0e,j0e=1,C0e=Object.prototype,I0e=C0e.hasOwnProperty;function O0e(t,e,n,r,i,a){var s=n&j0e,o=oR(t),l=o.length,c=oR(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in e:I0e.call(e,h)))return!1}var p=a.get(t),y=a.get(e);if(p&&y)return p==e&&y==t;var b=!0;a.set(t,e),a.set(e,t);for(var x=s;++f<l;){h=o[f];var v=t[h],w=e[h];if(r)var _=s?r(w,v,h,e,t,a):r(v,w,h,t,e,a);if(!(_===void 0?v===w||i(v,w,n,r,a):_)){b=!1;break}x||(x=h=="constructor")}if(b&&!x){var A=t.constructor,E=e.constructor;A!=E&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof E=="function"&&E instanceof E)&&(b=!1)}return a.delete(t),a.delete(e),b}var R0e=O0e,L0e=xd,M0e=fl,D0e=L0e(M0e,"DataView"),F0e=D0e,$0e=xd,B0e=fl,U0e=$0e(B0e,"Promise"),V0e=U0e,z0e=xd,q0e=fl,W0e=z0e(q0e,"Set"),TV=W0e,H0e=xd,G0e=fl,K0e=H0e(G0e,"WeakMap"),Y0e=K0e,yN=F0e,vN=T4,bN=V0e,xN=TV,wN=Y0e,kV=gc,Jp=LU,lR="[object Map]",X0e="[object Object]",cR="[object Promise]",uR="[object Set]",fR="[object WeakMap]",dR="[object DataView]",Q0e=Jp(yN),J0e=Jp(vN),Z0e=Jp(bN),e1e=Jp(xN),t1e=Jp(wN),Sf=kV;(yN&&Sf(new yN(new ArrayBuffer(1)))!=dR||vN&&Sf(new vN)!=lR||bN&&Sf(bN.resolve())!=cR||xN&&Sf(new xN)!=uR||wN&&Sf(new wN)!=fR)&&(Sf=function(t){var e=kV(t),n=e==X0e?t.constructor:void 0,r=n?Jp(n):"";if(r)switch(r){case Q0e:return dR;case J0e:return lR;case Z0e:return cR;case e1e:return uR;case t1e:return fR}return e});var n1e=Sf,s_=yV,r1e=wV,i1e=Lye,a1e=R0e,hR=n1e,pR=ka,mR=AV,s1e=EV,o1e=1,gR="[object Arguments]",yR="[object Array]",W0="[object Object]",l1e=Object.prototype,vR=l1e.hasOwnProperty;function c1e(t,e,n,r,i,a){var s=pR(t),o=pR(e),l=s?yR:hR(t),c=o?yR:hR(e);l=l==gR?W0:l,c=c==gR?W0:c;var u=l==W0,f=c==W0,h=l==c;if(h&&mR(t)){if(!mR(e))return!1;s=!0,u=!1}if(h&&!u)return a||(a=new s_),s||s1e(t)?r1e(t,e,n,r,i,a):i1e(t,e,l,n,r,i,a);if(!(n&o1e)){var p=u&&vR.call(t,"__wrapped__"),y=f&&vR.call(e,"__wrapped__");if(p||y){var b=p?t.value():t,x=y?e.value():e;return a||(a=new s_),i(b,x,n,r,a)}}return h?(a||(a=new s_),a1e(t,e,n,r,i,a)):!1}var u1e=c1e,f1e=u1e,bR=yc;function jV(t,e,n,r,i){return t===e?!0:t==null||e==null||!bR(t)&&!bR(e)?t!==t&&e!==e:f1e(t,e,n,r,jV,i)}var H4=jV,d1e=yV,h1e=H4,p1e=1,m1e=2;function g1e(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var l=o[0],c=t[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in t))return!1}else{var f=new d1e;if(r)var h=r(c,u,l,t,e,f);if(!(h===void 0?h1e(u,c,p1e|m1e,r,f):h))return!1}}return!0}var y1e=g1e,v1e=Hu;function b1e(t){return t===t&&!v1e(t)}var CV=b1e,x1e=CV,w1e=dw;function _1e(t){for(var e=w1e(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,x1e(i)]}return e}var S1e=_1e;function A1e(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var IV=A1e,N1e=y1e,E1e=S1e,P1e=IV;function T1e(t){var e=E1e(t);return e.length==1&&e[0][2]?P1e(e[0][0],e[0][1]):function(n){return n===t||N1e(n,t,e)}}var k1e=T1e;function j1e(t,e){return t!=null&&e in Object(t)}var C1e=j1e,I1e=BU,O1e=z4,R1e=ka,L1e=q4,M1e=W4,D1e=Q2;function F1e(t,e,n){e=I1e(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=D1e(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&M1e(i)&&L1e(s,i)&&(R1e(t)||O1e(t)))}var $1e=F1e,B1e=C1e,U1e=$1e;function V1e(t,e){return t!=null&&U1e(t,e,B1e)}var z1e=V1e,q1e=H4,W1e=UU,H1e=z1e,G1e=N4,K1e=CV,Y1e=IV,X1e=Q2,Q1e=1,J1e=2;function Z1e(t,e){return G1e(t)&&K1e(e)?Y1e(X1e(t),e):function(n){var r=W1e(n,t);return r===void 0&&r===e?H1e(n,t):q1e(e,r,Q1e|J1e)}}var ebe=Z1e;function tbe(t){return t}var Zp=tbe;function nbe(t){return function(e){return e==null?void 0:e[t]}}var rbe=nbe,ibe=I4;function abe(t){return function(e){return ibe(e,t)}}var sbe=abe,obe=rbe,lbe=sbe,cbe=N4,ube=Q2;function fbe(t){return cbe(t)?obe(ube(t)):lbe(t)}var dbe=fbe,hbe=k1e,pbe=ebe,mbe=Zp,gbe=ka,ybe=dbe;function vbe(t){return typeof t=="function"?t:t==null?mbe:typeof t=="object"?gbe(t)?pbe(t[0],t[1]):hbe(t):ybe(t)}var Gu=vbe;function bbe(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var OV=bbe;function xbe(t){return t!==t}var wbe=xbe;function _be(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Sbe=_be,Abe=OV,Nbe=wbe,Ebe=Sbe;function Pbe(t,e,n){return e===e?Ebe(t,e,n):Abe(t,Nbe,n)}var Tbe=Pbe,kbe=Tbe;function jbe(t,e){var n=t==null?0:t.length;return!!n&&kbe(t,e,0)>-1}var Cbe=jbe;function Ibe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Obe=Ibe;function Rbe(){}var Lbe=Rbe,o_=TV,Mbe=Lbe,Dbe=V4,Fbe=1/0,$be=o_&&1/Dbe(new o_([,-0]))[1]==Fbe?function(t){return new o_(t)}:Mbe,Bbe=$be,Ube=vV,Vbe=Cbe,zbe=Obe,qbe=xV,Wbe=Bbe,Hbe=V4,Gbe=200;function Kbe(t,e,n){var r=-1,i=Vbe,a=t.length,s=!0,o=[],l=o;if(n)s=!1,i=zbe;else if(a>=Gbe){var c=e?null:Wbe(t);if(c)return Hbe(c);s=!1,i=qbe,l=new Ube}else l=e?[]:o;e:for(;++r<a;){var u=t[r],f=e?e(u):u;if(u=n||u!==0?u:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),o.push(u)}else i(l,f,n)||(l!==o&&l.push(f),o.push(u))}return o}var Ybe=Kbe,Xbe=Gu,Qbe=Ybe;function Jbe(t,e){return t&&t.length?Qbe(t,Xbe(e)):[]}var Zbe=Jbe;const xR=Ln(Zbe);function RV(t,e,n){return e===!0?xR(t,n):Vt(e)?xR(t,e):t}function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}var exe=["ref"];function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){hw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function txe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MV(r.key),r)}}function nxe(t,e,n){return e&&_R(t.prototype,e),n&&_R(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rxe(t,e,n){return e=rx(e),ixe(t,LV()?Reflect.construct(e,n||[],rx(t).constructor):e.apply(t,n))}function ixe(t,e){if(e&&(fp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return axe(t)}function axe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LV=function(){return!!t})()}function rx(t){return rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rx(t)}function sxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_N(t,e)}function _N(t,e){return _N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_N(t,e)}function hw(t,e,n){return e=MV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MV(t){var e=oxe(t,"string");return fp(e)=="symbol"?e:e+""}function oxe(t,e){if(fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lxe(t,e){if(t==null)return{};var n=cxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uxe(t){return t.value}function fxe(t,e){if(pe.isValidElement(t))return pe.cloneElement(t,e);if(typeof t=="function")return pe.createElement(t,e);e.ref;var n=lxe(e,exe);return pe.createElement(U4,n)}var SR=1,Lh=function(t){function e(){var n;txe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=rxe(this,e,[].concat(i)),hw(n,"lastBoundingBox",{width:-1,height:-1}),n}return sxe(e,t),nxe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>SR||Math.abs(i.height-this.lastBoundingBox.height)>SR)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?kl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var y=this.getBBoxSnapshot();h={top:((u||0)-y.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return kl(kl({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=kl(kl({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return pe.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},fxe(a,kl(kl({},this.props),{},{payload:RV(u,c,uxe)})))}}],[{key:"getWithHeight",value:function(r,i){var a=kl(kl({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&ze(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(U.PureComponent);hw(Lh,"displayName","Legend");hw(Lh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var AR=$v,dxe=z4,hxe=ka,NR=AR?AR.isConcatSpreadable:void 0;function pxe(t){return hxe(t)||dxe(t)||!!(NR&&t&&t[NR])}var mxe=pxe,gxe=_V,yxe=mxe;function DV(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=yxe),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?DV(o,e-1,n,r,i):gxe(i,o):r||(i[i.length]=o)}return i}var FV=DV;function vxe(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[t?o:++i];if(n(a[l],l,a)===!1)break}return e}}var bxe=vxe,xxe=bxe,wxe=xxe(),_xe=wxe,Sxe=_xe,Axe=dw;function Nxe(t,e){return t&&Sxe(t,e,Axe)}var $V=Nxe,Exe=Uv;function Pxe(t,e){return function(n,r){if(n==null)return n;if(!Exe(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var Txe=Pxe,kxe=$V,jxe=Txe,Cxe=jxe(kxe),G4=Cxe,Ixe=G4,Oxe=Uv;function Rxe(t,e){var n=-1,r=Oxe(t)?Array(t.length):[];return Ixe(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var BV=Rxe;function Lxe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Mxe=Lxe,ER=Wp;function Dxe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=ER(t),s=e!==void 0,o=e===null,l=e===e,c=ER(e);if(!o&&!c&&!a&&t>e||a&&s&&l&&!o&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!l)return-1}return 0}var Fxe=Dxe,$xe=Fxe;function Bxe(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var l=$xe(i[r],a[r]);if(l){if(r>=o)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var Uxe=Bxe,l_=C4,Vxe=I4,zxe=Gu,qxe=BV,Wxe=Mxe,Hxe=NV,Gxe=Uxe,Kxe=Zp,Yxe=ka;function Xxe(t,e,n){e.length?e=l_(e,function(a){return Yxe(a)?function(s){return Vxe(s,a.length===1?a[0]:a)}:a}):e=[Kxe];var r=-1;e=l_(e,Hxe(zxe));var i=qxe(t,function(a,s,o){var l=l_(e,function(c){return c(a)});return{criteria:l,index:++r,value:a}});return Wxe(i,function(a,s){return Gxe(a,s,n)})}var Qxe=Xxe;function Jxe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Zxe=Jxe,e2e=Zxe,PR=Math.max;function t2e(t,e,n){return e=PR(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=PR(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),e2e(t,this,o)}}var n2e=t2e;function r2e(t){return function(){return t}}var i2e=r2e,a2e=xd,s2e=function(){try{var t=a2e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),UV=s2e,o2e=i2e,TR=UV,l2e=Zp,c2e=TR?function(t,e){return TR(t,"toString",{configurable:!0,enumerable:!1,value:o2e(e),writable:!0})}:l2e,u2e=c2e,f2e=800,d2e=16,h2e=Date.now;function p2e(t){var e=0,n=0;return function(){var r=h2e(),i=d2e-(r-n);if(n=r,i>0){if(++e>=f2e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var m2e=p2e,g2e=u2e,y2e=m2e,v2e=y2e(g2e),b2e=v2e,x2e=Zp,w2e=n2e,_2e=b2e;function S2e(t,e){return _2e(w2e(t,e,x2e),t+"")}var A2e=S2e,N2e=P4,E2e=Uv,P2e=q4,T2e=Hu;function k2e(t,e,n){if(!T2e(n))return!1;var r=typeof e;return(r=="number"?E2e(n)&&P2e(e,n.length):r=="string"&&e in n)?N2e(n[e],t):!1}var pw=k2e,j2e=FV,C2e=Qxe,I2e=A2e,kR=pw,O2e=I2e(function(t,e){if(t==null)return[];var n=e.length;return n>1&&kR(t,e[0],e[1])?e=[]:n>2&&kR(e[0],e[1],e[2])&&(e=[e[0]]),C2e(t,j2e(e,1),[])}),R2e=O2e;const K4=Ln(R2e);function Ay(t){"@babel/helpers - typeof";return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ay(t)}function SN(){return SN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SN.apply(this,arguments)}function L2e(t,e){return $2e(t)||F2e(t,e)||D2e(t,e)||M2e()}function M2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D2e(t,e){if(t){if(typeof t=="string")return jR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jR(t,e)}}function jR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function F2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function $2e(t){if(Array.isArray(t))return t}function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){B2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B2e(t,e,n){return e=U2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U2e(t){var e=V2e(t,"string");return Ay(e)=="symbol"?e:e+""}function V2e(t,e){if(Ay(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ay(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z2e(t){return Array.isArray(t)&&ni(t[0])&&ni(t[1])?t.join(" ~ "):t}var q2e=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,y=e.labelClassName,b=e.label,x=e.labelFormatter,v=e.accessibilityLayer,w=v===void 0?!1:v,_=function(){if(u&&u.length){var I={padding:0,margin:0},j=(h?K4(u,h):u).map(function(B,G){if(B.type==="none")return null;var Z=c_({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},o),re=B.formatter||f||z2e,Y=B.value,ae=B.name,ue=Y,he=ae;if(re&&ue!=null&&he!=null){var $=re(Y,ae,B,G,u);if(Array.isArray($)){var H=L2e($,2);ue=H[0],he=H[1]}else ue=$}return pe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:Z},ni(he)?pe.createElement("span",{className:"recharts-tooltip-item-name"},he):null,ni(he)?pe.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,pe.createElement("span",{className:"recharts-tooltip-item-value"},ue),pe.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return pe.createElement("ul",{className:"recharts-tooltip-item-list",style:I},j)}return null},A=c_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=c_({margin:0},c),O=!Jt(b),C=O?b:"",N=on("recharts-default-tooltip",p),k=on("recharts-tooltip-label",y);O&&x&&u!==void 0&&u!==null&&(C=x(b,u));var M=w?{role:"status","aria-live":"assertive"}:{};return pe.createElement("div",SN({className:N,style:A},M),pe.createElement("p",{className:k,style:E},pe.isValidElement(C)?C:"".concat(C)),_())};function Ny(t){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}function H0(t,e,n){return e=W2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W2e(t){var e=H2e(t,"string");return Ny(e)=="symbol"?e:e+""}function H2e(t,e){if(Ny(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bm="recharts-tooltip-wrapper",G2e={visibility:"hidden"};function K2e(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return on(Bm,H0(H0(H0(H0({},"".concat(Bm,"-right"),ze(n)&&e&&ze(e.x)&&n>=e.x),"".concat(Bm,"-left"),ze(n)&&e&&ze(e.x)&&n<e.x),"".concat(Bm,"-bottom"),ze(r)&&e&&ze(e.y)&&r>=e.y),"".concat(Bm,"-top"),ze(r)&&e&&ze(e.y)&&r<e.y))}function IR(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&ze(a[r]))return a[r];var u=n[r]-o-i,f=n[r]+i;if(e[r])return s[r]?u:f;if(s[r]){var h=u,p=l[r];return h<p?Math.max(f,l[r]):Math.max(u,l[r])}var y=f+o,b=l[r]+c;return y>b?Math.max(u,l[r]):Math.max(f,l[r])}function Y2e(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function X2e(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,u,f;return s.height>0&&s.width>0&&n?(u=IR({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=IR({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=Y2e({translateX:u,translateY:f,useTranslate3d:o})):c=G2e,{cssProperties:c,cssClasses:K2e({translateX:u,translateY:f,coordinate:n})}}function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function OR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(n),!0).forEach(function(r){NN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J2e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zV(r.key),r)}}function Z2e(t,e,n){return e&&J2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ewe(t,e,n){return e=ix(e),twe(t,VV()?Reflect.construct(e,n||[],ix(t).constructor):e.apply(t,n))}function twe(t,e){if(e&&(dp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nwe(t)}function nwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VV=function(){return!!t})()}function ix(t){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ix(t)}function rwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AN(t,e)}function AN(t,e){return AN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AN(t,e)}function NN(t,e,n){return e=zV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zV(t){var e=iwe(t,"string");return dp(e)=="symbol"?e:e+""}function iwe(t,e){if(dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LR=1,awe=function(t){function e(){var n;Q2e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ewe(this,e,[].concat(i)),NN(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),NN(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return rwe(e,t),Z2e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>LR||Math.abs(r.height-this.state.lastBoundingBox.height)>LR)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,y=i.position,b=i.reverseDirection,x=i.useTranslate3d,v=i.viewBox,w=i.wrapperStyle,_=X2e({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:p,position:y,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:v}),A=_.cssClasses,E=_.cssProperties,O=RR(RR({transition:h&&a?"transform ".concat(o,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return pe.createElement("div",{tabIndex:-1,className:A,style:O,ref:function(N){r.wrapperNode=N}},c)}}])}(U.PureComponent),swe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},em={isSsr:swe()};function hp(t){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(t)}function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){Y4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function owe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WV(r.key),r)}}function cwe(t,e,n){return e&&lwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uwe(t,e,n){return e=ax(e),fwe(t,qV()?Reflect.construct(e,n||[],ax(t).constructor):e.apply(t,n))}function fwe(t,e){if(e&&(hp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dwe(t)}function dwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qV=function(){return!!t})()}function ax(t){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ax(t)}function hwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EN(t,e)}function EN(t,e){return EN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EN(t,e)}function Y4(t,e,n){return e=WV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WV(t){var e=pwe(t,"string");return hp(e)=="symbol"?e:e+""}function pwe(t,e){if(hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function mwe(t){return t.dataKey}function gwe(t,e){return pe.isValidElement(t)?pe.cloneElement(t,e):typeof t=="function"?pe.createElement(t,e):pe.createElement(q2e,e)}var Bo=function(t){function e(){return owe(this,e),uwe(this,e,arguments)}return hwe(e,t),cwe(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,y=i.payload,b=i.payloadUniqBy,x=i.position,v=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,A=i.wrapperStyle,E=y??[];f&&E.length&&(E=RV(y.filter(function(C){return C.value!=null&&(C.hide!==!0||r.props.includeHidden)}),b,mwe));var O=E.length>0;return pe.createElement(awe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:a,coordinate:u,hasPayload:O,offset:p,position:x,reverseDirection:v,useTranslate3d:w,viewBox:_,wrapperStyle:A},gwe(c,DR(DR({},this.props),{},{payload:E})))}}])}(U.PureComponent);Y4(Bo,"displayName","Tooltip");Y4(Bo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!em.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ywe=fl,vwe=function(){return ywe.Date.now()},bwe=vwe,xwe=/\s/;function wwe(t){for(var e=t.length;e--&&xwe.test(t.charAt(e)););return e}var _we=wwe,Swe=_we,Awe=/^\s+/;function Nwe(t){return t&&t.slice(0,Swe(t)+1).replace(Awe,"")}var Ewe=Nwe,Pwe=Ewe,FR=Hu,Twe=Wp,$R=NaN,kwe=/^[-+]0x[0-9a-f]+$/i,jwe=/^0b[01]+$/i,Cwe=/^0o[0-7]+$/i,Iwe=parseInt;function Owe(t){if(typeof t=="number")return t;if(Twe(t))return $R;if(FR(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=FR(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Pwe(t);var n=jwe.test(t);return n||Cwe.test(t)?Iwe(t.slice(2),n?2:8):kwe.test(t)?$R:+t}var HV=Owe,Rwe=Hu,u_=bwe,BR=HV,Lwe="Expected a function",Mwe=Math.max,Dwe=Math.min;function Fwe(t,e,n){var r,i,a,s,o,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Lwe);e=BR(e)||0,Rwe(n)&&(u=!!n.leading,f="maxWait"in n,a=f?Mwe(BR(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function p(O){var C=r,N=i;return r=i=void 0,c=O,s=t.apply(N,C),s}function y(O){return c=O,o=setTimeout(v,e),u?p(O):s}function b(O){var C=O-l,N=O-c,k=e-C;return f?Dwe(k,a-N):k}function x(O){var C=O-l,N=O-c;return l===void 0||C>=e||C<0||f&&N>=a}function v(){var O=u_();if(x(O))return w(O);o=setTimeout(v,b(O))}function w(O){return o=void 0,h&&r?p(O):(r=i=void 0,s)}function _(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function A(){return o===void 0?s:w(u_())}function E(){var O=u_(),C=x(O);if(r=arguments,i=this,l=O,C){if(o===void 0)return y(l);if(f)return clearTimeout(o),o=setTimeout(v,e),p(l)}return o===void 0&&(o=setTimeout(v,e)),s}return E.cancel=_,E.flush=A,E}var $we=Fwe,Bwe=$we,Uwe=Hu,Vwe="Expected a function";function zwe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Vwe);return Uwe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Bwe(t,e,{leading:r,maxWait:e,trailing:i})}var qwe=zwe;const GV=Ln(qwe);function Ey(t){"@babel/helpers - typeof";return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){Wwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wwe(t,e,n){return e=Hwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hwe(t){var e=Gwe(t,"string");return Ey(e)=="symbol"?e:e+""}function Gwe(t,e){if(Ey(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ey(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kwe(t,e){return Jwe(t)||Qwe(t,e)||Xwe(t,e)||Ywe()}function Ywe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xwe(t,e){if(t){if(typeof t=="string")return VR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VR(t,e)}}function VR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Jwe(t){if(Array.isArray(t))return t}var Zwe=U.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,p=t.children,y=t.debounce,b=y===void 0?0:y,x=t.id,v=t.className,w=t.onResize,_=t.style,A=_===void 0?{}:_,E=U.useRef(null),O=U.useRef();O.current=w,U.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var C=U.useState({containerWidth:i.width,containerHeight:i.height}),N=Kwe(C,2),k=N[0],M=N[1],P=U.useCallback(function(j,B){M(function(G){var Z=Math.round(j),re=Math.round(B);return G.containerWidth===Z&&G.containerHeight===re?G:{containerWidth:Z,containerHeight:re}})},[]);U.useEffect(function(){var j=function(ae){var ue,he=ae[0].contentRect,$=he.width,H=he.height;P($,H),(ue=O.current)===null||ue===void 0||ue.call(O,$,H)};b>0&&(j=GV(j,b,{trailing:!0,leading:!1}));var B=new ResizeObserver(j),G=E.current.getBoundingClientRect(),Z=G.width,re=G.height;return P(Z,re),B.observe(E.current),function(){B.disconnect()}},[P,b]);var I=U.useMemo(function(){var j=k.containerWidth,B=k.containerHeight;if(j<0||B<0)return null;Yl(Of(s)||Of(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Yl(!n||n>0,"The aspect(%s) must be greater than zero.",n);var G=Of(s)?j:s,Z=Of(l)?B:l;n&&n>0&&(G?Z=G/n:Z&&(G=Z*n),h&&Z>h&&(Z=h)),Yl(G>0||Z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,Z,s,l,u,f,n);var re=!Array.isArray(p)&&Kl(p.type).endsWith("Chart");return pe.Children.map(p,function(Y){return pe.isValidElement(Y)?U.cloneElement(Y,G0({width:G,height:Z},re?{style:G0({height:"100%",width:"100%",maxHeight:Z,maxWidth:G},Y.props.style)}:{})):Y})},[n,p,l,h,f,u,k,s]);return pe.createElement("div",{id:x?"".concat(x):void 0,className:on("recharts-responsive-container",v),style:G0(G0({},A),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:E},I)}),KV=function(e){return null};KV.displayName="Cell";function Py(t){"@babel/helpers - typeof";return Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Py(t)}function zR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(n),!0).forEach(function(r){e5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e5e(t,e,n){return e=t5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t5e(t){var e=n5e(t,"string");return Py(e)=="symbol"?e:e+""}function n5e(t,e){if(Py(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Py(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $d={widthCache:{},cacheCount:0},r5e=2e3,i5e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qR="recharts_measurement_span";function a5e(t){var e=PN({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Ig=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||em.isSsr)return{width:0,height:0};var r=a5e(n),i=JSON.stringify({text:e,copyStyle:r});if($d.widthCache[i])return $d.widthCache[i];try{var a=document.getElementById(qR);a||(a=document.createElement("span"),a.setAttribute("id",qR),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=PN(PN({},i5e),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return $d.widthCache[i]=l,++$d.cacheCount>r5e&&($d.cacheCount=0,$d.widthCache={}),l}catch{return{width:0,height:0}}},s5e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ty(t){"@babel/helpers - typeof";return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(t)}function sx(t,e){return u5e(t)||c5e(t,e)||l5e(t,e)||o5e()}function o5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l5e(t,e){if(t){if(typeof t=="string")return WR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WR(t,e)}}function WR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c5e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function u5e(t){if(Array.isArray(t))return t}function f5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h5e(r.key),r)}}function d5e(t,e,n){return e&&HR(t.prototype,e),n&&HR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function h5e(t){var e=p5e(t,"string");return Ty(e)=="symbol"?e:e+""}function p5e(t,e){if(Ty(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ty(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var GR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,KR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,m5e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,g5e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,YV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},y5e=Object.keys(YV),yh="NaN";function v5e(t,e){return t*YV[e]}var K0=function(){function t(e,n){f5e(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!m5e.test(n)&&(this.num=NaN,this.unit=""),y5e.includes(n)&&(this.num=v5e(e,n),this.unit="px")}return d5e(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=g5e.exec(n))!==null&&r!==void 0?r:[],a=sx(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function XV(t){if(t.includes(yh))return yh;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=GR.exec(e))!==null&&n!==void 0?n:[],i=sx(r,4),a=i[1],s=i[2],o=i[3],l=K0.parse(a??""),c=K0.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return yh;e=e.replace(GR,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=KR.exec(e))!==null&&f!==void 0?f:[],p=sx(h,4),y=p[1],b=p[2],x=p[3],v=K0.parse(y??""),w=K0.parse(x??""),_=b==="+"?v.add(w):v.subtract(w);if(_.isNaN())return yh;e=e.replace(KR,_.toString())}return e}var YR=/\(([^()]*)\)/;function b5e(t){for(var e=t;e.includes("(");){var n=YR.exec(e),r=sx(n,2),i=r[1];e=e.replace(YR,XV(i))}return e}function x5e(t){var e=t.replace(/\s+/g,"");return e=b5e(e),e=XV(e),e}function w5e(t){try{return x5e(t)}catch{return yh}}function f_(t){var e=w5e(t.slice(5,-1));return e===yh?"":e}var _5e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],S5e=["dx","dy","angle","className","breakAll"];function TN(){return TN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TN.apply(this,arguments)}function XR(t,e){if(t==null)return{};var n=A5e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function QR(t,e){return T5e(t)||P5e(t,e)||E5e(t,e)||N5e()}function N5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E5e(t,e){if(t){if(typeof t=="string")return JR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JR(t,e)}}function JR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P5e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function T5e(t){if(Array.isArray(t))return t}var QV=/[ \f\n\r\t\v\u2028\u2029]+/,JV=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Jt(n)||(r?a=n.toString().split(""):a=n.toString().split(QV));var s=a.map(function(l){return{word:l,width:Ig(l,i).width}}),o=r?0:Ig("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},k5e=function(e,n,r,i,a){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=ze(s),f=o,h=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(Z,re){var Y=re.word,ae=re.width,ue=Z[Z.length-1];if(ue&&(i==null||a||ue.width+ae+r<Number(i)))ue.words.push(Y),ue.width+=ae+r;else{var he={words:[Y],width:ae};Z.push(he)}return Z},[])},p=h(n),y=function(G){return G.reduce(function(Z,re){return Z.width>re.width?Z:re})};if(!u)return p;for(var b="",x=function(G){var Z=f.slice(0,G),re=JV({breakAll:c,style:l,children:Z+b}).wordsWithComputedWidth,Y=h(re),ae=Y.length>s||y(Y).width>Number(i);return[ae,Y]},v=0,w=f.length-1,_=0,A;v<=w&&_<=f.length-1;){var E=Math.floor((v+w)/2),O=E-1,C=x(O),N=QR(C,2),k=N[0],M=N[1],P=x(E),I=QR(P,1),j=I[0];if(!k&&!j&&(v=E+1),k&&j&&(w=E-1),!k&&j){A=M;break}_++}return A||p},ZR=function(e){var n=Jt(e)?[]:e.toString().split(QV);return[{words:n}]},j5e=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!em.isSsr){var l,c,u=JV({breakAll:s,children:i,style:a});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return ZR(i);return k5e({breakAll:s,children:i,maxLines:o,style:a},l,c,n,r)}return ZR(i)},eL="#808080",ox=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,h=e.textAnchor,p=h===void 0?"start":h,y=e.verticalAnchor,b=y===void 0?"end":y,x=e.fill,v=x===void 0?eL:x,w=XR(e,_5e),_=U.useMemo(function(){return j5e({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),A=w.dx,E=w.dy,O=w.angle,C=w.className,N=w.breakAll,k=XR(w,S5e);if(!ni(r)||!ni(a))return null;var M=r+(ze(A)?A:0),P=a+(ze(E)?E:0),I;switch(b){case"start":I=f_("calc(".concat(c,")"));break;case"middle":I=f_("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:I=f_("calc(".concat(_.length-1," * -").concat(o,")"));break}var j=[];if(f){var B=_[0].width,G=w.width;j.push("scale(".concat((ze(G)?G/B:1)/B,")"))}return O&&j.push("rotate(".concat(O,", ").concat(M,", ").concat(P,")")),j.length&&(k.transform=j.join(" ")),pe.createElement("text",TN({},Ht(k,!0),{x:M,y:P,className:on("recharts-text",C),textAnchor:p,fill:v.includes("url")?eL:v}),_.map(function(Z,re){var Y=Z.words.join(N?"":" ");return pe.createElement("tspan",{x:M,dy:re===0?I:o,key:"".concat(Y,"-").concat(re)},Y)}))};function Au(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function C5e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function X4(t){let e,n,r;t.length!==2?(e=Au,n=(o,l)=>Au(t(o),l),r=(o,l)=>t(o)-l):(e=t===Au||t===C5e?t:I5e,n=t,r=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=i(o,l,c,u-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function I5e(){return 0}function ZV(t){return t===null?NaN:+t}function*O5e(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const R5e=X4(Au),Vv=R5e.right;X4(ZV).center;class tL extends Map{constructor(e,n=D5e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(nL(this,e))}has(e){return super.has(nL(this,e))}set(e,n){return super.set(L5e(this,e),n)}delete(e){return super.delete(M5e(this,e))}}function nL({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function L5e({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function M5e({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function D5e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function F5e(t=Au){if(t===Au)return ez;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function ez(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const $5e=Math.sqrt(50),B5e=Math.sqrt(10),U5e=Math.sqrt(2);function lx(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=$5e?10:a>=B5e?5:a>=U5e?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?lx(t,e,n*2):[o,l,c]}function kN(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?lx(e,t,n):lx(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function jN(t,e,n){return e=+e,t=+t,n=+n,lx(t,e,n)[2]}function CN(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?jN(e,t,n):jN(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function rL(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function iL(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function tz(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?ez:F5e(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*f/l+h)),y=Math.min(r,Math.floor(e+(l-c)*f/l+h));tz(t,e,p,y,i)}const a=t[e];let s=n,o=r;for(Um(t,n,e),i(t[r],a)>0&&Um(t,n,r);s<o;){for(Um(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?Um(t,n,o):(++o,Um(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Um(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function V5e(t,e,n){if(t=Float64Array.from(O5e(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return iL(t);if(e>=1)return rL(t);var r,i=(r-1)*e,a=Math.floor(i),s=rL(tz(t,a).subarray(0,a+1)),o=iL(t.subarray(a+1));return s+(o-s)*(i-a)}}function z5e(t,e,n=ZV){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function q5e(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function qs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function vc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const IN=Symbol("implicit");function Q4(){var t=new tL,e=[],n=[],r=IN;function i(a){let s=t.get(a);if(s===void 0){if(r!==IN)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new tL;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Q4(e,n).unknown(r)},qs.apply(i,arguments),i}function ky(){var t=Q4().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var h=e().length,p=i<r,y=p?i:r,b=p?r:i;a=(b-y)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),y+=(b-y-a*(h-l))*u,s=a*(1-l),o&&(y=Math.round(y),s=Math.round(s));var x=q5e(h).map(function(v){return y+a*v});return n(p?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},t.copy=function(){return ky(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},qs.apply(f(),arguments)}function nz(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return nz(e())},t}function Og(){return nz(ky.apply(null,arguments).paddingInner(1))}function J4(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function rz(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function zv(){}var jy=.7,cx=1/jy,Mh="\\s*([+-]?\\d+)\\s*",Cy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",W5e=/^#([0-9a-f]{3,8})$/,H5e=new RegExp(`^rgb\\(${Mh},${Mh},${Mh}\\)$`),G5e=new RegExp(`^rgb\\(${tl},${tl},${tl}\\)$`),K5e=new RegExp(`^rgba\\(${Mh},${Mh},${Mh},${Cy}\\)$`),Y5e=new RegExp(`^rgba\\(${tl},${tl},${tl},${Cy}\\)$`),X5e=new RegExp(`^hsl\\(${Cy},${tl},${tl}\\)$`),Q5e=new RegExp(`^hsla\\(${Cy},${tl},${tl},${Cy}\\)$`),aL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};J4(zv,Iy,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:sL,formatHex:sL,formatHex8:J5e,formatHsl:Z5e,formatRgb:oL,toString:oL});function sL(){return this.rgb().formatHex()}function J5e(){return this.rgb().formatHex8()}function Z5e(){return iz(this).formatHsl()}function oL(){return this.rgb().formatRgb()}function Iy(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=W5e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?lL(e):n===3?new Aa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Y0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Y0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=H5e.exec(t))?new Aa(e[1],e[2],e[3],1):(e=G5e.exec(t))?new Aa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=K5e.exec(t))?Y0(e[1],e[2],e[3],e[4]):(e=Y5e.exec(t))?Y0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=X5e.exec(t))?fL(e[1],e[2]/100,e[3]/100,1):(e=Q5e.exec(t))?fL(e[1],e[2]/100,e[3]/100,e[4]):aL.hasOwnProperty(t)?lL(aL[t]):t==="transparent"?new Aa(NaN,NaN,NaN,0):null}function lL(t){return new Aa(t>>16&255,t>>8&255,t&255,1)}function Y0(t,e,n,r){return r<=0&&(t=e=n=NaN),new Aa(t,e,n,r)}function e_e(t){return t instanceof zv||(t=Iy(t)),t?(t=t.rgb(),new Aa(t.r,t.g,t.b,t.opacity)):new Aa}function ON(t,e,n,r){return arguments.length===1?e_e(t):new Aa(t,e,n,r??1)}function Aa(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}J4(Aa,ON,rz(zv,{brighter(t){return t=t==null?cx:Math.pow(cx,t),new Aa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jy:Math.pow(jy,t),new Aa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Aa(zf(this.r),zf(this.g),zf(this.b),ux(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cL,formatHex:cL,formatHex8:t_e,formatRgb:uL,toString:uL}));function cL(){return`#${Rf(this.r)}${Rf(this.g)}${Rf(this.b)}`}function t_e(){return`#${Rf(this.r)}${Rf(this.g)}${Rf(this.b)}${Rf((isNaN(this.opacity)?1:this.opacity)*255)}`}function uL(){const t=ux(this.opacity);return`${t===1?"rgb(":"rgba("}${zf(this.r)}, ${zf(this.g)}, ${zf(this.b)}${t===1?")":`, ${t})`}`}function ux(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function zf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Rf(t){return t=zf(t),(t<16?"0":"")+t.toString(16)}function fL(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new so(t,e,n,r)}function iz(t){if(t instanceof so)return new so(t.h,t.s,t.l,t.opacity);if(t instanceof zv||(t=Iy(t)),!t)return new so;if(t instanceof so)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new so(s,o,l,t.opacity)}function n_e(t,e,n,r){return arguments.length===1?iz(t):new so(t,e,n,r??1)}function so(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}J4(so,n_e,rz(zv,{brighter(t){return t=t==null?cx:Math.pow(cx,t),new so(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jy:Math.pow(jy,t),new so(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Aa(d_(t>=240?t-240:t+120,i,r),d_(t,i,r),d_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new so(dL(this.h),X0(this.s),X0(this.l),ux(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ux(this.opacity);return`${t===1?"hsl(":"hsla("}${dL(this.h)}, ${X0(this.s)*100}%, ${X0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function dL(t){return t=(t||0)%360,t<0?t+360:t}function X0(t){return Math.max(0,Math.min(1,t||0))}function d_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Z4=t=>()=>t;function r_e(t,e){return function(n){return t+n*e}}function i_e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function a_e(t){return(t=+t)==1?az:function(e,n){return n-e?i_e(e,n,t):Z4(isNaN(e)?n:e)}}function az(t,e){var n=e-t;return n?r_e(t,n):Z4(isNaN(t)?e:t)}const hL=function t(e){var n=a_e(e);function r(i,a){var s=n((i=ON(i)).r,(a=ON(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=az(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function s_e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function o_e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function l_e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=tm(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function c_e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function fx(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function u_e(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=tm(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var RN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,h_=new RegExp(RN.source,"g");function f_e(t){return function(){return t}}function d_e(t){return function(e){return t(e)+""}}function h_e(t,e){var n=RN.lastIndex=h_.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=RN.exec(t))&&(i=h_.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:fx(r,i)})),n=h_.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?d_e(l[0].x):f_e(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function tm(t,e){var n=typeof e,r;return e==null||n==="boolean"?Z4(e):(n==="number"?fx:n==="string"?(r=Iy(e))?(e=r,hL):h_e:e instanceof Iy?hL:e instanceof Date?c_e:o_e(e)?s_e:Array.isArray(e)?l_e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?u_e:fx)(t,e)}function ek(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function p_e(t,e){e===void 0&&(e=t,t=tm);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function m_e(t){return function(){return t}}function dx(t){return+t}var pL=[0,1];function ca(t){return t}function LN(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:m_e(isNaN(e)?NaN:.5)}function g_e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function y_e(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=LN(i,r),a=n(s,a)):(r=LN(r,i),a=n(a,s)),function(o){return a(r(o))}}function v_e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=LN(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=Vv(t,o,1,r)-1;return a[l](i[l](o))}}function qv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function mw(){var t=pL,e=pL,n=tm,r,i,a,s=ca,o,l,c;function u(){var h=Math.min(t.length,e.length);return s!==ca&&(s=g_e(t[0],t[h-1])),o=h>2?v_e:y_e,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((c||(c=o(e,t.map(r),fx)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,dx),u()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=ek,u()},f.clamp=function(h){return arguments.length?(s=h?!0:ca,u()):s!==ca},f.interpolate=function(h){return arguments.length?(n=h,u()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return r=h,i=p,u()}}function tk(){return mw()(ca,ca)}function b_e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function hx(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function pp(t){return t=hx(Math.abs(t)),t?t[1]:NaN}function x_e(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function w_e(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var __e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Oy(t){if(!(e=__e.exec(t)))throw new Error("invalid format: "+t);var e;return new nk({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Oy.prototype=nk.prototype;function nk(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}nk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function S_e(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var px;function A_e(t,e){var n=hx(t,e);if(!n)return px=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(px=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+hx(t,Math.max(0,e+a-1))[0]}function mL(t,e){var n=hx(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const gL={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:b_e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>mL(t*100,e),r:mL,s:A_e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function yL(t){return t}var vL=Array.prototype.map,bL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function N_e(t){var e=t.grouping===void 0||t.thousands===void 0?yL:x_e(vL.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?yL:w_e(vL.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f,h){f=Oy(f);var p=f.fill,y=f.align,b=f.sign,x=f.symbol,v=f.zero,w=f.width,_=f.comma,A=f.precision,E=f.trim,O=f.type;O==="n"?(_=!0,O="g"):gL[O]||(A===void 0&&(A=12),E=!0,O="g"),(v||p==="0"&&y==="=")&&(v=!0,p="0",y="=");var C=(h&&h.prefix!==void 0?h.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():""),N=(x==="$"?r:/[%p]/.test(O)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),k=gL[O],M=/[defgprs%]/.test(O);A=A===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function P(I){var j=C,B=N,G,Z,re;if(O==="c")B=k(I)+B,I="";else{I=+I;var Y=I<0||1/I<0;if(I=isNaN(I)?l:k(Math.abs(I),A),E&&(I=S_e(I)),Y&&+I==0&&b!=="+"&&(Y=!1),j=(Y?b==="("?b:o:b==="-"||b==="("?"":b)+j,B=(O==="s"&&!isNaN(I)&&px!==void 0?bL[8+px/3]:"")+B+(Y&&b==="("?")":""),M){for(G=-1,Z=I.length;++G<Z;)if(re=I.charCodeAt(G),48>re||re>57){B=(re===46?i+I.slice(G+1):I.slice(G))+B,I=I.slice(0,G);break}}}_&&!v&&(I=e(I,1/0));var ae=j.length+I.length+B.length,ue=ae<w?new Array(w-ae+1).join(p):"";switch(_&&v&&(I=e(ue+I,ue.length?w-B.length:1/0),ue=""),y){case"<":I=j+I+B+ue;break;case"=":I=j+ue+I+B;break;case"^":I=ue.slice(0,ae=ue.length>>1)+j+I+B+ue.slice(ae);break;default:I=ue+j+I+B;break}return a(I)}return P.toString=function(){return f+""},P}function u(f,h){var p=Math.max(-8,Math.min(8,Math.floor(pp(h)/3)))*3,y=Math.pow(10,-p),b=c((f=Oy(f),f.type="f",f),{suffix:bL[8+p/3]});return function(x){return b(y*x)}}return{format:c,formatPrefix:u}}var Q0,rk,sz;E_e({thousands:",",grouping:[3],currency:["$",""]});function E_e(t){return Q0=N_e(t),rk=Q0.format,sz=Q0.formatPrefix,Q0}function P_e(t){return Math.max(0,-pp(Math.abs(t)))}function T_e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pp(e)/3)))*3-pp(Math.abs(t)))}function k_e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,pp(e)-pp(t))+1}function oz(t,e,n,r){var i=CN(t,e,n),a;switch(r=Oy(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=T_e(i,s))&&(r.precision=a),sz(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=k_e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=P_e(i))&&(r.precision=a-(r.type==="%")*2);break}}return rk(r)}function Ku(t){var e=t.domain;return t.ticks=function(n){var r=e();return kN(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return oz(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=jN(s,o,n),c===l)return r[i]=s,r[a]=o,e(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function mx(){var t=tk();return t.copy=function(){return qv(t,mx())},qs.apply(t,arguments),Ku(t)}function lz(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,dx),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return lz(t).unknown(e)},t=arguments.length?Array.from(t,dx):[0,1],Ku(n)}function cz(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function xL(t){return Math.log(t)}function wL(t){return Math.exp(t)}function j_e(t){return-Math.log(-t)}function C_e(t){return-Math.exp(-t)}function I_e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function O_e(t){return t===10?I_e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function R_e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function _L(t){return(e,n)=>-t(-e,n)}function ik(t){const e=t(xL,wL),n=e.domain;let r=10,i,a;function s(){return i=R_e(r),a=O_e(r),n()[0]<0?(i=_L(i),a=_L(a),t(j_e,C_e)):t(xL,wL),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=i(c),p=i(u),y,b;const x=o==null?10:+o;let v=[];if(!(r%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(y=1;y<r;++y)if(b=h<0?y/a(-h):y*a(h),!(b<c)){if(b>u)break;v.push(b)}}else for(;h<=p;++h)for(y=r-1;y>=1;--y)if(b=h>0?y/a(-h):y*a(h),!(b<c)){if(b>u)break;v.push(b)}v.length*2<x&&(v=kN(c,u,x))}else v=kN(h,p,Math.min(p-h,x)).map(a);return f?v.reverse():v},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Oy(l)).precision==null&&(l.trim=!0),l=rk(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},e.nice=()=>n(cz(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function uz(){const t=ik(mw()).domain([1,10]);return t.copy=()=>qv(t,uz()).base(t.base()),qs.apply(t,arguments),t}function SL(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function AL(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ak(t){var e=1,n=t(SL(e),AL(e));return n.constant=function(r){return arguments.length?t(SL(e=+r),AL(e)):e},Ku(n)}function fz(){var t=ak(mw());return t.copy=function(){return qv(t,fz()).constant(t.constant())},qs.apply(t,arguments)}function NL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function L_e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function M_e(t){return t<0?-t*t:t*t}function sk(t){var e=t(ca,ca),n=1;function r(){return n===1?t(ca,ca):n===.5?t(L_e,M_e):t(NL(n),NL(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ku(e)}function ok(){var t=sk(mw());return t.copy=function(){return qv(t,ok()).exponent(t.exponent())},qs.apply(t,arguments),t}function D_e(){return ok.apply(null,arguments).exponent(.5)}function EL(t){return Math.sign(t)*t*t}function F_e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function dz(){var t=tk(),e=[0,1],n=!1,r;function i(a){var s=F_e(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(EL(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,dx)).map(EL)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return dz(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},qs.apply(i,arguments),Ku(i)}function hz(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=z5e(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Vv(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Au),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return hz().domain(t).range(e).unknown(r)},qs.apply(a,arguments)}function pz(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Vv(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return pz().domain([t,e]).range(i).unknown(a)},qs.apply(Ku(s),arguments)}function mz(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Vv(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return mz().domain(t).range(e).unknown(n)},qs.apply(i,arguments)}const p_=new Date,m_=new Date;function ii(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>ii(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(p_.setTime(+a),m_.setTime(+s),t(p_),t(m_),Math.floor(n(p_,m_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const gx=ii(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);gx.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ii(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):gx);gx.range;const Bl=1e3,Os=Bl*60,Ul=Os*60,oc=Ul*24,lk=oc*7,PL=oc*30,g_=oc*365,Lf=ii(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Bl)},(t,e)=>(e-t)/Bl,t=>t.getUTCSeconds());Lf.range;const ck=ii(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bl)},(t,e)=>{t.setTime(+t+e*Os)},(t,e)=>(e-t)/Os,t=>t.getMinutes());ck.range;const uk=ii(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Os)},(t,e)=>(e-t)/Os,t=>t.getUTCMinutes());uk.range;const fk=ii(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bl-t.getMinutes()*Os)},(t,e)=>{t.setTime(+t+e*Ul)},(t,e)=>(e-t)/Ul,t=>t.getHours());fk.range;const dk=ii(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ul)},(t,e)=>(e-t)/Ul,t=>t.getUTCHours());dk.range;const Wv=ii(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Os)/oc,t=>t.getDate()-1);Wv.range;const gw=ii(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/oc,t=>t.getUTCDate()-1);gw.range;const gz=ii(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/oc,t=>Math.floor(t/oc));gz.range;function wd(t){return ii(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Os)/lk)}const yw=wd(0),yx=wd(1),$_e=wd(2),B_e=wd(3),mp=wd(4),U_e=wd(5),V_e=wd(6);yw.range;yx.range;$_e.range;B_e.range;mp.range;U_e.range;V_e.range;function _d(t){return ii(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/lk)}const vw=_d(0),vx=_d(1),z_e=_d(2),q_e=_d(3),gp=_d(4),W_e=_d(5),H_e=_d(6);vw.range;vx.range;z_e.range;q_e.range;gp.range;W_e.range;H_e.range;const hk=ii(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());hk.range;const pk=ii(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());pk.range;const lc=ii(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());lc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ii(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});lc.range;const cc=ii(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());cc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ii(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});cc.range;function yz(t,e,n,r,i,a){const s=[[Lf,1,Bl],[Lf,5,5*Bl],[Lf,15,15*Bl],[Lf,30,30*Bl],[a,1,Os],[a,5,5*Os],[a,15,15*Os],[a,30,30*Os],[i,1,Ul],[i,3,3*Ul],[i,6,6*Ul],[i,12,12*Ul],[r,1,oc],[r,2,2*oc],[n,1,lk],[e,1,PL],[e,3,3*PL],[t,1,g_]];function o(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),y=p?p.range(c,+u+1):[];return h?y.reverse():y}function l(c,u,f){const h=Math.abs(u-c)/f,p=X4(([,,x])=>x).right(s,h);if(p===s.length)return t.every(CN(c/g_,u/g_,f));if(p===0)return gx.every(Math.max(CN(c,u,f),1));const[y,b]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return y.every(b)}return[o,l]}const[G_e,K_e]=yz(cc,pk,vw,gz,dk,uk),[Y_e,X_e]=yz(lc,hk,yw,Wv,fk,ck);function y_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function v_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Q_e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=zm(i),u=qm(i),f=zm(a),h=qm(a),p=zm(s),y=qm(s),b=zm(o),x=qm(o),v=zm(l),w=qm(l),_={a:re,A:Y,b:ae,B:ue,c:null,d:OL,e:OL,f:xSe,g:jSe,G:ISe,H:ySe,I:vSe,j:bSe,L:vz,m:wSe,M:_Se,p:he,q:$,Q:ML,s:DL,S:SSe,u:ASe,U:NSe,V:ESe,w:PSe,W:TSe,x:null,X:null,y:kSe,Y:CSe,Z:OSe,"%":LL},A={a:H,A:ie,b:se,B:le,c:null,d:RL,e:RL,f:DSe,g:GSe,G:YSe,H:RSe,I:LSe,j:MSe,L:xz,m:FSe,M:$Se,p:ge,q:Ae,Q:ML,s:DL,S:BSe,u:USe,U:VSe,V:zSe,w:qSe,W:WSe,x:null,X:null,y:HSe,Y:KSe,Z:XSe,"%":LL},E={a:M,A:P,b:I,B:j,c:B,d:CL,e:CL,f:hSe,g:jL,G:kL,H:IL,I:IL,j:cSe,L:dSe,m:lSe,M:uSe,p:k,q:oSe,Q:mSe,s:gSe,S:fSe,u:nSe,U:rSe,V:iSe,w:tSe,W:aSe,x:G,X:Z,y:jL,Y:kL,Z:sSe,"%":pSe};_.x=O(n,_),_.X=O(r,_),_.c=O(e,_),A.x=O(n,A),A.X=O(r,A),A.c=O(e,A);function O(fe,we){return function(Ee){var ve=[],Le=-1,$e=0,Q=fe.length,Me,ct,Je;for(Ee instanceof Date||(Ee=new Date(+Ee));++Le<Q;)fe.charCodeAt(Le)===37&&(ve.push(fe.slice($e,Le)),(ct=TL[Me=fe.charAt(++Le)])!=null?Me=fe.charAt(++Le):ct=Me==="e"?" ":"0",(Je=we[Me])&&(Me=Je(Ee,ct)),ve.push(Me),$e=Le+1);return ve.push(fe.slice($e,Le)),ve.join("")}}function C(fe,we){return function(Ee){var ve=Vm(1900,void 0,1),Le=N(ve,fe,Ee+="",0),$e,Q;if(Le!=Ee.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(we&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?($e=v_(Vm(ve.y,0,1)),Q=$e.getUTCDay(),$e=Q>4||Q===0?vx.ceil($e):vx($e),$e=gw.offset($e,(ve.V-1)*7),ve.y=$e.getUTCFullYear(),ve.m=$e.getUTCMonth(),ve.d=$e.getUTCDate()+(ve.w+6)%7):($e=y_(Vm(ve.y,0,1)),Q=$e.getDay(),$e=Q>4||Q===0?yx.ceil($e):yx($e),$e=Wv.offset($e,(ve.V-1)*7),ve.y=$e.getFullYear(),ve.m=$e.getMonth(),ve.d=$e.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),Q="Z"in ve?v_(Vm(ve.y,0,1)).getUTCDay():y_(Vm(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(Q+5)%7:ve.w+ve.U*7-(Q+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,v_(ve)):y_(ve)}}function N(fe,we,Ee,ve){for(var Le=0,$e=we.length,Q=Ee.length,Me,ct;Le<$e;){if(ve>=Q)return-1;if(Me=we.charCodeAt(Le++),Me===37){if(Me=we.charAt(Le++),ct=E[Me in TL?we.charAt(Le++):Me],!ct||(ve=ct(fe,Ee,ve))<0)return-1}else if(Me!=Ee.charCodeAt(ve++))return-1}return ve}function k(fe,we,Ee){var ve=c.exec(we.slice(Ee));return ve?(fe.p=u.get(ve[0].toLowerCase()),Ee+ve[0].length):-1}function M(fe,we,Ee){var ve=p.exec(we.slice(Ee));return ve?(fe.w=y.get(ve[0].toLowerCase()),Ee+ve[0].length):-1}function P(fe,we,Ee){var ve=f.exec(we.slice(Ee));return ve?(fe.w=h.get(ve[0].toLowerCase()),Ee+ve[0].length):-1}function I(fe,we,Ee){var ve=v.exec(we.slice(Ee));return ve?(fe.m=w.get(ve[0].toLowerCase()),Ee+ve[0].length):-1}function j(fe,we,Ee){var ve=b.exec(we.slice(Ee));return ve?(fe.m=x.get(ve[0].toLowerCase()),Ee+ve[0].length):-1}function B(fe,we,Ee){return N(fe,e,we,Ee)}function G(fe,we,Ee){return N(fe,n,we,Ee)}function Z(fe,we,Ee){return N(fe,r,we,Ee)}function re(fe){return s[fe.getDay()]}function Y(fe){return a[fe.getDay()]}function ae(fe){return l[fe.getMonth()]}function ue(fe){return o[fe.getMonth()]}function he(fe){return i[+(fe.getHours()>=12)]}function $(fe){return 1+~~(fe.getMonth()/3)}function H(fe){return s[fe.getUTCDay()]}function ie(fe){return a[fe.getUTCDay()]}function se(fe){return l[fe.getUTCMonth()]}function le(fe){return o[fe.getUTCMonth()]}function ge(fe){return i[+(fe.getUTCHours()>=12)]}function Ae(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var we=O(fe+="",_);return we.toString=function(){return fe},we},parse:function(fe){var we=C(fe+="",!1);return we.toString=function(){return fe},we},utcFormat:function(fe){var we=O(fe+="",A);return we.toString=function(){return fe},we},utcParse:function(fe){var we=C(fe+="",!0);return we.toString=function(){return fe},we}}}var TL={"-":"",_:" ",0:"0"},pi=/^\s*\d+/,J_e=/^%/,Z_e=/[\\^$*+?|[\]().{}]/g;function fn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function eSe(t){return t.replace(Z_e,"\\$&")}function zm(t){return new RegExp("^(?:"+t.map(eSe).join("|")+")","i")}function qm(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function tSe(t,e,n){var r=pi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function nSe(t,e,n){var r=pi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function rSe(t,e,n){var r=pi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function iSe(t,e,n){var r=pi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function aSe(t,e,n){var r=pi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function kL(t,e,n){var r=pi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function jL(t,e,n){var r=pi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function sSe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function oSe(t,e,n){var r=pi.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function lSe(t,e,n){var r=pi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function CL(t,e,n){var r=pi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function cSe(t,e,n){var r=pi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function IL(t,e,n){var r=pi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function uSe(t,e,n){var r=pi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function fSe(t,e,n){var r=pi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function dSe(t,e,n){var r=pi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function hSe(t,e,n){var r=pi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function pSe(t,e,n){var r=J_e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function mSe(t,e,n){var r=pi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function gSe(t,e,n){var r=pi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function OL(t,e){return fn(t.getDate(),e,2)}function ySe(t,e){return fn(t.getHours(),e,2)}function vSe(t,e){return fn(t.getHours()%12||12,e,2)}function bSe(t,e){return fn(1+Wv.count(lc(t),t),e,3)}function vz(t,e){return fn(t.getMilliseconds(),e,3)}function xSe(t,e){return vz(t,e)+"000"}function wSe(t,e){return fn(t.getMonth()+1,e,2)}function _Se(t,e){return fn(t.getMinutes(),e,2)}function SSe(t,e){return fn(t.getSeconds(),e,2)}function ASe(t){var e=t.getDay();return e===0?7:e}function NSe(t,e){return fn(yw.count(lc(t)-1,t),e,2)}function bz(t){var e=t.getDay();return e>=4||e===0?mp(t):mp.ceil(t)}function ESe(t,e){return t=bz(t),fn(mp.count(lc(t),t)+(lc(t).getDay()===4),e,2)}function PSe(t){return t.getDay()}function TSe(t,e){return fn(yx.count(lc(t)-1,t),e,2)}function kSe(t,e){return fn(t.getFullYear()%100,e,2)}function jSe(t,e){return t=bz(t),fn(t.getFullYear()%100,e,2)}function CSe(t,e){return fn(t.getFullYear()%1e4,e,4)}function ISe(t,e){var n=t.getDay();return t=n>=4||n===0?mp(t):mp.ceil(t),fn(t.getFullYear()%1e4,e,4)}function OSe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+fn(e/60|0,"0",2)+fn(e%60,"0",2)}function RL(t,e){return fn(t.getUTCDate(),e,2)}function RSe(t,e){return fn(t.getUTCHours(),e,2)}function LSe(t,e){return fn(t.getUTCHours()%12||12,e,2)}function MSe(t,e){return fn(1+gw.count(cc(t),t),e,3)}function xz(t,e){return fn(t.getUTCMilliseconds(),e,3)}function DSe(t,e){return xz(t,e)+"000"}function FSe(t,e){return fn(t.getUTCMonth()+1,e,2)}function $Se(t,e){return fn(t.getUTCMinutes(),e,2)}function BSe(t,e){return fn(t.getUTCSeconds(),e,2)}function USe(t){var e=t.getUTCDay();return e===0?7:e}function VSe(t,e){return fn(vw.count(cc(t)-1,t),e,2)}function wz(t){var e=t.getUTCDay();return e>=4||e===0?gp(t):gp.ceil(t)}function zSe(t,e){return t=wz(t),fn(gp.count(cc(t),t)+(cc(t).getUTCDay()===4),e,2)}function qSe(t){return t.getUTCDay()}function WSe(t,e){return fn(vx.count(cc(t)-1,t),e,2)}function HSe(t,e){return fn(t.getUTCFullYear()%100,e,2)}function GSe(t,e){return t=wz(t),fn(t.getUTCFullYear()%100,e,2)}function KSe(t,e){return fn(t.getUTCFullYear()%1e4,e,4)}function YSe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?gp(t):gp.ceil(t),fn(t.getUTCFullYear()%1e4,e,4)}function XSe(){return"+0000"}function LL(){return"%"}function ML(t){return+t}function DL(t){return Math.floor(+t/1e3)}var Bd,_z,Sz;QSe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function QSe(t){return Bd=Q_e(t),_z=Bd.format,Bd.parse,Sz=Bd.utcFormat,Bd.utcParse,Bd}function JSe(t){return new Date(t)}function ZSe(t){return t instanceof Date?+t:+new Date(+t)}function mk(t,e,n,r,i,a,s,o,l,c){var u=tk(),f=u.invert,h=u.domain,p=c(".%L"),y=c(":%S"),b=c("%I:%M"),x=c("%I %p"),v=c("%a %d"),w=c("%b %d"),_=c("%B"),A=c("%Y");function E(O){return(l(O)<O?p:o(O)<O?y:s(O)<O?b:a(O)<O?x:r(O)<O?i(O)<O?v:w:n(O)<O?_:A)(O)}return u.invert=function(O){return new Date(f(O))},u.domain=function(O){return arguments.length?h(Array.from(O,ZSe)):h().map(JSe)},u.ticks=function(O){var C=h();return t(C[0],C[C.length-1],O??10)},u.tickFormat=function(O,C){return C==null?E:c(C)},u.nice=function(O){var C=h();return(!O||typeof O.range!="function")&&(O=e(C[0],C[C.length-1],O??10)),O?h(cz(C,O)):u},u.copy=function(){return qv(u,mk(t,e,n,r,i,a,s,o,l,c))},u}function eAe(){return qs.apply(mk(Y_e,X_e,lc,hk,yw,Wv,fk,ck,Lf,_z).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function tAe(){return qs.apply(mk(G_e,K_e,cc,pk,vw,gw,dk,uk,Lf,Sz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function bw(){var t=0,e=1,n,r,i,a,s=ca,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(h){var p,y;return arguments.length?([p,y]=h,s=f(p,y),c):[s(0),s(1)]}}return c.range=u(tm),c.rangeRound=u(ek),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function Yu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Az(){var t=Ku(bw()(ca));return t.copy=function(){return Yu(t,Az())},vc.apply(t,arguments)}function Nz(){var t=ik(bw()).domain([1,10]);return t.copy=function(){return Yu(t,Nz()).base(t.base())},vc.apply(t,arguments)}function Ez(){var t=ak(bw());return t.copy=function(){return Yu(t,Ez()).constant(t.constant())},vc.apply(t,arguments)}function gk(){var t=sk(bw());return t.copy=function(){return Yu(t,gk()).exponent(t.exponent())},vc.apply(t,arguments)}function nAe(){return gk.apply(null,arguments).exponent(.5)}function Pz(){var t=[],e=ca;function n(r){if(r!=null&&!isNaN(r=+r))return e((Vv(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Au),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>V5e(t,a/r))},n.copy=function(){return Pz(e).domain(t)},vc.apply(n,arguments)}function xw(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,c=ca,u,f=!1,h;function p(b){return isNaN(b=+b)?h:(b=.5+((b=+u(b))-a)*(r*b<r*a?o:l),c(f?Math.max(0,Math.min(1,b)):b))}p.domain=function(b){return arguments.length?([t,e,n]=b,i=u(t=+t),a=u(e=+e),s=u(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(b){return arguments.length?(f=!!b,p):f},p.interpolator=function(b){return arguments.length?(c=b,p):c};function y(b){return function(x){var v,w,_;return arguments.length?([v,w,_]=x,c=p_e(b,[v,w,_]),p):[c(0),c(.5),c(1)]}}return p.range=y(tm),p.rangeRound=y(ek),p.unknown=function(b){return arguments.length?(h=b,p):h},function(b){return u=b,i=b(t),a=b(e),s=b(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function Tz(){var t=Ku(xw()(ca));return t.copy=function(){return Yu(t,Tz())},vc.apply(t,arguments)}function kz(){var t=ik(xw()).domain([.1,1,10]);return t.copy=function(){return Yu(t,kz()).base(t.base())},vc.apply(t,arguments)}function jz(){var t=ak(xw());return t.copy=function(){return Yu(t,jz()).constant(t.constant())},vc.apply(t,arguments)}function yk(){var t=sk(xw());return t.copy=function(){return Yu(t,yk()).exponent(t.exponent())},vc.apply(t,arguments)}function rAe(){return yk.apply(null,arguments).exponent(.5)}const FL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ky,scaleDiverging:Tz,scaleDivergingLog:kz,scaleDivergingPow:yk,scaleDivergingSqrt:rAe,scaleDivergingSymlog:jz,scaleIdentity:lz,scaleImplicit:IN,scaleLinear:mx,scaleLog:uz,scaleOrdinal:Q4,scalePoint:Og,scalePow:ok,scaleQuantile:hz,scaleQuantize:pz,scaleRadial:dz,scaleSequential:Az,scaleSequentialLog:Nz,scaleSequentialPow:gk,scaleSequentialQuantile:Pz,scaleSequentialSqrt:nAe,scaleSequentialSymlog:Ez,scaleSqrt:D_e,scaleSymlog:fz,scaleThreshold:mz,scaleTime:eAe,scaleUtc:tAe,tickFormat:oz},Symbol.toStringTag,{value:"Module"}));var iAe=Wp;function aAe(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(o===void 0?s===s&&!iAe(s):n(s,o)))var o=s,l=a}return l}var Cz=aAe;function sAe(t,e){return t>e}var oAe=sAe,lAe=Cz,cAe=oAe,uAe=Zp;function fAe(t){return t&&t.length?lAe(t,uAe,cAe):void 0}var dAe=fAe;const lu=Ln(dAe);function hAe(t,e){return t<e}var pAe=hAe,mAe=Cz,gAe=pAe,yAe=Zp;function vAe(t){return t&&t.length?mAe(t,yAe,gAe):void 0}var bAe=vAe;const ww=Ln(bAe);var xAe=C4,wAe=Gu,_Ae=BV,SAe=ka;function AAe(t,e){var n=SAe(t)?xAe:_Ae;return n(t,wAe(e))}var NAe=AAe,EAe=FV,PAe=NAe;function TAe(t,e){return EAe(PAe(t,e),1)}var kAe=TAe;const jAe=Ln(kAe);var CAe=H4;function IAe(t,e){return CAe(t,e)}var OAe=IAe;const Ry=Ln(OAe);var nm=1e9,RAe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},bk,nr=!0,Us="[DecimalError] ",qf=Us+"Invalid argument: ",vk=Us+"Exponent out of range: ",rm=Math.floor,Af=Math.pow,LAe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ka,ui=1e7,Gn=7,Iz=9007199254740991,bx=rm(Iz/Gn),Qe={};Qe.absoluteValue=Qe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Qe.comparedTo=Qe.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Qe.decimalPlaces=Qe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Gn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Qe.dividedBy=Qe.div=function(t){return Xl(this,new this.constructor(t))};Qe.dividedToIntegerBy=Qe.idiv=function(t){var e=this,n=e.constructor;return Rn(Xl(e,new n(t),0,1),n.precision)};Qe.equals=Qe.eq=function(t){return!this.cmp(t)};Qe.exponent=function(){return Wr(this)};Qe.greaterThan=Qe.gt=function(t){return this.cmp(t)>0};Qe.greaterThanOrEqualTo=Qe.gte=function(t){return this.cmp(t)>=0};Qe.isInteger=Qe.isint=function(){return this.e>this.d.length-2};Qe.isNegative=Qe.isneg=function(){return this.s<0};Qe.isPositive=Qe.ispos=function(){return this.s>0};Qe.isZero=function(){return this.s===0};Qe.lessThan=Qe.lt=function(t){return this.cmp(t)<0};Qe.lessThanOrEqualTo=Qe.lte=function(t){return this.cmp(t)<1};Qe.logarithm=Qe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ka))throw Error(Us+"NaN");if(n.s<1)throw Error(Us+(n.s?"NaN":"-Infinity"));return n.eq(Ka)?new r(0):(nr=!1,e=Xl(Ly(n,a),Ly(t,a),a),nr=!0,Rn(e,i))};Qe.minus=Qe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Lz(e,t):Oz(e,(t.s=-t.s,t))};Qe.modulo=Qe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Us+"NaN");return n.s?(nr=!1,e=Xl(n,t,0,1).times(t),nr=!0,n.minus(e)):Rn(new r(n),i)};Qe.naturalExponential=Qe.exp=function(){return Rz(this)};Qe.naturalLogarithm=Qe.ln=function(){return Ly(this)};Qe.negated=Qe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Qe.plus=Qe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Oz(e,t):Lz(e,(t.s=-t.s,t))};Qe.precision=Qe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(qf+t);if(e=Wr(i)+1,r=i.d.length-1,n=r*Gn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Qe.squareRoot=Qe.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Us+"NaN")}for(t=Wr(o),nr=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=qo(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=rm((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Xl(o,a,s+2)).times(.5),qo(a.d).slice(0,s)===(e=qo(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Rn(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return nr=!0,Rn(r,n)};Qe.times=Qe.mul=function(t){var e,n,r,i,a,s,o,l,c,u=this,f=u.constructor,h=u.d,p=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,n=u.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+p[r]*h[i-r-1]+e,a[i--]=o%ui|0,e=o/ui|0;a[i]=(a[i]+e)%ui|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,nr?Rn(t,f.precision):t};Qe.toDecimalPlaces=Qe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ll(t,0,nm),e===void 0?e=r.rounding:ll(e,0,8),Rn(n,t+Wr(n)+1,e))};Qe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=sd(r,!0):(ll(t,0,nm),e===void 0?e=i.rounding:ll(e,0,8),r=Rn(new i(r),t+1,e),n=sd(r,!0,t+1)),n};Qe.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?sd(i):(ll(t,0,nm),e===void 0?e=a.rounding:ll(e,0,8),r=Rn(new a(i),t+Wr(i)+1,e),n=sd(r.abs(),!1,t+Wr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Qe.toInteger=Qe.toint=function(){var t=this,e=t.constructor;return Rn(new e(t),Wr(t)+1,e.rounding)};Qe.toNumber=function(){return+this};Qe.toPower=Qe.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Ka);if(o=new l(o),!o.s){if(t.s<1)throw Error(Us+"Infinity");return o}if(o.eq(Ka))return o;if(r=l.precision,t.eq(Ka))return Rn(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=u<0?-u:u)<=Iz){for(i=new l(Ka),e=Math.ceil(r/Gn+4),nr=!1;n%2&&(i=i.times(o),BL(i.d,e)),n=rm(n/2),n!==0;)o=o.times(o),BL(o.d,e);return nr=!0,t.s<0?new l(Ka).div(i):Rn(i,r)}}else if(a<0)throw Error(Us+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,nr=!1,i=t.times(Ly(o,r+c)),nr=!0,i=Rz(i),i.s=a,i};Qe.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Wr(i),r=sd(i,n<=a.toExpNeg||n>=a.toExpPos)):(ll(t,1,nm),e===void 0?e=a.rounding:ll(e,0,8),i=Rn(new a(i),t,e),n=Wr(i),r=sd(i,t<=n||n<=a.toExpNeg,t)),r};Qe.toSignificantDigits=Qe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ll(t,1,nm),e===void 0?e=r.rounding:ll(e,0,8)),Rn(new r(n),t,e)};Qe.toString=Qe.valueOf=Qe.val=Qe.toJSON=Qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Wr(t),n=t.constructor;return sd(t,e<=n.toExpNeg||e>=n.toExpPos)};function Oz(t,e){var n,r,i,a,s,o,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),nr?Rn(e,f):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(f/Gn),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/ui|0,l[a]%=ui;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,nr?Rn(e,f):e}function ll(t,e,n){if(t!==~~t||t<e||t>n)throw Error(qf+t)}function qo(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Gn-r.length,n&&(a+=Yc(n)),a+=r;s=t[e],r=s+"",n=Gn-r.length,n&&(a+=Yc(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Xl=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%ui|0,s=a/ui|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*ui+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,u,f,h,p,y,b,x,v,w,_,A,E,O,C,N,k=r.constructor,M=r.s==i.s?1:-1,P=r.d,I=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Us+"Division by zero");for(l=r.e-i.e,C=I.length,E=P.length,p=new k(M),y=p.d=[],c=0;I[c]==(P[c]||0);)++c;if(I[c]>(P[c]||0)&&--l,a==null?w=a=k.precision:s?w=a+(Wr(r)-Wr(i))+1:w=a,w<0)return new k(0);if(w=w/Gn+2|0,c=0,C==1)for(u=0,I=I[0],w++;(c<E||u)&&w--;c++)_=u*ui+(P[c]||0),y[c]=_/I|0,u=_%I|0;else{for(u=ui/(I[0]+1)|0,u>1&&(I=t(I,u),P=t(P,u),C=I.length,E=P.length),A=C,b=P.slice(0,C),x=b.length;x<C;)b[x++]=0;N=I.slice(),N.unshift(0),O=I[0],I[1]>=ui/2&&++O;do u=0,o=e(I,b,C,x),o<0?(v=b[0],C!=x&&(v=v*ui+(b[1]||0)),u=v/O|0,u>1?(u>=ui&&(u=ui-1),f=t(I,u),h=f.length,x=b.length,o=e(f,b,h,x),o==1&&(u--,n(f,C<h?N:I,h))):(u==0&&(o=u=1),f=I.slice()),h=f.length,h<x&&f.unshift(0),n(b,f,x),o==-1&&(x=b.length,o=e(I,b,C,x),o<1&&(u++,n(b,C<x?N:I,x))),x=b.length):o===0&&(u++,b=[0]),y[c++]=u,o&&b[0]?b[x++]=P[A]||0:(b=[P[A]],x=1);while((A++<E||b[0]!==void 0)&&w--)}return y[0]||y.shift(),p.e=l,Rn(p,s?a+Wr(p)+1:a)}}();function Rz(t,e){var n,r,i,a,s,o,l=0,c=0,u=t.constructor,f=u.precision;if(Wr(t)>16)throw Error(vk+Wr(t));if(!t.s)return new u(Ka);for(nr=!1,o=f,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(Af(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new u(Ka),u.precision=o;;){if(i=Rn(i.times(t),o),n=n.times(++l),s=a.plus(Xl(i,n,o)),qo(s.d).slice(0,o)===qo(a.d).slice(0,o)){for(;c--;)a=Rn(a.times(a),o);return u.precision=f,e==null?(nr=!0,Rn(a,f)):a}a=s}}function Wr(t){for(var e=t.e*Gn,n=t.d[0];n>=10;n/=10)e++;return e}function b_(t,e,n){if(e>t.LN10.sd())throw nr=!0,n&&(t.precision=n),Error(Us+"LN10 precision limit exceeded");return Rn(new t(t.LN10),e)}function Yc(t){for(var e="";t--;)e+="0";return e}function Ly(t,e){var n,r,i,a,s,o,l,c,u,f=1,h=10,p=t,y=p.d,b=p.constructor,x=b.precision;if(p.s<1)throw Error(Us+(p.s?"NaN":"-Infinity"));if(p.eq(Ka))return new b(0);if(e==null?(nr=!1,c=x):c=e,p.eq(10))return e==null&&(nr=!0),b_(b,c);if(c+=h,b.precision=c,n=qo(y),r=n.charAt(0),a=Wr(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=qo(p.d),r=n.charAt(0),f++;a=Wr(p),r>1?(p=new b("0."+n),a++):p=new b(r+"."+n.slice(1))}else return l=b_(b,c+2,x).times(a+""),p=Ly(new b(r+"."+n.slice(1)),c-h).plus(l),b.precision=x,e==null?(nr=!0,Rn(p,x)):p;for(o=s=p=Xl(p.minus(Ka),p.plus(Ka),c),u=Rn(p.times(p),c),i=3;;){if(s=Rn(s.times(u),c),l=o.plus(Xl(s,new b(i),c)),qo(l.d).slice(0,c)===qo(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(b_(b,c+2,x).times(a+""))),o=Xl(o,new b(f),c),b.precision=x,e==null?(nr=!0,Rn(o,x)):o;o=l,i+=2}}function $L(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=rm(n/Gn),t.d=[],r=(n+1)%Gn,n<0&&(r+=Gn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Gn;r<i;)t.d.push(+e.slice(r,r+=Gn));e=e.slice(r),r=Gn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),nr&&(t.e>bx||t.e<-bx))throw Error(vk+n)}else t.s=0,t.e=0,t.d=[0];return t}function Rn(t,e,n){var r,i,a,s,o,l,c,u,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Gn,i=e,c=f[u=0];else{if(u=Math.ceil((r+1)/Gn),a=f.length,u>=a)return t;for(c=a=f[u],s=1;a>=10;a/=10)s++;r%=Gn,i=r-Gn+s}if(n!==void 0&&(a=Af(10,s-i-1),o=c/a%10|0,l=e<0||f[u+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/Af(10,s-i):0:f[u-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=Wr(t),f.length=1,e=e-a-1,f[0]=Af(10,(Gn-e%Gn)%Gn),t.e=rm(-e/Gn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=u,a=1,u--):(f.length=u+1,a=Af(10,Gn-r),f[u]=i>0?(c/Af(10,s-i)%Af(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==ui&&(f[0]=1,++t.e);break}else{if(f[u]+=a,f[u]!=ui)break;f[u--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(nr&&(t.e>bx||t.e<-bx))throw Error(vk+Wr(t));return t}function Lz(t,e){var n,r,i,a,s,o,l,c,u,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),nr?Rn(e,p):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(u=s<0,u?(n=l,s=-s,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(p/Gn),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}s=0}for(u&&(n=l,l=f,f=n,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=ui-1;--l[a],l[i]+=ui}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,nr?Rn(e,p):e):new h(0)}function sd(t,e,n){var r,i=Wr(t),a=qo(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Yc(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Yc(-i-1)+a,n&&(r=n-s)>0&&(a+=Yc(r))):i>=s?(a+=Yc(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Yc(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Yc(r))),t.s<0?"-"+a:a}function BL(t,e){if(t.length>e)return t.length=e,!0}function Mz(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(qf+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return $L(s,a.toString())}else if(typeof a!="string")throw Error(qf+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,LAe.test(a))$L(s,a);else throw Error(qf+a)}if(i.prototype=Qe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Mz,i.config=i.set=MAe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function MAe(t){if(!t||typeof t!="object")throw Error(Us+"Object expected");var e,n,r,i=["precision",1,nm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(rm(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(qf+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(qf+n+": "+r);return this}var bk=Mz(RAe);Ka=new bk(1);const Pn=bk;function DAe(t){return UAe(t)||BAe(t)||$Ae(t)||FAe()}function FAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ae(t,e){if(t){if(typeof t=="string")return MN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MN(t,e)}}function BAe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function UAe(t){if(Array.isArray(t))return MN(t)}function MN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var VAe=function(e){return e},Dz={},Fz=function(e){return e===Dz},UL=function(e){return function n(){return arguments.length===0||arguments.length===1&&Fz(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},zAe=function t(e,n){return e===1?n:UL(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==Dz}).length;return s>=e?n.apply(void 0,i):t(e-s,UL(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(f){return Fz(f)?l.shift():f});return n.apply(void 0,DAe(u).concat(l))}))})},_w=function(e){return zAe(e.length,e)},DN=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},qAe=_w(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),WAe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return VAe;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},FN=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},$z=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,l){return o===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function HAe(t){var e;return t===0?e=1:e=Math.floor(new Pn(t).abs().log(10).toNumber())+1,e}function GAe(t,e,n){for(var r=new Pn(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var KAe=_w(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),YAe=_w(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),XAe=_w(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Sw={rangeStep:GAe,getDigitCount:HAe,interpolateNumber:KAe,uninterpolateNumber:YAe,uninterpolateTruncation:XAe};function $N(t){return ZAe(t)||JAe(t)||Bz(t)||QAe()}function QAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JAe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ZAe(t){if(Array.isArray(t))return BN(t)}function My(t,e){return nNe(t)||tNe(t,e)||Bz(t,e)||eNe()}function eNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bz(t,e){if(t){if(typeof t=="string")return BN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BN(t,e)}}function BN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tNe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function nNe(t){if(Array.isArray(t))return t}function Uz(t){var e=My(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function Vz(t,e,n){if(t.lte(0))return new Pn(0);var r=Sw.getDigitCount(t.toNumber()),i=new Pn(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new Pn(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?l:new Pn(Math.ceil(l))}function rNe(t,e,n){var r=1,i=new Pn(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Pn(10).pow(Sw.getDigitCount(t)-1),i=new Pn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Pn(Math.floor(t)))}else t===0?i=new Pn(Math.floor((e-1)/2)):n||(i=new Pn(Math.floor(t)));var s=Math.floor((e-1)/2),o=WAe(qAe(function(l){return i.add(new Pn(l-s).mul(r)).toNumber()}),DN);return o(0,e)}function zz(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Pn(0),tickMin:new Pn(0),tickMax:new Pn(0)};var a=Vz(new Pn(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Pn(0):(s=new Pn(t).add(e).div(2),s=s.sub(new Pn(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new Pn(e).sub(s).div(a).toNumber()),c=o+l+1;return c>n?zz(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:a,tickMin:s.sub(new Pn(o).mul(a)),tickMax:s.add(new Pn(l).mul(a))})}function iNe(t){var e=My(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=Uz([n,r]),l=My(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat($N(DN(0,i-1).map(function(){return 1/0}))):[].concat($N(DN(0,i-1).map(function(){return-1/0})),[u]);return n>r?FN(f):f}if(c===u)return rNe(c,i,a);var h=zz(c,u,s,a),p=h.step,y=h.tickMin,b=h.tickMax,x=Sw.rangeStep(y,b.add(new Pn(.1).mul(p)),p);return n>r?FN(x):x}function aNe(t,e){var n=My(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Uz([r,i]),o=My(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),f=Vz(new Pn(c).sub(l).div(u-1),a,0),h=[].concat($N(Sw.rangeStep(new Pn(l),new Pn(c).sub(new Pn(.99).mul(f)),f)),[c]);return r>i?FN(h):h}var sNe=$z(iNe),oNe=$z(aNe),lNe="Invariant failed";function od(t,e){throw new Error(lNe)}var cNe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}function xx(){return xx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xx.apply(this,arguments)}function uNe(t,e){return pNe(t)||hNe(t,e)||dNe(t,e)||fNe()}function fNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dNe(t,e){if(t){if(typeof t=="string")return VL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VL(t,e)}}function VL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hNe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function pNe(t){if(Array.isArray(t))return t}function mNe(t,e){if(t==null)return{};var n=gNe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hz(r.key),r)}}function bNe(t,e,n){return e&&vNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xNe(t,e,n){return e=wx(e),wNe(t,qz()?Reflect.construct(e,n||[],wx(t).constructor):e.apply(t,n))}function wNe(t,e){if(e&&(yp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ne(t)}function _Ne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qz=function(){return!!t})()}function wx(t){return wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wx(t)}function SNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UN(t,e)}function UN(t,e){return UN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UN(t,e)}function Wz(t,e,n){return e=Hz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hz(t){var e=ANe(t,"string");return yp(e)=="symbol"?e:e+""}function ANe(t,e){if(yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Aw=function(t){function e(){return yNe(this,e),xNe(this,e,arguments)}return SNe(e,t),bNe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,f=r.yAxis,h=mNe(r,cNe),p=Ht(h,!1);this.props.direction==="x"&&u.type!=="number"&&od();var y=l.map(function(b){var x=c(b,o),v=x.x,w=x.y,_=x.value,A=x.errorVal;if(!A)return null;var E=[],O,C;if(Array.isArray(A)){var N=uNe(A,2);O=N[0],C=N[1]}else O=C=A;if(a==="vertical"){var k=u.scale,M=w+i,P=M+s,I=M-s,j=k(_-O),B=k(_+C);E.push({x1:B,y1:P,x2:B,y2:I}),E.push({x1:j,y1:M,x2:B,y2:M}),E.push({x1:j,y1:P,x2:j,y2:I})}else if(a==="horizontal"){var G=f.scale,Z=v+i,re=Z-s,Y=Z+s,ae=G(_-O),ue=G(_+C);E.push({x1:re,y1:ue,x2:Y,y2:ue}),E.push({x1:Z,y1:ae,x2:Z,y2:ue}),E.push({x1:re,y1:ae,x2:Y,y2:ae})}return pe.createElement(ur,xx({className:"recharts-errorBar",key:"bar-".concat(E.map(function(he){return"".concat(he.x1,"-").concat(he.x2,"-").concat(he.y1,"-").concat(he.y2)}))},p),E.map(function(he){return pe.createElement("line",xx({},he,{key:"line-".concat(he.x1,"-").concat(he.x2,"-").concat(he.y1,"-").concat(he.y2)}))}))});return pe.createElement(ur,{className:"recharts-errorBars"},y)}}])}(pe.Component);Wz(Aw,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Wz(Aw,"displayName","ErrorBar");function Dy(t){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(t)}function zL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zL(Object(n),!0).forEach(function(r){NNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NNe(t,e,n){return e=ENe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ENe(t){var e=PNe(t,"string");return Dy(e)=="symbol"?e:e+""}function PNe(t,e){if(Dy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gz=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Ga(n,Lh);if(!s)return null;var o=Lh.defaultProps,l=o!==void 0?mf(mf({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(r||[]).reduce(function(u,f){var h=f.item,p=f.props,y=p.sectors||p.data||[];return u.concat(y.map(function(b){return{type:s.props.iconType||h.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):c=(r||[]).map(function(u){var f=u.item,h=f.type.defaultProps,p=h!==void 0?mf(mf({},h),f.props):{},y=p.dataKey,b=p.name,x=p.legendType,v=p.hide;return{inactive:v,dataKey:y,type:l.iconType||x||"square",color:xk(f),value:b||y,payload:p}}),mf(mf(mf({},l),Lh.getWithHeight(s,i)),{},{payload:c,item:s})};function Fy(t){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fy(t)}function qL(t){return CNe(t)||jNe(t)||kNe(t)||TNe()}function TNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kNe(t,e){if(t){if(typeof t=="string")return VN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VN(t,e)}}function jNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CNe(t){if(Array.isArray(t))return VN(t)}function VN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WL(Object(n),!0).forEach(function(r){Dh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dh(t,e,n){return e=INe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function INe(t){var e=ONe(t,"string");return Fy(e)=="symbol"?e:e+""}function ONe(t,e){if(Fy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function as(t,e,n){return Jt(t)||Jt(e)?n:ni(e)?Ms(t,e,n):Vt(e)?e(t):n}function Rg(t,e,n,r){var i=jAe(t,function(o){return as(o,e)});if(n==="number"){var a=i.filter(function(o){return ze(o)||parseFloat(o)});return a.length?[ww(a),lu(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!Jt(o)}):i;return s.map(function(o){return ni(o)||o instanceof Date?o:""})}var RNe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,f=i[c].coordinate,h=c>=o-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(oo(f-u)!==oo(h-f)){var y=[];if(oo(h-f)===oo(l[1]-l[0])){p=h;var b=f+l[1]-l[0];y[0]=Math.min(b,(b+u)/2),y[1]=Math.max(b,(b+u)/2)}else{p=u;var x=h+l[1]-l[0];y[0]=Math.min(f,(x+f)/2),y[1]=Math.max(f,(x+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>v[0]&&e<=v[1]||e>=y[0]&&e<=y[1]){s=i[c].index;break}}else{var w=Math.min(u,h),_=Math.max(u,h);if(e>(w+f)/2&&e<=(_+f)/2){s=i[c].index;break}}}else for(var A=0;A<o;A++)if(A===0&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A>0&&A<o-1&&e>(r[A].coordinate+r[A-1].coordinate)/2&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A===o-1&&e>(r[A].coordinate+r[A-1].coordinate)/2){s=r[A].index;break}return s},xk=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Nr(Nr({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},LNe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var u=a[o[l]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var y=u[f[h]],b=y.items,x=y.cateAxisId,v=b.filter(function(C){return Kl(C.type).indexOf("Bar")>=0});if(v&&v.length){var w=v[0].type.defaultProps,_=w!==void 0?Nr(Nr({},w),v[0].props):v[0].props,A=_.barSize,E=_[x];s[E]||(s[E]=[]);var O=Jt(A)?n:A;s[E].push({item:v[0],stackList:v.slice(1),barSize:Jt(O)?void 0:ad(O,r,0)})}}return s},MNe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=ad(n,i,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/l,y=s.reduce(function(A,E){return A+E.barSize||0},0);y+=(l-1)*c,y>=i&&(y-=(l-1)*c,c=0),y>=i&&p>0&&(h=!0,p*=.9,y=l*p);var b=(i-y)/2>>0,x={offset:b-c,size:0};u=s.reduce(function(A,E){var O={item:E.item,position:{offset:x.offset+x.size+c,size:h?p:E.barSize}},C=[].concat(qL(A),[O]);return x=C[C.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(N){C.push({item:N,position:x})}),C},f)}else{var v=ad(r,i,0,!0);i-2*v-(l-1)*c<=0&&(c=0);var w=(i-2*v-(l-1)*c)/l;w>1&&(w>>=0);var _=o===+o?Math.min(w,o):w;u=s.reduce(function(A,E,O){var C=[].concat(qL(A),[{item:E.item,position:{offset:v+(w+c)*O+(w-_)/2,size:_}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(N){C.push({item:N,position:C[C.length-1].position})}),C},f)}return u},DNe=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,l=s-(o.left||0)-(o.right||0),c=Gz({children:a,legendWidth:l});if(c){var u=i||{},f=u.width,h=u.height,p=c.align,y=c.verticalAlign,b=c.layout;if((b==="vertical"||b==="horizontal"&&y==="middle")&&p!=="center"&&ze(e[p]))return Nr(Nr({},e),{},Dh({},p,e[p]+(f||0)));if((b==="horizontal"||b==="vertical"&&p==="center")&&y!=="middle"&&ze(e[y]))return Nr(Nr({},e),{},Dh({},y,e[y]+(h||0)))}return e},FNe=function(e,n,r){return Jt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Kz=function(e,n,r,i,a){var s=n.props.children,o=fo(s,Aw).filter(function(c){return FNe(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=as(u,r);if(Jt(f))return c;var h=Array.isArray(f)?[ww(f),lu(f)]:[f,f],p=l.reduce(function(y,b){var x=as(u,b,0),v=h[0]-Math.abs(Array.isArray(x)?x[0]:x),w=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(v,y[0]),Math.max(w,y[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},$Ne=function(e,n,r,i,a){var s=n.map(function(o){return Kz(e,o,r,a,i)}).filter(function(o){return!Jt(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},Yz=function(e,n,r,i,a){var s=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&Kz(e,l,c,i)||Rg(e,c,r,a)});if(r==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},Xz=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Qz=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate});return a||o.push(n),s||o.push(r),o},Vl=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?oo(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return u.filter(function(f){return!Xp(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:a?a[f]:f,index:h,offset:c}})},x_=new WeakMap,J0=function(e,n){if(typeof n!="function")return e;x_.has(e)||x_.set(e,new WeakMap);var r=x_.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},BNe=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:ky(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:mx(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Og(),realScaleType:"point"}:a==="category"?{scale:ky(),realScaleType:"band"}:{scale:mx(),realScaleType:"linear"};if(id(i)){var l="scale".concat(lw(i));return{scale:(FL[l]||Og)(),realScaleType:FL[l]?l:"point"}}return Vt(i)?{scale:i}:{scale:Og(),realScaleType:"point"}},HL=1e-4,UNe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-HL,s=Math.max(i[0],i[1])+HL,o=e(n[0]),l=e(n[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([n[0],n[r-1]])}},VNe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},zNe=function(e,n){if(!n||n.length!==2||!ze(n[0])||!ze(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!ze(e[0])||e[0]<r)&&(a[0]=r),(!ze(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},qNe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var l=Xp(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1])}},WNe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=Xp(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},HNe={sign:qNe,expand:sge,none:cp,silhouette:oge,wiggle:lge,positive:WNe},GNe=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=HNe[r],s=age().keys(i).value(function(o,l){return+as(o,l,0)}).order(hN).offset(a);return s(e)},KNe=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,l={},c=o.reduce(function(f,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Nr(Nr({},h.type.defaultProps),h.props):h.props,b=y.stackId,x=y.hide;if(x)return f;var v=y[r],w=f[v]||{hasStack:!1,stackGroups:{}};if(ni(b)){var _=w.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),w.hasStack=!0,w.stackGroups[b]=_}else w.stackGroups[Bv("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Nr(Nr({},f),{},Dh({},v,w))},l),u={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(b,x){var v=p.stackGroups[x];return Nr(Nr({},b),{},Dh({},x,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:GNe(e,v.items,a)}))},y)}return Nr(Nr({},f),{},Dh({},h,p))},u)},YNe=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=sNe(c,a,o);return e.domain([ww(u),lu(u)]),{niceTicks:u}}if(a&&i==="number"){var f=e.domain(),h=oNe(f,a,o);return{niceTicks:h}}return null};function GL(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Jt(i[e.dataKey])){var o=Wb(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=as(i,Jt(s)?e.dataKey:s);return Jt(l)?null:e.scale(l)}var KL=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=as(s,n.dataKey,n.domain[o]);return Jt(l)?null:n.scale(l)-a/2+i},XNe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},QNe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Nr(Nr({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(ni(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},JNe=function(e){return e.reduce(function(n,r){return[ww(r.concat([n[0]]).filter(ze)),lu(r.concat([n[1]]).filter(ze))]},[1/0,-1/0])},Jz=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(c,u){var f=JNe(u.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},YL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zN=function(e,n,r){if(Vt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ze(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(YL.test(e[0])){var a=+YL.exec(e[0])[1];i[0]=n[0]-a}else Vt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ze(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(XL.test(e[1])){var s=+XL.exec(e[1])[1];i[1]=n[1]+s}else Vt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},_x=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=K4(n,function(f){return f.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},QL=function(e,n,r){return!e||!e.length||Ry(e,Ms(r,"type.defaultProps.domain"))?n:e},Zz=function(e,n){var r=e.type.defaultProps?Nr(Nr({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return Nr(Nr({},Ht(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:xk(e),value:as(n,i),type:l,payload:n,chartType:c,hide:u})};function $y(t){"@babel/helpers - typeof";return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$y(t)}function JL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JL(Object(n),!0).forEach(function(r){ZNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZNe(t,e,n){return e=eEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eEe(t){var e=tEe(t,"string");return $y(e)=="symbol"?e:e+""}function tEe(t,e){if($y(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($y(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sx=Math.PI/180,nEe=function(e){return e*180/Math.PI},Ni=function(e,n,r,i){return{x:e+Math.cos(-Sx*i)*r,y:n+Math.sin(-Sx*i)*r}},rEe=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},iEe=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=rEe({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(r-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:nEe(c),angleInRadian:c}},aEe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},sEe=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},e6=function(e,n){var r=e.x,i=e.y,a=iEe({x:r,y:i},n),s=a.radius,o=a.angle,l=n.innerRadius,c=n.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=aEe(n),f=u.startAngle,h=u.endAngle,p=o,y;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=f}return y?ZL(ZL({},n),{},{radius:s,angle:sEe(p,n)}):null};function By(t){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(t)}var oEe=["offset"];function lEe(t){return dEe(t)||fEe(t)||uEe(t)||cEe()}function cEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uEe(t,e){if(t){if(typeof t=="string")return qN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qN(t,e)}}function fEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dEe(t){if(Array.isArray(t))return qN(t)}function qN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hEe(t,e){if(t==null)return{};var n=pEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function t6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t6(Object(n),!0).forEach(function(r){mEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mEe(t,e,n){return e=gEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gEe(t){var e=yEe(t,"string");return By(e)=="symbol"?e:e+""}function yEe(t,e){if(By(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(By(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uy(){return Uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uy.apply(this,arguments)}var vEe=function(e){var n=e.value,r=e.formatter,i=Jt(e.children)?n:e.children;return Vt(r)?r(i):i},bEe=function(e,n){var r=oo(n-e),i=Math.min(Math.abs(n-e),360);return r*i},xEe=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,y=l.endAngle,b=l.clockWise,x=(f+h)/2,v=bEe(p,y),w=v>=0?1:-1,_,A;i==="insideStart"?(_=p+w*s,A=b):i==="insideEnd"?(_=y-w*s,A=!b):i==="end"&&(_=y+w*s,A=b),A=v<=0?A:!A;var E=Ni(c,u,x,_),O=Ni(c,u,x,_+(A?1:-1)*359),C="M".concat(E.x,",").concat(E.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(A?0:1,`,
    `).concat(O.x,",").concat(O.y),N=Jt(e.id)?Bv("recharts-radial-line-"):e.id;return pe.createElement("text",Uy({},r,{dominantBaseline:"central",className:on("recharts-radial-bar-label",o)}),pe.createElement("defs",null,pe.createElement("path",{id:N,d:C})),pe.createElement("textPath",{xlinkHref:"#".concat(N)},n))},wEe=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,f=a.endAngle,h=(u+f)/2;if(i==="outside"){var p=Ni(s,o,c+r,h),y=p.x,b=p.y;return{x:y,y:b,textAnchor:y>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,v=Ni(s,o,x,h),w=v.x,_=v.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},_Ee=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,h=f*i,p=f>0?"end":"start",y=f>0?"start":"end",b=c>=0?1:-1,x=b*i,v=b>0?"end":"start",w=b>0?"start":"end";if(a==="top"){var _={x:o+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Jr(Jr({},_),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var A={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:y};return Jr(Jr({},A),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(a==="left"){var E={x:o-x,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return Jr(Jr({},E),r?{width:Math.max(E.x-r.x,0),height:u}:{})}if(a==="right"){var O={x:o+c+x,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return Jr(Jr({},O),r?{width:Math.max(r.x+r.width-O.x,0),height:u}:{})}var C=r?{width:c,height:u}:{};return a==="insideLeft"?Jr({x:o+x,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},C):a==="insideRight"?Jr({x:o+c-x,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},C):a==="insideTop"?Jr({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:y},C):a==="insideBottom"?Jr({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},C):a==="insideTopLeft"?Jr({x:o+x,y:l+h,textAnchor:w,verticalAnchor:y},C):a==="insideTopRight"?Jr({x:o+c-x,y:l+h,textAnchor:v,verticalAnchor:y},C):a==="insideBottomLeft"?Jr({x:o+x,y:l+u-h,textAnchor:w,verticalAnchor:p},C):a==="insideBottomRight"?Jr({x:o+c-x,y:l+u-h,textAnchor:v,verticalAnchor:p},C):Hp(a)&&(ze(a.x)||Of(a.x))&&(ze(a.y)||Of(a.y))?Jr({x:o+ad(a.x,c),y:l+ad(a.y,u),textAnchor:"end",verticalAnchor:"end"},C):Jr({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},C)},SEe=function(e){return"cx"in e&&ze(e.cx)};function Ki(t){var e=t.offset,n=e===void 0?5:e,r=hEe(t,oEe),i=Jr({offset:n},r),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,h=i.textBreakAll;if(!a||Jt(o)&&Jt(l)&&!U.isValidElement(c)&&!Vt(c))return null;if(U.isValidElement(c))return U.cloneElement(c,i);var p;if(Vt(c)){if(p=U.createElement(c,i),U.isValidElement(p))return p}else p=vEe(i);var y=SEe(a),b=Ht(i,!0);if(y&&(s==="insideStart"||s==="insideEnd"||s==="end"))return xEe(i,p,b);var x=y?wEe(i):_Ee(i);return pe.createElement(ox,Uy({className:on("recharts-label",f)},b,x,{breakAll:h}),p)}Ki.displayName="Label";var eq=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,h=e.y,p=e.top,y=e.left,b=e.width,x=e.height,v=e.clockWise,w=e.labelViewBox;if(w)return w;if(ze(b)&&ze(x)){if(ze(f)&&ze(h))return{x:f,y:h,width:b,height:x};if(ze(p)&&ze(y))return{x:p,y,width:b,height:x}}return ze(f)&&ze(h)?{x:f,y:h,width:0,height:0}:ze(n)&&ze(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:v}:e.viewBox?e.viewBox:{}},AEe=function(e,n){return e?e===!0?pe.createElement(Ki,{key:"label-implicit",viewBox:n}):ni(e)?pe.createElement(Ki,{key:"label-implicit",viewBox:n,value:e}):U.isValidElement(e)?e.type===Ki?U.cloneElement(e,{key:"label-implicit",viewBox:n}):pe.createElement(Ki,{key:"label-implicit",content:e,viewBox:n}):Vt(e)?pe.createElement(Ki,{key:"label-implicit",content:e,viewBox:n}):Hp(e)?pe.createElement(Ki,Uy({viewBox:n},e,{key:"label-implicit"})):null:null},NEe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=eq(e),s=fo(i,Ki).map(function(l,c){return U.cloneElement(l,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return s;var o=AEe(e.label,n||a);return[o].concat(lEe(s))};Ki.parseViewBox=eq;Ki.renderCallByParent=NEe;function EEe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var PEe=EEe;const TEe=Ln(PEe);function Vy(t){"@babel/helpers - typeof";return Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vy(t)}var kEe=["valueAccessor"],jEe=["data","dataKey","clockWise","id","textBreakAll"];function CEe(t){return LEe(t)||REe(t)||OEe(t)||IEe()}function IEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OEe(t,e){if(t){if(typeof t=="string")return WN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WN(t,e)}}function REe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LEe(t){if(Array.isArray(t))return WN(t)}function WN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ax(){return Ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ax.apply(this,arguments)}function n6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n6(Object(n),!0).forEach(function(r){MEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MEe(t,e,n){return e=DEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DEe(t){var e=FEe(t,"string");return Vy(e)=="symbol"?e:e+""}function FEe(t,e){if(Vy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i6(t,e){if(t==null)return{};var n=$Ee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Ee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var BEe=function(e){return Array.isArray(e.value)?TEe(e.value):e.value};function Nu(t){var e=t.valueAccessor,n=e===void 0?BEe:e,r=i6(t,kEe),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,c=i6(r,jEe);return!i||!i.length?null:pe.createElement(ur,{className:"recharts-label-list"},i.map(function(u,f){var h=Jt(a)?n(u,f):as(u&&u.payload,a),p=Jt(o)?{}:{id:"".concat(o,"-").concat(f)};return pe.createElement(Ki,Ax({},Ht(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Ki.parseViewBox(Jt(s)?u:r6(r6({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Nu.displayName="LabelList";function UEe(t,e){return t?t===!0?pe.createElement(Nu,{key:"labelList-implicit",data:e}):pe.isValidElement(t)||Vt(t)?pe.createElement(Nu,{key:"labelList-implicit",data:e,content:t}):Hp(t)?pe.createElement(Nu,Ax({data:e},t,{key:"labelList-implicit"})):null:null}function VEe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=fo(r,Nu).map(function(s,o){return U.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=UEe(t.label,e);return[a].concat(CEe(i))}Nu.renderCallByParent=VEe;function zy(t){"@babel/helpers - typeof";return zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zy(t)}function HN(){return HN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HN.apply(this,arguments)}function a6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a6(Object(n),!0).forEach(function(r){zEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zEe(t,e,n){return e=qEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qEe(t){var e=WEe(t,"string");return zy(e)=="symbol"?e:e+""}function WEe(t,e){if(zy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HEe=function(e,n){var r=oo(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Z0=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+i,f=Math.asin(l/u)/Sx,h=c?a:a+s*f,p=Ni(n,r,u,h),y=Ni(n,r,i,h),b=c?a-s*f:a,x=Ni(n,r,u*Math.cos(f*Sx),b);return{center:p,circleTangency:y,lineTangency:x,theta:f}},tq=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=HEe(s,o),c=s+l,u=Ni(n,r,a,s),f=Ni(n,r,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Ni(n,r,i,s),y=Ni(n,r,i,c);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},GEe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=oo(u-c),h=Z0({cx:n,cy:r,radius:a,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,y=h.lineTangency,b=h.theta,x=Z0({cx:n,cy:r,radius:a,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),v=x.circleTangency,w=x.lineTangency,_=x.theta,A=l?Math.abs(c-u):Math.abs(c-u)-b-_;if(A<0)return o?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):tq({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var E="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(A>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var O=Z0({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),C=O.circleTangency,N=O.lineTangency,k=O.theta,M=Z0({cx:n,cy:r,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),P=M.circleTangency,I=M.lineTangency,j=M.theta,B=l?Math.abs(c-u):Math.abs(c-u)-k-j;if(B<0&&s===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},KEe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nq=function(e){var n=s6(s6({},KEe),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,f=n.endAngle,h=n.className;if(s<a||u===f)return null;var p=on("recharts-sector",h),y=s-a,b=ad(o,y,0,!0),x;return b>0&&Math.abs(u-f)<360?x=GEe({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(b,y/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):x=tq({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:f}),pe.createElement("path",HN({},Ht(n,!0),{className:p,d:x,role:"img"}))};function qy(t){"@babel/helpers - typeof";return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qy(t)}function GN(){return GN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GN.apply(this,arguments)}function o6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o6(Object(n),!0).forEach(function(r){YEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YEe(t,e,n){return e=XEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XEe(t){var e=QEe(t,"string");return qy(e)=="symbol"?e:e+""}function QEe(t,e){if(qy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var c6={curveBasisClosed:Kme,curveBasisOpen:Yme,curveBasis:Gme,curveBumpX:Ome,curveBumpY:Rme,curveLinearClosed:Xme,curveLinear:uw,curveMonotoneX:Qme,curveMonotoneY:Jme,curveNatural:Zme,curveStep:ege,curveStepAfter:nge,curveStepBefore:tge},e1=function(e){return e.x===+e.x&&e.y===+e.y},Wm=function(e){return e.x},Hm=function(e){return e.y},JEe=function(e,n){if(Vt(e))return e;var r="curve".concat(lw(e));return(r==="curveMonotone"||r==="curveBump")&&n?c6["".concat(r).concat(n==="vertical"?"Y":"X")]:c6[r]||uw},ZEe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=JEe(r,o),f=c?a.filter(function(b){return e1(b)}):a,h;if(Array.isArray(s)){var p=c?s.filter(function(b){return e1(b)}):s,y=f.map(function(b,x){return l6(l6({},b),{},{base:p[x]})});return o==="vertical"?h=q0().y(Hm).x1(Wm).x0(function(b){return b.base.x}):h=q0().x(Wm).y1(Hm).y0(function(b){return b.base.y}),h.defined(e1).curve(u),h(y)}return o==="vertical"&&ze(s)?h=q0().y(Hm).x1(Wm).x0(s):ze(s)?h=q0().x(Wm).y1(Hm).y0(s):h=rV().x(Wm).y(Hm),h.defined(e1).curve(u),h(f)},Lg=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?ZEe(e):i;return U.createElement("path",GN({},Ht(e,!1),Hb(e),{className:on("recharts-curve",n),d:s,ref:a}))},rq={exports:{}},ePe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",tPe=ePe,nPe=tPe;function iq(){}function aq(){}aq.resetWarningCache=iq;var rPe=function(){function t(r,i,a,s,o,l){if(l!==nPe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:aq,resetWarningCache:iq};return n.PropTypes=n,n};rq.exports=rPe();var iPe=rq.exports;const gn=Ln(iPe),{getOwnPropertyNames:aPe,getOwnPropertySymbols:sPe}=Object,{hasOwnProperty:oPe}=Object.prototype;function w_(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function t1(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);const l=t(n,r,i);return a.delete(n),a.delete(r),l}}function lPe(t){return t!=null?t[Symbol.toStringTag]:void 0}function u6(t){return aPe(t).concat(sPe(t))}const cPe=Object.hasOwn||((t,e)=>oPe.call(t,e));function Sd(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const uPe="__v",fPe="__o",dPe="_owner",{getOwnPropertyDescriptor:f6,keys:d6}=Object;function hPe(t,e){return t.byteLength===e.byteLength&&Nx(new Uint8Array(t),new Uint8Array(e))}function pPe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function mPe(t,e){return t.byteLength===e.byteLength&&Nx(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function gPe(t,e){return Sd(t.getTime(),e.getTime())}function yPe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function vPe(t,e){return t===e}function h6(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let s,o,l=0;for(;(s=a.next())&&!s.done;){const c=e.entries();let u=!1,f=0;for(;(o=c.next())&&!o.done;){if(i[f]){f++;continue}const h=s.value,p=o.value;if(n.equals(h[0],p[0],l,f,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}const bPe=Sd;function xPe(t,e,n){const r=d6(t);let i=r.length;if(d6(e).length!==i)return!1;for(;i-- >0;)if(!sq(t,e,n,r[i]))return!1;return!0}function Gm(t,e,n){const r=u6(t);let i=r.length;if(u6(e).length!==i)return!1;let a,s,o;for(;i-- >0;)if(a=r[i],!sq(t,e,n,a)||(s=f6(t,a),o=f6(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function wPe(t,e){return Sd(t.valueOf(),e.valueOf())}function _Pe(t,e){return t.source===e.source&&t.flags===e.flags}function p6(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let s,o;for(;(s=a.next())&&!s.done;){const l=e.values();let c=!1,u=0;for(;(o=l.next())&&!o.done;){if(!i[u]&&n.equals(s.value,o.value,s.value,o.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function Nx(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function SPe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function sq(t,e,n,r){return(r===dPe||r===fPe||r===uPe)&&(t.$$typeof||e.$$typeof)?!0:cPe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const APe="[object ArrayBuffer]",NPe="[object Arguments]",EPe="[object Boolean]",PPe="[object DataView]",TPe="[object Date]",kPe="[object Error]",jPe="[object Map]",CPe="[object Number]",IPe="[object Object]",OPe="[object RegExp]",RPe="[object Set]",LPe="[object String]",MPe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},DPe="[object URL]",FPe=Object.prototype.toString;function $Pe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:y}){return function(x,v,w){if(x===v)return!0;if(x==null||v==null)return!1;const _=typeof x;if(_!==typeof v)return!1;if(_!=="object")return _==="number"?o(x,v,w):_==="function"?a(x,v,w):!1;const A=x.constructor;if(A!==v.constructor)return!1;if(A===Object)return l(x,v,w);if(Array.isArray(x))return e(x,v,w);if(A===Date)return r(x,v,w);if(A===RegExp)return u(x,v,w);if(A===Map)return s(x,v,w);if(A===Set)return f(x,v,w);const E=FPe.call(x);if(E===TPe)return r(x,v,w);if(E===OPe)return u(x,v,w);if(E===jPe)return s(x,v,w);if(E===RPe)return f(x,v,w);if(E===IPe)return typeof x.then!="function"&&typeof v.then!="function"&&l(x,v,w);if(E===DPe)return p(x,v,w);if(E===kPe)return i(x,v,w);if(E===NPe)return l(x,v,w);if(MPe[E])return h(x,v,w);if(E===APe)return t(x,v,w);if(E===PPe)return n(x,v,w);if(E===EPe||E===CPe||E===LPe)return c(x,v,w);if(y){let O=y[E];if(!O){const C=lPe(x);C&&(O=y[C])}if(O)return O(x,v,w)}return!1}}function BPe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:hPe,areArraysEqual:n?Gm:pPe,areDataViewsEqual:mPe,areDatesEqual:gPe,areErrorsEqual:yPe,areFunctionsEqual:vPe,areMapsEqual:n?w_(h6,Gm):h6,areNumbersEqual:bPe,areObjectsEqual:n?Gm:xPe,arePrimitiveWrappersEqual:wPe,areRegExpsEqual:_Pe,areSetsEqual:n?w_(p6,Gm):p6,areTypedArraysEqual:n?w_(Nx,Gm):Nx,areUrlsEqual:SPe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=t1(r.areArraysEqual),a=t1(r.areMapsEqual),s=t1(r.areObjectsEqual),o=t1(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:o})}return r}function UPe(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function VPe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(o,l){const{cache:c=t?new WeakMap:void 0,meta:u}=n();return e(o,l,{cache:c,equals:r,meta:u,strict:i})};if(t)return function(o,l){return e(o,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(o,l){return e(o,l,a)}}const zPe=Xu();Xu({strict:!0});Xu({circular:!0});Xu({circular:!0,strict:!0});Xu({createInternalComparator:()=>Sd});Xu({strict:!0,createInternalComparator:()=>Sd});Xu({circular:!0,createInternalComparator:()=>Sd});Xu({circular:!0,createInternalComparator:()=>Sd,strict:!0});function Xu(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=BPe(t),s=$Pe(a),o=n?n(s):UPe(s);return VPe({circular:e,comparator:s,createState:r,equals:o,strict:i})}function qPe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function m6(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):qPe(i)};requestAnimationFrame(r)}function KN(t){"@babel/helpers - typeof";return KN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KN(t)}function WPe(t){return YPe(t)||KPe(t)||GPe(t)||HPe()}function HPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GPe(t,e){if(t){if(typeof t=="string")return g6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g6(t,e)}}function g6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YPe(t){if(Array.isArray(t))return t}function XPe(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=WPe(s),l=o[0],c=o.slice(1);if(typeof l=="number"){m6(i.bind(null,c),l);return}i(l),m6(i.bind(null,c));return}KN(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Wy(t){"@babel/helpers - typeof";return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(t)}function y6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y6(Object(n),!0).forEach(function(r){oq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oq(t,e,n){return e=QPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QPe(t){var e=JPe(t,"string");return Wy(e)==="symbol"?e:String(e)}function JPe(t,e){if(Wy(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZPe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},eTe=function(e){return e},tTe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Mg=function(e,n){return Object.keys(n).reduce(function(r,i){return v6(v6({},r),{},oq({},i,e(i,n[i])))},{})},b6=function(e,n,r){return e.map(function(i){return"".concat(tTe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function nTe(t,e){return aTe(t)||iTe(t,e)||lq(t,e)||rTe()}function rTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function aTe(t){if(Array.isArray(t))return t}function sTe(t){return cTe(t)||lTe(t)||lq(t)||oTe()}function oTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lq(t,e){if(t){if(typeof t=="string")return YN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YN(t,e)}}function lTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cTe(t){if(Array.isArray(t))return YN(t)}function YN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ex=1e-4,cq=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},uq=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},x6=function(e,n){return function(r){var i=cq(e,n);return uq(i,r)}},uTe=function(e,n){return function(r){var i=cq(e,n),a=[].concat(sTe(i.map(function(s,o){return s*o}).slice(1)),[0]);return uq(a,r)}},w6=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),u=nTe(c,4);i=u[0],a=u[1],s=u[2],o=u[3]}}}var f=x6(i,s),h=x6(a,o),p=uTe(i,s),y=function(v){return v>1?1:v<0?0:v},b=function(v){for(var w=v>1?1:v,_=w,A=0;A<8;++A){var E=f(_)-w,O=p(_);if(Math.abs(E-w)<Ex||O<Ex)return h(_);_=y(_-E/O)}return h(_)};return b.isStepper=!1,b},fTe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(u,f,h){var p=-(u-f)*r,y=h*a,b=h+(p-y)*o/1e3,x=h*o/1e3+u;return Math.abs(x-f)<Ex&&Math.abs(b)<Ex?[f,0]:[x,b]};return l.isStepper=!0,l.dt=o,l},dTe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return w6(i);case"spring":return fTe();default:if(i.split("(")[0]==="cubic-bezier")return w6(i)}return typeof i=="function"?i:null};function Hy(t){"@babel/helpers - typeof";return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hy(t)}function _6(t){return mTe(t)||pTe(t)||fq(t)||hTe()}function hTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mTe(t){if(Array.isArray(t))return QN(t)}function S6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S6(Object(n),!0).forEach(function(r){XN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XN(t,e,n){return e=gTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gTe(t){var e=yTe(t,"string");return Hy(e)==="symbol"?e:String(e)}function yTe(t,e){if(Hy(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vTe(t,e){return wTe(t)||xTe(t,e)||fq(t,e)||bTe()}function bTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fq(t,e){if(t){if(typeof t=="string")return QN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QN(t,e)}}function QN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function wTe(t){if(Array.isArray(t))return t}var Px=function(e,n,r){return e+(n-e)*r},JN=function(e){var n=e.from,r=e.to;return n!==r},_Te=function t(e,n,r){var i=Mg(function(a,s){if(JN(s)){var o=e(s.from,s.to,s.velocity),l=vTe(o,2),c=l[0],u=l[1];return xi(xi({},s),{},{from:c,velocity:u})}return s},n);return r<1?Mg(function(a,s){return JN(s)?xi(xi({},s),{},{velocity:Px(s.velocity,i[a].velocity,r),from:Px(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const STe=function(t,e,n,r,i){var a=ZPe(t,e),s=a.reduce(function(x,v){return xi(xi({},x),{},XN({},v,[t[v],e[v]]))},{}),o=a.reduce(function(x,v){return xi(xi({},x),{},XN({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return Mg(function(v,w){return w.from},o)},p=function(){return!Object.values(o).filter(JN).length},y=function(v){c||(c=v);var w=v-c,_=w/n.dt;o=_Te(n,o,_),i(xi(xi(xi({},t),e),h())),c=v,p()||(l=requestAnimationFrame(f))},b=function(v){u||(u=v);var w=(v-u)/r,_=Mg(function(E,O){return Px.apply(void 0,_6(O).concat([n(w)]))},s);if(i(xi(xi(xi({},t),e),_)),w<1)l=requestAnimationFrame(f);else{var A=Mg(function(E,O){return Px.apply(void 0,_6(O).concat([n(1)]))},s);i(xi(xi(xi({},t),e),A))}};return f=n.isStepper?y:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}var ATe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function NTe(t,e){if(t==null)return{};var n=ETe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ETe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function __(t){return jTe(t)||kTe(t)||TTe(t)||PTe()}function PTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TTe(t,e){if(t){if(typeof t=="string")return ZN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZN(t,e)}}function kTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jTe(t){if(Array.isArray(t))return ZN(t)}function ZN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A6(Object(n),!0).forEach(function(r){dg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dg(t,e,n){return e=dq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ITe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dq(r.key),r)}}function OTe(t,e,n){return e&&ITe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dq(t){var e=RTe(t,"string");return vp(e)==="symbol"?e:String(e)}function RTe(t,e){if(vp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eE(t,e)}function eE(t,e){return eE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eE(t,e)}function MTe(t){var e=DTe();return function(){var r=Tx(t),i;if(e){var a=Tx(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return tE(this,i)}}function tE(t,e){if(e&&(vp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nE(t)}function nE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DTe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tx(t){return Tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tx(t)}var uc=function(t){LTe(n,t);var e=MTe(n);function n(r,i){var a;CTe(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(nE(a)),a.changeStyle=a.changeStyle.bind(nE(a)),!o||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:u}),tE(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof h=="function")return a.state={style:c},tE(a);a.state={style:l?dg({},l,c):c}}else a.state={style:{}};return a}return OTe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,f=a.from,h=this.state.style;if(o){if(!s){var p={style:l?dg({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(zPe(i.to,u)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=y||c?f:i.to;if(this.state&&h){var x={style:l?dg({},l,b):b};(l&&h[l]!==b||!l&&h!==b)&&this.setState(x)}this.runAnimation(Zs(Zs({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=STe(s,o,dTe(c),l,this.changeStyle),y=function(){a.stopJSAnimation=p()};this.manager.start([h,u,y,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],u=c.style,f=c.duration,h=f===void 0?0:f,p=function(b,x,v){if(v===0)return b;var w=x.duration,_=x.easing,A=_===void 0?"ease":_,E=x.style,O=x.properties,C=x.onAnimationEnd,N=v>0?s[v-1]:x,k=O||Object.keys(E);if(typeof A=="function"||A==="spring")return[].concat(__(b),[a.runJSAnimation.bind(a,{from:N.style,to:E,duration:w,easing:A}),w]);var M=b6(k,w,A),P=Zs(Zs(Zs({},N.style),E),{},{transition:M});return[].concat(__(b),[P,w,C]).filter(eTe)};return this.manager.start([l].concat(__(s.reduce(p,[u,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=XPe());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var b=o?dg({},o,l):l,x=b6(Object.keys(b),s,c);y.start([u,a,Zs(Zs({},b),{},{transition:x}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=NTe(i,ATe),c=U.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!o||c===0||s<=0)return a;var f=function(p){var y=p.props,b=y.style,x=b===void 0?{}:b,v=y.className,w=U.cloneElement(p,Zs(Zs({},l),{},{style:Zs(Zs({},x),u),className:v}));return w};return c===1?f(U.Children.only(a)):pe.createElement("div",null,U.Children.map(a,function(h){return f(h)}))}}]),n}(U.PureComponent);uc.displayName="Animate";uc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};uc.propTypes={from:gn.oneOfType([gn.object,gn.string]),to:gn.oneOfType([gn.object,gn.string]),attributeName:gn.string,duration:gn.number,begin:gn.number,easing:gn.oneOfType([gn.string,gn.func]),steps:gn.arrayOf(gn.shape({duration:gn.number.isRequired,style:gn.object.isRequired,easing:gn.oneOfType([gn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),gn.func]),properties:gn.arrayOf("string"),onAnimationEnd:gn.func})),children:gn.oneOfType([gn.node,gn.func]),isActive:gn.bool,canBegin:gn.bool,onAnimationEnd:gn.func,shouldReAnimate:gn.bool,onAnimationStart:gn.func,onAnimationReStart:gn.func};function Gy(t){"@babel/helpers - typeof";return Gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gy(t)}function kx(){return kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kx.apply(this,arguments)}function FTe(t,e){return VTe(t)||UTe(t,e)||BTe(t,e)||$Te()}function $Te(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BTe(t,e){if(t){if(typeof t=="string")return N6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N6(t,e)}}function N6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function VTe(t){if(Array.isArray(t))return t}function E6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E6(Object(n),!0).forEach(function(r){zTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zTe(t,e,n){return e=qTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qTe(t){var e=WTe(t,"string");return Gy(e)=="symbol"?e:e+""}function WTe(t,e){if(Gy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T6=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>s?s:a[h];u="M".concat(e,",").concat(n+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),u+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*f[1])),u+="L ".concat(e+r,",").concat(n+i-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),u+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*f[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var y=Math.min(s,a);u="M ".concat(e,",").concat(n+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*y,`
            L `).concat(e+r,",").concat(n+i-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*y," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},HTe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),u=Math.max(a,a+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=c&&r<=u&&i>=f&&i<=h}return!1},GTe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wk=function(e){var n=P6(P6({},GTe),e),r=U.useRef(),i=U.useState(-1),a=FTe(i,2),s=a[0],o=a[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&o(A)}catch{}},[]);var l=n.x,c=n.y,u=n.width,f=n.height,h=n.radius,p=n.className,y=n.animationEasing,b=n.animationDuration,x=n.animationBegin,v=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var _=on("recharts-rectangle",p);return w?pe.createElement(uc,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:b,animationEasing:y,isActive:w},function(A){var E=A.width,O=A.height,C=A.x,N=A.y;return pe.createElement(uc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,isActive:v,easing:y},pe.createElement("path",kx({},Ht(n,!0),{className:_,d:T6(C,N,E,O,h),ref:r})))}):pe.createElement("path",kx({},Ht(n,!0),{className:_,d:T6(l,c,u,f,h)}))};function rE(){return rE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rE.apply(this,arguments)}var _k=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=on("recharts-dot",a);return n===+n&&r===+r&&i===+i?U.createElement("circle",rE({},Ht(e,!1),Hb(e),{className:s,cx:n,cy:r,r:i})):null};function Ky(t){"@babel/helpers - typeof";return Ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ky(t)}var KTe=["x","y","top","left","width","height","className"];function iE(){return iE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iE.apply(this,arguments)}function k6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YTe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k6(Object(n),!0).forEach(function(r){XTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XTe(t,e,n){return e=QTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QTe(t){var e=JTe(t,"string");return Ky(e)=="symbol"?e:e+""}function JTe(t,e){if(Ky(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ky(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZTe(t,e){if(t==null)return{};var n=e4e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function e4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var t4e=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},n4e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,h=e.height,p=h===void 0?0:h,y=e.className,b=ZTe(e,KTe),x=YTe({x:r,y:a,top:o,left:c,width:f,height:p},b);return!ze(r)||!ze(a)||!ze(f)||!ze(p)||!ze(o)||!ze(c)?null:pe.createElement("path",iE({},Ht(x,!0),{className:on("recharts-cross",y),d:t4e(r,a,f,p,o,c)}))},r4e=PV,i4e=r4e(Object.getPrototypeOf,Object),a4e=i4e,s4e=gc,o4e=a4e,l4e=yc,c4e="[object Object]",u4e=Function.prototype,f4e=Object.prototype,hq=u4e.toString,d4e=f4e.hasOwnProperty,h4e=hq.call(Object);function p4e(t){if(!l4e(t)||s4e(t)!=c4e)return!1;var e=o4e(t);if(e===null)return!0;var n=d4e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&hq.call(n)==h4e}var m4e=p4e;const g4e=Ln(m4e);var y4e=gc,v4e=yc,b4e="[object Boolean]";function x4e(t){return t===!0||t===!1||v4e(t)&&y4e(t)==b4e}var w4e=x4e;const _4e=Ln(w4e);function Yy(t){"@babel/helpers - typeof";return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yy(t)}function jx(){return jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jx.apply(this,arguments)}function S4e(t,e){return P4e(t)||E4e(t,e)||N4e(t,e)||A4e()}function A4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N4e(t,e){if(t){if(typeof t=="string")return j6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j6(t,e)}}function j6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function E4e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function P4e(t){if(Array.isArray(t))return t}function C6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C6(Object(n),!0).forEach(function(r){T4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T4e(t,e,n){return e=k4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k4e(t){var e=j4e(t,"string");return Yy(e)=="symbol"?e:e+""}function j4e(t,e){if(Yy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O6=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},C4e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},I4e=function(e){var n=I6(I6({},C4e),e),r=U.useRef(),i=U.useState(-1),a=S4e(i,2),s=a[0],o=a[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&o(_)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,y=n.animationEasing,b=n.animationDuration,x=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var w=on("recharts-trapezoid",p);return v?pe.createElement(uc,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:b,animationEasing:y,isActive:v},function(_){var A=_.upperWidth,E=_.lowerWidth,O=_.height,C=_.x,N=_.y;return pe.createElement(uc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,easing:y},pe.createElement("path",jx({},Ht(n,!0),{className:w,d:O6(C,N,A,E,O),ref:r})))}):pe.createElement("g",null,pe.createElement("path",jx({},Ht(n,!0),{className:w,d:O6(l,c,u,f,h)})))},O4e=["option","shapeType","propTransformer","activeClassName","isActive"];function Xy(t){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xy(t)}function R4e(t,e){if(t==null)return{};var n=L4e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function L4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function R6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R6(Object(n),!0).forEach(function(r){M4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M4e(t,e,n){return e=D4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D4e(t){var e=F4e(t,"string");return Xy(e)=="symbol"?e:e+""}function F4e(t,e){if(Xy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $4e(t,e){return Cx(Cx({},e),t)}function B4e(t,e){return t==="symbols"}function L6(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return pe.createElement(wk,n);case"trapezoid":return pe.createElement(I4e,n);case"sector":return pe.createElement(nq,n);case"symbols":if(B4e(e))return pe.createElement(B4,n);break;default:return null}}function U4e(t){return U.isValidElement(t)?t.props:t}function V4e(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?$4e:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=R4e(t,O4e),c;if(U.isValidElement(e))c=U.cloneElement(e,Cx(Cx({},l),U4e(e)));else if(Vt(e))c=e(l);else if(g4e(e)&&!_4e(e)){var u=i(e,l);c=pe.createElement(L6,{shapeType:n,elementProps:u})}else{var f=l;c=pe.createElement(L6,{shapeType:n,elementProps:f})}return o?pe.createElement(ur,{className:s},c):c}function Nw(t,e){return e!=null&&"trapezoids"in t.props}function Ew(t,e){return e!=null&&"sectors"in t.props}function Qy(t,e){return e!=null&&"points"in t.props}function z4e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function q4e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function W4e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function H4e(t,e){var n;return Nw(t,e)?n=z4e:Ew(t,e)?n=q4e:Qy(t,e)&&(n=W4e),n}function G4e(t,e){var n;return Nw(t,e)?n="trapezoids":Ew(t,e)?n="sectors":Qy(t,e)&&(n="points"),n}function K4e(t,e){if(Nw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Ew(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Qy(t,e)?e.payload:{}}function Y4e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=G4e(n,e),a=K4e(n,e),s=r.filter(function(l,c){var u=Ry(a,l),f=n.props[i].filter(function(y){var b=H4e(n,e);return b(y,e)}),h=n.props[i].indexOf(f[f.length-1]),p=c===h;return u&&p}),o=r.indexOf(s[s.length-1]);return o}var X4e=Math.ceil,Q4e=Math.max;function J4e(t,e,n,r){for(var i=-1,a=Q4e(X4e((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var Z4e=J4e,eke=HV,M6=1/0,tke=17976931348623157e292;function nke(t){if(!t)return t===0?t:0;if(t=eke(t),t===M6||t===-M6){var e=t<0?-1:1;return e*tke}return t===t?t:0}var pq=nke,rke=Z4e,ike=pw,S_=pq;function ake(t){return function(e,n,r){return r&&typeof r!="number"&&ike(e,n,r)&&(n=r=void 0),e=S_(e),n===void 0?(n=e,e=0):n=S_(n),r=r===void 0?e<n?1:-1:S_(r),rke(e,n,r,t)}}var ske=ake,oke=ske,lke=oke(),cke=lke;const Ix=Ln(cke);function Jy(t){"@babel/helpers - typeof";return Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jy(t)}function D6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D6(Object(n),!0).forEach(function(r){mq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mq(t,e,n){return e=uke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uke(t){var e=fke(t,"string");return Jy(e)=="symbol"?e:e+""}function fke(t,e){if(Jy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dke=["Webkit","Moz","O","ms"],hke=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=dke.reduce(function(a,s){return F6(F6({},a),{},mq({},s+r,n))},{});return i[e]=n,i};function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function Ox(){return Ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ox.apply(this,arguments)}function $6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$6(Object(n),!0).forEach(function(r){Wa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yq(r.key),r)}}function mke(t,e,n){return e&&B6(t.prototype,e),n&&B6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gke(t,e,n){return e=Rx(e),yke(t,gq()?Reflect.construct(e,n||[],Rx(t).constructor):e.apply(t,n))}function yke(t,e){if(e&&(bp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vke(t)}function vke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gq=function(){return!!t})()}function Rx(t){return Rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rx(t)}function bke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aE(t,e)}function aE(t,e){return aE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aE(t,e)}function Wa(t,e,n){return e=yq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yq(t){var e=xke(t,"string");return bp(e)=="symbol"?e:e+""}function xke(t,e){if(bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wke=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Og().domain(Ix(0,l)).range([a,a+s-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},U6=function(e){return e.changedTouches&&!!e.changedTouches.length},xp=function(t){function e(n){var r;return pke(this,e),r=gke(this,e,[n]),Wa(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Wa(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Wa(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),Wa(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Wa(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Wa(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Wa(r,"handleSlideDragStart",function(i){var a=U6(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return bke(e,t),mke(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(s,f),y=e.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:y===u?u:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=as(a[r],o,r);return Vt(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,y=l.onChange,b=r.pageX-a;b>0?b=Math.min(b,c+u-f-o,c+u-f-s):b<0&&(b=Math.max(b,c-s,c-o));var x=this.getIndex({startX:s+b,endX:o+b});(x.startIndex!==h||x.endIndex!==p)&&y&&y(x),this.setState({startX:s+b,endX:o+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=U6(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,y=u.onChange,b=u.gap,x=u.data,v={startX:this.state.startX,endX:this.state.endX},w=r.pageX-a;w>0?w=Math.min(w,f+h-p-c):w<0&&(w=Math.max(w,f-c)),v[s]=c+w;var _=this.getIndex(v),A=_.startIndex,E=_.endIndex,O=function(){var N=x.length-1;return s==="startX"&&(o>l?A%b===0:E%b===0)||o<l&&E===N||s==="endX"&&(o>l?E%b===0:A%b===0)||o>l&&E===N};this.setState(Wa(Wa({},s,c+w),"brushMoveStartX",r.pageX),function(){y&&O()&&y(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[i],f=o.indexOf(u);if(f!==-1){var h=f+r;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(Wa({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.fill,c=r.stroke;return pe.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.data,c=r.children,u=r.padding,f=U.Children.only(c);return f?pe.cloneElement(f,{x:i,y:a,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,y=l.data,b=l.startIndex,x=l.endIndex,v=Math.max(r,this.props.x),w=A_(A_({},Ht(this.props,!1)),{},{x:v,y:c,width:u,height:f}),_=p||"Min value: ".concat((a=y[b])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=y[x])===null||s===void 0?void 0:s.name);return pe.createElement(ur,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),o.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return pe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,f=u.startX,h=u.endX,p=5,y={pointerEvents:"none",fill:c};return pe.createElement(ur,{className:"recharts-brush-texts"},pe.createElement(ox,Ox({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},y),this.getTextOfTick(i)),pe.createElement(ox,Ox({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:s+o/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,l=r.y,c=r.width,u=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,y=h.endX,b=h.isTextActive,x=h.isSlideMoving,v=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!ze(o)||!ze(l)||!ze(c)||!ze(u)||c<=0||u<=0)return null;var _=on("recharts-brush",a),A=pe.Children.count(s)===1,E=hke("userSelect","none");return pe.createElement(ur,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(b||x||v||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,l=r.stroke,c=Math.floor(a+o/2)-1;return pe.createElement(pe.Fragment,null,pe.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),pe.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),pe.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return pe.isValidElement(r)?a=pe.cloneElement(r,i):Vt(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,f=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return A_({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?wke({data:a,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);r[l]>i?o=l:s=l}return i>=r[o]?o:s}}])}(U.PureComponent);Wa(xp,"displayName","Brush");Wa(xp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var _ke=G4;function Ske(t,e){var n;return _ke(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var Ake=Ske,Nke=bV,Eke=Gu,Pke=Ake,Tke=ka,kke=pw;function jke(t,e,n){var r=Tke(t)?Nke:Pke;return n&&kke(t,e,n)&&(e=void 0),r(t,Eke(e))}var Cke=jke;const Ike=Ln(Cke);var nl=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},V6=UV;function Oke(t,e,n){e=="__proto__"&&V6?V6(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Rke=Oke,Lke=Rke,Mke=$V,Dke=Gu;function Fke(t,e){var n={};return e=Dke(e),Mke(t,function(r,i,a){Lke(n,i,e(r,i,a))}),n}var $ke=Fke;const Bke=Ln($ke);function Uke(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Vke=Uke,zke=G4;function qke(t,e){var n=!0;return zke(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var Wke=qke,Hke=Vke,Gke=Wke,Kke=Gu,Yke=ka,Xke=pw;function Qke(t,e,n){var r=Yke(t)?Hke:Gke;return n&&Xke(t,e,n)&&(e=void 0),r(t,Kke(e))}var Jke=Qke;const vq=Ln(Jke);var Zke=["x","y"];function Zy(t){"@babel/helpers - typeof";return Zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zy(t)}function sE(){return sE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sE.apply(this,arguments)}function z6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Km(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z6(Object(n),!0).forEach(function(r){e3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e3e(t,e,n){return e=t3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t3e(t){var e=n3e(t,"string");return Zy(e)=="symbol"?e:e+""}function n3e(t,e){if(Zy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r3e(t,e){if(t==null)return{};var n=i3e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function i3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function a3e(t,e){var n=t.x,r=t.y,i=r3e(t,Zke),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Km(Km(Km(Km(Km({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function q6(t){return pe.createElement(V4e,sE({shapeType:"rectangle",propTransformer:a3e,activeClassName:"recharts-active-bar"},t))}var s3e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=ze(r)||vpe(r);return a?e(r,i):(a||od(),n)}},o3e=["value","background"],bq;function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function l3e(t,e){if(t==null)return{};var n=c3e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function c3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lx(){return Lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lx.apply(this,arguments)}function W6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W6(Object(n),!0).forEach(function(r){cu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wq(r.key),r)}}function f3e(t,e,n){return e&&H6(t.prototype,e),n&&H6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function d3e(t,e,n){return e=Mx(e),h3e(t,xq()?Reflect.construct(e,n||[],Mx(t).constructor):e.apply(t,n))}function h3e(t,e){if(e&&(wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p3e(t)}function p3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xq=function(){return!!t})()}function Mx(t){return Mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mx(t)}function m3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oE(t,e)}function oE(t,e){return oE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oE(t,e)}function cu(t,e,n){return e=wq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wq(t){var e=g3e(t,"string");return wp(e)=="symbol"?e:e+""}function g3e(t,e){if(wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hv=function(t){function e(){var n;u3e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=d3e(this,e,[].concat(i)),cu(n,"state",{isAnimationFinished:!1}),cu(n,"id",Bv("recharts-bar-")),cu(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),cu(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return m3e(e,t),f3e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,u=Ht(this.props,!1);return r&&r.map(function(f,h){var p=h===l,y=p?c:s,b=Vr(Vr(Vr({},u),f),{},{isActive:p,option:y,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return pe.createElement(ur,Lx({className:"recharts-bar-rectangle"},Gb(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),pe.createElement(q6,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state.prevData;return pe.createElement(uc,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,b=a.map(function(x,v){var w=h&&h[v];if(w){var _=Cs(w.x,x.x),A=Cs(w.y,x.y),E=Cs(w.width,x.width),O=Cs(w.height,x.height);return Vr(Vr({},x),{},{x:_(y),y:A(y),width:E(y),height:O(y)})}if(s==="horizontal"){var C=Cs(0,x.height),N=C(y);return Vr(Vr({},x),{},{y:x.y+x.height-N,height:N})}var k=Cs(0,x.width),M=k(y);return Vr(Vr({},x),{},{width:M})});return pe.createElement(ur,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Ry(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=Ht(this.props.background,!1);return a.map(function(c,u){c.value;var f=c.background,h=l3e(c,o3e);if(!f)return null;var p=Vr(Vr(Vr(Vr(Vr({},h),{},{fill:"#eee"},f),l),Gb(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return pe.createElement(q6,Lx({key:"background-bar-".concat(u),option:r.props.background,isActive:u===o},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=fo(u,Aw);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(x,v){var w=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:w,errorVal:as(x,v)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return pe.createElement(ur,y,f.map(function(b){return pe.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,l=r.yAxis,c=r.left,u=r.top,f=r.width,h=r.height,p=r.isAnimationActive,y=r.background,b=r.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,v=on("recharts-bar",s),w=o&&o.allowDataOverflow,_=l&&l.allowDataOverflow,A=w||_,E=Jt(b)?this.id:b;return pe.createElement(ur,{className:v},w||_?pe.createElement("defs",null,pe.createElement("clipPath",{id:"clipPath-".concat(E)},pe.createElement("rect",{x:w?c:c-f/2,y:_?u:u-h/2,width:w?f:f*2,height:_?h:h*2}))):null,pe.createElement(ur,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(E,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,E),(!p||x)&&Nu.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(U.PureComponent);bq=Hv;cu(Hv,"displayName","Bar");cu(Hv,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!em.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});cu(Hv,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,h=t.offset,p=VNe(r,n);if(!p)return null;var y=e.layout,b=n.type.defaultProps,x=b!==void 0?Vr(Vr({},b),n.props):n.props,v=x.dataKey,w=x.children,_=x.minPointSize,A=y==="horizontal"?s:a,E=c?A.scale.domain():null,O=XNe({numericAxis:A}),C=fo(w,KV),N=f.map(function(k,M){var P,I,j,B,G,Z;c?P=zNe(c[u+M],E):(P=as(k,v),Array.isArray(P)||(P=[O,P]));var re=s3e(_,bq.defaultProps.minPointSize)(P[1],M);if(y==="horizontal"){var Y,ae=[s.scale(P[0]),s.scale(P[1])],ue=ae[0],he=ae[1];I=KL({axis:a,ticks:o,bandSize:i,offset:p.offset,entry:k,index:M}),j=(Y=he??ue)!==null&&Y!==void 0?Y:void 0,B=p.size;var $=ue-he;if(G=Number.isNaN($)?0:$,Z={x:I,y:s.y,width:B,height:s.height},Math.abs(re)>0&&Math.abs(G)<Math.abs(re)){var H=oo(G||re)*(Math.abs(re)-Math.abs(G));j-=H,G+=H}}else{var ie=[a.scale(P[0]),a.scale(P[1])],se=ie[0],le=ie[1];if(I=se,j=KL({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:k,index:M}),B=le-se,G=p.size,Z={x:a.x,y:j,width:a.width,height:G},Math.abs(re)>0&&Math.abs(B)<Math.abs(re)){var ge=oo(B||re)*(Math.abs(re)-Math.abs(B));B+=ge}}return Vr(Vr(Vr({},k),{},{x:I,y:j,width:B,height:G,value:c?P:P[1],payload:k,background:Z},C&&C[M]&&C[M].props),{},{tooltipPayload:[Zz(n,k)],tooltipPosition:{x:I+B/2,y:j+G/2}})});return Vr({data:N,layout:y},h)});function ev(t){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ev(t)}function y3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_q(r.key),r)}}function v3e(t,e,n){return e&&G6(t.prototype,e),n&&G6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function K6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K6(Object(n),!0).forEach(function(r){Pw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pw(t,e,n){return e=_q(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _q(t){var e=b3e(t,"string");return ev(e)=="symbol"?e:e+""}function b3e(t,e){if(ev(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ev(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x3e=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!Ga(c,Hv);return u.reduce(function(p,y){var b=n[y],x=b.orientation,v=b.domain,w=b.padding,_=w===void 0?{}:w,A=b.mirror,E=b.reversed,O="".concat(x).concat(A?"Mirror":""),C,N,k,M,P;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var I=v[1]-v[0],j=1/0,B=b.categoricalDomain.sort(wpe);if(B.forEach(function(ie,se){se>0&&(j=Math.min((ie||0)-(B[se-1]||0),j))}),Number.isFinite(j)){var G=j/I,Z=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(C=G*Z/2),b.padding==="no-gap"){var re=ad(e.barCategoryGap,G*Z),Y=G*Z/2;C=Y-re-(Y-re)/Z*re}}}i==="xAxis"?N=[r.left+(_.left||0)+(C||0),r.left+r.width-(_.right||0)-(C||0)]:i==="yAxis"?N=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(C||0),r.top+r.height-(_.bottom||0)-(C||0)]:N=b.range,E&&(N=[N[1],N[0]]);var ae=BNe(b,a,h),ue=ae.scale,he=ae.realScaleType;ue.domain(v).range(N),UNe(ue);var $=YNe(ue,io(io({},b),{},{realScaleType:he}));i==="xAxis"?(P=x==="top"&&!A||x==="bottom"&&A,k=r.left,M=f[O]-P*b.height):i==="yAxis"&&(P=x==="left"&&!A||x==="right"&&A,k=f[O]-P*b.width,M=r.top);var H=io(io(io({},b),$),{},{realScaleType:he,x:k,y:M,scale:ue,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return H.bandSize=_x(H,$),!b.hide&&i==="xAxis"?f[O]+=(P?-1:1)*H.height:b.hide||(f[O]+=(P?-1:1)*H.width),io(io({},p),{},Pw({},y,H))},{})},Sq=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},w3e=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return Sq({x:n,y:r},{x:i,y:a})},Aq=function(){function t(e){y3e(this,t),this.scale=e}return v3e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Pw(Aq,"EPS",1e-4);var Sk=function(e){var n=Object.keys(e).reduce(function(r,i){return io(io({},r),{},Pw({},i,Aq.create(e[i])))},{});return io(io({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return Bke(i,function(l,c){return n[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return vq(i,function(a,s){return n[s].isInRange(a)})}})};function _3e(t){return(t%180+180)%180}var S3e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=_3e(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},A3e=Gu,N3e=Uv,E3e=dw;function P3e(t){return function(e,n,r){var i=Object(e);if(!N3e(e)){var a=A3e(n);e=E3e(e),n=function(o){return a(i[o],o,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var T3e=P3e,k3e=pq;function j3e(t){var e=k3e(t),n=e%1;return e===e?n?e-n:e:0}var C3e=j3e,I3e=OV,O3e=Gu,R3e=C3e,L3e=Math.max;function M3e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:R3e(n);return i<0&&(i=L3e(r+i,0)),I3e(t,O3e(e),i)}var D3e=M3e,F3e=T3e,$3e=D3e,B3e=F3e($3e),U3e=B3e;const V3e=Ln(U3e);var z3e=Ahe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Ak=U.createContext(void 0),Nk=U.createContext(void 0),Nq=U.createContext(void 0),Eq=U.createContext({}),Pq=U.createContext(void 0),Tq=U.createContext(0),kq=U.createContext(0),Y6=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,u=z3e(a);return pe.createElement(Ak.Provider,{value:r},pe.createElement(Nk.Provider,{value:i},pe.createElement(Eq.Provider,{value:a},pe.createElement(Nq.Provider,{value:u},pe.createElement(Pq.Provider,{value:s},pe.createElement(Tq.Provider,{value:c},pe.createElement(kq.Provider,{value:l},o)))))))},q3e=function(){return U.useContext(Pq)},jq=function(e){var n=U.useContext(Ak);n==null&&od();var r=n[e];return r==null&&od(),r},W3e=function(){var e=U.useContext(Ak);return ru(e)},H3e=function(){var e=U.useContext(Nk),n=V3e(e,function(r){return vq(r.domain,Number.isFinite)});return n||ru(e)},Cq=function(e){var n=U.useContext(Nk);n==null&&od();var r=n[e];return r==null&&od(),r},G3e=function(){var e=U.useContext(Nq);return e},K3e=function(){return U.useContext(Eq)},Ek=function(){return U.useContext(kq)},Pk=function(){return U.useContext(Tq)};function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function Y3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X3e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oq(r.key),r)}}function Q3e(t,e,n){return e&&X3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function J3e(t,e,n){return e=Dx(e),Z3e(t,Iq()?Reflect.construct(e,n||[],Dx(t).constructor):e.apply(t,n))}function Z3e(t,e){if(e&&(_p(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eje(t)}function eje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Iq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iq=function(){return!!t})()}function Dx(t){return Dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dx(t)}function tje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lE(t,e)}function lE(t,e){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lE(t,e)}function X6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X6(Object(n),!0).forEach(function(r){Tk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tk(t,e,n){return e=Oq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oq(t){var e=nje(t,"string");return _p(e)=="symbol"?e:e+""}function nje(t,e){if(_p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rje(t,e){return oje(t)||sje(t,e)||aje(t,e)||ije()}function ije(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aje(t,e){if(t){if(typeof t=="string")return J6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J6(t,e)}}function J6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sje(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function oje(t){if(Array.isArray(t))return t}function cE(){return cE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cE.apply(this,arguments)}var lje=function(e,n){var r;return pe.isValidElement(e)?r=pe.cloneElement(e,n):Vt(e)?r=e(n):r=pe.createElement("line",cE({},n,{className:"recharts-reference-line-line"})),r},cje=function(e,n,r,i,a,s,o,l,c){var u=a.x,f=a.y,h=a.width,p=a.height;if(r){var y=c.y,b=e.y.apply(y,{position:s});if(nl(c,"discard")&&!e.y.isInRange(b))return null;var x=[{x:u+h,y:b},{x:u,y:b}];return l==="left"?x.reverse():x}if(n){var v=c.x,w=e.x.apply(v,{position:s});if(nl(c,"discard")&&!e.x.isInRange(w))return null;var _=[{x:w,y:f+p},{x:w,y:f}];return o==="top"?_.reverse():_}if(i){var A=c.segment,E=A.map(function(O){return e.apply(O,{position:s})});return nl(c,"discard")&&Ike(E,function(O){return!e.isInRange(O)})?null:E}return null};function uje(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=q3e(),u=jq(i),f=Cq(a),h=G3e();if(!c||!h)return null;Yl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Sk({x:u.scale,y:f.scale}),y=ni(e),b=ni(n),x=r&&r.length===2,v=cje(p,y,b,x,h,t.position,u.orientation,f.orientation,t);if(!v)return null;var w=rje(v,2),_=w[0],A=_.x,E=_.y,O=w[1],C=O.x,N=O.y,k=nl(t,"hidden")?"url(#".concat(c,")"):void 0,M=Q6(Q6({clipPath:k},Ht(t,!0)),{},{x1:A,y1:E,x2:C,y2:N});return pe.createElement(ur,{className:on("recharts-reference-line",o)},lje(s,M),Ki.renderCallByParent(t,w3e({x1:A,y1:E,x2:C,y2:N})))}var kk=function(t){function e(){return Y3e(this,e),J3e(this,e,arguments)}return tje(e,t),Q3e(e,[{key:"render",value:function(){return pe.createElement(uje,this.props)}}])}(pe.Component);Tk(kk,"displayName","ReferenceLine");Tk(kk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function uE(){return uE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uE.apply(this,arguments)}function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function Z6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z6(Object(n),!0).forEach(function(r){Tw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dje(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lq(r.key),r)}}function hje(t,e,n){return e&&dje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pje(t,e,n){return e=Fx(e),mje(t,Rq()?Reflect.construct(e,n||[],Fx(t).constructor):e.apply(t,n))}function mje(t,e){if(e&&(Sp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gje(t)}function gje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rq=function(){return!!t})()}function Fx(t){return Fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fx(t)}function yje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fE(t,e)}function fE(t,e){return fE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fE(t,e)}function Tw(t,e,n){return e=Lq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lq(t){var e=vje(t,"string");return Sp(e)=="symbol"?e:e+""}function vje(t,e){if(Sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bje=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=Sk({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return nl(e,"discard")&&!s.isInRange(o)?null:o},kw=function(t){function e(){return fje(this,e),pje(this,e,arguments)}return yje(e,t),hje(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,l=r.clipPathId,c=ni(i),u=ni(a);if(Yl(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=bje(this.props);if(!f)return null;var h=f.x,p=f.y,y=this.props,b=y.shape,x=y.className,v=nl(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=eM(eM({clipPath:v},Ht(this.props,!0)),{},{cx:h,cy:p});return pe.createElement(ur,{className:on("recharts-reference-dot",x)},e.renderDot(b,w),Ki.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(pe.Component);Tw(kw,"displayName","ReferenceDot");Tw(kw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Tw(kw,"renderDot",function(t,e){var n;return pe.isValidElement(t)?n=pe.cloneElement(t,e):Vt(t)?n=t(e):n=pe.createElement(_k,uE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function dE(){return dE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dE.apply(this,arguments)}function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function tM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(n),!0).forEach(function(r){jw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wje(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dq(r.key),r)}}function _je(t,e,n){return e&&wje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sje(t,e,n){return e=$x(e),Aje(t,Mq()?Reflect.construct(e,n||[],$x(t).constructor):e.apply(t,n))}function Aje(t,e){if(e&&(Ap(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nje(t)}function Nje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mq=function(){return!!t})()}function $x(t){return $x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$x(t)}function Eje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hE(t,e)}function hE(t,e){return hE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hE(t,e)}function jw(t,e,n){return e=Dq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dq(t){var e=Pje(t,"string");return Ap(e)=="symbol"?e:e+""}function Pje(t,e){if(Ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tje=function(e,n,r,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var h=Sk({x:u.scale,y:f.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return nl(a,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:Sq(p,y)},Cw=function(t){function e(){return xje(this,e),Sje(this,e,arguments)}return Eje(e,t),_je(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;Yl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ni(i),h=ni(a),p=ni(s),y=ni(o),b=this.props.shape;if(!f&&!h&&!p&&!y&&!b)return null;var x=Tje(f,h,p,y,this.props);if(!x&&!b)return null;var v=nl(this.props,"hidden")?"url(#".concat(u,")"):void 0;return pe.createElement(ur,{className:on("recharts-reference-area",l)},e.renderRect(b,nM(nM({clipPath:v},Ht(this.props,!0)),x)),Ki.renderCallByParent(this.props,x))}}])}(pe.Component);jw(Cw,"displayName","ReferenceArea");jw(Cw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});jw(Cw,"renderRect",function(t,e){var n;return pe.isValidElement(t)?n=pe.cloneElement(t,e):Vt(t)?n=t(e):n=pe.createElement(wk,dE({},e,{className:"recharts-reference-area-rect"})),n});function Fq(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function kje(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return S3e(r,n)}function jje(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function Bx(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Cje(t,e){return Fq(t,e+1)}function Ije(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,l=0,c=1,u=s,f=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:Fq(r,c)};var b=l,x,v=function(){return x===void 0&&(x=n(y,b)),x},w=y.coordinate,_=l===0||Bx(t,w,v,u,o);_||(l=0,u=s,c+=1),_&&(u=w+t*(v()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function tv(t){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tv(t)}function rM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(n),!0).forEach(function(r){Oje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oje(t,e,n){return e=Rje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rje(t){var e=Lje(t,"string");return tv(e)=="symbol"?e:e+""}function Lje(t,e){if(tv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mje(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,l=e.end,c=function(h){var p=a[h],y,b=function(){return y===void 0&&(y=n(p,h)),y};if(h===s-1){var x=t*(p.coordinate+t*b()/2-l);a[h]=p=qi(qi({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate})}else a[h]=p=qi(qi({},p),{},{tickCoord:p.coordinate});var v=Bx(t,p.tickCoord,b,o,l);v&&(l=p.tickCoord-t*(b()/2+i),a[h]=qi(qi({},p),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}function Dje(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,l=e.start,c=e.end;if(a){var u=r[o-1],f=n(u,o-1),h=t*(u.coordinate+t*f/2-c);s[o-1]=u=qi(qi({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var p=Bx(t,u.tickCoord,function(){return f},l,c);p&&(c=u.tickCoord-t*(f/2+i),s[o-1]=qi(qi({},u),{},{isShow:!0}))}for(var y=a?o-1:o,b=function(w){var _=s[w],A,E=function(){return A===void 0&&(A=n(_,w)),A};if(w===0){var O=t*(_.coordinate-t*E()/2-l);s[w]=_=qi(qi({},_),{},{tickCoord:O<0?_.coordinate-O*t:_.coordinate})}else s[w]=_=qi(qi({},_),{},{tickCoord:_.coordinate});var C=Bx(t,_.tickCoord,E,l,c);C&&(l=_.tickCoord+t*(E()/2+i),s[w]=qi(qi({},_),{},{isShow:!0}))},x=0;x<y;x++)b(x);return s}function jk(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ze(l)||em.isSsr)return Cje(i,typeof l=="number"&&ze(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",y=u&&p==="width"?Ig(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(_,A){var E=Vt(c)?c(_.value,A):_.value;return p==="width"?kje(Ig(E,{fontSize:e,letterSpacing:n}),y,f):Ig(E,{fontSize:e,letterSpacing:n})[p]},x=i.length>=2?oo(i[1].coordinate-i[0].coordinate):1,v=jje(a,x,p);return l==="equidistantPreserveStart"?Ije(x,v,b,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=Dje(x,v,b,i,s,l==="preserveStartEnd"):h=Mje(x,v,b,i,s),h.filter(function(w){return w.isShow}))}var Fje=["viewBox"],$je=["viewBox"],Bje=["ticks"];function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function vh(){return vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vh.apply(this,arguments)}function iM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(n),!0).forEach(function(r){Ck(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N_(t,e){if(t==null)return{};var n=Uje(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Uje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bq(r.key),r)}}function zje(t,e,n){return e&&aM(t.prototype,e),n&&aM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qje(t,e,n){return e=Ux(e),Wje(t,$q()?Reflect.construct(e,n||[],Ux(t).constructor):e.apply(t,n))}function Wje(t,e){if(e&&(Np(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hje(t)}function Hje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $q(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($q=function(){return!!t})()}function Ux(t){return Ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ux(t)}function Gje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pE(t,e)}function pE(t,e){return pE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pE(t,e)}function Ck(t,e,n){return e=Bq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bq(t){var e=Kje(t,"string");return Np(e)=="symbol"?e:e+""}function Kje(t,e){if(Np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var im=function(t){function e(n){var r;return Vje(this,e),r=qje(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Gje(e,t),zje(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=N_(r,Fje),o=this.props,l=o.viewBox,c=N_(o,$je);return!Rh(a,l)||!Rh(s,c)||!Rh(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,h=i.tickMargin,p,y,b,x,v,w,_=f?-1:1,A=r.tickSize||u,E=ze(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=y=r.coordinate,x=s+ +!f*l,b=x-_*A,w=b-_*h,v=E;break;case"left":b=x=r.coordinate,y=a+ +!f*o,p=y-_*A,v=p-_*h,w=E;break;case"right":b=x=r.coordinate,y=a+ +f*o,p=y+_*A,v=p+_*h,w=E;break;default:p=y=r.coordinate,x=s+ +f*l,b=x+_*A,w=b+_*h,v=E;break}return{line:{x1:p,y1:b,x2:y,y2:x},tick:{x:v,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,f=Qr(Qr(Qr({},Ht(this.props,!1)),Ht(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Qr(Qr({},f),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=Qr(Qr({},f),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+o})}return pe.createElement("line",vh({},f,{className:on("recharts-cartesian-axis-line",Ms(u,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,h=o.unit,p=jk(Qr(Qr({},this.props),{},{ticks:r}),i,a),y=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),x=Ht(this.props,!1),v=Ht(u,!1),w=Qr(Qr({},x),{},{fill:"none"},Ht(l,!1)),_=p.map(function(A,E){var O=s.getTickLineCoord(A),C=O.line,N=O.tick,k=Qr(Qr(Qr(Qr({textAnchor:y,verticalAnchor:b},x),{},{stroke:"none",fill:c},v),N),{},{index:E,payload:A,visibleTicksCount:p.length,tickFormatter:f});return pe.createElement(ur,vh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},Gb(s.props,A,E)),l&&pe.createElement("line",vh({},w,C,{className:on("recharts-cartesian-axis-tick-line",Ms(l,"className"))})),u&&e.renderTickItem(u,k,"".concat(Vt(f)?f(A.value,E):A.value).concat(h||"")))});return pe.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,h=f.ticks,p=N_(f,Bje),y=h;return Vt(l)&&(y=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!y||!y.length?null:pe.createElement(ur,{className:on("recharts-cartesian-axis",c),ref:function(x){r.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Ki.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,o=on(i.className,"recharts-cartesian-axis-tick-value");return pe.isValidElement(r)?s=pe.cloneElement(r,Qr(Qr({},i),{},{className:o})):Vt(r)?s=r(Qr(Qr({},i),{},{className:o})):s=pe.createElement(ox,vh({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(U.Component);Ck(im,"displayName","CartesianAxis");Ck(im,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Yje=["x1","y1","x2","y2","key"],Xje=["offset"];function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function sM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(n),!0).forEach(function(r){Qje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qje(t,e,n){return e=Jje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jje(t){var e=Zje(t,"string");return ld(e)=="symbol"?e:e+""}function Zje(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mf(){return Mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mf.apply(this,arguments)}function oM(t,e){if(t==null)return{};var n=eCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var tCe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return pe.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Uq(t,e){var n;if(pe.isValidElement(t))n=pe.cloneElement(t,e);else if(Vt(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=oM(e,Yje),c=Ht(l,!1);c.offset;var u=oM(c,Xje);n=pe.createElement("line",Mf({},u,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function nCe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Yi(Yi({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return Uq(i,c)});return pe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function rCe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Yi(Yi({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return Uq(i,c)});return pe.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function iCe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var y=!u[p+1],b=y?i+s-h:u[p+1]-h;if(b<=0)return null;var x=p%e.length;return pe.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:b,width:a,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return pe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function aCe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var y=!u[p+1],b=y?a+o-h:u[p+1]-h;if(b<=0)return null;var x=p%r.length;return pe.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:b,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return pe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var sCe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return Qz(jk(Yi(Yi(Yi({},im.defaultProps),r),{},{ticks:Vl(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},oCe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return Qz(jk(Yi(Yi(Yi({},im.defaultProps),r),{},{ticks:Vl(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},Ud={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Vq(t){var e,n,r,i,a,s,o=Ek(),l=Pk(),c=K3e(),u=Yi(Yi({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ud.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ud.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ud.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ud.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Ud.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Ud.verticalFill,x:ze(t.x)?t.x:c.left,y:ze(t.y)?t.y:c.top,width:ze(t.width)?t.width:c.width,height:ze(t.height)?t.height:c.height}),f=u.x,h=u.y,p=u.width,y=u.height,b=u.syncWithTicks,x=u.horizontalValues,v=u.verticalValues,w=W3e(),_=H3e();if(!ze(p)||p<=0||!ze(y)||y<=0||!ze(f)||f!==+f||!ze(h)||h!==+h)return null;var A=u.verticalCoordinatesGenerator||sCe,E=u.horizontalCoordinatesGenerator||oCe,O=u.horizontalPoints,C=u.verticalPoints;if((!O||!O.length)&&Vt(E)){var N=x&&x.length,k=E({yAxis:_?Yi(Yi({},_),{},{ticks:N?x:_.ticks}):void 0,width:o,height:l,offset:c},N?!0:b);Yl(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ld(k),"]")),Array.isArray(k)&&(O=k)}if((!C||!C.length)&&Vt(A)){var M=v&&v.length,P=A({xAxis:w?Yi(Yi({},w),{},{ticks:M?v:w.ticks}):void 0,width:o,height:l,offset:c},M?!0:b);Yl(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ld(P),"]")),Array.isArray(P)&&(C=P)}return pe.createElement("g",{className:"recharts-cartesian-grid"},pe.createElement(tCe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),pe.createElement(nCe,Mf({},u,{offset:c,horizontalPoints:O,xAxis:w,yAxis:_})),pe.createElement(rCe,Mf({},u,{offset:c,verticalPoints:C,xAxis:w,yAxis:_})),pe.createElement(iCe,Mf({},u,{horizontalPoints:O})),pe.createElement(aCe,Mf({},u,{verticalPoints:C})))}Vq.displayName="CartesianGrid";var lCe=["layout","type","stroke","connectNulls","isRange","ref"],cCe=["key"],zq;function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}function qq(t,e){if(t==null)return{};var n=uCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Df(){return Df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Df.apply(this,arguments)}function lM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lM(Object(n),!0).forEach(function(r){Wo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hq(r.key),r)}}function dCe(t,e,n){return e&&cM(t.prototype,e),n&&cM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hCe(t,e,n){return e=Vx(e),pCe(t,Wq()?Reflect.construct(e,n||[],Vx(t).constructor):e.apply(t,n))}function pCe(t,e){if(e&&(Ep(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mCe(t)}function mCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wq=function(){return!!t})()}function Vx(t){return Vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vx(t)}function gCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mE(t,e)}function mE(t,e){return mE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mE(t,e)}function Wo(t,e,n){return e=Hq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hq(t){var e=yCe(t,"string");return Ep(e)=="symbol"?e:e+""}function yCe(t,e){if(Ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qu=function(t){function e(){var n;fCe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=hCe(this,e,[].concat(i)),Wo(n,"state",{isAnimationFinished:!0}),Wo(n,"id",Bv("recharts-area-")),Wo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Vt(s)&&s()}),Wo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Vt(s)&&s()}),n}return gCe(e,t),dCe(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,h=Ht(this.props,!1),p=Ht(c,!0),y=u.map(function(x,v){var w=Hc(Hc(Hc({key:"dot-".concat(v),r:3},h),p),{},{index:v,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:u});return e.renderDotItem(c,w)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return pe.createElement(ur,Df({className:"recharts-area-dots"},b),y)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].x,c=s[s.length-1].x,u=r*Math.abs(l-c),f=lu(s.map(function(h){return h.y||0}));return ze(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(lu(a.map(function(h){return h.y||0})),f)),ze(f)?pe.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].y,c=s[s.length-1].y,u=r*Math.abs(l-c),f=lu(s.map(function(h){return h.x||0}));return ze(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(lu(a.map(function(h){return h.x||0})),f)),ze(f)?pe.createElement("rect",{x:0,y:l<c?l:l-u,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var o=this.props,l=o.layout,c=o.type,u=o.stroke,f=o.connectNulls,h=o.isRange;o.ref;var p=qq(o,lCe);return pe.createElement(ur,{clipPath:a?"url(#clipPath-".concat(s,")"):null},pe.createElement(Lg,Df({},Ht(p,!0),{points:r,connectNulls:f,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&pe.createElement(Lg,Df({},Ht(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:r})),u!=="none"&&h&&pe.createElement(Lg,Df({},Ht(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,y=this.state,b=y.prevPoints,x=y.prevBaseLine;return pe.createElement(uc,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var w=v.t;if(b){var _=b.length/o.length,A=o.map(function(N,k){var M=Math.floor(k*_);if(b[M]){var P=b[M],I=Cs(P.x,N.x),j=Cs(P.y,N.y);return Hc(Hc({},N),{},{x:I(w),y:j(w)})}return N}),E;if(ze(l)&&typeof l=="number"){var O=Cs(x,l);E=O(w)}else if(Jt(l)||Xp(l)){var C=Cs(x,0);E=C(w)}else E=l.map(function(N,k){var M=Math.floor(k*_);if(x[M]){var P=x[M],I=Cs(P.x,N.x),j=Cs(P.y,N.y);return Hc(Hc({},N),{},{x:I(w),y:j(w)})}return N});return a.renderAreaStatically(A,E,r,i)}return pe.createElement(ur,null,pe.createElement("defs",null,pe.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(w))),pe.createElement(ur,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,o=a.baseLine,l=a.isAnimationActive,c=this.state,u=c.prevPoints,f=c.prevBaseLine,h=c.totalLength;return l&&s&&s.length&&(!u&&h>0||!Ry(u,s)||!Ry(f,o))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.top,u=i.left,f=i.xAxis,h=i.yAxis,p=i.width,y=i.height,b=i.isAnimationActive,x=i.id;if(a||!o||!o.length)return null;var v=this.state.isAnimationFinished,w=o.length===1,_=on("recharts-area",l),A=f&&f.allowDataOverflow,E=h&&h.allowDataOverflow,O=A||E,C=Jt(x)?this.id:x,N=(r=Ht(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=N.r,M=k===void 0?3:k,P=N.strokeWidth,I=P===void 0?2:P,j=jpe(s)?s:{},B=j.clipDot,G=B===void 0?!0:B,Z=M*2+I;return pe.createElement(ur,{className:_},A||E?pe.createElement("defs",null,pe.createElement("clipPath",{id:"clipPath-".concat(C)},pe.createElement("rect",{x:A?u:u-p/2,y:E?c:c-y/2,width:A?p:p*2,height:E?y:y*2})),!G&&pe.createElement("clipPath",{id:"clipPath-dots-".concat(C)},pe.createElement("rect",{x:u-Z/2,y:c-Z/2,width:p+Z,height:y+Z}))):null,w?null:this.renderArea(O,C),(s||w)&&this.renderDots(O,G,C),(!b||v)&&Nu.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(U.PureComponent);zq=Qu;Wo(Qu,"displayName","Area");Wo(Qu,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!em.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Wo(Qu,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,o=s??a;if(ze(o)&&typeof o=="number")return o;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return o==="dataMin"?f:o==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]});Wo(Qu,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,h=t.offset,p=e.layout,y=c&&c.length,b=zq.getBaseValue(e,n,r,i),x=p==="horizontal",v=!1,w=f.map(function(A,E){var O;y?O=c[u+E]:(O=as(A,l),Array.isArray(O)?v=!0:O=[b,O]);var C=O[1]==null||y&&as(A,l)==null;return x?{x:GL({axis:r,ticks:a,bandSize:o,entry:A,index:E}),y:C?null:i.scale(O[1]),value:O,payload:A}:{x:C?null:r.scale(O[1]),y:GL({axis:i,ticks:s,bandSize:o,entry:A,index:E}),value:O,payload:A}}),_;return y||v?_=w.map(function(A){var E=Array.isArray(A.value)?A.value[0]:null;return x?{x:A.x,y:E!=null&&A.y!=null?i.scale(E):null}:{x:E!=null?r.scale(E):null,y:A.y}}):_=x?i.scale(b):r.scale(b),Hc({points:w,baseLine:_,layout:p,isRange:v},h)});Wo(Qu,"renderDotItem",function(t,e){var n;if(pe.isValidElement(t))n=pe.cloneElement(t,e);else if(Vt(t))n=t(e);else{var r=on("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=qq(e,cCe);n=pe.createElement(_k,Df({},a,{key:i,className:r}))}return n});function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function vCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yq(r.key),r)}}function xCe(t,e,n){return e&&bCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wCe(t,e,n){return e=zx(e),_Ce(t,Gq()?Reflect.construct(e,n||[],zx(t).constructor):e.apply(t,n))}function _Ce(t,e){if(e&&(Pp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SCe(t)}function SCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gq=function(){return!!t})()}function zx(t){return zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zx(t)}function ACe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gE(t,e)}function gE(t,e){return gE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gE(t,e)}function Kq(t,e,n){return e=Yq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yq(t){var e=NCe(t,"string");return Pp(e)=="symbol"?e:e+""}function NCe(t,e){if(Pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yE(){return yE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yE.apply(this,arguments)}function ECe(t){var e=t.xAxisId,n=Ek(),r=Pk(),i=jq(e);return i==null?null:U.createElement(im,yE({},i,{className:on("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Vl(s,!0)}}))}var Iw=function(t){function e(){return vCe(this,e),wCe(this,e,arguments)}return ACe(e,t),xCe(e,[{key:"render",value:function(){return U.createElement(ECe,this.props)}}])}(U.Component);Kq(Iw,"displayName","XAxis");Kq(Iw,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function PCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jq(r.key),r)}}function kCe(t,e,n){return e&&TCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jCe(t,e,n){return e=qx(e),CCe(t,Xq()?Reflect.construct(e,n||[],qx(t).constructor):e.apply(t,n))}function CCe(t,e){if(e&&(Tp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ICe(t)}function ICe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xq=function(){return!!t})()}function qx(t){return qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qx(t)}function OCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vE(t,e)}function vE(t,e){return vE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vE(t,e)}function Qq(t,e,n){return e=Jq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jq(t){var e=RCe(t,"string");return Tp(e)=="symbol"?e:e+""}function RCe(t,e){if(Tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bE.apply(this,arguments)}var LCe=function(e){var n=e.yAxisId,r=Ek(),i=Pk(),a=Cq(n);return a==null?null:U.createElement(im,bE({},a,{className:on("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return Vl(o,!0)}}))},Ow=function(t){function e(){return PCe(this,e),jCe(this,e,arguments)}return OCe(e,t),kCe(e,[{key:"render",value:function(){return U.createElement(LCe,this.props)}}])}(U.Component);Qq(Ow,"displayName","YAxis");Qq(Ow,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function uM(t){return $Ce(t)||FCe(t)||DCe(t)||MCe()}function MCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DCe(t,e){if(t){if(typeof t=="string")return xE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xE(t,e)}}function FCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Ce(t){if(Array.isArray(t))return xE(t)}function xE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var wE=function(e,n,r,i,a){var s=fo(e,kk),o=fo(e,kw),l=[].concat(uM(s),uM(o)),c=fo(e,Cw),u="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(b,x){if(x.props[u]===r&&nl(x.props,"extendDomain")&&ze(x.props[f])){var v=x.props[f];return[Math.min(b[0],v),Math.max(b[1],v)]}return b},h)),c.length){var p="".concat(f,"1"),y="".concat(f,"2");h=c.reduce(function(b,x){if(x.props[u]===r&&nl(x.props,"extendDomain")&&ze(x.props[p])&&ze(x.props[y])){var v=x.props[p],w=x.props[y];return[Math.min(b[0],v,w),Math.max(b[1],v,w)]}return b},h)}return a&&a.length&&(h=a.reduce(function(b,x){return ze(x)?[Math.min(b[0],x),Math.max(b[1],x)]:b},h)),h},Zq={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||l,h),y=n?n+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],p]:l._events[y].push(p):(l._events[y]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,y=new Array(p);h<p;h++)y[h]=f[h].fn;return y},o.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,h,p,y){var b=n?n+c:c;if(!this._events[b])return!1;var x=this._events[b],v=arguments.length,w,_;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,f),!0;case 4:return x.fn.call(x.context,u,f,h),!0;case 5:return x.fn.call(x.context,u,f,h,p),!0;case 6:return x.fn.call(x.context,u,f,h,p,y),!0}for(_=1,w=new Array(v-1);_<v;_++)w[_-1]=arguments[_];x.fn.apply(x.context,w)}else{var A=x.length,E;for(_=0;_<A;_++)switch(x[_].once&&this.removeListener(c,x[_].fn,void 0,!0),v){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,u);break;case 3:x[_].fn.call(x[_].context,u,f);break;case 4:x[_].fn.call(x[_].context,u,f,h);break;default:if(!w)for(E=1,w=new Array(v-1);E<v;E++)w[E-1]=arguments[E];x[_].fn.apply(x[_].context,w)}}return!0},o.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,h){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var y=this._events[p];if(y.fn)y.fn===u&&(!h||y.once)&&(!f||y.context===f)&&s(this,p);else{for(var b=0,x=[],v=y.length;b<v;b++)(y[b].fn!==u||h&&!y[b].once||f&&y[b].context!==f)&&x.push(y[b]);x.length?this._events[p]=x.length===1?x[0]:x:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(Zq);var BCe=Zq.exports;const UCe=Ln(BCe);var E_=new UCe,P_="recharts.syncMouseEvents";function nv(t){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nv(t)}function VCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eW(r.key),r)}}function qCe(t,e,n){return e&&zCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function T_(t,e,n){return e=eW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eW(t){var e=WCe(t,"string");return nv(e)=="symbol"?e:e+""}function WCe(t,e){if(nv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var HCe=function(){function t(){VCe(this,t),T_(this,"activeIndex",0),T_(this,"coordinateList",[]),T_(this,"layout","horizontal")}return qCe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,l=n.layout,c=l===void 0?null:l,u=n.offset,f=u===void 0?null:u,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function GCe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ze(r)&&ze(i))return!0}return!1}function KCe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function tW(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=Ni(e,n,r,i),o=Ni(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function YCe(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,h=Ni(o,l,c,f),p=Ni(o,l,u,f);r=h.x,i=h.y,a=p.x,s=p.y}else return tW(e);return[{x:r,y:i},{x:a,y:s}]}function rv(t){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rv(t)}function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){XCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XCe(t,e,n){return e=QCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QCe(t){var e=JCe(t,"string");return rv(e)=="symbol"?e:e+""}function JCe(t,e){if(rv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZCe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var y,b=Lg;if(h==="ScatterChart")y=s,b=n4e;else if(h==="BarChart")y=KCe(f,s,l,u),b=wk;else if(f==="radial"){var x=tW(s),v=x.cx,w=x.cy,_=x.radius,A=x.startAngle,E=x.endAngle;y={cx:v,cy:w,startAngle:A,endAngle:E,innerRadius:_,outerRadius:_},b=nq}else y={points:YCe(f,s,l)},b=Lg;var O=n1(n1(n1(n1({stroke:"#ccc",pointerEvents:"none"},l),y),Ht(p,!1)),{},{payload:o,payloadIndex:c,className:on("recharts-tooltip-cursor",p.className)});return U.isValidElement(p)?U.cloneElement(p,O):U.createElement(b,O)}var eIe=["item"],tIe=["children","className","width","height","style","compact","title","desc"];function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}function bh(){return bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bh.apply(this,arguments)}function dM(t,e){return iIe(t)||rIe(t,e)||rW(t,e)||nIe()}function nIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function iIe(t){if(Array.isArray(t))return t}function hM(t,e){if(t==null)return{};var n=aIe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iW(r.key),r)}}function lIe(t,e,n){return e&&oIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cIe(t,e,n){return e=Wx(e),uIe(t,nW()?Reflect.construct(e,n||[],Wx(t).constructor):e.apply(t,n))}function uIe(t,e){if(e&&(kp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fIe(t)}function fIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nW=function(){return!!t})()}function Wx(t){return Wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wx(t)}function dIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_E(t,e)}function _E(t,e){return _E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_E(t,e)}function jp(t){return mIe(t)||pIe(t)||rW(t)||hIe()}function hIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rW(t,e){if(t){if(typeof t=="string")return SE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SE(t,e)}}function pIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mIe(t){if(Array.isArray(t))return SE(t)}function SE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Te(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(n),!0).forEach(function(r){_t(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _t(t,e,n){return e=iW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iW(t){var e=gIe(t,"string");return kp(e)=="symbol"?e:e+""}function gIe(t,e){if(kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yIe={xAxis:["bottom","top"],yAxis:["left","right"]},vIe={width:"100%",height:"100%"},aW={x:0,y:0};function r1(t){return t}var bIe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},xIe=function(e,n,r,i){var a=n.find(function(u){return u&&u.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return Te(Te(Te({},i),Ni(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return Te(Te(Te({},i),Ni(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return aW},Rw=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(jp(o),jp(c)):o},[]);return s.length>0?s:e&&e.length&&ze(i)&&ze(a)?e.slice(i,a+1):[]};function sW(t){return t==="number"?[0,"auto"]:void 0}var AE=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=Rw(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=Wb(p,s.dataKey,i)}else h=f&&f[r]||o[r];return h?[].concat(jp(l),[Zz(c,h)]):l},[])},mM=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=bIe(a,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=RNe(s,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=AE(e,n,u,f),p=xIe(r,o,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},wIe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,f=e.children,h=e.stackOffset,p=Xz(u,a);return r.reduce(function(y,b){var x,v=b.type.defaultProps!==void 0?Te(Te({},b.type.defaultProps),b.props):b.props,w=v.type,_=v.dataKey,A=v.allowDataOverflow,E=v.allowDuplicatedCategory,O=v.scale,C=v.ticks,N=v.includeHidden,k=v[s];if(y[k])return y;var M=Rw(e.data,{graphicalItems:i.filter(function($){var H,ie=s in $.props?$.props[s]:(H=$.type.defaultProps)===null||H===void 0?void 0:H[s];return ie===k}),dataStartIndex:l,dataEndIndex:c}),P=M.length,I,j,B;GCe(v.domain,A,w)&&(I=zN(v.domain,null,A),p&&(w==="number"||O!=="auto")&&(B=Rg(M,_,"category")));var G=sW(w);if(!I||I.length===0){var Z,re=(Z=v.domain)!==null&&Z!==void 0?Z:G;if(_){if(I=Rg(M,_,w),w==="category"&&p){var Y=xpe(I);E&&Y?(j=I,I=Ix(0,P)):E||(I=QL(re,I,b).reduce(function($,H){return $.indexOf(H)>=0?$:[].concat(jp($),[H])},[]))}else if(w==="category")E?I=I.filter(function($){return $!==""&&!Jt($)}):I=QL(re,I,b).reduce(function($,H){return $.indexOf(H)>=0||H===""||Jt(H)?$:[].concat(jp($),[H])},[]);else if(w==="number"){var ae=$Ne(M,i.filter(function($){var H,ie,se=s in $.props?$.props[s]:(H=$.type.defaultProps)===null||H===void 0?void 0:H[s],le="hide"in $.props?$.props.hide:(ie=$.type.defaultProps)===null||ie===void 0?void 0:ie.hide;return se===k&&(N||!le)}),_,a,u);ae&&(I=ae)}p&&(w==="number"||O!=="auto")&&(B=Rg(M,_,"category"))}else p?I=Ix(0,P):o&&o[k]&&o[k].hasStack&&w==="number"?I=h==="expand"?[0,1]:Jz(o[k].stackGroups,l,c):I=Yz(M,i.filter(function($){var H=s in $.props?$.props[s]:$.type.defaultProps[s],ie="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return H===k&&(N||!ie)}),w,u,!0);if(w==="number")I=wE(f,I,k,a,C),re&&(I=zN(re,I,A));else if(w==="category"&&re){var ue=re,he=I.every(function($){return ue.indexOf($)>=0});he&&(I=ue)}}return Te(Te({},y),{},_t({},k,Te(Te({},v),{},{axisType:a,domain:I,categoricalDomain:B,duplicateDomain:j,originalDomain:(x=v.domain)!==null&&x!==void 0?x:G,isCategorical:p,layout:u})))},{})},_Ie=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,f=e.children,h=Rw(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=h.length,y=Xz(u,a),b=-1;return r.reduce(function(x,v){var w=v.type.defaultProps!==void 0?Te(Te({},v.type.defaultProps),v.props):v.props,_=w[s],A=sW("number");if(!x[_]){b++;var E;return y?E=Ix(0,p):o&&o[_]&&o[_].hasStack?(E=Jz(o[_].stackGroups,l,c),E=wE(f,E,_,a)):(E=zN(A,Yz(h,r.filter(function(O){var C,N,k=s in O.props?O.props[s]:(C=O.type.defaultProps)===null||C===void 0?void 0:C[s],M="hide"in O.props?O.props.hide:(N=O.type.defaultProps)===null||N===void 0?void 0:N.hide;return k===_&&!M}),"number",u),i.defaultProps.allowDataOverflow),E=wE(f,E,_,a)),Te(Te({},x),{},_t({},_,Te(Te({axisType:a},i.defaultProps),{},{hide:!0,orientation:Ms(yIe,"".concat(a,".").concat(b%2),null),domain:E,originalDomain:A,isCategorical:y,layout:u})))}return x},{})},SIe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,f="".concat(i,"Id"),h=fo(u,a),p={};return h&&h.length?p=wIe(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=_Ie(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},AIe=function(e){var n=ru(e),r=Vl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:K4(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:_x(n,r)}},gM=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ga(n,xp),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},NIe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Kl(n&&n.type);return r&&r.indexOf("Bar")>=0})},yM=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},EIe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,u=r.height,f=r.children,h=r.margin||{},p=Ga(f,xp),y=Ga(f,Lh),b=Object.keys(l).reduce(function(E,O){var C=l[O],N=C.orientation;return!C.mirror&&!C.hide?Te(Te({},E),{},_t({},N,E[N]+C.width)):E},{left:h.left||0,right:h.right||0}),x=Object.keys(s).reduce(function(E,O){var C=s[O],N=C.orientation;return!C.mirror&&!C.hide?Te(Te({},E),{},_t({},N,Ms(E,"".concat(N))+C.height)):E},{top:h.top||0,bottom:h.bottom||0}),v=Te(Te({},x),b),w=v.bottom;p&&(v.bottom+=p.props.height||xp.defaultProps.height),y&&n&&(v=DNe(v,i,r,n));var _=c-v.left-v.right,A=u-v.top-v.bottom;return Te(Te({brushBottom:w},v),{},{width:Math.max(_,0),height:Math.max(A,0)})},PIe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},TIe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,h=function(v,w){var _=w.graphicalItems,A=w.stackGroups,E=w.offset,O=w.updateId,C=w.dataStartIndex,N=w.dataEndIndex,k=v.barSize,M=v.layout,P=v.barGap,I=v.barCategoryGap,j=v.maxBarSize,B=yM(M),G=B.numericAxisName,Z=B.cateAxisName,re=NIe(_),Y=[];return _.forEach(function(ae,ue){var he=Rw(v.data,{graphicalItems:[ae],dataStartIndex:C,dataEndIndex:N}),$=ae.type.defaultProps!==void 0?Te(Te({},ae.type.defaultProps),ae.props):ae.props,H=$.dataKey,ie=$.maxBarSize,se=$["".concat(G,"Id")],le=$["".concat(Z,"Id")],ge={},Ae=l.reduce(function(qe,et){var tt=w["".concat(et.axisType,"Map")],zt=$["".concat(et.axisType,"Id")];tt&&tt[zt]||et.axisType==="zAxis"||od();var Ct=tt[zt];return Te(Te({},qe),{},_t(_t({},et.axisType,Ct),"".concat(et.axisType,"Ticks"),Vl(Ct)))},ge),fe=Ae[Z],we=Ae["".concat(Z,"Ticks")],Ee=A&&A[se]&&A[se].hasStack&&QNe(ae,A[se].stackGroups),ve=Kl(ae.type).indexOf("Bar")>=0,Le=_x(fe,we),$e=[],Q=re&&LNe({barSize:k,stackGroups:A,totalSize:PIe(Ae,Z)});if(ve){var Me,ct,Je=Jt(ie)?j:ie,ce=(Me=(ct=_x(fe,we,!0))!==null&&ct!==void 0?ct:Je)!==null&&Me!==void 0?Me:0;$e=MNe({barGap:P,barCategoryGap:I,bandSize:ce!==Le?ce:Le,sizeList:Q[le],maxBarSize:Je}),ce!==Le&&($e=$e.map(function(qe){return Te(Te({},qe),{},{position:Te(Te({},qe.position),{},{offset:qe.position.offset-ce/2})})}))}var Be=ae&&ae.type&&ae.type.getComposedData;Be&&Y.push({props:Te(Te({},Be(Te(Te({},Ae),{},{displayedData:he,props:v,dataKey:H,item:ae,bandSize:Le,barPosition:$e,offset:E,stackedData:Ee,layout:M,dataStartIndex:C,dataEndIndex:N}))),{},_t(_t(_t({key:ae.key||"item-".concat(ue)},G,Ae[G]),Z,Ae[Z]),"animationId",O)),childIndex:Ope(ae,v.children),item:ae})}),Y},p=function(v,w){var _=v.props,A=v.dataStartIndex,E=v.dataEndIndex,O=v.updateId;if(!qO({props:_}))return null;var C=_.children,N=_.layout,k=_.stackOffset,M=_.data,P=_.reverseStackOrder,I=yM(N),j=I.numericAxisName,B=I.cateAxisName,G=fo(C,r),Z=KNe(M,G,"".concat(j,"Id"),"".concat(B,"Id"),k,P),re=l.reduce(function($,H){var ie="".concat(H.axisType,"Map");return Te(Te({},$),{},_t({},ie,SIe(_,Te(Te({},H),{},{graphicalItems:G,stackGroups:H.axisType===j&&Z,dataStartIndex:A,dataEndIndex:E}))))},{}),Y=EIe(Te(Te({},re),{},{props:_,graphicalItems:G}),w==null?void 0:w.legendBBox);Object.keys(re).forEach(function($){re[$]=u(_,re[$],Y,$.replace("Map",""),n)});var ae=re["".concat(B,"Map")],ue=AIe(ae),he=h(_,Te(Te({},re),{},{dataStartIndex:A,dataEndIndex:E,updateId:O,graphicalItems:G,stackGroups:Z,offset:Y}));return Te(Te({formattedGraphicalItems:he,graphicalItems:G,offset:Y,stackGroups:Z},ue),re)},y=function(x){function v(w){var _,A,E;return sIe(this,v),E=cIe(this,v,[w]),_t(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_t(E,"accessibilityManager",new HCe),_t(E,"handleLegendBBoxUpdate",function(O){if(O){var C=E.state,N=C.dataStartIndex,k=C.dataEndIndex,M=C.updateId;E.setState(Te({legendBBox:O},p({props:E.props,dataStartIndex:N,dataEndIndex:k,updateId:M},Te(Te({},E.state),{},{legendBBox:O}))))}}),_t(E,"handleReceiveSyncEvent",function(O,C,N){if(E.props.syncId===O){if(N===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(C)}}),_t(E,"handleBrushChange",function(O){var C=O.startIndex,N=O.endIndex;if(C!==E.state.dataStartIndex||N!==E.state.dataEndIndex){var k=E.state.updateId;E.setState(function(){return Te({dataStartIndex:C,dataEndIndex:N},p({props:E.props,dataStartIndex:C,dataEndIndex:N,updateId:k},E.state))}),E.triggerSyncEvent({dataStartIndex:C,dataEndIndex:N})}}),_t(E,"handleMouseEnter",function(O){var C=E.getMouseInfo(O);if(C){var N=Te(Te({},C),{},{isTooltipActive:!0});E.setState(N),E.triggerSyncEvent(N);var k=E.props.onMouseEnter;Vt(k)&&k(N,O)}}),_t(E,"triggeredAfterMouseMove",function(O){var C=E.getMouseInfo(O),N=C?Te(Te({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(N),E.triggerSyncEvent(N);var k=E.props.onMouseMove;Vt(k)&&k(N,O)}),_t(E,"handleItemMouseEnter",function(O){E.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),_t(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),_t(E,"handleMouseMove",function(O){O.persist(),E.throttleTriggeredAfterMouseMove(O)}),_t(E,"handleMouseLeave",function(O){E.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};E.setState(C),E.triggerSyncEvent(C);var N=E.props.onMouseLeave;Vt(N)&&N(C,O)}),_t(E,"handleOuterEvent",function(O){var C=Ipe(O),N=Ms(E.props,"".concat(C));if(C&&Vt(N)){var k,M;/.*touch.*/i.test(C)?M=E.getMouseInfo(O.changedTouches[0]):M=E.getMouseInfo(O),N((k=M)!==null&&k!==void 0?k:{},O)}}),_t(E,"handleClick",function(O){var C=E.getMouseInfo(O);if(C){var N=Te(Te({},C),{},{isTooltipActive:!0});E.setState(N),E.triggerSyncEvent(N);var k=E.props.onClick;Vt(k)&&k(N,O)}}),_t(E,"handleMouseDown",function(O){var C=E.props.onMouseDown;if(Vt(C)){var N=E.getMouseInfo(O);C(N,O)}}),_t(E,"handleMouseUp",function(O){var C=E.props.onMouseUp;if(Vt(C)){var N=E.getMouseInfo(O);C(N,O)}}),_t(E,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),_t(E,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&E.handleMouseDown(O.changedTouches[0])}),_t(E,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&E.handleMouseUp(O.changedTouches[0])}),_t(E,"handleDoubleClick",function(O){var C=E.props.onDoubleClick;if(Vt(C)){var N=E.getMouseInfo(O);C(N,O)}}),_t(E,"handleContextMenu",function(O){var C=E.props.onContextMenu;if(Vt(C)){var N=E.getMouseInfo(O);C(N,O)}}),_t(E,"triggerSyncEvent",function(O){E.props.syncId!==void 0&&E_.emit(P_,E.props.syncId,O,E.eventEmitterSymbol)}),_t(E,"applySyncEvent",function(O){var C=E.props,N=C.layout,k=C.syncMethod,M=E.state.updateId,P=O.dataStartIndex,I=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)E.setState(Te({dataStartIndex:P,dataEndIndex:I},p({props:E.props,dataStartIndex:P,dataEndIndex:I,updateId:M},E.state)));else if(O.activeTooltipIndex!==void 0){var j=O.chartX,B=O.chartY,G=O.activeTooltipIndex,Z=E.state,re=Z.offset,Y=Z.tooltipTicks;if(!re)return;if(typeof k=="function")G=k(Y,O);else if(k==="value"){G=-1;for(var ae=0;ae<Y.length;ae++)if(Y[ae].value===O.activeLabel){G=ae;break}}var ue=Te(Te({},re),{},{x:re.left,y:re.top}),he=Math.min(j,ue.x+ue.width),$=Math.min(B,ue.y+ue.height),H=Y[G]&&Y[G].value,ie=AE(E.state,E.props.data,G),se=Y[G]?{x:N==="horizontal"?Y[G].coordinate:he,y:N==="horizontal"?$:Y[G].coordinate}:aW;E.setState(Te(Te({},O),{},{activeLabel:H,activeCoordinate:se,activePayload:ie,activeTooltipIndex:G}))}else E.setState(O)}),_t(E,"renderCursor",function(O){var C,N=E.state,k=N.isTooltipActive,M=N.activeCoordinate,P=N.activePayload,I=N.offset,j=N.activeTooltipIndex,B=N.tooltipAxisBandSize,G=E.getTooltipEventType(),Z=(C=O.props.active)!==null&&C!==void 0?C:k,re=E.props.layout,Y=O.key||"_recharts-cursor";return pe.createElement(ZCe,{key:Y,activeCoordinate:M,activePayload:P,activeTooltipIndex:j,chartName:n,element:O,isActive:Z,layout:re,offset:I,tooltipAxisBandSize:B,tooltipEventType:G})}),_t(E,"renderPolarAxis",function(O,C,N){var k=Ms(O,"type.axisType"),M=Ms(E.state,"".concat(k,"Map")),P=O.type.defaultProps,I=P!==void 0?Te(Te({},P),O.props):O.props,j=M&&M[I["".concat(k,"Id")]];return U.cloneElement(O,Te(Te({},j),{},{className:on(k,j.className),key:O.key||"".concat(C,"-").concat(N),ticks:Vl(j,!0)}))}),_t(E,"renderPolarGrid",function(O){var C=O.props,N=C.radialLines,k=C.polarAngles,M=C.polarRadius,P=E.state,I=P.radiusAxisMap,j=P.angleAxisMap,B=ru(I),G=ru(j),Z=G.cx,re=G.cy,Y=G.innerRadius,ae=G.outerRadius;return U.cloneElement(O,{polarAngles:Array.isArray(k)?k:Vl(G,!0).map(function(ue){return ue.coordinate}),polarRadius:Array.isArray(M)?M:Vl(B,!0).map(function(ue){return ue.coordinate}),cx:Z,cy:re,innerRadius:Y,outerRadius:ae,key:O.key||"polar-grid",radialLines:N})}),_t(E,"renderLegend",function(){var O=E.state.formattedGraphicalItems,C=E.props,N=C.children,k=C.width,M=C.height,P=E.props.margin||{},I=k-(P.left||0)-(P.right||0),j=Gz({children:N,formattedGraphicalItems:O,legendWidth:I,legendContent:c});if(!j)return null;var B=j.item,G=hM(j,eIe);return U.cloneElement(B,Te(Te({},G),{},{chartWidth:k,chartHeight:M,margin:P,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),_t(E,"renderTooltip",function(){var O,C=E.props,N=C.children,k=C.accessibilityLayer,M=Ga(N,Bo);if(!M)return null;var P=E.state,I=P.isTooltipActive,j=P.activeCoordinate,B=P.activePayload,G=P.activeLabel,Z=P.offset,re=(O=M.props.active)!==null&&O!==void 0?O:I;return U.cloneElement(M,{viewBox:Te(Te({},Z),{},{x:Z.left,y:Z.top}),active:re,label:G,payload:re?B:[],coordinate:j,accessibilityLayer:k})}),_t(E,"renderBrush",function(O){var C=E.props,N=C.margin,k=C.data,M=E.state,P=M.offset,I=M.dataStartIndex,j=M.dataEndIndex,B=M.updateId;return U.cloneElement(O,{key:O.key||"_recharts-brush",onChange:J0(E.handleBrushChange,O.props.onChange),data:k,x:ze(O.props.x)?O.props.x:P.left,y:ze(O.props.y)?O.props.y:P.top+P.height+P.brushBottom-(N.bottom||0),width:ze(O.props.width)?O.props.width:P.width,startIndex:I,endIndex:j,updateId:"brush-".concat(B)})}),_t(E,"renderReferenceElement",function(O,C,N){if(!O)return null;var k=E,M=k.clipPathId,P=E.state,I=P.xAxisMap,j=P.yAxisMap,B=P.offset,G=O.type.defaultProps||{},Z=O.props,re=Z.xAxisId,Y=re===void 0?G.xAxisId:re,ae=Z.yAxisId,ue=ae===void 0?G.yAxisId:ae;return U.cloneElement(O,{key:O.key||"".concat(C,"-").concat(N),xAxis:I[Y],yAxis:j[ue],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:M})}),_t(E,"renderActivePoints",function(O){var C=O.item,N=O.activePoint,k=O.basePoint,M=O.childIndex,P=O.isRange,I=[],j=C.props.key,B=C.item.type.defaultProps!==void 0?Te(Te({},C.item.type.defaultProps),C.item.props):C.item.props,G=B.activeDot,Z=B.dataKey,re=Te(Te({index:M,dataKey:Z,cx:N.x,cy:N.y,r:4,fill:xk(C.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},Ht(G,!1)),Hb(G));return I.push(v.renderActiveDot(G,re,"".concat(j,"-activePoint-").concat(M))),k?I.push(v.renderActiveDot(G,Te(Te({},re),{},{cx:k.x,cy:k.y}),"".concat(j,"-basePoint-").concat(M))):P&&I.push(null),I}),_t(E,"renderGraphicChild",function(O,C,N){var k=E.filterFormatItem(O,C,N);if(!k)return null;var M=E.getTooltipEventType(),P=E.state,I=P.isTooltipActive,j=P.tooltipAxis,B=P.activeTooltipIndex,G=P.activeLabel,Z=E.props.children,re=Ga(Z,Bo),Y=k.props,ae=Y.points,ue=Y.isRange,he=Y.baseLine,$=k.item.type.defaultProps!==void 0?Te(Te({},k.item.type.defaultProps),k.item.props):k.item.props,H=$.activeDot,ie=$.hide,se=$.activeBar,le=$.activeShape,ge=!!(!ie&&I&&re&&(H||se||le)),Ae={};M!=="axis"&&re&&re.props.trigger==="click"?Ae={onClick:J0(E.handleItemMouseEnter,O.props.onClick)}:M!=="axis"&&(Ae={onMouseLeave:J0(E.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:J0(E.handleItemMouseEnter,O.props.onMouseEnter)});var fe=U.cloneElement(O,Te(Te({},k.props),Ae));function we(et){return typeof j.dataKey=="function"?j.dataKey(et.payload):null}if(ge)if(B>=0){var Ee,ve;if(j.dataKey&&!j.allowDuplicatedCategory){var Le=typeof j.dataKey=="function"?we:"payload.".concat(j.dataKey.toString());Ee=Wb(ae,Le,G),ve=ue&&he&&Wb(he,Le,G)}else Ee=ae==null?void 0:ae[B],ve=ue&&he&&he[B];if(le||se){var $e=O.props.activeIndex!==void 0?O.props.activeIndex:B;return[U.cloneElement(O,Te(Te(Te({},k.props),Ae),{},{activeIndex:$e})),null,null]}if(!Jt(Ee))return[fe].concat(jp(E.renderActivePoints({item:k,activePoint:Ee,basePoint:ve,childIndex:B,isRange:ue})))}else{var Q,Me=(Q=E.getItemByXY(E.state.activeCoordinate))!==null&&Q!==void 0?Q:{graphicalItem:fe},ct=Me.graphicalItem,Je=ct.item,ce=Je===void 0?O:Je,Be=ct.childIndex,qe=Te(Te(Te({},k.props),Ae),{},{activeIndex:Be});return[U.cloneElement(ce,qe),null,null]}return ue?[fe,null,null]:[fe,null]}),_t(E,"renderCustomized",function(O,C,N){return U.cloneElement(O,Te(Te({key:"recharts-customized-".concat(N)},E.props),E.state))}),_t(E,"renderMap",{CartesianGrid:{handler:r1,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:r1},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:r1},YAxis:{handler:r1},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:Bv("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=GV(E.triggeredAfterMouseMove,(A=w.throttleDelay)!==null&&A!==void 0?A:1e3/60),E.state={},E}return dIe(v,x),lIe(v,[{key:"componentDidMount",value:function(){var _,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,A=_.children,E=_.data,O=_.height,C=_.layout,N=Ga(A,Bo);if(N){var k=N.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,P=AE(this.state,E,k,M),I=this.state.tooltipTicks[k].coordinate,j=(this.state.offset.top+O)/2,B=C==="horizontal",G=B?{x:I,y:j}:{y:I,x:j},Z=this.state.formattedGraphicalItems.find(function(Y){var ae=Y.item;return ae.type.name==="Scatter"});Z&&(G=Te(Te({},G),Z.props.points[k].tooltipPosition),P=Z.props.points[k].tooltipPayload);var re={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:M,activePayload:P,activeCoordinate:G};this.setState(re),this.renderCursor(N),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var E,O;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(_){iN([Ga(_.children,Bo)],[Ga(this.props.children,Bo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Ga(this.props.children,Bo);if(_&&typeof _.props.shared=="boolean"){var A=_.props.shared?"axis":"item";return o.indexOf(A)>=0?A:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var A=this.container,E=A.getBoundingClientRect(),O=s5e(E),C={chartX:Math.round(_.pageX-O.left),chartY:Math.round(_.pageY-O.top)},N=E.width/A.offsetWidth||1,k=this.inRange(C.chartX,C.chartY,N);if(!k)return null;var M=this.state,P=M.xAxisMap,I=M.yAxisMap,j=this.getTooltipEventType(),B=mM(this.state,this.props.data,this.props.layout,k);if(j!=="axis"&&P&&I){var G=ru(P).scale,Z=ru(I).scale,re=G&&G.invert?G.invert(C.chartX):null,Y=Z&&Z.invert?Z.invert(C.chartY):null;return Te(Te({},C),{},{xValue:re,yValue:Y},B)}return B?Te(Te({},C),B):null}},{key:"inRange",value:function(_,A){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,C=_/E,N=A/E;if(O==="horizontal"||O==="vertical"){var k=this.state.offset,M=C>=k.left&&C<=k.left+k.width&&N>=k.top&&N<=k.top+k.height;return M?{x:C,y:N}:null}var P=this.state,I=P.angleAxisMap,j=P.radiusAxisMap;if(I&&j){var B=ru(I);return e6({x:C,y:N},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,A=this.getTooltipEventType(),E=Ga(_,Bo),O={};E&&A==="axis"&&(E.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=Hb(this.props,this.handleOuterEvent);return Te(Te({},C),O)}},{key:"addListener",value:function(){E_.on(P_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){E_.removeListener(P_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,A,E){for(var O=this.state.formattedGraphicalItems,C=0,N=O.length;C<N;C++){var k=O[C];if(k.item===_||k.props.key===_.key||A===Kl(k.item.type)&&E===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,A=this.state.offset,E=A.left,O=A.top,C=A.height,N=A.width;return pe.createElement("defs",null,pe.createElement("clipPath",{id:_},pe.createElement("rect",{x:E,y:O,height:C,width:N})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(A,E){var O=dM(E,2),C=O[0],N=O[1];return Te(Te({},A),{},_t({},C,N.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(A,E){var O=dM(E,2),C=O[0],N=O[1];return Te(Te({},A),{},_t({},C,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[_])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(_){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[_])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(_){var A=this.state,E=A.formattedGraphicalItems,O=A.activeItem;if(E&&E.length)for(var C=0,N=E.length;C<N;C++){var k=E[C],M=k.props,P=k.item,I=P.type.defaultProps!==void 0?Te(Te({},P.type.defaultProps),P.props):P.props,j=Kl(P.type);if(j==="Bar"){var B=(M.data||[]).find(function(Y){return HTe(_,Y)});if(B)return{graphicalItem:k,payload:B}}else if(j==="RadialBar"){var G=(M.data||[]).find(function(Y){return e6(_,Y)});if(G)return{graphicalItem:k,payload:G}}else if(Nw(k,O)||Ew(k,O)||Qy(k,O)){var Z=Y4e({graphicalItem:k,activeTooltipItem:O,itemData:I.data}),re=I.activeIndex===void 0?Z:I.activeIndex;return{graphicalItem:Te(Te({},k),{},{childIndex:re}),payload:Qy(k,O)?I.data[Z]:k.props.data[Z]}}}return null}},{key:"render",value:function(){var _=this;if(!qO(this))return null;var A=this.props,E=A.children,O=A.className,C=A.width,N=A.height,k=A.style,M=A.compact,P=A.title,I=A.desc,j=hM(A,tIe),B=Ht(j,!1);if(M)return pe.createElement(Y6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},pe.createElement(sN,bh({},B,{width:C,height:N,title:P,desc:I}),this.renderClipPath(),HO(E,this.renderMap)));if(this.props.accessibilityLayer){var G,Z;B.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,B.role=(Z=this.props.role)!==null&&Z!==void 0?Z:"application",B.onKeyDown=function(Y){_.accessibilityManager.keyboardEvent(Y)},B.onFocus=function(){_.accessibilityManager.focus()}}var re=this.parseEventsOfWrapper();return pe.createElement(Y6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},pe.createElement("div",bh({className:on("recharts-wrapper",O),style:Te({position:"relative",cursor:"default",width:C,height:N},k)},re,{ref:function(ae){_.container=ae}}),pe.createElement(sN,bh({},B,{width:C,height:N,title:P,desc:I,style:vIe}),this.renderClipPath(),HO(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(U.Component);_t(y,"displayName",n),_t(y,"defaultProps",Te({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),_t(y,"getDerivedStateFromProps",function(x,v){var w=x.dataKey,_=x.data,A=x.children,E=x.width,O=x.height,C=x.layout,N=x.stackOffset,k=x.margin,M=v.dataStartIndex,P=v.dataEndIndex;if(v.updateId===void 0){var I=gM(x);return Te(Te(Te({},I),{},{updateId:0},p(Te(Te({props:x},I),{},{updateId:0}),v)),{},{prevDataKey:w,prevData:_,prevWidth:E,prevHeight:O,prevLayout:C,prevStackOffset:N,prevMargin:k,prevChildren:A})}if(w!==v.prevDataKey||_!==v.prevData||E!==v.prevWidth||O!==v.prevHeight||C!==v.prevLayout||N!==v.prevStackOffset||!Rh(k,v.prevMargin)){var j=gM(x),B={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},G=Te(Te({},mM(v,_,C)),{},{updateId:v.updateId+1}),Z=Te(Te(Te({},j),B),G);return Te(Te(Te({},Z),p(Te({props:x},Z),v)),{},{prevDataKey:w,prevData:_,prevWidth:E,prevHeight:O,prevLayout:C,prevStackOffset:N,prevMargin:k,prevChildren:A})}if(!iN(A,v.prevChildren)){var re,Y,ae,ue,he=Ga(A,xp),$=he&&(re=(Y=he.props)===null||Y===void 0?void 0:Y.startIndex)!==null&&re!==void 0?re:M,H=he&&(ae=(ue=he.props)===null||ue===void 0?void 0:ue.endIndex)!==null&&ae!==void 0?ae:P,ie=$!==M||H!==P,se=!Jt(_),le=se&&!ie?v.updateId:v.updateId+1;return Te(Te({updateId:le},p(Te(Te({props:x},v),{},{updateId:le,dataStartIndex:$,dataEndIndex:H}),v)),{},{prevChildren:A,dataStartIndex:$,dataEndIndex:H})}return null}),_t(y,"renderActiveDot",function(x,v,w){var _;return U.isValidElement(x)?_=U.cloneElement(x,v):Vt(x)?_=x(v):_=pe.createElement(_k,v),pe.createElement(ur,{className:"recharts-active-dot",key:w},_)});var b=U.forwardRef(function(v,w){return pe.createElement(y,bh({},v,{ref:w}))});return b.displayName=y.displayName,b},kIe=TIe({chartName:"AreaChart",GraphicalChild:Qu,axisComponents:[{axisType:"xAxis",AxisComp:Iw},{axisType:"yAxis",AxisComp:Ow}],formatAxisMap:x3e});const jIe={occupied:{label:"Occupied",cls:"badge-sage"},vacant:{label:"Vacant",cls:"badge-amber"},maintenance:{label:"Maintenance",cls:"badge-rust"},paid:{label:"Paid",cls:"badge-sage"},pending:{label:"Pending",cls:"badge-amber"},late:{label:"Late",cls:"badge-rust"},open:{label:"Open",cls:"badge-rust"},"in-progress":{label:"In Progress",cls:"badge-amber"},resolved:{label:"Resolved",cls:"badge-sage"}};function NE({status:t,className:e=""}){const n=jIe[t]||{label:t||"Unknown",cls:"badge-stone"};return d.jsx("span",{className:`${n.cls} ${e}`,children:n.label})}function CIe(t){if(!t)return"";const e=[];return t.buildingName&&e.push(t.buildingName),t.unitNumber&&e.push(`Unit ${t.unitNumber}`),t.floor!=null&&t.floor!==""&&e.push(`Floor ${t.floor}`),e.length===0?t.name||"":e.join(" - ")}function cd(t){if(!t)return"";const e=[];return t.unitNumber&&e.push(`Unit ${t.unitNumber}`),t.floor!=null&&t.floor!==""&&e.push(`Floor ${t.floor}`),e.length>0?e.join(", "):t.name||""}function oW({property:t,onDelete:e,showDelete:n}){const{fmtRent:r}=ji(),{user:i}=Pr(),[a,s]=U.useState(0),[o,l]=U.useState(0);return U.useEffect(()=>!i||!(t!=null&&t.id)?void 0:L9(i.uid,t.id,u=>{s(u.length),l(u.filter(f=>f.status==="occupied").length)}),[i,t==null?void 0:t.id]),d.jsxs("div",{className:"card-hover group relative overflow-hidden",children:[d.jsx("div",{className:`absolute top-0 left-0 right-0 h-0.5 ${t.status==="occupied"?"bg-sage":t.status==="vacant"?"bg-amber":"bg-rust"}`}),d.jsxs(Xn,{to:`/properties/${t.id}`,className:"block p-5",children:[d.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[d.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[d.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 ${t.status==="occupied"?"bg-sage/10":t.status==="vacant"?"bg-amber/10":"bg-rust/10"}`,children:d.jsx(is,{size:18,className:t.status==="occupied"?"text-sage":t.status==="vacant"?"text-amber":"text-rust"})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:"font-body font-semibold text-ink text-sm truncate",children:t.name}),t.unitNumber&&d.jsxs("p",{className:"font-body text-xs text-sage font-medium flex items-center gap-1 mt-0.5",children:[d.jsx(xy,{size:10})," ",cd(t)]}),d.jsxs("p",{className:"font-body text-xs text-stone-400 flex items-center gap-1 mt-0.5 truncate",children:[d.jsx(qp,{size:11})," ",t.address]})]})]}),d.jsx(NE,{status:t.status})]}),d.jsxs("div",{className:"flex items-center gap-4 py-3 border-t border-b border-stone-100 my-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-body text-xs text-stone-400",children:"Rent"}),d.jsx("p",{className:"font-display font-semibold text-ink mt-0.5",children:r(t.monthlyRent,t.rentType)})]}),t.bedrooms>0&&d.jsxs("div",{className:"flex items-center gap-1 text-stone-400",children:[d.jsx(Zle,{size:13}),d.jsx("span",{className:"font-body text-xs",children:t.bedrooms})]}),t.bathrooms>0&&d.jsxs("div",{className:"flex items-center gap-1 text-stone-400",children:[d.jsx(Jle,{size:13}),d.jsx("span",{className:"font-body text-xs",children:t.bathrooms})]})]}),d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(da,{size:13,className:"text-stone-400"}),d.jsx("span",{className:"font-body text-xs text-stone-500",children:a>0?`${a} unit${a!==1?"s":""}  ${o} occupied`:"No units added yet"})]}),a>0&&d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-body font-semibold bg-sage/10 text-sage",children:[o,"/",a]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"font-body text-xs text-stone-400",children:t.tenantName?`Tenant: ${t.tenantName}`:"No tenant assigned"}),d.jsx(sl,{size:14,className:"text-stone-300 group-hover:text-sage transition-colors"})]})]}),d.jsxs("div",{className:"px-5 pb-4 pt-0 flex gap-2",children:[d.jsxs(Xn,{to:`/properties/${t.id}?tab=units`,className:"flex-1 flex items-center justify-center gap-1.5 py-2 rounded-xl border border-stone-200 hover:border-sage/30 hover:bg-sage/5 text-stone-500 hover:text-sage font-body text-xs font-medium transition-all",children:[d.jsx(da,{size:13})," Manage Units"]}),d.jsxs(Xn,{to:`/properties/${t.id}?tab=units&action=add`,className:"flex items-center justify-center gap-1 px-3 py-2 rounded-xl bg-sage/10 hover:bg-sage/20 text-sage font-body text-xs font-semibold transition-all",children:[d.jsx(uo,{size:12})," Add Unit"]})]}),n&&e&&d.jsx("button",{onClick:c=>{c.preventDefault(),e()},className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 p-1.5 rounded-lg bg-rust/10 text-rust hover:bg-rust/20 transition-all",children:d.jsx(q2,{size:13})})]})}function Ru({isOpen:t,onClose:e,title:n,children:r,size:i="md"}){U.useEffect(()=>{const s=o=>{o.key==="Escape"&&e()};return t&&window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[t,e]),U.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]);const a=i==="lg"?"max-w-2xl":i==="sm"?"max-w-sm":"max-w-lg";return d.jsx(ns,{children:t&&d.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4",children:[d.jsx(He.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-ink/50 backdrop-blur-sm",onClick:e}),d.jsxs(He.div,{initial:{opacity:0,y:24,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:16,scale:.98},transition:{type:"spring",damping:28,stiffness:360},className:`relative w-full ${a} bg-white rounded-t-2xl sm:rounded-2xl shadow-deep z-10 max-h-[92vh] overflow-y-auto`,children:[d.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-stone-100 sticky top-0 bg-white rounded-t-2xl z-10",children:[d.jsx("h2",{className:"font-display text-ink text-xl font-semibold",children:n}),d.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-stone-100 text-stone-400 hover:text-ink transition-colors",children:d.jsx(H2,{size:18})})]}),d.jsx("div",{className:"px-6 py-5",children:r})]})]})})}const Ds={free:{id:"free",name:"Free",price:0,period:null,maxProperties:2,badge:"FREE",badgeColor:"bg-stone-100 text-stone-500",description:"Get started with basic property management.",features:[{label:"Up to 2 properties",included:!0},{label:"Basic property management",included:!0},{label:"Tenant invitations",included:!0},{label:"Analytics & charts",included:!1},{label:"Automated reminders",included:!1},{label:"PDF invoice generation",included:!1},{label:"Multi-building management",included:!1},{label:"Advanced analytics",included:!1}],featureFlags:{analytics:!1,automatedReminders:!1,pdfInvoices:!1,multiBuilding:!1,advancedAnalytics:!1}},pro:{id:"pro",name:"Pro",price:7,period:"month",maxProperties:20,badge:"PRO",badgeColor:"bg-sage/15 text-sage",popular:!0,description:"For growing landlords who need more power.",features:[{label:"Up to 20 properties",included:!0},{label:"Basic property management",included:!0},{label:"Tenant invitations",included:!0},{label:"Analytics & charts",included:!0},{label:"Automated reminders",included:!0},{label:"PDF invoice generation",included:!0},{label:"Multi-building management",included:!1},{label:"Advanced analytics",included:!1}],featureFlags:{analytics:!0,automatedReminders:!0,pdfInvoices:!0,multiBuilding:!1,advancedAnalytics:!1}},business:{id:"business",name:"Business",price:20,period:"month",maxProperties:1/0,badge:"BIZ",badgeColor:"bg-amber/15 text-amber",description:"For professional property managers at scale.",features:[{label:"Unlimited properties",included:!0},{label:"Basic property management",included:!0},{label:"Tenant invitations",included:!0},{label:"Analytics & charts",included:!0},{label:"Automated reminders",included:!0},{label:"PDF invoice generation",included:!0},{label:"Multi-building management",included:!0},{label:"Advanced analytics",included:!0}],featureFlags:{analytics:!0,automatedReminders:!0,pdfInvoices:!0,multiBuilding:!0,advancedAnalytics:!0}}},Fh=["free","pro","business"];async function Lw(t){var i;const e=await al(Tn(At,"users",t));if(!e.exists())return Ds.free;const r=((i=e.data().subscription)==null?void 0:i.planId)||"free";return Ds[r]||Ds.free}async function IIe(t,e){if(!Ds[e])throw new Error(`Invalid plan: ${e}`);await cs(Tn(At,"users",t),{subscription:{planId:e,updatedAt:pr()}})}async function lW(t,e){const n=await Lw(t);return e<n.maxProperties}function cW(t){const e=Fh.indexOf(t);return e<0||e>=Fh.length-1?null:Ds[Fh[e+1]]}const OIe=["Apartment","House","Studio","Duplex","Commercial","Other"],RIe=[{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"yearly",label:"Yearly"}],LIe=(t,e,n)=>({id:crypto.randomUUID(),unitName:`Unit ${t+1}`,rentAmount:"",billingCycle:"monthly",tenantName:"",tenantEmail:"",showTenant:!1}),MIe=["Property Details","Number of Units","Unit Setup"],k_={enter:{opacity:0,x:48},center:{opacity:1,x:0},exit:{opacity:0,x:-48}};function DIe({isOpen:t,onClose:e,propertyCount:n=0}){const{user:r}=Pr(),{currencySymbol:i}=ji(),a=ls(),[s,o]=U.useState(1),[l,c]=U.useState(!1),[u,f]=U.useState(null),[h,p]=U.useState(""),[y,b]=U.useState({name:"",address:"",type:"Apartment",status:"vacant"}),[x,v]=U.useState(""),w=U.useRef(null),[_,A]=U.useState([]),E=P=>I=>b(j=>({...j,[P]:I.target.value})),O=(P,I,j)=>A(B=>B.map(G=>G.id===P?{...G,[I]:j}:G));U.useEffect(()=>{s===2&&setTimeout(()=>{var P;return(P=w.current)==null?void 0:P.focus()},100)},[s]);const C=async P=>{if(P.preventDefault(),!y.name.trim()||!y.address.trim()){We.error("Property name and address are required.");return}if(!await lW(r.uid,n)){const j=await Lw(r.uid),B=cW(j.id);We.error(`Reached ${j.maxProperties}-property limit on ${j.name}.${B?` Upgrade to ${B.name}.`:""}`,{duration:4e3});return}c(!0);try{const j=await LT(r.uid,{...y});f(j.id),p(y.name),o(2)}catch{We.error("Failed to create property.")}finally{c(!1)}},N=P=>{P.preventDefault();const I=Math.max(1,Math.min(50,parseInt(x)||1));v(I),A(Array.from({length:I},(j,B)=>LIe(B))),o(3)},k=async()=>{const P=_.filter(I=>I.unitName.trim());c(!0);try{for(const I of P)await R9(r.uid,u,{unitName:I.unitName.trim(),rentAmount:parseInt(I.rentAmount)||0,billingCycle:I.billingCycle||"monthly",status:I.tenantName||I.tenantEmail?"occupied":"vacant",tenantId:null,tenantName:I.tenantName||"",tenantEmail:I.tenantEmail||""});We.success(`${P.length} unit${P.length!==1?"s":""} added!`)}catch{We.error("Some units failed to save.")}finally{c(!1),a(`/properties/${u}?tab=units`),M()}},M=()=>{o(1),b({name:"",address:"",type:"Apartment",status:"vacant"}),v(""),A([]),f(null),e()};return d.jsxs(Ru,{isOpen:t,onClose:s===1?M:void 0,title:s===1?"Add Apartment / Unit":s===2?"How many units?":`Set Up Units  ${h}`,size:"lg",children:[d.jsx("div",{className:"flex items-center gap-1.5 mb-6",children:MIe.map((P,I)=>{const j=I+1;return d.jsxs(pe.Fragment,{children:[d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-semibold border-2 flex-shrink-0 transition-all ${j<s?"bg-sage border-sage text-cream":j===s?"border-sage text-sage bg-sage/10":"border-stone-200 text-stone-300"}`,children:j<s?d.jsx(la,{size:11}):j}),d.jsx("span",{className:`font-body text-xs hidden sm:block transition-colors ${j===s?"text-ink font-semibold":j<s?"text-sage":"text-stone-300"}`,children:P})]}),j<3&&d.jsx("div",{className:`flex-1 h-px transition-colors ${j<s?"bg-sage/40":"bg-stone-100"}`})]},j)})}),d.jsxs(ns,{mode:"wait",children:[s===1&&d.jsxs(He.form,{variants:k_,initial:"enter",animate:"center",exit:"exit",transition:{duration:.18},onSubmit:C,className:"space-y-4",children:[d.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[d.jsx(i1,{label:"Property / Building Name *",children:d.jsx("input",{className:"input-base",placeholder:"e.g. Sunset Court",value:y.name,onChange:E("name"),required:!0,autoFocus:!0})}),d.jsx(i1,{label:"Type",children:d.jsx("select",{className:"input-base",value:y.type,onChange:E("type"),children:OIe.map(P=>d.jsx("option",{children:P},P))})})]}),d.jsx(i1,{label:"Address *",children:d.jsxs("div",{className:"relative",children:[d.jsx(qp,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-9",placeholder:"Full street address",value:y.address,onChange:E("address"),required:!0})]})}),d.jsx(i1,{label:"Status",children:d.jsx("div",{className:"flex gap-2",children:["occupied","vacant","maintenance"].map(P=>d.jsx("button",{type:"button",onClick:()=>b(I=>({...I,status:P})),className:`flex-1 py-2.5 rounded-xl text-sm font-body font-medium border capitalize transition-all ${y.status===P?P==="occupied"?"bg-sage/10 text-sage border-sage/30":P==="vacant"?"bg-amber/10 text-amber border-amber/30":"bg-rust/10 text-rust border-rust/30":"bg-stone-50 text-stone-400 border-stone-200 hover:bg-stone-100"}`,children:P},P))})}),d.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[d.jsx("button",{type:"button",onClick:M,className:"btn-secondary",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:l,className:"btn-primary",children:l?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(sl,{size:15})," Next: Units"]})})]})]},"s1"),s===2&&d.jsxs(He.form,{variants:k_,initial:"enter",animate:"center",exit:"exit",transition:{duration:.18},onSubmit:N,className:"space-y-6",children:[d.jsxs("div",{className:"text-center py-4",children:[d.jsx("div",{className:"w-16 h-16 rounded-2xl bg-sage/10 flex items-center justify-center mx-auto mb-4",children:d.jsx(da,{size:28,className:"text-sage"})}),d.jsxs("p",{className:"font-body text-stone-500 text-sm mb-6",children:["How many units or apartments are in ",d.jsx("strong",{className:"text-ink",children:h}),"?"]}),d.jsxs("div",{className:"flex items-center justify-center gap-3",children:[d.jsx("button",{type:"button",onClick:()=>v(P=>Math.max(1,(parseInt(P)||1)-1)),className:"w-10 h-10 rounded-xl bg-stone-100 hover:bg-stone-200 text-stone-600 font-bold text-lg flex items-center justify-center transition-colors",children:""}),d.jsx("input",{ref:w,type:"number",min:"1",max:"50",className:"w-24 h-14 text-center font-display text-3xl font-semibold text-ink border-2 border-stone-200 focus:border-sage rounded-2xl outline-none transition-colors",value:x,onChange:P=>v(Math.max(1,Math.min(50,parseInt(P.target.value)||""))),placeholder:"1",required:!0}),d.jsx("button",{type:"button",onClick:()=>v(P=>Math.min(50,(parseInt(P)||0)+1)),className:"w-10 h-10 rounded-xl bg-stone-100 hover:bg-sage/10 hover:text-sage text-stone-600 font-bold text-lg flex items-center justify-center transition-colors",children:"+"})]}),d.jsxs("p",{className:"font-body text-xs text-stone-400 mt-3 flex items-center justify-center gap-1",children:[d.jsx(yU,{size:11})," You can add or remove units anytime from the property page"]})]}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx("button",{type:"button",onClick:()=>o(1),className:"btn-secondary",children:"Back"}),d.jsxs("button",{type:"submit",className:"btn-primary",children:[d.jsx(sl,{size:15})," Set Up ",x||"?"," Unit",parseInt(x)!==1?"s":""]})]})]},"s2"),s===3&&d.jsxs(He.div,{variants:k_,initial:"enter",animate:"center",exit:"exit",transition:{duration:.18},className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("p",{className:"font-body text-sm text-stone-500",children:"Fill in the details for each unit below."}),d.jsxs("span",{className:"font-body text-xs text-stone-400 bg-stone-100 px-2 py-1 rounded-lg",children:[_.length," unit",_.length!==1?"s":""]})]}),d.jsxs("div",{className:"grid grid-cols-12 gap-2 px-1",children:[d.jsx("span",{className:"col-span-3 font-body text-[11px] font-semibold text-stone-400 uppercase tracking-wider",children:"Unit Name"}),d.jsxs("span",{className:"col-span-3 font-body text-[11px] font-semibold text-stone-400 uppercase tracking-wider",children:["Rent (",i,")"]}),d.jsx("span",{className:"col-span-3 font-body text-[11px] font-semibold text-stone-400 uppercase tracking-wider",children:"Billing"}),d.jsx("span",{className:"col-span-3 font-body text-[11px] font-semibold text-stone-400 uppercase tracking-wider",children:"Tenant (opt.)"})]}),d.jsx("div",{className:"space-y-2 max-h-72 overflow-y-auto pr-1 custom-scrollbar",children:_.map((P,I)=>d.jsxs(He.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:Math.min(I*.03,.3)},className:"space-y-1.5",children:[d.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center p-2 bg-stone-50 rounded-xl border border-stone-100",children:[d.jsx("div",{className:"col-span-3",children:d.jsx("input",{className:"input-base text-sm h-9",placeholder:`Unit ${I+1}`,value:P.unitName,onChange:j=>O(P.id,"unitName",j.target.value)})}),d.jsx("div",{className:"col-span-3",children:d.jsx("input",{className:"input-base text-sm h-9",type:"number",placeholder:"e.g. 150000",value:P.rentAmount,onChange:j=>O(P.id,"rentAmount",j.target.value)})}),d.jsx("div",{className:"col-span-3",children:d.jsx("select",{className:"input-base text-sm h-9",value:P.billingCycle,onChange:j=>O(P.id,"billingCycle",j.target.value),children:RIe.map(j=>d.jsx("option",{value:j.value,children:j.label},j.value))})}),d.jsx("div",{className:"col-span-3 flex items-center gap-1",children:d.jsxs("button",{type:"button",onClick:()=>O(P.id,"showTenant",!P.showTenant),className:`flex items-center gap-1 text-xs font-body px-2 py-1.5 rounded-lg border transition-all w-full justify-center ${P.tenantName||P.tenantEmail?"bg-sage/10 text-sage border-sage/20":"bg-white text-stone-400 border-stone-200 hover:border-sage/30 hover:text-sage"}`,title:"Add optional tenant info",children:[d.jsx(go,{size:11}),P.tenantName?P.tenantName.split(" ")[0]:"Tenant"]})})]}),d.jsx(ns,{children:P.showTenant&&d.jsxs(He.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"grid grid-cols-2 gap-2 px-2 overflow-hidden",children:[d.jsxs("div",{className:"relative",children:[d.jsx(go,{size:12,className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base text-sm pl-8 h-9",placeholder:"Tenant name",value:P.tenantName,onChange:j=>O(P.id,"tenantName",j.target.value)})]}),d.jsxs("div",{className:"relative",children:[d.jsx(ol,{size:12,className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base text-sm pl-8 h-9",type:"email",placeholder:"tenant@email.com",value:P.tenantEmail,onChange:j=>O(P.id,"tenantEmail",j.target.value)})]})]})})]},P.id))}),d.jsxs("div",{className:"flex items-center gap-3 justify-between pt-2",children:[d.jsx("button",{type:"button",onClick:()=>o(2),className:"btn-ghost text-sm",children:" Back"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{a(`/properties/${u}?tab=units`),M()},className:"btn-secondary text-sm",children:"Skip  fill later"}),d.jsx("button",{onClick:k,disabled:l,className:"btn-primary",children:l?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(la,{size:14})," Save & Finish"]})})]})]})]},"s3")]})]})}function i1({label:t,children:e}){return d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:t}),e]})}const Ym=(t=0)=>({initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:t,duration:.4}}),FIe=t=>Array.from({length:6},(n,r)=>Due(new Date,5-r)).map(n=>({month:Ta(n,"MMM"),revenue:t.filter(r=>r.status==="occupied").reduce((r,i)=>r+(i.monthlyRent||0),0)*(.8+Math.random()*.4)}));function $Ie(){const{user:t,profile:e}=Pr(),{fmt:n,country:r}=ji(),[i,a]=U.useState([]),[s,o]=U.useState([]),[l,c]=U.useState(!1),[u,f]=U.useState(!0);U.useEffect(()=>{if(!t)return;const _=Cv(t.uid,E=>{a(E),f(!1)}),A=Iv(t.uid,o);return()=>{_(),A()}},[t]);const h=i.filter(_=>_.status==="occupied").length;i.filter(_=>_.status==="vacant").length;const p=i.filter(_=>_.status==="occupied").reduce((_,A)=>_+(A.monthlyRent||0),0),y=s.filter(_=>{var E,O;const A=((O=(E=_.dueDate)==null?void 0:E.toDate)==null?void 0:O.call(E))??new Date(_.dueDate);return!Vf(A)&&Fv(A,new Date)<=5&&_.status!=="paid"}),b=s.filter(_=>{var E,O;const A=((O=(E=_.dueDate)==null?void 0:E.toDate)==null?void 0:O.call(E))??new Date(_.dueDate);return Vf(A)&&_.status!=="paid"}),x=FIe(i),v=((e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||"there").split(" ")[0],w=[{label:"Total Properties",value:i.length,icon:is,color:"text-sage",bg:"bg-sage/10",change:null},{label:"Occupied",value:h,icon:pce,color:"text-sage",bg:"bg-sage/10",change:i.length>0?`${Math.round(h/i.length*100)}% occupancy`:"0%"},{label:"Monthly Revenue",value:n(p),icon:_U,color:"text-amber",bg:"bg-amber/10",change:`${h} active leases`},{label:"Urgent Reminders",value:y.length+b.length,icon:z2,color:"text-rust",bg:"bg-rust/10",change:b.length>0?`${b.length} overdue`:"All current"}];return d.jsxs("div",{className:"space-y-8",children:[u?d.jsx("div",{className:"flex items-center justify-center h-48",children:d.jsx("div",{className:"w-7 h-7 border-2 border-sage border-t-transparent rounded-full animate-spin"})}):d.jsxs(d.Fragment,{children:[d.jsxs(He.div,{...Ym(0),className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-body text-stone-400 text-sm font-medium",children:Ta(new Date,"EEEE, MMMM d, yyyy")}),d.jsxs("h1",{className:"font-display text-ink text-3xl font-semibold mt-0.5",children:["Good ",new Date().getHours()<12?"morning":new Date().getHours()<17?"afternoon":"evening",","," ",d.jsx("em",{children:v})]})]}),d.jsx("div",{className:"hidden sm:flex items-center gap-2",children:d.jsxs("button",{onClick:()=>c(!0),className:"btn-primary",children:[d.jsx(da,{size:16})," Add Apartment / Unit"]})})]}),d.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:w.map(({label:_,value:A,icon:E,color:O,bg:C,change:N},k)=>d.jsxs(He.div,{...Ym(k*.06),className:"stat-card",children:[d.jsx("div",{className:`w-10 h-10 rounded-xl ${C} flex items-center justify-center`,children:d.jsx(E,{size:18,className:O})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-display text-ink text-2xl font-semibold",children:A}),d.jsx("div",{className:"font-body text-stone-400 text-xs mt-0.5",children:_})]}),N&&d.jsx("div",{className:"font-body text-xs text-stone-300 border-t border-stone-100 pt-2 mt-auto",children:N})]},_))}),d.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[d.jsxs(He.div,{...Ym(.2),className:"lg:col-span-2 card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"font-display text-ink text-lg font-semibold",children:"Revenue Overview"}),d.jsx("p",{className:"font-body text-stone-400 text-xs mt-0.5",children:"Last 6 months  Estimated"})]}),d.jsx("span",{className:"badge-sage",children:"Live"})]}),d.jsx(Zwe,{width:"100%",height:200,children:d.jsxs(kIe,{data:x,children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"revGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#4A7C59",stopOpacity:.15}),d.jsx("stop",{offset:"95%",stopColor:"#4A7C59",stopOpacity:0})]})}),d.jsx(Vq,{strokeDasharray:"3 3",stroke:"#EDE5D4",vertical:!1}),d.jsx(Iw,{dataKey:"month",tick:{fontFamily:"DM Sans",fontSize:11,fill:"#A89272"},axisLine:!1,tickLine:!1}),d.jsx(Ow,{tick:{fontFamily:"DM Sans",fontSize:11,fill:"#A89272"},axisLine:!1,tickLine:!1,tickFormatter:_=>n(_)}),d.jsx(Bo,{contentStyle:{background:"#1A1612",border:"none",borderRadius:10,fontFamily:"DM Sans",fontSize:12,color:"#F5F0E8"},formatter:_=>[n(_),"Revenue"]}),d.jsx(Qu,{type:"monotone",dataKey:"revenue",stroke:"#4A7C59",strokeWidth:2,fill:"url(#revGrad)"})]})})]}),d.jsxs(He.div,{...Ym(.25),className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"font-display text-ink text-lg font-semibold",children:"Urgent Alerts"}),d.jsx(Xn,{to:"/reminders",className:"text-sage hover:text-sage-light transition-colors",children:d.jsx(Qa,{size:16})})]}),y.length===0&&b.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-sage/10 flex items-center justify-center mb-3",children:d.jsx(Ou,{size:20,className:"text-sage"})}),d.jsx("p",{className:"font-body text-sm text-stone-400",children:"No urgent reminders"}),d.jsx("p",{className:"font-body text-xs text-stone-300 mt-1",children:"All payments on track"})]}):d.jsxs("div",{className:"space-y-2",children:[[...b,...y].slice(0,5).map(_=>{var O,C;const A=((C=(O=_.dueDate)==null?void 0:O.toDate)==null?void 0:C.call(O))??new Date(_.dueDate),E=Vf(A);return d.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-stone-50 hover:bg-stone-100 transition-colors",children:[d.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${E?"bg-rust":"bg-amber"}`}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-body font-medium text-sm text-ink truncate",children:_.tenantName}),d.jsx("p",{className:"font-body text-xs text-stone-400",children:E?"Overdue":`Due ${Ta(A,"MMM d")}`})]}),d.jsx("span",{className:"font-body font-semibold text-sm text-ink",children:n(_.amount||0)})]},_.id)}),d.jsxs(Xn,{to:"/reminders",className:"btn-ghost w-full text-xs mt-1 justify-center",children:["View all reminders ",d.jsx(sl,{size:13})]})]})]})]}),d.jsxs(He.div,{...Ym(.3),children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"font-display text-ink text-xl font-semibold",children:"Your Properties"}),d.jsxs(Xn,{to:"/properties",className:"btn-ghost text-sm",children:["View all ",d.jsx(sl,{size:14})]})]}),i.length===0?d.jsxs("div",{className:"card p-12 flex flex-col items-center text-center border-2 border-dashed border-stone-200",children:[d.jsx("div",{className:"w-16 h-16 rounded-2xl bg-sage/10 flex items-center justify-center mb-4",children:d.jsx(is,{size:28,className:"text-sage"})}),d.jsx("h3",{className:"font-display text-ink text-xl font-semibold mb-2",children:"Add your first property"}),d.jsx("p",{className:"font-body text-stone-400 text-sm mb-6 max-w-xs",children:"Start tracking rent, tenants, and maintenance by adding a property."}),d.jsxs(Xn,{to:"/properties",className:"btn-primary",children:[d.jsx(uo,{size:16})," Add Property"]})]}):d.jsx("div",{className:"grid md:grid-cols-2 xl:grid-cols-3 gap-4",children:i.slice(0,6).map(_=>d.jsx(oW,{property:_},_.id))})]})]}),d.jsx(DIe,{isOpen:l,onClose:()=>c(!1),propertyCount:i.length})]})}const BIe=["Apartment","House","Studio","Duplex","Commercial","Other"],UIe=["All","Occupied","Vacant","Maintenance"];function VIe(){const{user:t}=Pr(),e=ls(),[n,r]=U.useState([]),[i,a]=U.useState(!0),[s,o]=U.useState(""),[l,c]=U.useState("All"),[u,f]=U.useState("all"),[h,p]=U.useState(!1),[y,b]=U.useState(!1),x={name:"",address:"",type:"Apartment",description:""},[v,w]=U.useState(x);U.useEffect(()=>t?Cv(t.uid,k=>{r(k),a(!1)}):void 0,[t]);const _=N=>k=>w(M=>({...M,[N]:k.target.value})),A=[...new Set(n.filter(N=>N.buildingName).map(N=>N.buildingName))].sort(),E=n.filter(N=>{var I,j,B;const k=!s||((I=N.name)==null?void 0:I.toLowerCase().includes(s.toLowerCase()))||((j=N.address)==null?void 0:j.toLowerCase().includes(s.toLowerCase()))||N.unitNumber&&N.unitNumber.toLowerCase().includes(s.toLowerCase()),M=l==="All"||((B=N.status)==null?void 0:B.toLowerCase())===l.toLowerCase(),P=u==="all"||u==="standalone"&&!N.buildingName||N.buildingName===u;return k&&M&&P}),O=async N=>{if(N.preventDefault(),!v.name||!v.address){We.error("Name and address are required.");return}b(!0);try{const k=await LT(t.uid,{name:v.name,address:v.address,type:v.type,description:v.description,status:"vacant"});We.success("Property created!"),p(!1),w(x),e(`/properties/${k.id}/success`,{state:{propertyId:k.id,propertyName:v.name}})}catch{We.error("Failed to add property.")}finally{b(!1)}},C=async(N,k)=>{if(confirm(`Delete "${k}"? This cannot be undone.`))try{await gie(t.uid,N),We.success("Property deleted.")}catch{We.error("Failed to delete.")}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"font-display text-ink text-3xl font-semibold",children:"Properties"}),d.jsxs("p",{className:"font-body text-stone-400 text-sm mt-0.5",children:[n.length," total  ",n.filter(N=>N.status==="occupied").length," occupied"]})]}),d.jsxs("button",{onClick:async()=>{if(!await lW(t.uid,n.length)){const k=await Lw(t.uid),M=cW(k.id);We.error(`You've reached the ${k.maxProperties}-property limit on the ${k.name} plan.${M?` Upgrade to ${M.name} for more.`:""}`,{duration:4e3});return}p(!0)},className:"btn-primary",children:[d.jsx(uo,{size:16})," Add Property"]})]}),d.jsxs(He.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(bU,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400"}),d.jsx("input",{className:"input-base pl-10",placeholder:"Search by name, address, or unit number",value:s,onChange:N=>o(N.target.value)})]}),d.jsx("div",{className:"flex gap-2 flex-shrink-0",children:UIe.map(N=>d.jsx("button",{onClick:()=>c(N),className:`px-4 py-2 rounded-xl text-sm font-body font-medium border transition-all ${l===N?"bg-sage/10 text-sage border-sage/30":"bg-white text-stone-500 border-stone-200 hover:border-stone-300"}`,children:N},N))})]}),A.length>0&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(is,{size:14,className:"text-stone-400"}),d.jsxs("select",{className:"text-sm font-body border border-stone-200 rounded-lg px-3 py-1.5 bg-white text-stone-500 focus:outline-none focus:border-sage transition-colors",value:u,onChange:N=>f(N.target.value),children:[d.jsx("option",{value:"all",children:"All Buildings"}),d.jsx("option",{value:"standalone",children:"Standalone Properties"}),A.map(N=>d.jsx("option",{value:N,children:N},N))]})]})]}),i?d.jsx("div",{className:"grid md:grid-cols-2 xl:grid-cols-3 gap-4",children:[1,2,3].map(N=>d.jsx("div",{className:"card h-52 bg-gradient-to-r from-stone-100 to-stone-50 animate-pulse"},N))}):E.length===0?d.jsxs("div",{className:"card p-16 flex flex-col items-center text-center border-2 border-dashed border-stone-200",children:[d.jsx(is,{size:40,className:"text-stone-300 mb-3"}),d.jsx("p",{className:"font-body font-medium text-stone-500",children:s||l!=="All"?"No properties match your search":"No properties yet"}),d.jsx("p",{className:"font-body text-xs text-stone-300 mt-1",children:!s&&l==="All"&&'Click "Add Property" to get started'})]}):d.jsx("div",{className:"grid md:grid-cols-2 xl:grid-cols-3 gap-4",children:d.jsx(ns,{children:E.map((N,k)=>d.jsx(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:k*.05},exit:{opacity:0,scale:.97},children:d.jsx(oW,{property:N,onDelete:()=>C(N.id,N.name),showDelete:!0})},N.id))})}),d.jsx(Ru,{isOpen:h,onClose:()=>p(!1),title:"Add Property",size:"md",children:d.jsxs("form",{onSubmit:O,className:"space-y-4",children:[d.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[d.jsx(a1,{label:"Property / Building Name *",children:d.jsx("input",{className:"input-base",placeholder:"e.g. Sunset Court",value:v.name,onChange:_("name"),required:!0,autoFocus:!0})}),d.jsx(a1,{label:"Property Type",children:d.jsx("select",{className:"input-base",value:v.type,onChange:_("type"),children:BIe.map(N=>d.jsx("option",{children:N},N))})})]}),d.jsx(a1,{label:"Address *",children:d.jsxs("div",{className:"relative",children:[d.jsx(qp,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-9",placeholder:"Full street address",value:v.address,onChange:_("address"),required:!0})]})}),d.jsx(a1,{label:"Description (optional)",children:d.jsx("textarea",{className:"input-base min-h-[72px] resize-none",placeholder:"Any notes about this property",value:v.description,onChange:_("description")})}),d.jsxs("div",{className:"flex gap-3 pt-2 justify-end",children:[d.jsx("button",{type:"button",onClick:()=>p(!1),className:"btn-secondary",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:y,className:"btn-primary",children:y?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(sl,{size:15})," Next: Set Up Units"]})})]})]})})]})}function a1({label:t,children:e,className:n=""}){return d.jsxs("div",{className:n,children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:t}),e]})}async function zIe(t){await cs(Tn(At,"invoices",t),{status:"cancelled",updatedAt:pr()})}async function qIe(t){const e=await vd(ma(ri(At,"invoices"),fr("tenancyId","==",t),fr("status","in",["draft","sent"]))),n=e.docs.map(r=>zIe(r.id));return await Promise.all(n),e.docs.length}const WIe="modulepreload",HIe=function(t){return"/"+t},vM={},j_=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=HIe(l),l in vM)return;vM[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":WIe,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};function _n(t){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_n(t)}var vo=Uint8Array,Ja=Uint16Array,Ik=Int32Array,Ok=new vo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Rk=new vo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),bM=new vo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),uW=function(t,e){for(var n=new Ja(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new Ik(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},fW=uW(Ok,2),GIe=fW.b,EE=fW.r;GIe[28]=258,EE[258]=28;var KIe=uW(Rk,0),xM=KIe.r,PE=new Ja(32768);for(var Kn=0;Kn<32768;++Kn){var zc=(Kn&43690)>>1|(Kn&21845)<<1;zc=(zc&52428)>>2|(zc&13107)<<2,zc=(zc&61680)>>4|(zc&3855)<<4,PE[Kn]=((zc&65280)>>8|(zc&255)<<8)>>1}var Dg=function(t,e,n){for(var r=t.length,i=0,a=new Ja(e);i<r;++i)t[i]&&++a[t[i]-1];var s=new Ja(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(n){o=new Ja(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],f=s[t[i]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)o[PE[f]>>l]=c}else for(o=new Ja(r),i=0;i<r;++i)t[i]&&(o[i]=PE[s[t[i]-1]++]>>15-t[i]);return o},ud=new vo(288);for(var Kn=0;Kn<144;++Kn)ud[Kn]=8;for(var Kn=144;Kn<256;++Kn)ud[Kn]=9;for(var Kn=256;Kn<280;++Kn)ud[Kn]=7;for(var Kn=280;Kn<288;++Kn)ud[Kn]=8;var Hx=new vo(32);for(var Kn=0;Kn<32;++Kn)Hx[Kn]=5;var YIe=Dg(ud,9,0),XIe=Dg(Hx,5,0),dW=function(t){return(t+7)/8|0},QIe=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new vo(t.subarray(e,n))},jl=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Xm=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},C_=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:pW,l:0};if(i==1){var s=new vo(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(E,O){return E.f-O.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,u=1,f=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=n[n[c].f<n[f].f?c++:f++],l=n[c!=u&&n[c].f<n[f].f?c++:f++],n[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=a[0].s,r=1;r<i;++r)a[r].s>h&&(h=a[r].s);var p=new Ja(h+1),y=TE(n[u-1],p,0);if(y>e){var r=0,b=0,x=y-e,v=1<<x;for(a.sort(function(O,C){return p[C.s]-p[O.s]||O.f-C.f});r<i;++r){var w=a[r].s;if(p[w]>e)b+=v-(1<<y-p[w]),p[w]=e;else break}for(b>>=x;b>0;){var _=a[r].s;p[_]<e?b-=1<<e-p[_]++-1:++r}for(;r>=0&&b;--r){var A=a[r].s;p[A]==e&&(--p[A],++b)}y=e}return{t:new vo(p),l:y}},TE=function(t,e,n){return t.s==-1?Math.max(TE(t.l,e,n+1),TE(t.r,e,n+1)):e[t.s]=n},wM=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Ja(++e),r=0,i=t[0],a=1,s=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[o]}return{c:n.subarray(0,r),n:e}},Qm=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},hW=function(t,e,n){var r=n.length,i=dW(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},_M=function(t,e,n,r,i,a,s,o,l,c,u){jl(e,u++,n),++i[256];for(var f=C_(i,15),h=f.t,p=f.l,y=C_(a,15),b=y.t,x=y.l,v=wM(h),w=v.c,_=v.n,A=wM(b),E=A.c,O=A.n,C=new Ja(19),N=0;N<w.length;++N)++C[w[N]&31];for(var N=0;N<E.length;++N)++C[E[N]&31];for(var k=C_(C,7),M=k.t,P=k.l,I=19;I>4&&!M[bM[I-1]];--I);var j=c+5<<3,B=Qm(i,ud)+Qm(a,Hx)+s,G=Qm(i,h)+Qm(a,b)+s+14+3*I+Qm(C,M)+2*C[16]+3*C[17]+7*C[18];if(l>=0&&j<=B&&j<=G)return hW(e,u,t.subarray(l,l+c));var Z,re,Y,ae;if(jl(e,u,1+(G<B)),u+=2,G<B){Z=Dg(h,p,0),re=h,Y=Dg(b,x,0),ae=b;var ue=Dg(M,P,0);jl(e,u,_-257),jl(e,u+5,O-1),jl(e,u+10,I-4),u+=14;for(var N=0;N<I;++N)jl(e,u+3*N,M[bM[N]]);u+=3*I;for(var he=[w,E],$=0;$<2;++$)for(var H=he[$],N=0;N<H.length;++N){var ie=H[N]&31;jl(e,u,ue[ie]),u+=M[ie],ie>15&&(jl(e,u,H[N]>>5&127),u+=H[N]>>12)}}else Z=YIe,re=ud,Y=XIe,ae=Hx;for(var N=0;N<o;++N){var se=r[N];if(se>255){var ie=se>>18&31;Xm(e,u,Z[ie+257]),u+=re[ie+257],ie>7&&(jl(e,u,se>>23&31),u+=Ok[ie]);var le=se&31;Xm(e,u,Y[le]),u+=ae[le],le>3&&(Xm(e,u,se>>5&8191),u+=Rk[le])}else Xm(e,u,Z[se]),u+=re[se]}return Xm(e,u,Z[256]),u+re[256]},JIe=new Ik([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),pW=new vo(0),ZIe=function(t,e,n,r,i,a){var s=a.z||t.length,o=new vo(r+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(r,o.length-i),c=a.l,u=(a.r||0)&7;if(e){u&&(l[0]=a.r>>3);for(var f=JIe[e-1],h=f>>13,p=f&8191,y=(1<<n)-1,b=a.p||new Ja(32768),x=a.h||new Ja(y+1),v=Math.ceil(n/3),w=2*v,_=function($e){return(t[$e]^t[$e+1]<<v^t[$e+2]<<w)&y},A=new Ik(25e3),E=new Ja(288),O=new Ja(32),C=0,N=0,k=a.i||0,M=0,P=a.w||0,I=0;k+2<s;++k){var j=_(k),B=k&32767,G=x[j];if(b[B]=G,x[j]=B,P<=k){var Z=s-k;if((C>7e3||M>24576)&&(Z>423||!c)){u=_M(t,l,0,A,E,O,N,M,I,k-I,u),M=C=N=0,I=k;for(var re=0;re<286;++re)E[re]=0;for(var re=0;re<30;++re)O[re]=0}var Y=2,ae=0,ue=p,he=B-G&32767;if(Z>2&&j==_(k-he))for(var $=Math.min(h,Z)-1,H=Math.min(32767,k),ie=Math.min(258,Z);he<=H&&--ue&&B!=G;){if(t[k+Y]==t[k+Y-he]){for(var se=0;se<ie&&t[k+se]==t[k+se-he];++se);if(se>Y){if(Y=se,ae=he,se>$)break;for(var le=Math.min(he,se-2),ge=0,re=0;re<le;++re){var Ae=k-he+re&32767,fe=b[Ae],we=Ae-fe&32767;we>ge&&(ge=we,G=Ae)}}}B=G,G=b[B],he+=B-G&32767}if(ae){A[M++]=268435456|EE[Y]<<18|xM[ae];var Ee=EE[Y]&31,ve=xM[ae]&31;N+=Ok[Ee]+Rk[ve],++E[257+Ee],++O[ve],P=k+Y,++C}else A[M++]=t[k],++E[t[k]]}}for(k=Math.max(k,P);k<s;++k)A[M++]=t[k],++E[t[k]];u=_M(t,l,c,A,E,O,N,M,I,k-I,u),c||(a.r=u&7|l[u/8|0]<<3,u-=7,a.h=x,a.p=b,a.i=k,a.w=P)}else{for(var k=a.w||0;k<s+c;k+=65535){var Le=k+65535;Le>=s&&(l[u/8|0]=c,Le=s),u=hW(l,u+1,t.subarray(k,Le))}a.i=s}return QIe(o,0,r+dW(u)+i)},mW=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},eOe=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new vo(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return ZIe(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},gW=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},tOe=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=mW();i.p(e.dictionary),gW(t,2,i.d())}};function kE(t,e){e||(e={});var n=mW();n.p(t);var r=eOe(t,e,e.dictionary?6:2,4);return tOe(r,e),gW(r,r.length-4,n.d()),r}var nOe=typeof TextDecoder<"u"&&new TextDecoder,rOe=0;try{nOe.decode(pW,{stream:!0}),rOe=1}catch{}function iOe(t){if(Array.isArray(t))return t}function aOe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function SM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function sOe(t,e){if(t){if(typeof t=="string")return SM(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SM(t,e):void 0}}function oOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AM(t,e){return iOe(t)||aOe(t,e)||sOe(t,e)||oOe()}function NM(t,e="utf8"){return new TextDecoder(e).decode(t)}const lOe=new TextEncoder;function cOe(t){return lOe.encode(t)}const uOe=1024*8,fOe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),I_={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Lk{constructor(e=uOe,n={}){xn(this,"buffer");xn(this,"byteLength");xn(this,"byteOffset");xn(this,"length");xn(this,"offset");xn(this,"lastWrittenByte");xn(this,"littleEndian");xn(this,"_data");xn(this,"_mark");xn(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof Lk)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=I_[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===fOe&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const l=new I_[n](o.buffer);return this.offset+=r,l.reverse(),l}const s=new I_[n](a);return this.offset+=r,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return NM(this.readBytes(e))}decodeText(e=1,n="utf8"){return NM(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(cOe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function am(t){let e=t.length;for(;--e>=0;)t[e]=0}const dOe=3,hOe=258,yW=29,pOe=256,mOe=pOe+1+yW,vW=30,gOe=512,yOe=new Array((mOe+2)*2);am(yOe);const vOe=new Array(vW*2);am(vOe);const bOe=new Array(gOe);am(bOe);const xOe=new Array(hOe-dOe+1);am(xOe);const wOe=new Array(yW);am(wOe);const _Oe=new Array(vW);am(_Oe);const SOe=(t,e,n,r)=>{let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var jE=SOe;const AOe=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},NOe=new Uint32Array(AOe()),EOe=(t,e,n,r)=>{const i=NOe,a=r+n;t^=-1;for(let s=r;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var Mo=EOe,CE={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},bW={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const POe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var TOe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)POe(n,r)&&(t[r]=n[r])}}return t},kOe=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,a=t.length;r<a;r++){let s=t[r];n.set(s,i),i+=s.length}return n},xW={assign:TOe,flattenChunks:kOe};let wW=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{wW=!1}const iv=new Uint8Array(256);for(let t=0;t<256;t++)iv[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;iv[254]=iv[254]=1;var jOe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,a,s=t.length,o=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),a=0,i=0;a<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|n&63):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|n&63):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|n&63);return e};const COe=(t,e)=>{if(e<65534&&t.subarray&&wW)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var IOe=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){a[i++]=s;continue}let o=iv[s];if(o>4){a[i++]=65533,r+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&r<n;)s=s<<6|t[r++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return COe(a,i)},OOe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+iv[t[n]]>e?n:e},IE={string2buf:jOe,buf2string:IOe,utf8border:OOe};function ROe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var LOe=ROe;const s1=16209,MOe=16191;var DOe=function(e,n){let r,i,a,s,o,l,c,u,f,h,p,y,b,x,v,w,_,A,E,O,C,N,k,M;const P=e.state;r=e.next_in,k=e.input,i=r+(e.avail_in-5),a=e.next_out,M=e.output,s=a-(n-e.avail_out),o=a+(e.avail_out-257),l=P.dmax,c=P.wsize,u=P.whave,f=P.wnext,h=P.window,p=P.hold,y=P.bits,b=P.lencode,x=P.distcode,v=(1<<P.lenbits)-1,w=(1<<P.distbits)-1;e:do{y<15&&(p+=k[r++]<<y,y+=8,p+=k[r++]<<y,y+=8),_=b[p&v];t:for(;;){if(A=_>>>24,p>>>=A,y-=A,A=_>>>16&255,A===0)M[a++]=_&65535;else if(A&16){E=_&65535,A&=15,A&&(y<A&&(p+=k[r++]<<y,y+=8),E+=p&(1<<A)-1,p>>>=A,y-=A),y<15&&(p+=k[r++]<<y,y+=8,p+=k[r++]<<y,y+=8),_=x[p&w];n:for(;;){if(A=_>>>24,p>>>=A,y-=A,A=_>>>16&255,A&16){if(O=_&65535,A&=15,y<A&&(p+=k[r++]<<y,y+=8,y<A&&(p+=k[r++]<<y,y+=8)),O+=p&(1<<A)-1,O>l){e.msg="invalid distance too far back",P.mode=s1;break e}if(p>>>=A,y-=A,A=a-s,O>A){if(A=O-A,A>u&&P.sane){e.msg="invalid distance too far back",P.mode=s1;break e}if(C=0,N=h,f===0){if(C+=c-A,A<E){E-=A;do M[a++]=h[C++];while(--A);C=a-O,N=M}}else if(f<A){if(C+=c+f-A,A-=f,A<E){E-=A;do M[a++]=h[C++];while(--A);if(C=0,f<E){A=f,E-=A;do M[a++]=h[C++];while(--A);C=a-O,N=M}}}else if(C+=f-A,A<E){E-=A;do M[a++]=h[C++];while(--A);C=a-O,N=M}for(;E>2;)M[a++]=N[C++],M[a++]=N[C++],M[a++]=N[C++],E-=3;E&&(M[a++]=N[C++],E>1&&(M[a++]=N[C++]))}else{C=a-O;do M[a++]=M[C++],M[a++]=M[C++],M[a++]=M[C++],E-=3;while(E>2);E&&(M[a++]=M[C++],E>1&&(M[a++]=M[C++]))}}else if(A&64){e.msg="invalid distance code",P.mode=s1;break e}else{_=x[(_&65535)+(p&(1<<A)-1)];continue n}break}}else if(A&64)if(A&32){P.mode=MOe;break e}else{e.msg="invalid literal/length code",P.mode=s1;break e}else{_=b[(_&65535)+(p&(1<<A)-1)];continue t}break}}while(r<i&&a<o);E=y>>3,r-=E,y-=E<<3,p&=(1<<y)-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=a<o?257+(o-a):257-(a-o),P.hold=p,P.bits=y};const Vd=15,EM=852,PM=592,TM=0,O_=1,kM=2,FOe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),$Oe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),BOe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),UOe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),VOe=(t,e,n,r,i,a,s,o)=>{const l=o.bits;let c=0,u=0,f=0,h=0,p=0,y=0,b=0,x=0,v=0,w=0,_,A,E,O,C,N=null,k;const M=new Uint16Array(Vd+1),P=new Uint16Array(Vd+1);let I=null,j,B,G;for(c=0;c<=Vd;c++)M[c]=0;for(u=0;u<r;u++)M[e[n+u]]++;for(p=l,h=Vd;h>=1&&M[h]===0;h--);if(p>h&&(p=h),h===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<h&&M[f]===0;f++);for(p<f&&(p=f),x=1,c=1;c<=Vd;c++)if(x<<=1,x-=M[c],x<0)return-1;if(x>0&&(t===TM||h!==1))return-1;for(P[1]=0,c=1;c<Vd;c++)P[c+1]=P[c]+M[c];for(u=0;u<r;u++)e[n+u]!==0&&(s[P[e[n+u]]++]=u);if(t===TM?(N=I=s,k=20):t===O_?(N=FOe,I=$Oe,k=257):(N=BOe,I=UOe,k=0),w=0,u=0,c=f,C=a,y=p,b=0,E=-1,v=1<<p,O=v-1,t===O_&&v>EM||t===kM&&v>PM)return 1;for(;;){j=c-b,s[u]+1<k?(B=0,G=s[u]):s[u]>=k?(B=I[s[u]-k],G=N[s[u]-k]):(B=96,G=0),_=1<<c-b,A=1<<y,f=A;do A-=_,i[C+(w>>b)+A]=j<<24|B<<16|G|0;while(A!==0);for(_=1<<c-1;w&_;)_>>=1;if(_!==0?(w&=_-1,w+=_):w=0,u++,--M[c]===0){if(c===h)break;c=e[n+s[u]]}if(c>p&&(w&O)!==E){for(b===0&&(b=p),C+=f,y=c-b,x=1<<y;y+b<h&&(x-=M[y+b],!(x<=0));)y++,x<<=1;if(v+=1<<y,t===O_&&v>EM||t===kM&&v>PM)return 1;E=w&O,i[E]=p<<24|y<<16|C-a|0}}return w!==0&&(i[C+w]=c-b<<24|64<<16|0),o.bits=p,0};var Fg=VOe;const zOe=0,_W=1,SW=2,{Z_FINISH:jM,Z_BLOCK:qOe,Z_TREES:o1,Z_OK:fd,Z_STREAM_END:WOe,Z_NEED_DICT:HOe,Z_STREAM_ERROR:Vs,Z_DATA_ERROR:AW,Z_MEM_ERROR:NW,Z_BUF_ERROR:GOe,Z_DEFLATED:CM}=bW,Mw=16180,IM=16181,OM=16182,RM=16183,LM=16184,MM=16185,DM=16186,FM=16187,$M=16188,BM=16189,Gx=16190,Cl=16191,R_=16192,UM=16193,L_=16194,VM=16195,zM=16196,qM=16197,WM=16198,l1=16199,c1=16200,HM=16201,GM=16202,KM=16203,YM=16204,XM=16205,M_=16206,QM=16207,JM=16208,er=16209,EW=16210,PW=16211,KOe=852,YOe=592,XOe=15,QOe=XOe,ZM=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function JOe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ad=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Mw||e.mode>PW?1:0},TW=t=>{if(Ad(t))return Vs;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Mw,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(KOe),e.distcode=e.distdyn=new Int32Array(YOe),e.sane=1,e.back=-1,fd},kW=t=>{if(Ad(t))return Vs;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,TW(t)},jW=(t,e)=>{let n;if(Ad(t))return Vs;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Vs:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,kW(t))},CW=(t,e)=>{if(!t)return Vs;const n=new JOe;t.state=n,n.strm=t,n.window=null,n.mode=Mw;const r=jW(t,e);return r!==fd&&(t.state=null),r},ZOe=t=>CW(t,QOe);let eD=!0,D_,F_;const eRe=t=>{if(eD){D_=new Int32Array(512),F_=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Fg(_W,t.lens,0,288,D_,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Fg(SW,t.lens,0,32,F_,0,t.work,{bits:5}),eD=!1}t.lencode=D_,t.lenbits=9,t.distcode=F_,t.distbits=5},IW=(t,e,n,r)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(e.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(e.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(e.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},tRe=(t,e)=>{let n,r,i,a,s,o,l,c,u,f,h,p,y,b,x=0,v,w,_,A,E,O,C,N;const k=new Uint8Array(4);let M,P;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ad(t)||!t.output||!t.input&&t.avail_in!==0)return Vs;n=t.state,n.mode===Cl&&(n.mode=R_),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,r=t.input,o=t.avail_in,c=n.hold,u=n.bits,f=o,h=l,N=fd;e:for(;;)switch(n.mode){case Mw:if(n.wrap===0){n.mode=R_;break}for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,k[0]=c&255,k[1]=c>>>8&255,n.check=Mo(n.check,k,2,0),c=0,u=0,n.mode=IM;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=er;break}if((c&15)!==CM){t.msg="unknown compression method",n.mode=er;break}if(c>>>=4,u-=4,C=(c&15)+8,n.wbits===0&&(n.wbits=C),C>15||C>n.wbits){t.msg="invalid window size",n.mode=er;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=c&512?BM:Cl,c=0,u=0;break;case IM:for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==CM){t.msg="unknown compression method",n.mode=er;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=er;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,n.check=Mo(n.check,k,2,0)),c=0,u=0,n.mode=OM;case OM:for(;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,k[2]=c>>>16&255,k[3]=c>>>24&255,n.check=Mo(n.check,k,4,0)),c=0,u=0,n.mode=RM;case RM:for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,n.check=Mo(n.check,k,2,0)),c=0,u=0,n.mode=LM;case LM:if(n.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,n.check=Mo(n.check,k,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=MM;case MM:if(n.flags&1024&&(p=n.length,p>o&&(p=o),p&&(n.head&&(C=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+p),C)),n.flags&512&&n.wrap&4&&(n.check=Mo(n.check,r,p,a)),o-=p,a+=p,n.length-=p),n.length))break e;n.length=0,n.mode=DM;case DM:if(n.flags&2048){if(o===0)break e;p=0;do C=r[a+p++],n.head&&C&&n.length<65536&&(n.head.name+=String.fromCharCode(C));while(C&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=Mo(n.check,r,p,a)),o-=p,a+=p,C)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=FM;case FM:if(n.flags&4096){if(o===0)break e;p=0;do C=r[a+p++],n.head&&C&&n.length<65536&&(n.head.comment+=String.fromCharCode(C));while(C&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=Mo(n.check,r,p,a)),o-=p,a+=p,C)break e}else n.head&&(n.head.comment=null);n.mode=$M;case $M:if(n.flags&512){for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.wrap&4&&c!==(n.check&65535)){t.msg="header crc mismatch",n.mode=er;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Cl;break;case BM:for(;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}t.adler=n.check=ZM(c),c=0,u=0,n.mode=Gx;case Gx:if(n.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=c,n.bits=u,HOe;t.adler=n.check=1,n.mode=Cl;case Cl:if(e===qOe||e===o1)break e;case R_:if(n.last){c>>>=u&7,u-=u&7,n.mode=M_;break}for(;u<3;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=UM;break;case 1:if(eRe(n),n.mode=l1,e===o1){c>>>=2,u-=2;break e}break;case 2:n.mode=zM;break;case 3:t.msg="invalid block type",n.mode=er}c>>>=2,u-=2;break;case UM:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=er;break}if(n.length=c&65535,c=0,u=0,n.mode=L_,e===o1)break e;case L_:n.mode=VM;case VM:if(p=n.length,p){if(p>o&&(p=o),p>l&&(p=l),p===0)break e;i.set(r.subarray(a,a+p),s),o-=p,a+=p,l-=p,s+=p,n.length-=p;break}n.mode=Cl;break;case zM:for(;u<14;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=er;break}n.have=0,n.mode=qM;case qM:for(;n.have<n.ncode;){for(;u<3;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.lens[I[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[I[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M={bits:n.lenbits},N=Fg(zOe,n.lens,0,19,n.lencode,0,n.work,M),n.lenbits=M.bits,N){t.msg="invalid code lengths set",n.mode=er;break}n.have=0,n.mode=WM;case WM:for(;n.have<n.nlen+n.ndist;){for(;x=n.lencode[c&(1<<n.lenbits)-1],v=x>>>24,w=x>>>16&255,_=x&65535,!(v<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(_<16)c>>>=v,u-=v,n.lens[n.have++]=_;else{if(_===16){for(P=v+2;u<P;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(c>>>=v,u-=v,n.have===0){t.msg="invalid bit length repeat",n.mode=er;break}C=n.lens[n.have-1],p=3+(c&3),c>>>=2,u-=2}else if(_===17){for(P=v+3;u<P;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=v,u-=v,C=0,p=3+(c&7),c>>>=3,u-=3}else{for(P=v+7;u<P;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=v,u-=v,C=0,p=11+(c&127),c>>>=7,u-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=er;break}for(;p--;)n.lens[n.have++]=C}}if(n.mode===er)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=er;break}if(n.lenbits=9,M={bits:n.lenbits},N=Fg(_W,n.lens,0,n.nlen,n.lencode,0,n.work,M),n.lenbits=M.bits,N){t.msg="invalid literal/lengths set",n.mode=er;break}if(n.distbits=6,n.distcode=n.distdyn,M={bits:n.distbits},N=Fg(SW,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,M),n.distbits=M.bits,N){t.msg="invalid distances set",n.mode=er;break}if(n.mode=l1,e===o1)break e;case l1:n.mode=c1;case c1:if(o>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=c,n.bits=u,DOe(t,h),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,r=t.input,o=t.avail_in,c=n.hold,u=n.bits,n.mode===Cl&&(n.back=-1);break}for(n.back=0;x=n.lencode[c&(1<<n.lenbits)-1],v=x>>>24,w=x>>>16&255,_=x&65535,!(v<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(w&&!(w&240)){for(A=v,E=w,O=_;x=n.lencode[O+((c&(1<<A+E)-1)>>A)],v=x>>>24,w=x>>>16&255,_=x&65535,!(A+v<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=A,u-=A,n.back+=A}if(c>>>=v,u-=v,n.back+=v,n.length=_,w===0){n.mode=XM;break}if(w&32){n.back=-1,n.mode=Cl;break}if(w&64){t.msg="invalid literal/length code",n.mode=er;break}n.extra=w&15,n.mode=HM;case HM:if(n.extra){for(P=n.extra;u<P;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=GM;case GM:for(;x=n.distcode[c&(1<<n.distbits)-1],v=x>>>24,w=x>>>16&255,_=x&65535,!(v<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(!(w&240)){for(A=v,E=w,O=_;x=n.distcode[O+((c&(1<<A+E)-1)>>A)],v=x>>>24,w=x>>>16&255,_=x&65535,!(A+v<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=A,u-=A,n.back+=A}if(c>>>=v,u-=v,n.back+=v,w&64){t.msg="invalid distance code",n.mode=er;break}n.offset=_,n.extra=w&15,n.mode=KM;case KM:if(n.extra){for(P=n.extra;u<P;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=er;break}n.mode=YM;case YM:if(l===0)break e;if(p=h-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=er;break}p>n.wnext?(p-=n.wnext,y=n.wsize-p):y=n.wnext-p,p>n.length&&(p=n.length),b=n.window}else b=i,y=s-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do i[s++]=b[y++];while(--p);n.length===0&&(n.mode=c1);break;case XM:if(l===0)break e;i[s++]=n.length,l--,n.mode=c1;break;case M_:if(n.wrap){for(;u<32;){if(o===0)break e;o--,c|=r[a++]<<u,u+=8}if(h-=l,t.total_out+=h,n.total+=h,n.wrap&4&&h&&(t.adler=n.check=n.flags?Mo(n.check,i,h,s-h):jE(n.check,i,h,s-h)),h=l,n.wrap&4&&(n.flags?c:ZM(c))!==n.check){t.msg="incorrect data check",n.mode=er;break}c=0,u=0}n.mode=QM;case QM:if(n.wrap&&n.flags){for(;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.wrap&4&&c!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=er;break}c=0,u=0}n.mode=JM;case JM:N=WOe;break e;case er:N=AW;break e;case EW:return NW;case PW:default:return Vs}return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=c,n.bits=u,(n.wsize||h!==t.avail_out&&n.mode<er&&(n.mode<M_||e!==jM))&&IW(t,t.output,t.next_out,h-t.avail_out),f-=t.avail_in,h-=t.avail_out,t.total_in+=f,t.total_out+=h,n.total+=h,n.wrap&4&&h&&(t.adler=n.check=n.flags?Mo(n.check,i,h,t.next_out-h):jE(n.check,i,h,t.next_out-h)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Cl?128:0)+(n.mode===l1||n.mode===L_?256:0),(f===0&&h===0||e===jM)&&N===fd&&(N=GOe),N},nRe=t=>{if(Ad(t))return Vs;let e=t.state;return e.window&&(e.window=null),t.state=null,fd},rRe=(t,e)=>{if(Ad(t))return Vs;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,fd):Vs},iRe=(t,e)=>{const n=e.length;let r,i,a;return Ad(t)||(r=t.state,r.wrap!==0&&r.mode!==Gx)?Vs:r.mode===Gx&&(i=1,i=jE(i,e,n,0),i!==r.check)?AW:(a=IW(t,e,n,n),a?(r.mode=EW,NW):(r.havedict=1,fd))};var aRe=kW,sRe=jW,oRe=TW,lRe=ZOe,cRe=CW,uRe=tRe,fRe=nRe,dRe=rRe,hRe=iRe,pRe="pako inflate (from Nodeca project)",Rl={inflateReset:aRe,inflateReset2:sRe,inflateResetKeep:oRe,inflateInit:lRe,inflateInit2:cRe,inflate:uRe,inflateEnd:fRe,inflateGetHeader:dRe,inflateSetDictionary:hRe,inflateInfo:pRe};function mRe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gRe=mRe;const OW=Object.prototype.toString,{Z_NO_FLUSH:yRe,Z_FINISH:vRe,Z_OK:av,Z_STREAM_END:$_,Z_NEED_DICT:B_,Z_STREAM_ERROR:bRe,Z_DATA_ERROR:tD,Z_MEM_ERROR:xRe}=bW;function Gv(t){this.options=xW.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new LOe,this.strm.avail_out=0;let n=Rl.inflateInit2(this.strm,e.windowBits);if(n!==av)throw new Error(CE[n]);if(this.header=new gRe,Rl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=IE.string2buf(e.dictionary):OW.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Rl.inflateSetDictionary(this.strm,e.dictionary),n!==av)))throw new Error(CE[n])}Gv.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?vRe:yRe,OW.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=Rl.inflate(n,s),a===B_&&i&&(a=Rl.inflateSetDictionary(n,i),a===av?a=Rl.inflate(n,s):a===tD&&(a=B_));n.avail_in>0&&a===$_&&n.state.wrap>0&&t[n.next_in]!==0;)Rl.inflateReset(n),a=Rl.inflate(n,s);switch(a){case bRe:case tD:case B_:case xRe:return this.onEnd(a),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||a===$_))if(this.options.to==="string"){let l=IE.utf8border(n.output,n.next_out),c=n.next_out-l,u=IE.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===av&&o===0)){if(a===$_)return a=Rl.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Gv.prototype.onData=function(t){this.chunks.push(t)};Gv.prototype.onEnd=function(t){t===av&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=xW.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function wRe(t,e){const n=new Gv(e);if(n.push(t),n.err)throw n.msg||CE[n.err];return n.result}var _Re=Gv,SRe=wRe,ARe={Inflate:_Re,inflate:SRe};const{Inflate:NRe,inflate:ERe}=ARe;var nD=NRe,PRe=ERe;const RW=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;RW[t]=e}const rD=4294967295;function TRe(t,e,n){let r=t;for(let i=0;i<n;i++)r=RW[(r^e[i])&255]^r>>>8;return r}function kRe(t,e){return(TRe(rD,t,e)^rD)>>>0}function iD(t,e,n){const r=t.readUint32(),i=kRe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function LW(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function MW(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function DW(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function FW(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(n[a]>>1)&255;for(;a<r;a++)e[a]=t[a]+(e[a-i]+n[a]>>1)&255}}function $W(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+n[a]&255;for(;a<r;a++)e[a]=t[a]+jRe(e[a-i],n[a],n[a-i])&255}}function jRe(t,e,n){const r=t+e-n,i=Math.abs(r-t),a=Math.abs(r-e),s=Math.abs(r-n);return i<=a&&i<=s?t:a<=s?e:n}function CRe(t,e,n,r,i,a){switch(t){case 0:LW(e,n,i);break;case 1:MW(e,n,i,a);break;case 2:DW(e,n,r,i);break;case 3:FW(e,n,r,i,a);break;case 4:$W(e,n,r,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const IRe=new Uint16Array([255]),ORe=new Uint8Array(IRe.buffer),RRe=ORe[0]===255;function LRe(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(r*n*o);let c=0;for(let u=0;u<7;u++){const f=s[u],h=Math.ceil((n-f.x)/f.xStep),p=Math.ceil((r-f.y)/f.yStep);if(h<=0||p<=0)continue;const y=h*o,b=new Uint8Array(y);for(let x=0;x<p;x++){const v=e[c++],w=e.subarray(c,c+y);c+=y;const _=new Uint8Array(y);CRe(v,w,_,b,y,o),b.set(_);for(let A=0;A<h;A++){const E=f.x+A*f.xStep,O=f.y+x*f.yStep;if(!(E>=n||O>=r))for(let C=0;C<o;C++)l[(O*n+E)*o+C]=_[A*o+C]}}}if(a===16){const u=new Uint16Array(l.buffer);if(RRe)for(let f=0;f<u.length;f++)u[f]=MRe(u[f]);return u}else return l}function MRe(t){return(t&255)<<8|t>>8&255}const DRe=new Uint16Array([255]),FRe=new Uint8Array(DRe.buffer),$Re=FRe[0]===255,BRe=new Uint8Array(0);function aD(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*n),l=new Uint8Array(r*o);let c=BRe,u=0,f,h;for(let p=0;p<r;p++){switch(f=e.subarray(u+1,u+1+o),h=l.subarray(p*o,(p+1)*o),e[u]){case 0:LW(f,h,o);break;case 1:MW(f,h,o,s);break;case 2:DW(f,h,c,o);break;case 3:FW(f,h,c,o,s);break;case 4:$W(f,h,c,o,s);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=h,u+=o+1}if(a===16){const p=new Uint16Array(l.buffer);if($Re)for(let y=0;y<p.length;y++)p[y]=URe(p[y]);return p}else return l}function URe(t){return(t&255)<<8|t>>8&255}const U1=Uint8Array.of(137,80,78,71,13,10,26,10);function sD(t){if(!VRe(t.readBytes(U1.length)))throw new Error("wrong PNG signature")}function VRe(t){if(t.length<U1.length)return!1;for(let e=0;e<U1.length;e++)if(t[e]!==U1[e])return!1;return!0}const zRe="tEXt",qRe=0,BW=new TextDecoder("latin1");function WRe(t){if(GRe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const HRe=/^[\u0000-\u00FF]*$/;function GRe(t){if(!HRe.test(t))throw new Error("invalid latin1 text")}function KRe(t,e,n){const r=UW(e);t[r]=YRe(e,n-r.length-1)}function UW(t){for(t.mark();t.readByte()!==qRe;);const e=t.offset;t.reset();const n=BW.decode(t.readBytes(e-t.offset-1));return t.skip(1),WRe(n),n}function YRe(t,e){return BW.decode(t.readBytes(e))}const qa={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},U_={UNKNOWN:-1,DEFLATE:0},oD={UNKNOWN:-1,ADAPTIVE:0},V_={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},u1={NONE:0,BACKGROUND:1,PREVIOUS:2},z_={SOURCE:0,OVER:1};class XRe extends Lk{constructor(n,r={}){super(n);xn(this,"_checkCrc");xn(this,"_inflator");xn(this,"_png");xn(this,"_apng");xn(this,"_end");xn(this,"_hasPalette");xn(this,"_palette");xn(this,"_hasTransparency");xn(this,"_transparency");xn(this,"_compressionMethod");xn(this,"_filterMethod");xn(this,"_interlaceMethod");xn(this,"_colorType");xn(this,"_isAnimated");xn(this,"_numberOfFrames");xn(this,"_numberOfPlays");xn(this,"_frames");xn(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new nD,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=U_.UNKNOWN,this._filterMethod=oD.UNKNOWN,this._interlaceMethod=V_.UNKNOWN,this._colorType=qa.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(sD(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(sD(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case zRe:KRe(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?iD(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?iD(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=QRe(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case qa.GREYSCALE:i=1;break;case qa.TRUECOLOUR:i=3;break;case qa.INDEXED_COLOUR:i=1;break;case qa.GREYSCALE_ALPHA:i=2;break;case qa.TRUECOLOUR_ALPHA:i=4;break;case qa.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==U_.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<r;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case qa.GREYSCALE:case qa.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case qa.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case qa.UNKNOWN:case qa.GREYSCALE_ALPHA:case qa.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=UW(this),i=this.readUint8();if(i!==U_.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:PRe(a)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=aD({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const a=this._apng.frames.at(n-1);this.disposeFrame(i,a,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case u1.NONE:break;case u1.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*n.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case u1.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,a=(s,o)=>{const l=((s+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,c=(s*r.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case z_.SOURCE:for(let s=0;s<r.height;s++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++)n.data[l+u]=r.data[c+u]}break;case z_.OVER:for(let s=0;s<r.height;s++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++){const f=r.data[c+this._png.channels-1]/i,h=u%(this._png.channels-1)===0?1:r.data[c+u],p=Math.floor(f*h+(1-f)*n.data[l+u]);n.data[l+u]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==oD.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===V_.NO_INTERLACE)this._png.data=aD({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===V_.ADAM7)this._png.data=LRe({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:u1.NONE,blendOp:z_.SOURCE,data:n}),this._inflator=new nD,this._writingDataChunks=!1}}function QRe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var lD;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(lD||(lD={}));function JRe(t,e){return new XRe(t,e).decode()}var Et=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function q_(){Et.console&&typeof Et.console.log=="function"&&Et.console.log.apply(Et.console,arguments)}var On={log:q_,warn:function(t){Et.console&&(typeof Et.console.warn=="function"?Et.console.warn.apply(Et.console,arguments):q_.call(null,arguments))},error:function(t){Et.console&&(typeof Et.console.error=="function"?Et.console.error.apply(Et.console,arguments):q_(t))}};function W_(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Nf(r.response,e,n)},r.onerror=function(){On.error("could not download file")},r.send()}function cD(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function f1(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Nf=Et.saveAs||((typeof window>"u"?"undefined":_n(window))!=="object"||window!==Et?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Et.URL||Et.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?cD(i.href)?W_(t,e,n):f1(i,i.target="_blank"):f1(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){f1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(cD(t))W_(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){f1(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:_n(a)!=="object"&&(On.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return W_(t,e,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(Et.HTMLElement)||Et.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":_n(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},o.readAsDataURL(t)}else{var l=Et.URL||Et.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function VW(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var V1=Et.atob.bind(Et),uD=Et.btoa.bind(Et);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function H_(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=$i(n,r,i,a,e[0],7,-680876936),a=$i(a,n,r,i,e[1],12,-389564586),i=$i(i,a,n,r,e[2],17,606105819),r=$i(r,i,a,n,e[3],22,-1044525330),n=$i(n,r,i,a,e[4],7,-176418897),a=$i(a,n,r,i,e[5],12,1200080426),i=$i(i,a,n,r,e[6],17,-1473231341),r=$i(r,i,a,n,e[7],22,-45705983),n=$i(n,r,i,a,e[8],7,1770035416),a=$i(a,n,r,i,e[9],12,-1958414417),i=$i(i,a,n,r,e[10],17,-42063),r=$i(r,i,a,n,e[11],22,-1990404162),n=$i(n,r,i,a,e[12],7,1804603682),a=$i(a,n,r,i,e[13],12,-40341101),i=$i(i,a,n,r,e[14],17,-1502002290),n=Bi(n,r=$i(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Bi(a,n,r,i,e[6],9,-1069501632),i=Bi(i,a,n,r,e[11],14,643717713),r=Bi(r,i,a,n,e[0],20,-373897302),n=Bi(n,r,i,a,e[5],5,-701558691),a=Bi(a,n,r,i,e[10],9,38016083),i=Bi(i,a,n,r,e[15],14,-660478335),r=Bi(r,i,a,n,e[4],20,-405537848),n=Bi(n,r,i,a,e[9],5,568446438),a=Bi(a,n,r,i,e[14],9,-1019803690),i=Bi(i,a,n,r,e[3],14,-187363961),r=Bi(r,i,a,n,e[8],20,1163531501),n=Bi(n,r,i,a,e[13],5,-1444681467),a=Bi(a,n,r,i,e[2],9,-51403784),i=Bi(i,a,n,r,e[7],14,1735328473),n=Ui(n,r=Bi(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Ui(a,n,r,i,e[8],11,-2022574463),i=Ui(i,a,n,r,e[11],16,1839030562),r=Ui(r,i,a,n,e[14],23,-35309556),n=Ui(n,r,i,a,e[1],4,-1530992060),a=Ui(a,n,r,i,e[4],11,1272893353),i=Ui(i,a,n,r,e[7],16,-155497632),r=Ui(r,i,a,n,e[10],23,-1094730640),n=Ui(n,r,i,a,e[13],4,681279174),a=Ui(a,n,r,i,e[0],11,-358537222),i=Ui(i,a,n,r,e[3],16,-722521979),r=Ui(r,i,a,n,e[6],23,76029189),n=Ui(n,r,i,a,e[9],4,-640364487),a=Ui(a,n,r,i,e[12],11,-421815835),i=Ui(i,a,n,r,e[15],16,530742520),n=Vi(n,r=Ui(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Vi(a,n,r,i,e[7],10,1126891415),i=Vi(i,a,n,r,e[14],15,-1416354905),r=Vi(r,i,a,n,e[5],21,-57434055),n=Vi(n,r,i,a,e[12],6,1700485571),a=Vi(a,n,r,i,e[3],10,-1894986606),i=Vi(i,a,n,r,e[10],15,-1051523),r=Vi(r,i,a,n,e[1],21,-2054922799),n=Vi(n,r,i,a,e[8],6,1873313359),a=Vi(a,n,r,i,e[15],10,-30611744),i=Vi(i,a,n,r,e[6],15,-1560198380),r=Vi(r,i,a,n,e[13],21,1309151649),n=Vi(n,r,i,a,e[4],6,-145523070),a=Vi(a,n,r,i,e[11],10,-1120210379),i=Vi(i,a,n,r,e[2],15,718787259),r=Vi(r,i,a,n,e[9],21,-343485551),t[0]=uu(n,t[0]),t[1]=uu(r,t[1]),t[2]=uu(i,t[2]),t[3]=uu(a,t[3])}function Dw(t,e,n,r,i,a){return e=uu(uu(e,t),uu(r,a)),uu(e<<i|e>>>32-i,n)}function $i(t,e,n,r,i,a,s){return Dw(e&n|~e&r,t,e,i,a,s)}function Bi(t,e,n,r,i,a,s){return Dw(e&r|n&~r,t,e,i,a,s)}function Ui(t,e,n,r,i,a,s){return Dw(e^n^r,t,e,i,a,s)}function Vi(t,e,n,r,i,a,s){return Dw(n^(e|~r),t,e,i,a,s)}function zW(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)H_(r,ZRe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(H_(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,H_(r,i),r}function ZRe(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var fD="0123456789abcdef".split("");function eLe(t){for(var e="",n=0;n<4;n++)e+=fD[t>>8*n+4&15]+fD[t>>8*n&15];return e}function tLe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function OE(t){return zW(t).map(tLe).join("")}var nLe=function(t){for(var e=0;e<t.length;e++)t[e]=eLe(t[e]);return t.join("")}(zW("hello"))!="5d41402abc4b2a76b9719d911017c592";function uu(t,e){if(nLe){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function RE(t,e){var n,r,i,a;if(t!==n){for(var s=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}n=t,r=o}else o=r;var f=e.length,h=0,p=0,y="";for(l=0;l<f;l++)p=(p+(u=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=u,s=o[(o[h]+o[p])%256],y+=String.fromCharCode(e.charCodeAt(l)^s);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var dD={print:4,modify:8,copy:16,"annot-forms":32};function Qd(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(dD.perm!==void 0)throw new Error("Invalid permission: "+o);i+=dD[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=OE(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=RE(this.encryptionKey,this.padding)}function Jd(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function hD(t){if(_n(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var s=e[n][a];try{s[0].apply(t,r)}catch(o){Et.console&&On.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Kx(t){if(!(this instanceof Kx))return new Kx(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function qW(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ef(t,e,n,r,i){if(!(this instanceof Ef))return new Ef(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,qW.call(this,r,i)}function xh(t,e,n,r,i){if(!(this instanceof xh))return new xh(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,qW.call(this,r,i)}function ht(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,c="S",u=null;_n(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,a=t.compress||t.compressPdf||a,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=hD;var y="1.3",b=p.__private__.getPdfVersion=function(){return y};p.__private__.setPdfVersion=function(T){y=T};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return x};var v=p.__private__.getPageFormat=function(T){return x[T]};i=i||"a4";var w="compat",_="advanced",A=w;function E(){this.saveGraphicsState(),Q(new yt(kt,0,0,-kt,0,vs()*kt).toString()+" cm"),this.setFontSize(this.getFontSize()/kt),c="n",A=_}function O(){this.restoreGraphicsState(),c="S",A=w}var C=p.__private__.combineFontStyleAndFontWeight=function(T,V){if(T=="bold"&&V=="normal"||T=="bold"&&V==400||T=="normal"&&V=="italic"||T=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(T=V==400||V==="normal"?T==="italic"?"italic":"normal":V!=700&&V!=="bold"||T!=="normal"?(V==700?"bold":V)+""+T:"bold"),T};p.advancedAPI=function(T){var V=A===w;return V&&E.call(this),typeof T!="function"||(T(this),V&&O.call(this)),this},p.compatAPI=function(T){var V=A===_;return V&&O.call(this),typeof T!="function"||(T(this),V&&E.call(this)),this},p.isAdvancedAPI=function(){return A===_};var N,k=function(T){if(A!==_)throw new Error(T+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=p.roundToPrecision=p.__private__.roundToPrecision=function(T,V){var ee=e||V;if(isNaN(T)||isNaN(ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return T.toFixed(ee).replace(/0+$/,"")};N=p.hpf=p.__private__.hpf=typeof l=="number"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return M(T,l)}:l==="smart"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return M(T,T>-1&&T<1?16:5)}:function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return M(T,16)};var P=p.f2=p.__private__.f2=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f2");return M(T,2)},I=p.__private__.f3=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f3");return M(T,3)},j=p.scale=p.__private__.scale=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.scale");return A===w?T*kt:A===_?T:void 0},B=function(T){return j(function(V){return A===w?vs()-V:A===_?V:void 0}(T))};p.__private__.setPrecision=p.setPrecision=function(T){typeof parseInt(T,10)=="number"&&(e=parseInt(T,10))};var G,Z="00000000000000000000000000000000",re=p.__private__.getFileId=function(){return Z},Y=p.__private__.setFileId=function(T){return Z=T!==void 0&&/^[a-fA-F0-9]{32}$/.test(T)?T.toUpperCase():Z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(jn=new Qd(u.userPermissions,u.userPassword,u.ownerPassword,Z)),Z};p.setFileId=function(T){return Y(T),this},p.getFileId=function(){return re()};var ae=p.__private__.convertDateToPDFDate=function(T){var V=T.getTimezoneOffset(),ee=V<0?"+":"-",oe=Math.floor(Math.abs(V/60)),ye=Math.abs(V%60),ke=[ee,ie(oe),"'",ie(ye),"'"].join("");return["D:",T.getFullYear(),ie(T.getMonth()+1),ie(T.getDate()),ie(T.getHours()),ie(T.getMinutes()),ie(T.getSeconds()),ke].join("")},ue=p.__private__.convertPDFDateToDate=function(T){var V=parseInt(T.substr(2,4),10),ee=parseInt(T.substr(6,2),10)-1,oe=parseInt(T.substr(8,2),10),ye=parseInt(T.substr(10,2),10),ke=parseInt(T.substr(12,2),10),Oe=parseInt(T.substr(14,2),10);return new Date(V,ee,oe,ye,ke,Oe,0)},he=p.__private__.setCreationDate=function(T){var V;if(T===void 0&&(T=new Date),T instanceof Date)V=ae(T);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(T))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=T}return G=V},$=p.__private__.getCreationDate=function(T){var V=G;return T==="jsDate"&&(V=ue(G)),V};p.setCreationDate=function(T){return he(T),this},p.getCreationDate=function(T){return $(T)};var H,ie=p.__private__.padd2=function(T){return("0"+parseInt(T)).slice(-2)},se=p.__private__.padd2Hex=function(T){return("00"+(T=T.toString())).substr(T.length)},le=0,ge=[],Ae=[],fe=0,we=[],Ee=[],ve=!1,Le=Ae;p.__private__.setCustomOutputDestination=function(T){ve=!0,Le=T};var $e=function(T){ve||(Le=T)};p.__private__.resetCustomOutputDestination=function(){ve=!1,Le=Ae};var Q=p.__private__.out=function(T){return T=T.toString(),fe+=T.length+1,Le.push(T),Le},Me=p.__private__.write=function(T){return Q(arguments.length===1?T.toString():Array.prototype.join.call(arguments," "))},ct=p.__private__.getArrayBuffer=function(T){for(var V=T.length,ee=new ArrayBuffer(V),oe=new Uint8Array(ee);V--;)oe[V]=T.charCodeAt(V);return ee},Je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Je};var ce=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(T){return ce=A===_?T/kt:T,this};var Be,qe=p.__private__.getFontSize=p.getFontSize=function(){return A===w?ce:ce*kt},et=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(T){return et=T,this},p.__private__.getR2L=p.getR2L=function(){return et};var tt,zt=p.__private__.setZoomMode=function(T){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(T))Be=T;else if(isNaN(T)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(T)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+T+'" is not recognized.');Be=T}else Be=parseInt(T,10)};p.__private__.getZoomMode=function(){return Be};var Ct,ut=p.__private__.setPageMode=function(T){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(T)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+T+'" is not recognized.');tt=T};p.__private__.getPageMode=function(){return tt};var xt=p.__private__.setLayoutMode=function(T){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(T)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+T+'" is not recognized.');Ct=T};p.__private__.getLayoutMode=function(){return Ct},p.__private__.setDisplayMode=p.setDisplayMode=function(T,V,ee){return zt(T),xt(V),ut(ee),this};var $t={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(T){if(Object.keys($t).indexOf(T)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return $t[T]},p.__private__.getDocumentProperties=function(){return $t},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(T){for(var V in $t)$t.hasOwnProperty(V)&&T[V]&&($t[V]=T[V]);return this},p.__private__.setDocumentProperty=function(T,V){if(Object.keys($t).indexOf(T)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return $t[T]=V};var it,kt,ft,kn,Kt,Dt={},Lt={},Mn=[],pt={},hn={},vt={},Pt={},pn=null,Ft=0,mt=[],qt=new hD(p),_o=t.hotfixes||[],Tr={},us={},Ci=[],yt=function T(V,ee,oe,ye,ke,Oe){if(!(this instanceof T))return new T(V,ee,oe,ye,ke,Oe);isNaN(V)&&(V=1),isNaN(ee)&&(ee=0),isNaN(oe)&&(oe=0),isNaN(ye)&&(ye=1),isNaN(ke)&&(ke=0),isNaN(Oe)&&(Oe=0),this._matrix=[V,ee,oe,ye,ke,Oe]};Object.defineProperty(yt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(yt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(yt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(yt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(yt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(yt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(yt.prototype,"a",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(yt.prototype,"b",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(yt.prototype,"c",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(yt.prototype,"d",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(yt.prototype,"e",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(yt.prototype,"f",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(yt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(yt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(yt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(yt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),yt.prototype.join=function(T){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(T)},yt.prototype.multiply=function(T){var V=T.sx*this.sx+T.shy*this.shx,ee=T.sx*this.shy+T.shy*this.sy,oe=T.shx*this.sx+T.sy*this.shx,ye=T.shx*this.shy+T.sy*this.sy,ke=T.tx*this.sx+T.ty*this.shx+this.tx,Oe=T.tx*this.shy+T.ty*this.sy+this.ty;return new yt(V,ee,oe,ye,ke,Oe)},yt.prototype.decompose=function(){var T=this.sx,V=this.shy,ee=this.shx,oe=this.sy,ye=this.tx,ke=this.ty,Oe=Math.sqrt(T*T+V*V),Ye=(T/=Oe)*ee+(V/=Oe)*oe;ee-=T*Ye,oe-=V*Ye;var at=Math.sqrt(ee*ee+oe*oe);return Ye/=at,T*(oe/=at)<V*(ee/=at)&&(T=-T,V=-V,Ye=-Ye,Oe=-Oe),{scale:new yt(Oe,0,0,at,0,0),translate:new yt(1,0,0,1,ye,ke),rotate:new yt(T,V,-V,T,0,0),skew:new yt(1,0,Ye,1,0,0)}},yt.prototype.toString=function(T){return this.join(" ")},yt.prototype.inversed=function(){var T=this.sx,V=this.shy,ee=this.shx,oe=this.sy,ye=this.tx,ke=this.ty,Oe=1/(T*oe-V*ee),Ye=oe*Oe,at=-V*Oe,wt=-ee*Oe,jt=T*Oe;return new yt(Ye,at,wt,jt,-Ye*ye-wt*ke,-at*ye-jt*ke)},yt.prototype.applyToPoint=function(T){var V=T.x*this.sx+T.y*this.shx+this.tx,ee=T.x*this.shy+T.y*this.sy+this.ty;return new gs(V,ee)},yt.prototype.applyToRectangle=function(T){var V=this.applyToPoint(T),ee=this.applyToPoint(new gs(T.x+T.w,T.y+T.h));return new Nc(V.x,V.y,ee.x-V.x,ee.y-V.y)},yt.prototype.clone=function(){var T=this.sx,V=this.shy,ee=this.shx,oe=this.sy,ye=this.tx,ke=this.ty;return new yt(T,V,ee,oe,ye,ke)},p.Matrix=yt;var zn=p.matrixMult=function(T,V){return V.multiply(T)},fs=new yt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=fs;var ai=function(T,V){if(!hn[T]){var ee=(V instanceof Ef?"Sh":"P")+(Object.keys(pt).length+1).toString(10);V.id=ee,hn[T]=ee,pt[ee]=V,qt.publish("addPattern",V)}};p.ShadingPattern=Ef,p.TilingPattern=xh,p.addShadingPattern=function(T,V){return k("addShadingPattern()"),ai(T,V),this},p.beginTilingPattern=function(T){k("beginTilingPattern()"),jo(T.boundingBox[0],T.boundingBox[1],T.boundingBox[2]-T.boundingBox[0],T.boundingBox[3]-T.boundingBox[1],T.matrix)},p.endTilingPattern=function(T,V){k("endTilingPattern()"),V.stream=Ee[H].join(`
`),ai(T,V),qt.publish("endTilingPattern",V),Ci.pop().restore()};var si,Jn=p.__private__.newObject=function(){var T=Br();return Zn(T,!0),T},Br=p.__private__.newObjectDeferred=function(){return le++,ge[le]=function(){return fe},le},Zn=function(T,V){return V=typeof V=="boolean"&&V,ge[T]=fe,V&&Q(T+" 0 obj"),T},hl=p.__private__.newAdditionalObject=function(){var T={objId:Br(),content:""};return we.push(T),T},So=Br(),Ii=Br(),Ca=p.__private__.decodeColorString=function(T){var V=T.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length!==5||V[4]!=="k"&&V[4]!=="K"||(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var ee=parseFloat(V[0]);V=[ee,ee,ee,"r"]}for(var oe="#",ye=0;ye<3;ye++)oe+=("0"+Math.floor(255*parseFloat(V[ye])).toString(16)).slice(-2);return oe},ta=p.__private__.encodeColorString=function(T){var V;typeof T=="string"&&(T={ch1:T});var ee=T.ch1,oe=T.ch2,ye=T.ch3,ke=T.ch4,Oe=T.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ee=="string"&&ee.charAt(0)!=="#"){var Ye=new VW(ee);if(Ye.ok)ee=Ye.toHex();else if(!/^\d*\.?\d*$/.test(ee))throw new Error('Invalid color "'+ee+'" passed to jsPDF.encodeColorString.')}if(typeof ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ee)&&(ee="#"+ee[1]+ee[1]+ee[2]+ee[2]+ee[3]+ee[3]),typeof ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ee)){var at=parseInt(ee.substr(1),16);ee=at>>16&255,oe=at>>8&255,ye=255&at}if(oe===void 0||ke===void 0&&ee===oe&&oe===ye)V=typeof ee=="string"?ee+" "+Oe[0]:T.precision===2?P(ee/255)+" "+Oe[0]:I(ee/255)+" "+Oe[0];else if(ke===void 0||_n(ke)==="object"){if(ke&&!isNaN(ke.a)&&ke.a===0)return["1.","1.","1.",Oe[1]].join(" ");V=typeof ee=="string"?[ee,oe,ye,Oe[1]].join(" "):T.precision===2?[P(ee/255),P(oe/255),P(ye/255),Oe[1]].join(" "):[I(ee/255),I(oe/255),I(ye/255),Oe[1]].join(" ")}else V=typeof ee=="string"?[ee,oe,ye,ke,Oe[2]].join(" "):T.precision===2?[P(ee),P(oe),P(ye),P(ke),Oe[2]].join(" "):[I(ee),I(oe),I(ye),I(ke),Oe[2]].join(" ");return V},Oi=p.__private__.getFilters=function(){return s},kr=p.__private__.putStream=function(T){var V=(T=T||{}).data||"",ee=T.filters||Oi(),oe=T.alreadyAppliedFilters||[],ye=T.addLength1||!1,ke=V.length,Oe=T.objectId,Ye=function(yr){return yr};if(u!==null&&Oe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Ye=jn.encryptor(Oe,0));var at={};ee===!0&&(ee=["FlateEncode"]);var wt=T.additionalKeyValues||[],jt=(at=ht.API.processDataByFilters!==void 0?ht.API.processDataByFilters(V,ee):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(oe)?oe.join(" "):oe.toString());if(at.data.length!==0&&(wt.push({key:"Length",value:at.data.length}),ye===!0&&wt.push({key:"Length1",value:ke})),jt.length!=0)if(jt.split("/").length-1==1)wt.push({key:"Filter",value:jt});else{wt.push({key:"Filter",value:"["+jt+"]"});for(var Xt=0;Xt<wt.length;Xt+=1)if(wt[Xt].key==="DecodeParms"){for(var dn=[],ir=0;ir<at.reverseChain.split("/").length-1;ir+=1)dn.push("null");dn.push(wt[Xt].value),wt[Xt].value="["+dn.join(" ")+"]"}}Q("<<");for(var yn=0;yn<wt.length;yn++)Q("/"+wt[yn].key+" "+wt[yn].value);Q(">>"),at.data.length!==0&&(Q("stream"),Q(Ye(at.data)),Q("endstream"))},Ao=p.__private__.putPage=function(T){var V=T.number,ee=T.data,oe=T.objId,ye=T.contentsObjId;Zn(oe,!0),Q("<</Type /Page"),Q("/Parent "+T.rootDictionaryObjId+" 0 R"),Q("/Resources "+T.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(N(T.mediaBox.bottomLeftX))+" "+parseFloat(N(T.mediaBox.bottomLeftY))+" "+N(T.mediaBox.topRightX)+" "+N(T.mediaBox.topRightY)+"]"),T.cropBox!==null&&Q("/CropBox ["+N(T.cropBox.bottomLeftX)+" "+N(T.cropBox.bottomLeftY)+" "+N(T.cropBox.topRightX)+" "+N(T.cropBox.topRightY)+"]"),T.bleedBox!==null&&Q("/BleedBox ["+N(T.bleedBox.bottomLeftX)+" "+N(T.bleedBox.bottomLeftY)+" "+N(T.bleedBox.topRightX)+" "+N(T.bleedBox.topRightY)+"]"),T.trimBox!==null&&Q("/TrimBox ["+N(T.trimBox.bottomLeftX)+" "+N(T.trimBox.bottomLeftY)+" "+N(T.trimBox.topRightX)+" "+N(T.trimBox.topRightY)+"]"),T.artBox!==null&&Q("/ArtBox ["+N(T.artBox.bottomLeftX)+" "+N(T.artBox.bottomLeftY)+" "+N(T.artBox.topRightX)+" "+N(T.artBox.topRightY)+"]"),typeof T.userUnit=="number"&&T.userUnit!==1&&Q("/UserUnit "+T.userUnit),qt.publish("putPage",{objId:oe,pageContext:mt[V],pageNumber:V,page:ee}),Q("/Contents "+ye+" 0 R"),Q(">>"),Q("endobj");var ke=ee.join(`
`);return A===_&&(ke+=`
Q`),Zn(ye,!0),kr({data:ke,filters:Oi(),objectId:ye}),Q("endobj"),oe},Ia=p.__private__.putPages=function(){var T,V,ee=[];for(T=1;T<=Ft;T++)mt[T].objId=Br(),mt[T].contentsObjId=Br();for(T=1;T<=Ft;T++)ee.push(Ao({number:T,data:Ee[T],objId:mt[T].objId,contentsObjId:mt[T].contentsObjId,mediaBox:mt[T].mediaBox,cropBox:mt[T].cropBox,bleedBox:mt[T].bleedBox,trimBox:mt[T].trimBox,artBox:mt[T].artBox,userUnit:mt[T].userUnit,rootDictionaryObjId:So,resourceDictionaryObjId:Ii}));Zn(So,!0),Q("<</Type /Pages");var oe="/Kids [";for(V=0;V<Ft;V++)oe+=ee[V]+" 0 R ";Q(oe+"]"),Q("/Count "+Ft),Q(">>"),Q("endobj"),qt.publish("postPutPages")},Ws=function(T){qt.publish("putFont",{font:T,out:Q,newObject:Jn,putStream:kr}),T.isAlreadyPutted!==!0&&(T.objectNumber=Jn(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+Jd(T.postScriptName)),Q("/Subtype /Type1"),typeof T.encoding=="string"&&Q("/Encoding /"+T.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj"))},No=function(T){T.objectNumber=Jn();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[N(T.x),N(T.y),N(T.x+T.width),N(T.y+T.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+T.matrix.toString()+"]"});var ee=T.pages[1].join(`
`);kr({data:ee,additionalKeyValues:V,objectId:T.objectNumber}),Q("endobj")},pl=function(T,V){V||(V=21);var ee=Jn(),oe=function(Oe,Ye){var at,wt=[],jt=1/(Ye-1);for(at=0;at<1;at+=jt)wt.push(at);if(wt.push(1),Oe[0].offset!=0){var Xt={offset:0,color:Oe[0].color};Oe.unshift(Xt)}if(Oe[Oe.length-1].offset!=1){var dn={offset:1,color:Oe[Oe.length-1].color};Oe.push(dn)}for(var ir="",yn=0,yr=0;yr<wt.length;yr++){for(at=wt[yr];at>Oe[yn+1].offset;)yn++;var ar=Oe[yn].offset,vr=(at-ar)/(Oe[yn+1].offset-ar),sr=Oe[yn].color,va=Oe[yn+1].color;ir+=se(Math.round((1-vr)*sr[0]+vr*va[0]).toString(16))+se(Math.round((1-vr)*sr[1]+vr*va[1]).toString(16))+se(Math.round((1-vr)*sr[2]+vr*va[2]).toString(16))}return ir.trim()}(T.colors,V),ye=[];ye.push({key:"FunctionType",value:"0"}),ye.push({key:"Domain",value:"[0.0 1.0]"}),ye.push({key:"Size",value:"["+V+"]"}),ye.push({key:"BitsPerSample",value:"8"}),ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),kr({data:oe,additionalKeyValues:ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ee}),Q("endobj"),T.objectNumber=Jn(),Q("<< /ShadingType "+T.type),Q("/ColorSpace /DeviceRGB");var ke="/Coords ["+N(parseFloat(T.coords[0]))+" "+N(parseFloat(T.coords[1]))+" ";T.type===2?ke+=N(parseFloat(T.coords[2]))+" "+N(parseFloat(T.coords[3])):ke+=N(parseFloat(T.coords[2]))+" "+N(parseFloat(T.coords[3]))+" "+N(parseFloat(T.coords[4]))+" "+N(parseFloat(T.coords[5])),Q(ke+="]"),T.matrix&&Q("/Matrix ["+T.matrix.toString()+"]"),Q("/Function "+ee+" 0 R"),Q("/Extend [true true]"),Q(">>"),Q("endobj")},ml=function(T,V){var ee=Br(),oe=Jn();V.push({resourcesOid:ee,objectOid:oe}),T.objectNumber=oe;var ye=[];ye.push({key:"Type",value:"/Pattern"}),ye.push({key:"PatternType",value:"1"}),ye.push({key:"PaintType",value:"1"}),ye.push({key:"TilingType",value:"1"}),ye.push({key:"BBox",value:"["+T.boundingBox.map(N).join(" ")+"]"}),ye.push({key:"XStep",value:N(T.xStep)}),ye.push({key:"YStep",value:N(T.yStep)}),ye.push({key:"Resources",value:ee+" 0 R"}),T.matrix&&ye.push({key:"Matrix",value:"["+T.matrix.toString()+"]"}),kr({data:T.stream,additionalKeyValues:ye,objectId:T.objectNumber}),Q("endobj")},sm=function(T){for(var V in T.objectNumber=Jn(),Q("<<"),T)switch(V){case"opacity":Q("/ca "+P(T[V]));break;case"stroke-opacity":Q("/CA "+P(T[V]))}Q(">>"),Q("endobj")},Eo=function(T){Zn(T.resourcesOid,!0),Q("<<"),Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var V in Q("/Font <<"),Dt)Dt.hasOwnProperty(V)&&(f===!1||f===!0&&h.hasOwnProperty(V))&&Q("/"+V+" "+Dt[V].objectNumber+" 0 R");Q(">>")}(),function(){if(Object.keys(pt).length>0){for(var V in Q("/Shading <<"),pt)pt.hasOwnProperty(V)&&pt[V]instanceof Ef&&pt[V].objectNumber>=0&&Q("/"+V+" "+pt[V].objectNumber+" 0 R");qt.publish("putShadingPatternDict"),Q(">>")}}(),function(V){if(Object.keys(pt).length>0){for(var ee in Q("/Pattern <<"),pt)pt.hasOwnProperty(ee)&&pt[ee]instanceof p.TilingPattern&&pt[ee].objectNumber>=0&&pt[ee].objectNumber<V&&Q("/"+ee+" "+pt[ee].objectNumber+" 0 R");qt.publish("putTilingPatternDict"),Q(">>")}}(T.objectOid),function(){if(Object.keys(vt).length>0){var V;for(V in Q("/ExtGState <<"),vt)vt.hasOwnProperty(V)&&vt[V].objectNumber>=0&&Q("/"+V+" "+vt[V].objectNumber+" 0 R");qt.publish("putGStateDict"),Q(">>")}}(),function(){for(var V in Q("/XObject <<"),Tr)Tr.hasOwnProperty(V)&&Tr[V].objectNumber>=0&&Q("/"+V+" "+Tr[V].objectNumber+" 0 R");qt.publish("putXobjectDict"),Q(">>")}(),Q(">>"),Q("endobj")},Ju=function(T){Lt[T.fontName]=Lt[T.fontName]||{},Lt[T.fontName][T.fontStyle]=T.id},bc=function(T,V,ee,oe,ye){var ke={id:"F"+(Object.keys(Dt).length+1).toString(10),postScriptName:T,fontName:V,fontStyle:ee,encoding:oe,isStandardFont:ye||!1,metadata:{}};return qt.publish("addFont",{font:ke,instance:this}),Dt[ke.id]=ke,Ju(ke),ke.id},oi=p.__private__.pdfEscape=p.pdfEscape=function(T,V){return function(ee,oe){var ye,ke,Oe,Ye,at,wt,jt,Xt,dn;if(Oe=(oe=oe||{}).sourceEncoding||"Unicode",at=oe.outputEncoding,(oe.autoencode||at)&&Dt[it].metadata&&Dt[it].metadata[Oe]&&Dt[it].metadata[Oe].encoding&&(Ye=Dt[it].metadata[Oe].encoding,!at&&Dt[it].encoding&&(at=Dt[it].encoding),!at&&Ye.codePages&&(at=Ye.codePages[0]),typeof at=="string"&&(at=Ye[at]),at)){for(jt=!1,wt=[],ye=0,ke=ee.length;ye<ke;ye++)(Xt=at[ee.charCodeAt(ye)])?wt.push(String.fromCharCode(Xt)):wt.push(ee[ye]),wt[ye].charCodeAt(0)>>8&&(jt=!0);ee=wt.join("")}for(ye=ee.length;jt===void 0&&ye!==0;)ee.charCodeAt(ye-1)>>8&&(jt=!0),ye--;if(!jt)return ee;for(wt=oe.noBOM?[]:[254,255],ye=0,ke=ee.length;ye<ke;ye++){if((dn=(Xt=ee.charCodeAt(ye))>>8)>>8)throw new Error("Character at position "+ye+" of string '"+ee+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");wt.push(dn),wt.push(Xt-(dn<<8))}return String.fromCharCode.apply(void 0,wt)}(T,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Oa=p.__private__.beginPage=function(T){Ee[++Ft]=[],mt[Ft]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(T[0]),topRightY:Number(T[1])}},ef(Ft),$e(Ee[H])},xc=function(T,V){var ee,oe,ye;switch(n=V||n,typeof T=="string"&&(ee=v(T.toLowerCase()),Array.isArray(ee)&&(oe=ee[0],ye=ee[1])),Array.isArray(T)&&(oe=T[0]*kt,ye=T[1]*kt),isNaN(oe)&&(oe=i[0],ye=i[1]),(oe>14400||ye>14400)&&(On.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),oe=Math.min(14400,oe),ye=Math.min(14400,ye)),i=[oe,ye],n.substr(0,1)){case"l":ye>oe&&(i=[ye,oe]);break;case"p":oe>ye&&(i=[ye,oe])}Oa(i),bt(_c),Q(Gs),En!==0&&Q(En+" J"),of!==0&&Q(of+" j"),qt.publish("addPage",{pageNumber:Ft})},Zu=function(T){T>0&&T<=Ft&&(Ee.splice(T,1),mt.splice(T,1),Ft--,H>Ft&&(H=Ft),this.setPage(H))},ef=function(T){T>0&&T<=Ft&&(H=T)},tf=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Ee.length-1},nf=function(T,V,ee){var oe,ye=void 0;return ee=ee||{},T=T!==void 0?T:Dt[it].fontName,V=V!==void 0?V:Dt[it].fontStyle,oe=T.toLowerCase(),Lt[oe]!==void 0&&Lt[oe][V]!==void 0?ye=Lt[oe][V]:Lt[T]!==void 0&&Lt[T][V]!==void 0?ye=Lt[T][V]:ee.disableWarning===!1&&On.warn("Unable to look up font label for font '"+T+"', '"+V+"'. Refer to getFontList() for available fonts."),ye||ee.noFallback||(ye=Lt.times[V])==null&&(ye=Lt.times.normal),ye},ga=p.__private__.putInfo=function(){var T=Jn(),V=function(oe){return oe};for(var ee in u!==null&&(V=jn.encryptor(T,0)),Q("<<"),Q("/Producer ("+oi(V("jsPDF "+ht.version))+")"),$t)$t.hasOwnProperty(ee)&&$t[ee]&&Q("/"+ee.substr(0,1).toUpperCase()+ee.substr(1)+" ("+oi(V($t[ee]))+")");Q("/CreationDate ("+oi(V(G))+")"),Q(">>"),Q("endobj")},Po=p.__private__.putCatalog=function(T){var V=(T=T||{}).rootDictionaryObjId||So;switch(Jn(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+V+" 0 R"),Be||(Be="fullwidth"),Be){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ee=""+Be;ee.substr(ee.length-1)==="%"&&(Be=parseInt(Be)/100),typeof Be=="number"&&Q("/OpenAction [3 0 R /XYZ null null "+P(Be)+"]")}switch(Ct||(Ct="continuous"),Ct){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}tt&&Q("/PageMode /"+tt),qt.publish("putCatalog"),Q(">>"),Q("endobj")},Ed=p.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(le+1)),Q("/Root "+le+" 0 R"),Q("/Info "+(le-1)+" 0 R"),u!==null&&Q("/Encrypt "+jn.oid+" 0 R"),Q("/ID [ <"+Z+"> <"+Z+"> ]"),Q(">>")},rr=p.__private__.putHeader=function(){Q("%PDF-"+y),Q("%")},Pd=p.__private__.putXRef=function(){var T="0000000000";Q("xref"),Q("0 "+(le+1)),Q("0000000000 65535 f ");for(var V=1;V<=le;V++)typeof ge[V]=="function"?Q((T+ge[V]()).slice(-10)+" 00000 n "):ge[V]!==void 0?Q((T+ge[V]).slice(-10)+" 00000 n "):Q("0000000000 00000 n ")},ds=p.__private__.buildDocument=function(){var T;le=0,fe=0,Ae=[],ge=[],we=[],So=Br(),Ii=Br(),$e(Ae),qt.publish("buildDocument"),rr(),Ia(),function(){qt.publish("putAdditionalObjects");for(var ee=0;ee<we.length;ee++){var oe=we[ee];Zn(oe.objId,!0),Q(oe.content),Q("endobj")}qt.publish("postPutAdditionalObjects")}(),T=[],function(){for(var ee in Dt)Dt.hasOwnProperty(ee)&&(f===!1||f===!0&&h.hasOwnProperty(ee))&&Ws(Dt[ee])}(),function(){var ee;for(ee in vt)vt.hasOwnProperty(ee)&&sm(vt[ee])}(),function(){for(var ee in Tr)Tr.hasOwnProperty(ee)&&No(Tr[ee])}(),function(ee){var oe;for(oe in pt)pt.hasOwnProperty(oe)&&(pt[oe]instanceof Ef?pl(pt[oe]):pt[oe]instanceof xh&&ml(pt[oe],ee))}(T),qt.publish("putResources"),T.forEach(Eo),Eo({resourcesOid:Ii,objectOid:Number.MAX_SAFE_INTEGER}),qt.publish("postPutResources"),u!==null&&(jn.oid=Jn(),Q("<<"),Q("/Filter /Standard"),Q("/V "+jn.v),Q("/R "+jn.r),Q("/U <"+jn.toHexString(jn.U)+">"),Q("/O <"+jn.toHexString(jn.O)+">"),Q("/P "+jn.P),Q(">>"),Q("endobj")),ga(),Po();var V=fe;return Pd(),Ed(),Q("startxref"),Q(""+V),Q("%%EOF"),$e(Ee[H]),Ae.join(`
`)},gl=p.__private__.getBlob=function(T){return new Blob([ct(T)],{type:"application/pdf"})},rf=p.output=p.__private__.output=(si=function(T,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",T){case void 0:return ds();case"save":p.save(V.filename);break;case"arraybuffer":return ct(ds());case"blob":return gl(ds());case"bloburi":case"bloburl":if(Et.URL!==void 0&&typeof Et.URL.createObjectURL=="function")return Et.URL&&Et.URL.createObjectURL(gl(ds()))||void 0;On.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ee="",oe=ds();try{ee=uD(oe)}catch{ee=uD(unescape(encodeURIComponent(oe)))}return"data:application/pdf;filename="+V.filename+";base64,"+ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Et)==="[object Window]"){var ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ke=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(ye=V.pdfObjectUrl,ke="");var Oe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ye+'"'+ke+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",Ye=Et.open();return Ye!==null&&Ye.document.write(Oe),Ye}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Et)==="[object Window]"){var at='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',wt=Et.open();if(wt!==null){wt.document.write(at);var jt=this;wt.document.documentElement.querySelector("#pdfViewer").onload=function(){wt.document.title=V.filename,wt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(jt.output("bloburl"))}}return wt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Et)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',dn=Et.open();if(dn!==null&&(dn.document.write(Xt),dn.document.title=V.filename),dn||typeof safari>"u")return dn;break;case"datauri":case"dataurl":return Et.document.location.href=this.output("datauristring",V);default:return null}},si.foo=function(){try{return si.apply(this,arguments)}catch(ee){var T=ee.stack||"";~T.indexOf(" at ")&&(T=T.split(" at ")[1]);var V="Error in function "+T.split(`
`)[0].split("<")[0]+": "+ee.message;if(!Et.console)throw new Error(V);Et.console.error(V,ee),Et.alert&&alert(V)}},si.foo.bar=si,si.foo),ya=function(T){return Array.isArray(_o)===!0&&_o.indexOf(T)>-1};switch(r){case"pt":kt=1;break;case"mm":kt=72/25.4;break;case"cm":kt=72/2.54;break;case"in":kt=72;break;case"px":kt=ya("px_scaling")==1?.75:96/72;break;case"pc":case"em":kt=12;break;case"ex":kt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);kt=r}var jn=null;he(),Y();var Hr=p.__private__.getPageInfo=p.getPageInfo=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:mt[T].objId,pageNumber:T,pageContext:mt[T]}},yl=p.__private__.getPageInfoByObjId=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in mt)if(mt[V].objId===T)break;return Hr(V)},wc=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:mt[H].objId,pageNumber:H,pageContext:mt[H]}};p.addPage=function(){return xc.apply(this,arguments),this},p.setPage=function(){return ef.apply(this,arguments),$e.call(this,Ee[H]),this},p.insertPage=function(T){return this.addPage(),this.movePage(H,T),this},p.movePage=function(T,V){var ee,oe;if(T>V){ee=Ee[T],oe=mt[T];for(var ye=T;ye>V;ye--)Ee[ye]=Ee[ye-1],mt[ye]=mt[ye-1];Ee[V]=ee,mt[V]=oe,this.setPage(V)}else if(T<V){ee=Ee[T],oe=mt[T];for(var ke=T;ke<V;ke++)Ee[ke]=Ee[ke+1],mt[ke]=mt[ke+1];Ee[V]=ee,mt[V]=oe,this.setPage(V)}return this},p.deletePage=function(){return Zu.apply(this,arguments),this},p.__private__.text=p.text=function(T,V,ee,oe,ye){var ke,Oe,Ye,at,wt,jt,Xt,dn,ir,yn=(oe=oe||{}).scope||this;if(typeof T=="number"&&typeof V=="number"&&(typeof ee=="string"||Array.isArray(ee))){var yr=ee;ee=V,V=T,T=yr}if(arguments[3]instanceof yt==0?(Ye=arguments[4],at=arguments[5],_n(Xt=arguments[3])==="object"&&Xt!==null||(typeof Ye=="string"&&(at=Ye,Ye=null),typeof Xt=="string"&&(at=Xt,Xt=null),typeof Xt=="number"&&(Ye=Xt,Xt=null),oe={flags:Xt,angle:Ye,align:at})):(k("The transform parameter of text() with a Matrix value"),ir=ye),isNaN(V)||isNaN(ee)||T==null)throw new Error("Invalid arguments passed to jsPDF.text");if(T.length===0)return yn;var ar,vr="",sr=typeof oe.lineHeightFactor=="number"?oe.lineHeightFactor:ko,va=yn.internal.scaleFactor;function bs(mn){return mn=mn.split("	").join(Array(oe.TabLen||9).join(" ")),oi(mn,Xt)}function xs(mn){for(var Cn,Cr=mn.concat(),Gr=[],Sl=Cr.length;Sl--;)typeof(Cn=Cr.shift())=="string"?Gr.push(Cn):Array.isArray(mn)&&(Cn.length===1||Cn[1]===void 0&&Cn[2]===void 0)?Gr.push(Cn[0]):Gr.push([Cn[0],Cn[1],Cn[2]]);return Gr}function g(mn,Cn){var Cr;if(typeof mn=="string")Cr=Cn(mn)[0];else if(Array.isArray(mn)){for(var Gr,Sl,xm=mn.concat(),Ld=[],Yv=xm.length;Yv--;)typeof(Gr=xm.shift())=="string"?Ld.push(Cn(Gr)[0]):Array.isArray(Gr)&&typeof Gr[0]=="string"&&(Sl=Cn(Gr[0],Gr[1],Gr[2]),Ld.push([Sl[0],Sl[1],Sl[2]]));Cr=Ld}return Cr}var L=!1,F=!0;if(typeof T=="string")L=!0;else if(Array.isArray(T)){var X=T.concat();Oe=[];for(var be,Ne=X.length;Ne--;)(typeof(be=X.shift())!="string"||Array.isArray(be)&&typeof be[0]!="string")&&(F=!1);L=F}if(L===!1)throw new Error('Type of text must be string or Array. "'+T+'" is not recognized.');typeof T=="string"&&(T=T.match(/[\r?\n]/)?T.split(/\r\n|\r|\n/g):[T]);var Ve=ce/yn.internal.scaleFactor,Zt=Ve*(sr-1);switch(oe.baseline){case"bottom":ee-=Zt;break;case"top":ee+=Ve-Zt;break;case"hanging":ee+=Ve-2*Zt;break;case"middle":ee+=Ve/2-Zt}if((jt=oe.maxWidth||0)>0&&(typeof T=="string"?T=yn.splitTextToSize(T,jt):Object.prototype.toString.call(T)==="[object Array]"&&(T=T.reduce(function(mn,Cn){return mn.concat(yn.splitTextToSize(Cn,jt))},[]))),ke={text:T,x:V,y:ee,options:oe,mutex:{pdfEscape:oi,activeFontKey:it,fonts:Dt,activeFontSize:ce}},qt.publish("preProcessText",ke),T=ke.text,Ye=(oe=ke.options).angle,ir instanceof yt==0&&Ye&&typeof Ye=="number"){Ye*=Math.PI/180,oe.rotationDirection===0&&(Ye=-Ye),A===_&&(Ye=-Ye);var or=Math.cos(Ye),Wt=Math.sin(Ye);ir=new yt(or,Wt,-Wt,or,0,0)}else Ye&&Ye instanceof yt&&(ir=Ye);A!==_||ir||(ir=fs),(wt=oe.charSpace||ms)!==void 0&&(vr+=N(j(wt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(dn=oe.horizontalScale)!==void 0&&(vr+=N(100*dn)+` Tz
`),oe.lang;var ln=-1,Dn=oe.renderingMode!==void 0?oe.renderingMode:oe.stroke,La=yn.internal.getCurrentPageInfo().pageContext;switch(Dn){case 0:case!1:case"fill":ln=0;break;case 1:case!0:case"stroke":ln=1;break;case 2:case"fillThenStroke":ln=2;break;case 3:case"invisible":ln=3;break;case 4:case"fillAndAddForClipping":ln=4;break;case 5:case"strokeAndAddPathForClipping":ln=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ln=6;break;case 7:case"addToPathForClipping":ln=7}var Ri=La.usedRenderingMode!==void 0?La.usedRenderingMode:-1;ln!==-1?vr+=ln+` Tr
`:Ri!==-1&&(vr+=`0 Tr
`),ln!==-1&&(La.usedRenderingMode=ln),at=oe.align||"left";var gi,Ks=ce*sr,hm=yn.internal.pageSize.getWidth(),pm=Dt[it];wt=oe.charSpace||ms,jt=oe.maxWidth||0,Xt=Object.assign({autoencode:!0,noBOM:!0},oe.flags);var Pc=[],uf=function(mn){return yn.getStringUnitWidth(mn,{font:pm,charSpace:wt,fontSize:ce,doKerning:!1})*ce/va};if(Object.prototype.toString.call(T)==="[object Array]"){var Ma;Oe=xs(T),at!=="left"&&(gi=Oe.map(uf));var Da,Tc=0;if(at==="right"){V-=gi[0],T=[],Ne=Oe.length;for(var _l=0;_l<Ne;_l++)_l===0?(Da=li(V),Ma=Hs(ee)):(Da=j(Tc-gi[_l]),Ma=-Ks),T.push([Oe[_l],Da,Ma]),Tc=gi[_l]}else if(at==="center"){V-=gi[0]/2,T=[],Ne=Oe.length;for(var kc=0;kc<Ne;kc++)kc===0?(Da=li(V),Ma=Hs(ee)):(Da=j((Tc-gi[kc])/2),Ma=-Ks),T.push([Oe[kc],Da,Ma]),Tc=gi[kc]}else if(at==="left"){T=[],Ne=Oe.length;for(var mm=0;mm<Ne;mm++)T.push(Oe[mm])}else if(at==="justify"&&pm.encoding==="Identity-H"){T=[],Ne=Oe.length,jt=jt!==0?jt:hm;for(var Rd=0,jr=0;jr<Ne;jr++)if(Ma=jr===0?Hs(ee):-Ks,Da=jr===0?li(V):Rd,jr<Ne-1){var Kv=j((jt-gi[jr])/(Oe[jr].split(" ").length-1)),Io=Oe[jr].split(" ");T.push([Io[0]+" ",Da,Ma]),Rd=0;for(var Oo=1;Oo<Io.length;Oo++){var gm=(uf(Io[Oo-1]+" "+Io[Oo])-uf(Io[Oo]))*va+Kv;Oo==Io.length-1?T.push([Io[Oo],gm,0]):T.push([Io[Oo]+" ",gm,0]),Rd-=gm}}else T.push([Oe[jr],Da,Ma]);T.push(["",Rd,0])}else{if(at!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(T=[],Ne=Oe.length,jt=jt!==0?jt:hm,jr=0;jr<Ne;jr++){Ma=jr===0?Hs(ee):-Ks,Da=jr===0?li(V):0;var ym=Oe[jr].split(" ").length-1,vm=ym>0?(jt-gi[jr])/ym:0;jr<Ne-1?Pc.push(N(j(vm))):Pc.push(0),T.push([Oe[jr],Da,Ma])}}}(typeof oe.R2L=="boolean"?oe.R2L:et)===!0&&(T=g(T,function(mn,Cn,Cr){return[mn.split("").reverse().join(""),Cn,Cr]})),ke={text:T,x:V,y:ee,options:oe,mutex:{pdfEscape:oi,activeFontKey:it,fonts:Dt,activeFontSize:ce}},qt.publish("postProcessText",ke),T=ke.text,ar=ke.mutex.isHex||!1;var bm=Dt[it].encoding;bm!=="WinAnsiEncoding"&&bm!=="StandardEncoding"||(T=g(T,function(mn,Cn,Cr){return[bs(mn),Cn,Cr]})),Oe=xs(T),T=[];for(var jc,Cc,Ic,ff=Array.isArray(Oe[0])?1:0,Oc="",df=function(mn,Cn,Cr){var Gr="";return Cr instanceof yt?(Cr=typeof oe.angle=="number"?zn(Cr,new yt(1,0,0,1,mn,Cn)):zn(new yt(1,0,0,1,mn,Cn),Cr),A===_&&(Cr=zn(new yt(1,0,0,-1,0,0),Cr)),Gr=Cr.join(" ")+` Tm
`):Gr=N(mn)+" "+N(Cn)+` Td
`,Gr},ws=0;ws<Oe.length;ws++){switch(Oc="",ff){case 1:Ic=(ar?"<":"(")+Oe[ws][0]+(ar?">":")"),jc=parseFloat(Oe[ws][1]),Cc=parseFloat(Oe[ws][2]);break;case 0:Ic=(ar?"<":"(")+Oe[ws]+(ar?">":")"),jc=li(V),Cc=Hs(ee)}Pc!==void 0&&Pc[ws]!==void 0&&(Oc=Pc[ws]+` Tw
`),ws===0?T.push(Oc+df(jc,Cc,ir)+Ic):ff===0?T.push(Oc+Ic):ff===1&&T.push(Oc+df(jc,Cc,ir)+Ic)}T=ff===0?T.join(` Tj
T* `):T.join(` Tj
`),T+=` Tj
`;var Ro=`BT
/`;return Ro+=it+" "+ce+` Tf
`,Ro+=N(ce*sr)+` TL
`,Ro+=Ra+`
`,Ro+=vr,Ro+=T,Q(Ro+="ET"),h[it]=!0,yn};var Td=p.__private__.clip=p.clip=function(T){return Q(T==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Td("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Q("n"),this};var Yt=p.__private__.isValidStyle=function(T){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(T)!==-1&&(V=!0),V};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(T){return Yt(T)&&(c=T),this};var vl=p.__private__.getStyle=p.getStyle=function(T){var V=c;switch(T){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=T}return V},To=p.close=function(){return Q("h"),this};p.stroke=function(){return Q("S"),this},p.fill=function(T){return hs("f",T),this},p.fillEvenOdd=function(T){return hs("f*",T),this},p.fillStroke=function(T){return hs("B",T),this},p.fillStrokeEvenOdd=function(T){return hs("B*",T),this};var hs=function(T,V){_n(V)==="object"?om(V,T):Q(T)},bl=function(T){T===null||A===_&&T===void 0||(T=vl(T),Q(T))};function kd(T,V,ee,oe,ye){var ke=new xh(V||this.boundingBox,ee||this.xStep,oe||this.yStep,this.gState,ye||this.matrix);ke.stream=this.stream;var Oe=T+"$$"+this.cloneIndex+++"$$";return ai(Oe,ke),ke}var om=function(T,V){var ee=hn[T.key],oe=pt[ee];if(oe instanceof Ef)Q("q"),Q(lm(V)),oe.gState&&p.setGState(oe.gState),Q(T.matrix.toString()+" cm"),Q("/"+ee+" sh"),Q("Q");else if(oe instanceof xh){var ye=new yt(1,0,0,-1,0,vs());T.matrix&&(ye=ye.multiply(T.matrix||fs),ee=kd.call(oe,T.key,T.boundingBox,T.xStep,T.yStep,ye).id),Q("q"),Q("/Pattern cs"),Q("/"+ee+" scn"),oe.gState&&p.setGState(oe.gState),Q(V),Q("Q")}},lm=function(T){switch(T){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},af=p.moveTo=function(T,V){return Q(N(j(T))+" "+N(B(V))+" m"),this},jd=p.lineTo=function(T,V){return Q(N(j(T))+" "+N(B(V))+" l"),this},mi=p.curveTo=function(T,V,ee,oe,ye,ke){return Q([N(j(T)),N(B(V)),N(j(ee)),N(B(oe)),N(j(ye)),N(B(ke)),"c"].join(" ")),this};p.__private__.line=p.line=function(T,V,ee,oe,ye){if(isNaN(T)||isNaN(V)||isNaN(ee)||isNaN(oe)||!Yt(ye))throw new Error("Invalid arguments passed to jsPDF.line");return A===w?this.lines([[ee-T,oe-V]],T,V,[1,1],ye||"S"):this.lines([[ee-T,oe-V]],T,V,[1,1]).stroke()},p.__private__.lines=p.lines=function(T,V,ee,oe,ye,ke){var Oe,Ye,at,wt,jt,Xt,dn,ir,yn,yr,ar,vr;if(typeof T=="number"&&(vr=ee,ee=V,V=T,T=vr),oe=oe||[1,1],ke=ke||!1,isNaN(V)||isNaN(ee)||!Array.isArray(T)||!Array.isArray(oe)||!Yt(ye)||typeof ke!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(af(V,ee),Oe=oe[0],Ye=oe[1],wt=T.length,yr=V,ar=ee,at=0;at<wt;at++)(jt=T[at]).length===2?(yr=jt[0]*Oe+yr,ar=jt[1]*Ye+ar,jd(yr,ar)):(Xt=jt[0]*Oe+yr,dn=jt[1]*Ye+ar,ir=jt[2]*Oe+yr,yn=jt[3]*Ye+ar,yr=jt[4]*Oe+yr,ar=jt[5]*Ye+ar,mi(Xt,dn,ir,yn,yr,ar));return ke&&To(),bl(ye),this},p.path=function(T){for(var V=0;V<T.length;V++){var ee=T[V],oe=ee.c;switch(ee.op){case"m":af(oe[0],oe[1]);break;case"l":jd(oe[0],oe[1]);break;case"c":mi.apply(this,oe);break;case"h":To()}}return this},p.__private__.rect=p.rect=function(T,V,ee,oe,ye){if(isNaN(T)||isNaN(V)||isNaN(ee)||isNaN(oe)||!Yt(ye))throw new Error("Invalid arguments passed to jsPDF.rect");return A===w&&(oe=-oe),Q([N(j(T)),N(B(V)),N(j(ee)),N(j(oe)),"re"].join(" ")),bl(ye),this},p.__private__.triangle=p.triangle=function(T,V,ee,oe,ye,ke,Oe){if(isNaN(T)||isNaN(V)||isNaN(ee)||isNaN(oe)||isNaN(ye)||isNaN(ke)||!Yt(Oe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ee-T,oe-V],[ye-ee,ke-oe],[T-ye,V-ke]],T,V,[1,1],Oe,!0),this},p.__private__.roundedRect=p.roundedRect=function(T,V,ee,oe,ye,ke,Oe){if(isNaN(T)||isNaN(V)||isNaN(ee)||isNaN(oe)||isNaN(ye)||isNaN(ke)||!Yt(Oe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ye=4/3*(Math.SQRT2-1);return ye=Math.min(ye,.5*ee),ke=Math.min(ke,.5*oe),this.lines([[ee-2*ye,0],[ye*Ye,0,ye,ke-ke*Ye,ye,ke],[0,oe-2*ke],[0,ke*Ye,-ye*Ye,ke,-ye,ke],[2*ye-ee,0],[-ye*Ye,0,-ye,-ke*Ye,-ye,-ke],[0,2*ke-oe],[0,-ke*Ye,ye*Ye,-ke,ye,-ke]],T+ye,V,[1,1],Oe,!0),this},p.__private__.ellipse=p.ellipse=function(T,V,ee,oe,ye){if(isNaN(T)||isNaN(V)||isNaN(ee)||isNaN(oe)||!Yt(ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ke=4/3*(Math.SQRT2-1)*ee,Oe=4/3*(Math.SQRT2-1)*oe;return af(T+ee,V),mi(T+ee,V-Oe,T+ke,V-oe,T,V-oe),mi(T-ke,V-oe,T-ee,V-Oe,T-ee,V),mi(T-ee,V+Oe,T-ke,V+oe,T,V+oe),mi(T+ke,V+oe,T+ee,V+Oe,T+ee,V),bl(ye),this},p.__private__.circle=p.circle=function(T,V,ee,oe){if(isNaN(T)||isNaN(V)||isNaN(ee)||!Yt(oe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(T,V,ee,ee,oe)},p.setFont=function(T,V,ee){return ee&&(V=C(V,ee)),it=nf(T,V,{disableWarning:!1}),this};var ps=p.__private__.getFont=p.getFont=function(){return Dt[nf.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var T,V,ee={};for(T in Lt)if(Lt.hasOwnProperty(T))for(V in ee[T]=[],Lt[T])Lt[T].hasOwnProperty(V)&&ee[T].push(V);return ee},p.addFont=function(T,V,ee,oe,ye){var ke=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ke.indexOf(arguments[3])!==-1?ye=arguments[3]:arguments[3]&&ke.indexOf(arguments[3])==-1&&(ee=C(ee,oe)),bc.call(this,T,V,ee,ye=ye||"Identity-H")};var ko,_c=t.lineWidth||.200025,Cd=p.__private__.getLineWidth=p.getLineWidth=function(){return _c},bt=p.__private__.setLineWidth=p.setLineWidth=function(T){return _c=T,Q(N(j(T))+" w"),this};p.__private__.setLineDash=ht.API.setLineDash=ht.API.setLineDashPattern=function(T,V){if(T=T||[],V=V||0,isNaN(V)||!Array.isArray(T))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return T=T.map(function(ee){return N(j(ee))}).join(" "),V=N(j(V)),Q("["+T+"] "+V+" d"),this};var cm=p.__private__.getLineHeight=p.getLineHeight=function(){return ce*ko};p.__private__.getLineHeight=p.getLineHeight=function(){return ce*ko};var um=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(T){return typeof(T=T||1.15)=="number"&&(ko=T),this},fm=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return ko};um(t.lineHeight);var li=p.__private__.getHorizontalCoordinate=function(T){return j(T)},Hs=p.__private__.getVerticalCoordinate=function(T){return A===_?T:mt[H].mediaBox.topRightY-mt[H].mediaBox.bottomLeftY-j(T)},dm=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(T){return N(li(T))},Sc=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(T){return N(Hs(T))},Gs=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Ca(Gs)},p.__private__.setStrokeColor=p.setDrawColor=function(T,V,ee,oe){return Gs=ta({ch1:T,ch2:V,ch3:ee,ch4:oe,pdfColorType:"draw",precision:2}),Q(Gs),this};var Ac=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Ca(Ac)},p.__private__.setFillColor=p.setFillColor=function(T,V,ee,oe){return Ac=ta({ch1:T,ch2:V,ch3:ee,ch4:oe,pdfColorType:"fill",precision:2}),Q(Ac),this};var Ra=t.textColor||"0 g",xl=p.__private__.getTextColor=p.getTextColor=function(){return Ca(Ra)};p.__private__.setTextColor=p.setTextColor=function(T,V,ee,oe){return Ra=ta({ch1:T,ch2:V,ch3:ee,ch4:oe,pdfColorType:"text",precision:3}),this};var ms=t.charSpace,sf=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(ms||0)};p.__private__.setCharSpace=p.setCharSpace=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ms=T,this};var En=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(T){var V=p.CapJoinStyles[T];if(V===void 0)throw new Error("Line cap style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return En=V,Q(V+" J"),this};var of=0;p.__private__.setLineJoin=p.setLineJoin=function(T){var V=p.CapJoinStyles[T];if(V===void 0)throw new Error("Line join style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return of=V,Q(V+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(T){if(T=T||0,isNaN(T))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Q(N(j(T))+" M"),this},p.GState=Kx,p.setGState=function(T){(T=typeof T=="string"?vt[Pt[T]]:Id(null,T)).equals(pn)||(Q("/"+T.id+" gs"),pn=T)};var Id=function(T,V){if(!T||!Pt[T]){var ee=!1;for(var oe in vt)if(vt.hasOwnProperty(oe)&&vt[oe].equals(V)){ee=!0;break}if(ee)V=vt[oe];else{var ye="GS"+(Object.keys(vt).length+1).toString(10);vt[ye]=V,V.id=ye}return T&&(Pt[T]=V.id),qt.publish("addGState",V),V}};p.addGState=function(T,V){return Id(T,V),this},p.saveGraphicsState=function(){return Q("q"),Mn.push({key:it,size:ce,color:Ra}),this},p.restoreGraphicsState=function(){Q("Q");var T=Mn.pop();return it=T.key,ce=T.size,Ra=T.color,pn=null,this},p.setCurrentTransformationMatrix=function(T){return Q(T.toString()+" cm"),this},p.comment=function(T){return Q("#"+T),this};var gs=function(T,V){var ee=T||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ee},set:function(ke){isNaN(ke)||(ee=parseFloat(ke))}});var oe=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return oe},set:function(ke){isNaN(ke)||(oe=parseFloat(ke))}});var ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ye},set:function(ke){ye=ke.toString()}}),this},Nc=function(T,V,ee,oe){gs.call(this,T,V),this.type="rect";var ye=ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ye},set:function(Oe){isNaN(Oe)||(ye=parseFloat(Oe))}});var ke=oe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ke},set:function(Oe){isNaN(Oe)||(ke=parseFloat(Oe))}}),this},wl=function(){this.page=Ft,this.currentPage=H,this.pages=Ee.slice(0),this.pagesContext=mt.slice(0),this.x=ft,this.y=kn,this.matrix=Kt,this.width=na(H),this.height=Od(H),this.outputDestination=Le,this.id="",this.objectNumber=-1};wl.prototype.restore=function(){Ft=this.page,H=this.currentPage,mt=this.pagesContext,Ee=this.pages,ft=this.x,kn=this.y,Kt=this.matrix,lf(H,this.width),ra(H,this.height),Le=this.outputDestination};var jo=function(T,V,ee,oe,ye){Ci.push(new wl),Ft=H=0,Ee=[],ft=T,kn=V,Kt=ye,Oa([ee,oe])};for(var Co in p.beginFormObject=function(T,V,ee,oe,ye){return jo(T,V,ee,oe,ye),this},p.endFormObject=function(T){return function(V){if(us[V])Ci.pop().restore();else{var ee=new wl,oe="Xo"+(Object.keys(Tr).length+1).toString(10);ee.id=oe,us[V]=oe,Tr[oe]=ee,qt.publish("addFormObject",ee),Ci.pop().restore()}}(T),this},p.doFormObject=function(T,V){var ee=Tr[us[T]];return Q("q"),Q(V.toString()+" cm"),Q("/"+ee.id+" Do"),Q("Q"),this},p.getFormObject=function(T){var V=Tr[us[T]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},p.save=function(T,V){return T=T||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(Nf(gl(ds()),T),typeof Nf.unload=="function"&&Et.setTimeout&&setTimeout(Nf.unload,911),this):new Promise(function(ee,oe){try{var ye=Nf(gl(ds()),T);typeof Nf.unload=="function"&&Et.setTimeout&&setTimeout(Nf.unload,911),ee(ye)}catch(ke){oe(ke.message)}})},ht.API)ht.API.hasOwnProperty(Co)&&(Co==="events"&&ht.API.events.length?function(T,V){var ee,oe,ye;for(ye=V.length-1;ye!==-1;ye--)ee=V[ye][0],oe=V[ye][1],T.subscribe.apply(T,[ee].concat(typeof oe=="function"?[oe]:oe))}(qt,ht.API.events):p[Co]=ht.API[Co]);function na(T){return mt[T].mediaBox.topRightX-mt[T].mediaBox.bottomLeftX}function lf(T,V){mt[T].mediaBox.topRightX=V+mt[T].mediaBox.bottomLeftX}function Od(T){return mt[T].mediaBox.topRightY-mt[T].mediaBox.bottomLeftY}function ra(T,V){mt[T].mediaBox.topRightY=V+mt[T].mediaBox.bottomLeftY}var ys=p.getPageWidth=function(T){return na(T=T||H)/kt},Ec=p.setPageWidth=function(T,V){lf(T,V*kt)},vs=p.getPageHeight=function(T){return Od(T=T||H)/kt},cf=p.setPageHeight=function(T,V){ra(T,V*kt)};return p.internal={pdfEscape:oi,getStyle:vl,getFont:ps,getFontSize:qe,getCharSpace:sf,getTextColor:xl,getLineHeight:cm,getLineHeightFactor:fm,getLineWidth:Cd,write:Me,getHorizontalCoordinate:li,getVerticalCoordinate:Hs,getCoordinateString:dm,getVerticalCoordinateString:Sc,collections:{},newObject:Jn,newAdditionalObject:hl,newObjectDeferred:Br,newObjectDeferredBegin:Zn,getFilters:Oi,putStream:kr,events:qt,scaleFactor:kt,pageSize:{getWidth:function(){return ys(H)},setWidth:function(T){Ec(H,T)},getHeight:function(){return vs(H)},setHeight:function(T){cf(H,T)}},encryptionOptions:u,encryption:jn,getEncryptor:function(T){return u!==null?jn.encryptor(T,0):function(V){return V}},output:rf,getNumberOfPages:tf,get pages(){return Ee},out:Q,f2:P,f3:I,getPageInfo:Hr,getPageInfoByObjId:yl,getCurrentPageInfo:wc,getPDFVersion:b,Point:gs,Rectangle:Nc,Matrix:yt,hasHotfix:ya},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return ys(H)},set:function(T){Ec(H,T)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return vs(H)},set:function(T){cf(H,T)},enumerable:!0,configurable:!0}),(function(T){for(var V=0,ee=Je.length;V<ee;V++){var oe=bc.call(this,T[V][0],T[V][1],T[V][2],Je[V][3],!0);f===!1&&(h[oe]=!0);var ye=T[V][0].split("-");Ju({id:oe,fontName:ye[0],fontStyle:ye[1]||""})}qt.publish("addFonts",{fonts:Dt,dictionary:Lt})}).call(p,Je),it="F1",xc(i,n),qt.publish("initialized"),p}Qd.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Qd.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Qd.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Qd.prototype.processOwnerPassword=function(t,e){return RE(OE(e).substr(0,5),t)},Qd.prototype.encryptor=function(t,e){var n=OE(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return RE(n,r)}},Kx.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||_n(t)!==_n(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ht.API={events:[]},ht.version="4.2.0";var _r=ht.API,Mk=1,Nd=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zd=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},dd=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var n=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(n.length===1?"0"+n:n)})},It=function(t){return t.toFixed(2)},qc=function(t){return t.toFixed(5)};_r.__acroform__={};var ja=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},pD=function(t){return t*Mk},Fo=function(t){var e=new HW,n=nt.internal.getHeight(t)||0,r=nt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(It(r)),Number(It(n))],e},rLe=_r.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},iLe=_r.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},aLe=_r.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Dr=_r.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return aLe(t,e-1)},Fr=_r.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return rLe(t,e-1)},$r=_r.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return iLe(t,e-1)},sLe=_r.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(a+o)||0,l.upperRight_X=n(i+s)||0,l.upperRight_Y=r(a)||0,[Number(It(l.lowerLeft_X)),Number(It(l.lowerLeft_Y)),Number(It(l.upperRight_X)),Number(It(l.upperRight_Y))]},oLe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=LE(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+It(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Fo(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},LE=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(P){return P.split(`
`)}):i.map(function(P){return[P]});var a=n,s=nt.internal.getHeight(t)||0;s=s<0?-s:s;var o=nt.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(P,I,j){if(P+1<i.length){var B=I+" "+i[P+1][0];return d1(B,t,j).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var c,u,f=d1("3",t,a).height,h=t.multiline?s-a:(s-f)/2,p=h+=2,y=0,b=0,x=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+d1(e,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var v="",w=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var A=!1;if(i[_].length!==1&&x!==i[_].length-1){if((f+2)*(w+2)+2>s)continue e;v+=i[_][x],A=!0,b=_,_--}else{v=(v+=i[_][x]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var E=parseInt(_),O=l(E,v,a),C=_>=i.length-1;if(O&&!C){v+=" ",x=0;continue}if(O||C){if(C)b=E;else if(t.multiline&&(f+2)*(w+2)+2>s)continue e}else{if(!t.multiline||(f+2)*(w+2)+2>s)continue e;b=E}}for(var N="",k=y;k<=b;k++){var M=i[k];if(t.multiline){if(k===b){N+=M[x]+" ",x=(x+1)%M.length;continue}if(k===y){N+=M[M.length-1]+" ";continue}}N+=M[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,u=d1(N,t,a).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}e+=It(c)+" "+It(p)+` Td
`,e+="("+Nd(N)+`) Tj
`,e+=-It(c)+` 0 Td
`,p=-(a+2),u=0,y=A?b:b+1,w++,v=""}break}return r.text=e,r.fontSize=a,r},d1=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},lLe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},cLe=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},uLe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(xo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(lLe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Mk=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new GW,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&cLe(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var o=r[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=sLe(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=nt.createDefaultAppearanceStream(o),_n(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=oLe(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var p=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var y=p[s];typeof y=="function"&&(y=y.call(i,o)),f+="/"+s+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=p)=="function"&&(y=y.call(i,o)),f+="/"+s+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&function(b,x){for(var v in b)if(b.hasOwnProperty(v)){var w=v,_=b[v];x.internal.newObjectDeferredBegin(_.objId,!0),_n(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete b[w]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},WW=_r.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),_n(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)==="/"?i+="/"+dd(t[a].substr(1)):(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Nd(r(t[a].toString()))+")")}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},G_=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Nd(r(t))+")"},Ho=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ho.prototype.toString=function(){return this.objId+" 0 R"},Ho.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ho.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:WW(i,this.objId,this.scope)}):i instanceof Ho?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var HW=function(){Ho.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};ja(HW,Ho);var GW=function(){Ho.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Nd(n(t))+")"}},set:function(n){t=n}})};ja(GW,Ho);var xo=function t(){Ho.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Dr(e,3)},set:function(v){v?this.F=Fr(e,3):this.F=$r(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');n=v}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(v){r=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(v){r[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(v){r[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(v){r[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(v){r[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Yx)return;a="FieldObject"+t.FieldNum++}var v=function(w){return w};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Nd(v(a))+")"},set:function(v){a=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(v){a=v}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Mk:c},set:function(v){c=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Yx||this instanceof Wf))return G_(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof di==0?G_(h,this.objId,this.scope):h},set:function(v){v=v.toString(),h=this instanceof di==0?v.substr(0,1)==="("?zd(v.substr(1,v.length-2)):zd(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof di==1?zd(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof di==1?"/"+dd(v):v}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof di==0?G_(p,this.objId,this.scope):p},set:function(v){v=v.toString(),p=this instanceof di==0?v.substr(0,1)==="("?zd(v.substr(1,v.length-2)):zd(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof di==1?zd(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof di==1?"/"+dd(v):v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(v){v=!!v,b=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(v){y=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,1)},set:function(v){v?this.Ff=Fr(this.Ff,1):this.Ff=$r(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,2)},set:function(v){v?this.Ff=Fr(this.Ff,2):this.Ff=$r(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,3)},set:function(v){v?this.Ff=Fr(this.Ff,3):this.Ff=$r(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');x=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(x){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};ja(xo,Ho);var $h=function(){xo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return WW(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,c=[];l=s.exec(a);)c.push(l[o]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,18)},set:function(n){n?this.Ff=Fr(this.Ff,18):this.Ff=$r(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Fr(this.Ff,19):this.Ff=$r(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,20)},set:function(n){n?(this.Ff=Fr(this.Ff,20),e.sort()):this.Ff=$r(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,22)},set:function(n){n?this.Ff=Fr(this.Ff,22):this.Ff=$r(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,23)},set:function(n){n?this.Ff=Fr(this.Ff,23):this.Ff=$r(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,27)},set:function(n){n?this.Ff=Fr(this.Ff,27):this.Ff=$r(this.Ff,27)}}),this.hasAppearanceStream=!1};ja($h,xo);var Bh=function(){$h.call(this),this.fontName="helvetica",this.combo=!1};ja(Bh,$h);var Uh=function(){Bh.call(this),this.combo=!0};ja(Uh,Bh);var z1=function(){Uh.call(this),this.edit=!0};ja(z1,Uh);var di=function(){xo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,15)},set:function(n){n?this.Ff=Fr(this.Ff,15):this.Ff=$r(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,16)},set:function(n){n?this.Ff=Fr(this.Ff,16):this.Ff=$r(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,17)},set:function(n){n?this.Ff=Fr(this.Ff,17):this.Ff=$r(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,26)},set:function(n){n?this.Ff=Fr(this.Ff,26):this.Ff=$r(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Nd(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){_n(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){var r=n==null?"":n.toString();r.substr(0,1)==="/"&&(r=r.substr(1)),t="/"+dd(r)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+dd(n)}})};ja(di,xo);var q1=function(){di.call(this),this.pushButton=!0};ja(q1,di);var Vh=function(){di.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ja(Vh,di);var Yx=function(){var t,e;xo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+Nd(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){_n(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){var a=i==null?"":i.toString();a.substr(0,1)==="/"&&(a=a.substr(1)),n="/"+dd(a)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){var a=i==null?"":i.toString();a.substr(0,1)==="/"&&(a=a.substr(1)),n="/"+dd(a)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=nt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ja(Yx,xo),Vh.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Vh.prototype.createOption=function(t){var e=new Yx;return e.Parent=this,e.optionName=t,this.Kids.push(e),fLe.call(this.scope,e),e};var W1=function(){di.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=nt.CheckBox.createAppearanceStream()};ja(W1,di);var Wf=function(){xo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,13)},set:function(e){e?this.Ff=Fr(this.Ff,13):this.Ff=$r(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,21)},set:function(e){e?this.Ff=Fr(this.Ff,21):this.Ff=$r(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,23)},set:function(e){e?this.Ff=Fr(this.Ff,23):this.Ff=$r(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,24)},set:function(e){e?this.Ff=Fr(this.Ff,24):this.Ff=$r(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,25)},set:function(e){e?this.Ff=Fr(this.Ff,25):this.Ff=$r(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,26)},set:function(e){e?this.Ff=Fr(this.Ff,26):this.Ff=$r(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ja(Wf,xo);var H1=function(){Wf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,14)},set:function(t){t?this.Ff=Fr(this.Ff,14):this.Ff=$r(this.Ff,14)}}),this.password=!0};ja(H1,Wf);var nt={CheckBox:{createAppearanceStream:function(){return{N:{On:nt.CheckBox.YesNormal},D:{On:nt.CheckBox.YesPushDown,Off:nt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Fo(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=LE(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+It(nt.internal.getWidth(t))+" "+It(nt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+It(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Fo(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=nt.internal.getHeight(t),s=nt.internal.getWidth(t),o=LE(t,t.caption);return i.push("1 g"),i.push("0 0 "+It(s)+" "+It(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+It(s-1)+" "+It(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+It(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Fo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+It(nt.internal.getWidth(t))+" "+It(nt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:nt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=nt.RadioButton.Circle.YesNormal,e.D[t]=nt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Fo(t);e.scope=t.scope;var n=[],r=nt.internal.getWidth(t)<=nt.internal.getHeight(t)?nt.internal.getWidth(t)/4:nt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=nt.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+qc(nt.internal.getWidth(t)/2)+" "+qc(nt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Fo(t);e.scope=t.scope;var n=[],r=nt.internal.getWidth(t)<=nt.internal.getHeight(t)?nt.internal.getWidth(t)/4:nt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*nt.internal.Bezier_C).toFixed(5)),s=Number((r*nt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+qc(nt.internal.getWidth(t)/2)+" "+qc(nt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+qc(nt.internal.getWidth(t)/2)+" "+qc(nt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Fo(t);e.scope=t.scope;var n=[],r=nt.internal.getWidth(t)<=nt.internal.getHeight(t)?nt.internal.getWidth(t)/4:nt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*nt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+qc(nt.internal.getWidth(t)/2)+" "+qc(nt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:nt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=nt.RadioButton.Cross.YesNormal,e.D[t]=nt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Fo(t);e.scope=t.scope;var n=[],r=nt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+It(nt.internal.getWidth(t)-2)+" "+It(nt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(It(r.x1.x)+" "+It(r.x1.y)+" m"),n.push(It(r.x2.x)+" "+It(r.x2.y)+" l"),n.push(It(r.x4.x)+" "+It(r.x4.y)+" m"),n.push(It(r.x3.x)+" "+It(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Fo(t);e.scope=t.scope;var n=nt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+It(nt.internal.getWidth(t))+" "+It(nt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+It(nt.internal.getWidth(t)-2)+" "+It(nt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(It(n.x1.x)+" "+It(n.x1.y)+" m"),r.push(It(n.x2.x)+" "+It(n.x2.y)+" l"),r.push(It(n.x4.x)+" "+It(n.x4.y)+" m"),r.push(It(n.x3.x)+" "+It(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Fo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+It(nt.internal.getWidth(t))+" "+It(nt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};nt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=nt.internal.getWidth(t),n=nt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},nt.internal.getWidth=function(t){var e=0;return _n(t)==="object"&&(e=pD(t.Rect[2])),e},nt.internal.getHeight=function(t){var e=0;return _n(t)==="object"&&(e=pD(t.Rect[3])),e};var fLe=_r.addField=function(t){if(uLe(this,t),!(t instanceof xo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};_r.AcroFormChoiceField=$h,_r.AcroFormListBox=Bh,_r.AcroFormComboBox=Uh,_r.AcroFormEditBox=z1,_r.AcroFormButton=di,_r.AcroFormPushButton=q1,_r.AcroFormRadioButton=Vh,_r.AcroFormCheckBox=W1,_r.AcroFormTextField=Wf,_r.AcroFormPasswordField=H1,_r.AcroFormAppearance=nt,_r.AcroForm={ChoiceField:$h,ListBox:Bh,ComboBox:Uh,EditBox:z1,Button:di,PushButton:q1,RadioButton:Vh,CheckBox:W1,TextField:Wf,PasswordField:H1,Appearance:nt},ht.AcroForm={ChoiceField:$h,ListBox:Bh,ComboBox:Uh,EditBox:z1,Button:di,PushButton:q1,RadioButton:Vh,CheckBox:W1,TextField:Wf,PasswordField:H1,Appearance:nt};ht.AcroForm;function KW(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(P,I){var j,B,G,Z,re,Y=n;if((I=I||n)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(O(P))for(re in r)for(G=r[re],j=0;j<G.length;j+=1){for(Z=!0,B=0;B<G[j].length;B+=1)if(G[j][B]!==void 0&&G[j][B]!==P[B]){Z=!1;break}if(Z===!0){Y=re;break}}else for(re in r)for(G=r[re],j=0;j<G.length;j+=1){for(Z=!0,B=0;B<G[j].length;B+=1)if(G[j][B]!==void 0&&G[j][B]!==P.charCodeAt(B)){Z=!1;break}if(Z===!0){Y=re;break}}return Y===n&&I!==n&&(Y=I),Y},a=function P(I){for(var j=this.internal.write,B=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var Z=[];if(Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Image"}),Z.push({key:"Width",value:I.width}),Z.push({key:"Height",value:I.height}),I.colorSpace===v.INDEXED?Z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(Z.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===v.DEVICE_CMYK&&Z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Z.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&Z.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var re="",Y=0,ae=I.transparency.length;Y<ae;Y++)re+=I.transparency[Y]+" "+I.transparency[Y]+" ";Z.push({key:"Mask",value:"["+re+"]"})}I.sMask!==void 0&&Z.push({key:"SMask",value:I.objectId+1+" 0 R"});var ue=I.filter!==void 0?["/"+I.filter]:void 0;if(B({data:I.data,additionalKeyValues:Z,alreadyAppliedFilters:ue,objectId:I.objectId}),j("endobj"),"sMask"in I&&I.sMask!==void 0){var he,$=(he=I.sMaskBitsPerComponent)!==null&&he!==void 0?he:I.bitsPerComponent,H={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:$,data:I.sMask};"filter"in I&&(H.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat($," /Columns ").concat(I.width),H.filter=I.filter),P.call(this,H)}if(I.colorSpace===v.INDEXED){var ie=this.internal.newObject();B({data:N(new Uint8Array(I.palette)),objectId:ie}),j("endobj")}},s=function(){var P=this.internal.collections[e+"images"];for(var I in P)a.call(this,P[I])},o=function(){var P,I=this.internal.collections[e+"images"],j=this.internal.write;for(var B in I)j("/I"+(P=I[B]).index,P.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var P=this.internal.collections[e+"images"];return l.call(this),P},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(P){return typeof t["process"+P.toUpperCase()]=="function"},h=function(P){return _n(P)==="object"&&P.nodeType===1},p=function(P,I){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var j=""+P.getAttribute("src");if(j.indexOf("data:image/")===0)return V1(unescape(j).split("base64,").pop());var B=t.loadFile(j,!0);if(B!==void 0)return B}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var G;switch(I){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;default:G="image/jpeg"}return V1(P.toDataURL(G,1).split("base64,").pop())}},y=function(P){var I=this.internal.collections[e+"images"];if(I){for(var j in I)if(P===I[j].alias)return I[j]}},b=function(P,I,j){return P||I||(P=-96,I=-96),P<0&&(P=-1*j.width*72/P/this.internal.scaleFactor),I<0&&(I=-1*j.height*72/I/this.internal.scaleFactor),P===0&&(P=I*j.width/j.height),I===0&&(I=P*j.height/j.width),[P,I]},x=function(P,I,j,B,G,Z){var re=b.call(this,j,B,G),Y=this.internal.getCoordinateString,ae=this.internal.getVerticalCoordinateString,ue=c.call(this);if(j=re[0],B=re[1],ue[G.index]=G,Z){Z*=Math.PI/180;var he=Math.cos(Z),$=Math.sin(Z),H=function(se){return se.toFixed(4)},ie=[H(he),H($),H(-1*$),H(he),0,0,"cm"]}this.internal.write("q"),Z?(this.internal.write([1,"0","0",1,Y(P),ae(I+B),"cm"].join(" ")),this.internal.write(ie.join(" ")),this.internal.write([Y(j),"0","0",Y(B),"0","0","cm"].join(" "))):this.internal.write([Y(j),"0","0",Y(B),Y(P),ae(I+B),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},v=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=t.__addimage__.sHashCode=function(P){var I,j,B=0;if(typeof P=="string")for(j=P.length,I=0;I<j;I++)B=(B<<5)-B+P.charCodeAt(I),B|=0;else if(O(P))for(j=P.byteLength/2,I=0;I<j;I++)B=(B<<5)-B+P[I],B|=0;return B},A=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var I=!0;return P.length===0&&(I=!1),P.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(I=!1),I},E=t.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var I=P.indexOf(",");return I<0?null:P.substring(0,I).trim().endsWith("base64")?P.substring(I+1):null};t.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var O=t.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},C=t.__addimage__.binaryStringToUint8Array=function(P){for(var I=P.length,j=new Uint8Array(I),B=0;B<I;B++)j[B]=P.charCodeAt(B);return j},N=t.__addimage__.arrayBufferToBinaryString=function(P){for(var I="",j=O(P)?P:new Uint8Array(P),B=0;B<j.length;B+=8192)I+=String.fromCharCode.apply(null,j.subarray(B,B+8192));return I};t.addImage=function(){var P,I,j,B,G,Z,re,Y,ae;if(typeof arguments[1]=="number"?(I=n,j=arguments[1],B=arguments[2],G=arguments[3],Z=arguments[4],re=arguments[5],Y=arguments[6],ae=arguments[7]):(I=arguments[1],j=arguments[2],B=arguments[3],G=arguments[4],Z=arguments[5],re=arguments[6],Y=arguments[7],ae=arguments[8]),_n(P=arguments[0])==="object"&&!h(P)&&"imageData"in P){var ue=P;P=ue.imageData,I=ue.format||I||n,j=ue.x||j||0,B=ue.y||B||0,G=ue.w||ue.width||G,Z=ue.h||ue.height||Z,re=ue.alias||re,Y=ue.compression||Y,ae=ue.rotation||ue.angle||ae}var he=this.internal.getFilters();if(Y===void 0&&he.indexOf("FlateEncode")!==-1&&(Y="SLOW"),isNaN(j)||isNaN(B))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var $=k.call(this,P,I,re,Y);return x.call(this,j,B,G,Z,$,ae),this};var k=function(P,I,j,B){var G,Z,re;if(typeof P=="string"&&i(P)===n){P=unescape(P);var Y=M(P,!1);(Y!==""||(Y=t.loadFile(P,!0))!==void 0)&&(P=Y)}if(h(P)&&(P=p(P,I)),I=i(P,I),!f(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((re=j)==null||re.length===0)&&(j=function(ae){return typeof ae=="string"||O(ae)?_(ae):O(ae.data)?_(ae.data):null}(P)),(G=y.call(this,j))||(P instanceof Uint8Array||I==="RGBA"||(Z=P,P=C(P)),G=this["process"+I.toUpperCase()](P,u.call(this),j,function(ae){return ae&&typeof ae=="string"&&(ae=ae.toUpperCase()),ae in t.image_compression?ae:w.NONE}(B),Z)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},M=t.__addimage__.convertBase64ToBinaryString=function(P,I){I=typeof I!="boolean"||I;var j,B="";if(typeof P=="string"){var G;j=(G=E(P))!==null&&G!==void 0?G:P;try{B=V1(j)}catch(Z){if(I)throw A(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return B};t.getImageProperties=function(P){var I,j,B="";if(h(P)&&(P=p(P)),typeof P=="string"&&i(P)===n&&((B=M(P,!1))===""&&(B=t.loadFile(P)||""),P=B),j=i(P),!f(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(P instanceof Uint8Array||(P=C(P)),!(I=this["process"+j.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=j,I}})(ht.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ht.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((r=c[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){r=c[h];var p=this.internal.pdfEscape,y=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(b.objId),w=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+p(v(r.contents))+")",a+=" /Popup "+x.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+p(v(w))+") >>",b.content=a;var _=b.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+_,r.open&&(a+=" /Open true"),a+=" >>",x.content=a,this.internal.write(b.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var A=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(y(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var E=this.annotations._nameMap[r.options.name];r.options.pageNumber=E.page,r.options.top=E.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(y(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var O=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+O+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+a)},options:s,type:"link"})},t.textWithLink=function(n,r,i,a){var s,o,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var u=this.splitTextToSize(n,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(n,r,i,a),i+=.2*c,a.align==="center"&&(r-=l/2),a.align==="right"&&(r-=l),this.link(r,i-c,o,s,a),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ht.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},o=t.__arabicParser__.isArabicEndLetter=function(b){return s(b)&&a(b)&&e[b.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(b){return s(b)&&i.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return s(b)&&a(b)&&e[b.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return s(b)&&a(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return s(b)&&a(b)&&e[b.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return s(b)&&a(b)&&e[b.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(b){var x=0,v=n,w="",_=0;for(x=0;x<b.length;x+=1)v[b.charCodeAt(x)]!==void 0?(_++,typeof(v=v[b.charCodeAt(x)])=="number"&&(w+=String.fromCharCode(v),v=n,_=0),x===b.length-1&&(v=n,w+=b.charAt(x-(_-1)),x-=_-1,_=0)):(v=n,w+=b.charAt(x-_),x-=_,_=0);return w};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&r[b.charCodeAt(0)]!==void 0};var h=t.__arabicParser__.getCorrectForm=function(b,x,v){return s(b)?a(b)===!1?-1:!c(b)||!s(x)&&!s(v)||!s(v)&&o(x)||o(b)&&!s(x)||o(b)&&l(x)||o(b)&&o(x)?0:u(b)&&s(x)&&!o(x)&&s(v)&&c(v)?3:o(b)||!s(v)?1:2:-1},p=function(b){var x=0,v=0,w=0,_="",A="",E="",O=(b=b||"").split("\\s+"),C=[];for(x=0;x<O.length;x+=1){for(C.push(""),v=0;v<O[x].length;v+=1)_=O[x][v],A=O[x][v-1],E=O[x][v+1],s(_)?(w=h(_,A,E),C[x]+=w!==-1?String.fromCharCode(e[_.charCodeAt(0)][w]):_):C[x]+=_;C[x]=f(C[x])}return C.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var b,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(x)){var w=0;for(v=[],w=0;w<x.length;w+=1)Array.isArray(x[w])?v.push([p(x[w][0]),x[w][1],x[w][2]]):v.push([p(x[w])]);b=v}else b=p(x);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",y])}(ht.API),ht.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ht.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(b){y=b}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,p=0,y=0,b=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,A){return _.concat(x.splitTextToSize(A,v))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)p<(b=this.getStringUnitWidth(l[w],{font:f})*u)&&(p=b);return p!==0&&(y=l.length),{w:p/=h,h:Math.max((y*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,f,h){if(r.call(this),!u)throw new Error("No data for PDF table.");var p,y,b,x,v=[],w=[],_=[],A={},E={},O=[],C=[],N=(h=h||{}).autoSize||!1,k=h.printHeaders!==!1,M=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,P=h.margins||Object.assign({width:this.getPageWidth()},e),I=typeof h.padding=="number"?h.padding:3,j=h.headerBackgroundColor||"#c8c8c8",B=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=B,this.setFontSize(M),f==null)w=v=Object.keys(u[0]),_=v.map(function(){return"left"});else if(Array.isArray(f)&&_n(f[0])==="object")for(v=f.map(function(ue){return ue.name}),w=f.map(function(ue){return ue.prompt||ue.name||""}),_=f.map(function(ue){return ue.align||"left"}),p=0;p<f.length;p+=1)E[f[p].name]=.7499990551181103*f[p].width;else Array.isArray(f)&&typeof f[0]=="string"&&(w=v=f,_=v.map(function(){return"left"}));if(N||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<v.length;p+=1){for(A[x=v[p]]=u.map(function(ue){return ue[x]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(w[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=A[x],this.setFont(void 0,"normal"),b=0;b<y.length;b+=1)O.push(this.getTextDimensions(y[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[x]=Math.max.apply(null,O)+I+I,O=[]}if(k){var G={};for(p=0;p<v.length;p+=1)G[v[p]]={},G[v[p]].text=w[p],G[v[p]].align=_[p];var Z=o.call(this,G,E);C=v.map(function(ue){return new a(l,c,E[ue],Z,G[ue].text,void 0,G[ue].align)}),this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}var re=f.reduce(function(ue,he){return ue[he.name]=he.align,ue},{});for(p=0;p<u.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:u[p]},this);var Y=o.call(this,u[p],E);for(b=0;b<v.length;b+=1){var ae=u[p][v[b]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:b,data:ae},this),s.call(this,new a(l,c,E[v[b]],Y,ae,p+2,re[v[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(p){var y=l[p];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+u+u},this).reduce(function(p,y){return Math.max(p,y)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(y)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),n=!1}}(ht.API);var YW={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},XW=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ME=KW(XW),QW=[100,200,300,400,500,600,700,800,900],dLe=KW(QW);function K_(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return YW[a=a||"normal"]?a:"normal"}(t.style),r=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),i=function(a){return typeof ME[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function mD(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var hLe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},gD={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function yD(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function vD(t){return t.trimLeft()}function pLe(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function mLe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var qd,h1,bD,xD,wD,Y_=["times"];function _D(t,e,n,r,i){var a=4,s=AD;switch(i){case ht.API.image_compression.FAST:a=1,s=SD;break;case ht.API.image_compression.MEDIUM:a=6,s=ND;break;case ht.API.image_compression.SLOW:a=9,s=ED}t=function(l,c,u,f){for(var h,p=l.length/c,y=new Uint8Array(l.length+p),b=[gLe,SD,AD,ND,ED],x=0;x<p;x+=1){var v=x*c,w=l.subarray(v,v+c);if(f)y.set(f(w,u,h),v+x);else{for(var _=b.length,A=[],E=0;E<_;E+=1)A[E]=b[E](w,u,h);var O=vLe(A.concat());y.set(A[O],v+x)}h=w}return y}(t,e,Math.ceil(n*r/8),s);var o=kE(t,{level:a});return ht.API.__addimage__.arrayBufferToBinaryString(o)}function gLe(t){var e=Array.apply([],t);return e.unshift(0),e}function SD(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var a=t[i-e]||0;r[i+1]=t[i]-a+256&255}return r}function AD(t,e,n){var r=t.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var s=n&&n[a]||0;i[a+1]=t[a]-s+256&255}return i}function ND(t,e,n){var r=t.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var s=t[a-e]||0,o=n&&n[a]||0;i[a+1]=t[a]+256-(s+o>>>1)&255}return i}function ED(t,e,n){var r=t.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var s=yLe(t[a-e]||0,n&&n[a]||0,n&&n[a-e]||0);i[a+1]=t[a]-s+256&255}return i}function yLe(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),a=Math.abs(t+e-n-n);return r<=i&&r<=a?t:i<=a?e:n}function vLe(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function X_(t,e,n){var r=e*n,i=Math.floor(r/8),a=16-(r-8*i+n),s=(1<<n)-1;return JW(t,i)>>a&s}function PD(t,e,n,r){var i=n*r,a=Math.floor(i/8),s=16-(i-8*a+r),o=(1<<r)-1,l=(e&o)<<s;(function(c,u,f){if(u+1<c.byteLength)c.setUint16(u,f,!1);else{var h=f>>8&255;c.setUint8(u,h)}})(t,a,JW(t,a)&~(o<<s)&65535|l)}function JW(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function bLe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;a&&(o=e,l=s,e+=3*s);var c=!0,u=[],f=0,h=null,p=0,y=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];f=t[e++]|t[e++]<<8,h=t[e++],1&b||(h=null),p=b>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var x=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,A=t[e++],E=A>>6&1,O=1<<1+(7&A),C=o,N=l,k=!1;A>>7&&(k=!0,C=e,N=O,e+=3*O);var M=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}u.push({x,y:v,width:w,height:_,has_local_palette:k,palette_offset:C,palette_size:N,data_offset:M,data_length:e-M,transparent_index:h,interlaced:!!E,delay:f,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return y},this.frameInfo=function(I){if(I<0||I>=u.length)throw new Error("Frame index out of range.");return u[I]},this.decodeAndBlitFrameBGRA=function(I,j){var B=this.frameInfo(I),G=B.width*B.height;if(G>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var Z=new Uint8Array(G);TD(t,B.data_offset,Z,G);var re=B.palette_offset,Y=B.transparent_index;Y===null&&(Y=256);var ae=B.width,ue=n-ae,he=ae,$=4*(B.y*n+B.x),H=4*((B.y+B.height)*n+B.x),ie=$,se=4*ue;B.interlaced===!0&&(se+=4*n*7);for(var le=8,ge=0,Ae=Z.length;ge<Ae;++ge){var fe=Z[ge];if(he===0&&(he=ae,(ie+=se)>=H&&(se=4*ue+4*n*(le-1),ie=$+(ae+ue)*(le<<1),le>>=1)),fe===Y)ie+=4;else{var we=t[re+3*fe],Ee=t[re+3*fe+1],ve=t[re+3*fe+2];j[ie++]=ve,j[ie++]=Ee,j[ie++]=we,j[ie++]=255}--he}},this.decodeAndBlitFrameRGBA=function(I,j){var B=this.frameInfo(I),G=B.width*B.height;if(G>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var Z=new Uint8Array(G);TD(t,B.data_offset,Z,G);var re=B.palette_offset,Y=B.transparent_index;Y===null&&(Y=256);var ae=B.width,ue=n-ae,he=ae,$=4*(B.y*n+B.x),H=4*((B.y+B.height)*n+B.x),ie=$,se=4*ue;B.interlaced===!0&&(se+=4*n*7);for(var le=8,ge=0,Ae=Z.length;ge<Ae;++ge){var fe=Z[ge];if(he===0&&(he=ae,(ie+=se)>=H&&(se=4*ue+4*n*(le-1),ie=$+(ae+ue)*(le<<1),le>>=1)),fe===Y)ie+=4;else{var we=t[re+3*fe],Ee=t[re+3*fe+1],ve=t[re+3*fe+2];j[ie++]=we,j[ie++]=Ee,j[ie++]=ve,j[ie++]=255}--he}}}function TD(t,e,n,r){for(var i=t[e++],a=1<<i,s=a+1,o=s+1,l=i+1,c=(1<<l)-1,u=0,f=0,h=0,p=t[e++],y=new Int32Array(4096),b=null;;){for(;u<16&&p!==0;)f|=t[e++]<<u,u+=8,p===1?p=t[e++]:--p;if(u<l)break;var x=f&c;if(f>>=l,u-=l,x!==a){if(x===s)break;for(var v=x<o?x:b,w=0,_=v;_>a;)_=y[_]>>8,++w;var A=_;if(h+w+(v!==x?1:0)>r)return void On.log("Warning, gif stream longer than expected.");n[h++]=A;var E=h+=w;for(v!==x&&(n[h++]=A),_=v;w--;)_=y[_],n[--E]=255&_,_>>=8;b!==null&&o<4096&&(y[o++]=b<<8|A,o>=c+1&&l<12&&(++l,c=c<<1|1)),b=x}else o=s+1,c=(1<<(l=i+1))-1,b=null}return h!==r&&On.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Q_(t){var e,n,r,i,a,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),y=new Array(64),b=[],x=0,v=7,w=new Array(64),_=new Array(64),A=new Array(64),E=new Array(256),O=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Z($,H){for(var ie=0,se=0,le=new Array,ge=1;ge<=16;ge++){for(var Ae=1;Ae<=$[ge];Ae++)le[H[se]]=[],le[H[se]][0]=ie,le[H[se]][1]=ge,se++,ie++;ie*=2}return le}function re($){for(var H=$[0],ie=$[1]-1;ie>=0;)H&1<<ie&&(x|=1<<v),ie--,--v<0&&(x==255?(Y(255),Y(0)):Y(x),v=7,x=0)}function Y($){b.push($)}function ae($){Y($>>8&255),Y(255&$)}function ue($,H,ie,se,le){for(var ge,Ae=le[0],fe=le[240],we=function(ce,Be){var qe,et,tt,zt,Ct,ut,xt,$t,it,kt,ft=0;for(it=0;it<8;++it){qe=ce[ft],et=ce[ft+1],tt=ce[ft+2],zt=ce[ft+3],Ct=ce[ft+4],ut=ce[ft+5],xt=ce[ft+6];var kn=qe+($t=ce[ft+7]),Kt=qe-$t,Dt=et+xt,Lt=et-xt,Mn=tt+ut,pt=tt-ut,hn=zt+Ct,vt=zt-Ct,Pt=kn+hn,pn=kn-hn,Ft=Dt+Mn,mt=Dt-Mn;ce[ft]=Pt+Ft,ce[ft+4]=Pt-Ft;var qt=.707106781*(mt+pn);ce[ft+2]=pn+qt,ce[ft+6]=pn-qt;var _o=.382683433*((Pt=vt+pt)-(mt=Lt+Kt)),Tr=.5411961*Pt+_o,us=1.306562965*mt+_o,Ci=.707106781*(Ft=pt+Lt),yt=Kt+Ci,zn=Kt-Ci;ce[ft+5]=zn+Tr,ce[ft+3]=zn-Tr,ce[ft+1]=yt+us,ce[ft+7]=yt-us,ft+=8}for(ft=0,it=0;it<8;++it){qe=ce[ft],et=ce[ft+8],tt=ce[ft+16],zt=ce[ft+24],Ct=ce[ft+32],ut=ce[ft+40],xt=ce[ft+48];var fs=qe+($t=ce[ft+56]),ai=qe-$t,si=et+xt,Jn=et-xt,Br=tt+ut,Zn=tt-ut,hl=zt+Ct,So=zt-Ct,Ii=fs+hl,Ca=fs-hl,ta=si+Br,Oi=si-Br;ce[ft]=Ii+ta,ce[ft+32]=Ii-ta;var kr=.707106781*(Oi+Ca);ce[ft+16]=Ca+kr,ce[ft+48]=Ca-kr;var Ao=.382683433*((Ii=So+Zn)-(Oi=Jn+ai)),Ia=.5411961*Ii+Ao,Ws=1.306562965*Oi+Ao,No=.707106781*(ta=Zn+Jn),pl=ai+No,ml=ai-No;ce[ft+40]=ml+Ia,ce[ft+24]=ml-Ia,ce[ft+8]=pl+Ws,ce[ft+56]=pl-Ws,ft++}for(it=0;it<64;++it)kt=ce[it]*Be[it],p[it]=kt>0?kt+.5|0:kt-.5|0;return p}($,H),Ee=0;Ee<64;++Ee)y[C[Ee]]=we[Ee];var ve=y[0]-ie;ie=y[0],ve==0?re(se[0]):(re(se[h[ge=32767+ve]]),re(f[ge]));for(var Le=63;Le>0&&y[Le]==0;)Le--;if(Le==0)return re(Ae),ie;for(var $e,Q=1;Q<=Le;){for(var Me=Q;y[Q]==0&&Q<=Le;)++Q;var ct=Q-Me;if(ct>=16){$e=ct>>4;for(var Je=1;Je<=$e;++Je)re(fe);ct&=15}ge=32767+y[Q],re(le[(ct<<4)+h[ge]]),re(f[ge]),Q++}return Le!=63&&re(Ae),ie}function he($){$=Math.min(Math.max($,1),100),a!=$&&(function(H){for(var ie=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var le=s((ie[se]*H+50)/100);le=Math.min(Math.max(le,1),255),o[C[se]]=le}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ae=0;Ae<64;Ae++){var fe=s((ge[Ae]*H+50)/100);fe=Math.min(Math.max(fe,1),255),l[C[Ae]]=fe}for(var we=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ee=0,ve=0;ve<8;ve++)for(var Le=0;Le<8;Le++)c[Ee]=1/(o[C[Ee]]*we[ve]*we[Le]*8),u[Ee]=1/(l[C[Ee]]*we[ve]*we[Le]*8),Ee++}($<50?Math.floor(5e3/$):Math.floor(200-2*$)),a=$)}this.encode=function($,H){H&&he(H),b=new Array,x=0,v=7,ae(65496),ae(65504),ae(16),Y(74),Y(70),Y(73),Y(70),Y(0),Y(1),Y(1),Y(0),ae(1),ae(1),Y(0),Y(0),function(){ae(65499),ae(132),Y(0);for(var et=0;et<64;et++)Y(o[et]);Y(1);for(var tt=0;tt<64;tt++)Y(l[tt])}(),function(et,tt){ae(65472),ae(17),Y(8),ae(tt),ae(et),Y(3),Y(1),Y(17),Y(0),Y(2),Y(17),Y(1),Y(3),Y(17),Y(1)}($.width,$.height),function(){ae(65476),ae(418),Y(0);for(var et=0;et<16;et++)Y(N[et+1]);for(var tt=0;tt<=11;tt++)Y(k[tt]);Y(16);for(var zt=0;zt<16;zt++)Y(M[zt+1]);for(var Ct=0;Ct<=161;Ct++)Y(P[Ct]);Y(1);for(var ut=0;ut<16;ut++)Y(I[ut+1]);for(var xt=0;xt<=11;xt++)Y(j[xt]);Y(17);for(var $t=0;$t<16;$t++)Y(B[$t+1]);for(var it=0;it<=161;it++)Y(G[it])}(),ae(65498),ae(12),Y(3),Y(1),Y(0),Y(2),Y(17),Y(3),Y(17),Y(0),Y(63),Y(0);var ie=0,se=0,le=0;x=0,v=7,this.encode.displayName="_encode_";for(var ge,Ae,fe,we,Ee,ve,Le,$e,Q,Me=$.data,ct=$.width,Je=$.height,ce=4*ct,Be=0;Be<Je;){for(ge=0;ge<ce;){for(Ee=ce*Be+ge,Le=-1,$e=0,Q=0;Q<64;Q++)ve=Ee+($e=Q>>3)*ce+(Le=4*(7&Q)),Be+$e>=Je&&(ve-=ce*(Be+1+$e-Je)),ge+Le>=ce&&(ve-=ge+Le-ce+4),Ae=Me[ve++],fe=Me[ve++],we=Me[ve++],w[Q]=(O[Ae]+O[fe+256|0]+O[we+512|0]>>16)-128,_[Q]=(O[Ae+768|0]+O[fe+1024|0]+O[we+1280|0]>>16)-128,A[Q]=(O[Ae+1280|0]+O[fe+1536|0]+O[we+1792|0]>>16)-128;ie=ue(w,c,ie,e,r),se=ue(_,u,se,n,i),le=ue(A,u,le,n,i),ge+=32}Be+=8}if(v>=0){var qe=[];qe[1]=v+1,qe[0]=(1<<v+1)-1,re(qe)}return ae(65497),new Uint8Array(b)},t=t||50,function(){for(var $=String.fromCharCode,H=0;H<256;H++)E[H]=$(H)}(),e=Z(N,k),n=Z(I,j),r=Z(M,P),i=Z(B,G),function(){for(var $=1,H=2,ie=1;ie<=15;ie++){for(var se=$;se<H;se++)h[32767+se]=ie,f[32767+se]=[],f[32767+se][1]=ie,f[32767+se][0]=se;for(var le=-(H-1);le<=-$;le++)h[32767+le]=ie,f[32767+le]=[],f[32767+le][1]=ie,f[32767+le][0]=H-1+le;$<<=1,H<<=1}}(),function(){for(var $=0;$<256;$++)O[$]=19595*$,O[$+256|0]=38470*$,O[$+512|0]=7471*$+32768,O[$+768|0]=-11059*$,O[$+1024|0]=-21709*$,O[$+1280|0]=32768*$+8421375,O[$+1536|0]=-27439*$,O[$+1792|0]=-5329*$}(),he(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function eo(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function kD(t){function e(k){if(!k)throw Error("assert :P")}function n(k,M,P){for(var I=0;4>I;I++)if(k[M+I]!=P.charCodeAt(I))return!0;return!1}function r(k,M,P,I,j){for(var B=0;B<j;B++)k[M+B]=P[I+B]}function i(k,M,P,I){for(var j=0;j<I;j++)k[M+j]=P}function a(k){return new Int32Array(k)}function s(k,M){for(var P=[],I=0;I<k;I++)P.push(new M);return P}function o(k,M){var P=[];return function I(j,B,G){for(var Z=G[B],re=0;re<Z&&(j.push(G.length>B+1?[]:new M),!(G.length<B+1));re++)I(j[re],B+1,G)}(P,0,k),P}var l=function(){var k=this;function M(m,S){for(var R=1<<S-1>>>0;m&R;)R>>>=1;return R?(m&R-1)+R:m}function P(m,S,R,D,z){e(!(D%R));do m[S+(D-=R)]=z;while(0<D)}function I(m,S,R,D,z){if(e(2328>=z),512>=z)var q=a(512);else if((q=a(z))==null)return 0;return function(W,K,J,te,de,Se){var ne,me,xe=K,Pe=1<<J,_e=a(16),je=a(16);for(e(de!=0),e(te!=null),e(W!=null),e(0<J),me=0;me<de;++me){if(15<te[me])return 0;++_e[te[me]]}if(_e[0]==de)return 0;for(je[1]=0,ne=1;15>ne;++ne){if(_e[ne]>1<<ne)return 0;je[ne+1]=je[ne]+_e[ne]}for(me=0;me<de;++me)ne=te[me],0<te[me]&&(Se[je[ne]++]=me);if(je[15]==1)return(te=new j).g=0,te.value=Se[0],P(W,xe,1,Pe,te),Pe;var Ce,Fe=-1,Re=Pe-1,dt=0,Ze=1,Bt=1,ot=1<<J;for(me=0,ne=1,de=2;ne<=J;++ne,de<<=1){if(Ze+=Bt<<=1,0>(Bt-=_e[ne]))return 0;for(;0<_e[ne];--_e[ne])(te=new j).g=ne,te.value=Se[me++],P(W,xe+dt,de,ot,te),dt=M(dt,ne)}for(ne=J+1,de=2;15>=ne;++ne,de<<=1){if(Ze+=Bt<<=1,0>(Bt-=_e[ne]))return 0;for(;0<_e[ne];--_e[ne]){if(te=new j,(dt&Re)!=Fe){for(xe+=ot,Ce=1<<(Fe=ne)-J;15>Fe&&!(0>=(Ce-=_e[Fe]));)++Fe,Ce<<=1;Pe+=ot=1<<(Ce=Fe-J),W[K+(Fe=dt&Re)].g=Ce+J,W[K+Fe].value=xe-K-Fe}te.g=ne-J,te.value=Se[me++],P(W,xe+(dt>>J),de,ot,te),dt=M(dt,ne)}}return Ze!=2*je[15]-1?0:Pe}(m,S,R,D,z,q)}function j(){this.value=this.g=0}function B(){this.value=this.g=0}function G(){this.G=s(5,j),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(uf,B)}function Z(m,S,R,D){e(m!=null),e(S!=null),e(2147483648>D),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=S,m.pa=R,m.Jd=S,m.Yc=R+D,m.Zc=4<=D?R+D-4+1:R,Ae(m)}function re(m,S){for(var R=0;0<S--;)R|=we(m,128)<<S;return R}function Y(m,S){var R=re(m,S);return fe(m)?-R:R}function ae(m,S,R,D){var z,q=0;for(e(m!=null),e(S!=null),e(4294967288>D),m.Sb=D,m.Ra=0,m.u=0,m.h=0,4<D&&(D=4),z=0;z<D;++z)q+=S[R+z]<<8*z;m.Ra=q,m.bb=D,m.oa=S,m.pa=R}function ue(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Tc-8>>>0,++m.bb,m.u-=8;se(m)&&(m.h=1,m.u=0)}function he(m,S){if(e(0<=S),!m.h&&S<=Da){var R=ie(m)&Ma[S];return m.u+=S,ue(m),R}return m.h=1,m.u=0}function $(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ie(m){return m.Ra>>>(m.u&Tc-1)>>>0}function se(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Tc}function le(m,S){m.u=S,m.h=se(m)}function ge(m){m.u>=_l&&(e(m.u>=_l),ue(m))}function Ae(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function fe(m){return re(m,1)}function we(m,S){var R=m.Ca;0>m.b&&Ae(m);var D=m.b,z=R*S>>>8,q=(m.I>>>D>z)+0;for(q?(R-=z,m.I-=z+1<<D>>>0):R=z+1,D=R,z=0;256<=D;)z+=8,D>>=8;return D=7^z+kc[D],m.b-=D,m.Ca=(R<<D)-1,q}function Ee(m,S,R){m[S+0]=R>>24&255,m[S+1]=R>>16&255,m[S+2]=R>>8&255,m[S+3]=255&R}function ve(m,S){return m[S+0]|m[S+1]<<8}function Le(m,S){return ve(m,S)|m[S+2]<<16}function $e(m,S){return ve(m,S)|ve(m,S+2)<<16}function Q(m,S){var R=1<<S;return e(m!=null),e(0<S),m.X=a(R),m.X==null?0:(m.Mb=32-S,m.Xa=S,1)}function Me(m,S){e(m!=null),e(S!=null),e(m.Xa==S.Xa),r(S.X,0,m.X,0,1<<S.Xa)}function ct(){this.X=[],this.Xa=this.Mb=0}function Je(m,S,R,D){e(R!=null),e(D!=null);var z=R[0],q=D[0];return z==0&&(z=(m*q+S/2)/S),q==0&&(q=(S*z+m/2)/m),0>=z||0>=q?0:(R[0]=z,D[0]=q,1)}function ce(m,S){return m+(1<<S)-1>>>S}function Be(m,S){return((4278255360&m)+(4278255360&S)>>>0&4278255360)+((16711935&m)+(16711935&S)>>>0&16711935)>>>0}function qe(m,S){k[S]=function(R,D,z,q,W,K,J){var te;for(te=0;te<W;++te){var de=k[m](K[J+te-1],z,q+te);K[J+te]=Be(R[D+te],de)}}}function et(){this.ud=this.hd=this.jd=0}function tt(m,S){return((4278124286&(m^S))>>>1)+(m&S)>>>0}function zt(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Ct(m,S){return zt(m+(m-S+.5>>1))}function ut(m,S,R){return Math.abs(S-R)-Math.abs(m-R)}function xt(m,S,R,D,z,q,W){for(D=q[W-1],R=0;R<z;++R)q[W+R]=D=Be(m[S+R],D)}function $t(m,S,R,D,z){var q;for(q=0;q<R;++q){var W=m[S+q],K=W>>8&255,J=16711935&(J=(J=16711935&W)+((K<<16)+K));D[z+q]=(4278255360&W)+J>>>0}}function it(m,S){S.jd=255&m,S.hd=m>>8&255,S.ud=m>>16&255}function kt(m,S,R,D,z,q){var W;for(W=0;W<D;++W){var K=S[R+W],J=K>>>8,te=K,de=255&(de=(de=K>>>16)+((m.jd<<24>>24)*(J<<24>>24)>>>5));te=255&(te=(te+=(m.hd<<24>>24)*(J<<24>>24)>>>5)+((m.ud<<24>>24)*(de<<24>>24)>>>5)),z[q+W]=(4278255360&K)+(de<<16)+te}}function ft(m,S,R,D,z){k[S]=function(q,W,K,J,te,de,Se,ne,me){for(J=Se;J<ne;++J)for(Se=0;Se<me;++Se)te[de++]=z(K[D(q[W++])])},k[m]=function(q,W,K,J,te,de,Se){var ne=8>>q.b,me=q.Ea,xe=q.K[0],Pe=q.w;if(8>ne)for(q=(1<<q.b)-1,Pe=(1<<ne)-1;W<K;++W){var _e,je=0;for(_e=0;_e<me;++_e)_e&q||(je=D(J[te++])),de[Se++]=z(xe[je&Pe]),je>>=ne}else k["VP8LMapColor"+R](J,te,xe,Pe,de,Se,W,K,me)}}function kn(m,S,R,D,z){for(R=S+R;S<R;){var q=m[S++];D[z++]=q>>16&255,D[z++]=q>>8&255,D[z++]=255&q}}function Kt(m,S,R,D,z){for(R=S+R;S<R;){var q=m[S++];D[z++]=q>>16&255,D[z++]=q>>8&255,D[z++]=255&q,D[z++]=q>>24&255}}function Dt(m,S,R,D,z){for(R=S+R;S<R;){var q=(W=m[S++])>>16&240|W>>12&15,W=240&W|W>>28&15;D[z++]=q,D[z++]=W}}function Lt(m,S,R,D,z){for(R=S+R;S<R;){var q=(W=m[S++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;D[z++]=q,D[z++]=W}}function Mn(m,S,R,D,z){for(R=S+R;S<R;){var q=m[S++];D[z++]=255&q,D[z++]=q>>8&255,D[z++]=q>>16&255}}function pt(m,S,R,D,z,q){if(q==0)for(R=S+R;S<R;)Ee(D,((q=m[S++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),z+=32;else r(D,z,m,S,R)}function hn(m,S){k[S][0]=k[m+"0"],k[S][1]=k[m+"1"],k[S][2]=k[m+"2"],k[S][3]=k[m+"3"],k[S][4]=k[m+"4"],k[S][5]=k[m+"5"],k[S][6]=k[m+"6"],k[S][7]=k[m+"7"],k[S][8]=k[m+"8"],k[S][9]=k[m+"9"],k[S][10]=k[m+"10"],k[S][11]=k[m+"11"],k[S][12]=k[m+"12"],k[S][13]=k[m+"13"],k[S][14]=k[m+"0"],k[S][15]=k[m+"0"]}function vt(m){return m==Bw||m==Uw||m==t0||m==Vw}function Pt(){this.eb=[],this.size=this.A=this.fb=0}function pn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ft(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Pt,this.f.kb=new pn,this.sd=null}function mt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function qt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function _o(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Tr(m,S){var R=m.T,D=S.ba.f.RGBA,z=D.eb,q=D.fb+m.ka*D.A,W=Ss[S.ba.S],K=m.y,J=m.O,te=m.f,de=m.N,Se=m.ea,ne=m.W,me=S.cc,xe=S.dc,Pe=S.Mc,_e=S.Nc,je=m.ka,Ce=m.ka+m.T,Fe=m.U,Re=Fe+1>>1;for(je==0?W(K,J,null,null,te,de,Se,ne,te,de,Se,ne,z,q,null,null,Fe):(W(S.ec,S.fc,K,J,me,xe,Pe,_e,te,de,Se,ne,z,q-D.A,z,q,Fe),++R);je+2<Ce;je+=2)me=te,xe=de,Pe=Se,_e=ne,de+=m.Rc,ne+=m.Rc,q+=2*D.A,W(K,(J+=2*m.fa)-m.fa,K,J,me,xe,Pe,_e,te,de,Se,ne,z,q-D.A,z,q,Fe);return J+=m.fa,m.j+Ce<m.o?(r(S.ec,S.fc,K,J,Fe),r(S.cc,S.dc,te,de,Re),r(S.Mc,S.Nc,Se,ne,Re),R--):1&Ce||W(K,J,null,null,te,de,Se,ne,te,de,Se,ne,z,q+D.A,null,null,Fe),R}function us(m,S,R){var D=m.F,z=[m.J];if(D!=null){var q=m.U,W=S.ba.S,K=W==e0||W==t0;S=S.ba.f.RGBA;var J=[0],te=m.ka;J[0]=m.T,m.Kb&&(te==0?--J[0]:(--te,z[0]-=m.width),m.j+m.ka+m.T==m.o&&(J[0]=m.o-m.j-te));var de=S.eb;te=S.fb+te*S.A,m=Hk(D,z[0],m.width,q,J,de,te+(K?0:3),S.A),e(R==J),m&&vt(W)&&wm(de,te,K,q,J,S.A)}return 0}function Ci(m){var S=m.ma,R=S.ba.S,D=11>R,z=R==Jv||R==Zv||R==e0||R==$w||R==12||vt(R);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!hm(S.Oa,m,z?11:12))return 0;if(z&&vt(R)&&xs(),m.da)alert("todo:use_scaling");else{if(D){if(S.Ib=_o,m.Kb){if(R=m.U+1>>1,S.memory=a(m.U+2*R),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+m.U,S.Mc=S.cc,S.Nc=S.dc+R,S.Ib=Tr,xs()}}else alert("todo:EmitYUV");z&&(S.Jb=us,D&&va())}if(D&&!l3){for(m=0;256>m;++m)SH[m]=89858*(m-128)+r0>>n0,EH[m]=-22014*(m-128)+r0,NH[m]=-45773*(m-128),AH[m]=113618*(m-128)+r0>>n0;for(m=Sm;m<Ww;++m)S=76283*(m-16)+r0>>n0,PH[m-Sm]=ga(S,255),TH[m-Sm]=ga(S+8>>4,15);l3=1}return 1}function yt(m){var S=m.ma,R=m.U,D=m.T;return e(!(1&m.ka)),0>=R||0>=D?0:(R=S.Ib(m,S),S.Jb!=null&&S.Jb(m,S,R),S.Dc+=R,1)}function zn(m){m.ma.memory=null}function fs(m,S,R,D){return he(m,8)!=47?0:(S[0]=he(m,14)+1,R[0]=he(m,14)+1,D[0]=he(m,1),he(m,3)!=0?0:!m.h)}function ai(m,S){if(4>m)return m+1;var R=m-2>>1;return(2+(1&m)<<R)+he(S,R)+1}function si(m,S){return 120<S?S-120:1<=(R=((R=cH[S-1])>>4)*m+(8-(15&R)))?R:1;var R}function Jn(m,S,R){var D=ie(R),z=m[S+=255&D].g-8;return 0<z&&(le(R,R.u+8),D=ie(R),S+=m[S].value,S+=D&(1<<z)-1),le(R,R.u+m[S].g),m[S].value}function Br(m,S,R){return R.g+=m.g,R.value+=m.value<<S>>>0,e(8>=R.g),m.g}function Zn(m,S,R){var D=m.xc;return e((S=D==0?0:m.vc[m.md*(R>>D)+(S>>D)])<m.Wb),m.Ya[S]}function hl(m,S,R,D){var z=m.ab,q=m.c*S,W=m.C;S=W+S;var K=R,J=D;for(D=m.Ta,R=m.Ua;0<z--;){var te=m.gc[z],de=W,Se=S,ne=K,me=J,xe=(J=D,K=R,te.Ea);switch(e(de<Se),e(Se<=te.nc),te.hc){case 2:jr(ne,me,(Se-de)*xe,J,K);break;case 0:var Pe=de,_e=Se,je=J,Ce=K,Fe=(ot=te).Ea;Pe==0&&(mm(ne,me,null,null,1,je,Ce),xt(ne,me+1,0,0,Fe-1,je,Ce+1),me+=Fe,Ce+=Fe,++Pe);for(var Re=1<<ot.b,dt=Re-1,Ze=ce(Fe,ot.b),Bt=ot.K,ot=ot.w+(Pe>>ot.b)*Ze;Pe<_e;){var en=Bt,Kr=ot,Ut=1;for(Rd(ne,me,je,Ce-Fe,1,je,Ce);Ut<Fe;){var lt=(Ut&~dt)+Re;lt>Fe&&(lt=Fe),(0,ym[en[Kr++]>>8&15])(ne,me+ +Ut,je,Ce+Ut-Fe,lt-Ut,je,Ce+Ut),Ut=lt}me+=Fe,Ce+=Fe,++Pe&dt||(ot+=Ze)}Se!=te.nc&&r(J,K-xe,J,K+(Se-de-1)*xe,xe);break;case 1:for(xe=ne,_e=me,Fe=(ne=te.Ea)-(Ce=ne&~(je=(me=1<<te.b)-1)),Pe=ce(ne,te.b),Re=te.K,te=te.w+(de>>te.b)*Pe;de<Se;){for(dt=Re,Ze=te,Bt=new et,ot=_e+Ce,en=_e+ne;_e<ot;)it(dt[Ze++],Bt),vm(Bt,xe,_e,me,J,K),_e+=me,K+=me;_e<en&&(it(dt[Ze++],Bt),vm(Bt,xe,_e,Fe,J,K),_e+=Fe,K+=Fe),++de&je||(te+=Pe)}break;case 3:if(ne==J&&me==K&&0<te.b){for(_e=J,ne=xe=K+(Se-de)*xe-(Ce=(Se-de)*ce(te.Ea,te.b)),me=J,je=K,Pe=[],Ce=(Fe=Ce)-1;0<=Ce;--Ce)Pe[Ce]=me[je+Ce];for(Ce=Fe-1;0<=Ce;--Ce)_e[ne+Ce]=Pe[Ce];Kv(te,de,Se,J,xe,J,K)}else Kv(te,de,Se,ne,me,J,K)}K=D,J=R}J!=R&&r(D,R,K,J,q)}function So(m,S){var R=m.V,D=m.Ba+m.c*m.C,z=S-m.C;if(e(S<=m.l.o),e(16>=z),0<z){var q=m.l,W=m.Ta,K=m.Ua,J=q.width;if(hl(m,z,R,D),z=K=[K],e((R=m.C)<(D=S)),e(q.v<q.va),D>q.o&&(D=q.o),R<q.j){var te=q.j-R;R=q.j,z[0]+=te*J}if(R>=D?R=0:(z[0]+=4*q.v,q.ka=R-q.j,q.U=q.va-q.v,q.T=D-R,R=1),R){if(K=K[0],11>(R=m.ca).S){var de=R.f.RGBA,Se=(D=R.S,z=q.U,q=q.T,te=de.eb,de.A),ne=q;for(de=de.fb+m.Ma*de.A;0<ne--;){var me=W,xe=K,Pe=z,_e=te,je=de;switch(D){case Qv:bm(me,xe,Pe,_e,je);break;case Jv:jc(me,xe,Pe,_e,je);break;case Bw:jc(me,xe,Pe,_e,je),wm(_e,je,0,Pe,1,0);break;case Zk:ff(me,xe,Pe,_e,je);break;case Zv:pt(me,xe,Pe,_e,je,1);break;case Uw:pt(me,xe,Pe,_e,je,1),wm(_e,je,0,Pe,1,0);break;case e0:pt(me,xe,Pe,_e,je,0);break;case t0:pt(me,xe,Pe,_e,je,0),wm(_e,je,1,Pe,1,0);break;case $w:Cc(me,xe,Pe,_e,je);break;case Vw:Cc(me,xe,Pe,_e,je),Wk(_e,je,Pe,1,0);break;case e3:Ic(me,xe,Pe,_e,je);break;default:e(0)}K+=J,de+=Se}m.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=R.height)}}m.C=S,e(m.C<=m.i)}function Ii(m){var S;if(0<m.ua)return 0;for(S=0;S<m.Wb;++S){var R=m.Ya[S].G,D=m.Ya[S].H;if(0<R[1][D[1]+0].g||0<R[2][D[2]+0].g||0<R[3][D[3]+0].g)return 0}return 1}function Ca(m,S,R,D,z,q){if(m.Z!=0){var W=m.qd,K=m.rd;for(e(Lc[m.Z]!=null);S<R;++S)Lc[m.Z](W,K,D,z,D,z,q),W=D,K=z,z+=q;m.qd=W,m.rd=K}}function ta(m,S){var R=m.l.ma,D=R.Z==0||R.Z==1?m.l.j:m.C;if(D=m.C<D?D:m.C,e(S<=m.l.o),S>D){var z=m.l.width,q=R.ca,W=R.tb+z*D,K=m.V,J=m.Ba+m.c*D,te=m.gc;e(m.ab==1),e(te[0].hc==3),Oo(te[0],D,S,K,J,q,W),Ca(R,D,S,q,W,z)}m.C=m.Ma=S}function Oi(m,S,R,D,z,q,W){var K=m.$/D,J=m.$%D,te=m.m,de=m.s,Se=R+m.$,ne=Se;z=R+D*z;var me=R+D*q,xe=280+de.ua,Pe=m.Pb?K:16777216,_e=0<de.ua?de.Wa:null,je=de.wc,Ce=Se<me?Zn(de,J,K):null;e(m.C<q),e(me<=z);var Fe=!1;e:for(;;){for(;Fe||Se<me;){var Re=0;if(K>=Pe){var dt=Se-R;e((Pe=m).Pb),Pe.wd=Pe.m,Pe.xd=dt,0<Pe.s.ua&&Me(Pe.s.Wa,Pe.s.vb),Pe=K+fH}if(J&je||(Ce=Zn(de,J,K)),e(Ce!=null),Ce.Qb&&(S[Se]=Ce.qb,Fe=!0),!Fe)if(ge(te),Ce.jc){Re=te,dt=S;var Ze=Se,Bt=Ce.pd[ie(Re)&uf-1];e(Ce.jc),256>Bt.g?(le(Re,Re.u+Bt.g),dt[Ze]=Bt.value,Re=0):(le(Re,Re.u+Bt.g-256),e(256<=Bt.value),Re=Bt.value),Re==0&&(Fe=!0)}else Re=Jn(Ce.G[0],Ce.H[0],te);if(te.h)break;if(Fe||256>Re){if(!Fe)if(Ce.nd)S[Se]=(Ce.qb|Re<<8)>>>0;else{if(ge(te),Fe=Jn(Ce.G[1],Ce.H[1],te),ge(te),dt=Jn(Ce.G[2],Ce.H[2],te),Ze=Jn(Ce.G[3],Ce.H[3],te),te.h)break;S[Se]=(Ze<<24|Fe<<16|Re<<8|dt)>>>0}if(Fe=!1,++Se,++J>=D&&(J=0,++K,W!=null&&K<=q&&!(K%16)&&W(m,K),_e!=null))for(;ne<Se;)Re=S[ne++],_e.X[(506832829*Re&4294967295)>>>_e.Mb]=Re}else if(280>Re){if(Re=ai(Re-256,te),dt=Jn(Ce.G[4],Ce.H[4],te),ge(te),dt=si(D,dt=ai(dt,te)),te.h)break;if(Se-R<dt||z-Se<Re)break e;for(Ze=0;Ze<Re;++Ze)S[Se+Ze]=S[Se+Ze-dt];for(Se+=Re,J+=Re;J>=D;)J-=D,++K,W!=null&&K<=q&&!(K%16)&&W(m,K);if(e(Se<=z),J&je&&(Ce=Zn(de,J,K)),_e!=null)for(;ne<Se;)Re=S[ne++],_e.X[(506832829*Re&4294967295)>>>_e.Mb]=Re}else{if(!(Re<xe))break e;for(Fe=Re-280,e(_e!=null);ne<Se;)Re=S[ne++],_e.X[(506832829*Re&4294967295)>>>_e.Mb]=Re;Re=Se,e(!(Fe>>>(dt=_e).Xa)),S[Re]=dt.X[Fe],Fe=!0}Fe||e(te.h==se(te))}if(m.Pb&&te.h&&Se<z)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Me(m.s.vb,m.s.Wa);else{if(te.h)break e;W!=null&&W(m,K>q?q:K),m.a=0,m.$=Se-R}return 1}return m.a=3,0}function kr(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var S=m.Wa;S!=null&&(S.X=null),m.vb=null,e(m!=null)}function Ao(){var m=new wt;return m==null?null:(m.a=0,m.xb=r3,hn("Predictor","VP8LPredictors"),hn("Predictor","VP8LPredictors_C"),hn("PredictorAdd","VP8LPredictorsAdd"),hn("PredictorAdd","VP8LPredictorsAdd_C"),jr=$t,vm=kt,bm=kn,jc=Kt,Cc=Dt,Ic=Lt,ff=Mn,k.VP8LMapColor32b=Io,k.VP8LMapColor8b=gm,m)}function Ia(m,S,R,D,z){var q=1,W=[m],K=[S],J=D.m,te=D.s,de=null,Se=0;e:for(;;){if(R)for(;q&&he(J,1);){var ne=W,me=K,xe=D,Pe=1,_e=xe.m,je=xe.gc[xe.ab],Ce=he(_e,2);if(xe.Oc&1<<Ce)q=0;else{switch(xe.Oc|=1<<Ce,je.hc=Ce,je.Ea=ne[0],je.nc=me[0],je.K=[null],++xe.ab,e(4>=xe.ab),Ce){case 0:case 1:je.b=he(_e,3)+2,Pe=Ia(ce(je.Ea,je.b),ce(je.nc,je.b),0,xe,je.K),je.K=je.K[0];break;case 3:var Fe,Re=he(_e,8)+1,dt=16<Re?0:4<Re?1:2<Re?2:3;if(ne[0]=ce(je.Ea,dt),je.b=dt,Fe=Pe=Ia(Re,1,0,xe,je.K)){var Ze,Bt=Re,ot=je,en=1<<(8>>ot.b),Kr=a(en);if(Kr==null)Fe=0;else{var Ut=ot.K[0],lt=ot.w;for(Kr[0]=ot.K[0][0],Ze=1;Ze<1*Bt;++Ze)Kr[Ze]=Be(Ut[lt+Ze],Kr[Ze-1]);for(;Ze<4*en;++Ze)Kr[Ze]=0;ot.K[0]=null,ot.K[0]=Kr,Fe=1}}Pe=Fe;break;case 2:break;default:e(0)}q=Pe}}if(W=W[0],K=K[0],q&&he(J,1)&&!(q=1<=(Se=he(J,4))&&11>=Se)){D.a=3;break e}var Ge;if(Ge=q)t:{var Ir,Mt,nn,qn=D,yi=W,ia=K,br=Se,Li=R,aa=qn.m,Yr=qn.s,an=[null],vn=1,xr=0,bn=uH[br];n:for(;;){if(Li&&he(aa,1)){var vi=he(aa,3)+2,Xs=ce(yi,vi),Or=ce(ia,vi),ba=Xs*Or;if(!Ia(Xs,Or,0,qn,an))break n;for(an=an[0],Yr.xc=vi,Ir=0;Ir<ba;++Ir){var In=an[Ir]>>8&65535;an[Ir]=In,In>=vn&&(vn=In+1)}}if(aa.h)break n;for(Mt=0;5>Mt;++Mt){var Xr=t3[Mt];!Mt&&0<br&&(Xr+=1<<br),xr<Xr&&(xr=Xr)}var $a=s(vn*bn,j),sa=vn,Ba=s(sa,G);if(Ba==null)var Ua=null;else e(65536>=sa),Ua=Ba;var xa=a(xr);if(Ua==null||xa==null||$a==null){qn.a=1;break n}var Va=$a;for(Ir=nn=0;Ir<vn;++Ir){var Fn=Ua[Ir],za=Fn.G,Qs=Fn.H,hf=0,Nl=1,bi=0;for(Mt=0;5>Mt;++Mt){Xr=t3[Mt],za[Mt]=Va,Qs[Mt]=nn,!Mt&&0<br&&(Xr+=1<<br);i:{var a0,Hw=Xr,s0=qn,Am=xa,CH=Va,IH=nn,Gw=0,Mc=s0.m,OH=he(Mc,1);if(i(Am,0,0,Hw),OH){var RH=he(Mc,1)+1,LH=he(Mc,1),f3=he(Mc,LH==0?1:8);Am[f3]=1,RH==2&&(Am[f3=he(Mc,8)]=1);var o0=1}else{var d3=a(19),h3=he(Mc,4)+4;if(19<h3){s0.a=3;var l0=0;break i}for(a0=0;a0<h3;++a0)d3[lH[a0]]=he(Mc,3);var Kw=void 0,Nm=void 0,p3=s0,MH=d3,c0=Hw,m3=Am,Yw=0,Dc=p3.m,g3=8,y3=s(128,j);r:for(;I(y3,0,7,MH,19);){if(he(Dc,1)){var DH=2+2*he(Dc,3);if((Kw=2+he(Dc,DH))>c0)break r}else Kw=c0;for(Nm=0;Nm<c0&&Kw--;){ge(Dc);var v3=y3[0+(127&ie(Dc))];le(Dc,Dc.u+v3.g);var Md=v3.value;if(16>Md)m3[Nm++]=Md,Md!=0&&(g3=Md);else{var FH=Md==16,b3=Md-16,$H=sH[b3],x3=he(Dc,aH[b3])+$H;if(Nm+x3>c0)break r;for(var BH=FH?g3:0;0<x3--;)m3[Nm++]=BH}}Yw=1;break r}Yw||(p3.a=3),o0=Yw}(o0=o0&&!Mc.h)&&(Gw=I(CH,IH,8,Am,Hw)),o0&&Gw!=0?l0=Gw:(s0.a=3,l0=0)}if(l0==0)break n;if(Nl&&oH[Mt]==1&&(Nl=Va[nn].g==0),hf+=Va[nn].g,nn+=l0,3>=Mt){var Em,Xw=xa[0];for(Em=1;Em<Xr;++Em)xa[Em]>Xw&&(Xw=xa[Em]);bi+=Xw}}if(Fn.nd=Nl,Fn.Qb=0,Nl&&(Fn.qb=(za[3][Qs[3]+0].value<<24|za[1][Qs[1]+0].value<<16|za[2][Qs[2]+0].value)>>>0,hf==0&&256>za[0][Qs[0]+0].value&&(Fn.Qb=1,Fn.qb+=za[0][Qs[0]+0].value<<8)),Fn.jc=!Fn.Qb&&6>bi,Fn.jc){var u0,El=Fn;for(u0=0;u0<uf;++u0){var Fc=u0,$c=El.pd[Fc],f0=El.G[0][El.H[0]+Fc];256<=f0.value?($c.g=f0.g+256,$c.value=f0.value):($c.g=0,$c.value=0,Fc>>=Br(f0,8,$c),Fc>>=Br(El.G[1][El.H[1]+Fc],16,$c),Fc>>=Br(El.G[2][El.H[2]+Fc],0,$c),Br(El.G[3][El.H[3]+Fc],24,$c))}}}Yr.vc=an,Yr.Wb=vn,Yr.Ya=Ua,Yr.yc=$a,Ge=1;break t}Ge=0}if(!(q=Ge)){D.a=3;break e}if(0<Se){if(te.ua=1<<Se,!Q(te.Wa,Se)){D.a=1,q=0;break e}}else te.ua=0;var Qw=D,w3=W,UH=K,Jw=Qw.s,Zw=Jw.xc;if(Qw.c=w3,Qw.i=UH,Jw.md=ce(w3,Zw),Jw.wc=Zw==0?-1:(1<<Zw)-1,R){D.xb=vH;break e}if((de=a(W*K))==null){D.a=1,q=0;break e}q=(q=Oi(D,de,0,W,K,K,null))&&!J.h;break e}return q?(z!=null?z[0]=de:(e(de==null),e(R)),D.$=0,R||kr(te)):kr(te),q}function Ws(m,S){var R=m.c*m.i,D=R+S+16*S;return e(m.c<=S),m.V=a(D),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+R+S,1)}function No(m,S){var R=m.C,D=S-R,z=m.V,q=m.Ba+m.c*R;for(e(S<=m.l.o);0<D;){var W=16<D?16:D,K=m.l.ma,J=m.l.width,te=J*W,de=K.ca,Se=K.tb+J*R,ne=m.Ta,me=m.Ua;hl(m,W,z,q),Gk(ne,me,de,Se,te),Ca(K,R,R+W,de,Se,J),D-=W,z+=W*m.c,R+=W}e(R==S),m.C=m.Ma=S}function pl(){this.ub=this.yd=this.td=this.Rb=0}function ml(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function sm(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Eo(){this.Yb=function(){var m=[];return function S(R,D,z){for(var q=z[D],W=0;W<q&&(R.push(z.length>D+1?[]:0),!(z.length<D+1));W++)S(R[W],D+1,z)}(m,0,[3,11]),m}()}function Ju(){this.jb=a(3),this.Wc=o([4,8],Eo),this.Xc=o([4,17],Eo)}function bc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function oi(){this.ld=this.La=this.dd=this.tc=0}function Oa(){this.Na=this.la=0}function xc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Zu(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ef(){this.uc=this.M=this.Nb=0,this.wa=Array(new oi),this.Y=0,this.ya=Array(new Zu),this.aa=0,this.l=new Po}function tf(){this.y=a(16),this.f=a(8),this.ea=a(8)}function nf(){this.cb=this.a=0,this.sc="",this.m=new $,this.Od=new pl,this.Kc=new ml,this.ed=new bc,this.Qa=new sm,this.Ic=this.$c=this.Aa=0,this.D=new ef,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,$),this.ia=0,this.pb=s(4,xc),this.Pa=new Ju,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new tf),this.Hd=0,this.rb=Array(new Oa),this.sb=0,this.wa=Array(new oi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Zu),this.L=this.aa=0,this.gd=o([4,2],oi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ga(m,S){return 0>m?0:m>S?S:m}function Po(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ed(){var m=new nf;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,_m||(_m=gl)),m}function rr(m,S,R){return m.a==0&&(m.a=S,m.sc=R,m.cb=0),0}function Pd(m,S,R){return 3<=R&&m[S+0]==157&&m[S+1]==1&&m[S+2]==42}function ds(m,S){if(m==null)return 0;if(m.a=0,m.sc="OK",S==null)return rr(m,2,"null VP8Io passed to VP8GetHeaders()");var R=S.data,D=S.w,z=S.ha;if(4>z)return rr(m,7,"Truncated header.");var q=R[D+0]|R[D+1]<<8|R[D+2]<<16,W=m.Od;if(W.Rb=!(1&q),W.td=q>>1&7,W.yd=q>>4&1,W.ub=q>>5,3<W.td)return rr(m,3,"Incorrect keyframe parameters.");if(!W.yd)return rr(m,4,"Frame not displayable.");D+=3,z-=3;var K=m.Kc;if(W.Rb){if(7>z)return rr(m,7,"cannot parse picture header");if(!Pd(R,D,z))return rr(m,3,"Bad code word");K.c=16383&(R[D+4]<<8|R[D+3]),K.Td=R[D+4]>>6,K.i=16383&(R[D+6]<<8|R[D+5]),K.Ud=R[D+6]>>6,D+=7,z-=7,m.za=K.c+15>>4,m.Ub=K.i+15>>4,S.width=K.c,S.height=K.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,i((q=m.Pa).jb,0,255,q.jb.length),e((q=m.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,i(q.Zb,0,0,q.Zb.length),i(q.Lb,0,0,q.Lb)}if(W.ub>z)return rr(m,7,"bad partition length");Z(q=m.m,R,D,W.ub),D+=W.ub,z-=W.ub,W.Rb&&(K.Ld=fe(q),K.Kd=fe(q)),K=m.Qa;var J,te=m.Pa;if(e(q!=null),e(K!=null),K.Cb=fe(q),K.Cb){if(K.Bb=fe(q),fe(q)){for(K.Fb=fe(q),J=0;4>J;++J)K.Zb[J]=fe(q)?Y(q,7):0;for(J=0;4>J;++J)K.Lb[J]=fe(q)?Y(q,6):0}if(K.Bb)for(J=0;3>J;++J)te.jb[J]=fe(q)?re(q,8):255}else K.Bb=0;if(q.Ka)return rr(m,3,"cannot parse segment header");if((K=m.ed).zd=fe(q),K.Tb=re(q,6),K.wb=re(q,3),K.Pc=fe(q),K.Pc&&fe(q)){for(te=0;4>te;++te)fe(q)&&(K.vd[te]=Y(q,6));for(te=0;4>te;++te)fe(q)&&(K.od[te]=Y(q,6))}if(m.L=K.Tb==0?0:K.zd?1:2,q.Ka)return rr(m,3,"cannot parse filter header");var de=z;if(z=J=D,D=J+de,K=de,m.Xb=(1<<re(m.m,2))-1,de<3*(te=m.Xb))R=7;else{for(J+=3*te,K-=3*te,de=0;de<te;++de){var Se=R[z+0]|R[z+1]<<8|R[z+2]<<16;Se>K&&(Se=K),Z(m.Jc[+de],R,J,Se),J+=Se,K-=Se,z+=3}Z(m.Jc[+te],R,J,K),R=J<D?0:5}if(R!=0)return rr(m,R,"cannot parse partitions");for(R=re(J=m.m,7),z=fe(J)?Y(J,4):0,D=fe(J)?Y(J,4):0,K=fe(J)?Y(J,4):0,te=fe(J)?Y(J,4):0,J=fe(J)?Y(J,4):0,de=m.Qa,Se=0;4>Se;++Se){if(de.Cb){var ne=de.Zb[Se];de.Fb||(ne+=R)}else{if(0<Se){m.pb[Se]=m.pb[0];continue}ne=R}var me=m.pb[Se];me.Sc[0]=zw[ga(ne+z,127)],me.Sc[1]=qw[ga(ne+0,127)],me.Eb[0]=2*zw[ga(ne+D,127)],me.Eb[1]=101581*qw[ga(ne+K,127)]>>16,8>me.Eb[1]&&(me.Eb[1]=8),me.Qc[0]=zw[ga(ne+te,117)],me.Qc[1]=qw[ga(ne+J,127)],me.lc=ne+J}if(!W.Rb)return rr(m,4,"Not a key frame.");for(fe(q),W=m.Pa,R=0;4>R;++R){for(z=0;8>z;++z)for(D=0;3>D;++D)for(K=0;11>K;++K)te=we(q,gH[R][z][D][K])?re(q,8):pH[R][z][D][K],W.Wc[R][z].Yb[D][K]=te;for(z=0;17>z;++z)W.Xc[R][z]=W.Wc[R][yH[z]]}return m.kc=fe(q),m.kc&&(m.Bd=re(q,8)),m.cb=1}function gl(m,S,R,D,z,q,W){var K=S[z].Yb[R];for(R=0;16>z;++z){if(!we(m,K[R+0]))return z;for(;!we(m,K[R+1]);)if(K=S[++z].Yb[0],R=0,z==16)return 16;var J=S[z+1].Yb;if(we(m,K[R+2])){var te=m,de=0;if(we(te,(ne=K)[(Se=R)+3]))if(we(te,ne[Se+6])){for(K=0,Se=2*(de=we(te,ne[Se+8]))+(ne=we(te,ne[Se+9+de])),de=0,ne=dH[Se];ne[K];++K)de+=de+we(te,ne[K]);de+=3+(8<<Se)}else we(te,ne[Se+7])?(de=7+2*we(te,165),de+=we(te,145)):de=5+we(te,159);else de=we(te,ne[Se+4])?3+we(te,ne[Se+5]):2;K=J[2]}else de=1,K=J[1];J=W+hH[z],0>(te=m).b&&Ae(te);var Se,ne=te.b,me=(Se=te.Ca>>1)-(te.I>>ne)>>31;--te.b,te.Ca+=me,te.Ca|=1,te.I-=(Se+1&me)<<ne,q[J]=((de^me)-me)*D[(0<z)+0]}return 16}function rf(m){var S=m.rb[m.sb-1];S.la=0,S.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function ya(m,S,R,D,z){z=m[S+R+32*D]+(z>>3),m[S+R+32*D]=-256&z?0>z?0:255:z}function jn(m,S,R,D,z,q){ya(m,S,0,R,D+z),ya(m,S,1,R,D+q),ya(m,S,2,R,D-q),ya(m,S,3,R,D-z)}function Hr(m){return(20091*m>>16)+m}function yl(m,S,R,D){var z,q=0,W=a(16);for(z=0;4>z;++z){var K=m[S+0]+m[S+8],J=m[S+0]-m[S+8],te=(35468*m[S+4]>>16)-Hr(m[S+12]),de=Hr(m[S+4])+(35468*m[S+12]>>16);W[q+0]=K+de,W[q+1]=J+te,W[q+2]=J-te,W[q+3]=K-de,q+=4,S++}for(z=q=0;4>z;++z)K=(m=W[q+0]+4)+W[q+8],J=m-W[q+8],te=(35468*W[q+4]>>16)-Hr(W[q+12]),ya(R,D,0,0,K+(de=Hr(W[q+4])+(35468*W[q+12]>>16))),ya(R,D,1,0,J+te),ya(R,D,2,0,J-te),ya(R,D,3,0,K-de),q++,D+=32}function wc(m,S,R,D){var z=m[S+0]+4,q=35468*m[S+4]>>16,W=Hr(m[S+4]),K=35468*m[S+1]>>16;jn(R,D,0,z+W,m=Hr(m[S+1]),K),jn(R,D,1,z+q,m,K),jn(R,D,2,z-q,m,K),jn(R,D,3,z-W,m,K)}function Td(m,S,R,D,z){yl(m,S,R,D),z&&yl(m,S+16,R,D+4)}function Yt(m,S,R,D){df(m,S+0,R,D,1),df(m,S+32,R,D+128,1)}function vl(m,S,R,D){var z;for(m=m[S+0]+4,z=0;4>z;++z)for(S=0;4>S;++S)ya(R,D,S,z,m)}function To(m,S,R,D){m[S+0]&&mn(m,S+0,R,D),m[S+16]&&mn(m,S+16,R,D+4),m[S+32]&&mn(m,S+32,R,D+128),m[S+48]&&mn(m,S+48,R,D+128+4)}function hs(m,S,R,D){var z,q=a(16);for(z=0;4>z;++z){var W=m[S+0+z]+m[S+12+z],K=m[S+4+z]+m[S+8+z],J=m[S+4+z]-m[S+8+z],te=m[S+0+z]-m[S+12+z];q[0+z]=W+K,q[8+z]=W-K,q[4+z]=te+J,q[12+z]=te-J}for(z=0;4>z;++z)W=(m=q[0+4*z]+3)+q[3+4*z],K=q[1+4*z]+q[2+4*z],J=q[1+4*z]-q[2+4*z],te=m-q[3+4*z],R[D+0]=W+K>>3,R[D+16]=te+J>>3,R[D+32]=W-K>>3,R[D+48]=te-J>>3,D+=64}function bl(m,S,R){var D,z=S-32,q=Fa,W=255-m[z-1];for(D=0;D<R;++D){var K,J=q,te=W+m[S-1];for(K=0;K<R;++K)m[S+K]=J[te+m[z+K]];S+=32}}function kd(m,S){bl(m,S,4)}function om(m,S){bl(m,S,8)}function lm(m,S){bl(m,S,16)}function af(m,S){var R;for(R=0;16>R;++R)r(m,S+32*R,m,S-32,16)}function jd(m,S){var R;for(R=16;0<R;--R)i(m,S,m[S-1],16),S+=32}function mi(m,S,R){var D;for(D=0;16>D;++D)i(S,R+32*D,m,16)}function ps(m,S){var R,D=16;for(R=0;16>R;++R)D+=m[S-1+32*R]+m[S+R-32];mi(D>>5,m,S)}function ko(m,S){var R,D=8;for(R=0;16>R;++R)D+=m[S-1+32*R];mi(D>>4,m,S)}function _c(m,S){var R,D=8;for(R=0;16>R;++R)D+=m[S+R-32];mi(D>>4,m,S)}function Cd(m,S){mi(128,m,S)}function bt(m,S,R){return m+2*S+R+2>>2}function cm(m,S){var R,D=S-32;for(D=new Uint8Array([bt(m[D-1],m[D+0],m[D+1]),bt(m[D+0],m[D+1],m[D+2]),bt(m[D+1],m[D+2],m[D+3]),bt(m[D+2],m[D+3],m[D+4])]),R=0;4>R;++R)r(m,S+32*R,D,0,D.length)}function um(m,S){var R=m[S-1],D=m[S-1+32],z=m[S-1+64],q=m[S-1+96];Ee(m,S+0,16843009*bt(m[S-1-32],R,D)),Ee(m,S+32,16843009*bt(R,D,z)),Ee(m,S+64,16843009*bt(D,z,q)),Ee(m,S+96,16843009*bt(z,q,q))}function fm(m,S){var R,D=4;for(R=0;4>R;++R)D+=m[S+R-32]+m[S-1+32*R];for(D>>=3,R=0;4>R;++R)i(m,S+32*R,D,4)}function li(m,S){var R=m[S-1+0],D=m[S-1+32],z=m[S-1+64],q=m[S-1-32],W=m[S+0-32],K=m[S+1-32],J=m[S+2-32],te=m[S+3-32];m[S+0+96]=bt(D,z,m[S-1+96]),m[S+1+96]=m[S+0+64]=bt(R,D,z),m[S+2+96]=m[S+1+64]=m[S+0+32]=bt(q,R,D),m[S+3+96]=m[S+2+64]=m[S+1+32]=m[S+0+0]=bt(W,q,R),m[S+3+64]=m[S+2+32]=m[S+1+0]=bt(K,W,q),m[S+3+32]=m[S+2+0]=bt(J,K,W),m[S+3+0]=bt(te,J,K)}function Hs(m,S){var R=m[S+1-32],D=m[S+2-32],z=m[S+3-32],q=m[S+4-32],W=m[S+5-32],K=m[S+6-32],J=m[S+7-32];m[S+0+0]=bt(m[S+0-32],R,D),m[S+1+0]=m[S+0+32]=bt(R,D,z),m[S+2+0]=m[S+1+32]=m[S+0+64]=bt(D,z,q),m[S+3+0]=m[S+2+32]=m[S+1+64]=m[S+0+96]=bt(z,q,W),m[S+3+32]=m[S+2+64]=m[S+1+96]=bt(q,W,K),m[S+3+64]=m[S+2+96]=bt(W,K,J),m[S+3+96]=bt(K,J,J)}function dm(m,S){var R=m[S-1+0],D=m[S-1+32],z=m[S-1+64],q=m[S-1-32],W=m[S+0-32],K=m[S+1-32],J=m[S+2-32],te=m[S+3-32];m[S+0+0]=m[S+1+64]=q+W+1>>1,m[S+1+0]=m[S+2+64]=W+K+1>>1,m[S+2+0]=m[S+3+64]=K+J+1>>1,m[S+3+0]=J+te+1>>1,m[S+0+96]=bt(z,D,R),m[S+0+64]=bt(D,R,q),m[S+0+32]=m[S+1+96]=bt(R,q,W),m[S+1+32]=m[S+2+96]=bt(q,W,K),m[S+2+32]=m[S+3+96]=bt(W,K,J),m[S+3+32]=bt(K,J,te)}function Sc(m,S){var R=m[S+0-32],D=m[S+1-32],z=m[S+2-32],q=m[S+3-32],W=m[S+4-32],K=m[S+5-32],J=m[S+6-32],te=m[S+7-32];m[S+0+0]=R+D+1>>1,m[S+1+0]=m[S+0+64]=D+z+1>>1,m[S+2+0]=m[S+1+64]=z+q+1>>1,m[S+3+0]=m[S+2+64]=q+W+1>>1,m[S+0+32]=bt(R,D,z),m[S+1+32]=m[S+0+96]=bt(D,z,q),m[S+2+32]=m[S+1+96]=bt(z,q,W),m[S+3+32]=m[S+2+96]=bt(q,W,K),m[S+3+64]=bt(W,K,J),m[S+3+96]=bt(K,J,te)}function Gs(m,S){var R=m[S-1+0],D=m[S-1+32],z=m[S-1+64],q=m[S-1+96];m[S+0+0]=R+D+1>>1,m[S+2+0]=m[S+0+32]=D+z+1>>1,m[S+2+32]=m[S+0+64]=z+q+1>>1,m[S+1+0]=bt(R,D,z),m[S+3+0]=m[S+1+32]=bt(D,z,q),m[S+3+32]=m[S+1+64]=bt(z,q,q),m[S+3+64]=m[S+2+64]=m[S+0+96]=m[S+1+96]=m[S+2+96]=m[S+3+96]=q}function Ac(m,S){var R=m[S-1+0],D=m[S-1+32],z=m[S-1+64],q=m[S-1+96],W=m[S-1-32],K=m[S+0-32],J=m[S+1-32],te=m[S+2-32];m[S+0+0]=m[S+2+32]=R+W+1>>1,m[S+0+32]=m[S+2+64]=D+R+1>>1,m[S+0+64]=m[S+2+96]=z+D+1>>1,m[S+0+96]=q+z+1>>1,m[S+3+0]=bt(K,J,te),m[S+2+0]=bt(W,K,J),m[S+1+0]=m[S+3+32]=bt(R,W,K),m[S+1+32]=m[S+3+64]=bt(D,R,W),m[S+1+64]=m[S+3+96]=bt(z,D,R),m[S+1+96]=bt(q,z,D)}function Ra(m,S){var R;for(R=0;8>R;++R)r(m,S+32*R,m,S-32,8)}function xl(m,S){var R;for(R=0;8>R;++R)i(m,S,m[S-1],8),S+=32}function ms(m,S,R){var D;for(D=0;8>D;++D)i(S,R+32*D,m,8)}function sf(m,S){var R,D=8;for(R=0;8>R;++R)D+=m[S+R-32]+m[S-1+32*R];ms(D>>4,m,S)}function En(m,S){var R,D=4;for(R=0;8>R;++R)D+=m[S+R-32];ms(D>>3,m,S)}function of(m,S){var R,D=4;for(R=0;8>R;++R)D+=m[S-1+32*R];ms(D>>3,m,S)}function Id(m,S){ms(128,m,S)}function gs(m,S,R){var D=m[S-R],z=m[S+0],q=3*(z-D)+Fw[1020+m[S-2*R]-m[S+R]],W=Xv[112+(q+4>>3)];m[S-R]=Fa[255+D+Xv[112+(q+3>>3)]],m[S+0]=Fa[255+z-W]}function Nc(m,S,R,D){var z=m[S+0],q=m[S+R];return _s[255+m[S-2*R]-m[S-R]]>D||_s[255+q-z]>D}function wl(m,S,R,D){return 4*_s[255+m[S-R]-m[S+0]]+_s[255+m[S-2*R]-m[S+R]]<=D}function jo(m,S,R,D,z){var q=m[S-3*R],W=m[S-2*R],K=m[S-R],J=m[S+0],te=m[S+R],de=m[S+2*R],Se=m[S+3*R];return 4*_s[255+K-J]+_s[255+W-te]>D?0:_s[255+m[S-4*R]-q]<=z&&_s[255+q-W]<=z&&_s[255+W-K]<=z&&_s[255+Se-de]<=z&&_s[255+de-te]<=z&&_s[255+te-J]<=z}function Co(m,S,R,D){var z=2*D+1;for(D=0;16>D;++D)wl(m,S+D,R,z)&&gs(m,S+D,R)}function na(m,S,R,D){var z=2*D+1;for(D=0;16>D;++D)wl(m,S+D*R,1,z)&&gs(m,S+D*R,1)}function lf(m,S,R,D){var z;for(z=3;0<z;--z)Co(m,S+=4*R,R,D)}function Od(m,S,R,D){var z;for(z=3;0<z;--z)na(m,S+=4,R,D)}function ra(m,S,R,D,z,q,W,K){for(q=2*q+1;0<z--;){if(jo(m,S,R,q,W))if(Nc(m,S,R,K))gs(m,S,R);else{var J=m,te=S,de=R,Se=J[te-2*de],ne=J[te-de],me=J[te+0],xe=J[te+de],Pe=J[te+2*de],_e=27*(Ce=Fw[1020+3*(me-ne)+Fw[1020+Se-xe]])+63>>7,je=18*Ce+63>>7,Ce=9*Ce+63>>7;J[te-3*de]=Fa[255+J[te-3*de]+Ce],J[te-2*de]=Fa[255+Se+je],J[te-de]=Fa[255+ne+_e],J[te+0]=Fa[255+me-_e],J[te+de]=Fa[255+xe-je],J[te+2*de]=Fa[255+Pe-Ce]}S+=D}}function ys(m,S,R,D,z,q,W,K){for(q=2*q+1;0<z--;){if(jo(m,S,R,q,W))if(Nc(m,S,R,K))gs(m,S,R);else{var J=m,te=S,de=R,Se=J[te-de],ne=J[te+0],me=J[te+de],xe=Xv[112+(4+(Pe=3*(ne-Se))>>3)],Pe=Xv[112+(Pe+3>>3)],_e=xe+1>>1;J[te-2*de]=Fa[255+J[te-2*de]+_e],J[te-de]=Fa[255+Se+Pe],J[te+0]=Fa[255+ne-xe],J[te+de]=Fa[255+me-_e]}S+=D}}function Ec(m,S,R,D,z,q){ra(m,S,R,1,16,D,z,q)}function vs(m,S,R,D,z,q){ra(m,S,1,R,16,D,z,q)}function cf(m,S,R,D,z,q){var W;for(W=3;0<W;--W)ys(m,S+=4*R,R,1,16,D,z,q)}function T(m,S,R,D,z,q){var W;for(W=3;0<W;--W)ys(m,S+=4,1,R,16,D,z,q)}function V(m,S,R,D,z,q,W,K){ra(m,S,z,1,8,q,W,K),ra(R,D,z,1,8,q,W,K)}function ee(m,S,R,D,z,q,W,K){ra(m,S,1,z,8,q,W,K),ra(R,D,1,z,8,q,W,K)}function oe(m,S,R,D,z,q,W,K){ys(m,S+4*z,z,1,8,q,W,K),ys(R,D+4*z,z,1,8,q,W,K)}function ye(m,S,R,D,z,q,W,K){ys(m,S+4,1,z,8,q,W,K),ys(R,D+4,1,z,8,q,W,K)}function ke(){this.ba=new Ft,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new qt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Oe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ye(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function at(){this.ua=0,this.Wa=new ct,this.vb=new ct,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new j}function wt(){this.xb=this.a=0,this.l=new Po,this.ca=new Ft,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new at,this.ab=0,this.gc=s(4,Ye),this.Oc=0}function jt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Po,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Xt(m,S,R,D,z,q,W){for(m=m==null?0:m[S+0],S=0;S<W;++S)z[q+S]=m+R[D+S]&255,m=z[q+S]}function dn(m,S,R,D,z,q,W){var K;if(m==null)Xt(null,null,R,D,z,q,W);else for(K=0;K<W;++K)z[q+K]=m[S+K]+R[D+K]&255}function ir(m,S,R,D,z,q,W){if(m==null)Xt(null,null,R,D,z,q,W);else{var K,J=m[S+0],te=J,de=J;for(K=0;K<W;++K)te=de+(J=m[S+K])-te,de=R[D+K]+(-256&te?0>te?0:255:te)&255,te=J,z[q+K]=de}}function yn(m,S,R,D){var z=S.width,q=S.o;if(e(m!=null&&S!=null),0>R||0>=D||R+D>q)return null;if(!m.Cc){if(m.ga==null){var W;if(m.ga=new jt,(W=m.ga==null)||(W=S.width*S.o,e(m.Gb.length==0),m.Gb=a(W),m.Uc=0,m.Gb==null?W=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,W=1),W=!W),!W){W=m.ga;var K=m.Fa,J=m.P,te=m.qc,de=m.mb,Se=m.nb,ne=J+1,me=te-1,xe=W.l;if(e(K!=null&&de!=null&&S!=null),Lc[0]=null,Lc[1]=Xt,Lc[2]=dn,Lc[3]=ir,W.ca=de,W.tb=Se,W.c=S.width,W.i=S.height,e(0<W.c&&0<W.i),1>=te)S=0;else if(W.$a=3&K[J+0],W.Z=K[J+0]>>2&3,W.Lc=K[J+0]>>4&3,J=K[J+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||J)S=0;else if(xe.put=yt,xe.ac=Ci,xe.bc=zn,xe.ma=W,xe.width=S.width,xe.height=S.height,xe.Da=S.Da,xe.v=S.v,xe.va=S.va,xe.j=S.j,xe.o=S.o,W.$a)e:{e(W.$a==1),S=Ao();t:for(;;){if(S==null){S=0;break e}if(e(W!=null),W.mc=S,S.c=W.c,S.i=W.i,S.l=W.l,S.l.ma=W,S.l.width=W.c,S.l.height=W.i,S.a=0,ae(S.m,K,ne,me),!Ia(W.c,W.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&Ii(S.s)?(W.ic=1,K=S.c*S.i,S.Ta=null,S.Ua=0,S.V=a(K),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(W.ic=0,S=Ws(S,W.c)),!S))break t;S=1;break e}W.mc=null,S=0}else S=me>=W.c*W.i;W=!S}if(W)return null;m.ga.Lc!=1?m.Ga=0:D=q-R}e(m.ga!=null),e(R+D<=q);e:{if(S=(K=m.ga).c,q=K.l.o,K.$a==0){if(ne=m.rc,me=m.Vc,xe=m.Fa,J=m.P+1+R*S,te=m.mb,de=m.nb+R*S,e(J<=m.P+m.qc),K.Z!=0)for(e(Lc[K.Z]!=null),W=0;W<D;++W)Lc[K.Z](ne,me,xe,J,te,de,S),ne=te,me=de,de+=S,J+=S;else for(W=0;W<D;++W)r(te,de,xe,J,S),ne=te,me=de,de+=S,J+=S;m.rc=ne,m.Vc=me}else{if(e(K.mc!=null),S=R+D,e((W=K.mc)!=null),e(S<=W.i),W.C>=S)S=1;else if(K.ic||va(),K.ic){K=W.V,ne=W.Ba,me=W.c;var Pe=W.i,_e=(xe=1,J=W.$/me,te=W.$%me,de=W.m,Se=W.s,W.$),je=me*Pe,Ce=me*S,Fe=Se.wc,Re=_e<Ce?Zn(Se,te,J):null;e(_e<=je),e(S<=Pe),e(Ii(Se));t:for(;;){for(;!de.h&&_e<Ce;){if(te&Fe||(Re=Zn(Se,te,J)),e(Re!=null),ge(de),256>(Pe=Jn(Re.G[0],Re.H[0],de)))K[ne+_e]=Pe,++_e,++te>=me&&(te=0,++J<=S&&!(J%16)&&ta(W,J));else{if(!(280>Pe)){xe=0;break t}Pe=ai(Pe-256,de);var dt,Ze=Jn(Re.G[4],Re.H[4],de);if(ge(de),!(_e>=(Ze=si(me,Ze=ai(Ze,de)))&&je-_e>=Pe)){xe=0;break t}for(dt=0;dt<Pe;++dt)K[ne+_e+dt]=K[ne+_e+dt-Ze];for(_e+=Pe,te+=Pe;te>=me;)te-=me,++J<=S&&!(J%16)&&ta(W,J);_e<Ce&&te&Fe&&(Re=Zn(Se,te,J))}e(de.h==se(de))}ta(W,J>S?S:J);break t}!xe||de.h&&_e<je?(xe=0,W.a=de.h?5:3):W.$=_e,S=xe}else S=Oi(W,W.V,W.Ba,W.c,W.i,S,No);if(!S){D=0;break e}}R+D>=q&&(m.Cc=1),D=1}if(!D)return null;if(m.Cc&&((D=m.ga)!=null&&(D.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+R*z}function yr(m,S,R,D,z,q){for(;0<z--;){var W,K=m,J=S+(R?1:0),te=m,de=S+(R?0:3);for(W=0;W<D;++W){var Se=te[de+4*W];Se!=255&&(Se*=32897,K[J+4*W+0]=K[J+4*W+0]*Se>>23,K[J+4*W+1]=K[J+4*W+1]*Se>>23,K[J+4*W+2]=K[J+4*W+2]*Se>>23)}S+=q}}function ar(m,S,R,D,z){for(;0<D--;){var q;for(q=0;q<R;++q){var W=m[S+2*q+0],K=15&(te=m[S+2*q+1]),J=4369*K,te=(240&te|te>>4)*J>>16;m[S+2*q+0]=(240&W|W>>4)*J>>16&240|(15&W|W<<4)*J>>16>>4&15,m[S+2*q+1]=240&te|K}S+=z}}function vr(m,S,R,D,z,q,W,K){var J,te,de=255;for(te=0;te<z;++te){for(J=0;J<D;++J){var Se=m[S+J];q[W+4*J]=Se,de&=Se}S+=R,W+=K}return de!=255}function sr(m,S,R,D,z){var q;for(q=0;q<z;++q)R[D+q]=m[S+q]>>8}function va(){wm=yr,Wk=ar,Hk=vr,Gk=sr}function bs(m,S,R){k[m]=function(D,z,q,W,K,J,te,de,Se,ne,me,xe,Pe,_e,je,Ce,Fe){var Re,dt=Fe-1>>1,Ze=K[J+0]|te[de+0]<<16,Bt=Se[ne+0]|me[xe+0]<<16;e(D!=null);var ot=3*Ze+Bt+131074>>2;for(S(D[z+0],255&ot,ot>>16,Pe,_e),q!=null&&(ot=3*Bt+Ze+131074>>2,S(q[W+0],255&ot,ot>>16,je,Ce)),Re=1;Re<=dt;++Re){var en=K[J+Re]|te[de+Re]<<16,Kr=Se[ne+Re]|me[xe+Re]<<16,Ut=Ze+en+Bt+Kr+524296,lt=Ut+2*(en+Bt)>>3;ot=lt+Ze>>1,Ze=(Ut=Ut+2*(Ze+Kr)>>3)+en>>1,S(D[z+2*Re-1],255&ot,ot>>16,Pe,_e+(2*Re-1)*R),S(D[z+2*Re-0],255&Ze,Ze>>16,Pe,_e+(2*Re-0)*R),q!=null&&(ot=Ut+Bt>>1,Ze=lt+Kr>>1,S(q[W+2*Re-1],255&ot,ot>>16,je,Ce+(2*Re-1)*R),S(q[W+2*Re+0],255&Ze,Ze>>16,je,Ce+(2*Re+0)*R)),Ze=en,Bt=Kr}1&Fe||(ot=3*Ze+Bt+131074>>2,S(D[z+Fe-1],255&ot,ot>>16,Pe,_e+(Fe-1)*R),q!=null&&(ot=3*Bt+Ze+131074>>2,S(q[W+Fe-1],255&ot,ot>>16,je,Ce+(Fe-1)*R)))}}function xs(){Ss[Qv]=bH,Ss[Jv]=i3,Ss[Zk]=xH,Ss[Zv]=a3,Ss[e0]=s3,Ss[$w]=o3,Ss[e3]=wH,Ss[Bw]=i3,Ss[Uw]=a3,Ss[t0]=s3,Ss[Vw]=o3}function g(m){return m&-16384?0>m?0:255:m>>_H}function L(m,S){return g((19077*m>>8)+(26149*S>>8)-14234)}function F(m,S,R){return g((19077*m>>8)-(6419*S>>8)-(13320*R>>8)+8708)}function X(m,S){return g((19077*m>>8)+(33050*S>>8)-17685)}function be(m,S,R,D,z){D[z+0]=L(m,R),D[z+1]=F(m,S,R),D[z+2]=X(m,S)}function Ne(m,S,R,D,z){D[z+0]=X(m,S),D[z+1]=F(m,S,R),D[z+2]=L(m,R)}function Ve(m,S,R,D,z){var q=F(m,S,R);S=q<<3&224|X(m,S)>>3,D[z+0]=248&L(m,R)|q>>5,D[z+1]=S}function Zt(m,S,R,D,z){var q=240&X(m,S)|15;D[z+0]=240&L(m,R)|F(m,S,R)>>4,D[z+1]=q}function or(m,S,R,D,z){D[z+0]=255,be(m,S,R,D,z+1)}function Wt(m,S,R,D,z){Ne(m,S,R,D,z),D[z+3]=255}function ln(m,S,R,D,z){be(m,S,R,D,z),D[z+3]=255}function Dn(m,S,R){k[m]=function(D,z,q,W,K,J,te,de,Se){for(var ne=de+(-2&Se)*R;de!=ne;)S(D[z+0],q[W+0],K[J+0],te,de),S(D[z+1],q[W+0],K[J+0],te,de+R),z+=2,++W,++J,de+=2*R;1&Se&&S(D[z+0],q[W+0],K[J+0],te,de)}}function La(m,S,R){return R==0?m==0?S==0?6:5:S==0?4:0:R}function Ri(m,S,R,D,z){switch(m>>>30){case 3:df(S,R,D,z,0);break;case 2:ws(S,R,D,z);break;case 1:mn(S,R,D,z)}}function gi(m,S){var R,D,z=S.M,q=S.Nb,W=m.oc,K=m.pc+40,J=m.oc,te=m.pc+584,de=m.oc,Se=m.pc+600;for(R=0;16>R;++R)W[K+32*R-1]=129;for(R=0;8>R;++R)J[te+32*R-1]=129,de[Se+32*R-1]=129;for(0<z?W[K-1-32]=J[te-1-32]=de[Se-1-32]=129:(i(W,K-32-1,127,21),i(J,te-32-1,127,9),i(de,Se-32-1,127,9)),D=0;D<m.za;++D){var ne=S.ya[S.aa+D];if(0<D){for(R=-1;16>R;++R)r(W,K+32*R-4,W,K+32*R+12,4);for(R=-1;8>R;++R)r(J,te+32*R-4,J,te+32*R+4,4),r(de,Se+32*R-4,de,Se+32*R+4,4)}var me=m.Gd,xe=m.Hd+D,Pe=ne.ad,_e=ne.Hc;if(0<z&&(r(W,K-32,me[xe].y,0,16),r(J,te-32,me[xe].f,0,8),r(de,Se-32,me[xe].ea,0,8)),ne.Za){var je=W,Ce=K-32+16;for(0<z&&(D>=m.za-1?i(je,Ce,me[xe].y[15],4):r(je,Ce,me[xe+1].y,0,4)),R=0;4>R;R++)je[Ce+128+R]=je[Ce+256+R]=je[Ce+384+R]=je[Ce+0+R];for(R=0;16>R;++R,_e<<=2)je=W,Ce=K+c3[R],Ys[ne.Ob[R]](je,Ce),Ri(_e,Pe,16*+R,je,Ce)}else if(je=La(D,z,ne.Ob[0]),Rc[je](W,K),_e!=0)for(R=0;16>R;++R,_e<<=2)Ri(_e,Pe,16*+R,W,K+c3[R]);for(R=ne.Gc,je=La(D,z,ne.Dd),Al[je](J,te),Al[je](de,Se),_e=Pe,je=J,Ce=te,255&(ne=0|R)&&(170&ne?Ro(_e,256,je,Ce):Cn(_e,256,je,Ce)),ne=de,_e=Se,255&(R>>=8)&&(170&R?Ro(Pe,320,ne,_e):Cn(Pe,320,ne,_e)),z<m.Ub-1&&(r(me[xe].y,0,W,K+480,16),r(me[xe].f,0,J,te+224,8),r(me[xe].ea,0,de,Se+224,8)),R=8*q*m.B,me=m.sa,xe=m.ta+16*D+16*q*m.R,Pe=m.qa,ne=m.ra+8*D+R,_e=m.Ha,je=m.Ia+8*D+R,R=0;16>R;++R)r(me,xe+R*m.R,W,K+32*R,16);for(R=0;8>R;++R)r(Pe,ne+R*m.B,J,te+32*R,8),r(_e,je+R*m.B,de,Se+32*R,8)}}function Ks(m,S,R,D,z,q,W,K,J){var te=[0],de=[0],Se=0,ne=J!=null?J.kd:0,me=J??new Oe;if(m==null||12>R)return 7;me.data=m,me.w=S,me.ha=R,S=[S],R=[R],me.gb=[me.gb];e:{var xe=S,Pe=R,_e=me.gb;if(e(m!=null),e(Pe!=null),e(_e!=null),_e[0]=0,12<=Pe[0]&&!n(m,xe[0],"RIFF")){if(n(m,xe[0]+8,"WEBP")){_e=3;break e}var je=$e(m,xe[0]+4);if(12>je||4294967286<je){_e=3;break e}if(ne&&je>Pe[0]-8){_e=7;break e}_e[0]=je,xe[0]+=12,Pe[0]-=12}_e=0}if(_e!=0)return _e;for(je=0<me.gb[0],R=R[0];;){e:{var Ce=m;Pe=S,_e=R;var Fe=te,Re=de,dt=xe=[0];if((ot=Se=[Se])[0]=0,8>_e[0])_e=7;else{if(!n(Ce,Pe[0],"VP8X")){if($e(Ce,Pe[0]+4)!=10){_e=3;break e}if(18>_e[0]){_e=7;break e}var Ze=$e(Ce,Pe[0]+8),Bt=1+Le(Ce,Pe[0]+12);if(2147483648<=Bt*(Ce=1+Le(Ce,Pe[0]+15))){_e=3;break e}dt!=null&&(dt[0]=Ze),Fe!=null&&(Fe[0]=Bt),Re!=null&&(Re[0]=Ce),Pe[0]+=18,_e[0]-=18,ot[0]=1}_e=0}}if(Se=Se[0],xe=xe[0],_e!=0)return _e;if(Pe=!!(2&xe),!je&&Se)return 3;if(q!=null&&(q[0]=!!(16&xe)),W!=null&&(W[0]=Pe),K!=null&&(K[0]=0),W=te[0],xe=de[0],Se&&Pe&&J==null){_e=0;break}if(4>R){_e=7;break}if(je&&Se||!je&&!Se&&!n(m,S[0],"ALPH")){R=[R],me.na=[me.na],me.P=[me.P],me.Sa=[me.Sa];e:{Ze=m,_e=S,je=R;var ot=me.gb;Fe=me.na,Re=me.P,dt=me.Sa,Bt=22,e(Ze!=null),e(je!=null),Ce=_e[0];var en=je[0];for(e(Fe!=null),e(dt!=null),Fe[0]=null,Re[0]=null,dt[0]=0;;){if(_e[0]=Ce,je[0]=en,8>en){_e=7;break e}var Kr=$e(Ze,Ce+4);if(4294967286<Kr){_e=3;break e}var Ut=8+Kr+1&-2;if(Bt+=Ut,0<ot&&Bt>ot){_e=3;break e}if(!n(Ze,Ce,"VP8 ")||!n(Ze,Ce,"VP8L")){_e=0;break e}if(en[0]<Ut){_e=7;break e}n(Ze,Ce,"ALPH")||(Fe[0]=Ze,Re[0]=Ce+8,dt[0]=Kr),Ce+=Ut,en-=Ut}}if(R=R[0],me.na=me.na[0],me.P=me.P[0],me.Sa=me.Sa[0],_e!=0)break}R=[R],me.Ja=[me.Ja],me.xa=[me.xa];e:if(ot=m,_e=S,je=R,Fe=me.gb[0],Re=me.Ja,dt=me.xa,Ze=_e[0],Ce=!n(ot,Ze,"VP8 "),Bt=!n(ot,Ze,"VP8L"),e(ot!=null),e(je!=null),e(Re!=null),e(dt!=null),8>je[0])_e=7;else{if(Ce||Bt){if(ot=$e(ot,Ze+4),12<=Fe&&ot>Fe-12){_e=3;break e}if(ne&&ot>je[0]-8){_e=7;break e}Re[0]=ot,_e[0]+=8,je[0]-=8,dt[0]=Bt}else dt[0]=5<=je[0]&&ot[Ze+0]==47&&!(ot[Ze+4]>>5),Re[0]=je[0];_e=0}if(R=R[0],me.Ja=me.Ja[0],me.xa=me.xa[0],S=S[0],_e!=0)break;if(4294967286<me.Ja)return 3;if(K==null||Pe||(K[0]=me.xa?2:1),W=[W],xe=[xe],me.xa){if(5>R){_e=7;break}K=W,ne=xe,Pe=q,m==null||5>R?m=0:5<=R&&m[S+0]==47&&!(m[S+4]>>5)?(je=[0],ot=[0],Fe=[0],ae(Re=new H,m,S,R),fs(Re,je,ot,Fe)?(K!=null&&(K[0]=je[0]),ne!=null&&(ne[0]=ot[0]),Pe!=null&&(Pe[0]=Fe[0]),m=1):m=0):m=0}else{if(10>R){_e=7;break}K=xe,m==null||10>R||!Pd(m,S+3,R-3)?m=0:(ne=m[S+0]|m[S+1]<<8|m[S+2]<<16,Pe=16383&(m[S+7]<<8|m[S+6]),m=16383&(m[S+9]<<8|m[S+8]),1&ne||3<(ne>>1&7)||!(ne>>4&1)||ne>>5>=me.Ja||!Pe||!m?m=0:(W&&(W[0]=Pe),K&&(K[0]=m),m=1))}if(!m||(W=W[0],xe=xe[0],Se&&(te[0]!=W||de[0]!=xe)))return 3;J!=null&&(J[0]=me,J.offset=S-J.w,e(4294967286>S-J.w),e(J.offset==J.ha-R));break}return _e==0||_e==7&&Se&&J==null?(q!=null&&(q[0]|=me.na!=null&&0<me.na.length),D!=null&&(D[0]=W),z!=null&&(z[0]=xe),0):_e}function hm(m,S,R){var D=S.width,z=S.height,q=0,W=0,K=D,J=z;if(S.Da=m!=null&&0<m.Da,S.Da&&(K=m.cd,J=m.bd,q=m.v,W=m.j,11>R||(q&=-2,W&=-2),0>q||0>W||0>=K||0>=J||q+K>D||W+J>z))return 0;if(S.v=q,S.j=W,S.va=q+K,S.o=W+J,S.U=K,S.T=J,S.da=m!=null&&0<m.da,S.da){if(!Je(K,J,R=[m.ib],q=[m.hb]))return 0;S.ib=R[0],S.hb=q[0]}return S.ob=m!=null&&m.ob,S.Kb=m==null||!m.Sd,S.da&&(S.ob=S.ib<3*D/4&&S.hb<3*z/4,S.Kb=0),1}function pm(m){if(m==null)return 2;if(11>m.S){var S=m.f.RGBA;S.fb+=(m.height-1)*S.A,S.A=-S.A}else S=m.f.kb,m=m.height,S.O+=(m-1)*S.fa,S.fa=-S.fa,S.N+=(m-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(m-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(m-1)*S.lb,S.lb=-S.lb);return 0}function Pc(m,S,R,D){if(D==null||0>=m||0>=S)return 2;if(R!=null){if(R.Da){var z=R.cd,q=R.bd,W=-2&R.v,K=-2&R.j;if(0>W||0>K||0>=z||0>=q||W+z>m||K+q>S)return 2;m=z,S=q}if(R.da){if(!Je(m,S,z=[R.ib],q=[R.hb]))return 2;m=z[0],S=q[0]}}D.width=m,D.height=S;e:{var J=D.width,te=D.height;if(m=D.S,0>=J||0>=te||!(m>=Qv&&13>m))m=2;else{if(0>=D.Rd&&D.sd==null){W=q=z=S=0;var de=(K=J*u3[m])*te;if(11>m||(q=(te+1)/2*(S=(J+1)/2),m==12&&(W=(z=J)*te)),(te=a(de+2*q+W))==null){m=1;break e}D.sd=te,11>m?((J=D.f.RGBA).eb=te,J.fb=0,J.A=K,J.size=de):((J=D.f.kb).y=te,J.O=0,J.fa=K,J.Fd=de,J.f=te,J.N=0+de,J.Ab=S,J.Cd=q,J.ea=te,J.W=0+de+q,J.Db=S,J.Ed=q,m==12&&(J.F=te,J.J=0+de+2*q),J.Tc=W,J.lb=z)}if(S=1,z=D.S,q=D.width,W=D.height,z>=Qv&&13>z)if(11>z)m=D.f.RGBA,S&=(K=Math.abs(m.A))*(W-1)+q<=m.size,S&=K>=q*u3[z],S&=m.eb!=null;else{m=D.f.kb,K=(q+1)/2,de=(W+1)/2,J=Math.abs(m.fa),te=Math.abs(m.Ab);var Se=Math.abs(m.Db),ne=Math.abs(m.lb),me=ne*(W-1)+q;S&=J*(W-1)+q<=m.Fd,S&=te*(de-1)+K<=m.Cd,S=(S&=Se*(de-1)+K<=m.Ed)&J>=q&te>=K&Se>=K,S&=m.y!=null,S&=m.f!=null,S&=m.ea!=null,z==12&&(S&=ne>=q,S&=me<=m.Tc,S&=m.F!=null)}else S=0;m=S?0:2}}return m!=0||R!=null&&R.fd&&(m=pm(D)),m}var uf=64,Ma=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Da=24,Tc=32,_l=8,kc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];qe("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(m){return m},k.Predictor2=function(m,S,R){return S[R+0]},k.Predictor3=function(m,S,R){return S[R+1]},k.Predictor4=function(m,S,R){return S[R-1]},k.Predictor5=function(m,S,R){return tt(tt(m,S[R+1]),S[R+0])},k.Predictor6=function(m,S,R){return tt(m,S[R-1])},k.Predictor7=function(m,S,R){return tt(m,S[R+0])},k.Predictor8=function(m,S,R){return tt(S[R-1],S[R+0])},k.Predictor9=function(m,S,R){return tt(S[R+0],S[R+1])},k.Predictor10=function(m,S,R){return tt(tt(m,S[R-1]),tt(S[R+0],S[R+1]))},k.Predictor11=function(m,S,R){var D=S[R+0];return 0>=ut(D>>24&255,m>>24&255,(S=S[R-1])>>24&255)+ut(D>>16&255,m>>16&255,S>>16&255)+ut(D>>8&255,m>>8&255,S>>8&255)+ut(255&D,255&m,255&S)?D:m},k.Predictor12=function(m,S,R){var D=S[R+0];return(zt((m>>24&255)+(D>>24&255)-((S=S[R-1])>>24&255))<<24|zt((m>>16&255)+(D>>16&255)-(S>>16&255))<<16|zt((m>>8&255)+(D>>8&255)-(S>>8&255))<<8|zt((255&m)+(255&D)-(255&S)))>>>0},k.Predictor13=function(m,S,R){var D=S[R-1];return(Ct((m=tt(m,S[R+0]))>>24&255,D>>24&255)<<24|Ct(m>>16&255,D>>16&255)<<16|Ct(m>>8&255,D>>8&255)<<8|Ct(255&m,255&D))>>>0};var mm=k.PredictorAdd0;k.PredictorAdd1=xt,qe("Predictor2","PredictorAdd2"),qe("Predictor3","PredictorAdd3"),qe("Predictor4","PredictorAdd4"),qe("Predictor5","PredictorAdd5"),qe("Predictor6","PredictorAdd6"),qe("Predictor7","PredictorAdd7"),qe("Predictor8","PredictorAdd8"),qe("Predictor9","PredictorAdd9"),qe("Predictor10","PredictorAdd10"),qe("Predictor11","PredictorAdd11"),qe("Predictor12","PredictorAdd12"),qe("Predictor13","PredictorAdd13");var Rd=k.PredictorAdd2;ft("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var jr,Kv=k.ColorIndexInverseTransform,Io=k.MapARGB,Oo=k.VP8LColorIndexInverseTransformAlpha,gm=k.MapAlpha,ym=k.VP8LPredictorsAdd=[];ym.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var vm,bm,jc,Cc,Ic,ff,Oc,df,ws,Ro,mn,Cn,Cr,Gr,Sl,xm,Ld,Yv,$k,Bk,Uk,Vk,zk,qk,wm,Wk,Hk,Gk,Kk=a(511),Yk=a(2041),Xk=a(225),Qk=a(767),Jk=0,Fw=Yk,Xv=Xk,Fa=Qk,_s=Kk,Qv=0,Jv=1,Zk=2,Zv=3,e0=4,$w=5,e3=6,Bw=7,Uw=8,t0=9,Vw=10,aH=[2,3,7],sH=[3,3,11],t3=[280,256,256,256,40],oH=[0,1,1,1,0],lH=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],cH=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],uH=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],fH=8,zw=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],qw=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],_m=null,dH=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],hH=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],n3=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],pH=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],mH=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],gH=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],yH=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Rc=[],Ys=[],Al=[],vH=1,r3=2,Lc=[],Ss=[];bs("UpsampleRgbLinePair",be,3),bs("UpsampleBgrLinePair",Ne,3),bs("UpsampleRgbaLinePair",ln,4),bs("UpsampleBgraLinePair",Wt,4),bs("UpsampleArgbLinePair",or,4),bs("UpsampleRgba4444LinePair",Zt,2),bs("UpsampleRgb565LinePair",Ve,2);var bH=k.UpsampleRgbLinePair,xH=k.UpsampleBgrLinePair,i3=k.UpsampleRgbaLinePair,a3=k.UpsampleBgraLinePair,s3=k.UpsampleArgbLinePair,o3=k.UpsampleRgba4444LinePair,wH=k.UpsampleRgb565LinePair,n0=16,r0=1<<n0-1,Sm=-227,Ww=482,_H=6,l3=0,SH=a(256),AH=a(256),NH=a(256),EH=a(256),PH=a(Ww-Sm),TH=a(Ww-Sm);Dn("YuvToRgbRow",be,3),Dn("YuvToBgrRow",Ne,3),Dn("YuvToRgbaRow",ln,4),Dn("YuvToBgraRow",Wt,4),Dn("YuvToArgbRow",or,4),Dn("YuvToRgba4444Row",Zt,2),Dn("YuvToRgb565Row",Ve,2);var c3=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],i0=[0,2,8],kH=[8,7,6,4,4,2,2,2,1,1,1,1],jH=1;this.WebPDecodeRGBA=function(m,S,R,D,z){var q=Jv,W=new ke,K=new Ft;W.ba=K,K.S=q,K.width=[K.width],K.height=[K.height];var J=K.width,te=K.height,de=new mt;if(de==null||m==null)var Se=2;else e(de!=null),Se=Ks(m,S,R,de.width,de.height,de.Pd,de.Qd,de.format,null);if(Se!=0?J=0:(J!=null&&(J[0]=de.width[0]),te!=null&&(te[0]=de.height[0]),J=1),J){K.width=K.width[0],K.height=K.height[0],D!=null&&(D[0]=K.width),z!=null&&(z[0]=K.height);e:{if(D=new Po,(z=new Oe).data=m,z.w=S,z.ha=R,z.kd=1,S=[0],e(z!=null),((m=Ks(z.data,z.w,z.ha,null,null,null,S,null,z))==0||m==7)&&S[0]&&(m=4),(S=m)==0){if(e(W!=null),D.data=z.data,D.w=z.w+z.offset,D.ha=z.ha-z.offset,D.put=yt,D.ac=Ci,D.bc=zn,D.ma=W,z.xa){if((m=Ao())==null){W=1;break e}if(function(ne,me){var xe=[0],Pe=[0],_e=[0];t:for(;;){if(ne==null)return 0;if(me==null)return ne.a=2,0;if(ne.l=me,ne.a=0,ae(ne.m,me.data,me.w,me.ha),!fs(ne.m,xe,Pe,_e)){ne.a=3;break t}if(ne.xb=r3,me.width=xe[0],me.height=Pe[0],!Ia(xe[0],Pe[0],1,ne,null))break t;return 1}return e(ne.a!=0),0}(m,D)){if(D=(S=Pc(D.width,D.height,W.Oa,W.ba))==0){t:{D=m;n:for(;;){if(D==null){D=0;break t}if(e(D.s.yc!=null),e(D.s.Ya!=null),e(0<D.s.Wb),e((R=D.l)!=null),e((z=R.ma)!=null),D.xb!=0){if(D.ca=z.ba,D.tb=z.tb,e(D.ca!=null),!hm(z.Oa,R,Zv)){D.a=2;break n}if(!Ws(D,R.width)||R.da)break n;if((R.da||vt(D.ca.S))&&va(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&va()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!Q(D.s.vb,D.s.Wa.Xa)){D.a=1;break n}D.xb=0}if(!Oi(D,D.V,D.Ba,D.c,D.i,R.o,So))break n;z.Dc=D.Ma,D=1;break t}e(D.a!=0),D=0}D=!D}D&&(S=m.a)}else S=m.a}else{if((m=new Ed)==null){W=1;break e}if(m.Fa=z.na,m.P=z.P,m.qc=z.Sa,ds(m,D)){if((S=Pc(D.width,D.height,W.Oa,W.ba))==0){if(m.Aa=0,R=W.Oa,e((z=m)!=null),R!=null){if(0<(J=0>(J=R.Md)?0:100<J?255:255*J/100)){for(te=de=0;4>te;++te)12>(Se=z.pb[te]).lc&&(Se.ia=J*kH[0>Se.lc?0:Se.lc]>>3),de|=Se.ia;de&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=R.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}(function(ne,me){if(ne==null)return 0;if(me==null)return rr(ne,2,"NULL VP8Io parameter in VP8Decode().");if(!ne.cb&&!ds(ne,me))return 0;if(e(ne.cb),me.ac==null||me.ac(me)){me.ob&&(ne.L=0);var xe=i0[ne.L];if(ne.L==2?(ne.yb=0,ne.zb=0):(ne.yb=me.v-xe>>4,ne.zb=me.j-xe>>4,0>ne.yb&&(ne.yb=0),0>ne.zb&&(ne.zb=0)),ne.Va=me.o+15+xe>>4,ne.Hb=me.va+15+xe>>4,ne.Hb>ne.za&&(ne.Hb=ne.za),ne.Va>ne.Ub&&(ne.Va=ne.Ub),0<ne.L){var Pe=ne.ed;for(xe=0;4>xe;++xe){var _e;if(ne.Qa.Cb){var je=ne.Qa.Lb[xe];ne.Qa.Fb||(je+=Pe.Tb)}else je=Pe.Tb;for(_e=0;1>=_e;++_e){var Ce=ne.gd[xe][_e],Fe=je;if(Pe.Pc&&(Fe+=Pe.vd[0],_e&&(Fe+=Pe.od[0])),0<(Fe=0>Fe?0:63<Fe?63:Fe)){var Re=Fe;0<Pe.wb&&(Re=4<Pe.wb?Re>>2:Re>>1)>9-Pe.wb&&(Re=9-Pe.wb),1>Re&&(Re=1),Ce.dd=Re,Ce.tc=2*Fe+Re,Ce.ld=40<=Fe?2:15<=Fe?1:0}else Ce.tc=0;Ce.La=_e}}}xe=0}else rr(ne,6,"Frame setup failed"),xe=ne.a;if(xe=xe==0){if(xe){ne.$c=0,0<ne.Aa||(ne.Ic=jH);t:{xe=ne.Ic,Pe=4*(Re=ne.za);var dt=32*Re,Ze=Re+1,Bt=0<ne.L?Re*(0<ne.Aa?2:1):0,ot=(ne.Aa==2?2:1)*Re;if((Ce=Pe+832+(_e=3*(16*xe+i0[ne.L])/2*dt)+(je=ne.Fa!=null&&0<ne.Fa.length?ne.Kc.c*ne.Kc.i:0))!=Ce)xe=0;else{if(Ce>ne.Vb){if(ne.Vb=0,ne.Ec=a(Ce),ne.Fc=0,ne.Ec==null){xe=rr(ne,1,"no memory during frame initialization.");break t}ne.Vb=Ce}Ce=ne.Ec,Fe=ne.Fc,ne.Ac=Ce,ne.Bc=Fe,Fe+=Pe,ne.Gd=s(dt,tf),ne.Hd=0,ne.rb=s(Ze+1,Oa),ne.sb=1,ne.wa=Bt?s(Bt,oi):null,ne.Y=0,ne.D.Nb=0,ne.D.wa=ne.wa,ne.D.Y=ne.Y,0<ne.Aa&&(ne.D.Y+=Re),e(!0),ne.oc=Ce,ne.pc=Fe,Fe+=832,ne.ya=s(ot,Zu),ne.aa=0,ne.D.ya=ne.ya,ne.D.aa=ne.aa,ne.Aa==2&&(ne.D.aa+=Re),ne.R=16*Re,ne.B=8*Re,Re=(dt=i0[ne.L])*ne.R,dt=dt/2*ne.B,ne.sa=Ce,ne.ta=Fe+Re,ne.qa=ne.sa,ne.ra=ne.ta+16*xe*ne.R+dt,ne.Ha=ne.qa,ne.Ia=ne.ra+8*xe*ne.B+dt,ne.$c=0,Fe+=_e,ne.mb=je?Ce:null,ne.nb=je?Fe:null,e(Fe+je<=ne.Fc+ne.Vb),rf(ne),i(ne.Ac,ne.Bc,0,Pe),xe=1}}if(xe){if(me.ka=0,me.y=ne.sa,me.O=ne.ta,me.f=ne.qa,me.N=ne.ra,me.ea=ne.Ha,me.Vd=ne.Ia,me.fa=ne.R,me.Rc=ne.B,me.F=null,me.J=0,!Jk){for(xe=-255;255>=xe;++xe)Kk[255+xe]=0>xe?-xe:xe;for(xe=-1020;1020>=xe;++xe)Yk[1020+xe]=-128>xe?-128:127<xe?127:xe;for(xe=-112;112>=xe;++xe)Xk[112+xe]=-16>xe?-16:15<xe?15:xe;for(xe=-255;510>=xe;++xe)Qk[255+xe]=0>xe?0:255<xe?255:xe;Jk=1}Oc=hs,df=Td,Ro=Yt,mn=vl,Cn=To,ws=wc,Cr=Ec,Gr=vs,Sl=V,xm=ee,Ld=cf,Yv=T,$k=oe,Bk=ye,Uk=Co,Vk=na,zk=lf,qk=Od,Ys[0]=fm,Ys[1]=kd,Ys[2]=cm,Ys[3]=um,Ys[4]=li,Ys[5]=dm,Ys[6]=Hs,Ys[7]=Sc,Ys[8]=Ac,Ys[9]=Gs,Rc[0]=ps,Rc[1]=lm,Rc[2]=af,Rc[3]=jd,Rc[4]=ko,Rc[5]=_c,Rc[6]=Cd,Al[0]=sf,Al[1]=om,Al[2]=Ra,Al[3]=xl,Al[4]=of,Al[5]=En,Al[6]=Id,xe=1}else xe=0}xe&&(xe=function(en,Kr){for(en.M=0;en.M<en.Va;++en.M){var Ut,lt=en.Jc[en.M&en.Xb],Ge=en.m,Ir=en;for(Ut=0;Ut<Ir.za;++Ut){var Mt=Ge,nn=Ir,qn=nn.Ac,yi=nn.Bc+4*Ut,ia=nn.zc,br=nn.ya[nn.aa+Ut];if(nn.Qa.Bb?br.$b=we(Mt,nn.Pa.jb[0])?2+we(Mt,nn.Pa.jb[2]):we(Mt,nn.Pa.jb[1]):br.$b=0,nn.kc&&(br.Ad=we(Mt,nn.Bd)),br.Za=!we(Mt,145)+0,br.Za){var Li=br.Ob,aa=0;for(nn=0;4>nn;++nn){var Yr,an=ia[0+nn];for(Yr=0;4>Yr;++Yr){an=mH[qn[yi+Yr]][an];for(var vn=n3[we(Mt,an[0])];0<vn;)vn=n3[2*vn+we(Mt,an[vn])];an=-vn,qn[yi+Yr]=an}r(Li,aa,qn,yi,4),aa+=4,ia[0+nn]=an}}else an=we(Mt,156)?we(Mt,128)?1:3:we(Mt,163)?2:0,br.Ob[0]=an,i(qn,yi,an,4),i(ia,0,an,4);br.Dd=we(Mt,142)?we(Mt,114)?we(Mt,183)?1:3:2:0}if(Ir.m.Ka)return rr(en,7,"Premature end-of-partition0 encountered.");for(;en.ja<en.za;++en.ja){if(Ir=lt,Mt=(Ge=en).rb[Ge.sb-1],qn=Ge.rb[Ge.sb+Ge.ja],Ut=Ge.ya[Ge.aa+Ge.ja],yi=Ge.kc?Ut.Ad:0)Mt.la=qn.la=0,Ut.Za||(Mt.Na=qn.Na=0),Ut.Hc=0,Ut.Gc=0,Ut.ia=0;else{var xr,bn;if(Mt=qn,qn=Ir,yi=Ge.Pa.Xc,ia=Ge.ya[Ge.aa+Ge.ja],br=Ge.pb[ia.$b],nn=ia.ad,Li=0,aa=Ge.rb[Ge.sb-1],an=Yr=0,i(nn,Li,0,384),ia.Za)var vi=0,Xs=yi[3];else{vn=a(16);var Or=Mt.Na+aa.Na;if(Or=_m(qn,yi[1],Or,br.Eb,0,vn,0),Mt.Na=aa.Na=(0<Or)+0,1<Or)Oc(vn,0,nn,Li);else{var ba=vn[0]+3>>3;for(vn=0;256>vn;vn+=16)nn[Li+vn]=ba}vi=1,Xs=yi[0]}var In=15&Mt.la,Xr=15&aa.la;for(vn=0;4>vn;++vn){var $a=1&Xr;for(ba=bn=0;4>ba;++ba)In=In>>1|($a=(Or=_m(qn,Xs,Or=$a+(1&In),br.Sc,vi,nn,Li))>vi)<<7,bn=bn<<2|(3<Or?3:1<Or?2:nn[Li+0]!=0),Li+=16;In>>=4,Xr=Xr>>1|$a<<7,Yr=(Yr<<8|bn)>>>0}for(Xs=In,vi=Xr>>4,xr=0;4>xr;xr+=2){for(bn=0,In=Mt.la>>4+xr,Xr=aa.la>>4+xr,vn=0;2>vn;++vn){for($a=1&Xr,ba=0;2>ba;++ba)Or=$a+(1&In),In=In>>1|($a=0<(Or=_m(qn,yi[2],Or,br.Qc,0,nn,Li)))<<3,bn=bn<<2|(3<Or?3:1<Or?2:nn[Li+0]!=0),Li+=16;In>>=2,Xr=Xr>>1|$a<<5}an|=bn<<4*xr,Xs|=In<<4<<xr,vi|=(240&Xr)<<xr}Mt.la=Xs,aa.la=vi,ia.Hc=Yr,ia.Gc=an,ia.ia=43690&an?0:br.ia,yi=!(Yr|an)}if(0<Ge.L&&(Ge.wa[Ge.Y+Ge.ja]=Ge.gd[Ut.$b][Ut.Za],Ge.wa[Ge.Y+Ge.ja].La|=!yi),Ir.Ka)return rr(en,7,"Premature end-of-file encountered.")}if(rf(en),Ge=Kr,Ir=1,Ut=(lt=en).D,Mt=0<lt.L&&lt.M>=lt.zb&&lt.M<=lt.Va,lt.Aa==0)t:{if(Ut.M=lt.M,Ut.uc=Mt,gi(lt,Ut),Ir=1,Ut=(bn=lt.D).Nb,Mt=(an=i0[lt.L])*lt.R,qn=an/2*lt.B,vn=16*Ut*lt.R,ba=8*Ut*lt.B,yi=lt.sa,ia=lt.ta-Mt+vn,br=lt.qa,nn=lt.ra-qn+ba,Li=lt.Ha,aa=lt.Ia-qn+ba,Xr=(In=bn.M)==0,Yr=In>=lt.Va-1,lt.Aa==2&&gi(lt,bn),bn.uc)for($a=(Or=lt).D.M,e(Or.D.uc),bn=Or.yb;bn<Or.Hb;++bn){vi=bn,Xs=$a;var sa=(Ba=(bi=Or).D).Nb;xr=bi.R;var Ba=Ba.wa[Ba.Y+vi],Ua=bi.sa,xa=bi.ta+16*sa*xr+16*vi,Va=Ba.dd,Fn=Ba.tc;if(Fn!=0)if(e(3<=Fn),bi.L==1)0<vi&&Vk(Ua,xa,xr,Fn+4),Ba.La&&qk(Ua,xa,xr,Fn),0<Xs&&Uk(Ua,xa,xr,Fn+4),Ba.La&&zk(Ua,xa,xr,Fn);else{var za=bi.B,Qs=bi.qa,hf=bi.ra+8*sa*za+8*vi,Nl=bi.Ha,bi=bi.Ia+8*sa*za+8*vi;sa=Ba.ld,0<vi&&(Gr(Ua,xa,xr,Fn+4,Va,sa),xm(Qs,hf,Nl,bi,za,Fn+4,Va,sa)),Ba.La&&(Yv(Ua,xa,xr,Fn,Va,sa),Bk(Qs,hf,Nl,bi,za,Fn,Va,sa)),0<Xs&&(Cr(Ua,xa,xr,Fn+4,Va,sa),Sl(Qs,hf,Nl,bi,za,Fn+4,Va,sa)),Ba.La&&(Ld(Ua,xa,xr,Fn,Va,sa),$k(Qs,hf,Nl,bi,za,Fn,Va,sa))}}if(lt.ia&&alert("todo:DitherRow"),Ge.put!=null){if(bn=16*In,In=16*(In+1),Xr?(Ge.y=lt.sa,Ge.O=lt.ta+vn,Ge.f=lt.qa,Ge.N=lt.ra+ba,Ge.ea=lt.Ha,Ge.W=lt.Ia+ba):(bn-=an,Ge.y=yi,Ge.O=ia,Ge.f=br,Ge.N=nn,Ge.ea=Li,Ge.W=aa),Yr||(In-=an),In>Ge.o&&(In=Ge.o),Ge.F=null,Ge.J=null,lt.Fa!=null&&0<lt.Fa.length&&bn<In&&(Ge.J=yn(lt,Ge,bn,In-bn),Ge.F=lt.mb,Ge.F==null&&Ge.F.length==0)){Ir=rr(lt,3,"Could not decode alpha data.");break t}bn<Ge.j&&(an=Ge.j-bn,bn=Ge.j,e(!(1&an)),Ge.O+=lt.R*an,Ge.N+=lt.B*(an>>1),Ge.W+=lt.B*(an>>1),Ge.F!=null&&(Ge.J+=Ge.width*an)),bn<In&&(Ge.O+=Ge.v,Ge.N+=Ge.v>>1,Ge.W+=Ge.v>>1,Ge.F!=null&&(Ge.J+=Ge.v),Ge.ka=bn-Ge.j,Ge.U=Ge.va-Ge.v,Ge.T=In-bn,Ir=Ge.put(Ge))}Ut+1!=lt.Ic||Yr||(r(lt.sa,lt.ta-Mt,yi,ia+16*lt.R,Mt),r(lt.qa,lt.ra-qn,br,nn+8*lt.B,qn),r(lt.Ha,lt.Ia-qn,Li,aa+8*lt.B,qn))}if(!Ir)return rr(en,6,"Output aborted.")}return 1}(ne,me)),me.bc!=null&&me.bc(me),xe&=1}return xe?(ne.cb=0,xe):0})(m,D)||(S=m.a)}}else S=m.a}S==0&&W.Oa!=null&&W.Oa.fd&&(S=pm(W.ba))}W=S}q=W!=0?null:11>q?K.f.RGBA.eb:K.f.kb.y}else q=null;return q};var u3=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(k,M){for(var P="",I=0;I<4;I++)P+=String.fromCharCode(k[M++]);return P}function u(k,M){return k[M+0]|k[M+1]<<8}function f(k,M){return(k[M+0]|k[M+1]<<8|k[M+2]<<16)>>>0}function h(k,M){return(k[M+0]|k[M+1]<<8|k[M+2]<<16|k[M+3]<<24)>>>0}new l;var p=[0],y=[0],b=[],x=new l,v=t,w=function(k,M){var P={},I=0,j=!1,B=0,G=0;if(P.frames=[],!function($,H){for(var ie=0;ie<4;ie++)if($[H+ie]!="RIFF".charCodeAt(ie))return!0;return!1}(k,M)){for(h(k,M+=4),M+=8;M<k.length;){var Z=c(k,M),re=h(k,M+=4);M+=4;var Y=re+(1&re);switch(Z){case"VP8 ":case"VP8L":P.frames[I]===void 0&&(P.frames[I]={}),(he=P.frames[I]).src_off=j?G:M-8,he.src_size=B+re+8,I++,j&&(j=!1,B=0,G=0);break;case"VP8X":(he=P.header={}).feature_flags=k[M];var ae=M+4;he.canvas_width=1+f(k,ae),ae+=3,he.canvas_height=1+f(k,ae),ae+=3;break;case"ALPH":j=!0,B=Y+8,G=M-8;break;case"ANIM":(he=P.header).bgcolor=h(k,M),ae=M+4,he.loop_count=u(k,ae),ae+=2;break;case"ANMF":var ue,he;(he=P.frames[I]={}).offset_x=2*f(k,M),M+=3,he.offset_y=2*f(k,M),M+=3,he.width=1+f(k,M),M+=3,he.height=1+f(k,M),M+=3,he.duration=f(k,M),M+=3,ue=k[M++],he.dispose=1&ue,he.blend=ue>>1&1}Z!="ANMF"&&(M+=Y)}return P}}(v,0);w.response=v,w.rgbaoutput=!0,w.dataurl=!1;var _=w.header?w.header:null,A=w.frames?w.frames:null;if(_){_.loop_counter=_.loop_count,p=[_.canvas_height],y=[_.canvas_width];for(var E=0;E<A.length&&A[E].blend!=0;E++);}var O=A[0],C=x.WebPDecodeRGBA(v,O.src_off,O.src_size,y,p);O.rgba=C,O.imgwidth=y[0],O.imgheight=p[0];for(var N=0;N<y[0]*p[0]*4;N++)b[N]=C[N];return this.width=y,this.height=p,this.data=b,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function xLe(){var t,e=this.internal.__metadata__.metadata,n=unescape(encodeURIComponent(e));t=this.internal.__metadata__.rawXml?n:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function wLe(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var e,n,r,i,a,s,o,l,c,u=function($){return $=$||{},this.isStrokeTransparent=$.isStrokeTransparent||!1,this.strokeOpacity=$.strokeOpacity||1,this.strokeStyle=$.strokeStyle||"#000000",this.fillStyle=$.fillStyle||"#000000",this.isFillTransparent=$.isFillTransparent||!1,this.fillOpacity=$.fillOpacity||1,this.font=$.font||"10px sans-serif",this.textBaseline=$.textBaseline||"alphabetic",this.textAlign=$.textAlign||"left",this.lineWidth=$.lineWidth||1,this.lineJoin=$.lineJoin||"miter",this.lineCap=$.lineCap||"butt",this.path=$.path||[],this.transform=$.transform!==void 0?$.transform.clone():new l,this.globalCompositeOperation=$.globalCompositeOperation||"normal",this.globalAlpha=$.globalAlpha||1,this.clip_path=$.clip_path||[],this.currentPoint=$.currentPoint||new s,this.miterLimit=$.miterLimit||10,this.lastPoint=$.lastPoint||new s,this.lineDashOffset=$.lineDashOffset||0,this.lineDash=$.lineDash||[],this.margin=$.margin||[0,0,0,0],this.prevPageLastElemOffset=$.prevPageLastElemOffset||0,this.ignoreClearRect=typeof $.ignoreClearRect!="boolean"||$.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function($){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=$;Object.defineProperty(this,"pdf",{get:function(){return H}});var ie=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ie},set:function(Q){ie=!!Q}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(Q){se=!!Q}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(Q){isNaN(Q)||(le=Q)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(Q){isNaN(Q)||(ge=Q)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Q){var Me;typeof Q=="number"?Me=[Q,Q,Q,Q]:((Me=new Array(4))[0]=Q[0],Me[1]=Q.length>=2?Q[1]:Me[0],Me[2]=Q.length>=3?Q[2]:Me[0],Me[3]=Q.length>=4?Q[3]:Me[1]),c.margin=Me}});var Ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ae},set:function(Q){Ae=Q}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(Q){fe=Q}});var we=[];Object.defineProperty(this,"pageBreaks",{get:function(){return we},set:function(Q){we=Q}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Q){Q instanceof u&&(c=Q)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Q){c.path=Q}});var Ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ee},set:function(Q){Ee=Q}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Q){var Me;Me=h(Q),this.ctx.fillStyle=Me.style,this.ctx.isFillTransparent=Me.a===0,this.ctx.fillOpacity=Me.a,this.pdf.setFillColor(Me.r,Me.g,Me.b,{a:Me.a}),this.pdf.setTextColor(Me.r,Me.g,Me.b,{a:Me.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Q){var Me=h(Q);this.ctx.strokeStyle=Me.style,this.ctx.isStrokeTransparent=Me.a===0,this.ctx.strokeOpacity=Me.a,Me.a===0?this.pdf.setDrawColor(255,255,255):(Me.a,this.pdf.setDrawColor(Me.r,Me.g,Me.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Q){["butt","round","square"].indexOf(Q)!==-1&&(this.ctx.lineCap=Q,this.pdf.setLineCap(Q))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Q){isNaN(Q)||(this.ctx.lineWidth=Q,this.pdf.setLineWidth(Q))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Q){["bevel","round","miter"].indexOf(Q)!==-1&&(this.ctx.lineJoin=Q,this.pdf.setLineJoin(Q))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Q){isNaN(Q)||(this.ctx.miterLimit=Q,this.pdf.setMiterLimit(Q))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Q){this.ctx.textBaseline=Q}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Q){["right","end","center","left","start"].indexOf(Q)!==-1&&(this.ctx.textAlign=Q)}});var ve=null,Le=null,$e=null;Object.defineProperty(this,"fontFaces",{get:function(){return $e},set:function(Q){ve=null,Le=null,$e=Q}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Q){var Me;if(this.ctx.font=Q,(Me=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Q))!==null){var ct=Me[1];Me[2];var Je=Me[3],ce=Me[4];Me[5];var Be=Me[6],qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ce)[2];ce=Math.floor(qe==="px"?parseFloat(ce)*this.pdf.internal.scaleFactor:qe==="em"?parseFloat(ce)*this.pdf.getFontSize():parseFloat(ce)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ce);var et=function(ft){var kn,Kt,Dt=[],Lt=ft.trim();if(Lt==="")return Y_;if(Lt in gD)return[gD[Lt]];for(;Lt!=="";){switch(Kt=null,kn=(Lt=vD(Lt)).charAt(0)){case'"':case"'":Kt=pLe(Lt.substring(1),kn);break;default:Kt=mLe(Lt)}if(Kt===null||(Dt.push(Kt[0]),(Lt=vD(Kt[1]))!==""&&Lt.charAt(0)!==","))return Y_;Lt=Lt.replace(/^,/,"")}return Dt}(Be);if(this.fontFaces){var tt=function(ft,kn){var Kt=ft.getFontList(),Dt=JSON.stringify(Kt);if(ve===null||Le!==Dt){var Lt=function(Mn){var pt=[];return Object.keys(Mn).forEach(function(hn){Mn[hn].forEach(function(vt){var Pt=null;switch(vt){case"bold":Pt={family:hn,weight:"bold"};break;case"italic":Pt={family:hn,style:"italic"};break;case"bolditalic":Pt={family:hn,weight:"bold",style:"italic"};break;case"":case"normal":Pt={family:hn}}Pt!==null&&(Pt.ref={name:hn,style:vt},pt.push(Pt))})}),pt}(Kt);ve=function(Mn){for(var pt={},hn=0;hn<Mn.length;++hn){var vt=K_(Mn[hn]),Pt=vt.family,pn=vt.stretch,Ft=vt.style,mt=vt.weight;pt[Pt]=pt[Pt]||{},pt[Pt][pn]=pt[Pt][pn]||{},pt[Pt][pn][Ft]=pt[Pt][pn][Ft]||{},pt[Pt][pn][Ft][mt]=vt}return pt}(Lt.concat(kn)),Le=Dt}return ve}(this.pdf,this.fontFaces),zt=et.map(function(ft){return{family:ft,stretch:"normal",weight:Je,style:ct}}),Ct=function(ft,kn,Kt){for(var Dt=(Kt=Kt||{}).defaultFontFamily||"times",Lt=Object.assign({},hLe,Kt.genericFontFamilies||{}),Mn=null,pt=null,hn=0;hn<kn.length;++hn)if(Lt[(Mn=K_(kn[hn])).family]&&(Mn.family=Lt[Mn.family]),ft.hasOwnProperty(Mn.family)){pt=ft[Mn.family];break}if(!(pt=pt||ft[Dt]))throw new Error("Could not find a font-family for the rule '"+yD(Mn)+"' and default family '"+Dt+"'.");if(pt=function(vt,Pt){if(Pt[vt])return Pt[vt];var pn=ME[vt],Ft=pn<=ME.normal?-1:1,mt=mD(Pt,XW,pn,Ft);if(!mt)throw new Error("Could not find a matching font-stretch value for "+vt);return mt}(Mn.stretch,pt),pt=function(vt,Pt){if(Pt[vt])return Pt[vt];for(var pn=YW[vt],Ft=0;Ft<pn.length;++Ft)if(Pt[pn[Ft]])return Pt[pn[Ft]];throw new Error("Could not find a matching font-style for "+vt)}(Mn.style,pt),!(pt=function(vt,Pt){if(Pt[vt])return Pt[vt];if(vt===400&&Pt[500])return Pt[500];if(vt===500&&Pt[400])return Pt[400];var pn=dLe[vt],Ft=mD(Pt,QW,pn,vt<400?-1:1);if(!Ft)throw new Error("Could not find a matching font-weight for value "+vt);return Ft}(Mn.weight,pt)))throw new Error("Failed to resolve a font for the rule '"+yD(Mn)+"'.");return pt}(tt,zt);this.pdf.setFont(Ct.ref.name,Ct.ref.style)}else{var ut="";(Je==="bold"||parseInt(Je,10)>=700||ct==="bold")&&(ut="bold"),ct==="italic"&&(ut+="italic"),ut.length===0&&(ut="normal");for(var xt="",$t={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},it=0;it<et.length;it++){if(this.pdf.internal.getFont(et[it],ut,{noFallback:!0,disableWarning:!0})!==void 0){xt=et[it];break}if(ut==="bolditalic"&&this.pdf.internal.getFont(et[it],"bold",{noFallback:!0,disableWarning:!0})!==void 0)xt=et[it],ut="bold";else if(this.pdf.internal.getFont(et[it],"normal",{noFallback:!0,disableWarning:!0})!==void 0){xt=et[it],ut="normal";break}}if(xt===""){for(var kt=0;kt<et.length;kt++)if($t[et[kt]]){xt=$t[et[kt]];break}}xt=xt===""?"Times":xt,this.pdf.setFont(xt,ut)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Q){this.ctx.globalCompositeOperation=Q}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Q){this.ctx.globalAlpha=Q}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Q){this.ctx.lineDashOffset=Q,he.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Q){this.ctx.lineDash=Q,he.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Q){this.ctx.ignoreClearRect=!!Q}})};f.prototype.setLineDash=function($){this.lineDash=$},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){A.call(this,"fill",!1)},f.prototype.stroke=function(){A.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function($,H){if(isNaN($)||isNaN(H))throw On.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ie=this.ctx.transform.applyToPoint(new s($,H));this.path.push({type:"mt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new s($,H)},f.prototype.closePath=function(){var $=new s(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&_n(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){$=new s(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s($.x,$.y)},f.prototype.lineTo=function($,H){if(isNaN($)||isNaN(H))throw On.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ie=this.ctx.transform.applyToPoint(new s($,H));this.path.push({type:"lt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new s(ie.x,ie.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},f.prototype.quadraticCurveTo=function($,H,ie,se){if(isNaN(ie)||isNaN(se)||isNaN($)||isNaN(H))throw On.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new s(ie,se)),ge=this.ctx.transform.applyToPoint(new s($,H));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:le.x,y:le.y}),this.ctx.lastPoint=new s(le.x,le.y)},f.prototype.bezierCurveTo=function($,H,ie,se,le,ge){if(isNaN(le)||isNaN(ge)||isNaN($)||isNaN(H)||isNaN(ie)||isNaN(se))throw On.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ae=this.ctx.transform.applyToPoint(new s(le,ge)),fe=this.ctx.transform.applyToPoint(new s($,H)),we=this.ctx.transform.applyToPoint(new s(ie,se));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:we.x,y2:we.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new s(Ae.x,Ae.y)},f.prototype.arc=function($,H,ie,se,le,ge){if(isNaN($)||isNaN(H)||isNaN(ie)||isNaN(se)||isNaN(le))throw On.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var Ae=this.ctx.transform.applyToPoint(new s($,H));$=Ae.x,H=Ae.y;var fe=this.ctx.transform.applyToPoint(new s(0,ie)),we=this.ctx.transform.applyToPoint(new s(0,0));ie=Math.sqrt(Math.pow(fe.x-we.x,2)+Math.pow(fe.y-we.y,2))}Math.abs(le-se)>=2*Math.PI&&(se=0,le=2*Math.PI),this.path.push({type:"arc",x:$,y:H,radius:ie,startAngle:se,endAngle:le,counterclockwise:ge})},f.prototype.arcTo=function($,H,ie,se,le){throw new Error("arcTo not implemented.")},f.prototype.rect=function($,H,ie,se){if(isNaN($)||isNaN(H)||isNaN(ie)||isNaN(se))throw On.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo($,H),this.lineTo($+ie,H),this.lineTo($+ie,H+se),this.lineTo($,H+se),this.lineTo($,H),this.lineTo($+ie,H),this.lineTo($,H)},f.prototype.fillRect=function($,H,ie,se){if(isNaN($)||isNaN(H)||isNaN(ie)||isNaN(se))throw On.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect($,H,ie,se),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},f.prototype.strokeRect=function($,H,ie,se){if(isNaN($)||isNaN(H)||isNaN(ie)||isNaN(se))throw On.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect($,H,ie,se),this.stroke())},f.prototype.clearRect=function($,H,ie,se){if(isNaN($)||isNaN(H)||isNaN(ie)||isNaN(se))throw On.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect($,H,ie,se))},f.prototype.save=function($){$=typeof $!="boolean"||$;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),$){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},f.prototype.restore=function($){$=typeof $!="boolean"||$;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("Q");this.pdf.setPage(H),$&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function($){var H,ie,se,le;if($.isCanvasGradient===!0&&($=$.getColor()),!$)return{r:0,g:0,b:0,a:0,style:$};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test($))H=0,ie=0,se=0,le=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec($);if(ge!==null)H=parseInt(ge[1]),ie=parseInt(ge[2]),se=parseInt(ge[3]),le=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec($))!==null)H=parseInt(ge[1]),ie=parseInt(ge[2]),se=parseInt(ge[3]),le=parseFloat(ge[4]);else{if(le=1,typeof $=="string"&&$.charAt(0)!=="#"){var Ae=new VW($);$=Ae.ok?Ae.toHex():"#000000"}$.length===4?(H=$.substring(1,2),H+=H,ie=$.substring(2,3),ie+=ie,se=$.substring(3,4),se+=se):(H=$.substring(1,3),ie=$.substring(3,5),se=$.substring(5,7)),H=parseInt(H,16),ie=parseInt(ie,16),se=parseInt(se,16)}}return{r:H,g:ie,b:se,a:le,style:$}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function($,H,ie,se){if(isNaN(H)||isNaN(ie)||typeof $!="string")throw On.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!p.call(this)){var le=Y(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;I.call(this,{text:$,x:H,y:ie,scale:ge,angle:le,align:this.textAlign,maxWidth:se})}},f.prototype.strokeText=function($,H,ie,se){if(isNaN(H)||isNaN(ie)||typeof $!="string")throw On.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){se=isNaN(se)?void 0:se;var le=Y(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;I.call(this,{text:$,x:H,y:ie,scale:ge,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:se})}},f.prototype.measureText=function($){if(typeof $!="string")throw On.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,ie=this.pdf.internal.scaleFactor,se=H.internal.getFontSize(),le=H.getStringUnitWidth($)*se/H.internal.scaleFactor;return new function(ge){var Ae=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ae}}),this}({width:le*=Math.round(96*ie/72*1e4)/1e4})},f.prototype.scale=function($,H){if(isNaN($)||isNaN(H))throw On.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ie=new l($,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(ie)},f.prototype.rotate=function($){if(isNaN($))throw On.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new l(Math.cos($),Math.sin($),-Math.sin($),Math.cos($),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},f.prototype.translate=function($,H){if(isNaN($)||isNaN(H))throw On.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ie=new l(1,0,0,1,$,H);this.ctx.transform=this.ctx.transform.multiply(ie)},f.prototype.transform=function($,H,ie,se,le,ge){if(isNaN($)||isNaN(H)||isNaN(ie)||isNaN(se)||isNaN(le)||isNaN(ge))throw On.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ae=new l($,H,ie,se,le,ge);this.ctx.transform=this.ctx.transform.multiply(Ae)},f.prototype.setTransform=function($,H,ie,se,le,ge){$=isNaN($)?1:$,H=isNaN(H)?0:H,ie=isNaN(ie)?0:ie,se=isNaN(se)?1:se,le=isNaN(le)?0:le,ge=isNaN(ge)?0:ge,this.ctx.transform=new l($,H,ie,se,le,ge)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function($,H,ie,se,le,ge,Ae,fe,we){var Ee=this.pdf.getImageProperties($),ve=1,Le=1,$e=1,Q=1;se!==void 0&&fe!==void 0&&($e=fe/se,Q=we/le,ve=Ee.width/se*fe/se,Le=Ee.height/le*we/le),ge===void 0&&(ge=H,Ae=ie,H=0,ie=0),se!==void 0&&fe===void 0&&(fe=se,we=le),se===void 0&&fe===void 0&&(fe=Ee.width,we=Ee.height);var Me=this.ctx.transform.decompose(),ct=Y(Me.rotate.shx),Je=new l,ce=(Je=(Je=(Je=Je.multiply(Me.translate)).multiply(Me.skew)).multiply(Me.scale)).applyToRectangle(new o(ge-H*$e,Ae-ie*Q,se*ve,le*Le));if(this.autoPaging){for(var Be,qe=x.call(this,ce),et=[],tt=0;tt<qe.length;tt+=1)et.indexOf(qe[tt])===-1&&et.push(qe[tt]);_(et);for(var zt=et[0],Ct=et[et.length-1],ut=zt;ut<Ct+1;ut++){this.pdf.setPage(ut);var xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$t=ut===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ft=ut===1?0:it+(ut-2)*kt;if(this.ctx.clip_path.length!==0){var kn=this.path;Be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Be,this.posX+this.margin[3],-ft+$t+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=kn}var Kt=JSON.parse(JSON.stringify(ce));Kt=w([Kt],this.posX+this.margin[3],-ft+$t+this.ctx.prevPageLastElemOffset)[0];var Dt=(ut>zt||ut<Ct)&&b.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,kt,null).clip().discardPath()),this.pdf.addImage($,"JPEG",Kt.x,Kt.y,Kt.w,Kt.h,null,null,ct),Dt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage($,"JPEG",ce.x,ce.y,ce.w,ce.h,null,null,ct)};var x=function($,H,ie){var se=[];H=H||this.pdf.internal.pageSize.width,ie=ie||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch($.type){default:case"mt":case"lt":se.push(Math.floor(($.y+le)/ie)+1);break;case"arc":se.push(Math.floor(($.y+le-$.radius)/ie)+1),se.push(Math.floor(($.y+le+$.radius)/ie)+1);break;case"qct":var ge=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x,$.y);se.push(Math.floor((ge.y+le)/ie)+1),se.push(Math.floor((ge.y+ge.h+le)/ie)+1);break;case"bct":var Ae=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x2,$.y2,$.x,$.y);se.push(Math.floor((Ae.y+le)/ie)+1),se.push(Math.floor((Ae.y+Ae.h+le)/ie)+1);break;case"rect":se.push(Math.floor(($.y+le)/ie)+1),se.push(Math.floor(($.y+$.h+le)/ie)+1)}for(var fe=0;fe<se.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<se[fe];)v.call(this);return se},v=function(){var $=this.fillStyle,H=this.strokeStyle,ie=this.font,se=this.lineCap,le=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=$,this.strokeStyle=H,this.font=ie,this.lineCap=se,this.lineWidth=le,this.lineJoin=ge},w=function($,H,ie){for(var se=0;se<$.length;se++)switch($[se].type){case"bct":$[se].x2+=H,$[se].y2+=ie;case"qct":$[se].x1+=H,$[se].y1+=ie;default:$[se].x+=H,$[se].y+=ie}return $},_=function($){return $.sort(function(H,ie){return H-ie})},A=function($,H){var ie=this.fillStyle,se=this.strokeStyle,le=this.lineCap,ge=this.lineWidth,Ae=Math.abs(ge*this.ctx.transform.scaleX),fe=this.lineJoin;if(this.autoPaging){for(var we,Ee,ve=JSON.parse(JSON.stringify(this.path)),Le=JSON.parse(JSON.stringify(this.path)),$e=[],Q=0;Q<Le.length;Q++)if(Le[Q].x!==void 0)for(var Me=x.call(this,Le[Q]),ct=0;ct<Me.length;ct+=1)$e.indexOf(Me[ct])===-1&&$e.push(Me[ct]);for(var Je=0;Je<$e.length;Je++)for(;this.pdf.internal.getNumberOfPages()<$e[Je];)v.call(this);_($e);for(var ce=$e[0],Be=$e[$e.length-1],qe=ce;qe<Be+1;qe++){this.pdf.setPage(qe),this.fillStyle=ie,this.strokeStyle=se,this.lineCap=le,this.lineWidth=Ae,this.lineJoin=fe;var et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tt=qe===1?this.posY+this.margin[0]:this.margin[0],zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=qe===1?0:zt+(qe-2)*Ct;if(this.ctx.clip_path.length!==0){var xt=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(we,this.posX+this.margin[3],-ut+tt+this.ctx.prevPageLastElemOffset),E.call(this,$,!0),this.path=xt}if(Ee=JSON.parse(JSON.stringify(ve)),this.path=w(Ee,this.posX+this.margin[3],-ut+tt+this.ctx.prevPageLastElemOffset),H===!1||qe===0){var $t=(qe>ce||qe<Be)&&b.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,Ct,null).clip().discardPath()),E.call(this,$,H),$t&&this.pdf.restoreGraphicsState()}this.lineWidth=ge}this.path=ve}else this.lineWidth=Ae,E.call(this,$,H),this.lineWidth=ge},E=function($,H){if(($!=="stroke"||H||!y.call(this))&&($==="stroke"||H||!p.call(this))){for(var ie,se,le=[],ge=this.path,Ae=0;Ae<ge.length;Ae++){var fe=ge[Ae];switch(fe.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:fe,deltas:[],abs:[]});break;case"lt":var we=le.length;if(ge[Ae-1]&&!isNaN(ge[Ae-1].x)&&(ie=[fe.x-ge[Ae-1].x,fe.y-ge[Ae-1].y],we>0)){for(;we>=0;we--)if(le[we-1].close!==!0&&le[we-1].begin!==!0){le[we-1].deltas.push(ie),le[we-1].abs.push(fe);break}}break;case"bct":ie=[fe.x1-ge[Ae-1].x,fe.y1-ge[Ae-1].y,fe.x2-ge[Ae-1].x,fe.y2-ge[Ae-1].y,fe.x-ge[Ae-1].x,fe.y-ge[Ae-1].y],le[le.length-1].deltas.push(ie);break;case"qct":var Ee=ge[Ae-1].x+2/3*(fe.x1-ge[Ae-1].x),ve=ge[Ae-1].y+2/3*(fe.y1-ge[Ae-1].y),Le=fe.x+2/3*(fe.x1-fe.x),$e=fe.y+2/3*(fe.y1-fe.y),Q=fe.x,Me=fe.y;ie=[Ee-ge[Ae-1].x,ve-ge[Ae-1].y,Le-ge[Ae-1].x,$e-ge[Ae-1].y,Q-ge[Ae-1].x,Me-ge[Ae-1].y],le[le.length-1].deltas.push(ie);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(fe)}}se=H?null:$==="stroke"?"stroke":"fill";for(var ct=!1,Je=0;Je<le.length;Je++)if(le[Je].arc)for(var ce=le[Je].abs,Be=0;Be<ce.length;Be++){var qe=ce[Be];qe.type==="arc"?N.call(this,qe.x,qe.y,qe.radius,qe.startAngle,qe.endAngle,qe.counterclockwise,void 0,H,!ct):j.call(this,qe.x,qe.y),ct=!0}else if(le[Je].close===!0)this.pdf.internal.out("h"),ct=!1;else if(le[Je].begin!==!0){var et=le[Je].start.x,tt=le[Je].start.y;B.call(this,le[Je].deltas,et,tt),ct=!0}se&&k.call(this,se),H&&M.call(this)}},O=function($){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ie=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return $-ie;case"top":return $+H-ie;case"hanging":return $+H-2*ie;case"middle":return $+H/2-ie;default:return $}},C=function($){return $+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var $=function(){};return $.colorStops=[],$.addColorStop=function(H,ie){this.colorStops.push([H,ie])},$.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},$.isCanvasGradient=!0,$},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function($,H,ie,se,le,ge,Ae,fe,we){for(var Ee=Z.call(this,ie,se,le,ge),ve=0;ve<Ee.length;ve++){var Le=Ee[ve];ve===0&&(we?P.call(this,Le.x1+$,Le.y1+H):j.call(this,Le.x1+$,Le.y1+H)),G.call(this,$,H,Le.x2,Le.y2,Le.x3,Le.y3,Le.x4,Le.y4)}fe?M.call(this):k.call(this,Ae)},k=function($){switch($){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},P=function($,H){this.pdf.internal.out(n($)+" "+r(H)+" m")},I=function($){var H;switch($.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var ie,se,le,ge=this.pdf.getTextDimensions($.text),Ae=O.call(this,$.y),fe=C.call(this,Ae)-ge.h,we=this.ctx.transform.applyToPoint(new s($.x,Ae));if(this.autoPaging){var Ee=this.ctx.transform.decompose(),ve=new l;ve=(ve=(ve=ve.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale);for(var Le=this.ctx.transform.applyToRectangle(new o($.x,Ae,ge.w,ge.h)),$e=ve.applyToRectangle(new o($.x,fe,ge.w,ge.h)),Q=x.call(this,$e),Me=[],ct=0;ct<Q.length;ct+=1)Me.indexOf(Q[ct])===-1&&Me.push(Q[ct]);_(Me);for(var Je=Me[0],ce=Me[Me.length-1],Be=Je;Be<ce+1;Be++){this.pdf.setPage(Be);var qe=Be===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[2],zt=tt-this.margin[0],Ct=this.pdf.internal.pageSize.width-this.margin[1],ut=Ct-this.margin[3],xt=Be===1?0:et+(Be-2)*zt;if(this.ctx.clip_path.length!==0){var $t=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ie,this.posX+this.margin[3],-1*xt+qe),E.call(this,"fill",!0),this.path=$t}var it=w([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-xt+qe+this.ctx.prevPageLastElemOffset)[0];$.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*$.scale),le=this.lineWidth,this.lineWidth=le*$.scale);var kt=this.autoPaging!=="text";if(kt||it.y+it.h<=tt){if(kt||it.y>=qe&&it.x<=Ct){var ft=kt?$.text:this.pdf.splitTextToSize($.text,$.maxWidth||Ct-it.x)[0],kn=w([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-xt+qe+this.ctx.prevPageLastElemOffset)[0],Kt=kt&&(Be>Je||Be<ce)&&b.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,zt,null).clip().discardPath()),this.pdf.text(ft,kn.x,kn.y,{angle:$.angle,align:H,renderingMode:$.renderingMode}),Kt&&this.pdf.restoreGraphicsState()}}else it.y<tt&&(this.ctx.prevPageLastElemOffset+=tt-it.y);$.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=le)}}else $.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*$.scale),le=this.lineWidth,this.lineWidth=le*$.scale),this.pdf.text($.text,we.x+this.posX,we.y+this.posY,{angle:$.angle,align:H,renderingMode:$.renderingMode,maxWidth:$.maxWidth}),$.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=le)},j=function($,H,ie,se){ie=ie||0,se=se||0,this.pdf.internal.out(n($+ie)+" "+r(H+se)+" l")},B=function($,H,ie){return this.pdf.lines($,H,ie,null,null)},G=function($,H,ie,se,le,ge,Ae,fe){this.pdf.internal.out([e(i(ie+$)),e(a(se+H)),e(i(le+$)),e(a(ge+H)),e(i(Ae+$)),e(a(fe+H)),"c"].join(" "))},Z=function($,H,ie,se){for(var le=2*Math.PI,ge=Math.PI/2;H>ie;)H-=le;var Ae=Math.abs(ie-H);Ae<le&&se&&(Ae=le-Ae);for(var fe=[],we=se?-1:1,Ee=H;Ae>1e-5;){var ve=Ee+we*Math.min(Ae,ge);fe.push(re.call(this,$,Ee,ve)),Ae-=Math.abs(ve-Ee),Ee=ve}return fe},re=function($,H,ie){var se=(ie-H)/2,le=$*Math.cos(se),ge=$*Math.sin(se),Ae=le,fe=-ge,we=Ae*Ae+fe*fe,Ee=we+Ae*le+fe*ge,ve=4/3*(Math.sqrt(2*we*Ee)-Ee)/(Ae*ge-fe*le),Le=Ae-ve*fe,$e=fe+ve*Ae,Q=Le,Me=-$e,ct=se+H,Je=Math.cos(ct),ce=Math.sin(ct);return{x1:$*Math.cos(H),y1:$*Math.sin(H),x2:Le*Je-$e*ce,y2:Le*ce+$e*Je,x3:Q*Je-Me*ce,y3:Q*ce+Me*Je,x4:$*Math.cos(ie),y4:$*Math.sin(ie)}},Y=function($){return 180*$/Math.PI},ae=function($,H,ie,se,le,ge){var Ae=$+.5*(ie-$),fe=H+.5*(se-H),we=le+.5*(ie-le),Ee=ge+.5*(se-ge),ve=Math.min($,le,Ae,we),Le=Math.max($,le,Ae,we),$e=Math.min(H,ge,fe,Ee),Q=Math.max(H,ge,fe,Ee);return new o(ve,$e,Le-ve,Q-$e)},ue=function($,H,ie,se,le,ge,Ae,fe){var we,Ee,ve,Le,$e,Q,Me,ct,Je,ce,Be,qe,et,tt,zt=ie-$,Ct=se-H,ut=le-ie,xt=ge-se,$t=Ae-le,it=fe-ge;for(Ee=0;Ee<41;Ee++)Je=(Me=(ve=$+(we=Ee/40)*zt)+we*(($e=ie+we*ut)-ve))+we*($e+we*(le+we*$t-$e)-Me),ce=(ct=(Le=H+we*Ct)+we*((Q=se+we*xt)-Le))+we*(Q+we*(ge+we*it-Q)-ct),Ee==0?(Be=Je,qe=ce,et=Je,tt=ce):(Be=Math.min(Be,Je),qe=Math.min(qe,ce),et=Math.max(et,Je),tt=Math.max(tt,ce));return new o(Math.round(Be),Math.round(qe),Math.round(et-Be),Math.round(tt-qe))},he=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var $,H,ie=($=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:$,lineDashOffset:H}));this.prevLineDash!==ie&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ie)}}})(ht.API),function(t){var e=function(s){var o,l,c,u,f,h,p,y,b,x;for(l=[],c=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(f=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(h=(f=((f=((f=((f=(f-(x=f%85))/85)-(b=f%85))/85)-(y=f%85))/85)-(p=f%85))/85)%85,l.push(h+33,p+33,y+33,b+33,x+33)):l.push(122);return function(v,w){for(var _=w;_>0;_--)v.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(s){var o,l,c,u,f,h=String,p="length",y=255,b="charCodeAt",x="slice",v="replace";for(s[x](-2),s=s[x](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),c=[],u=0,f=(s+=o="uuuuu"[x](s[p]%5||5))[p];f>u;u+=5)l=52200625*(s[b](u)-33)+614125*(s[b](u+1)-33)+7225*(s[b](u+2)-33)+85*(s[b](u+3)-33)+(s[b](u+4)-33),c.push(y&l>>24,y&l>>16,y&l>>8,y&l);return function(w,_){for(var A=_;A>0;A--)w.pop()}(c,o[p]),h.fromCharCode.apply(h,c)},r=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=kE(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,o){var l=0,c=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(ht.API),function(t){t.loadFile=function(e,n,r){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,h=0,p=function(y){var b=y.length,x=[],v=String.fromCharCode;for(h=0;h<b;h+=1)x.push(v(255&y.charCodeAt(h)));return x.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(p(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return p(f.responseText)}(i,a,s)}catch{}return o}(e,n,r)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile}(ht.API),function(t){function e(){return(Et.html2canvas?Promise.resolve(Et.html2canvas):j_(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Et.DOMPurify?Promise.resolve(Et.DOMPurify):j_(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=_n(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},a=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(o(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var y=u[p],b=y.src.find(function(x){return x.format==="truetype"});b&&c.addFont(b.url,y.ref.name,y.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,u),h}).then(u,f).then(function(h){return c.updateProgress(1),h})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:s.convert(Object.assign({},u),Promise.prototype),h=c.call(f,o,l);return s.convert(h,u.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ht.getPageSize=function(o,l,c){if(_n(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,h=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var y,b=0,x=0;if(p.hasOwnProperty(h))b=p[h][1]/f,x=p[h][0]/f;else try{b=c[1],x=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",x>b&&(y=x,x=b,b=y);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",b>x&&(y=x,x=b,b=y)}return{width:x,height:b,unit:l,k:f,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(K_):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}}(ht.API),ht.API.addJS=function(t){var e,n,r=function(i){for(var a="",s=0;s<i.length;s++){var o=i[s];if(o==="("||o===")"){for(var l=0,c=s-1;c>=0&&i[c]==="\\";c--)l++;a+=l%2==0?"\\"+o:o}else a+=o}return a}(t);return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&n!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=r.exec(s);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(a=0;a<c;a++){var f=n.internal.newObject();u.push(f);var h=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<u.length;a++)n.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(ht.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,a,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,b={width:0,height:0,numcomponents:1},x=4;x<y;x+=2){if(x+=p,e.indexOf(f.charCodeAt(x+1))!==-1){h=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),b={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:h,numcomponents:f.charCodeAt(x+9)};break}p=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(ht.API),ht.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=JRe(t,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,c=a.palette,u=a.depth;i=c&&l===1?function(N){for(var k=N.width,M=N.height,P=N.data,I=N.palette,j=N.depth,B=!1,G=[],Z=[],re=void 0,Y=!1,ae=0,ue=0;ue<I.length;ue++){var he=AM(I[ue],4),$=he[0],H=he[1],ie=he[2],se=he[3];G.push($,H,ie),se!=null&&(se===0?(ae++,Z.length<1&&Z.push(ue)):se<255&&(Y=!0))}if(Y||ae>1){B=!0,Z=void 0;var le=k*M;re=new Uint8Array(le);for(var ge=new DataView(P.buffer),Ae=0;Ae<le;Ae++){var fe=X_(ge,Ae,j),we=AM(I[fe],4)[3];re[Ae]=we}}else ae===0&&(Z=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:B?8:void 0,colorBytes:P,alphaBytes:re,needSMask:B,palette:G,mask:Z}}(a):l===2||l===4?function(N){for(var k=N.data,M=N.width,P=N.height,I=N.channels,j=N.depth,B=I===2?"DeviceGray":"DeviceRGB",G=I-1,Z=M*P,re=G,Y=Z*re,ae=1*Z,ue=Math.ceil(Y*j/8),he=Math.ceil(ae*j/8),$=new Uint8Array(ue),H=new Uint8Array(he),ie=new DataView(k.buffer),se=new DataView($.buffer),le=new DataView(H.buffer),ge=!1,Ae=0;Ae<Z;Ae++){for(var fe=Ae*I,we=0;we<re;we++)PD(se,X_(ie,fe+we,j),Ae*re+we,j);var Ee=X_(ie,fe+re,j);Ee<(1<<j)-1&&(ge=!0),PD(le,Ee,1*Ae,j)}return{colorSpace:B,colorsPerPixel:G,sMaskBitsPerComponent:ge?j:void 0,colorBytes:$,alphaBytes:H,needSMask:ge}}(a):function(N){var k=N.data,M=N.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:M,colorsPerPixel:M==="DeviceGray"?1:3,colorBytes:k instanceof Uint16Array?function(P){for(var I=P.length,j=new Uint8Array(2*I),B=new DataView(j.buffer,j.byteOffset,j.byteLength),G=0;G<I;G++)B.setUint16(2*G,P[G],!1);return j}(k):k,needSMask:!1}}(a);var f,h,p,y=i,b=y.colorSpace,x=y.colorsPerPixel,v=y.sMaskBitsPerComponent,w=y.colorBytes,_=y.alphaBytes,A=y.needSMask,E=y.palette,O=y.mask,C=null;return r!==ht.API.image_compression.NONE&&typeof kE=="function"?(C=function(N){var k;switch(N){case ht.API.image_compression.FAST:k=11;break;case ht.API.image_compression.MEDIUM:k=13;break;case ht.API.image_compression.SLOW:k=14;break;default:k=12}return k}(r),f=this.decode.FLATE_DECODE,h="/Predictor ".concat(C," /Colors ").concat(x," /BitsPerComponent ").concat(u," /Columns ").concat(s),t=_D(w,Math.ceil(s*x*u/8),x,u,r),A&&(p=_D(_,Math.ceil(s*v/8),1,v,r))):(f=void 0,h=void 0,t=w,A&&(p=_)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:f,decodeParameters:h,transparency:O,palette:E,sMask:p,predictor:C,width:s,height:o,bitsPerComponent:u,sMaskBitsPerComponent:v,colorSpace:b}}},function(t){t.processGIF89A=function(e,n,r,i){var a=new bLe(e),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new Q_(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A}(ht.API),eo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},eo.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[t]()}catch(n){On.log("bit decode error:"+n)}},eo.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}n!==0&&(this.pos+=4-n)}},eo.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,o=a>>4,l=15&a,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},eo.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},eo.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,c=a>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=t}},eo.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&n)/n*255|0,c=(s>>11)/e*255|0,u=i*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},eo.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},eo.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=s}},eo.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var a=new eo(e,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new Q_(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(ht.API),kD.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var a=new kD(e),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new Q_(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(ht.API),ht.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=r[c],f=r[c+1],h=r[c+2],p=r[c+3];a[o++]=u,a[o++]=f,a[o++]=h,s[l++]=p}var y=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:y,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ht.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},qd=ht.API,h1=qd.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=e.doKerning!==!1,h=0,p=t.length,y=0,b=o[0]||l,x=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(h=f&&_n(c[r])==="object"&&!isNaN(parseInt(c[r][y],10))?c[r][y]/u:0,x.push((o[r]||b)/l+h)),y=r;return x},bD=qd.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return qd.processArabic&&(t=qd.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:h1.apply(this,arguments).reduce(function(a,s){return a+s},0)},xD=function(t,e,n,r){for(var i=[],a=0,s=t.length,o=0;a!==s&&o+e[a]<n;)o+=e[a],a++;i.push(t.slice(0,a));var l=a;for(o=0;a!==s;)o+e[a]>r&&(i.push(t.slice(l,a)),o=0,l=a),o+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},wD=function(t,e,n){n||(n={});var r,i,a,s,o,l,c,u=[],f=[u],h=n.textIndent||0,p=0,y=0,b=t.split(" "),x=h1.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var v=Array(l).join(" "),w=[];b.map(function(A){(A=A.split(/\s*\n/)).length>1?w=w.concat(A.map(function(E,O){return(O&&E.length?`
`:"")+E})):w.push(A[0])}),b=w,l=bD.apply(this,[v,n])}for(a=0,s=b.length;a<s;a++){var _=0;if(r=b[a],l&&r[0]==`
`&&(r=r.substr(1),_=1),h+p+(y=(i=h1.apply(this,[r,n])).reduce(function(A,E){return A+E},0))>e||_){if(y>e){for(o=xD.apply(this,[r,i,e-(h+p),e]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);y=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(A,E){return A+E},0)}else u=[r];f.push(u),h=y+l,p=x}else u.push(r),h+=p+y,p=x}return c=l?function(A,E){return(E?v:"")+A.join(" ")}:function(A){return A.join(" ")},f.map(c)},qd.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),h="Unicode";return f.metadata[h]?{widths:f.metadata[h].widths||{0:1},kerning:f.metadata[h].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(wD.apply(this,[r[o],s,a]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[n[a]]=e[a],i[e[a]]=n[a];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=t.__fontmetrics__.compress=function(h){var p,y,b,x,v=["{"];for(var w in h){if(p=h[w],isNaN(parseInt(w,10))?y="'"+w+"'":(w=parseInt(w,10),y=(y=s(w).slice(2)).slice(0,-1)+i[y.slice(-1)]),typeof p=="number")p<0?(b=s(p).slice(3),x="-"):(b=s(p).slice(2),x=""),b=x+b.slice(0,-1)+i[b.slice(-1)];else{if(_n(p)!=="object")throw new Error("Don't know what to do with value type "+_n(p)+".");b=o(p)}v.push(y+b)}return v.push("}"),v.join("")},l=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,y,b,x,v={},w=1,_=v,A=[],E="",O="",C=h.length-1,N=1;N<C;N+=1)(x=h[N])=="'"?p?(b=p.join(""),p=void 0):p=[]:p?p.push(x):x=="{"?(A.push([_,b]),_={},b=void 0):x=="}"?((y=A.pop())[0][y[1]]=_,b=void 0,_=y[0]):x=="-"?w=-1:b===void 0?r.hasOwnProperty(x)?(E+=r[x],b=parseInt(E,16)*w,w=1,E=""):E+=x:r.hasOwnProperty(x)?(O+=r[x],_[b]=parseInt(O,16)*w,w=1,b=void 0,O=""):O+=x;return v},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var p=h.font,y=f.Unicode[p.postScriptName];y&&(p.metadata.Unicode={},p.metadata.Unicode.widths=y.widths,p.metadata.Unicode.kerning=y.kerning);var b=u.Unicode[p.postScriptName];b&&(p.metadata.Unicode.encoding=b,p.encoding=b.codePages[0])}])}(ht.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(V1(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(ht),ht.API.addSvgAsImage=function(t,e,n,r,i,a,s,o){if(isNaN(e)||isNaN(n))throw On.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw On.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Et.canvg?Promise.resolve(Et.canvg):j_(()=>import("./index.es-BjCcMrpL.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(u)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,s,o)})},ht.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ht.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function h(y,b){var x,v=!1;for(x=0;x<y.length;x+=1)y[x]===b&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=o.length;for(f=0;f<p;f+=1)n[o[f]].value=n[o[f]].defaultValue,n[o[f]].explicitSet=!1}if(_n(t)==="object"){for(i in t)if(a=t[i],h(o,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&h(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(c=0;c<a.length;c+=1)if(r=!0,a[c].length===1&&typeof a[c][0]=="number")l.push(String(a[c]-1));else if(a[c].length>1){for(u=0;u<a[c].length;u+=1)typeof a[c][u]!="number"&&(r=!1);r===!0&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,b=[];for(y in n)n[y].explicitSet===!0&&(n[y].type==="name"?b.push("/"+y+" /"+n[y].value):b.push("/"+y+" "+n[y].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},ht.API.addMetadata=function(t,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",wLe),this.internal.events.subscribe("postPutResources",xLe)),this},function(t){var e=t.API,n=e.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,h=a.length;f<h;++f){if(o=s.metadata.characterToGlyph(a.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},r=function(a){var s,o,l,c,u,f,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(o=Object.keys(a).sort(function(p,y){return p-y})).length;f<h;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(c=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",y=0;y<h.length;y++)p+=String.fromCharCode(h[y]);var b=c();u({data:p,addLength1:!0,objectId:b}),l("endobj");var x=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Jd(o.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Jd(o.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+Jd(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var y=c();u({data:h,addLength1:!0,objectId:y}),l("endobj");var b=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var x=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Jd(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Jd(o.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,c=a.y,u=a.options||{},f=a.mutex||{},h=f.pdfEscape,p=f.activeFontKey,y=f.fonts,b=p,x="",v=0,w="",_=y[b].encoding;if(y[b].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(w=o,b=p,Array.isArray(o)&&(w=o[0]),v=0;v<w.length;v+=1)y[b].metadata.hasOwnProperty("cmap")&&(s=y[b].metadata.cmap.unicode.codeMap[w[v].charCodeAt(0)]),s||w[v].charCodeAt(0)<256&&y[b].metadata.hasOwnProperty("Unicode")?x+=w[v]:x+="";var A="";return parseInt(b.slice(1))<14||_==="WinAnsiEncoding"?A=h(x,b).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(A=n(x,y[b])),f.isHex=!0,{text:A,x:l,y:c,options:u,mutex:f}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(i(Object.assign({},l,{text:s[c]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(ht),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ht.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,a,s,o,l,c,u,f=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,_=0;this.__bidiEngine__={};var A=function(P){var I=P.charCodeAt(),j=I>>8,B=b[j];return B!==void 0?f[256*B+(255&I)]:j===252||j===253?"AL":v.test(j)?"L":j===8?"R":"N"},E=function(P){for(var I,j=0;j<P.length;j++){if((I=A(P.charAt(j)))==="L")return!1;if(I==="R")return!0}return!1},O=function(P,I,j,B){var G,Z,re,Y,ae=I[B];switch(ae){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(ae="AN");break;case"AL":w=!0,ae="R";break;case"WS":case"BN":ae="N";break;case"CS":B<1||B+1>=I.length||(G=j[B-1])!=="EN"&&G!=="AN"||(Z=I[B+1])!=="EN"&&Z!=="AN"?ae="N":w&&(Z="AN"),ae=Z===G?Z:"N";break;case"ES":ae=(G=B>0?j[B-1]:"B")==="EN"&&B+1<I.length&&I[B+1]==="EN"?"EN":"N";break;case"ET":if(B>0&&j[B-1]==="EN"){ae="EN";break}if(w){ae="N";break}for(re=B+1,Y=I.length;re<Y&&I[re]==="ET";)re++;ae=re<Y&&I[re]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(Y=I.length,re=B+1;re<Y&&I[re]==="NSM";)re++;if(re<Y){var ue=P[B],he=ue>=1425&&ue<=2303||ue===64286;if(G=I[re],he&&(G==="R"||G==="AL")){ae="R";break}}}ae=B<1||(G=I[B-1])==="B"?"N":j[B-1];break;case"B":w=!1,i=!0,ae=_;break;case"S":a=!0,ae="N"}return ae},C=function(P,I,j){var B=P.split("");return j&&N(B,j,{hiLevel:_}),B.reverse(),I&&I.reverse(),B.join("")},N=function(P,I,j){var B,G,Z,re,Y,ae=-1,ue=P.length,he=0,$=[],H=_?p:h,ie=[];for(w=!1,i=!1,a=!1,G=0;G<ue;G++)ie[G]=A(P[G]);for(Z=0;Z<ue;Z++){if(Y=he,$[Z]=O(P,ie,$,Z),B=240&(he=H[Y][y[$[Z]]]),he&=15,I[Z]=re=H[he][5],B>0)if(B===16){for(G=ae;G<Z;G++)I[G]=1;ae=-1}else ae=-1;if(H[he][6])ae===-1&&(ae=Z);else if(ae>-1){for(G=ae;G<Z;G++)I[G]=re;ae=-1}ie[Z]==="B"&&(I[Z]=0),j.hiLevel|=re}a&&function(se,le,ge){for(var Ae=0;Ae<ge;Ae++)if(se[Ae]==="S"){le[Ae]=_;for(var fe=Ae-1;fe>=0&&se[fe]==="WS";fe--)le[fe]=_}}(ie,I,ue)},k=function(P,I,j,B,G){if(!(G.hiLevel<P)){if(P===1&&_===1&&!i)return I.reverse(),void(j&&j.reverse());for(var Z,re,Y,ae,ue=I.length,he=0;he<ue;){if(B[he]>=P){for(Y=he+1;Y<ue&&B[Y]>=P;)Y++;for(ae=he,re=Y-1;ae<re;ae++,re--)Z=I[ae],I[ae]=I[re],I[re]=Z,j&&(Z=j[ae],j[ae]=j[re],j[re]=Z);he=Y}he++}}},M=function(P,I,j){var B=P.split(""),G={hiLevel:_};return j||(j=[]),N(B,j,G),function(Z,re,Y){if(Y.hiLevel!==0&&u)for(var ae,ue=0;ue<Z.length;ue++)re[ue]===1&&(ae=x.indexOf(Z[ue]))>=0&&(Z[ue]=x[ae+1])}(B,j,G),k(2,B,I,j,G),k(1,B,I,j,G),B.join("")};return this.__bidiEngine__.doBidiReorder=function(P,I,j){if(function(G,Z){if(Z)for(var re=0;re<G.length;re++)Z[re]=re;o===void 0&&(o=E(G)),c===void 0&&(c=E(G))}(P,I),s||!l||c)if(s&&l&&o^c)_=o?1:0,P=C(P,I,j);else if(!s&&l&&c)_=o?1:0,P=M(P,I,j),P=C(P,I);else if(!s||o||l||c){if(s&&!l&&o^c)P=C(P,I),o?(_=0,P=M(P,I,j)):(_=1,P=M(P,I,j),P=C(P,I));else if(s&&o&&!l&&c)_=1,P=M(P,I,j),P=C(P,I);else if(!s&&!l&&o^c){var B=u;o?(_=1,P=M(P,I,j),_=0,u=!1,P=M(P,I,j),u=B):(_=0,P=M(P,I,j),P=C(P,I),_=1,u=!1,P=M(P,I,j),u=B,P=C(P,I))}}else _=0,P=M(P,I,j);else _=o?1:0,P=M(P,I,j);return P},this.__bidiEngine__.setOptions=function(P){P&&(s=P.isInputVisual,l=P.isOutputVisual,o=P.isInputRtl,c=P.isOutputRtl,u=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([n.doBidiReorder(i[o])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ht),ht.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Lu(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new MLe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new _Le(this.contents),this.head=new ALe(this),this.name=new kLe(this),this.cmap=new ZW(this),this.toUnicode={},this.hhea=new NLe(this),this.maxp=new jLe(this),this.hmtx=new CLe(this),this.post=new PLe(this),this.os2=new ELe(this),this.loca=new LLe(this),this.glyf=new ILe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var wo,Lu=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,a,s,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*s+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)n=e[r],a.push(this.writeByte(n));return a},t}(),_Le=function(){var t;function e(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,a,s,o,l,c,u,f,h,p,y,b;for(b in p=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),s=Math.floor(f/l),u=16*p-f,(i=new Lu).writeInt(this.scalarType),i.writeShort(p),i.writeShort(f),i.writeShort(s),i.writeShort(u),a=16*p,c=i.pos+a,o=null,y=[],n)for(h=n[b],i.writeString(b),i.writeInt(t(h)),i.writeInt(c),i.writeInt(h.length),y=y.concat(h),b==="head"&&(o=c),c+=h.length;c%4;)y.push(0),c++;return i.write(y),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,a,s;for(n=eH.call(n);n.length%4;)n.push(0);for(a=new Lu(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},e}(),SLe={}.hasOwnProperty,dl=function(t,e){for(var n in e)SLe.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};wo=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var ALe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,wo),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Lu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),jD=function(){function t(e,n){var r,i,a,s,o,l,c,u,f,h,p,y,b,x,v,w,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),h=p/2,e.pos+=6,a=function(){var A,E;for(E=[],l=A=0;0<=h?A<h:A>h;l=0<=h?++A:--A)E.push(e.readUInt16());return E}(),e.pos+=2,b=function(){var A,E;for(E=[],l=A=0;0<=h?A<h:A>h;l=0<=h?++A:--A)E.push(e.readUInt16());return E}(),c=function(){var A,E;for(E=[],l=A=0;0<=h?A<h:A>h;l=0<=h?++A:--A)E.push(e.readUInt16());return E}(),u=function(){var A,E;for(E=[],l=A=0;0<=h?A<h:A>h;l=0<=h?++A:--A)E.push(e.readUInt16());return E}(),i=(this.length-e.pos+this.offset)/2,o=function(){var A,E;for(E=[],l=A=0;0<=i?A<i:A>i;l=0<=i?++A:--A)E.push(e.readUInt16());return E}(),l=v=0,_=a.length;v<_;l=++v)for(x=a[l],r=w=y=b[l];y<=x?w<=x:w>=x;r=y<=x?++w:--w)u[l]===0?s=r+c[l]:(s=o[u[l]/2+(r-y)-(h-l)]||0)!==0&&(s+=c[l]),this.codeMap[r]=65535&s}e.pos=f}return t.encode=function(e,n){var r,i,a,s,o,l,c,u,f,h,p,y,b,x,v,w,_,A,E,O,C,N,k,M,P,I,j,B,G,Z,re,Y,ae,ue,he,$,H,ie,se,le,ge,Ae,fe,we,Ee,ve;switch(B=new Lu,s=Object.keys(e).sort(function(Le,$e){return Le-$e}),n){case"macroman":for(b=0,x=function(){var Le=[];for(y=0;y<256;++y)Le.push(0);return Le}(),w={0:0},a={},G=0,ae=s.length;G<ae;G++)w[fe=e[i=s[G]]]==null&&(w[fe]=++b),a[i]={old:e[i],new:w[e[i]]},x[i]=w[e[i]];return B.writeUInt16(1),B.writeUInt16(0),B.writeUInt32(12),B.writeUInt16(0),B.writeUInt16(262),B.writeUInt16(0),B.write(x),{charMap:a,subtable:B.data,maxGlyphID:b+1};case"unicode":for(I=[],f=[],_=0,w={},r={},v=c=null,Z=0,ue=s.length;Z<ue;Z++)w[E=e[i=s[Z]]]==null&&(w[E]=++_),r[i]={old:E,new:w[E]},o=w[E]-i,v!=null&&o===c||(v&&f.push(v),I.push(i),c=o),v=i;for(v&&f.push(v),f.push(65535),I.push(65535),M=2*(k=I.length),N=2*Math.pow(Math.log(k)/Math.LN2,2),h=Math.log(N/2)/Math.LN2,C=2*k-N,l=[],O=[],p=[],y=re=0,he=I.length;re<he;y=++re){if(P=I[y],u=f[y],P===65535){l.push(0),O.push(0);break}if(P-(j=r[P].new)>=32768)for(l.push(0),O.push(2*(p.length+k-y)),i=Y=P;P<=u?Y<=u:Y>=u;i=P<=u?++Y:--Y)p.push(r[i].new);else l.push(j-P),O.push(0)}for(B.writeUInt16(3),B.writeUInt16(1),B.writeUInt32(12),B.writeUInt16(4),B.writeUInt16(16+8*k+2*p.length),B.writeUInt16(0),B.writeUInt16(M),B.writeUInt16(N),B.writeUInt16(h),B.writeUInt16(C),ge=0,$=f.length;ge<$;ge++)i=f[ge],B.writeUInt16(i);for(B.writeUInt16(0),Ae=0,H=I.length;Ae<H;Ae++)i=I[Ae],B.writeUInt16(i);for(we=0,ie=l.length;we<ie;we++)o=l[we],B.writeUInt16(o);for(Ee=0,se=O.length;Ee<se;Ee++)A=O[Ee],B.writeUInt16(A);for(ve=0,le=p.length;ve<le;ve++)b=p[ve],B.writeUInt16(b);return{charMap:r,subtable:B.data,maxGlyphID:_+1}}},t}(),ZW=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,wo),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new jD(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=jD.encode(e,n),(i=new Lu).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),NLe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,wo),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),ELe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,wo),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),PLe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,wo),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(e.readUInt32());return l}).call(this)}},t}(),TLe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},kLe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,wo),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,a,s,o,l,c,u,f,h;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),r=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},a=u=0,f=r.length;u<f;a=++u)i=r[a],e.pos=i.offset,c=e.readString(i.length),s=new TLe(c,i),l[h=i.nameID]==null&&(l[h]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),jLe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,wo),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),CLe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,wo),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,a,s,o,l;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)u.push(e.readInt16());return u}(),this.widths=(function(){var c,u,f,h;for(h=[],c=0,u=(f=this.metrics).length;c<u;c++)a=f[c],h.push(a.advance);return h}).call(this),r=this.widths[this.widths.length-1],l=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),eH=[].slice,ILe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,wo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,a,s,o,l,c,u,f;return e in this.cache?this.cache[e]:(a=this.file.loca,n=this.file.contents,r=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,s=(o=new Lu(n.read(i))).readShort(),c=o.readShort(),f=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[e]=s===-1?new RLe(o,c,f,l,u):new OLe(o,s,c,f,l,u),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,a,s,o,l;for(s=[],a=[],o=0,l=n.length;o<l;o++)i=e[n[o]],a.push(s.length),i&&(s=s.concat(i.encode(r)));return a.push(s.length),{table:s,offsets:a}},t}(),OLe=function(){function t(e,n,r,i,a,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),RLe=function(){function t(e,n,r,i,a){var s,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Lu(eH.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),LLe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,wo),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<r.length;++s)if(r[s]=i,a<n.length&&n[a]==s){++a,r[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},t}(),MLe=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,a,s,o,l;for(i={},s=0,o=e.length;s<o;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in l=this.glyphsFor(n))r=l[a],i[a]=r;return i},t.prototype.encode=function(e,n){var r,i,a,s,o,l,c,u,f,h,p,y,b,x,v;for(i in r=ZW.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),p={0:0},v=r.charMap)p[(l=v[i]).old]=l.new;for(y in h=r.maxGlyphID,s)y in p||(p[y]=h++);return u=function(w){var _,A;for(_ in A={},w)A[w[_]]=_;return A}(p),f=Object.keys(u).sort(function(w,_){return w-_}),b=function(){var w,_,A;for(A=[],w=0,_=f.length;w<_;w++)o=f[w],A.push(u[o]);return A}(),a=this.font.glyf.encode(s,b,p),c=this.font.loca.encode(a.offsets,b),x={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},t}();ht.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,a,s;if(Array.isArray(n))return"["+function(){var o,l,c;for(c=[],o=0,l=n.length;o<l;o++)r=n[o],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)s=n[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+n},e}();function CD(t){var n;if(!t)return null;const e=((n=t.toDate)==null?void 0:n.call(t))??new Date(t);return Number.isNaN(e.getTime())?null:e}function Dk(t){if(!t)return;const e=new ht,n=CD(t.paidDate)||new Date,r=CD(t.recordedAt)||n,i=t.propertyName||"Rental Property",a=t.propertyAddress||t.address||"",s=t.propertyType||t.type||"",o=t.propertyBuildingName??t.buildingName,l=t.propertyUnitNumber??t.unitNumber,c=t.propertyFloor??t.floor,u=t.propertyBedrooms??t.bedrooms,f=t.propertyBathrooms??t.bathrooms,h=t.propertySqft??t.sqft,p=t.tenantName||"Tenant",y=t.tenantEmail||"",b=t.amount||0,x=t.method||"Online",v=t.status||"paid",w=t.invoiceNumber||`INV-${(t.propertyId||"").slice(0,4).toUpperCase()}-${(t.id||"").slice(-6).toUpperCase()}`;let _=20;if(e.setFontSize(18),e.text("LeaseEase Rent Invoice",20,_),_+=8,e.setFontSize(11),e.text(`Invoice #: ${w}`,20,_),_+=6,e.text(`Invoice date: ${r.toLocaleDateString()}`,20,_),_+=10,e.setFontSize(12),e.text("Billed To:",20,_),_+=6,e.setFontSize(11),e.text(p,20,_),_+=5,y?(e.text(y,20,_),_+=6):_+=4,e.setFontSize(12),e.text("Apartment Details:",20,_),_+=6,e.setFontSize(11),e.text(i,20,_),_+=5,o||l){const O=[];o&&O.push(o),l&&O.push(`Unit ${l}`),c!=null&&c!==""&&O.push(`Floor ${c}`),O.length&&(e.text(O.join(" - "),20,_),_+=5)}a&&(e.text(a,20,_),_+=5),s&&(e.text(`Type: ${s}`,20,_),_+=5);const A=[];u!=null&&A.push(`${u} bedroom(s)`),f!=null&&A.push(`${f} bathroom(s)`),h!=null&&A.push(`${h} sqft`),A.length?(e.text(A.join("  "),20,_),_+=6):_+=4,_+=4,e.setFontSize(12),e.text("Payment Summary:",20,_),_+=7,e.setFontSize(11),e.text(`Amount: ${b.toLocaleString(void 0,{maximumFractionDigits:2})}`,20,_),_+=5,e.text(`Status: ${v}`,20,_),_+=5,e.text(`Method: ${x}`,20,_),_+=5,e.text(`Paid on: ${n.toLocaleDateString()}`,20,_),_+=10,t.notes&&(e.setFontSize(11),e.text("Notes:",20,_),_+=5,e.text(String(t.notes),20,_),_+=5),e.setFontSize(9),e.text("Thank you for your payment. Keep this invoice for your records.",20,275);const E=`LeaseEase_Invoice_${w}.pdf`;e.save(E)}const ID={paid:{icon:x4,color:"text-sage",bg:"bg-sage/10",label:"Paid"},pending:{icon:Ch,color:"text-amber",bg:"bg-amber/10",label:"Pending"},late:{icon:pU,color:"text-rust",bg:"bg-rust/10",label:"Late"}};function Fk({payment:t,isLast:e,showProperty:n,onDownloadInvoice:r}){var l,c;const{fmt:i}=ji(),a=ID[t.status]||ID.pending,s=a.icon,o=((c=(l=t.paidDate)==null?void 0:l.toDate)==null?void 0:c.call(l))??new Date(t.paidDate);return d.jsxs("div",{className:`flex items-center gap-4 px-5 py-4 hover:bg-stone-50/70 transition-colors ${e?"":"border-b border-stone-100"}`,children:[d.jsx("div",{className:`w-8 h-8 rounded-lg ${a.bg} flex items-center justify-center flex-shrink-0`,children:d.jsx(s,{size:15,className:a.color})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("p",{className:"font-body font-medium text-sm text-ink",children:[t.tenantName||"Payment",n&&t.propertyName&&d.jsxs("span",{className:"font-normal text-stone-400 ml-2 text-xs",children:[" ",t.propertyName,t.propertyUnitNumber&&d.jsxs("span",{className:"text-sage ml-1",children:["(",cd({unitNumber:t.propertyUnitNumber,floor:t.propertyFloor}),")"]})]})]}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:t.method||"Unknown"})]}),d.jsx("span",{className:"font-body text-xs text-stone-400 hidden sm:block w-28 text-right",children:Ta(o,"MMM d, yyyy")}),d.jsx("span",{className:"font-body text-xs text-stone-400 hidden md:block w-24 text-right capitalize",children:t.method||""}),r&&d.jsx("button",{type:"button",onClick:()=>r(t),className:"hidden lg:inline-flex items-center justify-center w-8 h-8 rounded-lg border border-stone-200 hover:bg-stone-100 text-stone-400 hover:text-ink transition-colors",title:"Download invoice",children:d.jsx(ice,{size:14})}),d.jsx("span",{className:`badge text-xs w-20 justify-center ${t.status==="paid"?"badge-sage":t.status==="pending"?"badge-amber":"badge-rust"}`,children:a.label}),d.jsx("span",{className:"font-display font-semibold text-ink text-sm w-28 text-right flex-shrink-0",children:i(t.amount||0)})]})}function DLe({unit:t,fmtRent:e,landlordUid:n,propertyId:r,propertyName:i,onAssign:a,onRemove:s,onEdit:o}){const l=t.status==="occupied"&&t.tenantId,[c,u]=U.useState(!1),[f,h]=U.useState(null),[p,y]=U.useState(null),[b,x]=U.useState(!1),[v,w]=U.useState(!1),_=async()=>{if(f){u(!0);return}x(!0);try{const{link:E,expiresAt:O}=await xce({landlordUid:n,propertyId:r,unitId:t.id,unitName:t.unitName,propertyName:i});h(E),y(O),u(!0),We.success("Invite link created  valid for 24 hours.")}catch(E){console.error("Failed to create invite token:",E),We.error("Failed to generate invite link.")}finally{x(!1)}},A=async()=>{try{await navigator.clipboard.writeText(f),w(!0),We.success("Link copied to clipboard!"),setTimeout(()=>w(!1),2e3)}catch{We.error("Failed to copy.")}};return d.jsxs(He.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"card p-5 hover:shadow-deep transition-shadow relative",children:[d.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${l?"bg-sage/10":"bg-stone-100"}`,children:d.jsx(da,{size:18,className:l?"text-sage":"text-stone-400"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-body font-semibold text-ink text-sm",children:t.unitName}),d.jsx("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-body font-semibold ${l?"bg-sage/10 text-sage":"bg-amber/10 text-amber"}`,children:l?"Occupied":"Vacant"})]})]}),d.jsx("button",{onClick:()=>o(t),className:"p-2 rounded-lg text-stone-300 hover:text-ink hover:bg-stone-100 transition-colors",title:"Edit unit",children:d.jsx(lce,{size:14})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(_4,{size:13,className:"text-stone-400"}),d.jsx("span",{className:"font-body text-sm text-ink font-medium",children:e?e(t.rentAmount,t.billingCycle):`$${t.rentAmount||0}`})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(b4,{size:13,className:"text-stone-400"}),d.jsx("span",{className:"font-body text-sm text-stone-500 capitalize",children:t.billingCycle||"monthly"})]})]}),d.jsxs("div",{className:"flex items-center gap-2 mb-4 px-3 py-2.5 bg-stone-50 rounded-xl border border-stone-100",children:[d.jsx(go,{size:14,className:l?"text-sage":"text-stone-300"}),d.jsx("span",{className:`font-body text-sm ${l?"text-ink font-medium":"text-stone-400 italic"}`,children:l?t.tenantName||t.tenantEmail||"Assigned":"No tenant assigned"})]}),d.jsx("div",{className:"flex gap-2",children:l?d.jsxs("button",{onClick:()=>s(t),className:"flex-1 btn-ghost text-xs text-rust hover:bg-rust/8 hover:text-rust",children:[d.jsx(XA,{size:14})," Remove Tenant"]}):d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>a(t),className:"flex-1 btn-ghost text-xs text-sage hover:bg-sage/8 hover:text-sage",children:[d.jsx(W2,{size:14})," Assign"]}),d.jsx("button",{onClick:_,disabled:b,className:"flex-1 btn-ghost text-xs text-stone-500 hover:bg-stone-100 hover:text-ink",title:"Generate a secure invite link to send to your tenant",children:b?d.jsxs(d.Fragment,{children:[d.jsx(If,{size:13,className:"animate-spin"})," Generating"]}):d.jsxs(d.Fragment,{children:[d.jsx(KA,{size:13})," Invite Link"]})})]})}),d.jsx(ns,{children:c&&f&&d.jsxs(He.div,{initial:{opacity:0,y:8,scale:.97},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:4,scale:.97},className:"absolute inset-x-0 bottom-full mb-2 mx-2 z-10 bg-white rounded-2xl shadow-deep border border-stone-100 p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(KA,{size:14,className:"text-sage"}),d.jsx("span",{className:"font-body text-xs font-semibold text-ink",children:"Invite Link"})]}),d.jsx("button",{onClick:()=>u(!1),className:"p-1 rounded-lg hover:bg-stone-100 text-stone-400 transition-colors",children:d.jsx(H2,{size:14})})]}),d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx("div",{className:"flex-1 bg-stone-50 rounded-xl px-3 py-2 border border-stone-100 overflow-hidden",children:d.jsx("p",{className:"font-body text-xs text-stone-500 truncate",children:f})}),d.jsx("button",{onClick:A,className:`p-2 rounded-xl border transition-all flex-shrink-0 ${v?"bg-sage/10 border-sage/30 text-sage":"bg-white border-stone-200 text-stone-400 hover:border-sage/30 hover:text-sage"}`,children:v?d.jsx(la,{size:14}):d.jsx(w4,{size:14})})]}),p&&d.jsxs("p",{className:"font-body text-[11px] text-stone-400 flex items-center gap-1",children:[d.jsx(Ch,{size:10}),"Expires ",ZA(p,{addSuffix:!0}),"  Share via email, WhatsApp, or SMS"]})]})})]})}function FLe({isOpen:t,onClose:e,onSubmit:n,saving:r,editUnit:i=null,currencySymbol:a="$"}){const[s,o]=U.useState({unitName:"",rentAmount:"",billingCycle:"monthly",tenantName:"",tenantEmail:""});U.useEffect(()=>{var u;o(i?{unitName:i.unitName||"",rentAmount:((u=i.rentAmount)==null?void 0:u.toString())||"",billingCycle:i.billingCycle||"monthly",tenantName:i.tenantName||"",tenantEmail:i.tenantEmail||""}:{unitName:"",rentAmount:"",billingCycle:"monthly",tenantName:"",tenantEmail:""})},[i,t]);const l=u=>f=>o(h=>({...h,[u]:f.target.value})),c=u=>{if(u.preventDefault(),!s.unitName.trim()){We.error("Apartment name/number is required.");return}if(!s.rentAmount||isNaN(s.rentAmount)){We.error("Valid rent amount is required.");return}n({unitName:s.unitName.trim(),rentAmount:parseInt(s.rentAmount),billingCycle:s.billingCycle,tenantName:s.tenantName.trim(),tenantEmail:s.tenantEmail.trim(),tenantId:s.tenantEmail.trim()&&(i==null?void 0:i.tenantId)||null,status:s.tenantName.trim()?"occupied":"vacant"})};return d.jsx(Ru,{isOpen:t,onClose:e,title:i?"Edit Unit":"Add Apartment / Unit",children:d.jsxs("form",{onSubmit:c,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Apartment Number / Name *"}),d.jsxs("div",{className:"relative",children:[d.jsx(da,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-10",placeholder:"e.g. Unit 4B, Apt 12, Room 3",value:s.unitName,onChange:l("unitName"),autoFocus:!0,required:!0})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"label-xs",children:["Rent Amount (",a,") *"]}),d.jsxs("div",{className:"relative",children:[d.jsx(_4,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-10",type:"number",placeholder:"e.g. 250000",value:s.rentAmount,onChange:l("rentAmount"),required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Billing Cycle"}),d.jsxs("div",{className:"relative",children:[d.jsx(b4,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsxs("select",{className:"input-base pl-10 appearance-none",value:s.billingCycle,onChange:l("billingCycle"),children:[d.jsx("option",{value:"monthly",children:"Monthly"}),d.jsx("option",{value:"yearly",children:"Yearly"})]})]})]}),d.jsxs("div",{className:"pt-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(W2,{size:14,className:"text-stone-400"}),d.jsxs("span",{className:"font-body text-xs font-semibold text-stone-400 uppercase tracking-wider",children:["Assign Tenant ",d.jsx("span",{className:"text-stone-300 normal-case",children:"(optional)"})]})]}),d.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Tenant Name"}),d.jsx("input",{className:"input-base",placeholder:"Skip if unknown",value:s.tenantName,onChange:l("tenantName")})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Tenant Email"}),d.jsx("input",{className:"input-base",type:"email",placeholder:"tenant@email.com",value:s.tenantEmail,onChange:l("tenantEmail")})]})]})]}),d.jsxs("div",{className:"flex gap-3 justify-end pt-3",children:[d.jsx("button",{type:"button",onClick:e,className:"btn-secondary",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:r,className:"btn-primary",children:r?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):i?"Save Changes":"Add Unit"})]})]})})}function $Le({isOpen:t,onClose:e,onAssign:n,saving:r,unitName:i}){const[a,s]=U.useState(""),[o,l]=U.useState([]),[c,u]=U.useState(!1),[f,h]=U.useState(""),[p,y]=U.useState(""),[b,x]=U.useState("search");U.useEffect(()=>{t&&(s(""),l([]),h(""),y(""),x("search"))},[t]);const v=U.useCallback(async A=>{if(A.length<2){l([]);return}u(!0);try{const E=await wie(A);l(E)}catch{l([])}finally{u(!1)}},[]);U.useEffect(()=>{const A=setTimeout(()=>v(a),300);return()=>clearTimeout(A)},[a,v]);const w=A=>{n({tenantId:A.uid,tenantName:A.fullName,tenantEmail:A.email,status:"occupied"})},_=A=>{if(A.preventDefault(),!f.trim()&&!p.trim()){We.error("Enter at least a name or email.");return}n({tenantId:null,tenantName:f.trim(),tenantEmail:p.trim(),status:"occupied"})};return d.jsx(Ru,{isOpen:t,onClose:e,title:`Assign Tenant  ${i||"Unit"}`,children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>x("search"),className:`flex-1 py-2.5 rounded-xl text-sm font-body font-medium border transition-all ${b==="search"?"bg-sage/10 text-sage border-sage/30":"bg-stone-50 text-stone-400 border-stone-200 hover:bg-stone-100"}`,children:"Search Tenants"}),d.jsx("button",{onClick:()=>x("manual"),className:`flex-1 py-2.5 rounded-xl text-sm font-body font-medium border transition-all ${b==="manual"?"bg-sage/10 text-sage border-sage/30":"bg-stone-50 text-stone-400 border-stone-200 hover:bg-stone-100"}`,children:"Enter Manually"})]}),b==="search"?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"relative",children:[d.jsx(bU,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-10",placeholder:"Search by tenant email...",value:a,onChange:A=>s(A.target.value),autoFocus:!0})]}),c&&d.jsx("div",{className:"flex items-center justify-center py-4",children:d.jsx("div",{className:"w-5 h-5 border-2 border-sage border-t-transparent rounded-full animate-spin"})}),!c&&o.length>0&&d.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:o.map(A=>d.jsxs("button",{onClick:()=>w(A),disabled:r,className:"w-full flex items-center gap-3 p-3 rounded-xl border border-stone-100 hover:border-sage/30 hover:bg-sage/5 transition-all text-left",children:[d.jsx("div",{className:"w-9 h-9 rounded-full bg-sage/10 flex items-center justify-center flex-shrink-0",children:d.jsx(go,{size:16,className:"text-sage"})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:"font-body text-sm font-medium text-ink truncate",children:A.fullName}),d.jsx("p",{className:"font-body text-xs text-stone-400 truncate",children:A.email})]})]},A.uid))}),!c&&a.length>=2&&o.length===0&&d.jsxs("div",{className:"text-center py-4",children:[d.jsx("p",{className:"font-body text-sm text-stone-400",children:"No tenants found."}),d.jsx("button",{onClick:()=>x("manual"),className:"font-body text-sm text-sage font-medium mt-1 hover:underline",children:"Enter manually instead"})]})]}):d.jsxs("form",{onSubmit:_,className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Tenant Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(go,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-10",placeholder:"John Doe",value:f,onChange:A=>h(A.target.value),autoFocus:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Tenant Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(ol,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-10",type:"email",placeholder:"tenant@email.com",value:p,onChange:A=>y(A.target.value)})]})]}),d.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[d.jsx("button",{type:"button",onClick:e,className:"btn-secondary",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:r,className:"btn-primary",children:r?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):"Assign Tenant"})]})]})]})})}const BLe=[{id:"overview",label:"Overview",icon:yU},{id:"units",label:"Units",icon:da},{id:"payments",label:"Payments",icon:Ls},{id:"maintenance",label:"Maintenance",icon:QA}];function ULe(){var ct,Je;const{id:t}=RP(),{user:e}=Pr(),{fmt:n,fmtRent:r,currencySymbol:i,country:a}=ji(),[s,o]=U.useState(null),[l,c]=U.useState([]),[u,f]=U.useState([]),[h,p]=U.useState([]),[y]=sF(),[b,x]=U.useState(y.get("tab")||"overview"),[v,w]=U.useState(!0),[_,A]=U.useState(!1),[E,O]=U.useState(!1),[C,N]=U.useState({title:"",description:"",priority:"medium"}),[k,M]=U.useState(!1),[P,I]=U.useState(null),[j,B]=U.useState(!1),[G,Z]=U.useState(!1),[re,Y]=U.useState(null),[ae,ue]=U.useState(!1),[he,$]=U.useState(null),[H,ie]=U.useState(!1);U.useEffect(()=>{if(!e)return;const ce=Cv(e.uid,tt=>{const zt=tt.find(Ct=>Ct.id===t);o(zt||null),zt&&w(!1)}),Be=j9(e.uid,t,c),qe=bie(e.uid,t,f),et=L9(e.uid,t,p);return()=>{ce(),Be(),qe(),et()}},[e,t]),U.useEffect(()=>{y.get("action")==="add"&&!v&&(I(null),M(!0))},[v,y]);const se=ce=>Be=>N(qe=>({...qe,[ce]:Be.target.value})),le=async ce=>{if(ce.preventDefault(),!C.title){We.error("Title is required.");return}O(!0);try{await yie(e.uid,t,C),We.success("Issue logged!"),A(!1),N({title:"",description:"",priority:"medium"})}catch{We.error("Failed to save.")}finally{O(!1)}},ge=async ce=>{const Be=ce.status==="open"?"in-progress":ce.status==="in-progress"?"resolved":"open";await vie(e.uid,t,ce.id,{status:Be}),We.success(`Status  ${Be}`)},Ae=async ce=>{B(!0);try{P?(await Xd(e.uid,t,P.id,ce),We.success("Unit updated!")):(await R9(e.uid,t,ce),We.success("Unit added!")),M(!1),I(null)}catch{We.error("Failed to save unit.")}finally{B(!1)}},fe=ce=>{I(ce),M(!0)},we=ce=>{Y(ce),Z(!0)},Ee=async ce=>{if(re){B(!0);try{await Xd(e.uid,t,re.id,ce),await JA({tenantId:ce.tenantId||null,landlordId:e.uid,propertyId:t,unitId:re.id,tenantName:ce.tenantName||"",tenantEmail:ce.tenantEmail||"",unitName:re.unitName,propertyName:(s==null?void 0:s.name)||"",rentAmount:re.rentAmount||0,billingCycle:re.billingCycle||"monthly",currency:(a==null?void 0:a.currency)||"NGN"}),We.success(`Tenant assigned to ${re.unitName}!`),Z(!1),Y(null)}catch(Be){console.error(Be),We.error("Failed to assign tenant.")}finally{B(!1)}}},ve=ce=>{$(ce),ue(!0)},Le=async()=>{if(he){B(!0);try{const ce=await yce(t,he.id);ce&&(await A4(e.uid,t,he.id),await qIe(ce.id)),await Xd(e.uid,t,he.id,{tenantId:null,tenantName:"",tenantEmail:"",status:"vacant",rentStatus:null}),We.success(`Tenant removed from ${he.unitName}.`),ue(!1),$(null)}catch(ce){console.error(ce),We.error("Failed to remove tenant.")}finally{B(!1)}}},$e=async ce=>{B(!0);try{await Xd(e.uid,t,ce.id,{status:"occupied",tenantId:ce.pendingTenantId,tenantName:ce.pendingTenantName||"",tenantEmail:ce.pendingTenantEmail||"",pendingTenantId:null,pendingTenantName:null,pendingTenantEmail:null,pendingRequestedAt:null}),await JA({tenantId:ce.pendingTenantId,landlordId:e.uid,propertyId:t,unitId:ce.id,tenantName:ce.pendingTenantName||"",tenantEmail:ce.pendingTenantEmail||"",unitName:ce.name||"",propertyName:(s==null?void 0:s.name)||"",rentAmount:ce.rentAmount||0,billingCycle:ce.billingCycle||"monthly",currency:(a==null?void 0:a.currency)||"NGN"}),We.success(`${ce.pendingTenantName||"Tenant"} approved for ${ce.name}!`)}catch(Be){console.error(Be),We.error("Failed to approve request.")}finally{B(!1)}},Q=async ce=>{B(!0);try{await Xd(e.uid,t,ce.id,{status:"vacant",pendingTenantId:null,pendingTenantName:null,pendingTenantEmail:null,pendingRequestedAt:null}),We.success(`Request from ${ce.pendingTenantName||"tenant"} declined.`)}catch(Be){console.error(Be),We.error("Failed to decline request.")}finally{B(!1)}};if(v)return d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"w-8 h-8 border-2 border-sage border-t-transparent rounded-full animate-spin"})});if(!s)return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("p",{className:"font-body text-stone-400",children:"Property not found."}),d.jsx(Xn,{to:"/properties",className:"btn-secondary mt-4 inline-flex",children:" Back to Properties"})]});const Me=l.filter(ce=>ce.status==="paid").reduce((ce,Be)=>ce+(Be.amount||0),0);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},children:[d.jsxs(Xn,{to:"/properties",className:"inline-flex items-center gap-1.5 text-sm font-body text-stone-400 hover:text-ink transition-colors mb-4",children:[d.jsx(v4,{size:15})," All Properties"]}),d.jsxs("div",{className:"card overflow-hidden",children:[d.jsxs("div",{className:"bg-gradient-to-br from-ink to-ink-light p-6 sm:p-8 relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"radial-gradient(circle at 1px 1px, #F5F0E8 1px, transparent 0)",backgroundSize:"24px 24px"}}),d.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-sage/10 rounded-full blur-2xl"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"flex items-start justify-between gap-4 mb-4",children:d.jsx(NE,{status:s.status})}),d.jsx("h1",{className:"font-display text-cream text-2xl sm:text-3xl font-semibold mb-2",children:s.name}),s.unitNumber&&d.jsxs("div",{className:"flex items-center gap-1.5 text-sage mb-3",children:[d.jsx(xy,{size:14}),d.jsx("span",{className:"font-body text-sm font-medium",children:CIe(s)})]}),d.jsxs("div",{className:"flex items-center gap-1.5 text-stone-400 mb-6",children:[d.jsx(qp,{size:14}),d.jsx("span",{className:"font-body text-sm",children:s.address})]}),d.jsxs("div",{className:"flex flex-wrap gap-6",children:[d.jsx(Jm,{label:"Rent",value:r(s.monthlyRent,s.rentType),accent:!0}),d.jsx(Jm,{label:"Units",value:h.length}),d.jsx(Jm,{label:"Occupied",value:h.filter(ce=>ce.status==="occupied").length}),d.jsx(Jm,{label:"Bedrooms",value:s.bedrooms||""}),d.jsx(Jm,{label:"Total Collected",value:n(Me)})]})]})]}),d.jsx("div",{className:"flex border-b border-stone-100 px-2 overflow-x-auto",children:BLe.map(({id:ce,label:Be,icon:qe})=>d.jsxs("button",{onClick:()=>x(ce),className:`flex items-center gap-2 px-5 py-4 text-sm font-body font-medium border-b-2 transition-all whitespace-nowrap
                  ${b===ce?"border-sage text-sage":"border-transparent text-stone-400 hover:text-ink"}`,children:[d.jsx(qe,{size:15})," ",Be,ce==="units"&&h.length>0&&d.jsx("span",{className:"ml-1 w-5 h-5 rounded-full bg-sage/10 text-sage text-xs font-semibold flex items-center justify-center",children:h.length})]},ce))}),d.jsxs("div",{className:"p-6",children:[b==="overview"&&d.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[d.jsxs(OD,{title:"Property Details",children:[d.jsx(Do,{label:"Type",value:s.type||""}),d.jsx(Do,{label:"Status",value:d.jsx(NE,{status:s.status})}),s.buildingName&&d.jsx(Do,{label:"Building",value:d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(is,{size:13}),s.buildingName]})}),s.unitNumber&&d.jsx(Do,{label:"Unit",value:d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(xy,{size:13}),cd(s)]})}),d.jsx(Do,{label:"Rent",value:r(s.monthlyRent,s.rentType)}),d.jsx(Do,{label:"Added",value:s.createdAt?Ta(((Je=(ct=s.createdAt).toDate)==null?void 0:Je.call(ct))??new Date(s.createdAt),"MMM d, yyyy"):""}),s.description&&d.jsx(Do,{label:"Notes",value:s.description})]}),d.jsx(OD,{title:"Tenant Information",children:s.tenantName?d.jsxs(d.Fragment,{children:[d.jsx(Do,{label:"Name",value:d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(go,{size:13}),s.tenantName]})}),d.jsx(Do,{label:"Email",value:d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(ol,{size:13}),s.tenantEmail||""]})}),d.jsx(Do,{label:"Phone",value:d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(S4,{size:13}),s.tenantPhone||""]})})]}):d.jsxs("p",{className:"font-body text-sm text-stone-400 italic",children:["No tenant  property is ",s.status,"."]})}),d.jsxs("div",{className:"sm:col-span-2 flex gap-3",children:[d.jsxs("button",{onClick:()=>x("units"),className:"btn-primary",children:[d.jsx(da,{size:15})," Manage Units (",h.length,")"]}),d.jsxs("button",{onClick:()=>x("payments"),className:"btn-secondary",children:[d.jsx(Ls,{size:15})," View Payments"]}),d.jsxs("button",{onClick:()=>A(!0),className:"btn-secondary",children:[d.jsx(QA,{size:15})," Log Issue"]})]})]}),b==="units"&&d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-5",children:[d.jsx("div",{children:d.jsxs("p",{className:"font-body text-sm text-stone-400",children:[h.length," unit",h.length!==1?"s":"","  ",h.filter(ce=>ce.status==="occupied").length," occupied"]})}),d.jsxs("button",{onClick:()=>{I(null),M(!0)},className:"btn-primary text-xs px-3 py-2",children:[d.jsx(uo,{size:13})," Add Unit"]})]}),(()=>{const ce=h.filter(Be=>Be.status==="pending_approval"&&!!Be.pendingTenantId);return ce.length===0?null:d.jsxs("div",{className:"mb-5 space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(pU,{size:15,className:"text-amber"}),d.jsxs("p",{className:"font-body text-xs font-semibold text-amber uppercase tracking-wider",children:["Action Required  ",ce.length," join request",ce.length!==1?"s":""]})]}),ce.map(Be=>d.jsx("div",{className:"rounded-2xl border-2 border-amber/30 bg-amber/5 p-4",children:d.jsxs("div",{className:"flex items-start justify-between gap-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-9 h-9 rounded-xl bg-amber/15 flex items-center justify-center flex-shrink-0",children:d.jsx(go,{size:16,className:"text-amber"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-body text-sm font-semibold text-ink",children:Be.pendingTenantName||"Unknown Tenant"}),d.jsxs("p",{className:"font-body text-xs text-stone-500",children:[Be.pendingTenantEmail&&d.jsx("span",{className:"mr-2",children:Be.pendingTenantEmail}),"requested ",d.jsx("strong",{children:Be.name})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[d.jsxs("button",{onClick:()=>Q(Be),disabled:j,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-xs font-body font-medium bg-white border border-stone-200 text-stone-500 hover:border-rust/40 hover:text-rust transition-all disabled:opacity-50",children:[d.jsx(XA,{size:13})," Decline"]}),d.jsxs("button",{onClick:()=>$e(Be),disabled:j,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-xs font-body font-medium bg-sage text-cream hover:bg-sage/90 transition-all disabled:opacity-50",children:[d.jsx(dce,{size:13})," Approve"]})]})]})},Be.id))]})})(),h.length>0&&d.jsxs("div",{className:"mb-5 rounded-2xl border border-sage/25 bg-sage/5 p-4 flex flex-col sm:flex-row sm:items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-sage/15 flex items-center justify-center flex-shrink-0",children:d.jsx(KA,{size:18,className:"text-sage"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-body text-sm font-semibold text-ink mb-0.5",children:"Tenant Onboarding"}),d.jsx("p",{className:"font-body text-xs text-stone-500 mb-2",children:"Share this building portal with your tenants to let them claim their units."}),d.jsxs("div",{className:"flex items-center gap-2 bg-white border border-stone-200 rounded-xl px-3 py-2 max-w-sm",children:[d.jsxs("span",{className:"font-mono text-xs text-stone-600 truncate flex-1 select-all",children:[window.location.origin,"/join/",e.uid,"/",t,"?pname=",encodeURIComponent((s==null?void 0:s.name)||"")]}),d.jsx("button",{onClick:()=>{const ce=`${window.location.origin}/join/${e.uid}/${t}?pname=${encodeURIComponent((s==null?void 0:s.name)||"")}`;navigator.clipboard.writeText(ce),ie(!0),setTimeout(()=>ie(!1),2e3)},className:`flex-shrink-0 flex items-center gap-1 text-xs font-body font-medium transition-colors ${H?"text-sage":"text-stone-400 hover:text-ink"}`,children:H?d.jsxs(d.Fragment,{children:[d.jsx(la,{size:13})," Copied!"]}):d.jsxs(d.Fragment,{children:[d.jsx(w4,{size:13})," Copy"]})})]})]})]}),h.length===0?d.jsx(J_,{icon:da,title:"No units yet",sub:"Add apartments or units to this property to track tenants and rent."}):d.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:h.map(ce=>d.jsx(DLe,{unit:ce,fmtRent:r,landlordUid:e.uid,propertyId:t,propertyName:(s==null?void 0:s.name)||"",onAssign:we,onRemove:ve,onEdit:fe},ce.id))})]}),b==="payments"&&d.jsxs("div",{children:[d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsxs("p",{className:"font-body text-sm text-stone-400",children:[l.length," payments recorded"]})}),l.length===0?d.jsx(J_,{icon:Ls,title:"No payments yet",sub:"Payments will appear here automatically after tenants pay online."}):d.jsx("div",{className:"card overflow-hidden",children:l.map((ce,Be)=>d.jsx(Fk,{payment:ce,isLast:Be===l.length-1,onDownloadInvoice:Dk},ce.id))})]}),b==="maintenance"&&d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("p",{className:"font-body text-sm text-stone-400",children:[u.filter(ce=>ce.status!=="resolved").length," open issues"]}),d.jsxs("button",{onClick:()=>A(!0),className:"btn-primary text-xs px-3 py-2",children:[d.jsx(uo,{size:13})," Log Issue"]})]}),u.length===0?d.jsx(J_,{icon:QA,title:"No issues logged",sub:"All clear  no maintenance tickets for this property."}):d.jsx("div",{className:"space-y-3",children:u.map(ce=>{var Be,qe;return d.jsxs("div",{className:"flex items-start gap-4 p-4 card hover:shadow-deep transition-shadow",children:[d.jsx("div",{className:`mt-0.5 w-2.5 h-2.5 rounded-full flex-shrink-0 ${ce.status==="resolved"?"bg-sage":ce.status==="in-progress"?"bg-amber":"bg-rust"}`}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-start justify-between gap-2",children:[d.jsx("p",{className:"font-body font-semibold text-sm text-ink",children:ce.title}),d.jsx("span",{className:`badge text-xs ${ce.priority==="high"?"badge-rust":ce.priority==="medium"?"badge-amber":"badge-stone"}`,children:ce.priority})]}),ce.description&&d.jsx("p",{className:"font-body text-xs text-stone-400 mt-1 line-clamp-2",children:ce.description}),d.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[d.jsxs("button",{onClick:()=>ge(ce),className:`inline-flex items-center gap-1.5 text-xs font-body font-medium px-2.5 py-1 rounded-lg border transition-all
                                ${ce.status==="resolved"?"bg-sage/10 text-sage border-sage/20":ce.status==="in-progress"?"bg-amber/10 text-amber border-amber/20":"bg-rust/10 text-rust border-rust/20"}`,children:[d.jsx(ece,{size:11})," ",ce.status==="open"?"Open":ce.status==="in-progress"?"In Progress":"Resolved"]}),d.jsx("span",{className:"font-body text-xs text-stone-300",children:ce.createdAt?Ta(((qe=(Be=ce.createdAt).toDate)==null?void 0:qe.call(Be))??new Date(ce.createdAt),"MMM d"):""})]})]})]},ce.id)})})]})]})]})]}),d.jsx(Ru,{isOpen:_,onClose:()=>A(!1),title:"Log Maintenance Issue",children:d.jsxs("form",{onSubmit:le,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Issue Title *"}),d.jsx("input",{className:"input-base",placeholder:"e.g. Leaking roof, Broken AC",value:C.title,onChange:se("title"),required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Description"}),d.jsx("textarea",{className:"input-base min-h-[80px] resize-none",placeholder:"Describe the issue",value:C.description,onChange:se("description")})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Priority"}),d.jsx("div",{className:"flex gap-2",children:["low","medium","high"].map(ce=>d.jsx("button",{type:"button",onClick:()=>N(Be=>({...Be,priority:ce})),className:`flex-1 py-2.5 rounded-xl text-sm font-body font-medium border capitalize transition-all
                    ${C.priority===ce?ce==="high"?"bg-rust/10 text-rust border-rust/30":ce==="medium"?"bg-amber/10 text-amber border-amber/30":"bg-sage/10 text-sage border-sage/30":"bg-stone-50 text-stone-400 border-stone-200 hover:bg-stone-100"}`,children:ce},ce))})]}),d.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[d.jsx("button",{type:"button",onClick:()=>A(!1),className:"btn-secondary",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:E,className:"btn-primary",children:E?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):"Log Issue"})]})]})}),d.jsx(FLe,{isOpen:k,onClose:()=>{M(!1),I(null)},onSubmit:Ae,saving:j,editUnit:P,currencySymbol:i}),d.jsx($Le,{isOpen:G,onClose:()=>{Z(!1),Y(null)},onAssign:Ee,saving:j,unitName:re==null?void 0:re.unitName}),d.jsx(Ru,{isOpen:ae,onClose:()=>ue(!1),title:"Remove Tenant",size:"sm",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 p-3 bg-rust/8 rounded-xl border border-rust/20",children:[d.jsx(XA,{size:18,className:"text-rust flex-shrink-0"}),d.jsxs("p",{className:"font-body text-sm text-rust",children:["Remove ",d.jsx("strong",{children:(he==null?void 0:he.tenantName)||"tenant"})," from ",d.jsx("strong",{children:he==null?void 0:he.unitName}),"? Payment history will be kept."]})]}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx("button",{onClick:()=>ue(!1),className:"btn-secondary",children:"Cancel"}),d.jsx("button",{onClick:Le,disabled:j,className:"btn-danger",children:j?d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Remove Tenant"})]})]})})]})}function Jm({label:t,value:e,accent:n}){return d.jsxs("div",{children:[d.jsx("p",{className:"font-body text-xs text-stone-500 mb-0.5",children:t}),d.jsx("p",{className:`font-display font-semibold text-xl ${n?"text-sage":"text-cream"}`,children:e})]})}function OD({title:t,children:e}){return d.jsxs("div",{className:"bg-stone-50 rounded-xl p-4 border border-stone-100",children:[d.jsx("p",{className:"font-body text-xs font-semibold text-stone-400 uppercase tracking-wider mb-3",children:t}),d.jsx("div",{className:"space-y-2",children:e})]})}function Do({label:t,value:e}){return d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsx("span",{className:"font-body text-xs text-stone-400 flex-shrink-0",children:t}),d.jsx("span",{className:"font-body text-sm text-ink font-medium text-right",children:e})]})}function J_({icon:t,title:e,sub:n}){return d.jsxs("div",{className:"flex flex-col items-center text-center py-12",children:[d.jsx(t,{size:32,className:"text-stone-300 mb-3"}),d.jsx("p",{className:"font-body font-medium text-stone-500 text-sm",children:e}),d.jsx("p",{className:"font-body text-xs text-stone-300 mt-1",children:n})]})}const VLe={overdue:{label:"Overdue",color:"text-rust",bg:"bg-rust/10",border:"border-rust/20",dot:"bg-rust"},urgent:{label:"Urgent",color:"text-rust",bg:"bg-rust/8",border:"border-rust/15",dot:"bg-rust/70"},soon:{label:"Soon",color:"text-amber",bg:"bg-amber/10",border:"border-amber/20",dot:"bg-amber"},ok:{label:"Upcoming",color:"text-sage",bg:"bg-sage/8",border:"border-sage/15",dot:"bg-sage"},paid:{label:"Paid",color:"text-stone-400",bg:"bg-stone-100",border:"border-stone-200",dot:"bg-stone-300"}};function Z_(t){var r,i;if(t.status==="paid")return"paid";const e=((i=(r=t.dueDate)==null?void 0:r.toDate)==null?void 0:i.call(r))??new Date(t.dueDate);if(Vf(e))return"overdue";const n=Fv(e,new Date);return n<=3?"urgent":n<=7?"soon":"ok"}function zLe(){const{user:t}=Pr(),{fmt:e,currencySymbol:n}=ji(),[r,i]=U.useState([]),[a,s]=U.useState([]),[o,l]=U.useState("all"),[c,u]=U.useState(!0),[f,h]=U.useState(!1),[p,y]=U.useState(!1),b={tenantName:"",propertyId:"",amount:"",dueDate:"",recurring:!1,notifyDaysBefore:3,notes:""},[x,v]=U.useState(b);U.useEffect(()=>{if(!t)return;const M=Iv(t.uid,I=>{i(I),u(!1)}),P=Cv(t.uid,s);return()=>{M(),P()}},[t]);const w=M=>P=>v(I=>({...I,[M]:P.target.type==="checkbox"?P.target.checked:P.target.value})),_=M=>{const P=M.target.value,I=a.find(j=>j.id===P);v(j=>({...j,propertyId:P,tenantName:(I==null?void 0:I.tenantName)||j.tenantName,amount:I!=null&&I.monthlyRent?String(I.monthlyRent):j.amount}))},A=async M=>{var P;if(M.preventDefault(),!x.tenantName||!x.amount||!x.dueDate){We.error("Please fill all required fields.");return}y(!0);try{const I=((P=a.find(j=>j.id===x.propertyId))==null?void 0:P.name)||"";await I9(t.uid,{...x,amount:parseInt(x.amount),dueDate:new Date(x.dueDate),propertyName:I}),We.success("Reminder created!"),h(!1),v(b)}catch{We.error("Failed to create reminder.")}finally{y(!1)}},E=async M=>{await kA(t.uid,M.id,{status:"paid",paidAt:new Date}),We.success("Marked as paid!")},O=async M=>{confirm(`Delete reminder for ${M.tenantName}?`)&&(await O9(t.uid,M.id),We.success("Reminder deleted."))},C=o==="all"?r:r.filter(M=>Z_(M)===o),N={overdue:0,urgent:0,soon:0,ok:0};r.forEach(M=>{const P=Z_(M);N[P]!==void 0&&N[P]++});const k=r.filter(M=>M.status!=="paid").reduce((M,P)=>M+(P.amount||0),0);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"font-display text-ink text-3xl font-semibold",children:"Reminders"}),d.jsxs("p",{className:"font-body text-stone-400 text-sm mt-0.5",children:[r.filter(M=>M.status!=="paid").length," active  ",e(k)," outstanding"]})]}),d.jsxs("button",{onClick:()=>h(!0),className:"btn-primary",children:[d.jsx(uo,{size:16})," New Reminder"]})]}),N.overdue>0&&d.jsxs(He.div,{initial:{opacity:0,x:-12},animate:{opacity:1,x:0},className:"flex items-center gap-3 p-4 bg-rust/8 border border-rust/20 rounded-xl",children:[d.jsx(z2,{size:18,className:"text-rust flex-shrink-0"}),d.jsxs("div",{children:[d.jsxs("p",{className:"font-body font-semibold text-sm text-rust",children:[N.overdue," overdue reminder",N.overdue>1?"s":""]}),d.jsx("p",{className:"font-body text-xs text-stone-400",children:"Follow up with tenants immediately."})]})]}),d.jsx("div",{className:"flex gap-2 flex-wrap",children:[{key:"all",label:"All",count:r.length},{key:"overdue",label:"Overdue",count:N.overdue},{key:"urgent",label:"Urgent",count:N.urgent},{key:"soon",label:"Soon",count:N.soon},{key:"ok",label:"Upcoming",count:N.ok}].map(({key:M,label:P,count:I})=>d.jsxs("button",{onClick:()=>l(M),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-body font-medium border transition-all
              ${o===M?"bg-ink text-cream border-ink":"bg-white text-stone-500 border-stone-200 hover:border-stone-300"}`,children:[P,I>0&&d.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-xs font-semibold ${o===M?"bg-white/15 text-cream":"bg-stone-100 text-stone-500"}`,children:I})]},M))}),c?d.jsx("div",{className:"space-y-3",children:[1,2,3].map(M=>d.jsx("div",{className:"card h-20 animate-pulse bg-stone-100"},M))}):C.length===0?d.jsxs("div",{className:"card p-16 flex flex-col items-center text-center border-2 border-dashed border-stone-200",children:[d.jsx(Ou,{size:40,className:"text-stone-300 mb-3"}),d.jsx("p",{className:"font-body font-medium text-stone-500",children:o==="all"?"No reminders yet":`No ${o} reminders`}),d.jsx("p",{className:"font-body text-xs text-stone-300 mt-1",children:o==="all"&&"Create reminders to track rent due dates."})]}):d.jsx("div",{className:"card overflow-hidden",children:d.jsx(ns,{children:C.map(M=>{var Z,re;const P=Z_(M),I=VLe[P],j=((re=(Z=M.dueDate)==null?void 0:Z.toDate)==null?void 0:re.call(Z))??new Date(M.dueDate),B=Fv(j,new Date),G=P==="paid";return d.jsxs(He.div,{initial:{opacity:0},animate:{opacity:G?.6:1},exit:{opacity:0,height:0},className:"flex items-center gap-4 px-5 py-4 border-b border-stone-100 last:border-0 hover:bg-stone-50/70 transition-colors group",children:[d.jsx("div",{className:`w-2.5 h-2.5 rounded-full flex-shrink-0 ${I.dot}`}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[d.jsx("span",{className:"font-body font-semibold text-sm text-ink",children:M.tenantName}),M.propertyName&&d.jsx("span",{className:"font-body text-xs text-stone-400",children:M.propertyName}),M.recurring&&d.jsx("span",{className:"font-body text-xs px-2 py-0.5 rounded-full bg-stone-100 text-stone-400",children:"Monthly"})]}),d.jsxs("div",{className:"flex items-center gap-3 mt-1 flex-wrap",children:[d.jsx("span",{className:`font-body text-xs font-medium px-2 py-0.5 rounded-full border ${I.bg} ${I.color} ${I.border}`,children:G?"Paid":Vf(j)?"Overdue":B===0?"Due today":B===1?"Due tomorrow":`Due in ${B}d`}),d.jsxs("span",{className:"font-body text-xs text-stone-400",children:[d.jsx(Ch,{size:11,className:"inline mr-1"}),Ta(j,"MMM d, yyyy")]})]})]}),d.jsx("div",{className:"text-right flex-shrink-0",children:d.jsx("p",{className:"font-display font-semibold text-lg text-ink",children:e(M.amount||0)})}),!G&&d.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsxs("button",{onClick:()=>E(M),className:"flex items-center gap-1.5 text-xs font-body font-medium px-3 py-1.5 rounded-lg bg-sage/10 text-sage border border-sage/20 hover:bg-sage/20 transition-colors",children:[d.jsx(x4,{size:13})," Paid"]}),d.jsx("button",{onClick:()=>O(M),className:"p-1.5 rounded-lg bg-rust/8 text-rust border border-rust/15 hover:bg-rust/15 transition-colors",children:d.jsx(q2,{size:13})})]})]},M.id)})})}),d.jsx(Ru,{isOpen:f,onClose:()=>h(!1),title:"New Rent Reminder",children:d.jsxs("form",{onSubmit:A,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Link to Property (optional)"}),d.jsxs("select",{className:"input-base",value:x.propertyId,onChange:_,children:[d.jsx("option",{value:"",children:" Select property "}),a.map(M=>d.jsx("option",{value:M.id,children:M.name},M.id))]})]}),d.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Tenant Name *"}),d.jsx("input",{className:"input-base",placeholder:"Full name",value:x.tenantName,onChange:w("tenantName"),required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"label-xs",children:["Amount (",n,") *"]}),d.jsx("input",{className:"input-base",type:"number",placeholder:"e.g. 250000",value:x.amount,onChange:w("amount"),required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Due Date *"}),d.jsx("input",{className:"input-base",type:"date",value:x.dueDate,onChange:w("dueDate"),required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Notify N days before"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"range",min:1,max:14,value:x.notifyDaysBefore,onChange:M=>v(P=>({...P,notifyDaysBefore:parseInt(M.target.value)})),className:"flex-1 accent-sage"}),d.jsxs("span",{className:"font-mono text-sm font-medium text-ink w-8 text-right",children:[x.notifyDaysBefore,"d"]})]})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"checkbox",id:"recurring",checked:x.recurring,onChange:w("recurring"),className:"w-4 h-4 rounded accent-sage"}),d.jsx("label",{htmlFor:"recurring",className:"font-body text-sm text-ink cursor-pointer",children:"Recurring monthly reminder"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Notes (optional)"}),d.jsx("input",{className:"input-base",placeholder:"Any additional notes",value:x.notes,onChange:w("notes")})]}),d.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[d.jsx("button",{type:"button",onClick:()=>h(!1),className:"btn-secondary",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:p,className:"btn-primary",children:p?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(uo,{size:15})," Create Reminder"]})})]})]})})]})}function qLe(){const{user:t}=Pr(),{fmt:e}=ji(),[n,r]=U.useState([]),[i,a]=U.useState([]),[s,o]=U.useState(!0),[l,c]=U.useState("all"),[u,f]=U.useState("all");U.useEffect(()=>{if(!t)return;const x=[],v=Cv(t.uid,w=>{if(r(w),x.forEach(_=>_==null?void 0:_()),x.length=0,w.length===0){a([]),o(!1);return}w.forEach(_=>{const A=j9(t.uid,_.id,E=>{const O=E.map(C=>({...C,propertyName:_.name,propertyId:_.id}));a(C=>[...C.filter(k=>k.propertyId!==_.id),...O].sort((k,M)=>{var j,B,G,Z;const P=((B=(j=k.paidDate)==null?void 0:j.toDate)==null?void 0:B.call(j))??new Date(k.paidDate);return(((Z=(G=M.paidDate)==null?void 0:G.toDate)==null?void 0:Z.call(G))??new Date(M.paidDate))-P})),o(!1)});x.push(A)})});return()=>{v(),x.forEach(w=>w==null?void 0:w())}},[t]);const h=i.filter(x=>(l==="all"||x.status===l)&&(u==="all"||x.propertyId===u)),p=i.filter(x=>x.status==="paid").reduce((x,v)=>x+(v.amount||0),0),y=i.filter(x=>x.status==="pending").reduce((x,v)=>x+(v.amount||0),0),b=i.filter(x=>x.status==="late").reduce((x,v)=>x+(v.amount||0),0);return d.jsxs("div",{className:"space-y-6",children:[d.jsx(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},className:"flex items-start justify-between",children:d.jsxs("div",{children:[d.jsx("h1",{className:"font-display text-ink text-3xl font-semibold",children:"Payments"}),d.jsxs("p",{className:"font-body text-stone-400 text-sm mt-0.5",children:[i.length," records across ",n.length," properties"]})]})}),d.jsx("div",{className:"grid sm:grid-cols-3 gap-4",children:[{label:"Total Collected",value:p,color:"text-sage",bg:"bg-sage/10",icon:_U},{label:"Pending",value:y,color:"text-amber",bg:"bg-amber/10",icon:Ls},{label:"Late",value:b,color:"text-rust",bg:"bg-rust/10",icon:Ls}].map(({label:x,value:v,color:w,bg:_,icon:A},E)=>d.jsxs(He.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:E*.06},className:"stat-card",children:[d.jsx("div",{className:`w-10 h-10 rounded-xl ${_} flex items-center justify-center`,children:d.jsx(A,{size:18,className:w})}),d.jsxs("div",{children:[d.jsx("p",{className:`font-display text-2xl font-semibold ${w}`,children:e(v)}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:x})]})]},x))}),d.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[d.jsx("div",{className:"flex gap-2",children:["all","paid","pending","late"].map(x=>d.jsx("button",{onClick:()=>c(x),className:`px-3 py-1.5 rounded-lg text-sm font-body font-medium border capitalize transition-all
                ${l===x?"bg-ink text-cream border-ink":"bg-white text-stone-500 border-stone-200 hover:border-stone-300"}`,children:x},x))}),d.jsx("div",{className:"h-5 w-px bg-stone-200"}),d.jsxs("select",{className:"text-sm font-body border border-stone-200 rounded-lg px-3 py-1.5 bg-white text-stone-500 focus:outline-none focus:border-sage transition-colors",value:u,onChange:x=>f(x.target.value),children:[d.jsx("option",{value:"all",children:"All Properties"}),n.map(x=>d.jsx("option",{value:x.id,children:x.name},x.id))]})]}),s?d.jsx("div",{className:"card overflow-hidden",children:[1,2,3,4].map(x=>d.jsx("div",{className:"h-16 border-b border-stone-100 animate-pulse bg-stone-50/50"},x))}):h.length===0?d.jsxs("div",{className:"card p-16 flex flex-col items-center text-center border-2 border-dashed border-stone-200",children:[d.jsx(Ls,{size:40,className:"text-stone-300 mb-3"}),d.jsx("p",{className:"font-body font-medium text-stone-500",children:"No payments found"}),d.jsx("p",{className:"font-body text-xs text-stone-300 mt-1",children:i.length===0?"Payments will appear here automatically after tenants pay online.":"Try adjusting your filters."}),i.length===0&&d.jsxs(Xn,{to:"/properties",className:"btn-secondary mt-4 text-sm",children:["Go to Properties ",d.jsx(sl,{size:14})]})]}):d.jsxs(He.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"card overflow-hidden",children:[d.jsxs("div",{className:"flex items-center gap-4 px-5 py-3 bg-stone-50 border-b border-stone-100 text-xs font-body font-semibold text-stone-400 uppercase tracking-wider",children:[d.jsx("span",{className:"flex-1",children:"Tenant / Property"}),d.jsx("span",{className:"w-28 text-right hidden sm:block",children:"Date"}),d.jsx("span",{className:"w-24 text-right hidden md:block",children:"Method"}),d.jsx("span",{className:"w-20 text-right",children:"Status"}),d.jsx("span",{className:"w-28 text-right",children:"Amount"})]}),h.map((x,v)=>d.jsx(Fk,{payment:x,isLast:v===h.length-1,showProperty:!0,onDownloadInvoice:Dk},`${x.id}-${x.propertyId}`))]})]})}function WLe(){const{user:t,profile:e}=Pr(),{country:n,countries:r,changeCountry:i}=ji(),[a,s]=U.useState(!1),[o,l]=U.useState((e==null?void 0:e.countryCode)||n.code),[c,u]=U.useState({rentDue:!0,overdue:!0,maintenance:!0,weeklyReport:!1}),f=y=>{l(y.target.value)},h=async()=>{s(!0);try{i(o),t!=null&&t.uid&&await mie(t.uid,{countryCode:o}),We.success("Country & currency updated!")}catch{We.error("Failed to save settings.")}finally{s(!1)}},p=r.find(y=>y.code===o);return d.jsxs("div",{className:"space-y-6 max-w-2xl",children:[d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},children:[d.jsx("h1",{className:"font-display text-ink text-3xl font-semibold",children:"Settings"}),d.jsx("p",{className:"font-body text-stone-400 text-sm mt-0.5",children:"App preferences and configuration"})]}),d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.05},className:"card p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-5 pb-5 border-b border-stone-100",children:[d.jsx(GA,{size:16,className:"text-stone-400"}),d.jsx("h2",{className:"font-body font-semibold text-ink text-sm",children:"Country & Currency"})]}),d.jsx("p",{className:"font-body text-xs text-stone-400 mb-3",children:"All rent amounts, payments and financial data will display in your selected currency."}),d.jsxs("div",{className:"relative mb-3",children:[d.jsx(GA,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("select",{className:"input-base pl-10 appearance-none",value:o,onChange:f,children:r.map(y=>d.jsxs("option",{value:y.code,children:[rd(y.code)," ",y.name,"  ",y.currency," (",y.symbol,")"]},y.code))})]}),p&&d.jsxs("p",{className:"font-body text-xs text-stone-400 mb-4",children:[rd(p.code)," Prices will show in ",d.jsxs("strong",{className:"text-sage",children:[p.currencyName," (",p.symbol,")"]})]}),d.jsx("button",{onClick:h,disabled:a||o===((e==null?void 0:e.countryCode)||n.code),className:"btn-primary btn-sm",children:a?d.jsx("div",{className:"w-3.5 h-3.5 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(la,{size:13})," Save Changes"]})})]}),d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.08},className:"card p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-5 pb-5 border-b border-stone-100",children:[d.jsx(Ou,{size:16,className:"text-stone-400"}),d.jsx("h2",{className:"font-body font-semibold text-ink text-sm",children:"Notifications"})]}),d.jsx("div",{className:"space-y-1",children:[{key:"rentDue",label:"Rent Due Reminders",sub:"Get notified before rent is due"},{key:"overdue",label:"Overdue Alerts",sub:"Immediate alerts for overdue payments"},{key:"maintenance",label:"Maintenance Updates",sub:"Status changes on maintenance tickets"},{key:"weeklyReport",label:"Weekly Summary",sub:"Weekly digest of your portfolio"}].map(({key:y,label:b,sub:x})=>d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-stone-100 last:border-0",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-body font-medium text-sm text-ink",children:b}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:x})]}),d.jsx("button",{onClick:()=>u(v=>({...v,[y]:!v[y]})),className:`relative w-11 h-6 rounded-full transition-colors duration-200 ${c[y]?"bg-sage":"bg-stone-200"}`,children:d.jsx("span",{className:`absolute top-0.5 left-0.5 w-5 h-5 rounded-full bg-white shadow-sm transition-transform duration-200 ${c[y]?"translate-x-5":"translate-x-0"}`})})]},y))})]}),d.jsx(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.12},className:"card p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg bg-sage flex items-center justify-center",children:d.jsx(Bs,{size:14,className:"text-cream"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-body font-semibold text-ink text-sm",children:"LeaseEase"}),d.jsx("p",{className:"font-body text-xs text-stone-300",children:"Version 1.0.0  Global"})]})]}),d.jsx("span",{className:"badge-sage",children:"Active"})]})})]})}function HLe(){var b,x;const{user:t,profile:e,logout:n}=Pr(),{country:r,currencyName:i,currencySymbol:a}=ji(),s=ls(),[o,l]=pe.useState(!1),c=async()=>{await n(),We.success("Signed out."),s("/login")},u=async()=>{try{await T9(t.email),l(!0),We.success("Password reset email sent!")}catch{We.error("Failed to send reset email.")}},f=((e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||"U").split(" ").map(v=>v[0]).join("").toUpperCase().slice(0,2),h=(b=t==null?void 0:t.metadata)!=null&&b.creationTime?new Date(t.metadata.creationTime).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}):"",p=(e==null?void 0:e.role)||"landlord",y=Ds[((x=e==null?void 0:e.subscription)==null?void 0:x.planId)||"free"]||Ds.free;return d.jsxs("div",{className:"space-y-6 max-w-2xl",children:[d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},children:[d.jsx("h1",{className:"font-display text-ink text-3xl font-semibold",children:"Profile"}),d.jsx("p",{className:"font-body text-stone-400 text-sm mt-0.5",children:"Your personal identity and account details"})]}),d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.05},className:"card overflow-hidden",children:[d.jsxs("div",{className:"bg-gradient-to-br from-ink to-ink-light p-6 relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"radial-gradient(circle at 1px 1px, #F5F0E8 1px, transparent 0)",backgroundSize:"24px 24px"}}),d.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-sage/10 rounded-full blur-2xl"}),d.jsxs("div",{className:"relative flex items-center gap-5",children:[d.jsx("div",{className:"w-20 h-20 rounded-2xl bg-sage/20 border-2 border-sage/40 flex items-center justify-center flex-shrink-0 shadow-lg",children:d.jsx("span",{className:"font-display font-bold text-sage text-3xl",children:f})}),d.jsxs("div",{children:[d.jsx("h2",{className:"font-display text-cream text-2xl font-semibold",children:(e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||"User"}),d.jsx("p",{className:"font-body text-stone-400 text-sm mt-0.5",children:t==null?void 0:t.email}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsx("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-lg text-xs font-body font-semibold capitalize ${p==="tenant"?"bg-sage/15 text-sage":"bg-amber/15 text-amber"}`,children:p}),p!=="tenant"&&d.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-body font-semibold ${y.badgeColor}`,children:[d.jsx(Ih,{size:10})," ",y.badge]})]})]})]})]}),d.jsx("div",{className:"p-6 space-y-4",children:d.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[d.jsx(Wd,{icon:go,label:"Full Name",value:(e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||""}),d.jsx(Wd,{icon:ol,label:"Email",value:(t==null?void 0:t.email)||""}),d.jsx(Wd,{icon:S4,label:"Phone",value:(e==null?void 0:e.phone)||""}),d.jsx(Wd,{icon:qp,label:"Country",value:r?`${rd(r.code)} ${r.name}`:""}),d.jsx(Wd,{icon:gU,label:"Member Since",value:h}),d.jsx(Wd,{label:"Currency",value:r?`${r.currencyName} (${r.symbol})`:"",icon:()=>d.jsx("span",{className:"text-sm font-semibold text-stone-400",children:a})})]})})]}),p!=="tenant"&&d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.08},className:"card p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-5 pb-4 border-b border-stone-100",children:[d.jsx(Ih,{size:16,className:"text-stone-400"}),d.jsx("h3",{className:"font-body font-semibold text-ink text-sm",children:"Subscription"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("p",{className:"font-body font-semibold text-ink text-lg",children:y.name}),d.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-body font-semibold ${y.badgeColor}`,children:[d.jsx(Ih,{size:10})," ",y.badge]})]}),d.jsxs("p",{className:"font-body text-xs text-stone-400",children:[y.price===0?"Free forever":`$${y.price}/${y.period}`,"  ",y.maxProperties===1/0?"Unlimited":`Up to ${y.maxProperties}`," properties"]})]}),d.jsx(Xn,{to:"/subscription",className:"btn-secondary text-sm",children:y.id==="free"?"Upgrade":"Manage Plan"})]})]}),d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.1},className:"card p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-5 pb-4 border-b border-stone-100",children:[d.jsx(uce,{size:16,className:"text-stone-400"}),d.jsx("h3",{className:"font-body font-semibold text-ink text-sm",children:"Security"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-body font-medium text-sm text-ink",children:"Password"}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:"Send a reset link to your email"})]}),d.jsx("button",{onClick:u,disabled:o,className:"btn-secondary text-sm",children:o?d.jsxs(d.Fragment,{children:[d.jsx(la,{size:14,className:"text-sage"})," Email Sent"]}):"Reset Password"})]})]}),d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.15},className:"card p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-stone-100",children:[d.jsx(YA,{size:16,className:"text-stone-400"}),d.jsx("h3",{className:"font-body font-semibold text-ink text-sm",children:"Account"})]}),d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-body font-medium text-sm text-ink",children:(e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||"User"}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:t==null?void 0:t.email})]}),d.jsx("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-lg text-xs font-body font-semibold capitalize ${(e==null?void 0:e.role)==="tenant"?"bg-sage/10 text-sage":"bg-amber/10 text-amber"}`,children:(e==null?void 0:e.role)||"landlord"})]}),d.jsxs("button",{onClick:c,className:"btn-danger w-full",children:[d.jsx(YA,{size:15})," Sign Out"]})]})]})}function Wd({icon:t,label:e,value:n}){return d.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-stone-50 border border-stone-100",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg bg-white border border-stone-100 flex items-center justify-center flex-shrink-0 mt-0.5",children:typeof t=="function"&&t.length===0?d.jsx(t,{}):d.jsx(t,{size:14,className:"text-stone-400"})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:"font-body text-[11px] text-stone-400 uppercase tracking-wider font-semibold",children:e}),d.jsx("p",{className:"font-body text-sm text-ink font-medium mt-0.5 truncate",children:n})]})]})}const RD="ABCDEFGHJKMNPQRSTUVWXYZ23456789";function LD(t=6){const e=crypto.getRandomValues(new Uint8Array(t));return Array.from(e,n=>RD[n%RD.length]).join("")}async function GLe(t,e,n){let r=LD(),i=await al(Tn(At,"inviteCodes",r)),a=0;for(;i.exists()&&a<5;)r=LD(),i=await al(Tn(At,"inviteCodes",r)),a++;await RT(Tn(At,"inviteCodes",r),{code:r,landlordUid:t,propertyId:e,propertyName:n||"",status:"active",createdAt:pr()});const s=Tn(At,"users",t,"properties",e);return await cs(s,{inviteCode:r}),r}async function KLe(t,e){try{const n=ma(ri(At,"inviteCodes"),fr("landlordUid","==",t),fr("propertyId","==",e),fr("status","==","active")),r=await vd(n);if(!r.empty)return r.docs[0].data().code}catch(n){console.warn("inviteCodes composite query failed, falling back to property doc:",n.message)}try{const n=await al(Tn(At,"users",t,"properties",e));if(n.exists()){const r=n.data().inviteCode;if(r){const i=await al(Tn(At,"inviteCodes",r));if(i.exists()&&i.data().status==="active")return r}}}catch(n){console.warn("Fallback invite code read failed:",n.message)}return null}async function YLe(t){const e=Tn(At,"inviteCodes",t);await cs(e,{status:"revoked"})}async function XLe(t,e,n){const r=await KLe(t,e);return r&&await YLe(r),GLe(t,e,n)}function QLe(){const t=ls(),e=$u(),{user:n}=Pr(),{fmt:r}=ji(),{propertyId:i,propertyName:a,inviteCode:s,monthlyRent:o=0,rentType:l="monthly"}=e.state||{},c=o,u=o+c,f=Ta(_ce(new Date,30),"MMM d, yyyy"),[h,p]=U.useState("main"),[y,b]=U.useState(s||""),[x,v]=U.useState(!1),[w,_]=U.useState(!1),[A,E]=U.useState(5),[O,C]=U.useState("1"),[N,k]=U.useState(!1),[M,P]=U.useState(0);if(!i||!a)return d.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[d.jsx("p",{className:"font-body text-stone-400 mb-4",children:"No property data found."}),d.jsx("button",{onClick:()=>t("/properties"),className:"btn-primary",children:"Go to Properties"})]});const I=async()=>{try{await navigator.clipboard.writeText(y),v(!0),We.success("Invite code copied!"),setTimeout(()=>v(!1),2e3)}catch{We.error("Failed to copy.")}},j=async()=>{if(confirm("Regenerate invite code? The current code will stop working.")){_(!0);try{const Z=await XLe(n.uid,i,a);b(Z),We.success("New invite code generated!")}catch{We.error("Failed to regenerate.")}finally{_(!1)}}},B=U.useMemo(()=>{const Z=Math.max(1,Math.min(100,Number(A)||1)),re=/^\d+$/.test(O.trim()),Y=re?parseInt(O.trim(),10):1;return Array.from({length:Z},(ae,ue)=>re?String(Y+ue):`${O.trim()}${ue+1}`)},[A,O]),G=async()=>{if(B.length!==0){k(!0);try{await xie(n.uid,i,B),P(B.length),We.success(`${B.length} units created!`)}catch(Z){console.error("Batch unit creation failed:",Z),We.error("Failed to create units. Please try again.")}finally{k(!1)}}};return d.jsx("div",{className:"min-h-[70vh] flex items-center justify-center px-4",children:d.jsxs(ns,{mode:"wait",children:[h==="main"&&d.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.35},className:"w-full max-w-lg text-center",children:[d.jsx("div",{className:"w-20 h-20 rounded-full bg-sage/10 flex items-center justify-center mx-auto mb-6",children:d.jsx(wO,{size:40,className:"text-sage"})}),d.jsx("h1",{className:"font-display text-ink text-3xl font-semibold mb-2",children:"Property Created!"}),d.jsxs("p",{className:"font-body text-stone-400 text-sm mb-2",children:[d.jsx("span",{className:"font-semibold text-ink",children:a})," has been added to your portfolio."]}),d.jsx("p",{className:"font-body text-stone-400 text-sm mb-10",children:"What would you like to do next?"}),d.jsxs("div",{className:"grid gap-4 sm:grid-cols-3 text-left",children:[d.jsxs("button",{onClick:()=>{P(0),p("units")},className:"group card p-5 border-2 border-sage/20 hover:border-sage/50 hover:shadow-deep transition-all text-left",children:[d.jsx("div",{className:"w-11 h-11 rounded-xl bg-sage/10 flex items-center justify-center mb-3 group-hover:bg-sage/20 transition-colors",children:d.jsx(J5,{size:20,className:"text-sage"})}),d.jsx("p",{className:"font-body font-semibold text-ink text-sm mb-1",children:"Quick-Add Units"}),d.jsx("p",{className:"font-body text-xs text-stone-400 leading-relaxed",children:"Batch-create unit numbers for a multi-unit building instantly."}),d.jsxs("div",{className:"flex items-center gap-1 mt-3 text-sage font-body text-xs font-medium",children:["Generate ",d.jsx(Qa,{size:12})]})]}),d.jsxs("button",{onClick:()=>p("invite"),className:"group card p-5 border-2 border-stone-100 hover:border-stone-300 hover:shadow-deep transition-all text-left",children:[d.jsx("div",{className:"w-11 h-11 rounded-xl bg-stone-100 flex items-center justify-center mb-3 group-hover:bg-stone-200 transition-colors",children:d.jsx(W2,{size:20,className:"text-stone-500"})}),d.jsx("p",{className:"font-body font-semibold text-ink text-sm mb-1",children:"Invite Tenant"}),d.jsx("p",{className:"font-body text-xs text-stone-400 leading-relaxed",children:"Generate and share an invite code so your tenant can join."}),d.jsxs("div",{className:"flex items-center gap-1 mt-3 text-stone-400 font-body text-xs font-medium",children:["Continue ",d.jsx(Qa,{size:12})]})]}),d.jsxs("button",{onClick:()=>t("/properties"),className:"group card p-5 border-2 border-stone-100 hover:border-stone-300 hover:shadow-deep transition-all text-left",children:[d.jsx("div",{className:"w-11 h-11 rounded-xl bg-stone-100 flex items-center justify-center mb-3 group-hover:bg-stone-200 transition-colors",children:d.jsx(is,{size:20,className:"text-stone-500"})}),d.jsx("p",{className:"font-body font-semibold text-ink text-sm mb-1",children:"Add Later"}),d.jsx("p",{className:"font-body text-xs text-stone-400 leading-relaxed",children:"Skip for now  go to your property dashboard and set up later."}),d.jsxs("div",{className:"flex items-center gap-1 mt-3 text-stone-400 font-body text-xs font-medium",children:["Go to Dashboard ",d.jsx(Qa,{size:12})]})]})]}),o>0&&d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.25},className:"mt-10 text-left",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4 justify-center",children:[d.jsx(ace,{size:16,className:"text-sage"}),d.jsx("p",{className:"font-body text-xs font-semibold text-sage uppercase tracking-wider",children:"First Payment Preview"})]}),d.jsxs("div",{className:"card border border-stone-200 overflow-hidden",children:[d.jsxs("div",{className:"bg-gradient-to-br from-ink to-ink-light px-5 py-4",children:[d.jsx("p",{className:"font-display text-cream text-sm font-semibold",children:"Invoice Preview"}),d.jsx("p",{className:"font-body text-stone-400 text-xs mt-0.5",children:a})]}),d.jsxs("div",{className:"divide-y divide-stone-100",children:[d.jsx(eS,{label:"Rent Amount",value:r(o)}),d.jsx(eS,{label:"Security Deposit",value:r(c),sub:"1 monthly rent"}),d.jsx(eS,{label:"Due Date",value:f,icon:d.jsx(gU,{size:13,className:"text-stone-400"})})]}),d.jsxs("div",{className:"bg-stone-50 px-5 py-3 flex items-center justify-between",children:[d.jsx("span",{className:"font-body text-xs font-semibold text-stone-500 uppercase tracking-wider",children:"Total Due"}),d.jsx("span",{className:"font-display text-lg font-bold text-sage",children:r(u)})]})]}),d.jsx("p",{className:"font-body text-xs text-stone-400 text-center mt-3",children:"This is a preview based on default settings. Amounts may be adjusted before sending."})]})]},"main"),h==="units"&&d.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.35},className:"w-full max-w-md",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"w-16 h-16 rounded-full bg-sage/10 flex items-center justify-center mx-auto mb-5",children:d.jsx(J5,{size:28,className:"text-sage"})}),d.jsx("h2",{className:"font-display text-ink text-2xl font-semibold mb-1",children:"Quick-Add Units"}),d.jsxs("p",{className:"font-body text-sm text-stone-400",children:["Batch-create units for ",d.jsx("span",{className:"font-semibold text-ink",children:a}),"."]})]}),M>0?d.jsxs(He.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 rounded-full bg-sage/10 flex items-center justify-center mx-auto mb-4",children:d.jsx(wO,{size:32,className:"text-sage"})}),d.jsxs("p",{className:"font-display text-ink text-xl font-semibold mb-1",children:[M," unit",M!==1?"s":""," created!"]}),d.jsx("p",{className:"font-body text-sm text-stone-400 mb-8",children:"All units are vacant and ready to assign to tenants."}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("button",{onClick:()=>t(`/properties/${i}`),className:"btn-primary w-full py-3 justify-center",children:[d.jsx(tce,{size:15}),"View Building Portal"]}),d.jsx("button",{onClick:()=>p("main"),className:"btn-secondary w-full py-2.5 justify-center text-sm",children:" Back to Overview"})]})]}):d.jsxs("div",{className:"card p-6 space-y-5",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:"Number of Units"}),d.jsxs("div",{className:"relative",children:[d.jsx(xy,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{type:"number",min:"1",max:"100",className:"input-base pl-10",value:A,onChange:Z=>E(Math.max(1,Math.min(100,Number(Z.target.value)||1)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:"Starting Number / Prefix"}),d.jsxs("div",{className:"relative",children:[d.jsx(J5,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{type:"text",className:"input-base pl-10",placeholder:"e.g. 1  or  Apt-  or  101",value:O,onChange:Z=>C(Z.target.value)})]}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-1.5",children:"Numeric prefix counts up from that number. Text prefix appends 1, 2, 3"})]}),d.jsxs("div",{className:"rounded-xl border border-stone-200 bg-stone-50 px-4 py-3",children:[d.jsx("p",{className:"font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-2",children:"Preview"}),d.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[B.slice(0,5).map((Z,re)=>d.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg bg-white border border-stone-200 font-body text-xs font-medium text-ink shadow-sm",children:Z},re)),B.length>5&&d.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg bg-white border border-stone-200 font-body text-xs text-stone-400",children:["+",B.length-5," more"]})]})]}),d.jsx("button",{onClick:G,disabled:N||B.length===0,className:"btn-primary w-full py-3 justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:N?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(wU,{size:16})," Generate ",B.length," Unit",B.length!==1?"s":""]})})]}),M===0&&d.jsx("div",{className:"flex justify-start mt-5",children:d.jsx("button",{onClick:()=>p("main"),className:"btn-secondary text-sm",children:" Back"})})]},"units"),h==="invite"&&d.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.35},className:"w-full max-w-md text-center",children:[d.jsx("div",{className:"w-16 h-16 rounded-full bg-sage/10 flex items-center justify-center mx-auto mb-5",children:d.jsx(fce,{size:28,className:"text-sage"})}),d.jsx("h2",{className:"font-display text-ink text-2xl font-semibold mb-1",children:"Invite Your Tenant"}),d.jsxs("p",{className:"font-body text-sm text-stone-400 mb-8",children:["Share this unique code with your tenant for ",d.jsx("span",{className:"font-semibold text-ink",children:a}),"."]}),d.jsx("div",{className:"flex justify-center gap-2 mb-6",children:d.jsx(ns,{mode:"wait",children:d.jsx(He.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"flex gap-2",children:y.split("").map((Z,re)=>d.jsx("span",{className:"inline-flex items-center justify-center w-12 h-14 rounded-xl bg-white border-2 border-sage/20 font-display text-2xl font-bold text-ink shadow-sm",children:Z},re))},y)})}),d.jsx("p",{className:"font-body text-xs text-stone-400 mb-6",children:"Your tenant can use this code during sign-up to link to this property."}),d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[d.jsxs("button",{onClick:I,className:`inline-flex items-center gap-2 px-5 py-2.5 rounded-xl text-sm font-body font-medium border transition-all ${x?"bg-sage/10 text-sage border-sage/30":"bg-sage text-cream border-sage hover:bg-sage/90"}`,children:[x?d.jsx(la,{size:15}):d.jsx(w4,{size:15}),x?"Copied!":"Copy to Clipboard"]}),d.jsxs("button",{onClick:j,disabled:w,className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-body font-medium bg-white text-stone-500 border border-stone-200 hover:border-stone-300 transition-all disabled:opacity-50",children:[d.jsx(cce,{size:14,className:w?"animate-spin":""}),"Regenerate"]})]}),d.jsxs("div",{className:"flex items-center justify-center gap-3 pt-4 border-t border-stone-100",children:[d.jsx("button",{onClick:()=>p("main"),className:"btn-secondary text-sm",children:" Back"}),d.jsxs("button",{onClick:()=>t(`/properties/${i}`),className:"btn-primary text-sm",children:["View Property ",d.jsx(Qa,{size:14})]})]})]},"invite")]})})}function eS({label:t,value:e,sub:n,icon:r}){return d.jsxs("div",{className:"flex items-center justify-between px-5 py-3",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-body text-sm text-ink font-medium",children:t}),n&&d.jsx("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:n})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[r,d.jsx("span",{className:"font-body text-sm font-semibold text-ink",children:e})]})]})}const JLe={free:is,pro:mce,business:Ih},tS=(t=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t,duration:.4}});function ZLe(){const{user:t}=Pr(),[e,n]=U.useState(null),[r,i]=U.useState(!0),[a,s]=U.useState(null);U.useEffect(()=>{t&&Lw(t.uid).then(l=>{n(l),i(!1)})},[t]);const o=async l=>{if(l!==(e==null?void 0:e.id)){s(l);try{await IIe(t.uid,l),n(Ds[l]);const c=Ds[l];We.success(`Switched to ${c.name} plan!`)}catch{We.error("Failed to update plan.")}finally{s(null)}}};return r?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"w-8 h-8 border-2 border-sage border-t-transparent rounded-full animate-spin"})}):d.jsxs("div",{className:"space-y-8 max-w-5xl mx-auto",children:[d.jsxs(He.div,{...tS(0),className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[d.jsx(wU,{size:20,className:"text-sage"}),d.jsx("span",{className:"font-body text-xs font-semibold text-sage uppercase tracking-wider",children:"Subscription Plans"})]}),d.jsx("h1",{className:"font-display text-ink text-3xl sm:text-4xl font-semibold mb-2",children:"Choose your plan"}),d.jsx("p",{className:"font-body text-stone-400 text-sm max-w-md mx-auto",children:"Scale your property management with the right plan. Upgrade or downgrade anytime."})]}),d.jsx("div",{className:"grid md:grid-cols-3 gap-5",children:Fh.map((l,c)=>{const u=Ds[l],f=(e==null?void 0:e.id)===l,h=JLe[l],p=Fh.indexOf(e==null?void 0:e.id),b=Fh.indexOf(l)>p;return d.jsxs(He.div,{...tS(.1+c*.08),className:`relative card flex flex-col overflow-hidden transition-all ${u.popular?"border-2 border-sage shadow-deep":f?"border-2 border-sage/30":"border border-stone-200 hover:border-stone-300"}`,children:[u.popular&&d.jsx("div",{className:"absolute top-0 right-0",children:d.jsx("div",{className:"bg-sage text-cream font-body text-xs font-semibold px-3 py-1 rounded-bl-xl",children:"Popular"})}),d.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center ${l==="business"?"bg-amber/10":l==="pro"?"bg-sage/10":"bg-stone-100"}`,children:d.jsx(h,{size:20,className:l==="business"?"text-amber":l==="pro"?"text-sage":"text-stone-500"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-display text-ink text-lg font-semibold",children:u.name}),f&&d.jsx("span",{className:"font-body text-xs text-sage font-medium",children:"Current plan"})]})]}),d.jsxs("div",{className:"mb-4",children:[u.price===0?d.jsxs("div",{className:"flex items-baseline gap-1",children:[d.jsx("span",{className:"font-display text-ink text-4xl font-bold",children:"$0"}),d.jsx("span",{className:"font-body text-stone-400 text-sm",children:"/ forever"})]}):d.jsxs("div",{className:"flex items-baseline gap-1",children:[d.jsxs("span",{className:"font-display text-ink text-4xl font-bold",children:["$",u.price]}),d.jsxs("span",{className:"font-body text-stone-400 text-sm",children:["/ ",u.period]})]}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-1",children:u.description})]}),d.jsx("div",{className:"flex-1 space-y-2.5 mb-6",children:u.features.map(({label:x,included:v})=>d.jsxs("div",{className:"flex items-center gap-2.5",children:[v?d.jsx("div",{className:"w-5 h-5 rounded-full bg-sage/10 flex items-center justify-center flex-shrink-0",children:d.jsx(la,{size:12,className:"text-sage"})}):d.jsx("div",{className:"w-5 h-5 rounded-full bg-stone-100 flex items-center justify-center flex-shrink-0",children:d.jsx(H2,{size:10,className:"text-stone-300"})}),d.jsx("span",{className:`font-body text-sm ${v?"text-ink":"text-stone-300"}`,children:x})]},x))}),d.jsx("button",{onClick:()=>o(l),disabled:f||a!==null,className:`w-full py-3 rounded-xl text-sm font-body font-semibold transition-all ${f?"bg-sage/10 text-sage border border-sage/20 cursor-default":u.popular?"bg-sage text-cream hover:bg-sage/90 shadow-sm":"bg-white text-ink border border-stone-200 hover:border-sage hover:text-sage"} disabled:opacity-60`,children:a===l?d.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mx-auto"}):f?d.jsxs("span",{className:"flex items-center justify-center gap-1.5",children:[d.jsx(la,{size:14})," Current Plan"]}):b?`Upgrade to ${u.name}`:`Switch to ${u.name}`})]})]},l)})}),d.jsxs(He.p,{...tS(.4),className:"text-center font-body text-xs text-stone-400",children:["Plans can be changed at any time. Changes take effect immediately.",d.jsx("br",{}),"No credit card required for Free plan."]})]})}const MD=()=>({id:crypto.randomUUID(),name:"",rent:"",rentType:"monthly",tenantName:"",tenantEmail:""});function e6e(){const t=ls(),{user:e,profile:n}=Pr(),{currencySymbol:r}=ji(),[i,a]=U.useState(1),[s,o]=U.useState(!1),[l,c]=U.useState({name:"",address:""}),[u,f]=U.useState([MD()]),h=((n==null?void 0:n.fullName)||(e==null?void 0:e.displayName)||"there").split(" ")[0],p=()=>f(_=>[..._,MD()]),y=_=>{u.length!==1&&f(A=>A.filter(E=>E.id!==_))},b=(_,A,E)=>{f(O=>O.map(C=>C.id===_?{...C,[A]:E}:C))},x=_=>{if(_.preventDefault(),!l.name.trim()){We.error("Please enter a property/building name.");return}a(2)},v=async()=>{const _=u.filter(A=>A.name.trim());if(_.length===0){We.error("Add at least one apartment/unit.");return}o(!0);try{for(const A of _){const E=await LT(e.uid,{name:A.name.trim(),address:l.address.trim(),buildingName:l.name.trim(),unitNumber:A.name.trim(),type:"Apartment",status:A.tenantName?"occupied":"vacant",monthlyRent:parseInt(A.rent)||0,rentType:A.rentType||"monthly",tenantName:A.tenantName||"",tenantEmail:A.tenantEmail||"",tenantPhone:"",bedrooms:0,bathrooms:0,sqft:0,floor:"",description:""})}We.success(`${_.length} unit${_.length>1?"s":""} added to ${l.name}!`),t("/dashboard")}catch(A){console.error(A),We.error("Failed to save. Please try again.")}finally{o(!1)}},w=()=>t("/dashboard");return d.jsx("div",{className:"min-h-dvh bg-cream flex items-center justify-center p-4 sm:p-8",children:d.jsxs("div",{className:"w-full max-w-2xl",children:[d.jsxs(He.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"flex items-center gap-3 mb-8",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-sage flex items-center justify-center",children:d.jsx(Bs,{size:18,className:"text-cream"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-display text-ink text-lg font-semibold leading-tight",children:"LeaseEase"}),d.jsx("p",{className:"font-body text-xs text-stone-400",children:"Set up your first property"})]})]}),d.jsx("div",{className:"flex items-center gap-2 mb-8",children:[1,2].map(_=>d.jsx("div",{className:"flex-1 h-1.5 rounded-full overflow-hidden bg-stone-200",children:d.jsx(He.div,{className:"h-full bg-sage rounded-full",initial:{width:"0%"},animate:{width:i>=_?"100%":"0%"},transition:{duration:.4,ease:"easeOut"}})},_))}),d.jsxs(ns,{mode:"wait",children:[i===1&&d.jsxs(He.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[d.jsxs("h1",{className:"font-display text-ink text-2xl sm:text-3xl font-semibold mb-2",children:["Welcome, ",d.jsx("em",{children:h}),"! "]}),d.jsx("p",{className:"font-body text-stone-400 text-sm mb-8",children:"Let's add your first property or building to get started."}),d.jsxs("form",{onSubmit:x,className:"card p-6 sm:p-8 space-y-5",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Property / Building Name *"}),d.jsxs("div",{className:"relative",children:[d.jsx(is,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-10",placeholder:"e.g. Sunset Apartments",value:l.name,onChange:_=>c(A=>({...A,name:_.target.value})),autoFocus:!0,required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Address"}),d.jsxs("div",{className:"relative",children:[d.jsx(qp,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-10",placeholder:"e.g. 42 Marina Road, Lagos",value:l.address,onChange:_=>c(A=>({...A,address:_.target.value}))})]})]}),d.jsx("div",{className:"flex items-center gap-3 pt-2",children:d.jsxs("button",{type:"submit",className:"btn-primary flex-1",children:["Add Apartments / Units ",d.jsx(Qa,{size:15})]})}),d.jsx("button",{type:"button",onClick:w,className:"w-full text-center font-body text-xs text-stone-400 hover:text-stone-500 transition-colors pt-1",children:"Skip for now  go to dashboard"})]})]},"step1"),i===2&&d.jsxs(He.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[d.jsx("div",{className:"flex items-center gap-2 mb-1",children:d.jsx("button",{onClick:()=>a(1),className:"font-body text-xs text-stone-400 hover:text-ink transition-colors",children:" Back"})}),d.jsxs("h1",{className:"font-display text-ink text-2xl sm:text-3xl font-semibold mb-1",children:["Add units to ",d.jsx("em",{className:"text-sage",children:l.name})]}),d.jsx("p",{className:"font-body text-stone-400 text-sm mb-6",children:"Add the apartments or units in this building. You can always add more later."}),d.jsx("div",{className:"space-y-4",children:u.map((_,A)=>d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},className:"card p-5",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("span",{className:"font-body text-xs font-semibold text-stone-400 uppercase tracking-wider",children:["Unit ",A+1]}),u.length>1&&d.jsx("button",{onClick:()=>y(_.id),className:"p-1.5 rounded-lg text-stone-300 hover:text-rust hover:bg-rust/8 transition-colors",children:d.jsx(q2,{size:14})})]}),d.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Apartment Number / Name *"}),d.jsx("input",{className:"input-base",placeholder:"e.g. Unit 4B, Room 12",value:_.name,onChange:E=>b(_.id,"name",E.target.value)})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"label-xs",children:["Rent Amount (",r,")"]}),d.jsxs("div",{className:"relative",children:[d.jsx(_4,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-9",type:"number",placeholder:"e.g. 250000",value:_.rent,onChange:E=>b(_.id,"rent",E.target.value)})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Billing Cycle"}),d.jsxs("div",{className:"relative",children:[d.jsx(b4,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsxs("select",{className:"input-base pl-9 appearance-none",value:_.rentType,onChange:E=>b(_.id,"rentType",E.target.value),children:[d.jsx("option",{value:"monthly",children:"Monthly"}),d.jsx("option",{value:"yearly",children:"Yearly"}),d.jsx("option",{value:"weekly",children:"Weekly"}),d.jsx("option",{value:"daily",children:"Daily"})]})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"label-xs",children:["Tenant Name ",d.jsx("span",{className:"text-stone-300 normal-case",children:"(optional)"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(W2,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-9",placeholder:"Skip if unknown",value:_.tenantName,onChange:E=>b(_.id,"tenantName",E.target.value)})]})]})]})]},_.id))}),d.jsxs("button",{onClick:p,className:"w-full mt-4 py-3 rounded-xl border-2 border-dashed border-stone-200 hover:border-sage/40 text-stone-400 hover:text-sage font-body text-sm font-medium transition-all flex items-center justify-center gap-2",children:[d.jsx(uo,{size:16})," Add Another Unit"]}),d.jsx("div",{className:"flex items-center gap-3 mt-6",children:d.jsx("button",{onClick:v,disabled:s,className:"btn-primary flex-1 py-3",children:s?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(la,{size:16}),"Finish Setup"]})})}),d.jsx("button",{onClick:w,className:"w-full text-center font-body text-xs text-stone-400 hover:text-stone-500 transition-colors mt-3",children:"Skip for now  go to dashboard"})]},"step2")]})]})})}const Hd=(t=0)=>({initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:t,duration:.35}});function t6e(){const{user:t,profile:e}=Pr(),{fmt:n,fmtRent:r,country:i}=ji(),[a,s]=U.useState([]),[o,l]=U.useState([]),[c,u]=U.useState([]);U.useEffect(()=>{if(!(t!=null&&t.email))return;const y=MT(t.email,s),b=C9(t.email,l);return()=>{y==null||y(),b==null||b()}},[t==null?void 0:t.email]),U.useEffect(()=>{if(!(t!=null&&t.uid))return;const y=Iv(t.uid,b=>{u(b.filter(x=>x.createdBy==="tenant"&&x.status!=="paid"))});return()=>y==null?void 0:y()},[t==null?void 0:t.uid]);const f=o.filter(y=>y.status==="paid").reduce((y,b)=>y+(b.amount||0),0),h=a.map(y=>y.monthlyRent||0).reduce((y,b)=>y+b,0),p=((e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||"there").split(" ")[0];return d.jsxs("div",{className:"space-y-8",children:[d.jsx(He.div,{...Hd(0),className:"flex items-start justify-between",children:d.jsxs("div",{children:[d.jsx("p",{className:"font-body text-stone-400 text-sm",children:i!=null&&i.name?`${i.name}  ${i.currency}`:"Your tenant portal"}),d.jsxs("h1",{className:"font-display text-ink text-3xl font-semibold mt-0.5",children:["Welcome, ",d.jsx("em",{children:p})]})]})}),d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:[d.jsxs(He.div,{...Hd(.05),className:"stat-card",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-sage/10 flex items-center justify-center",children:d.jsx(Oh,{size:18,className:"text-sage"})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-display text-ink text-2xl font-semibold",children:a.length}),d.jsx("div",{className:"font-body text-stone-400 text-xs mt-0.5",children:"Active homes"})]})]}),d.jsxs(He.div,{...Hd(.1),className:"stat-card",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber/10 flex items-center justify-center",children:d.jsx(Ls,{size:18,className:"text-amber"})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-display text-ink text-2xl font-semibold",children:n(h)}),d.jsx("div",{className:"font-body text-stone-400 text-xs mt-0.5",children:"Typical monthly rent"})]})]}),d.jsxs(He.div,{...Hd(.15),className:"stat-card hidden lg:flex",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-sage/10 flex items-center justify-center",children:d.jsx(Ls,{size:18,className:"text-sage"})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-display text-ink text-2xl font-semibold",children:n(f)}),d.jsx("div",{className:"font-body text-stone-400 text-xs mt-0.5",children:"Total paid here"})]})]})]}),c.length>0&&d.jsxs(He.div,{...Hd(.18),className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"font-display text-ink text-lg font-semibold",children:"Upcoming reminders"}),d.jsxs(Xn,{to:"/tenant/reminders",className:"btn-ghost text-xs",children:["Manage ",d.jsx(Qa,{size:13})]})]}),d.jsx("ul",{className:"space-y-2",children:c.slice(0,5).map(y=>{var x,v;const b=((v=(x=y.dueDate)==null?void 0:x.toDate)==null?void 0:v.call(x))??new Date(y.dueDate);return d.jsxs("li",{className:"flex items-center justify-between gap-3 py-2 border-b border-stone-100 last:border-0",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ou,{size:14,className:"text-amber"}),d.jsx("span",{className:"font-body text-sm text-ink",children:y.propertyName||"Rent"})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:"font-display text-sm font-semibold text-ink",children:n(y.amount||0)}),d.jsxs("span",{className:"font-body text-xs text-stone-400 block",children:["Due ",Ta(b,"MMM d")]})]})]},y.id)})})]}),d.jsxs(He.div,{...Hd(.2),className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"font-display text-ink text-lg font-semibold",children:"Your homes"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Xn,{to:"/tenant/reminders",className:"btn-ghost text-xs",children:"Reminders"}),d.jsxs(Xn,{to:"/tenant/payments",className:"btn-ghost text-xs",children:["View payments ",d.jsx(Qa,{size:13})]})]})]}),a.length===0?d.jsxs("div",{className:"flex flex-col items-center text-center py-10",children:[d.jsx(Oh,{size:32,className:"text-stone-300 mb-3"}),d.jsx("p",{className:"font-body text-sm text-stone-500",children:"No homes are linked to your email yet."}),d.jsx("p",{className:"font-body text-xs text-stone-300 mt-1",children:"Ask your landlord to add your email on the property in LeaseEase."})]}):d.jsx("div",{className:"space-y-3",children:a.map(y=>d.jsxs("div",{className:"flex items-center justify-between gap-3 p-4 rounded-xl border border-stone-100 bg-stone-50 hover:bg-stone-100 transition-colors",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-body font-semibold text-sm text-ink",children:y.name}),y.unitNumber&&d.jsxs("p",{className:"font-body text-xs text-sage font-medium flex items-center gap-1 mt-0.5",children:[d.jsx(xy,{size:10})," ",cd(y)]}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:y.address})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"font-display text-sm font-semibold text-ink",children:r(y.monthlyRent||0,y.rentType||"monthly")}),d.jsx("p",{className:"font-body text-[11px] text-stone-400 mt-0.5",children:y.status==="occupied"?"Active lease":y.status})]})]},y.id))})]})]})}async function n6e({gateway:t="stripe",landlordId:e,propertyId:n,propertyName:r,propertyAddress:i,propertyBuildingName:a,propertyUnitNumber:s,propertyFloor:o,tenantEmail:l,tenantName:c,amount:u,currency:f,successUrl:h,cancelUrl:p,metadata:y={}}){throw new Error("Payments API base URL is not configured (VITE_PAYMENTS_API_BASE).")}const nS=(t=0)=>({initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:t,duration:.35}});function r6e(){const{user:t}=Pr(),{fmt:e,currency:n,currencySymbol:r}=ji(),[i,a]=U.useState([]),[s,o]=U.useState([]),[l,c]=U.useState(!0),[u,f]=U.useState(!1),[h,p]=U.useState("");U.useEffect(()=>{if(!(t!=null&&t.email))return;const w=C9(t.email,A=>{a(A),c(!1)}),_=MT(t.email,o);return()=>{w==null||w(),_==null||_()}},[t==null?void 0:t.email]);const y=i.filter(w=>w.status==="paid").reduce((w,_)=>w+(_.amount||0),0),b=w=>{Dk(w)},x=async()=>{if(!h){We.error("Select a home to pay for.");return}const w=s.find(A=>A.id===h);if(!w)return;const _=w.monthlyRent||0;if(!_){We.error("This home has no rent amount configured yet.");return}f(!0);try{await n6e({landlordId:w.ownerId,propertyId:w.id,propertyName:w.name,propertyAddress:w.address||"",propertyBuildingName:w.buildingName||"",propertyUnitNumber:w.unitNumber||"",propertyFloor:w.floor||"",tenantEmail:t.email,tenantName:t.displayName||"",amount:_,currency:n})}catch(A){We.error(A.message||"Unable to start payment.")}finally{f(!1)}},v=s.length>0;return d.jsxs("div",{className:"space-y-6",children:[d.jsx(He.div,{...nS(0),className:"flex items-start justify-between",children:d.jsxs("div",{children:[d.jsx("h1",{className:"font-display text-ink text-3xl font-semibold",children:"Payments"}),d.jsxs("p",{className:"font-body text-stone-400 text-sm mt-0.5",children:[i.length," records  ",e(y)," paid via LeaseEase"]})]})}),d.jsxs(He.div,{...nS(.08),className:"card p-4 flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"w-9 h-9 rounded-lg bg-sage/10 flex items-center justify-center flex-shrink-0",children:d.jsx(Ls,{size:18,className:"text-sage"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-body text-sm font-semibold text-ink",children:"Pay your rent online"}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:"Choose a home and well redirect you to a secure checkout page."})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:items-center",children:[d.jsxs("select",{className:"input-base text-sm",value:h,onChange:w=>p(w.target.value),disabled:!v,children:[d.jsx("option",{value:"",children:v?"Select home":"No homes linked yet"}),s.map(w=>d.jsxs("option",{value:w.id,children:[w.name,w.unitNumber?` - ${cd(w)}`:"","  ",e(w.monthlyRent||0)]},w.id))]}),d.jsx("button",{onClick:x,disabled:!v||u,className:"btn-primary text-sm flex items-center justify-center gap-1.5",children:u?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:["Pay ",r,d.jsx(Qa,{size:14})]})})]})]}),l?d.jsx("div",{className:"card overflow-hidden",children:[1,2,3,4].map(w=>d.jsx("div",{className:"h-16 border-b border-stone-100 animate-pulse bg-stone-50/50"},w))}):i.length===0?d.jsxs("div",{className:"card p-16 flex flex-col items-center text-center border-2 border-dashed border-stone-200",children:[d.jsx(Ls,{size:40,className:"text-stone-300 mb-3"}),d.jsx("p",{className:"font-body font-medium text-stone-500",children:"No payments yet"}),d.jsx("p",{className:"font-body text-xs text-stone-300 mt-1",children:"When you pay through LeaseEase, your receipts will appear here."})]}):d.jsxs(He.div,{...nS(.1),className:"card overflow-hidden",children:[d.jsxs("div",{className:"flex items-center gap-4 px-5 py-3 bg-stone-50 border-b border-stone-100 text-xs font-body font-semibold text-stone-400 uppercase tracking-wider",children:[d.jsx("span",{className:"flex-1",children:"Home"}),d.jsx("span",{className:"w-28 text-right hidden sm:block",children:"Date"}),d.jsx("span",{className:"w-24 text-right hidden md:block",children:"Method"}),d.jsx("span",{className:"w-20 text-right",children:"Status"}),d.jsx("span",{className:"w-28 text-right",children:"Amount"})]}),i.map((w,_)=>d.jsx(Fk,{payment:w,isLast:_===i.length-1,showProperty:!0,onDownloadInvoice:b},w.id))]})]})}const tH=[{value:1,label:"1 day before",short:"1 day"},{value:3,label:"3 days before",short:"3 days"},{value:7,label:"1 week before",short:"1 week"},{value:14,label:"2 weeks before",short:"2 weeks"},{value:30,label:"1 month before",short:"1 month"}];function i6e(t){var e;return((e=tH.find(n=>n.value===t))==null?void 0:e.label)??`${t} days before`}function nH(t,e=7){var i;const n=((i=t==null?void 0:t.toDate)==null?void 0:i.call(t))??new Date(t),r=new Date(n);return r.setDate(r.getDate()-(e||0)),r}function rH(t,e){var o;const n=((o=t==null?void 0:t.toDate)==null?void 0:o.call(t))??new Date(t),r=nH(n,e),i=new Date;i.setHours(0,0,0,0);const a=new Date(r);a.setHours(0,0,0,0);const s=new Date(n);return s.setHours(0,0,0,0),a<=i&&s>=i}const a6e={overdue:{label:"Overdue",color:"text-rust",bg:"bg-rust/10",dot:"bg-rust"},urgent:{label:"Urgent",color:"text-rust",bg:"bg-rust/8",dot:"bg-rust/70"},soon:{label:"Soon",color:"text-amber",bg:"bg-amber/10",dot:"bg-amber"},ok:{label:"Upcoming",color:"text-sage",bg:"bg-sage/8",dot:"bg-sage"},paid:{label:"Paid",color:"text-stone-400",bg:"bg-stone-100",dot:"bg-stone-300"}};function rS(t){var r,i;if(t.status==="paid")return"paid";const e=((i=(r=t.dueDate)==null?void 0:r.toDate)==null?void 0:i.call(r))??new Date(t.dueDate);if(Vf(e))return"overdue";const n=Fv(e,new Date);return n<=3?"urgent":n<=7?"soon":"ok"}const p1={propertyId:"",dueDate:"",amount:"",leadTimeDays:7,recurring:!1,notifyEmail:!0,notifySms:!1,notifyInApp:!0,notes:""};function s6e(){const{user:t,profile:e}=Pr(),{fmt:n,currencySymbol:r}=ji(),[i,a]=U.useState([]),[s,o]=U.useState([]),[l,c]=U.useState("all"),[u,f]=U.useState(!0),[h,p]=U.useState(!1),[y,b]=U.useState(null),[x,v]=U.useState(!1),[w,_]=U.useState(p1);U.useEffect(()=>{if(!t)return;const j=Iv(t.uid,G=>{a(G.filter(Z=>Z.createdBy==="tenant")),f(!1)}),B=t.email?MT(t.email,o):void 0;return()=>{j==null||j(),B==null||B()}},[t==null?void 0:t.uid,t==null?void 0:t.email]);const A=j=>B=>_(G=>({...G,[j]:B.target.type==="checkbox"?B.target.checked:B.target.value})),E=j=>{const B=j.target.value,G=s.find(Z=>Z.id===B);_(Z=>({...Z,propertyId:B,propertyName:(G==null?void 0:G.name)??"",propertyUnitNumber:(G==null?void 0:G.unitNumber)??"",propertyBuildingName:(G==null?void 0:G.buildingName)??"",propertyFloor:(G==null?void 0:G.floor)??"",amount:(G==null?void 0:G.monthlyRent)!=null?String(G.monthlyRent):Z.amount}))},O=()=>{var B,G,Z;b(null);const j=new Date;j.setMonth(j.getMonth()+1),_({...p1,dueDate:Ta(j,"yyyy-MM-dd"),propertyId:((B=s[0])==null?void 0:B.id)??"",propertyName:((G=s[0])==null?void 0:G.name)??"",amount:((Z=s[0])==null?void 0:Z.monthlyRent)!=null?String(s[0].monthlyRent):""}),p(!0)},C=j=>{var G,Z;const B=((Z=(G=j.dueDate)==null?void 0:G.toDate)==null?void 0:Z.call(G))??new Date(j.dueDate);b(j.id),_({propertyId:j.propertyId??"",propertyName:j.propertyName??"",propertyUnitNumber:j.propertyUnitNumber??"",propertyBuildingName:j.propertyBuildingName??"",propertyFloor:j.propertyFloor??"",dueDate:Ta(B,"yyyy-MM-dd"),amount:j.amount!=null?String(j.amount):"",leadTimeDays:j.leadTimeDays??7,recurring:!!j.recurring,notifyEmail:j.notifyEmail!==!1,notifySms:!!j.notifySms,notifyInApp:j.notifyInApp!==!1,notes:j.notes??""}),p(!0)},N=async j=>{if(j.preventDefault(),!w.propertyId||!w.amount||!w.dueDate){We.error("Please select a home, amount, and due date.");return}v(!0);try{const B=s.find(Z=>Z.id===w.propertyId),G={propertyId:w.propertyId,propertyName:w.propertyName||(B==null?void 0:B.name),propertyUnitNumber:w.propertyUnitNumber||(B==null?void 0:B.unitNumber)||"",propertyBuildingName:w.propertyBuildingName||(B==null?void 0:B.buildingName)||"",propertyFloor:w.propertyFloor||(B==null?void 0:B.floor)||"",amount:parseInt(w.amount,10)||0,dueDate:new Date(w.dueDate),leadTimeDays:parseInt(w.leadTimeDays,10)||7,recurring:!!w.recurring,notifyEmail:!!w.notifyEmail,notifySms:!!w.notifySms,notifyInApp:!!w.notifyInApp,notes:(w.notes||"").trim(),createdBy:"tenant",tenantName:(e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||"",tenantEmail:(t==null?void 0:t.email)||""};y?(await kA(t.uid,y,G),We.success("Reminder updated.")):(await I9(t.uid,G),We.success("Reminder created! Youll get notified by your chosen channels.")),p(!1),_(p1),b(null)}catch{We.error("Failed to save reminder.")}finally{v(!1)}},k=async j=>{await kA(t.uid,j.id,{status:"paid",paidAt:new Date}),We.success("Marked as paid.")},M=async j=>{confirm(`Delete reminder for ${j.propertyName||"this home"}?`)&&(await O9(t.uid,j.id),We.success("Reminder deleted."))},P=l==="all"?i:i.filter(j=>rS(j)===l),I={overdue:0,urgent:0,soon:0,ok:0};return i.forEach(j=>{const B=rS(j);I[B]!==void 0&&I[B]++}),i.filter(j=>j.status!=="paid").reduce((j,B)=>j+(B.amount||0),0),d.jsxs("div",{className:"space-y-6",children:[d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"font-display text-ink text-3xl font-semibold",children:"Rent reminders"}),d.jsxs("p",{className:"font-body text-stone-400 text-sm mt-0.5",children:["Set custom lead times and get notified by email, SMS, or in-app. Your currency:"," ",d.jsx("strong",{className:"text-sage",children:r})]})]}),d.jsxs("button",{type:"button",onClick:O,disabled:s.length===0,className:"btn-primary",children:[d.jsx(uo,{size:16})," New reminder"]})]}),s.length===0&&d.jsxs(He.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-3 p-4 bg-amber/8 border border-amber/20 rounded-xl",children:[d.jsx(Ou,{size:18,className:"text-amber flex-shrink-0"}),d.jsx("p",{className:"font-body text-sm text-stone-600",children:"Add a home first: ask your landlord to link your email to a property. Then you can set reminders here."})]}),d.jsx("div",{className:"flex gap-2 flex-wrap",children:[{key:"all",label:"All",count:i.length},{key:"overdue",label:"Overdue",count:I.overdue},{key:"urgent",label:"Urgent",count:I.urgent},{key:"soon",label:"Soon",count:I.soon},{key:"ok",label:"Upcoming",count:I.ok}].map(({key:j,label:B,count:G})=>d.jsxs("button",{type:"button",onClick:()=>c(j),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-body font-medium border transition-all ${l===j?"bg-ink text-cream border-ink":"bg-white text-stone-500 border-stone-200 hover:border-stone-300"}`,children:[B,G>0&&d.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-xs font-semibold ${l===j?"bg-white/15 text-cream":"bg-stone-100 text-stone-500"}`,children:G})]},j))}),u?d.jsx("div",{className:"space-y-3",children:[1,2,3].map(j=>d.jsx("div",{className:"card h-20 animate-pulse bg-stone-100"},j))}):P.length===0?d.jsxs("div",{className:"card p-16 flex flex-col items-center text-center border-2 border-dashed border-stone-200",children:[d.jsx(Ou,{size:40,className:"text-stone-300 mb-3"}),d.jsx("p",{className:"font-body font-medium text-stone-500",children:l==="all"?"No reminders yet":`No ${l} reminders`}),d.jsx("p",{className:"font-body text-xs text-stone-300 mt-1",children:l==="all"&&"Create a reminder to get email, SMS, or in-app alerts before rent is due."}),s.length>0&&l==="all"&&d.jsxs("button",{type:"button",onClick:O,className:"btn-primary mt-4",children:[d.jsx(uo,{size:15})," New reminder"]})]}):d.jsx("div",{className:"card overflow-hidden",children:d.jsx(ns,{children:P.map(j=>{var he,$;const B=rS(j),G=a6e[B],Z=(($=(he=j.dueDate)==null?void 0:he.toDate)==null?void 0:$.call(he))??new Date(j.dueDate),re=Fv(Z,new Date),Y=B==="paid",ae=nH(Z,j.leadTimeDays),ue=!Y&&rH(j.dueDate,j.leadTimeDays);return d.jsxs(He.div,{initial:{opacity:0},animate:{opacity:Y?.6:1},exit:{opacity:0,height:0},className:"flex items-center gap-4 px-5 py-4 border-b border-stone-100 last:border-0 hover:bg-stone-50/70 transition-colors group",children:[d.jsx("div",{className:`w-2.5 h-2.5 rounded-full flex-shrink-0 ${G.dot}`}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[d.jsxs("span",{className:"font-body font-semibold text-sm text-ink",children:[j.propertyName||"Rent",j.propertyUnitNumber&&d.jsxs("span",{className:"text-sage ml-1 font-normal",children:["(",cd({unitNumber:j.propertyUnitNumber,floor:j.propertyFloor}),")"]})]}),j.recurring&&d.jsx("span",{className:"font-body text-xs px-2 py-0.5 rounded-full bg-stone-100 text-stone-400",children:"Monthly"}),ue&&d.jsx("span",{className:"font-body text-xs px-2 py-0.5 rounded-full bg-amber/15 text-amber border border-amber/30",children:"Reminder today"})]}),d.jsxs("div",{className:"flex items-center gap-3 mt-1 flex-wrap",children:[d.jsx("span",{className:`font-body text-xs font-medium px-2 py-0.5 rounded-full border ${G.bg} ${G.color}`,children:Y?"Paid":Vf(Z)?"Overdue":re===0?"Due today":re===1?"Due tomorrow":`Due in ${re}d`}),d.jsxs("span",{className:"font-body text-xs text-stone-400",children:["Notify: ",i6e(j.leadTimeDays)," (",Ta(ae,"MMM d"),")"]}),d.jsxs("span",{className:"flex items-center gap-1.5 text-stone-400",children:[j.notifyEmail&&d.jsx(ol,{size:11,title:"Email"}),j.notifySms&&d.jsx(_O,{size:11,title:"SMS"}),j.notifyInApp&&d.jsx(SO,{size:11,title:"In-app"})]})]})]}),d.jsx("div",{className:"text-right flex-shrink-0",children:d.jsx("p",{className:"font-display font-semibold text-lg text-ink",children:n(j.amount||0)})}),!Y&&d.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{type:"button",onClick:()=>C(j),className:"text-xs font-body font-medium px-3 py-1.5 rounded-lg bg-stone-100 text-stone-600 hover:bg-stone-200",children:"Edit"}),d.jsxs("button",{type:"button",onClick:()=>k(j),className:"flex items-center gap-1.5 text-xs font-body font-medium px-3 py-1.5 rounded-lg bg-sage/10 text-sage border border-sage/20 hover:bg-sage/20",children:[d.jsx(x4,{size:13})," Paid"]}),d.jsx("button",{type:"button",onClick:()=>M(j),className:"p-1.5 rounded-lg bg-rust/8 text-rust border border-rust/15 hover:bg-rust/15",children:d.jsx(q2,{size:13})})]})]},j.id)})})}),d.jsx(Ru,{isOpen:h,onClose:()=>{p(!1),b(null),_(p1)},title:y?"Edit reminder":"New rent reminder",size:"lg",children:d.jsxs("form",{onSubmit:N,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Home (property) *"}),d.jsxs("select",{className:"input-base",value:w.propertyId,onChange:E,required:!0,children:[d.jsx("option",{value:"",children:" Select home "}),s.map(j=>d.jsxs("option",{value:j.id,children:[j.name,j.unitNumber?` - ${cd(j)}`:"","  ",n(j.monthlyRent||0),"/month"]},j.id))]})]}),d.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Due date *"}),d.jsx("input",{className:"input-base",type:"date",value:w.dueDate,onChange:A("dueDate"),required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"label-xs",children:["Amount (",r,") *"]}),d.jsx("input",{className:"input-base",type:"number",placeholder:"e.g. 250000",value:w.amount,onChange:A("amount"),required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Remind me"}),d.jsx("select",{className:"input-base",value:w.leadTimeDays,onChange:j=>_(B=>({...B,leadTimeDays:parseInt(j.target.value,10)})),children:tH.map(j=>d.jsx("option",{value:j.value,children:j.label},j.value))}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-1",children:"Youll get notified at this time before the due date."})]}),d.jsxs("div",{children:[d.jsx("p",{className:"label-xs mb-2",children:"Notify me via"}),d.jsxs("div",{className:"flex flex-wrap gap-4",children:[d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:w.notifyEmail,onChange:A("notifyEmail"),className:"w-4 h-4 rounded accent-sage"}),d.jsx(ol,{size:14,className:"text-stone-400"}),d.jsx("span",{className:"font-body text-sm",children:"Email"})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:w.notifySms,onChange:A("notifySms"),className:"w-4 h-4 rounded accent-sage"}),d.jsx(_O,{size:14,className:"text-stone-400"}),d.jsx("span",{className:"font-body text-sm",children:"SMS"})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:w.notifyInApp,onChange:A("notifyInApp"),className:"w-4 h-4 rounded accent-sage"}),d.jsx(SO,{size:14,className:"text-stone-400"}),d.jsx("span",{className:"font-body text-sm",children:"In-app"})]})]}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-1",children:"In-app alerts show when you open LeaseEase. Email and SMS require your landlord to enable notifications."})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"checkbox",id:"recurring-tenant",checked:w.recurring,onChange:A("recurring"),className:"w-4 h-4 rounded accent-sage"}),d.jsx("label",{htmlFor:"recurring-tenant",className:"font-body text-sm text-ink cursor-pointer",children:"Repeat every month (recurring reminder)"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Notes (optional)"}),d.jsx("input",{className:"input-base",placeholder:"e.g. Rent for March",value:w.notes,onChange:A("notes")})]}),d.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[d.jsx("button",{type:"button",onClick:()=>p(!1),className:"btn-secondary",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:x,className:"btn-primary",children:x?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):y?"Save changes":d.jsxs(d.Fragment,{children:[d.jsx(uo,{size:15})," Create reminder"]})})]})]})})]})}const o6e=[{to:"/dashboard",icon:vU,label:"Dashboard"},{to:"/properties",icon:is,label:"Properties"},{to:"/reminders",icon:Ou,label:"Reminders"},{to:"/payments",icon:Ls,label:"Payments"},{to:"/profile",icon:go,label:"Profile"},{to:"/settings",icon:xU,label:"Settings"},{to:"/subscription",icon:Ih,label:"Subscription"}],l6e=[{to:"/tenant",icon:vU,label:"My Homes"},{to:"/tenant/reminders",icon:Ou,label:"Reminders"},{to:"/tenant/payments",icon:Ls,label:"Payments"},{to:"/profile",icon:go,label:"Profile"},{to:"/settings",icon:xU,label:"Settings"}];function c6e(){var v;const{user:t,profile:e,logout:n}=Pr(),{country:r,currencySymbol:i}=ji(),a=ls(),[s,o]=U.useState(!1),[l,c]=U.useState(0),f=((e==null?void 0:e.role)||"landlord")==="tenant",h=f?l6e:o6e,p=Ds[((v=e==null?void 0:e.subscription)==null?void 0:v.planId)||"free"]||Ds.free;U.useEffect(()=>{if(f||!(t!=null&&t.uid))return;const w=ma(wT(At,"units"),fr("landlordId","==",t.uid),fr("status","==","pending_approval"));return qu(w,A=>c(A.size),()=>{})},[t==null?void 0:t.uid,f]);const y=async()=>{await n(),We.success("Signed out successfully"),a("/login")},b=((e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||"U").split(" ").map(w=>w[0]).join("").toUpperCase().slice(0,2),x=()=>d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"px-5 py-6 border-b border-stone-100",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-9 h-9 rounded-xl bg-sage flex items-center justify-center shadow-sm",children:d.jsx(Bs,{size:17,className:"text-cream"})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-display font-semibold text-ink text-lg leading-none",children:"LeaseEase"}),d.jsx("div",{className:"text-xs text-stone-400 font-body mt-0.5 tracking-wide",children:"Property Manager"})]})]}),r&&d.jsxs("div",{className:"mt-3 flex items-center gap-1.5 px-2 py-1 bg-stone-50 rounded-lg border border-stone-100 w-fit",children:[d.jsx("span",{className:"text-sm",children:rd(r.code)}),d.jsxs("span",{className:"font-body text-xs text-stone-400",children:[r.currency," (",i,")"]})]})]}),d.jsx("nav",{className:"flex-1 px-3 py-4 space-y-0.5",children:h.map(({to:w,icon:_,label:A})=>d.jsxs(_X,{to:w,onClick:()=>o(!1),className:({isActive:E})=>`nav-item ${E?"active":""}`,children:[d.jsx(_,{size:17}),d.jsx("span",{children:A}),A==="Properties"&&l>0&&d.jsx("span",{className:"ml-auto min-w-[18px] h-[18px] px-1 rounded-full bg-rust text-cream text-[10px] font-body font-bold flex items-center justify-center",children:l>9?"9+":l})]},w))}),d.jsxs("div",{className:"px-3 py-4 border-t border-stone-100",children:[d.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 rounded-xl hover:bg-stone-100 transition-colors cursor-pointer group",onClick:()=>a("/profile"),children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-sage/15 border border-sage/30 flex items-center justify-center flex-shrink-0",children:d.jsx("span",{className:"font-body font-semibold text-sage text-xs",children:b})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-body font-medium text-ink text-sm truncate",children:(e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||"User"}),d.jsx("div",{className:"font-body text-xs text-stone-400 truncate",children:t==null?void 0:t.email})]}),d.jsx(sl,{size:14,className:"text-stone-300 group-hover:text-stone-400 transition-colors"})]}),!f&&d.jsx("div",{className:"px-3 mb-1",children:d.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-body font-semibold ${p.badgeColor}`,children:[d.jsx(Ih,{size:10}),p.badge]})}),d.jsxs("button",{onClick:y,className:"nav-item w-full mt-1 text-rust hover:bg-rust/8 hover:text-rust",children:[d.jsx(YA,{size:16}),d.jsx("span",{children:"Sign Out"})]})]})]});return d.jsxs("div",{className:"flex min-h-screen bg-stone-50/50",children:[d.jsx("aside",{className:"hidden lg:flex flex-col w-60 bg-white border-r border-stone-100 fixed inset-y-0 left-0 z-40",children:d.jsx(x,{})}),d.jsx(ns,{children:s&&d.jsxs(d.Fragment,{children:[d.jsx(He.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-ink/40 backdrop-blur-sm z-40 lg:hidden",onClick:()=>o(!1)}),d.jsxs(He.aside,{initial:{x:-280},animate:{x:0},exit:{x:-280},transition:{type:"spring",damping:28,stiffness:300},className:"fixed inset-y-0 left-0 w-72 bg-white z-50 shadow-deep lg:hidden",children:[d.jsxs("div",{className:"flex items-center justify-between px-5 pt-5 pb-0",children:[d.jsx("div",{}),d.jsx("button",{onClick:()=>o(!1),className:"p-2 rounded-lg hover:bg-stone-100 text-stone-400",children:d.jsx(H2,{size:18})})]}),d.jsx(x,{})]})]})}),d.jsxs("main",{className:"flex-1 lg:ml-60 flex flex-col min-h-screen",children:[d.jsxs("div",{className:"lg:hidden flex items-center gap-3 px-4 py-3 bg-white border-b border-stone-100 sticky top-0 z-30",children:[d.jsx("button",{onClick:()=>o(!0),className:"p-2 rounded-lg hover:bg-stone-100 text-stone-600 transition-colors",children:d.jsx(oce,{size:20})}),d.jsx("div",{className:"font-display font-semibold text-ink text-lg",children:"LeaseEase"}),r&&d.jsxs("span",{className:"ml-auto text-sm flex items-center gap-1 font-body text-xs text-stone-400",children:[rd(r.code)," ",r.currency]})]}),d.jsx("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl w-full mx-auto",children:d.jsx(lX,{})})]})]})}const u6e="leaseease_reminder_alert_";function f6e(){return Ta(new Date,"yyyy-MM-dd")}function d6e(){const{user:t,profile:e}=Pr(),{fmt:n}=ji(),r=U.useRef(new Set);return U.useEffect(()=>{if(((e==null?void 0:e.role)||"landlord")!=="tenant"||!(t!=null&&t.uid))return;const a=Iv(t.uid,s=>{f6e(),s.filter(l=>l.createdBy==="tenant").forEach(l=>{var v,w;if(l.status==="paid"||!l.notifyInApp||!rH(l.dueDate,l.leadTimeDays??7))return;const c=`${u6e}${l.id}_${f}`;try{if(sessionStorage.getItem(c))return}catch{if(r.current.has(c))return}const u=((w=(v=l.dueDate)==null?void 0:v.toDate)==null?void 0:w.call(v))??new Date(l.dueDate),f=new Date;f.setHours(0,0,0,0);const h=new Date(u);h.setHours(0,0,0,0);const p=h.getTime()===f.getTime(),y=l.propertyName||"Rent",b=n(l.amount||0),x=p?`Rent due today: ${y}  ${b}`:`Reminder: ${y}  ${b} due ${Ta(u,"MMM d")}`;We(x,{icon:"",duration:6e3,style:{background:"#1A1612",color:"#F5F0E8"}});try{sessionStorage.setItem(c,"1")}catch{r.current.add(c)}})});return()=>a==null?void 0:a()},[t==null?void 0:t.uid,e==null?void 0:e.role,n]),null}function h6e(){const{landlordUid:t,propertyId:e}=RP(),[n]=sF(),r=n.get("pname")||"Building Portal",{user:i}=Pr(),a=ls(),[s,o]=U.useState("idle"),[l,c]=U.useState([]),[u,f]=U.useState(null);U.useEffect(()=>{i&&(o("loading"),jA(t,e).then(b=>{c(b),o("ready")}).catch(b=>{console.error("JoinPage units error:",b),o("error")}))},[i,t,e]);const h=async()=>{if(!(!i||!u)){if(i.uid===t){We.error("You can't request your own unit.");return}o("submitting");try{await M9(t,e,u,i),We.success("Request sent to your landlord!"),o("done")}catch(b){We.error(b.message||"Something went wrong. Please try again."),o("ready")}}},p=l.find(b=>b.id===u),y=`/join/${t}/${e}?pname=${encodeURIComponent(r)}`;return d.jsxs("div",{className:"min-h-screen bg-stone-50 flex flex-col items-center justify-center p-6",children:[d.jsxs("div",{className:"mb-8 flex items-center gap-3",children:[d.jsx("div",{className:"w-9 h-9 rounded-xl bg-sage flex items-center justify-center shadow-sm",children:d.jsx(Bs,{size:17,className:"text-cream"})}),d.jsx("span",{className:"font-display font-semibold text-ink text-xl",children:"LeaseEase"})]}),d.jsxs(ns,{mode:"wait",children:[!i&&d.jsxs(He.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},exit:{opacity:0},className:"w-full max-w-sm space-y-5",children:[d.jsx("div",{className:"card overflow-hidden",children:d.jsxs("div",{className:"bg-gradient-to-br from-ink to-ink/90 p-6 relative",children:[d.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"radial-gradient(circle at 1px 1px, #F5F0E8 1px, transparent 0)",backgroundSize:"20px 20px"}}),d.jsxs("div",{className:"relative flex items-center gap-4",children:[d.jsx("div",{className:"w-14 h-14 rounded-2xl bg-sage/20 border border-sage/30 flex items-center justify-center flex-shrink-0",children:d.jsx(is,{size:24,className:"text-sage"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-body text-stone-400 text-xs uppercase tracking-wider mb-0.5",children:"Building Portal"}),d.jsx("h1",{className:"font-display text-cream text-xl font-semibold",children:r}),d.jsx("p",{className:"font-body text-stone-400 text-sm",children:"Sign in to view & claim a unit"})]})]})]})}),d.jsxs("button",{onClick:()=>a(`/register?next=${encodeURIComponent(y)}`),className:"btn-primary w-full py-3 justify-center",children:[d.jsx(Bs,{size:16})," Create Account to Continue"]}),d.jsxs("p",{className:"font-body text-xs text-stone-400 text-center",children:["Already have an account?"," ",d.jsx(Xn,{to:`/login?next=${encodeURIComponent(y)}`,className:"text-sage font-medium hover:underline",children:"Sign in"})]})]},"auth"),i&&s==="loading"&&d.jsxs(He.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center gap-3",children:[d.jsx(If,{size:32,className:"text-sage animate-spin"}),d.jsx("p",{className:"font-body text-sm text-stone-400",children:"Loading available units"})]},"loading"),i&&s==="error"&&d.jsxs(He.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"card p-8 max-w-sm w-full flex flex-col items-center text-center gap-3",children:[d.jsx("div",{className:"w-16 h-16 rounded-2xl bg-stone-100 flex items-center justify-center",children:d.jsx(z2,{size:28,className:"text-rust"})}),d.jsx("h2",{className:"font-display text-ink text-xl font-semibold",children:"Could Not Load Units"}),d.jsx("p",{className:"font-body text-stone-500 text-sm",children:"We couldn't fetch the available units for this property. Please try again or contact your landlord."}),d.jsx("button",{onClick:()=>{o("loading"),jA(t,e).then(b=>{c(b),o("ready")}).catch(()=>o("error"))},className:"btn-ghost text-sm",children:"Try Again"})]},"error"),s==="done"&&d.jsxs(He.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"flex flex-col items-center text-center gap-4 max-w-sm",children:[d.jsx("div",{className:"w-20 h-20 rounded-full bg-sage/15 flex items-center justify-center",children:d.jsx(mU,{size:36,className:"text-sage"})}),d.jsx("h2",{className:"font-display text-ink text-2xl font-semibold",children:"Request Sent!"}),d.jsxs("p",{className:"font-body text-stone-500 text-sm",children:["Your request for ",d.jsx("strong",{children:p==null?void 0:p.name})," at"," ",d.jsx("strong",{children:r})," has been sent to your landlord."]}),d.jsxs("div",{className:"w-full p-4 rounded-xl bg-sage/8 border border-sage/20 text-left",children:[d.jsx("p",{className:"font-body text-xs text-sage font-semibold uppercase tracking-wider mb-1",children:"What happens next?"}),d.jsx("p",{className:"font-body text-xs text-stone-500",children:"Your landlord will review and approve your request. Once approved, the unit will appear in your Homes dashboard."})]}),d.jsxs("button",{onClick:()=>a("/tenant"),className:"btn-primary w-full justify-center mt-1",children:[d.jsx(Oh,{size:16})," Go to My Homes"]})]},"done"),i&&(s==="ready"||s==="submitting")&&d.jsxs(He.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},className:"w-full max-w-md space-y-5",children:[d.jsxs("div",{className:"card overflow-hidden",children:[d.jsxs("div",{className:"bg-gradient-to-br from-ink to-ink/90 p-6 relative",children:[d.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"radial-gradient(circle at 1px 1px, #F5F0E8 1px, transparent 0)",backgroundSize:"20px 20px"}}),d.jsxs("div",{className:"relative flex items-center gap-4",children:[d.jsx("div",{className:"w-14 h-14 rounded-2xl bg-sage/20 border border-sage/30 flex items-center justify-center flex-shrink-0",children:d.jsx(is,{size:24,className:"text-sage"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-body text-stone-400 text-xs uppercase tracking-wider mb-0.5",children:"Building Portal"}),d.jsx("h1",{className:"font-display text-cream text-xl font-semibold",children:r})]})]})]}),d.jsxs("div",{className:"px-5 py-3 flex items-center gap-2 border-t border-stone-100",children:[d.jsx(da,{size:13,className:"text-stone-400 flex-shrink-0"}),d.jsxs("span",{className:"font-body text-xs text-stone-400",children:[l.length," vacant unit",l.length!==1?"s":""," available  as ",d.jsx("strong",{children:i.email})]})]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-3",children:"Select Your Unit"}),l.length===0?d.jsxs("div",{className:"card p-6 text-center",children:[d.jsx(da,{size:28,className:"text-stone-300 mx-auto mb-2"}),d.jsx("p",{className:"font-body text-sm text-stone-400",children:"No vacant units available right now."}),d.jsx("p",{className:"font-body text-xs text-stone-300 mt-1",children:"Contact your landlord directly."})]}):d.jsx("div",{className:"grid grid-cols-2 gap-3",children:l.map((b,x)=>{var w;const v=u===b.id;return d.jsxs(He.button,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:x*.04},type:"button",onClick:()=>f(v?null:b.id),className:`relative text-left p-4 rounded-2xl border-2 transition-all ${v?"border-sage bg-sage/8 shadow-md":"border-stone-200 bg-white hover:border-stone-300 hover:shadow-sm"}`,children:[v&&d.jsx("div",{className:"absolute top-2.5 right-2.5 w-5 h-5 rounded-full bg-sage flex items-center justify-center",children:d.jsx(la,{size:11,className:"text-white"})}),d.jsx("div",{className:`w-9 h-9 rounded-xl flex items-center justify-center mb-2.5 ${v?"bg-sage/20":"bg-stone-100"}`,children:d.jsx(da,{size:17,className:v?"text-sage":"text-stone-400"})}),d.jsx("p",{className:`font-body text-sm font-semibold ${v?"text-ink":"text-stone-700"}`,children:b.name}),b.rentAmount>0&&d.jsxs("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:[(w=b.rentAmount)==null?void 0:w.toLocaleString()," / ",b.billingCycle||"mo"]})]},b.id)})})]}),d.jsx("button",{onClick:h,disabled:!u||s==="submitting",className:"btn-primary w-full py-3 justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:s==="submitting"?d.jsxs(d.Fragment,{children:[d.jsx(If,{size:16,className:"animate-spin"})," Sending Request"]}):d.jsxs(d.Fragment,{children:[d.jsx(sl,{size:16})," Request to Join",p?`  ${p.name}`:""]})})]},"ready")]})]})}function iH(){return d.jsx("div",{className:"min-h-screen bg-cream flex items-center justify-center",children:d.jsxs("div",{className:"flex flex-col items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 border-2 border-sage border-t-transparent rounded-full animate-spin"}),d.jsx("span",{className:"font-body text-sm text-stone-400",children:"Loading LeaseEase"})]})})}function DD({children:t}){const{user:e,profile:n,loading:r}=Pr();return r||e&&n===void 0?d.jsx(iH,{}):e?t:d.jsx(_g,{to:"/login",replace:!0})}function iS({children:t}){const{user:e,profile:n,loading:r}=Pr();if(r)return null;if(!e)return t;const i=(n==null?void 0:n.role)||"landlord";return d.jsx(_g,{to:i==="tenant"?"/tenant":"/dashboard",replace:!0})}function p6e(){const{profile:t,loading:e,user:n}=Pr();if(e||n&&t===void 0)return d.jsx(iH,{});const r=(t==null?void 0:t.role)||"landlord";return d.jsxs(uX,{children:[d.jsx(wr,{path:"/",element:d.jsx(_g,{to:r==="tenant"?"/tenant":"/dashboard",replace:!0})}),d.jsx(wr,{path:"/login",element:d.jsx(iS,{children:d.jsx($ue,{})})}),d.jsx(wr,{path:"/register",element:d.jsx(iS,{children:d.jsx(Bue,{})})}),d.jsx(wr,{path:"/forgot-password",element:d.jsx(iS,{children:d.jsx(Uue,{})})}),d.jsx(wr,{path:"/invite/:token",element:d.jsx(Fue,{})}),d.jsx(wr,{path:"/join/:landlordUid/:propertyId",element:d.jsx(h6e,{})}),d.jsx(wr,{path:"/onboarding",element:d.jsx(DD,{children:d.jsx(e6e,{})})}),d.jsxs(wr,{element:d.jsx(DD,{children:d.jsx(c6e,{})}),children:[d.jsx(wr,{path:"/dashboard",element:r==="tenant"?d.jsx(_g,{to:"/tenant",replace:!0}):d.jsx($Ie,{})}),d.jsx(wr,{path:"/tenant",element:d.jsx(t6e,{})}),d.jsx(wr,{path:"/tenant/reminders",element:d.jsx(s6e,{})}),d.jsx(wr,{path:"/properties",element:d.jsx(VIe,{})}),d.jsx(wr,{path:"/properties/:id",element:d.jsx(ULe,{})}),d.jsx(wr,{path:"/properties/:id/success",element:d.jsx(QLe,{})}),d.jsx(wr,{path:"/reminders",element:d.jsx(zLe,{})}),d.jsx(wr,{path:"/payments",element:d.jsx(qLe,{})}),d.jsx(wr,{path:"/tenant/payments",element:d.jsx(r6e,{})}),d.jsx(wr,{path:"/settings",element:d.jsx(WLe,{})}),d.jsx(wr,{path:"/profile",element:d.jsx(HLe,{})}),d.jsx(wr,{path:"/subscription",element:d.jsx(ZLe,{})})]}),d.jsx(wr,{path:"*",element:d.jsx(_g,{to:r==="tenant"?"/tenant":"/dashboard",replace:!0})})]})}function m6e(){return d.jsx(bX,{children:d.jsx(Sie,{children:d.jsx(_ie,{children:d.jsxs("div",{className:"grain",children:[d.jsx(d6e,{}),d.jsx(p6e,{}),d.jsx(hQ,{position:"top-right",toastOptions:{style:{background:"#1A1612",color:"#F5F0E8",fontFamily:"'DM Sans', sans-serif",fontSize:"13px",borderRadius:"12px",border:"1px solid rgba(245,240,232,0.1)"},success:{iconTheme:{primary:"#4A7C59",secondary:"#F5F0E8"}},error:{iconTheme:{primary:"#B84C3A",secondary:"#F5F0E8"}}}})]})})})})}aS.createRoot(document.getElementById("root")).render(d.jsx(pe.StrictMode,{children:d.jsx(m6e,{})}));export{_n as _,d0 as c,Ln as g};
