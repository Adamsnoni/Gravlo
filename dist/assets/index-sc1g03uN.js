var LH=Object.defineProperty;var MH=(t,e,n)=>e in t?LH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var xn=(t,e,n)=>MH(t,typeof e!="symbol"?e+"":e,n);function DH(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var o0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var PD={exports:{}},q2={},TD={exports:{}},Gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv=Symbol.for("react.element"),FH=Symbol.for("react.portal"),$H=Symbol.for("react.fragment"),BH=Symbol.for("react.strict_mode"),VH=Symbol.for("react.profiler"),UH=Symbol.for("react.provider"),zH=Symbol.for("react.context"),qH=Symbol.for("react.forward_ref"),WH=Symbol.for("react.suspense"),HH=Symbol.for("react.memo"),GH=Symbol.for("react.lazy"),u3=Symbol.iterator;function KH(t){return t===null||typeof t!="object"?null:(t=u3&&t[u3]||t["@@iterator"],typeof t=="function"?t:null)}var kD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CD=Object.assign,ID={};function kp(t,e,n){this.props=t,this.context=e,this.refs=ID,this.updater=n||kD}kp.prototype.isReactComponent={};kp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};kp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jD(){}jD.prototype=kp.prototype;function TE(t,e,n){this.props=t,this.context=e,this.refs=ID,this.updater=n||kD}var kE=TE.prototype=new jD;kE.constructor=TE;CD(kE,kp.prototype);kE.isPureReactComponent=!0;var f3=Array.isArray,OD=Object.prototype.hasOwnProperty,CE={current:null},RD={key:!0,ref:!0,__self:!0,__source:!0};function LD(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)OD.call(e,r)&&!RD.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:iv,type:t,key:a,ref:s,props:i,_owner:CE.current}}function YH(t,e){return{$$typeof:iv,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function IE(t){return typeof t=="object"&&t!==null&&t.$$typeof===iv}function XH(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var d3=/\/+/g;function Xw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XH(""+t.key):e.toString(36)}function o1(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case iv:case FH:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Xw(s,0):r,f3(i)?(n="",t!=null&&(n=t.replace(d3,"$&/")+"/"),o1(i,e,n,"",function(c){return c})):i!=null&&(IE(i)&&(i=YH(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(d3,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",f3(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+Xw(a,o);s+=o1(a,e,n,l,i)}else if(l=KH(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+Xw(a,o++),s+=o1(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function l0(t,e,n){if(t==null)return t;var r=[],i=0;return o1(t,r,"","",function(a){return e.call(n,a,i++)}),r}function QH(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fa={current:null},l1={transition:null},JH={ReactCurrentDispatcher:fa,ReactCurrentBatchConfig:l1,ReactCurrentOwner:CE};function MD(){throw Error("act(...) is not supported in production builds of React.")}Gt.Children={map:l0,forEach:function(t,e,n){l0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return l0(t,function(){e++}),e},toArray:function(t){return l0(t,function(e){return e})||[]},only:function(t){if(!IE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Gt.Component=kp;Gt.Fragment=$H;Gt.Profiler=VH;Gt.PureComponent=TE;Gt.StrictMode=BH;Gt.Suspense=WH;Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JH;Gt.act=MD;Gt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=CD({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=CE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)OD.call(e,l)&&!RD.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:iv,type:t.type,key:i,ref:a,props:r,_owner:s}};Gt.createContext=function(t){return t={$$typeof:zH,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UH,_context:t},t.Consumer=t};Gt.createElement=LD;Gt.createFactory=function(t){var e=LD.bind(null,t);return e.type=t,e};Gt.createRef=function(){return{current:null}};Gt.forwardRef=function(t){return{$$typeof:qH,render:t}};Gt.isValidElement=IE;Gt.lazy=function(t){return{$$typeof:GH,_payload:{_status:-1,_result:t},_init:QH}};Gt.memo=function(t,e){return{$$typeof:HH,type:t,compare:e===void 0?null:e}};Gt.startTransition=function(t){var e=l1.transition;l1.transition={};try{t()}finally{l1.transition=e}};Gt.unstable_act=MD;Gt.useCallback=function(t,e){return fa.current.useCallback(t,e)};Gt.useContext=function(t){return fa.current.useContext(t)};Gt.useDebugValue=function(){};Gt.useDeferredValue=function(t){return fa.current.useDeferredValue(t)};Gt.useEffect=function(t,e){return fa.current.useEffect(t,e)};Gt.useId=function(){return fa.current.useId()};Gt.useImperativeHandle=function(t,e,n){return fa.current.useImperativeHandle(t,e,n)};Gt.useInsertionEffect=function(t,e){return fa.current.useInsertionEffect(t,e)};Gt.useLayoutEffect=function(t,e){return fa.current.useLayoutEffect(t,e)};Gt.useMemo=function(t,e){return fa.current.useMemo(t,e)};Gt.useReducer=function(t,e,n){return fa.current.useReducer(t,e,n)};Gt.useRef=function(t){return fa.current.useRef(t)};Gt.useState=function(t){return fa.current.useState(t)};Gt.useSyncExternalStore=function(t,e,n){return fa.current.useSyncExternalStore(t,e,n)};Gt.useTransition=function(){return fa.current.useTransition()};Gt.version="18.3.1";TD.exports=Gt;var z=TD.exports;const he=Rn(z),ZH=DH({__proto__:null,default:he},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eG=z,tG=Symbol.for("react.element"),nG=Symbol.for("react.fragment"),rG=Object.prototype.hasOwnProperty,iG=eG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aG={key:!0,ref:!0,__self:!0,__source:!0};function DD(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)rG.call(e,r)&&!aG.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:tG,type:t,key:a,ref:s,props:i,_owner:iG.current}}q2.Fragment=nG;q2.jsx=DD;q2.jsxs=DD;PD.exports=q2;var d=PD.exports,eS={},FD={exports:{}},es={},$D={exports:{}},BD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(X,ae){var ue=X.length;X.push(ae);e:for(;0<ue;){var de=ue-1>>>1,$=X[de];if(0<i($,ae))X[de]=ae,X[ue]=$,ue=de;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ae=X[0],ue=X.pop();if(ue!==ae){X[0]=ue;e:for(var de=0,$=X.length,K=$>>>1;de<K;){var re=2*(de+1)-1,se=X[re],le=re+1,me=X[le];if(0>i(se,ue))le<$&&0>i(me,se)?(X[de]=me,X[le]=ue,de=le):(X[de]=se,X[re]=ue,de=re);else if(le<$&&0>i(me,ue))X[de]=me,X[le]=ue,de=le;else break e}}return ae}function i(X,ae){var ue=X.sortIndex-ae.sortIndex;return ue!==0?ue:X.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,h=3,p=!1,y=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(X){for(var ae=n(c);ae!==null;){if(ae.callback===null)r(c);else if(ae.startTime<=X)r(c),ae.sortIndex=ae.expirationTime,e(l,ae);else break;ae=n(c)}}function A(X){if(b=!1,S(X),!y)if(n(l)!==null)y=!0,Z(P);else{var ae=n(c);ae!==null&&ie(A,ae.startTime-X)}}function P(X,ae){y=!1,b&&(b=!1,v(E),E=-1),p=!0;var ue=h;try{for(S(ae),f=n(l);f!==null&&(!(f.expirationTime>ae)||X&&!N());){var de=f.callback;if(typeof de=="function"){f.callback=null,h=f.priorityLevel;var $=de(f.expirationTime<=ae);ae=t.unstable_now(),typeof $=="function"?f.callback=$:f===n(l)&&r(l),S(ae)}else r(l);f=n(l)}if(f!==null)var K=!0;else{var re=n(c);re!==null&&ie(A,re.startTime-ae),K=!1}return K}finally{f=null,h=ue,p=!1}}var O=!1,I=null,E=-1,C=5,M=-1;function N(){return!(t.unstable_now()-M<C)}function k(){if(I!==null){var X=t.unstable_now();M=X;var ae=!0;try{ae=I(!0,X)}finally{ae?j():(O=!1,I=null)}}else O=!1}var j;if(typeof w=="function")j=function(){w(k)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,G=B.port2;B.port1.onmessage=k,j=function(){G.postMessage(null)}}else j=function(){x(k,0)};function Z(X){I=X,O||(O=!0,j())}function ie(X,ae){E=x(function(){X(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,Z(P))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(X){switch(h){case 1:case 2:case 3:var ae=3;break;default:ae=h}var ue=h;h=ae;try{return X()}finally{h=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ue=h;h=X;try{return ae()}finally{h=ue}},t.unstable_scheduleCallback=function(X,ae,ue){var de=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?de+ue:de):ue=de,X){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ue+$,X={id:u++,callback:ae,priorityLevel:X,startTime:ue,expirationTime:$,sortIndex:-1},ue>de?(X.sortIndex=ue,e(c,X),n(l)===null&&X===n(c)&&(b?(v(E),E=-1):b=!0,ie(A,ue-de))):(X.sortIndex=$,e(l,X),y||p||(y=!0,Z(P))),X},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(X){var ae=h;return function(){var ue=h;h=ae;try{return X.apply(this,arguments)}finally{h=ue}}}})(BD);$D.exports=BD;var sG=$D.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oG=z,Qa=sG;function Be(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VD=new Set,Dg={};function dd(t,e){Bh(t,e),Bh(t+"Capture",e)}function Bh(t,e){for(Dg[t]=e,t=0;t<e.length;t++)VD.add(e[t])}var Kl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tS=Object.prototype.hasOwnProperty,lG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h3={},p3={};function cG(t){return tS.call(p3,t)?!0:tS.call(h3,t)?!1:lG.test(t)?p3[t]=!0:(h3[t]=!0,!1)}function uG(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fG(t,e,n,r){if(e===null||typeof e>"u"||uG(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function da(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Ti={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ti[t]=new da(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ti[e]=new da(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ti[t]=new da(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ti[t]=new da(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ti[t]=new da(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ti[t]=new da(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ti[t]=new da(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ti[t]=new da(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ti[t]=new da(t,5,!1,t.toLowerCase(),null,!1,!1)});var jE=/[\-:]([a-z])/g;function OE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jE,OE);Ti[e]=new da(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jE,OE);Ti[e]=new da(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jE,OE);Ti[e]=new da(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ti[t]=new da(t,1,!1,t.toLowerCase(),null,!1,!1)});Ti.xlinkHref=new da("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ti[t]=new da(t,1,!1,t.toLowerCase(),null,!0,!0)});function RE(t,e,n,r){var i=Ti.hasOwnProperty(e)?Ti[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fG(e,n,i,r)&&(n=null),r||i===null?cG(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var fc=oG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c0=Symbol.for("react.element"),Jd=Symbol.for("react.portal"),Zd=Symbol.for("react.fragment"),LE=Symbol.for("react.strict_mode"),nS=Symbol.for("react.profiler"),UD=Symbol.for("react.provider"),zD=Symbol.for("react.context"),ME=Symbol.for("react.forward_ref"),rS=Symbol.for("react.suspense"),iS=Symbol.for("react.suspense_list"),DE=Symbol.for("react.memo"),Gc=Symbol.for("react.lazy"),qD=Symbol.for("react.offscreen"),m3=Symbol.iterator;function Nm(t){return t===null||typeof t!="object"?null:(t=m3&&t[m3]||t["@@iterator"],typeof t=="function"?t:null)}var hr=Object.assign,Qw;function Qm(t){if(Qw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qw=e&&e[1]||""}return`
`+Qw+t}var Jw=!1;function Zw(t,e){if(!t||Jw)return"";Jw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{Jw=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qm(t):""}function dG(t){switch(t.tag){case 5:return Qm(t.type);case 16:return Qm("Lazy");case 13:return Qm("Suspense");case 19:return Qm("SuspenseList");case 0:case 2:case 15:return t=Zw(t.type,!1),t;case 11:return t=Zw(t.type.render,!1),t;case 1:return t=Zw(t.type,!0),t;default:return""}}function aS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zd:return"Fragment";case Jd:return"Portal";case nS:return"Profiler";case LE:return"StrictMode";case rS:return"Suspense";case iS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zD:return(t.displayName||"Context")+".Consumer";case UD:return(t._context.displayName||"Context")+".Provider";case ME:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case DE:return e=t.displayName||null,e!==null?e:aS(t.type)||"Memo";case Gc:e=t._payload,t=t._init;try{return aS(t(e))}catch{}}return null}function hG(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return aS(e);case 8:return e===LE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Eu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function WD(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pG(t){var e=WD(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function u0(t){t._valueTracker||(t._valueTracker=pG(t))}function HD(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=WD(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function B1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sS(t,e){var n=e.checked;return hr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function g3(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Eu(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function GD(t,e){e=e.checked,e!=null&&RE(t,"checked",e,!1)}function oS(t,e){GD(t,e);var n=Eu(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lS(t,e.type,n):e.hasOwnProperty("defaultValue")&&lS(t,e.type,Eu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function y3(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function lS(t,e,n){(e!=="number"||B1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jm=Array.isArray;function xh(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Eu(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function cS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Be(91));return hr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function v3(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Be(92));if(Jm(n)){if(1<n.length)throw Error(Be(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Eu(n)}}function KD(t,e){var n=Eu(e.value),r=Eu(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function b3(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function YD(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?YD(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var f0,XD=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(f0=f0||document.createElement("div"),f0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=f0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fg(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mG=["Webkit","ms","Moz","O"];Object.keys(fg).forEach(function(t){mG.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fg[e]=fg[t]})});function QD(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fg.hasOwnProperty(t)&&fg[t]?(""+e).trim():e+"px"}function JD(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=QD(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var gG=hr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fS(t,e){if(e){if(gG[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Be(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Be(62))}}function dS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hS=null;function FE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pS=null,wh=null,_h=null;function x3(t){if(t=ov(t)){if(typeof pS!="function")throw Error(Be(280));var e=t.stateNode;e&&(e=Y2(e),pS(t.stateNode,t.type,e))}}function ZD(t){wh?_h?_h.push(t):_h=[t]:wh=t}function e8(){if(wh){var t=wh,e=_h;if(_h=wh=null,x3(t),e)for(t=0;t<e.length;t++)x3(e[t])}}function t8(t,e){return t(e)}function n8(){}var e5=!1;function r8(t,e,n){if(e5)return t(e,n);e5=!0;try{return t8(t,e,n)}finally{e5=!1,(wh!==null||_h!==null)&&(n8(),e8())}}function $g(t,e){var n=t.stateNode;if(n===null)return null;var r=Y2(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Be(231,e,typeof n));return n}var mS=!1;if(Kl)try{var Em={};Object.defineProperty(Em,"passive",{get:function(){mS=!0}}),window.addEventListener("test",Em,Em),window.removeEventListener("test",Em,Em)}catch{mS=!1}function yG(t,e,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var dg=!1,V1=null,U1=!1,gS=null,vG={onError:function(t){dg=!0,V1=t}};function bG(t,e,n,r,i,a,s,o,l){dg=!1,V1=null,yG.apply(vG,arguments)}function xG(t,e,n,r,i,a,s,o,l){if(bG.apply(this,arguments),dg){if(dg){var c=V1;dg=!1,V1=null}else throw Error(Be(198));U1||(U1=!0,gS=c)}}function hd(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function i8(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function w3(t){if(hd(t)!==t)throw Error(Be(188))}function wG(t){var e=t.alternate;if(!e){if(e=hd(t),e===null)throw Error(Be(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return w3(i),t;if(a===r)return w3(i),e;a=a.sibling}throw Error(Be(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(Be(189))}}if(n.alternate!==r)throw Error(Be(190))}if(n.tag!==3)throw Error(Be(188));return n.stateNode.current===n?t:e}function a8(t){return t=wG(t),t!==null?s8(t):null}function s8(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=s8(t);if(e!==null)return e;t=t.sibling}return null}var o8=Qa.unstable_scheduleCallback,_3=Qa.unstable_cancelCallback,_G=Qa.unstable_shouldYield,SG=Qa.unstable_requestPaint,jr=Qa.unstable_now,AG=Qa.unstable_getCurrentPriorityLevel,$E=Qa.unstable_ImmediatePriority,l8=Qa.unstable_UserBlockingPriority,z1=Qa.unstable_NormalPriority,NG=Qa.unstable_LowPriority,c8=Qa.unstable_IdlePriority,W2=null,Wo=null;function EG(t){if(Wo&&typeof Wo.onCommitFiberRoot=="function")try{Wo.onCommitFiberRoot(W2,t,void 0,(t.current.flags&128)===128)}catch{}}var oo=Math.clz32?Math.clz32:kG,PG=Math.log,TG=Math.LN2;function kG(t){return t>>>=0,t===0?32:31-(PG(t)/TG|0)|0}var d0=64,h0=4194304;function Zm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function q1(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=Zm(o):(a&=s,a!==0&&(r=Zm(a)))}else s=n&~i,s!==0?r=Zm(s):a!==0&&(r=Zm(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-oo(e),i=1<<n,r|=t[n],e&=~i;return r}function CG(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IG(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-oo(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=CG(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function yS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function u8(){var t=d0;return d0<<=1,!(d0&4194240)&&(d0=64),t}function t5(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function av(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-oo(e),t[e]=n}function jG(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-oo(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function BE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-oo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Sn=0;function f8(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var d8,VE,h8,p8,m8,vS=!1,p0=[],fu=null,du=null,hu=null,Bg=new Map,Vg=new Map,Xc=[],OG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S3(t,e){switch(t){case"focusin":case"focusout":fu=null;break;case"dragenter":case"dragleave":du=null;break;case"mouseover":case"mouseout":hu=null;break;case"pointerover":case"pointerout":Bg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vg.delete(e.pointerId)}}function Pm(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=ov(e),e!==null&&VE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function RG(t,e,n,r,i){switch(e){case"focusin":return fu=Pm(fu,t,e,n,r,i),!0;case"dragenter":return du=Pm(du,t,e,n,r,i),!0;case"mouseover":return hu=Pm(hu,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Bg.set(a,Pm(Bg.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Vg.set(a,Pm(Vg.get(a)||null,t,e,n,r,i)),!0}return!1}function g8(t){var e=Ef(t.target);if(e!==null){var n=hd(e);if(n!==null){if(e=n.tag,e===13){if(e=i8(n),e!==null){t.blockedOn=e,m8(t.priority,function(){h8(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function c1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hS=r,n.target.dispatchEvent(r),hS=null}else return e=ov(n),e!==null&&VE(e),t.blockedOn=n,!1;e.shift()}return!0}function A3(t,e,n){c1(t)&&n.delete(e)}function LG(){vS=!1,fu!==null&&c1(fu)&&(fu=null),du!==null&&c1(du)&&(du=null),hu!==null&&c1(hu)&&(hu=null),Bg.forEach(A3),Vg.forEach(A3)}function Tm(t,e){t.blockedOn===e&&(t.blockedOn=null,vS||(vS=!0,Qa.unstable_scheduleCallback(Qa.unstable_NormalPriority,LG)))}function Ug(t){function e(i){return Tm(i,t)}if(0<p0.length){Tm(p0[0],t);for(var n=1;n<p0.length;n++){var r=p0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fu!==null&&Tm(fu,t),du!==null&&Tm(du,t),hu!==null&&Tm(hu,t),Bg.forEach(e),Vg.forEach(e),n=0;n<Xc.length;n++)r=Xc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Xc.length&&(n=Xc[0],n.blockedOn===null);)g8(n),n.blockedOn===null&&Xc.shift()}var Sh=fc.ReactCurrentBatchConfig,W1=!0;function MG(t,e,n,r){var i=Sn,a=Sh.transition;Sh.transition=null;try{Sn=1,UE(t,e,n,r)}finally{Sn=i,Sh.transition=a}}function DG(t,e,n,r){var i=Sn,a=Sh.transition;Sh.transition=null;try{Sn=4,UE(t,e,n,r)}finally{Sn=i,Sh.transition=a}}function UE(t,e,n,r){if(W1){var i=bS(t,e,n,r);if(i===null)f5(t,e,r,H1,n),S3(t,r);else if(RG(i,t,e,n,r))r.stopPropagation();else if(S3(t,r),e&4&&-1<OG.indexOf(t)){for(;i!==null;){var a=ov(i);if(a!==null&&d8(a),a=bS(t,e,n,r),a===null&&f5(t,e,r,H1,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else f5(t,e,r,null,n)}}var H1=null;function bS(t,e,n,r){if(H1=null,t=FE(r),t=Ef(t),t!==null)if(e=hd(t),e===null)t=null;else if(n=e.tag,n===13){if(t=i8(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return H1=t,null}function y8(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AG()){case $E:return 1;case l8:return 4;case z1:case NG:return 16;case c8:return 536870912;default:return 16}default:return 16}}var iu=null,zE=null,u1=null;function v8(){if(u1)return u1;var t,e=zE,n=e.length,r,i="value"in iu?iu.value:iu.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return u1=i.slice(t,1<r?1-r:void 0)}function f1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function m0(){return!0}function N3(){return!1}function ts(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?m0:N3,this.isPropagationStopped=N3,this}return hr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=m0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=m0)},persist:function(){},isPersistent:m0}),e}var Cp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qE=ts(Cp),sv=hr({},Cp,{view:0,detail:0}),FG=ts(sv),n5,r5,km,H2=hr({},sv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:WE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==km&&(km&&t.type==="mousemove"?(n5=t.screenX-km.screenX,r5=t.screenY-km.screenY):r5=n5=0,km=t),n5)},movementY:function(t){return"movementY"in t?t.movementY:r5}}),E3=ts(H2),$G=hr({},H2,{dataTransfer:0}),BG=ts($G),VG=hr({},sv,{relatedTarget:0}),i5=ts(VG),UG=hr({},Cp,{animationName:0,elapsedTime:0,pseudoElement:0}),zG=ts(UG),qG=hr({},Cp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),WG=ts(qG),HG=hr({},Cp,{data:0}),P3=ts(HG),GG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XG(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=YG[t])?!!e[t]:!1}function WE(){return XG}var QG=hr({},sv,{key:function(t){if(t.key){var e=GG[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=f1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KG[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:WE,charCode:function(t){return t.type==="keypress"?f1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?f1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),JG=ts(QG),ZG=hr({},H2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T3=ts(ZG),eK=hr({},sv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:WE}),tK=ts(eK),nK=hr({},Cp,{propertyName:0,elapsedTime:0,pseudoElement:0}),rK=ts(nK),iK=hr({},H2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aK=ts(iK),sK=[9,13,27,32],HE=Kl&&"CompositionEvent"in window,hg=null;Kl&&"documentMode"in document&&(hg=document.documentMode);var oK=Kl&&"TextEvent"in window&&!hg,b8=Kl&&(!HE||hg&&8<hg&&11>=hg),k3=" ",C3=!1;function x8(t,e){switch(t){case"keyup":return sK.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var eh=!1;function lK(t,e){switch(t){case"compositionend":return w8(e);case"keypress":return e.which!==32?null:(C3=!0,k3);case"textInput":return t=e.data,t===k3&&C3?null:t;default:return null}}function cK(t,e){if(eh)return t==="compositionend"||!HE&&x8(t,e)?(t=v8(),u1=zE=iu=null,eh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return b8&&e.locale!=="ko"?null:e.data;default:return null}}var uK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function I3(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uK[t.type]:e==="textarea"}function _8(t,e,n,r){ZD(r),e=G1(e,"onChange"),0<e.length&&(n=new qE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pg=null,zg=null;function fK(t){O8(t,0)}function G2(t){var e=rh(t);if(HD(e))return t}function dK(t,e){if(t==="change")return e}var S8=!1;if(Kl){var a5;if(Kl){var s5="oninput"in document;if(!s5){var j3=document.createElement("div");j3.setAttribute("oninput","return;"),s5=typeof j3.oninput=="function"}a5=s5}else a5=!1;S8=a5&&(!document.documentMode||9<document.documentMode)}function O3(){pg&&(pg.detachEvent("onpropertychange",A8),zg=pg=null)}function A8(t){if(t.propertyName==="value"&&G2(zg)){var e=[];_8(e,zg,t,FE(t)),r8(fK,e)}}function hK(t,e,n){t==="focusin"?(O3(),pg=e,zg=n,pg.attachEvent("onpropertychange",A8)):t==="focusout"&&O3()}function pK(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return G2(zg)}function mK(t,e){if(t==="click")return G2(e)}function gK(t,e){if(t==="input"||t==="change")return G2(e)}function yK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var uo=typeof Object.is=="function"?Object.is:yK;function qg(t,e){if(uo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!tS.call(e,i)||!uo(t[i],e[i]))return!1}return!0}function R3(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function L3(t,e){var n=R3(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=R3(n)}}function N8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?N8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function E8(){for(var t=window,e=B1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=B1(t.document)}return e}function GE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vK(t){var e=E8(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&N8(n.ownerDocument.documentElement,n)){if(r!==null&&GE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=L3(n,a);var s=L3(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bK=Kl&&"documentMode"in document&&11>=document.documentMode,th=null,xS=null,mg=null,wS=!1;function M3(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wS||th==null||th!==B1(r)||(r=th,"selectionStart"in r&&GE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mg&&qg(mg,r)||(mg=r,r=G1(xS,"onSelect"),0<r.length&&(e=new qE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=th)))}function g0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var nh={animationend:g0("Animation","AnimationEnd"),animationiteration:g0("Animation","AnimationIteration"),animationstart:g0("Animation","AnimationStart"),transitionend:g0("Transition","TransitionEnd")},o5={},P8={};Kl&&(P8=document.createElement("div").style,"AnimationEvent"in window||(delete nh.animationend.animation,delete nh.animationiteration.animation,delete nh.animationstart.animation),"TransitionEvent"in window||delete nh.transitionend.transition);function K2(t){if(o5[t])return o5[t];if(!nh[t])return t;var e=nh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in P8)return o5[t]=e[n];return t}var T8=K2("animationend"),k8=K2("animationiteration"),C8=K2("animationstart"),I8=K2("transitionend"),j8=new Map,D3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mu(t,e){j8.set(t,e),dd(e,[t])}for(var l5=0;l5<D3.length;l5++){var c5=D3[l5],xK=c5.toLowerCase(),wK=c5[0].toUpperCase()+c5.slice(1);Mu(xK,"on"+wK)}Mu(T8,"onAnimationEnd");Mu(k8,"onAnimationIteration");Mu(C8,"onAnimationStart");Mu("dblclick","onDoubleClick");Mu("focusin","onFocus");Mu("focusout","onBlur");Mu(I8,"onTransitionEnd");Bh("onMouseEnter",["mouseout","mouseover"]);Bh("onMouseLeave",["mouseout","mouseover"]);Bh("onPointerEnter",["pointerout","pointerover"]);Bh("onPointerLeave",["pointerout","pointerover"]);dd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dd("onBeforeInput",["compositionend","keypress","textInput","paste"]);dd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_K=new Set("cancel close invalid load scroll toggle".split(" ").concat(eg));function F3(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,xG(r,e,void 0,t),t.currentTarget=null}function O8(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;F3(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;F3(i,o,c),a=l}}}if(U1)throw t=gS,U1=!1,gS=null,t}function Wn(t,e){var n=e[ES];n===void 0&&(n=e[ES]=new Set);var r=t+"__bubble";n.has(r)||(R8(e,t,2,!1),n.add(r))}function u5(t,e,n){var r=0;e&&(r|=4),R8(n,t,r,e)}var y0="_reactListening"+Math.random().toString(36).slice(2);function Wg(t){if(!t[y0]){t[y0]=!0,VD.forEach(function(n){n!=="selectionchange"&&(_K.has(n)||u5(n,!1,t),u5(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[y0]||(e[y0]=!0,u5("selectionchange",!1,e))}}function R8(t,e,n,r){switch(y8(e)){case 1:var i=MG;break;case 4:i=DG;break;default:i=UE}n=i.bind(null,e,n,t),i=void 0,!mS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function f5(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Ef(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}r8(function(){var c=a,u=FE(n),f=[];e:{var h=j8.get(t);if(h!==void 0){var p=qE,y=t;switch(t){case"keypress":if(f1(n)===0)break e;case"keydown":case"keyup":p=JG;break;case"focusin":y="focus",p=i5;break;case"focusout":y="blur",p=i5;break;case"beforeblur":case"afterblur":p=i5;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=E3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=BG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=tK;break;case T8:case k8:case C8:p=zG;break;case I8:p=rK;break;case"scroll":p=FG;break;case"wheel":p=aK;break;case"copy":case"cut":case"paste":p=WG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=T3}var b=(e&4)!==0,x=!b&&t==="scroll",v=b?h!==null?h+"Capture":null:h;b=[];for(var w=c,S;w!==null;){S=w;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,v!==null&&(A=$g(w,v),A!=null&&b.push(Hg(w,A,S)))),x)break;w=w.return}0<b.length&&(h=new p(h,y,null,n,u),f.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==hS&&(y=n.relatedTarget||n.fromElement)&&(Ef(y)||y[Yl]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=c,y=y?Ef(y):null,y!==null&&(x=hd(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(b=E3,A="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(b=T3,A="onPointerLeave",v="onPointerEnter",w="pointer"),x=p==null?h:rh(p),S=y==null?h:rh(y),h=new b(A,w+"leave",p,n,u),h.target=x,h.relatedTarget=S,A=null,Ef(u)===c&&(b=new b(v,w+"enter",y,n,u),b.target=S,b.relatedTarget=x,A=b),x=A,p&&y)t:{for(b=p,v=y,w=0,S=b;S;S=Dd(S))w++;for(S=0,A=v;A;A=Dd(A))S++;for(;0<w-S;)b=Dd(b),w--;for(;0<S-w;)v=Dd(v),S--;for(;w--;){if(b===v||v!==null&&b===v.alternate)break t;b=Dd(b),v=Dd(v)}b=null}else b=null;p!==null&&$3(f,h,p,b,!1),y!==null&&x!==null&&$3(f,x,y,b,!0)}}e:{if(h=c?rh(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var P=dK;else if(I3(h))if(S8)P=gK;else{P=pK;var O=hK}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(P=mK);if(P&&(P=P(t,c))){_8(f,P,n,u);break e}O&&O(t,h,c),t==="focusout"&&(O=h._wrapperState)&&O.controlled&&h.type==="number"&&lS(h,"number",h.value)}switch(O=c?rh(c):window,t){case"focusin":(I3(O)||O.contentEditable==="true")&&(th=O,xS=c,mg=null);break;case"focusout":mg=xS=th=null;break;case"mousedown":wS=!0;break;case"contextmenu":case"mouseup":case"dragend":wS=!1,M3(f,n,u);break;case"selectionchange":if(bK)break;case"keydown":case"keyup":M3(f,n,u)}var I;if(HE)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else eh?x8(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(b8&&n.locale!=="ko"&&(eh||E!=="onCompositionStart"?E==="onCompositionEnd"&&eh&&(I=v8()):(iu=u,zE="value"in iu?iu.value:iu.textContent,eh=!0)),O=G1(c,E),0<O.length&&(E=new P3(E,t,null,n,u),f.push({event:E,listeners:O}),I?E.data=I:(I=w8(n),I!==null&&(E.data=I)))),(I=oK?lK(t,n):cK(t,n))&&(c=G1(c,"onBeforeInput"),0<c.length&&(u=new P3("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=I))}O8(f,e)})}function Hg(t,e,n){return{instance:t,listener:e,currentTarget:n}}function G1(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=$g(t,n),a!=null&&r.unshift(Hg(t,a,i)),a=$g(t,e),a!=null&&r.push(Hg(t,a,i))),t=t.return}return r}function Dd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $3(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=$g(n,a),l!=null&&s.unshift(Hg(n,l,o))):i||(l=$g(n,a),l!=null&&s.push(Hg(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var SK=/\r\n?/g,AK=/\u0000|\uFFFD/g;function B3(t){return(typeof t=="string"?t:""+t).replace(SK,`
`).replace(AK,"")}function v0(t,e,n){if(e=B3(e),B3(t)!==e&&n)throw Error(Be(425))}function K1(){}var _S=null,SS=null;function AS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var NS=typeof setTimeout=="function"?setTimeout:void 0,NK=typeof clearTimeout=="function"?clearTimeout:void 0,V3=typeof Promise=="function"?Promise:void 0,EK=typeof queueMicrotask=="function"?queueMicrotask:typeof V3<"u"?function(t){return V3.resolve(null).then(t).catch(PK)}:NS;function PK(t){setTimeout(function(){throw t})}function d5(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ug(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ug(e)}function pu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function U3(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ip=Math.random().toString(36).slice(2),$o="__reactFiber$"+Ip,Gg="__reactProps$"+Ip,Yl="__reactContainer$"+Ip,ES="__reactEvents$"+Ip,TK="__reactListeners$"+Ip,kK="__reactHandles$"+Ip;function Ef(t){var e=t[$o];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yl]||n[$o]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=U3(t);t!==null;){if(n=t[$o])return n;t=U3(t)}return e}t=n,n=t.parentNode}return null}function ov(t){return t=t[$o]||t[Yl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Be(33))}function Y2(t){return t[Gg]||null}var PS=[],ih=-1;function Du(t){return{current:t}}function Yn(t){0>ih||(t.current=PS[ih],PS[ih]=null,ih--)}function Bn(t,e){ih++,PS[ih]=t.current,t.current=e}var Pu={},Ji=Du(Pu),_a=Du(!1),qf=Pu;function Vh(t,e){var n=t.type.contextTypes;if(!n)return Pu;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Sa(t){return t=t.childContextTypes,t!=null}function Y1(){Yn(_a),Yn(Ji)}function z3(t,e,n){if(Ji.current!==Pu)throw Error(Be(168));Bn(Ji,e),Bn(_a,n)}function L8(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Be(108,hG(t)||"Unknown",i));return hr({},n,r)}function X1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pu,qf=Ji.current,Bn(Ji,t),Bn(_a,_a.current),!0}function q3(t,e,n){var r=t.stateNode;if(!r)throw Error(Be(169));n?(t=L8(t,e,qf),r.__reactInternalMemoizedMergedChildContext=t,Yn(_a),Yn(Ji),Bn(Ji,t)):Yn(_a),Bn(_a,n)}var Cl=null,X2=!1,h5=!1;function M8(t){Cl===null?Cl=[t]:Cl.push(t)}function CK(t){X2=!0,M8(t)}function Fu(){if(!h5&&Cl!==null){h5=!0;var t=0,e=Sn;try{var n=Cl;for(Sn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Cl=null,X2=!1}catch(i){throw Cl!==null&&(Cl=Cl.slice(t+1)),o8($E,Fu),i}finally{Sn=e,h5=!1}}return null}var ah=[],sh=0,Q1=null,J1=0,_s=[],Ss=0,Wf=null,jl=1,Ol="";function mf(t,e){ah[sh++]=J1,ah[sh++]=Q1,Q1=t,J1=e}function D8(t,e,n){_s[Ss++]=jl,_s[Ss++]=Ol,_s[Ss++]=Wf,Wf=t;var r=jl;t=Ol;var i=32-oo(r)-1;r&=~(1<<i),n+=1;var a=32-oo(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,jl=1<<32-oo(e)+i|n<<i|r,Ol=a+t}else jl=1<<a|n<<i|r,Ol=t}function KE(t){t.return!==null&&(mf(t,1),D8(t,1,0))}function YE(t){for(;t===Q1;)Q1=ah[--sh],ah[sh]=null,J1=ah[--sh],ah[sh]=null;for(;t===Wf;)Wf=_s[--Ss],_s[Ss]=null,Ol=_s[--Ss],_s[Ss]=null,jl=_s[--Ss],_s[Ss]=null}var Ya=null,Ha=null,er=!1,io=null;function F8(t,e){var n=Ns(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function W3(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ya=t,Ha=pu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ya=t,Ha=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wf!==null?{id:jl,overflow:Ol}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ns(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ya=t,Ha=null,!0):!1;default:return!1}}function TS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kS(t){if(er){var e=Ha;if(e){var n=e;if(!W3(t,e)){if(TS(t))throw Error(Be(418));e=pu(n.nextSibling);var r=Ya;e&&W3(t,e)?F8(r,n):(t.flags=t.flags&-4097|2,er=!1,Ya=t)}}else{if(TS(t))throw Error(Be(418));t.flags=t.flags&-4097|2,er=!1,Ya=t}}}function H3(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ya=t}function b0(t){if(t!==Ya)return!1;if(!er)return H3(t),er=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!AS(t.type,t.memoizedProps)),e&&(e=Ha)){if(TS(t))throw $8(),Error(Be(418));for(;e;)F8(t,e),e=pu(e.nextSibling)}if(H3(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Be(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ha=pu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ha=null}}else Ha=Ya?pu(t.stateNode.nextSibling):null;return!0}function $8(){for(var t=Ha;t;)t=pu(t.nextSibling)}function Uh(){Ha=Ya=null,er=!1}function XE(t){io===null?io=[t]:io.push(t)}var IK=fc.ReactCurrentBatchConfig;function Cm(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Be(309));var r=n.stateNode}if(!r)throw Error(Be(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(Be(284));if(!n._owner)throw Error(Be(290,t))}return t}function x0(t,e){throw t=Object.prototype.toString.call(e),Error(Be(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function G3(t){var e=t._init;return e(t._payload)}function B8(t){function e(v,w){if(t){var S=v.deletions;S===null?(v.deletions=[w],v.flags|=16):S.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=vu(v,w),v.index=0,v.sibling=null,v}function a(v,w,S){return v.index=S,t?(S=v.alternate,S!==null?(S=S.index,S<w?(v.flags|=2,w):S):(v.flags|=2,w)):(v.flags|=1048576,w)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,w,S,A){return w===null||w.tag!==6?(w=x5(S,v.mode,A),w.return=v,w):(w=i(w,S),w.return=v,w)}function l(v,w,S,A){var P=S.type;return P===Zd?u(v,w,S.props.children,A,S.key):w!==null&&(w.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Gc&&G3(P)===w.type)?(A=i(w,S.props),A.ref=Cm(v,w,S),A.return=v,A):(A=v1(S.type,S.key,S.props,null,v.mode,A),A.ref=Cm(v,w,S),A.return=v,A)}function c(v,w,S,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=w5(S,v.mode,A),w.return=v,w):(w=i(w,S.children||[]),w.return=v,w)}function u(v,w,S,A,P){return w===null||w.tag!==7?(w=Df(S,v.mode,A,P),w.return=v,w):(w=i(w,S),w.return=v,w)}function f(v,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=x5(""+w,v.mode,S),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case c0:return S=v1(w.type,w.key,w.props,null,v.mode,S),S.ref=Cm(v,null,w),S.return=v,S;case Jd:return w=w5(w,v.mode,S),w.return=v,w;case Gc:var A=w._init;return f(v,A(w._payload),S)}if(Jm(w)||Nm(w))return w=Df(w,v.mode,S,null),w.return=v,w;x0(v,w)}return null}function h(v,w,S,A){var P=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return P!==null?null:o(v,w,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case c0:return S.key===P?l(v,w,S,A):null;case Jd:return S.key===P?c(v,w,S,A):null;case Gc:return P=S._init,h(v,w,P(S._payload),A)}if(Jm(S)||Nm(S))return P!==null?null:u(v,w,S,A,null);x0(v,S)}return null}function p(v,w,S,A,P){if(typeof A=="string"&&A!==""||typeof A=="number")return v=v.get(S)||null,o(w,v,""+A,P);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case c0:return v=v.get(A.key===null?S:A.key)||null,l(w,v,A,P);case Jd:return v=v.get(A.key===null?S:A.key)||null,c(w,v,A,P);case Gc:var O=A._init;return p(v,w,S,O(A._payload),P)}if(Jm(A)||Nm(A))return v=v.get(S)||null,u(w,v,A,P,null);x0(w,A)}return null}function y(v,w,S,A){for(var P=null,O=null,I=w,E=w=0,C=null;I!==null&&E<S.length;E++){I.index>E?(C=I,I=null):C=I.sibling;var M=h(v,I,S[E],A);if(M===null){I===null&&(I=C);break}t&&I&&M.alternate===null&&e(v,I),w=a(M,w,E),O===null?P=M:O.sibling=M,O=M,I=C}if(E===S.length)return n(v,I),er&&mf(v,E),P;if(I===null){for(;E<S.length;E++)I=f(v,S[E],A),I!==null&&(w=a(I,w,E),O===null?P=I:O.sibling=I,O=I);return er&&mf(v,E),P}for(I=r(v,I);E<S.length;E++)C=p(I,v,E,S[E],A),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?E:C.key),w=a(C,w,E),O===null?P=C:O.sibling=C,O=C);return t&&I.forEach(function(N){return e(v,N)}),er&&mf(v,E),P}function b(v,w,S,A){var P=Nm(S);if(typeof P!="function")throw Error(Be(150));if(S=P.call(S),S==null)throw Error(Be(151));for(var O=P=null,I=w,E=w=0,C=null,M=S.next();I!==null&&!M.done;E++,M=S.next()){I.index>E?(C=I,I=null):C=I.sibling;var N=h(v,I,M.value,A);if(N===null){I===null&&(I=C);break}t&&I&&N.alternate===null&&e(v,I),w=a(N,w,E),O===null?P=N:O.sibling=N,O=N,I=C}if(M.done)return n(v,I),er&&mf(v,E),P;if(I===null){for(;!M.done;E++,M=S.next())M=f(v,M.value,A),M!==null&&(w=a(M,w,E),O===null?P=M:O.sibling=M,O=M);return er&&mf(v,E),P}for(I=r(v,I);!M.done;E++,M=S.next())M=p(I,v,E,M.value,A),M!==null&&(t&&M.alternate!==null&&I.delete(M.key===null?E:M.key),w=a(M,w,E),O===null?P=M:O.sibling=M,O=M);return t&&I.forEach(function(k){return e(v,k)}),er&&mf(v,E),P}function x(v,w,S,A){if(typeof S=="object"&&S!==null&&S.type===Zd&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case c0:e:{for(var P=S.key,O=w;O!==null;){if(O.key===P){if(P=S.type,P===Zd){if(O.tag===7){n(v,O.sibling),w=i(O,S.props.children),w.return=v,v=w;break e}}else if(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Gc&&G3(P)===O.type){n(v,O.sibling),w=i(O,S.props),w.ref=Cm(v,O,S),w.return=v,v=w;break e}n(v,O);break}else e(v,O);O=O.sibling}S.type===Zd?(w=Df(S.props.children,v.mode,A,S.key),w.return=v,v=w):(A=v1(S.type,S.key,S.props,null,v.mode,A),A.ref=Cm(v,w,S),A.return=v,v=A)}return s(v);case Jd:e:{for(O=S.key;w!==null;){if(w.key===O)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(v,w.sibling),w=i(w,S.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=w5(S,v.mode,A),w.return=v,v=w}return s(v);case Gc:return O=S._init,x(v,w,O(S._payload),A)}if(Jm(S))return y(v,w,S,A);if(Nm(S))return b(v,w,S,A);x0(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,S),w.return=v,v=w):(n(v,w),w=x5(S,v.mode,A),w.return=v,v=w),s(v)):n(v,w)}return x}var zh=B8(!0),V8=B8(!1),Z1=Du(null),eb=null,oh=null,QE=null;function JE(){QE=oh=eb=null}function ZE(t){var e=Z1.current;Yn(Z1),t._currentValue=e}function CS(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ah(t,e){eb=t,QE=oh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xa=!0),t.firstContext=null)}function Ms(t){var e=t._currentValue;if(QE!==t)if(t={context:t,memoizedValue:e,next:null},oh===null){if(eb===null)throw Error(Be(308));oh=t,eb.dependencies={lanes:0,firstContext:t}}else oh=oh.next=t;return e}var Pf=null;function eP(t){Pf===null?Pf=[t]:Pf.push(t)}function U8(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,eP(e)):(n.next=i.next,i.next=n),e.interleaved=n,Xl(t,r)}function Xl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Kc=!1;function tP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z8(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function mu(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,sn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Xl(t,n)}return i=r.interleaved,i===null?(e.next=e,eP(r)):(e.next=i.next,i.next=e),r.interleaved=e,Xl(t,n)}function d1(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,BE(t,n)}}function K3(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function tb(t,e,n,r){var i=t.updateQueue;Kc=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,u=c=l=null,o=a;do{var h=o.lane,p=o.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,b=o;switch(h=e,p=n,b.tag){case 1:if(y=b.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=hr({},f,h);break e;case 2:Kc=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Gf|=s,t.lanes=s,t.memoizedState=f}}function Y3(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Be(191,i));i.call(r)}}}var lv={},Ho=Du(lv),Kg=Du(lv),Yg=Du(lv);function Tf(t){if(t===lv)throw Error(Be(174));return t}function nP(t,e){switch(Bn(Yg,e),Bn(Kg,t),Bn(Ho,lv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:uS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=uS(e,t)}Yn(Ho),Bn(Ho,e)}function qh(){Yn(Ho),Yn(Kg),Yn(Yg)}function q8(t){Tf(Yg.current);var e=Tf(Ho.current),n=uS(e,t.type);e!==n&&(Bn(Kg,t),Bn(Ho,n))}function rP(t){Kg.current===t&&(Yn(Ho),Yn(Kg))}var or=Du(0);function nb(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var p5=[];function iP(){for(var t=0;t<p5.length;t++)p5[t]._workInProgressVersionPrimary=null;p5.length=0}var h1=fc.ReactCurrentDispatcher,m5=fc.ReactCurrentBatchConfig,Hf=0,fr=null,Jr=null,ui=null,rb=!1,gg=!1,Xg=0,jK=0;function Li(){throw Error(Be(321))}function aP(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!uo(t[n],e[n]))return!1;return!0}function sP(t,e,n,r,i,a){if(Hf=a,fr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,h1.current=t===null||t.memoizedState===null?MK:DK,t=n(r,i),gg){a=0;do{if(gg=!1,Xg=0,25<=a)throw Error(Be(301));a+=1,ui=Jr=null,e.updateQueue=null,h1.current=FK,t=n(r,i)}while(gg)}if(h1.current=ib,e=Jr!==null&&Jr.next!==null,Hf=0,ui=Jr=fr=null,rb=!1,e)throw Error(Be(300));return t}function oP(){var t=Xg!==0;return Xg=0,t}function Do(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ui===null?fr.memoizedState=ui=t:ui=ui.next=t,ui}function Ds(){if(Jr===null){var t=fr.alternate;t=t!==null?t.memoizedState:null}else t=Jr.next;var e=ui===null?fr.memoizedState:ui.next;if(e!==null)ui=e,Jr=t;else{if(t===null)throw Error(Be(310));Jr=t,t={memoizedState:Jr.memoizedState,baseState:Jr.baseState,baseQueue:Jr.baseQueue,queue:Jr.queue,next:null},ui===null?fr.memoizedState=ui=t:ui=ui.next=t}return ui}function Qg(t,e){return typeof e=="function"?e(t):e}function g5(t){var e=Ds(),n=e.queue;if(n===null)throw Error(Be(311));n.lastRenderedReducer=t;var r=Jr,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((Hf&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,fr.lanes|=u,Gf|=u}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,uo(r,e.memoizedState)||(xa=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,fr.lanes|=a,Gf|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function y5(t){var e=Ds(),n=e.queue;if(n===null)throw Error(Be(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);uo(a,e.memoizedState)||(xa=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function W8(){}function H8(t,e){var n=fr,r=Ds(),i=e(),a=!uo(r.memoizedState,i);if(a&&(r.memoizedState=i,xa=!0),r=r.queue,lP(Y8.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||ui!==null&&ui.memoizedState.tag&1){if(n.flags|=2048,Jg(9,K8.bind(null,n,r,i,e),void 0,null),di===null)throw Error(Be(349));Hf&30||G8(n,e,i)}return i}function G8(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=fr.updateQueue,e===null?(e={lastEffect:null,stores:null},fr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function K8(t,e,n,r){e.value=n,e.getSnapshot=r,X8(e)&&Q8(t)}function Y8(t,e,n){return n(function(){X8(e)&&Q8(t)})}function X8(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!uo(t,n)}catch{return!0}}function Q8(t){var e=Xl(t,1);e!==null&&lo(e,t,1,-1)}function X3(t){var e=Do();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qg,lastRenderedState:t},e.queue=t,t=t.dispatch=LK.bind(null,fr,t),[e.memoizedState,t]}function Jg(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=fr.updateQueue,e===null?(e={lastEffect:null,stores:null},fr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function J8(){return Ds().memoizedState}function p1(t,e,n,r){var i=Do();fr.flags|=t,i.memoizedState=Jg(1|e,n,void 0,r===void 0?null:r)}function Q2(t,e,n,r){var i=Ds();r=r===void 0?null:r;var a=void 0;if(Jr!==null){var s=Jr.memoizedState;if(a=s.destroy,r!==null&&aP(r,s.deps)){i.memoizedState=Jg(e,n,a,r);return}}fr.flags|=t,i.memoizedState=Jg(1|e,n,a,r)}function Q3(t,e){return p1(8390656,8,t,e)}function lP(t,e){return Q2(2048,8,t,e)}function Z8(t,e){return Q2(4,2,t,e)}function e7(t,e){return Q2(4,4,t,e)}function t7(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function n7(t,e,n){return n=n!=null?n.concat([t]):null,Q2(4,4,t7.bind(null,e,t),n)}function cP(){}function r7(t,e){var n=Ds();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&aP(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function i7(t,e){var n=Ds();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&aP(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function a7(t,e,n){return Hf&21?(uo(n,e)||(n=u8(),fr.lanes|=n,Gf|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xa=!0),t.memoizedState=n)}function OK(t,e){var n=Sn;Sn=n!==0&&4>n?n:4,t(!0);var r=m5.transition;m5.transition={};try{t(!1),e()}finally{Sn=n,m5.transition=r}}function s7(){return Ds().memoizedState}function RK(t,e,n){var r=yu(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},o7(t))l7(e,n);else if(n=U8(t,e,n,r),n!==null){var i=ca();lo(n,t,r,i),c7(n,e,r)}}function LK(t,e,n){var r=yu(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(o7(t))l7(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,uo(o,s)){var l=e.interleaved;l===null?(i.next=i,eP(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=U8(t,e,i,r),n!==null&&(i=ca(),lo(n,t,r,i),c7(n,e,r))}}function o7(t){var e=t.alternate;return t===fr||e!==null&&e===fr}function l7(t,e){gg=rb=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function c7(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,BE(t,n)}}var ib={readContext:Ms,useCallback:Li,useContext:Li,useEffect:Li,useImperativeHandle:Li,useInsertionEffect:Li,useLayoutEffect:Li,useMemo:Li,useReducer:Li,useRef:Li,useState:Li,useDebugValue:Li,useDeferredValue:Li,useTransition:Li,useMutableSource:Li,useSyncExternalStore:Li,useId:Li,unstable_isNewReconciler:!1},MK={readContext:Ms,useCallback:function(t,e){return Do().memoizedState=[t,e===void 0?null:e],t},useContext:Ms,useEffect:Q3,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,p1(4194308,4,t7.bind(null,e,t),n)},useLayoutEffect:function(t,e){return p1(4194308,4,t,e)},useInsertionEffect:function(t,e){return p1(4,2,t,e)},useMemo:function(t,e){var n=Do();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Do();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=RK.bind(null,fr,t),[r.memoizedState,t]},useRef:function(t){var e=Do();return t={current:t},e.memoizedState=t},useState:X3,useDebugValue:cP,useDeferredValue:function(t){return Do().memoizedState=t},useTransition:function(){var t=X3(!1),e=t[0];return t=OK.bind(null,t[1]),Do().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=fr,i=Do();if(er){if(n===void 0)throw Error(Be(407));n=n()}else{if(n=e(),di===null)throw Error(Be(349));Hf&30||G8(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,Q3(Y8.bind(null,r,a,t),[t]),r.flags|=2048,Jg(9,K8.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Do(),e=di.identifierPrefix;if(er){var n=Ol,r=jl;n=(r&~(1<<32-oo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xg++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jK++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},DK={readContext:Ms,useCallback:r7,useContext:Ms,useEffect:lP,useImperativeHandle:n7,useInsertionEffect:Z8,useLayoutEffect:e7,useMemo:i7,useReducer:g5,useRef:J8,useState:function(){return g5(Qg)},useDebugValue:cP,useDeferredValue:function(t){var e=Ds();return a7(e,Jr.memoizedState,t)},useTransition:function(){var t=g5(Qg)[0],e=Ds().memoizedState;return[t,e]},useMutableSource:W8,useSyncExternalStore:H8,useId:s7,unstable_isNewReconciler:!1},FK={readContext:Ms,useCallback:r7,useContext:Ms,useEffect:lP,useImperativeHandle:n7,useInsertionEffect:Z8,useLayoutEffect:e7,useMemo:i7,useReducer:y5,useRef:J8,useState:function(){return y5(Qg)},useDebugValue:cP,useDeferredValue:function(t){var e=Ds();return Jr===null?e.memoizedState=t:a7(e,Jr.memoizedState,t)},useTransition:function(){var t=y5(Qg)[0],e=Ds().memoizedState;return[t,e]},useMutableSource:W8,useSyncExternalStore:H8,useId:s7,unstable_isNewReconciler:!1};function to(t,e){if(t&&t.defaultProps){e=hr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function IS(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:hr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var J2={isMounted:function(t){return(t=t._reactInternals)?hd(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ca(),i=yu(t),a=Bl(r,i);a.payload=e,n!=null&&(a.callback=n),e=mu(t,a,i),e!==null&&(lo(e,t,i,r),d1(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ca(),i=yu(t),a=Bl(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=mu(t,a,i),e!==null&&(lo(e,t,i,r),d1(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ca(),r=yu(t),i=Bl(n,r);i.tag=2,e!=null&&(i.callback=e),e=mu(t,i,r),e!==null&&(lo(e,t,r,n),d1(e,t,r))}};function J3(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!qg(n,r)||!qg(i,a):!0}function u7(t,e,n){var r=!1,i=Pu,a=e.contextType;return typeof a=="object"&&a!==null?a=Ms(a):(i=Sa(e)?qf:Ji.current,r=e.contextTypes,a=(r=r!=null)?Vh(t,i):Pu),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=J2,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Z3(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&J2.enqueueReplaceState(e,e.state,null)}function jS(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},tP(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Ms(a):(a=Sa(e)?qf:Ji.current,i.context=Vh(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(IS(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&J2.enqueueReplaceState(i,i.state,null),tb(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Wh(t,e){try{var n="",r=e;do n+=dG(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function v5(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function OS(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $K=typeof WeakMap=="function"?WeakMap:Map;function f7(t,e,n){n=Bl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){sb||(sb=!0,zS=r),OS(t,e)},n}function d7(t,e,n){n=Bl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){OS(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){OS(t,e),typeof r!="function"&&(gu===null?gu=new Set([this]):gu.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function eC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $K;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ZK.bind(null,t,e,n),e.then(t,t))}function tC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function nC(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Bl(-1,1),e.tag=2,mu(n,e,1))),n.lanes|=1),t)}var BK=fc.ReactCurrentOwner,xa=!1;function oa(t,e,n,r){e.child=t===null?V8(e,null,n,r):zh(e,t.child,n,r)}function rC(t,e,n,r,i){n=n.render;var a=e.ref;return Ah(e,i),r=sP(t,e,n,r,a,i),n=oP(),t!==null&&!xa?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ql(t,e,i)):(er&&n&&KE(e),e.flags|=1,oa(t,e,r,i),e.child)}function iC(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!yP(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,h7(t,e,a,r,i)):(t=v1(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:qg,n(s,r)&&t.ref===e.ref)return Ql(t,e,i)}return e.flags|=1,t=vu(a,r),t.ref=e.ref,t.return=e,e.child=t}function h7(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(qg(a,r)&&t.ref===e.ref)if(xa=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(xa=!0);else return e.lanes=t.lanes,Ql(t,e,i)}return RS(t,e,n,r,i)}function p7(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bn(ch,za),za|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Bn(ch,za),za|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Bn(ch,za),za|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Bn(ch,za),za|=r;return oa(t,e,i,n),e.child}function m7(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function RS(t,e,n,r,i){var a=Sa(n)?qf:Ji.current;return a=Vh(e,a),Ah(e,i),n=sP(t,e,n,r,a,i),r=oP(),t!==null&&!xa?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ql(t,e,i)):(er&&r&&KE(e),e.flags|=1,oa(t,e,n,i),e.child)}function aC(t,e,n,r,i){if(Sa(n)){var a=!0;X1(e)}else a=!1;if(Ah(e,i),e.stateNode===null)m1(t,e),u7(e,n,r),jS(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ms(c):(c=Sa(n)?qf:Ji.current,c=Vh(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&Z3(e,s,r,c),Kc=!1;var h=e.memoizedState;s.state=h,tb(e,r,s,i),l=e.memoizedState,o!==r||h!==l||_a.current||Kc?(typeof u=="function"&&(IS(e,n,u,r),l=e.memoizedState),(o=Kc||J3(e,n,o,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,z8(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:to(e.type,o),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ms(l):(l=Sa(n)?qf:Ji.current,l=Vh(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&Z3(e,s,r,l),Kc=!1,h=e.memoizedState,s.state=h,tb(e,r,s,i);var y=e.memoizedState;o!==f||h!==y||_a.current||Kc?(typeof p=="function"&&(IS(e,n,p,r),y=e.memoizedState),(c=Kc||J3(e,n,c,r,h,y,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return LS(t,e,n,r,a,i)}function LS(t,e,n,r,i,a){m7(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&q3(e,n,!1),Ql(t,e,a);r=e.stateNode,BK.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=zh(e,t.child,null,a),e.child=zh(e,null,o,a)):oa(t,e,o,a),e.memoizedState=r.state,i&&q3(e,n,!0),e.child}function g7(t){var e=t.stateNode;e.pendingContext?z3(t,e.pendingContext,e.pendingContext!==e.context):e.context&&z3(t,e.context,!1),nP(t,e.containerInfo)}function sC(t,e,n,r,i){return Uh(),XE(i),e.flags|=256,oa(t,e,n,r),e.child}var MS={dehydrated:null,treeContext:null,retryLane:0};function DS(t){return{baseLanes:t,cachePool:null,transitions:null}}function y7(t,e,n){var r=e.pendingProps,i=or.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Bn(or,i&1),t===null)return kS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=tx(s,r,0,null),t=Df(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=DS(n),e.memoizedState=MS,t):uP(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return VK(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=vu(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=vu(o,a):(a=Df(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?DS(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=MS,r}return a=t.child,t=a.sibling,r=vu(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function uP(t,e){return e=tx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function w0(t,e,n,r){return r!==null&&XE(r),zh(e,t.child,null,n),t=uP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function VK(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=v5(Error(Be(422))),w0(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=tx({mode:"visible",children:r.children},i,0,null),a=Df(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&zh(e,t.child,null,s),e.child.memoizedState=DS(s),e.memoizedState=MS,a);if(!(e.mode&1))return w0(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(Be(419)),r=v5(a,r,void 0),w0(t,e,s,r)}if(o=(s&t.childLanes)!==0,xa||o){if(r=di,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Xl(t,i),lo(r,t,i,-1))}return gP(),r=v5(Error(Be(421))),w0(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=eY.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Ha=pu(i.nextSibling),Ya=e,er=!0,io=null,t!==null&&(_s[Ss++]=jl,_s[Ss++]=Ol,_s[Ss++]=Wf,jl=t.id,Ol=t.overflow,Wf=e),e=uP(e,r.children),e.flags|=4096,e)}function oC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),CS(t.return,e,n)}function b5(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function v7(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(oa(t,e,r.children,n),r=or.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oC(t,n,e);else if(t.tag===19)oC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Bn(or,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&nb(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),b5(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&nb(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}b5(e,!0,n,null,a);break;case"together":b5(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function m1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ql(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Gf|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Be(153));if(e.child!==null){for(t=e.child,n=vu(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vu(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function UK(t,e,n){switch(e.tag){case 3:g7(e),Uh();break;case 5:q8(e);break;case 1:Sa(e.type)&&X1(e);break;case 4:nP(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Bn(Z1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Bn(or,or.current&1),e.flags|=128,null):n&e.child.childLanes?y7(t,e,n):(Bn(or,or.current&1),t=Ql(t,e,n),t!==null?t.sibling:null);Bn(or,or.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return v7(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Bn(or,or.current),r)break;return null;case 22:case 23:return e.lanes=0,p7(t,e,n)}return Ql(t,e,n)}var b7,FS,x7,w7;b7=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};FS=function(){};x7=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Tf(Ho.current);var a=null;switch(n){case"input":i=sS(t,i),r=sS(t,r),a=[];break;case"select":i=hr({},i,{value:void 0}),r=hr({},r,{value:void 0}),a=[];break;case"textarea":i=cS(t,i),r=cS(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=K1)}fS(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Dg.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Dg.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Wn("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};w7=function(t,e,n,r){n!==r&&(e.flags|=4)};function Im(t,e){if(!er)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zK(t,e,n){var r=e.pendingProps;switch(YE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mi(e),null;case 1:return Sa(e.type)&&Y1(),Mi(e),null;case 3:return r=e.stateNode,qh(),Yn(_a),Yn(Ji),iP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(b0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,io!==null&&(HS(io),io=null))),FS(t,e),Mi(e),null;case 5:rP(e);var i=Tf(Yg.current);if(n=e.type,t!==null&&e.stateNode!=null)x7(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Be(166));return Mi(e),null}if(t=Tf(Ho.current),b0(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[$o]=e,r[Gg]=a,t=(e.mode&1)!==0,n){case"dialog":Wn("cancel",r),Wn("close",r);break;case"iframe":case"object":case"embed":Wn("load",r);break;case"video":case"audio":for(i=0;i<eg.length;i++)Wn(eg[i],r);break;case"source":Wn("error",r);break;case"img":case"image":case"link":Wn("error",r),Wn("load",r);break;case"details":Wn("toggle",r);break;case"input":g3(r,a),Wn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Wn("invalid",r);break;case"textarea":v3(r,a),Wn("invalid",r)}fS(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&v0(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&v0(r.textContent,o,t),i=["children",""+o]):Dg.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Wn("scroll",r)}switch(n){case"input":u0(r),y3(r,a,!0);break;case"textarea":u0(r),b3(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=K1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=YD(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[$o]=e,t[Gg]=r,b7(t,e,!1,!1),e.stateNode=t;e:{switch(s=dS(n,r),n){case"dialog":Wn("cancel",t),Wn("close",t),i=r;break;case"iframe":case"object":case"embed":Wn("load",t),i=r;break;case"video":case"audio":for(i=0;i<eg.length;i++)Wn(eg[i],t);i=r;break;case"source":Wn("error",t),i=r;break;case"img":case"image":case"link":Wn("error",t),Wn("load",t),i=r;break;case"details":Wn("toggle",t),i=r;break;case"input":g3(t,r),i=sS(t,r),Wn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=hr({},r,{value:void 0}),Wn("invalid",t);break;case"textarea":v3(t,r),i=cS(t,r),Wn("invalid",t);break;default:i=r}fS(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?JD(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XD(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fg(t,l):typeof l=="number"&&Fg(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Dg.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Wn("scroll",t):l!=null&&RE(t,a,l,s))}switch(n){case"input":u0(t),y3(t,r,!1);break;case"textarea":u0(t),b3(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Eu(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?xh(t,!!r.multiple,a,!1):r.defaultValue!=null&&xh(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=K1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mi(e),null;case 6:if(t&&e.stateNode!=null)w7(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Be(166));if(n=Tf(Yg.current),Tf(Ho.current),b0(e)){if(r=e.stateNode,n=e.memoizedProps,r[$o]=e,(a=r.nodeValue!==n)&&(t=Ya,t!==null))switch(t.tag){case 3:v0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&v0(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$o]=e,e.stateNode=r}return Mi(e),null;case 13:if(Yn(or),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(er&&Ha!==null&&e.mode&1&&!(e.flags&128))$8(),Uh(),e.flags|=98560,a=!1;else if(a=b0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(Be(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Be(317));a[$o]=e}else Uh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mi(e),a=!1}else io!==null&&(HS(io),io=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||or.current&1?ei===0&&(ei=3):gP())),e.updateQueue!==null&&(e.flags|=4),Mi(e),null);case 4:return qh(),FS(t,e),t===null&&Wg(e.stateNode.containerInfo),Mi(e),null;case 10:return ZE(e.type._context),Mi(e),null;case 17:return Sa(e.type)&&Y1(),Mi(e),null;case 19:if(Yn(or),a=e.memoizedState,a===null)return Mi(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)Im(a,!1);else{if(ei!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=nb(t),s!==null){for(e.flags|=128,Im(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Bn(or,or.current&1|2),e.child}t=t.sibling}a.tail!==null&&jr()>Hh&&(e.flags|=128,r=!0,Im(a,!1),e.lanes=4194304)}else{if(!r)if(t=nb(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Im(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!er)return Mi(e),null}else 2*jr()-a.renderingStartTime>Hh&&n!==1073741824&&(e.flags|=128,r=!0,Im(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=jr(),e.sibling=null,n=or.current,Bn(or,r?n&1|2:n&1),e):(Mi(e),null);case 22:case 23:return mP(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?za&1073741824&&(Mi(e),e.subtreeFlags&6&&(e.flags|=8192)):Mi(e),null;case 24:return null;case 25:return null}throw Error(Be(156,e.tag))}function qK(t,e){switch(YE(e),e.tag){case 1:return Sa(e.type)&&Y1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qh(),Yn(_a),Yn(Ji),iP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rP(e),null;case 13:if(Yn(or),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Be(340));Uh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Yn(or),null;case 4:return qh(),null;case 10:return ZE(e.type._context),null;case 22:case 23:return mP(),null;case 24:return null;default:return null}}var _0=!1,Hi=!1,WK=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function lh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wr(t,e,r)}else n.current=null}function $S(t,e,n){try{n()}catch(r){wr(t,e,r)}}var lC=!1;function HK(t,e){if(_S=W1,t=E8(),GE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++c===i&&(o=s),h===a&&++u===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(SS={focusedElem:t,selectionRange:n},W1=!1,Xe=e;Xe!==null;)if(e=Xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Xe=t;else for(;Xe!==null;){e=Xe;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,x=y.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?b:to(e.type,b),x);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Be(163))}}catch(A){wr(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Xe=t;break}Xe=e.return}return y=lC,lC=!1,y}function yg(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&$S(e,n,a)}i=i.next}while(i!==r)}}function Z2(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function BS(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _7(t){var e=t.alternate;e!==null&&(t.alternate=null,_7(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$o],delete e[Gg],delete e[ES],delete e[TK],delete e[kK])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function S7(t){return t.tag===5||t.tag===3||t.tag===4}function cC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||S7(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function VS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=K1));else if(r!==4&&(t=t.child,t!==null))for(VS(t,e,n),t=t.sibling;t!==null;)VS(t,e,n),t=t.sibling}function US(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(US(t,e,n),t=t.sibling;t!==null;)US(t,e,n),t=t.sibling}var wi=null,no=!1;function Bc(t,e,n){for(n=n.child;n!==null;)A7(t,e,n),n=n.sibling}function A7(t,e,n){if(Wo&&typeof Wo.onCommitFiberUnmount=="function")try{Wo.onCommitFiberUnmount(W2,n)}catch{}switch(n.tag){case 5:Hi||lh(n,e);case 6:var r=wi,i=no;wi=null,Bc(t,e,n),wi=r,no=i,wi!==null&&(no?(t=wi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):wi.removeChild(n.stateNode));break;case 18:wi!==null&&(no?(t=wi,n=n.stateNode,t.nodeType===8?d5(t.parentNode,n):t.nodeType===1&&d5(t,n),Ug(t)):d5(wi,n.stateNode));break;case 4:r=wi,i=no,wi=n.stateNode.containerInfo,no=!0,Bc(t,e,n),wi=r,no=i;break;case 0:case 11:case 14:case 15:if(!Hi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&$S(n,e,s),i=i.next}while(i!==r)}Bc(t,e,n);break;case 1:if(!Hi&&(lh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){wr(n,e,o)}Bc(t,e,n);break;case 21:Bc(t,e,n);break;case 22:n.mode&1?(Hi=(r=Hi)||n.memoizedState!==null,Bc(t,e,n),Hi=r):Bc(t,e,n);break;default:Bc(t,e,n)}}function uC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new WK),e.forEach(function(r){var i=tY.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:wi=o.stateNode,no=!1;break e;case 3:wi=o.stateNode.containerInfo,no=!0;break e;case 4:wi=o.stateNode.containerInfo,no=!0;break e}o=o.return}if(wi===null)throw Error(Be(160));A7(a,s,i),wi=null,no=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){wr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)N7(e,t),e=e.sibling}function N7(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qs(e,t),Oo(t),r&4){try{yg(3,t,t.return),Z2(3,t)}catch(b){wr(t,t.return,b)}try{yg(5,t,t.return)}catch(b){wr(t,t.return,b)}}break;case 1:Qs(e,t),Oo(t),r&512&&n!==null&&lh(n,n.return);break;case 5:if(Qs(e,t),Oo(t),r&512&&n!==null&&lh(n,n.return),t.flags&32){var i=t.stateNode;try{Fg(i,"")}catch(b){wr(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&GD(i,a),dS(o,s);var c=dS(o,a);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?JD(i,f):u==="dangerouslySetInnerHTML"?XD(i,f):u==="children"?Fg(i,f):RE(i,u,f,c)}switch(o){case"input":oS(i,a);break;case"textarea":KD(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?xh(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?xh(i,!!a.multiple,a.defaultValue,!0):xh(i,!!a.multiple,a.multiple?[]:"",!1))}i[Gg]=a}catch(b){wr(t,t.return,b)}}break;case 6:if(Qs(e,t),Oo(t),r&4){if(t.stateNode===null)throw Error(Be(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(b){wr(t,t.return,b)}}break;case 3:if(Qs(e,t),Oo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ug(e.containerInfo)}catch(b){wr(t,t.return,b)}break;case 4:Qs(e,t),Oo(t);break;case 13:Qs(e,t),Oo(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(hP=jr())),r&4&&uC(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Hi=(c=Hi)||u,Qs(e,t),Hi=c):Qs(e,t),Oo(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Xe=t,u=t.child;u!==null;){for(f=Xe=u;Xe!==null;){switch(h=Xe,p=h.child,h.tag){case 0:case 11:case 14:case 15:yg(4,h,h.return);break;case 1:lh(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(b){wr(r,n,b)}}break;case 5:lh(h,h.return);break;case 22:if(h.memoizedState!==null){dC(f);continue}}p!==null?(p.return=h,Xe=p):dC(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=QD("display",s))}catch(b){wr(t,t.return,b)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(b){wr(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qs(e,t),Oo(t),r&4&&uC(t);break;case 21:break;default:Qs(e,t),Oo(t)}}function Oo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(S7(n)){var r=n;break e}n=n.return}throw Error(Be(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fg(i,""),r.flags&=-33);var a=cC(t);US(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=cC(t);VS(t,o,s);break;default:throw Error(Be(161))}}catch(l){wr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GK(t,e,n){Xe=t,E7(t)}function E7(t,e,n){for(var r=(t.mode&1)!==0;Xe!==null;){var i=Xe,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||_0;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Hi;o=_0;var c=Hi;if(_0=s,(Hi=l)&&!c)for(Xe=i;Xe!==null;)s=Xe,l=s.child,s.tag===22&&s.memoizedState!==null?hC(i):l!==null?(l.return=s,Xe=l):hC(i);for(;a!==null;)Xe=a,E7(a),a=a.sibling;Xe=i,_0=o,Hi=c}fC(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Xe=a):fC(t)}}function fC(t){for(;Xe!==null;){var e=Xe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Hi||Z2(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Hi)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:to(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Y3(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Y3(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Ug(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Be(163))}Hi||e.flags&512&&BS(e)}catch(h){wr(e,e.return,h)}}if(e===t){Xe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Xe=n;break}Xe=e.return}}function dC(t){for(;Xe!==null;){var e=Xe;if(e===t){Xe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Xe=n;break}Xe=e.return}}function hC(t){for(;Xe!==null;){var e=Xe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Z2(4,e)}catch(l){wr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){wr(e,i,l)}}var a=e.return;try{BS(e)}catch(l){wr(e,a,l)}break;case 5:var s=e.return;try{BS(e)}catch(l){wr(e,s,l)}}}catch(l){wr(e,e.return,l)}if(e===t){Xe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Xe=o;break}Xe=e.return}}var KK=Math.ceil,ab=fc.ReactCurrentDispatcher,fP=fc.ReactCurrentOwner,Ps=fc.ReactCurrentBatchConfig,sn=0,di=null,Br=null,Ei=0,za=0,ch=Du(0),ei=0,Zg=null,Gf=0,ex=0,dP=0,vg=null,va=null,hP=0,Hh=1/0,kl=null,sb=!1,zS=null,gu=null,S0=!1,au=null,ob=0,bg=0,qS=null,g1=-1,y1=0;function ca(){return sn&6?jr():g1!==-1?g1:g1=jr()}function yu(t){return t.mode&1?sn&2&&Ei!==0?Ei&-Ei:IK.transition!==null?(y1===0&&(y1=u8()),y1):(t=Sn,t!==0||(t=window.event,t=t===void 0?16:y8(t.type)),t):1}function lo(t,e,n,r){if(50<bg)throw bg=0,qS=null,Error(Be(185));av(t,n,r),(!(sn&2)||t!==di)&&(t===di&&(!(sn&2)&&(ex|=n),ei===4&&Qc(t,Ei)),Aa(t,r),n===1&&sn===0&&!(e.mode&1)&&(Hh=jr()+500,X2&&Fu()))}function Aa(t,e){var n=t.callbackNode;IG(t,e);var r=q1(t,t===di?Ei:0);if(r===0)n!==null&&_3(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_3(n),e===1)t.tag===0?CK(pC.bind(null,t)):M8(pC.bind(null,t)),EK(function(){!(sn&6)&&Fu()}),n=null;else{switch(f8(r)){case 1:n=$E;break;case 4:n=l8;break;case 16:n=z1;break;case 536870912:n=c8;break;default:n=z1}n=R7(n,P7.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function P7(t,e){if(g1=-1,y1=0,sn&6)throw Error(Be(327));var n=t.callbackNode;if(Nh()&&t.callbackNode!==n)return null;var r=q1(t,t===di?Ei:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=lb(t,r);else{e=r;var i=sn;sn|=2;var a=k7();(di!==t||Ei!==e)&&(kl=null,Hh=jr()+500,Mf(t,e));do try{QK();break}catch(o){T7(t,o)}while(!0);JE(),ab.current=a,sn=i,Br!==null?e=0:(di=null,Ei=0,e=ei)}if(e!==0){if(e===2&&(i=yS(t),i!==0&&(r=i,e=WS(t,i))),e===1)throw n=Zg,Mf(t,0),Qc(t,r),Aa(t,jr()),n;if(e===6)Qc(t,r);else{if(i=t.current.alternate,!(r&30)&&!YK(i)&&(e=lb(t,r),e===2&&(a=yS(t),a!==0&&(r=a,e=WS(t,a))),e===1))throw n=Zg,Mf(t,0),Qc(t,r),Aa(t,jr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Be(345));case 2:gf(t,va,kl);break;case 3:if(Qc(t,r),(r&130023424)===r&&(e=hP+500-jr(),10<e)){if(q1(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ca(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=NS(gf.bind(null,t,va,kl),e);break}gf(t,va,kl);break;case 4:if(Qc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-oo(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=jr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KK(r/1960))-r,10<r){t.timeoutHandle=NS(gf.bind(null,t,va,kl),r);break}gf(t,va,kl);break;case 5:gf(t,va,kl);break;default:throw Error(Be(329))}}}return Aa(t,jr()),t.callbackNode===n?P7.bind(null,t):null}function WS(t,e){var n=vg;return t.current.memoizedState.isDehydrated&&(Mf(t,e).flags|=256),t=lb(t,e),t!==2&&(e=va,va=n,e!==null&&HS(e)),t}function HS(t){va===null?va=t:va.push.apply(va,t)}function YK(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!uo(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qc(t,e){for(e&=~dP,e&=~ex,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oo(e),r=1<<n;t[n]=-1,e&=~r}}function pC(t){if(sn&6)throw Error(Be(327));Nh();var e=q1(t,0);if(!(e&1))return Aa(t,jr()),null;var n=lb(t,e);if(t.tag!==0&&n===2){var r=yS(t);r!==0&&(e=r,n=WS(t,r))}if(n===1)throw n=Zg,Mf(t,0),Qc(t,e),Aa(t,jr()),n;if(n===6)throw Error(Be(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gf(t,va,kl),Aa(t,jr()),null}function pP(t,e){var n=sn;sn|=1;try{return t(e)}finally{sn=n,sn===0&&(Hh=jr()+500,X2&&Fu())}}function Kf(t){au!==null&&au.tag===0&&!(sn&6)&&Nh();var e=sn;sn|=1;var n=Ps.transition,r=Sn;try{if(Ps.transition=null,Sn=1,t)return t()}finally{Sn=r,Ps.transition=n,sn=e,!(sn&6)&&Fu()}}function mP(){za=ch.current,Yn(ch)}function Mf(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,NK(n)),Br!==null)for(n=Br.return;n!==null;){var r=n;switch(YE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Y1();break;case 3:qh(),Yn(_a),Yn(Ji),iP();break;case 5:rP(r);break;case 4:qh();break;case 13:Yn(or);break;case 19:Yn(or);break;case 10:ZE(r.type._context);break;case 22:case 23:mP()}n=n.return}if(di=t,Br=t=vu(t.current,null),Ei=za=e,ei=0,Zg=null,dP=ex=Gf=0,va=vg=null,Pf!==null){for(e=0;e<Pf.length;e++)if(n=Pf[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Pf=null}return t}function T7(t,e){do{var n=Br;try{if(JE(),h1.current=ib,rb){for(var r=fr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}rb=!1}if(Hf=0,ui=Jr=fr=null,gg=!1,Xg=0,fP.current=null,n===null||n.return===null){ei=1,Zg=e,Br=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=Ei,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=tC(s);if(p!==null){p.flags&=-257,nC(p,s,o,a,e),p.mode&1&&eC(a,c,e),e=p,l=c;var y=e.updateQueue;if(y===null){var b=new Set;b.add(l),e.updateQueue=b}else y.add(l);break e}else{if(!(e&1)){eC(a,c,e),gP();break e}l=Error(Be(426))}}else if(er&&o.mode&1){var x=tC(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),nC(x,s,o,a,e),XE(Wh(l,o));break e}}a=l=Wh(l,o),ei!==4&&(ei=2),vg===null?vg=[a]:vg.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=f7(a,l,e);K3(a,v);break e;case 1:o=l;var w=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(gu===null||!gu.has(S)))){a.flags|=65536,e&=-e,a.lanes|=e;var A=d7(a,o,e);K3(a,A);break e}}a=a.return}while(a!==null)}I7(n)}catch(P){e=P,Br===n&&n!==null&&(Br=n=n.return);continue}break}while(!0)}function k7(){var t=ab.current;return ab.current=ib,t===null?ib:t}function gP(){(ei===0||ei===3||ei===2)&&(ei=4),di===null||!(Gf&268435455)&&!(ex&268435455)||Qc(di,Ei)}function lb(t,e){var n=sn;sn|=2;var r=k7();(di!==t||Ei!==e)&&(kl=null,Mf(t,e));do try{XK();break}catch(i){T7(t,i)}while(!0);if(JE(),sn=n,ab.current=r,Br!==null)throw Error(Be(261));return di=null,Ei=0,ei}function XK(){for(;Br!==null;)C7(Br)}function QK(){for(;Br!==null&&!_G();)C7(Br)}function C7(t){var e=O7(t.alternate,t,za);t.memoizedProps=t.pendingProps,e===null?I7(t):Br=e,fP.current=null}function I7(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qK(n,e),n!==null){n.flags&=32767,Br=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ei=6,Br=null;return}}else if(n=zK(n,e,za),n!==null){Br=n;return}if(e=e.sibling,e!==null){Br=e;return}Br=e=t}while(e!==null);ei===0&&(ei=5)}function gf(t,e,n){var r=Sn,i=Ps.transition;try{Ps.transition=null,Sn=1,JK(t,e,n,r)}finally{Ps.transition=i,Sn=r}return null}function JK(t,e,n,r){do Nh();while(au!==null);if(sn&6)throw Error(Be(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Be(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(jG(t,a),t===di&&(Br=di=null,Ei=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||S0||(S0=!0,R7(z1,function(){return Nh(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ps.transition,Ps.transition=null;var s=Sn;Sn=1;var o=sn;sn|=4,fP.current=null,HK(t,n),N7(n,t),vK(SS),W1=!!_S,SS=_S=null,t.current=n,GK(n),SG(),sn=o,Sn=s,Ps.transition=a}else t.current=n;if(S0&&(S0=!1,au=t,ob=i),a=t.pendingLanes,a===0&&(gu=null),EG(n.stateNode),Aa(t,jr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(sb)throw sb=!1,t=zS,zS=null,t;return ob&1&&t.tag!==0&&Nh(),a=t.pendingLanes,a&1?t===qS?bg++:(bg=0,qS=t):bg=0,Fu(),null}function Nh(){if(au!==null){var t=f8(ob),e=Ps.transition,n=Sn;try{if(Ps.transition=null,Sn=16>t?16:t,au===null)var r=!1;else{if(t=au,au=null,ob=0,sn&6)throw Error(Be(331));var i=sn;for(sn|=4,Xe=t.current;Xe!==null;){var a=Xe,s=a.child;if(Xe.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Xe=c;Xe!==null;){var u=Xe;switch(u.tag){case 0:case 11:case 15:yg(8,u,a)}var f=u.child;if(f!==null)f.return=u,Xe=f;else for(;Xe!==null;){u=Xe;var h=u.sibling,p=u.return;if(_7(u),u===c){Xe=null;break}if(h!==null){h.return=p,Xe=h;break}Xe=p}}}var y=a.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}Xe=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Xe=s;else e:for(;Xe!==null;){if(a=Xe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:yg(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,Xe=v;break e}Xe=a.return}}var w=t.current;for(Xe=w;Xe!==null;){s=Xe;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,Xe=S;else e:for(s=w;Xe!==null;){if(o=Xe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Z2(9,o)}}catch(P){wr(o,o.return,P)}if(o===s){Xe=null;break e}var A=o.sibling;if(A!==null){A.return=o.return,Xe=A;break e}Xe=o.return}}if(sn=i,Fu(),Wo&&typeof Wo.onPostCommitFiberRoot=="function")try{Wo.onPostCommitFiberRoot(W2,t)}catch{}r=!0}return r}finally{Sn=n,Ps.transition=e}}return!1}function mC(t,e,n){e=Wh(n,e),e=f7(t,e,1),t=mu(t,e,1),e=ca(),t!==null&&(av(t,1,e),Aa(t,e))}function wr(t,e,n){if(t.tag===3)mC(t,t,n);else for(;e!==null;){if(e.tag===3){mC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gu===null||!gu.has(r))){t=Wh(n,t),t=d7(e,t,1),e=mu(e,t,1),t=ca(),e!==null&&(av(e,1,t),Aa(e,t));break}}e=e.return}}function ZK(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ca(),t.pingedLanes|=t.suspendedLanes&n,di===t&&(Ei&n)===n&&(ei===4||ei===3&&(Ei&130023424)===Ei&&500>jr()-hP?Mf(t,0):dP|=n),Aa(t,e)}function j7(t,e){e===0&&(t.mode&1?(e=h0,h0<<=1,!(h0&130023424)&&(h0=4194304)):e=1);var n=ca();t=Xl(t,e),t!==null&&(av(t,e,n),Aa(t,n))}function eY(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),j7(t,n)}function tY(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Be(314))}r!==null&&r.delete(e),j7(t,n)}var O7;O7=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_a.current)xa=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xa=!1,UK(t,e,n);xa=!!(t.flags&131072)}else xa=!1,er&&e.flags&1048576&&D8(e,J1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;m1(t,e),t=e.pendingProps;var i=Vh(e,Ji.current);Ah(e,n),i=sP(null,e,r,t,i,n);var a=oP();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sa(r)?(a=!0,X1(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tP(e),i.updater=J2,e.stateNode=i,i._reactInternals=e,jS(e,r,t,n),e=LS(null,e,r,!0,a,n)):(e.tag=0,er&&a&&KE(e),oa(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(m1(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=rY(r),t=to(r,t),i){case 0:e=RS(null,e,r,t,n);break e;case 1:e=aC(null,e,r,t,n);break e;case 11:e=rC(null,e,r,t,n);break e;case 14:e=iC(null,e,r,to(r.type,t),n);break e}throw Error(Be(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:to(r,i),RS(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:to(r,i),aC(t,e,r,i,n);case 3:e:{if(g7(e),t===null)throw Error(Be(387));r=e.pendingProps,a=e.memoizedState,i=a.element,z8(t,e),tb(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Wh(Error(Be(423)),e),e=sC(t,e,r,n,i);break e}else if(r!==i){i=Wh(Error(Be(424)),e),e=sC(t,e,r,n,i);break e}else for(Ha=pu(e.stateNode.containerInfo.firstChild),Ya=e,er=!0,io=null,n=V8(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Uh(),r===i){e=Ql(t,e,n);break e}oa(t,e,r,n)}e=e.child}return e;case 5:return q8(e),t===null&&kS(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,AS(r,i)?s=null:a!==null&&AS(r,a)&&(e.flags|=32),m7(t,e),oa(t,e,s,n),e.child;case 6:return t===null&&kS(e),null;case 13:return y7(t,e,n);case 4:return nP(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=zh(e,null,r,n):oa(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:to(r,i),rC(t,e,r,i,n);case 7:return oa(t,e,e.pendingProps,n),e.child;case 8:return oa(t,e,e.pendingProps.children,n),e.child;case 12:return oa(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Bn(Z1,r._currentValue),r._currentValue=s,a!==null)if(uo(a.value,s)){if(a.children===i.children&&!_a.current){e=Ql(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Bl(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),CS(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Be(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),CS(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}oa(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ah(e,n),i=Ms(i),r=r(i),e.flags|=1,oa(t,e,r,n),e.child;case 14:return r=e.type,i=to(r,e.pendingProps),i=to(r.type,i),iC(t,e,r,i,n);case 15:return h7(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:to(r,i),m1(t,e),e.tag=1,Sa(r)?(t=!0,X1(e)):t=!1,Ah(e,n),u7(e,r,i),jS(e,r,i,n),LS(null,e,r,!0,t,n);case 19:return v7(t,e,n);case 22:return p7(t,e,n)}throw Error(Be(156,e.tag))};function R7(t,e){return o8(t,e)}function nY(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ns(t,e,n,r){return new nY(t,e,n,r)}function yP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rY(t){if(typeof t=="function")return yP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ME)return 11;if(t===DE)return 14}return 2}function vu(t,e){var n=t.alternate;return n===null?(n=Ns(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function v1(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")yP(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Zd:return Df(n.children,i,a,e);case LE:s=8,i|=8;break;case nS:return t=Ns(12,n,e,i|2),t.elementType=nS,t.lanes=a,t;case rS:return t=Ns(13,n,e,i),t.elementType=rS,t.lanes=a,t;case iS:return t=Ns(19,n,e,i),t.elementType=iS,t.lanes=a,t;case qD:return tx(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case UD:s=10;break e;case zD:s=9;break e;case ME:s=11;break e;case DE:s=14;break e;case Gc:s=16,r=null;break e}throw Error(Be(130,t==null?t:typeof t,""))}return e=Ns(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Df(t,e,n,r){return t=Ns(7,t,r,e),t.lanes=n,t}function tx(t,e,n,r){return t=Ns(22,t,r,e),t.elementType=qD,t.lanes=n,t.stateNode={isHidden:!1},t}function x5(t,e,n){return t=Ns(6,t,null,e),t.lanes=n,t}function w5(t,e,n){return e=Ns(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function iY(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=t5(0),this.expirationTimes=t5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=t5(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vP(t,e,n,r,i,a,s,o,l){return t=new iY(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ns(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tP(a),t}function aY(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function L7(t){if(!t)return Pu;t=t._reactInternals;e:{if(hd(t)!==t||t.tag!==1)throw Error(Be(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sa(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Be(171))}if(t.tag===1){var n=t.type;if(Sa(n))return L8(t,n,e)}return e}function M7(t,e,n,r,i,a,s,o,l){return t=vP(n,r,!0,t,i,a,s,o,l),t.context=L7(null),n=t.current,r=ca(),i=yu(n),a=Bl(r,i),a.callback=e??null,mu(n,a,i),t.current.lanes=i,av(t,i,r),Aa(t,r),t}function nx(t,e,n,r){var i=e.current,a=ca(),s=yu(i);return n=L7(n),e.context===null?e.context=n:e.pendingContext=n,e=Bl(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=mu(i,e,s),t!==null&&(lo(t,i,s,a),d1(t,i,s)),s}function cb(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bP(t,e){gC(t,e),(t=t.alternate)&&gC(t,e)}function sY(){return null}var D7=typeof reportError=="function"?reportError:function(t){console.error(t)};function xP(t){this._internalRoot=t}rx.prototype.render=xP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Be(409));nx(t,e,null,null)};rx.prototype.unmount=xP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Kf(function(){nx(null,t,null,null)}),e[Yl]=null}};function rx(t){this._internalRoot=t}rx.prototype.unstable_scheduleHydration=function(t){if(t){var e=p8();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xc.length&&e!==0&&e<Xc[n].priority;n++);Xc.splice(n,0,t),n===0&&g8(t)}};function wP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ix(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yC(){}function oY(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=cb(s);a.call(c)}}var s=M7(e,r,t,0,null,!1,!1,"",yC);return t._reactRootContainer=s,t[Yl]=s.current,Wg(t.nodeType===8?t.parentNode:t),Kf(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=cb(l);o.call(c)}}var l=vP(t,0,!1,null,null,!1,!1,"",yC);return t._reactRootContainer=l,t[Yl]=l.current,Wg(t.nodeType===8?t.parentNode:t),Kf(function(){nx(e,l,n,r)}),l}function ax(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=cb(s);o.call(l)}}nx(e,s,t,i)}else s=oY(n,e,t,i,r);return cb(s)}d8=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zm(e.pendingLanes);n!==0&&(BE(e,n|1),Aa(e,jr()),!(sn&6)&&(Hh=jr()+500,Fu()))}break;case 13:Kf(function(){var r=Xl(t,1);if(r!==null){var i=ca();lo(r,t,1,i)}}),bP(t,1)}};VE=function(t){if(t.tag===13){var e=Xl(t,134217728);if(e!==null){var n=ca();lo(e,t,134217728,n)}bP(t,134217728)}};h8=function(t){if(t.tag===13){var e=yu(t),n=Xl(t,e);if(n!==null){var r=ca();lo(n,t,e,r)}bP(t,e)}};p8=function(){return Sn};m8=function(t,e){var n=Sn;try{return Sn=t,e()}finally{Sn=n}};pS=function(t,e,n){switch(e){case"input":if(oS(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Y2(r);if(!i)throw Error(Be(90));HD(r),oS(r,i)}}}break;case"textarea":KD(t,n);break;case"select":e=n.value,e!=null&&xh(t,!!n.multiple,e,!1)}};t8=pP;n8=Kf;var lY={usingClientEntryPoint:!1,Events:[ov,rh,Y2,ZD,e8,pP]},jm={findFiberByHostInstance:Ef,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cY={bundleType:jm.bundleType,version:jm.version,rendererPackageName:jm.rendererPackageName,rendererConfig:jm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=a8(t),t===null?null:t.stateNode},findFiberByHostInstance:jm.findFiberByHostInstance||sY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var A0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!A0.isDisabled&&A0.supportsFiber)try{W2=A0.inject(cY),Wo=A0}catch{}}es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lY;es.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wP(e))throw Error(Be(200));return aY(t,e,null,n)};es.createRoot=function(t,e){if(!wP(t))throw Error(Be(299));var n=!1,r="",i=D7;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vP(t,1,!1,null,null,n,!1,r,i),t[Yl]=e.current,Wg(t.nodeType===8?t.parentNode:t),new xP(e)};es.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Be(188)):(t=Object.keys(t).join(","),Error(Be(268,t)));return t=a8(e),t=t===null?null:t.stateNode,t};es.flushSync=function(t){return Kf(t)};es.hydrate=function(t,e,n){if(!ix(e))throw Error(Be(200));return ax(null,t,e,!0,n)};es.hydrateRoot=function(t,e,n){if(!wP(t))throw Error(Be(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=D7;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=M7(e,null,t,1,n??null,i,!1,a,s),t[Yl]=e.current,Wg(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new rx(e)};es.render=function(t,e,n){if(!ix(e))throw Error(Be(200));return ax(null,t,e,!1,n)};es.unmountComponentAtNode=function(t){if(!ix(t))throw Error(Be(40));return t._reactRootContainer?(Kf(function(){ax(null,null,t,!1,function(){t._reactRootContainer=null,t[Yl]=null})}),!0):!1};es.unstable_batchedUpdates=pP;es.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ix(n))throw Error(Be(200));if(t==null||t._reactInternals===void 0)throw Error(Be(38));return ax(t,e,n,!1,r)};es.version="18.3.1-next-f1338f8080-20240426";function F7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(F7)}catch(t){console.error(t)}}F7(),FD.exports=es;var uY=FD.exports,vC=uY;eS.createRoot=vC.createRoot,eS.hydrateRoot=vC.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ey(){return ey=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ey.apply(this,arguments)}var su;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(su||(su={}));const bC="popstate";function fY(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return GS("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ub(i)}return hY(e,n,null,t)}function dr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _P(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dY(){return Math.random().toString(36).substr(2,8)}function xC(t,e){return{usr:t.state,key:t.key,idx:e}}function GS(t,e,n,r){return n===void 0&&(n=null),ey({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?jp(e):e,{state:n,key:e&&e.key||r||dY()})}function ub(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function jp(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function hY(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=su.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(ey({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){o=su.Pop;let x=u(),v=x==null?null:x-c;c=x,l&&l({action:o,location:b.location,delta:v})}function h(x,v){o=su.Push;let w=GS(b.location,x,v);c=u()+1;let S=xC(w,c),A=b.createHref(w);try{s.pushState(S,"",A)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(A)}a&&l&&l({action:o,location:b.location,delta:1})}function p(x,v){o=su.Replace;let w=GS(b.location,x,v);c=u();let S=xC(w,c),A=b.createHref(w);s.replaceState(S,"",A),a&&l&&l({action:o,location:b.location,delta:0})}function y(x){let v=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof x=="string"?x:ub(x);return w=w.replace(/ $/,"%20"),dr(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let b={get action(){return o},get location(){return t(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(bC,f),l=x,()=>{i.removeEventListener(bC,f),l=null}},createHref(x){return e(i,x)},createURL:y,encodeLocation(x){let v=y(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(x){return s.go(x)}};return b}var wC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wC||(wC={}));function pY(t,e,n){return n===void 0&&(n="/"),mY(t,e,n)}function mY(t,e,n,r){let i=typeof e=="string"?jp(e):e,a=Gh(i.pathname||"/",n);if(a==null)return null;let s=$7(t);gY(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=PY(a);o=NY(s[l],c)}return o}function $7(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(dr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=bu([r,l.relativePath]),u=n.concat(l);a.children&&a.children.length>0&&(dr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),$7(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:SY(c,a.index),routesMeta:u})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of B7(a.path))i(a,s,l)}),e}function B7(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=B7(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function gY(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:AY(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const yY=/^:[\w-]+$/,vY=3,bY=2,xY=1,wY=10,_Y=-2,_C=t=>t==="*";function SY(t,e){let n=t.split("/"),r=n.length;return n.some(_C)&&(r+=_Y),e&&(r+=bY),n.filter(i=>!_C(i)).reduce((i,a)=>i+(yY.test(a)?vY:a===""?xY:wY),r)}function AY(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function NY(t,e,n){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=a==="/"?e:e.slice(a.length)||"/",f=KS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:bu([a,f.pathname]),pathnameBase:jY(bu([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=bu([a,f.pathnameBase]))}return s}function KS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=EY(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let b=o[f]||"";s=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const y=o[f];return p&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function EY(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),_P(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function PY(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _P(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Gh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const TY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kY=t=>TY.test(t);function CY(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?jp(t):t,a;if(n)if(kY(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),_P(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?a=SC(n.substring(1),"/"):a=SC(n,e)}else a=e;return{pathname:a,search:OY(r),hash:RY(i)}}function SC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function _5(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IY(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function SP(t,e){let n=IY(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function AP(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=jp(t):(i=ey({},t),dr(!i.pathname||!i.pathname.includes("?"),_5("?","pathname","search",i)),dr(!i.pathname||!i.pathname.includes("#"),_5("#","pathname","hash",i)),dr(!i.search||!i.search.includes("#"),_5("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=CY(i,o),c=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const bu=t=>t.join("/").replace(/\/\/+/g,"/"),jY=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OY=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RY=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function LY(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const V7=["post","put","patch","delete"];new Set(V7);const MY=["get",...V7];new Set(MY);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ty(){return ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ty.apply(this,arguments)}const sx=z.createContext(null),U7=z.createContext(null),dc=z.createContext(null),ox=z.createContext(null),sl=z.createContext({outlet:null,matches:[],isDataRoute:!1}),z7=z.createContext(null);function DY(t,e){let{relative:n}=e===void 0?{}:e;Op()||dr(!1);let{basename:r,navigator:i}=z.useContext(dc),{hash:a,pathname:s,search:o}=lx(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:bu([r,s])),i.createHref({pathname:l,search:o,hash:a})}function Op(){return z.useContext(ox)!=null}function $u(){return Op()||dr(!1),z.useContext(ox).location}function q7(t){z.useContext(dc).static||z.useLayoutEffect(t)}function Bs(){let{isDataRoute:t}=z.useContext(sl);return t?JY():FY()}function FY(){Op()||dr(!1);let t=z.useContext(sx),{basename:e,future:n,navigator:r}=z.useContext(dc),{matches:i}=z.useContext(sl),{pathname:a}=$u(),s=JSON.stringify(SP(i,n.v7_relativeSplatPath)),o=z.useRef(!1);return q7(()=>{o.current=!0}),z.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=AP(c,JSON.parse(s),a,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:bu([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,s,a,t])}const $Y=z.createContext(null);function BY(t){let e=z.useContext(sl).outlet;return e&&z.createElement($Y.Provider,{value:t},e)}function W7(){let{matches:t}=z.useContext(sl),e=t[t.length-1];return e?e.params:{}}function lx(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=z.useContext(dc),{matches:i}=z.useContext(sl),{pathname:a}=$u(),s=JSON.stringify(SP(i,r.v7_relativeSplatPath));return z.useMemo(()=>AP(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function VY(t,e){return UY(t,e)}function UY(t,e,n,r){Op()||dr(!1);let{navigator:i}=z.useContext(dc),{matches:a}=z.useContext(sl),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=$u(),u;if(e){var f;let x=typeof e=="string"?jp(e):e;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||dr(!1),u=x}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=pY(t,{pathname:p}),b=GY(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:bu([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:bu([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,n,r);return e&&b?z.createElement(ox.Provider,{value:{location:ty({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:su.Pop}},b):b}function zY(){let t=QY(),e=LY(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:i},n):null,null)}const qY=z.createElement(zY,null);class WY extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?z.createElement(sl.Provider,{value:this.props.routeContext},z.createElement(z7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function HY(t){let{routeContext:e,match:n,children:r}=t,i=z.useContext(sx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),z.createElement(sl.Provider,{value:e},r)}function GY(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let u=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||dr(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:p}=n,y=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,h)=>{let p,y=!1,b=null,x=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,b=f.route.errorElement||qY,l&&(c<0&&h===0?(ZY("route-fallback"),y=!0,x=null):c===h&&(y=!0,x=f.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,h+1)),w=()=>{let S;return p?S=b:y?S=x:f.route.Component?S=z.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=u,z.createElement(HY,{match:f,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?z.createElement(WY,{location:n.location,revalidation:n.revalidation,component:b,error:p,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var H7=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(H7||{}),G7=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(G7||{});function KY(t){let e=z.useContext(sx);return e||dr(!1),e}function YY(t){let e=z.useContext(U7);return e||dr(!1),e}function XY(t){let e=z.useContext(sl);return e||dr(!1),e}function K7(t){let e=XY(),n=e.matches[e.matches.length-1];return n.route.id||dr(!1),n.route.id}function QY(){var t;let e=z.useContext(z7),n=YY(),r=K7();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function JY(){let{router:t}=KY(H7.UseNavigateStable),e=K7(G7.UseNavigateStable),n=z.useRef(!1);return q7(()=>{n.current=!0}),z.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ty({fromRouteId:e},a)))},[t,e])}const AC={};function ZY(t,e,n){AC[t]||(AC[t]=!0)}function eX(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function xg(t){let{to:e,replace:n,state:r,relative:i}=t;Op()||dr(!1);let{future:a,static:s}=z.useContext(dc),{matches:o}=z.useContext(sl),{pathname:l}=$u(),c=Bs(),u=AP(e,SP(o,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return z.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function tX(t){return BY(t.context)}function kr(t){dr(!1)}function nX(t){let{basename:e="/",children:n=null,location:r,navigationType:i=su.Pop,navigator:a,static:s=!1,future:o}=t;Op()&&dr(!1);let l=e.replace(/^\/*/,"/"),c=z.useMemo(()=>({basename:l,navigator:a,static:s,future:ty({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof r=="string"&&(r=jp(r));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:y="default"}=r,b=z.useMemo(()=>{let x=Gh(u,l);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:y},navigationType:i}},[l,u,f,h,p,y,i]);return b==null?null:z.createElement(dc.Provider,{value:c},z.createElement(ox.Provider,{children:n,value:b}))}function rX(t){let{children:e,location:n}=t;return VY(YS(e),n)}new Promise(()=>{});function YS(t,e){e===void 0&&(e=[]);let n=[];return z.Children.forEach(t,(r,i)=>{if(!z.isValidElement(r))return;let a=[...e,i];if(r.type===z.Fragment){n.push.apply(n,YS(r.props.children,a));return}r.type!==kr&&dr(!1),!r.props.index||!r.props.children||dr(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=YS(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fb(){return fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fb.apply(this,arguments)}function Y7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function iX(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aX(t,e){return t.button===0&&(!e||e==="_self")&&!iX(t)}function XS(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function sX(t,e){let n=XS(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const oX=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lX=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],cX="6";try{window.__reactRouterVersion=cX}catch{}const uX=z.createContext({isTransitioning:!1}),fX="startTransition",NC=ZH[fX];function dX(t){let{basename:e,children:n,future:r,window:i}=t,a=z.useRef();a.current==null&&(a.current=fY({window:i,v5Compat:!0}));let s=a.current,[o,l]=z.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=z.useCallback(f=>{c&&NC?NC(()=>l(f)):l(f)},[l,c]);return z.useLayoutEffect(()=>s.listen(u),[s,u]),z.useEffect(()=>eX(r),[r]),z.createElement(nX,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const hX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ur=z.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,h=Y7(e,oX),{basename:p}=z.useContext(dc),y,b=!1;if(typeof c=="string"&&pX.test(c)&&(y=c,hX))try{let S=new URL(window.location.href),A=c.startsWith("//")?new URL(S.protocol+c):new URL(c),P=Gh(A.pathname,p);A.origin===S.origin&&P!=null?c=P+A.search+A.hash:b=!0}catch{}let x=DY(c,{relative:i}),v=yX(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:f});function w(S){r&&r(S),S.defaultPrevented||v(S)}return z.createElement("a",fb({},h,{href:y||x,onClick:b||a?r:w,ref:n,target:l}))}),mX=z.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:s=!1,style:o,to:l,viewTransition:c,children:u}=e,f=Y7(e,lX),h=lx(l,{relative:f.relative}),p=$u(),y=z.useContext(U7),{navigator:b,basename:x}=z.useContext(dc),v=y!=null&&bX(h)&&c===!0,w=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,S=p.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(S=S.toLowerCase(),A=A?A.toLowerCase():null,w=w.toLowerCase()),A&&x&&(A=Gh(A,x)||A);const P=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let O=S===w||!s&&S.startsWith(w)&&S.charAt(P)==="/",I=A!=null&&(A===w||!s&&A.startsWith(w)&&A.charAt(w.length)==="/"),E={isActive:O,isPending:I,isTransitioning:v},C=O?r:void 0,M;typeof a=="function"?M=a(E):M=[a,O?"active":null,I?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(E):o;return z.createElement(ur,fb({},f,{"aria-current":C,className:M,ref:n,style:N,to:l,viewTransition:c}),typeof u=="function"?u(E):u)});var QS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(QS||(QS={}));var EC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(EC||(EC={}));function gX(t){let e=z.useContext(sx);return e||dr(!1),e}function yX(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=Bs(),c=$u(),u=lx(t,{relative:s});return z.useCallback(f=>{if(aX(f,n)){f.preventDefault();let h=r!==void 0?r:ub(c)===ub(u);l(t,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,u,r,i,n,t,a,s,o])}function vX(t){let e=z.useRef(XS(t)),n=z.useRef(!1),r=$u(),i=z.useMemo(()=>sX(r.search,n.current?null:e.current),[r.search]),a=Bs(),s=z.useCallback((o,l)=>{const c=XS(typeof o=="function"?o(i):o);n.current=!0,a("?"+c,l)},[a,i]);return[i,s]}function bX(t,e){e===void 0&&(e={});let n=z.useContext(uX);n==null&&dr(!1);let{basename:r}=gX(QS.useViewTransitionState),i=lx(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Gh(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Gh(n.nextLocation.pathname,r)||n.nextLocation.pathname;return KS(i.pathname,s)!=null||KS(i.pathname,a)!=null}let xX={data:""},wX=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||xX},_X=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,SX=/\/\*[^]*?\*\/|  +/g,PC=/\n+/g,Jc=(t,e)=>{let n="",r="",i="";for(let a in t){let s=t[a];a[0]=="@"?a[1]=="i"?n=a+" "+s+";":r+=a[1]=="f"?Jc(s,a):a+"{"+Jc(s,a[1]=="k"?"":e)+"}":typeof s=="object"?r+=Jc(s,e?e.replace(/([^,])+/g,o=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Jc.p?Jc.p(a,s):a+":"+s+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Al={},X7=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+X7(t[n]);return e}return t},AX=(t,e,n,r,i)=>{let a=X7(t),s=Al[a]||(Al[a]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(a));if(!Al[s]){let l=a!==t?t:(c=>{let u,f,h=[{}];for(;u=_X.exec(c.replace(SX,""));)u[4]?h.shift():u[3]?(f=u[3].replace(PC," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][u[1]]=u[2].replace(PC," ").trim();return h[0]})(t);Al[s]=Jc(i?{["@keyframes "+s]:l}:l,n?"":"."+s)}let o=n&&Al.g?Al.g:null;return n&&(Al.g=Al[s]),((l,c,u,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Al[s],e,r,o),s},NX=(t,e,n)=>t.reduce((r,i,a)=>{let s=e[a];if(s&&s.call){let o=s(n),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;s=l?"."+l:o&&typeof o=="object"?o.props?"":Jc(o,""):o===!1?"":o}return r+i+(s??"")},"");function cx(t){let e=this||{},n=t.call?t(e.p):t;return AX(n.unshift?n.raw?NX(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,wX(e.target),e.g,e.o,e.k)}let Q7,JS,ZS;cx.bind({g:1});let Jl=cx.bind({k:1});function EX(t,e,n,r){Jc.p=e,Q7=t,JS=n,ZS=r}function Bu(t,e){let n=this||{};return function(){let r=arguments;function i(a,s){let o=Object.assign({},a),l=o.className||i.className;n.p=Object.assign({theme:JS&&JS()},o),n.o=/ *go\d+/.test(l),o.className=cx.apply(n,r)+(l?" "+l:"");let c=t;return t[0]&&(c=o.as||t,delete o.as),ZS&&c[0]&&ZS(o),Q7(c,o)}return i}}var PX=t=>typeof t=="function",db=(t,e)=>PX(t)?t(e):t,TX=(()=>{let t=0;return()=>(++t).toString()})(),J7=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),kX=20,NP="default",Z7=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:r}=e;return Z7(t,{type:t.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(s=>s.id===i||i===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},b1=[],eF={toasts:[],pausedAt:void 0,settings:{toastLimit:kX}},Bo={},tF=(t,e=NP)=>{Bo[e]=Z7(Bo[e]||eF,t),b1.forEach(([n,r])=>{n===e&&r(Bo[e])})},nF=t=>Object.keys(Bo).forEach(e=>tF(t,e)),CX=t=>Object.keys(Bo).find(e=>Bo[e].toasts.some(n=>n.id===t)),ux=(t=NP)=>e=>{tF(e,t)},IX={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},jX=(t={},e=NP)=>{let[n,r]=z.useState(Bo[e]||eF),i=z.useRef(Bo[e]);z.useEffect(()=>(i.current!==Bo[e]&&r(Bo[e]),b1.push([e,r]),()=>{let s=b1.findIndex(([o])=>o===e);s>-1&&b1.splice(s,1)}),[e]);let a=n.toasts.map(s=>{var o,l,c;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((o=t[s.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((l=t[s.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||IX[s.type],style:{...t.style,...(c=t[s.type])==null?void 0:c.style,...s.style}}});return{...n,toasts:a}},OX=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||TX()}),cv=t=>(e,n)=>{let r=OX(e,t,n);return ux(r.toasterId||CX(r.id))({type:2,toast:r}),r.id},Zr=(t,e)=>cv("blank")(t,e);Zr.error=cv("error");Zr.success=cv("success");Zr.loading=cv("loading");Zr.custom=cv("custom");Zr.dismiss=(t,e)=>{let n={type:3,toastId:t};e?ux(e)(n):nF(n)};Zr.dismissAll=t=>Zr.dismiss(void 0,t);Zr.remove=(t,e)=>{let n={type:4,toastId:t};e?ux(e)(n):nF(n)};Zr.removeAll=t=>Zr.remove(void 0,t);Zr.promise=(t,e,n)=>{let r=Zr.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let a=e.success?db(e.success,i):void 0;return a?Zr.success(a,{id:r,...n,...n==null?void 0:n.success}):Zr.dismiss(r),i}).catch(i=>{let a=e.error?db(e.error,i):void 0;a?Zr.error(a,{id:r,...n,...n==null?void 0:n.error}):Zr.dismiss(r)}),t};var RX=1e3,LX=(t,e="default")=>{let{toasts:n,pausedAt:r}=jX(t,e),i=z.useRef(new Map).current,a=z.useCallback((f,h=RX)=>{if(i.has(f))return;let p=setTimeout(()=>{i.delete(f),s({type:4,toastId:f})},h);i.set(f,p)},[]);z.useEffect(()=>{if(r)return;let f=Date.now(),h=n.map(p=>{if(p.duration===1/0)return;let y=(p.duration||0)+p.pauseDuration-(f-p.createdAt);if(y<0){p.visible&&Zr.dismiss(p.id);return}return setTimeout(()=>Zr.dismiss(p.id,e),y)});return()=>{h.forEach(p=>p&&clearTimeout(p))}},[n,r,e]);let s=z.useCallback(ux(e),[e]),o=z.useCallback(()=>{s({type:5,time:Date.now()})},[s]),l=z.useCallback((f,h)=>{s({type:1,toast:{id:f,height:h}})},[s]),c=z.useCallback(()=>{r&&s({type:6,time:Date.now()})},[r,s]),u=z.useCallback((f,h)=>{let{reverseOrder:p=!1,gutter:y=8,defaultPosition:b}=h||{},x=n.filter(S=>(S.position||b)===(f.position||b)&&S.height),v=x.findIndex(S=>S.id===f.id),w=x.filter((S,A)=>A<v&&S.visible).length;return x.filter(S=>S.visible).slice(...p?[w+1]:[0,w]).reduce((S,A)=>S+(A.height||0)+y,0)},[n]);return z.useEffect(()=>{n.forEach(f=>{if(f.dismissed)a(f.id,f.removeDelay);else{let h=i.get(f.id);h&&(clearTimeout(h),i.delete(f.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:l,startPause:o,endPause:c,calculateOffset:u}}},MX=Jl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,DX=Jl`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,FX=Jl`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,$X=Bu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${MX} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${DX} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${FX} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,BX=Jl`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,VX=Bu("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${BX} 1s linear infinite;
`,UX=Jl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,zX=Jl`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,qX=Bu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${UX} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${zX} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,WX=Bu("div")`
  position: absolute;
`,HX=Bu("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,GX=Jl`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,KX=Bu("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${GX} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,YX=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?z.createElement(KX,null,e):e:n==="blank"?null:z.createElement(HX,null,z.createElement(VX,{...r}),n!=="loading"&&z.createElement(WX,null,n==="error"?z.createElement($X,{...r}):z.createElement(qX,{...r})))},XX=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,QX=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,JX="0%{opacity:0;} 100%{opacity:1;}",ZX="0%{opacity:1;} 100%{opacity:0;}",eQ=Bu("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,tQ=Bu("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,nQ=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=J7()?[JX,ZX]:[XX(n),QX(n)];return{animation:e?`${Jl(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Jl(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},rQ=z.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?nQ(t.position||e||"top-center",t.visible):{opacity:0},a=z.createElement(YX,{toast:t}),s=z.createElement(tQ,{...t.ariaProps},db(t.message,t));return z.createElement(eQ,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:a,message:s}):z.createElement(z.Fragment,null,a,s))});EX(z.createElement);var iQ=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let a=z.useCallback(s=>{if(s){let o=()=>{let l=s.getBoundingClientRect().height;r(t,l)};o(),new MutationObserver(o).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return z.createElement("div",{ref:a,className:e,style:n},i)},aQ=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:J7()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},sQ=cx`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,N0=16,oQ=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:s,containerClassName:o})=>{let{toasts:l,handlers:c}=LX(n,a);return z.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:N0,left:N0,right:N0,bottom:N0,pointerEvents:"none",...s},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let f=u.position||e,h=c.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),p=aQ(f,h);return z.createElement(iQ,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?sQ:"",style:p},u.type==="custom"?db(u.message,u):i?i(u):z.createElement(rQ,{toast:u,position:f}))}))},Ke=Zr,TC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lQ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},iF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,f=(a&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),r.push(n[u],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lQ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||c==null||f==null)throw new cQ;const h=a<<2|o>>4;if(r.push(h),c!==64){const p=o<<4&240|c>>2;if(r.push(p),f!==64){const y=c<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uQ=function(t){const e=rF(t);return iF.encodeByteArray(e,!0)},hb=function(t){return uQ(t).replace(/\./g,"")},aF=function(t){try{return iF.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dQ=()=>fQ().__FIREBASE_DEFAULTS__,hQ=()=>{if(typeof process>"u"||typeof TC>"u")return;const t=TC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pQ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aF(t[1]);return e&&JSON.parse(e)},fx=()=>{try{return dQ()||hQ()||pQ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sF=t=>{var e,n;return(n=(e=fx())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mQ=t=>{const e=sF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oF=()=>{var t;return(t=fx())===null||t===void 0?void 0:t.config},lF=t=>{var e;return(e=fx())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gQ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yQ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[hb(JSON.stringify(n)),hb(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zi())}function bQ(){var t;const e=(t=fx())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xQ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wQ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _Q(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SQ(){const t=Zi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AQ(){return!bQ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NQ(){try{return typeof indexedDB=="object"}catch{return!1}}function EQ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PQ="FirebaseError";class hc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=PQ,Object.setPrototypeOf(this,hc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uv.prototype.create)}}class uv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?TQ(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new hc(i,o,r)}}function TQ(t,e){return t.replace(kQ,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const kQ=/\{\$([^}]+)}/g;function CQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pb(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(kC(a)&&kC(s)){if(!pb(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function kC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tg(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function ng(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function IQ(t,e){const n=new jQ(t,e);return n.subscribe.bind(n)}class jQ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");OQ(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=S5),i.error===void 0&&(i.error=S5),i.complete===void 0&&(i.complete=S5);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OQ(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function S5(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t){return t&&t._delegate?t._delegate:t}class Yf{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RQ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new gQ;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MQ(e))try{this.getOrInitializeService({instanceIdentifier:yf})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=yf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yf){return this.instances.has(e)}getOptions(e=yf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LQ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yf){return this.component?this.component.multipleInstances?e:yf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LQ(t){return t===yf?void 0:t}function MQ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RQ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tn||(tn={}));const FQ={debug:tn.DEBUG,verbose:tn.VERBOSE,info:tn.INFO,warn:tn.WARN,error:tn.ERROR,silent:tn.SILENT},$Q=tn.INFO,BQ={[tn.DEBUG]:"log",[tn.VERBOSE]:"log",[tn.INFO]:"info",[tn.WARN]:"warn",[tn.ERROR]:"error"},VQ=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=BQ[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class EP{constructor(e){this.name=e,this._logLevel=$Q,this._logHandler=VQ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tn.DEBUG,...e),this._logHandler(this,tn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tn.VERBOSE,...e),this._logHandler(this,tn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tn.INFO,...e),this._logHandler(this,tn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tn.WARN,...e),this._logHandler(this,tn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tn.ERROR,...e),this._logHandler(this,tn.ERROR,...e)}}const UQ=(t,e)=>e.some(n=>t instanceof n);let CC,IC;function zQ(){return CC||(CC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qQ(){return IC||(IC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cF=new WeakMap,eA=new WeakMap,uF=new WeakMap,A5=new WeakMap,PP=new WeakMap;function WQ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(xu(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&cF.set(n,t)}).catch(()=>{}),PP.set(e,t),e}function HQ(t){if(eA.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});eA.set(t,e)}let tA={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return eA.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uF.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GQ(t){tA=t(tA)}function KQ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(N5(this),e,...n);return uF.set(r,e.sort?e.sort():[e]),xu(r)}:qQ().includes(t)?function(...e){return t.apply(N5(this),e),xu(cF.get(this))}:function(...e){return xu(t.apply(N5(this),e))}}function YQ(t){return typeof t=="function"?KQ(t):(t instanceof IDBTransaction&&HQ(t),UQ(t,zQ())?new Proxy(t,tA):t)}function xu(t){if(t instanceof IDBRequest)return WQ(t);if(A5.has(t))return A5.get(t);const e=YQ(t);return e!==t&&(A5.set(t,e),PP.set(e,t)),e}const N5=t=>PP.get(t);function XQ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=xu(s);return r&&s.addEventListener("upgradeneeded",l=>{r(xu(s.result),l.oldVersion,l.newVersion,xu(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const QQ=["get","getKey","getAll","getAllKeys","count"],JQ=["put","add","delete","clear"],E5=new Map;function jC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(E5.get(e))return E5.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=JQ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||QQ.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return E5.set(e,a),a}GQ(t=>({...t,get:(e,n,r)=>jC(e,n)||t.get(e,n,r),has:(e,n)=>!!jC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eJ(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eJ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nA="@firebase/app",OC="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=new EP("@firebase/app"),tJ="@firebase/app-compat",nJ="@firebase/analytics-compat",rJ="@firebase/analytics",iJ="@firebase/app-check-compat",aJ="@firebase/app-check",sJ="@firebase/auth",oJ="@firebase/auth-compat",lJ="@firebase/database",cJ="@firebase/data-connect",uJ="@firebase/database-compat",fJ="@firebase/functions",dJ="@firebase/functions-compat",hJ="@firebase/installations",pJ="@firebase/installations-compat",mJ="@firebase/messaging",gJ="@firebase/messaging-compat",yJ="@firebase/performance",vJ="@firebase/performance-compat",bJ="@firebase/remote-config",xJ="@firebase/remote-config-compat",wJ="@firebase/storage",_J="@firebase/storage-compat",SJ="@firebase/firestore",AJ="@firebase/vertexai-preview",NJ="@firebase/firestore-compat",EJ="firebase",PJ="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="[DEFAULT]",TJ={[nA]:"fire-core",[tJ]:"fire-core-compat",[rJ]:"fire-analytics",[nJ]:"fire-analytics-compat",[aJ]:"fire-app-check",[iJ]:"fire-app-check-compat",[sJ]:"fire-auth",[oJ]:"fire-auth-compat",[lJ]:"fire-rtdb",[cJ]:"fire-data-connect",[uJ]:"fire-rtdb-compat",[fJ]:"fire-fn",[dJ]:"fire-fn-compat",[hJ]:"fire-iid",[pJ]:"fire-iid-compat",[mJ]:"fire-fcm",[gJ]:"fire-fcm-compat",[yJ]:"fire-perf",[vJ]:"fire-perf-compat",[bJ]:"fire-rc",[xJ]:"fire-rc-compat",[wJ]:"fire-gcs",[_J]:"fire-gcs-compat",[SJ]:"fire-fst",[NJ]:"fire-fst-compat",[AJ]:"fire-vertex","fire-js":"fire-js",[EJ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny=new Map,kJ=new Map,iA=new Map;function RC(t,e){try{t.container.addComponent(e)}catch(n){Zl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Kh(t){const e=t.name;if(iA.has(e))return Zl.debug(`There were multiple attempts to register component ${e}.`),!1;iA.set(e,t);for(const n of ny.values())RC(n,t);for(const n of kJ.values())RC(n,t);return!0}function TP(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vo(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CJ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wu=new uv("app","Firebase",CJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IJ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=PJ;function fF(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:rA,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw wu.create("bad-app-name",{appName:String(i)});if(n||(n=oF()),!n)throw wu.create("no-options");const a=ny.get(i);if(a){if(pb(n,a.options)&&pb(r,a.config))return a;throw wu.create("duplicate-app",{appName:i})}const s=new DQ(i);for(const l of iA.values())s.addComponent(l);const o=new IJ(n,r,s);return ny.set(i,o),o}function dF(t=rA){const e=ny.get(t);if(!e&&t===rA&&oF())return fF();if(!e)throw wu.create("no-app",{appName:t});return e}function LC(){return Array.from(ny.values())}function _u(t,e,n){var r;let i=(r=TJ[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const o=[`Unable to register library "${i}" with version "${e}":`];a&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zl.warn(o.join(" "));return}Kh(new Yf(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jJ="firebase-heartbeat-database",OJ=1,ry="firebase-heartbeat-store";let P5=null;function hF(){return P5||(P5=XQ(jJ,OJ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ry)}catch(n){console.warn(n)}}}}).catch(t=>{throw wu.create("idb-open",{originalErrorMessage:t.message})})),P5}async function RJ(t){try{const n=(await hF()).transaction(ry),r=await n.objectStore(ry).get(pF(t));return await n.done,r}catch(e){if(e instanceof hc)Zl.warn(e.message);else{const n=wu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zl.warn(n.message)}}}async function MC(t,e){try{const r=(await hF()).transaction(ry,"readwrite");await r.objectStore(ry).put(e,pF(t)),await r.done}catch(n){if(n instanceof hc)Zl.warn(n.message);else{const r=wu.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zl.warn(r.message)}}}function pF(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LJ=1024,MJ=30*24*60*60*1e3;class DJ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $J(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=DC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=MJ}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Zl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=DC(),{heartbeatsToSend:r,unsentEntries:i}=FJ(this._heartbeatsCache.heartbeats),a=hb(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Zl.warn(n),""}}}function DC(){return new Date().toISOString().substring(0,10)}function FJ(t,e=LJ){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),FC(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),FC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $J{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NQ()?EQ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RJ(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return MC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return MC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function FC(t){return hb(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BJ(t){Kh(new Yf("platform-logger",e=>new ZQ(e),"PRIVATE")),Kh(new Yf("heartbeat",e=>new DJ(e),"PRIVATE")),_u(nA,OC,t),_u(nA,OC,"esm2017"),_u("fire-js","")}BJ("");var VJ="firebase",UJ="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_u(VJ,UJ,"app");function kP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function mF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zJ=mF,gF=new uv("auth","Firebase",mF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=new EP("@firebase/auth");function qJ(t,...e){mb.logLevel<=tn.WARN&&mb.warn(`Auth (${Rp}): ${t}`,...e)}function x1(t,...e){mb.logLevel<=tn.ERROR&&mb.error(`Auth (${Rp}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t,...e){throw CP(t,...e)}function Go(t,...e){return CP(t,...e)}function yF(t,e,n){const r=Object.assign(Object.assign({},zJ()),{[e]:n});return new uv("auth","Firebase",r).create(e,{appName:t.name})}function Vl(t){return yF(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CP(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gF.create(t,...e)}function At(t,e,...n){if(!t)throw CP(e,...n)}function Rl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw x1(e),new Error(e)}function ec(t,e){t||Rl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function WJ(){return $C()==="http:"||$C()==="https:"}function $C(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HJ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WJ()||wQ()||"connection"in navigator)?navigator.onLine:!0}function GJ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n){this.shortDelay=e,this.longDelay=n,ec(n>e,"Short delay should be less than long delay!"),this.isMobile=vQ()||_Q()}get(){return HJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(t,e){ec(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YJ=new dv(3e4,6e4);function pc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ol(t,e,n,r,i={}){return bF(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=fv(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},a);return xQ()||(c.referrerPolicy="no-referrer"),vF.fetch()(xF(t,t.config.apiHost,n,o),c)})}async function bF(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},KJ),e);try{const i=new QJ(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw E0(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw E0(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw E0(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw E0(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw yF(t,u,c);fo(t,u)}}catch(i){if(i instanceof hc)throw i;fo(t,"network-request-failed",{message:String(i)})}}async function hv(t,e,n,r,i={}){const a=await ol(t,e,n,r,i);return"mfaPendingCredential"in a&&fo(t,"multi-factor-auth-required",{_serverResponse:a}),a}function xF(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?IP(t.config,i):`${t.config.apiScheme}://${i}`}function XJ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QJ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Go(this.auth,"network-request-failed")),YJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function E0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Go(t,e,r);return i.customData._tokenResponse=n,i}function BC(t){return t!==void 0&&t.enterprise!==void 0}class JJ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return XJ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function ZJ(t,e){return ol(t,"GET","/v2/recaptchaConfig",pc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eZ(t,e){return ol(t,"POST","/v1/accounts:delete",e)}async function wF(t,e){return ol(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tZ(t,e=!1){const n=qr(t),r=await n.getIdToken(e),i=jP(r);At(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:wg(T5(i.auth_time)),issuedAtTime:wg(T5(i.iat)),expirationTime:wg(T5(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function T5(t){return Number(t)*1e3}function jP(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return x1("JWT malformed, contained fewer than 3 sections"),null;try{const i=aF(n);return i?JSON.parse(i):(x1("Failed to decode base64 JWT payload"),null)}catch(i){return x1("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function VC(t){const e=jP(t);return At(e,"internal-error"),At(typeof e.exp<"u","internal-error"),At(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof hc&&nZ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function nZ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wg(this.lastLoginAt),this.creationTime=wg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Yh(t,wF(n,{idToken:r}));At(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?_F(a.providerUserInfo):[],o=aZ(t.providerData,s),l=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new sA(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function iZ(t){const e=qr(t);await gb(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aZ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _F(t){return t.map(e=>{var{providerId:n}=e,r=kP(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sZ(t,e){const n=await bF(t,{},async()=>{const r=fv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=xF(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",vF.fetch()(s,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function oZ(t,e){return ol(t,"POST","/v2/accounts:revokeToken",pc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){At(e.idToken,"internal-error"),At(typeof e.idToken<"u","internal-error"),At(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){At(e.length!==0,"internal-error");const n=VC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await sZ(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new Eh;return r&&(At(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(At(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(At(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eh,this.toJSON())}_performRefresh(){return Rl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(t,e){At(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ll{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=kP(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new sA(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Yh(this,this.stsTokenManager.getToken(this.auth,e));return At(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tZ(this,e)}reload(){return iZ(this)}_assign(e){this!==e&&(At(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ll(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await gb(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vo(this.auth.app))return Promise.reject(Vl(this.auth));const e=await this.getIdToken();return await Yh(this,eZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,s,o,l,c,u;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,y=(s=n.photoURL)!==null&&s!==void 0?s:void 0,b=(o=n.tenantId)!==null&&o!==void 0?o:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:S,emailVerified:A,isAnonymous:P,providerData:O,stsTokenManager:I}=n;At(S&&I,e,"internal-error");const E=Eh.fromJSON(this.name,I);At(typeof S=="string",e,"internal-error"),Vc(f,e.name),Vc(h,e.name),At(typeof A=="boolean",e,"internal-error"),At(typeof P=="boolean",e,"internal-error"),Vc(p,e.name),Vc(y,e.name),Vc(b,e.name),Vc(x,e.name),Vc(v,e.name),Vc(w,e.name);const C=new Ll({uid:S,auth:e,email:h,emailVerified:A,displayName:f,isAnonymous:P,photoURL:y,phoneNumber:p,tenantId:b,stsTokenManager:E,createdAt:v,lastLoginAt:w});return O&&Array.isArray(O)&&(C.providerData=O.map(M=>Object.assign({},M))),x&&(C._redirectEventId=x),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Eh;i.updateFromServerResponse(n);const a=new Ll({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await gb(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];At(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?_F(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new Eh;o.updateFromIdToken(r);const l=new Ll({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new sA(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=new Map;function Ml(t){ec(t instanceof Function,"Expected a class definition");let e=UC.get(t);return e?(ec(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,UC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}SF.type="NONE";const zC=SF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t,e,n){return`firebase:${t}:${e}:${n}`}class Ph{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=w1(this.userKey,i.apiKey,a),this.fullPersistenceKey=w1("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ll._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ph(Ml(zC),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||Ml(zC);const s=w1(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const u=await c._get(s);if(u){const f=Ll._fromJSON(e,u);c!==a&&(o=f),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Ph(a,e,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new Ph(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kF(e))return"Blackberry";if(CF(e))return"Webos";if(NF(e))return"Safari";if((e.includes("chrome/")||EF(e))&&!e.includes("edge/"))return"Chrome";if(TF(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function AF(t=Zi()){return/firefox\//i.test(t)}function NF(t=Zi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EF(t=Zi()){return/crios\//i.test(t)}function PF(t=Zi()){return/iemobile/i.test(t)}function TF(t=Zi()){return/android/i.test(t)}function kF(t=Zi()){return/blackberry/i.test(t)}function CF(t=Zi()){return/webos/i.test(t)}function OP(t=Zi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lZ(t=Zi()){var e;return OP(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cZ(){return SQ()&&document.documentMode===10}function IF(t=Zi()){return OP(t)||TF(t)||CF(t)||kF(t)||/windows phone/i.test(t)||PF(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(t,e=[]){let n;switch(t){case"Browser":n=qC(Zi());break;case"Worker":n=`${qC(Zi())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Rp}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uZ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fZ(t,e={}){return ol(t,"GET","/v2/passwordPolicy",pc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dZ=6;class hZ{constructor(e){var n,r,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:dZ,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,s,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pZ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new WC(this),this.idTokenSubscription=new WC(this),this.beforeStateQueue=new uZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ml(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ph.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wF(this,{idToken:e}),r=await Ll._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Vo(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gb(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GJ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vo(this.app))return Promise.reject(Vl(this));const n=e?qr(e):null;return n&&At(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&At(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vo(this.app)?Promise.reject(Vl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vo(this.app)?Promise.reject(Vl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ml(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fZ(this),n=new hZ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new uv("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await oZ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ml(e)||this._popupRedirectResolver;At(n,this,"argument-error"),this.redirectPersistenceManager=await Ph.create(this,[Ml(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&qJ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Vu(t){return qr(t)}class WC{constructor(e){this.auth=e,this.observer=null,this.addObserver=IQ(n=>this.observer=n)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mZ(t){dx=t}function OF(t){return dx.loadJS(t)}function gZ(){return dx.recaptchaEnterpriseScript}function yZ(){return dx.gapiScript}function vZ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const bZ="recaptcha-enterprise",xZ="NO_RECAPTCHA";class wZ{constructor(e){this.type=bZ,this.auth=Vu(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{ZJ(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new JJ(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,s(c.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;BC(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{s(c)}).catch(()=>{s(xZ)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&BC(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=gZ();l.length!==0&&(l+=o),OF(l).then(()=>{i(o,a,s)}).catch(c=>{s(c)})}}).catch(o=>{s(o)})})}}async function HC(t,e,n,r=!1){const i=new wZ(t);let a;try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function yb(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await HC(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await HC(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Z(t,e){const n=TP(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(pb(a,e??{}))return i;fo(i,"already-initialized")}return n.initialize({options:e})}function SZ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ml);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function AZ(t,e,n){const r=Vu(t);At(r._canInitEmulator,r,"emulator-config-failed"),At(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=RF(e),{host:s,port:o}=NZ(e),l=o===null?"":`:${o}`;r.config.emulator={url:`${a}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),EZ()}function RF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function NZ(t){const e=RF(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:GC(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:GC(s)}}}function GC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function EZ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Rl("not implemented")}_getIdTokenResponse(e){return Rl("not implemented")}_linkToIdToken(e,n){return Rl("not implemented")}_getReauthenticationResolver(e){return Rl("not implemented")}}async function PZ(t,e){return ol(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TZ(t,e){return hv(t,"POST","/v1/accounts:signInWithPassword",pc(t,e))}async function kZ(t,e){return ol(t,"POST","/v1/accounts:sendOobCode",pc(t,e))}async function CZ(t,e){return kZ(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IZ(t,e){return hv(t,"POST","/v1/accounts:signInWithEmailLink",pc(t,e))}async function jZ(t,e){return hv(t,"POST","/v1/accounts:signInWithEmailLink",pc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy extends RP{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new iy(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new iy(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yb(e,n,"signInWithPassword",TZ);case"emailLink":return IZ(e,{email:this._email,oobCode:this._password});default:fo(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yb(e,r,"signUpPassword",PZ);case"emailLink":return jZ(e,{idToken:n,email:this._email,oobCode:this._password});default:fo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(t,e){return hv(t,"POST","/v1/accounts:signInWithIdp",pc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OZ="http://localhost";class Xf extends RP{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=kP(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Xf(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Th(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Th(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Th(e,n)}buildRequest(){const e={requestUri:OZ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fv(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RZ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LZ(t){const e=tg(ng(t)).link,n=e?tg(ng(e)).deep_link_id:null,r=tg(ng(t)).deep_link_id;return(r?tg(ng(r)).link:null)||r||n||e||t}class LP{constructor(e){var n,r,i,a,s,o;const l=tg(ng(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,f=RZ((i=l.mode)!==null&&i!==void 0?i:null);At(c&&u&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=u,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=LZ(e);try{return new LP(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(){this.providerId=Lp.PROVIDER_ID}static credential(e,n){return iy._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=LP.parseLink(n);return At(r,"argument-error"),iy._fromEmailAndCode(e,r.code,r.tenantId)}}Lp.PROVIDER_ID="password";Lp.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv extends LF{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends pv{constructor(){super("facebook.com")}static credential(e){return Xf._fromParams({providerId:Zc.PROVIDER_ID,signInMethod:Zc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zc.credentialFromTaggedObject(e)}static credentialFromError(e){return Zc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zc.credential(e.oauthAccessToken)}catch{return null}}}Zc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends pv{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xf._fromParams({providerId:eu.PROVIDER_ID,signInMethod:eu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return eu.credentialFromTaggedObject(e)}static credentialFromError(e){return eu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return eu.credential(n,r)}catch{return null}}}eu.GOOGLE_SIGN_IN_METHOD="google.com";eu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends pv{constructor(){super("github.com")}static credential(e){return Xf._fromParams({providerId:tu.PROVIDER_ID,signInMethod:tu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tu.credentialFromTaggedObject(e)}static credentialFromError(e){return tu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tu.credential(e.oauthAccessToken)}catch{return null}}}tu.GITHUB_SIGN_IN_METHOD="github.com";tu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends pv{constructor(){super("twitter.com")}static credential(e,n){return Xf._fromParams({providerId:nu.PROVIDER_ID,signInMethod:nu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return nu.credentialFromTaggedObject(e)}static credentialFromError(e){return nu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return nu.credential(n,r)}catch{return null}}}nu.TWITTER_SIGN_IN_METHOD="twitter.com";nu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MZ(t,e){return hv(t,"POST","/v1/accounts:signUp",pc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Ll._fromIdTokenResponse(e,r,i),s=KC(r);return new Qf({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=KC(r);return new Qf({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function KC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb extends hc{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,vb.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new vb(e,n,r,i)}}function MF(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?vb._fromErrorAndOperation(t,a,e,r):a})}async function DZ(t,e,n=!1){const r=await Yh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qf._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FZ(t,e,n=!1){const{auth:r}=t;if(Vo(r.app))return Promise.reject(Vl(r));const i="reauthenticate";try{const a=await Yh(t,MF(r,i,e,t),n);At(a.idToken,r,"internal-error");const s=jP(a.idToken);At(s,r,"internal-error");const{sub:o}=s;return At(t.uid===o,r,"user-mismatch"),Qf._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&fo(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DF(t,e,n=!1){if(Vo(t.app))return Promise.reject(Vl(t));const r="signIn",i=await MF(t,r,e),a=await Qf._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function $Z(t,e){return DF(Vu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FF(t){const e=Vu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BZ(t,e,n){const r=Vu(t);await yb(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",CZ)}async function VZ(t,e,n){if(Vo(t.app))return Promise.reject(Vl(t));const r=Vu(t),s=await yb(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MZ).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&FF(t),l}),o=await Qf._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function UZ(t,e,n){return Vo(t.app)?Promise.reject(Vl(t)):$Z(qr(t),Lp.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&FF(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zZ(t,e){return ol(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qZ(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=qr(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await Yh(r,zZ(r.auth,a));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function WZ(t,e,n,r){return qr(t).onIdTokenChanged(e,n,r)}function HZ(t,e,n){return qr(t).beforeAuthStateChanged(e,n)}function GZ(t,e,n,r){return qr(t).onAuthStateChanged(e,n,r)}function KZ(t){return qr(t).signOut()}const bb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bb,"1"),this.storage.removeItem(bb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YZ=1e3,XZ=10;class BF extends $F{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IF(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);cZ()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,XZ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},YZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}BF.type="LOCAL";const QZ=BF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF extends $F{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VF.type="SESSION";const UF=VF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JZ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new hx(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async c=>c(n.origin,a)),l=await JZ(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const c=MP("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(h.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(){return window}function eee(t){Ko().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(){return typeof Ko().WorkerGlobalScope<"u"&&typeof Ko().importScripts=="function"}async function tee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nee(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ree(){return zF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF="firebaseLocalStorageDb",iee=1,xb="firebaseLocalStorage",WF="fbase_key";class mv{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function px(t,e){return t.transaction([xb],e?"readwrite":"readonly").objectStore(xb)}function aee(){const t=indexedDB.deleteDatabase(qF);return new mv(t).toPromise()}function oA(){const t=indexedDB.open(qF,iee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(xb,{keyPath:WF})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(xb)?e(r):(r.close(),await aee(),e(await oA()))})})}async function YC(t,e,n){const r=px(t,!0).put({[WF]:e,value:n});return new mv(r).toPromise()}async function see(t,e){const n=px(t,!1).get(e),r=await new mv(n).toPromise();return r===void 0?null:r.value}function XC(t,e){const n=px(t,!0).delete(e);return new mv(n).toPromise()}const oee=800,lee=3;class HF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await oA(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lee)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hx._getInstance(ree()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tee(),!this.activeServiceWorker)return;this.sender=new ZZ(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await oA();return await YC(e,bb,"1"),await XC(e,bb),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>YC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>see(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>XC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=px(i,!1).getAll();return new mv(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HF.type="LOCAL";const cee=HF;new dv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uee(t,e){return e?Ml(e):(At(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP extends RP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Th(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Th(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Th(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fee(t){return DF(t.auth,new DP(t),t.bypassAuthState)}function dee(t){const{auth:e,user:n}=t;return At(n,e,"internal-error"),FZ(n,new DP(t),t.bypassAuthState)}async function hee(t){const{auth:e,user:n}=t;return At(n,e,"internal-error"),DZ(n,new DP(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fee;case"linkViaPopup":case"linkViaRedirect":return hee;case"reauthViaPopup":case"reauthViaRedirect":return dee;default:fo(this.auth,"internal-error")}}resolve(e){ec(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ec(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pee=new dv(2e3,1e4);class uh extends GF{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,uh.currentPopupAction&&uh.currentPopupAction.cancel(),uh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return At(e,this.auth,"internal-error"),e}async onExecution(){ec(this.filter.length===1,"Popup operations only handle one event");const e=MP();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Go(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Go(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Go(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pee.get())};e()}}uh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mee="pendingRedirect",_1=new Map;class gee extends GF{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_1.get(this.auth._key());if(!e){try{const r=await yee(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_1.set(this.auth._key(),e)}return this.bypassAuthState||_1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yee(t,e){const n=xee(e),r=bee(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function vee(t,e){_1.set(t._key(),e)}function bee(t){return Ml(t._redirectPersistence)}function xee(t){return w1(mee,t.config.apiKey,t.name)}async function wee(t,e,n=!1){if(Vo(t.app))return Promise.reject(Vl(t));const r=Vu(t),i=uee(r,e),s=await new gee(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ee=10*60*1e3;class See{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Aee(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!KF(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Go(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_ee&&this.cachedEventUids.clear(),this.cachedEventUids.has(QC(e))}saveEventToCache(e){this.cachedEventUids.add(QC(e)),this.lastProcessedEventTime=Date.now()}}function QC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KF({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Aee(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KF(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nee(t,e={}){return ol(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pee=/^https?/;async function Tee(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Nee(t);for(const n of e)try{if(kee(n))return}catch{}fo(t,"unauthorized-domain")}function kee(t){const e=aA(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Pee.test(n))return!1;if(Eee.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cee=new dv(3e4,6e4);function JC(){const t=Ko().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Iee(t){return new Promise((e,n)=>{var r,i,a;function s(){JC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JC(),n(Go(t,"network-request-failed"))},timeout:Cee.get()})}if(!((i=(r=Ko().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Ko().gapi)===null||a===void 0)&&a.load)s();else{const o=vZ("iframefcb");return Ko()[o]=()=>{gapi.load?s():n(Go(t,"network-request-failed"))},OF(`${yZ()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw S1=null,e})}let S1=null;function jee(t){return S1=S1||Iee(t),S1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oee=new dv(5e3,15e3),Ree="__/auth/iframe",Lee="emulator/auth/iframe",Mee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fee(t){const e=t.config;At(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?IP(e,Lee):`https://${t.config.authDomain}/${Ree}`,r={apiKey:e.apiKey,appName:t.name,v:Rp},i=Dee.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${fv(r).slice(1)}`}async function $ee(t){const e=await jee(t),n=Ko().gapi;return At(n,t,"internal-error"),e.open({where:document.body,url:Fee(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mee,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=Go(t,"network-request-failed"),o=Ko().setTimeout(()=>{a(s)},Oee.get());function l(){Ko().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vee=500,Uee=600,zee="_blank",qee="http://localhost";class ZC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Wee(t,e,n,r=Vee,i=Uee){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Bee),{width:r.toString(),height:i.toString(),top:a,left:s}),c=Zi().toLowerCase();n&&(o=EF(c)?zee:n),AF(c)&&(e=e||qee,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,y])=>`${h}${p}=${y},`,"");if(lZ(c)&&o!=="_self")return Hee(e||"",o),new ZC(null);const f=window.open(e||"",o,u);At(f,t,"popup-blocked");try{f.focus()}catch{}return new ZC(f)}function Hee(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gee="__/auth/handler",Kee="emulator/auth/handler",Yee=encodeURIComponent("fac");async function eI(t,e,n,r,i,a){At(t.config.authDomain,t,"auth-domain-config-required"),At(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Rp,eventId:i};if(e instanceof LF){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",CQ(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))s[u]=f}if(e instanceof pv){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${Yee}=${encodeURIComponent(l)}`:"";return`${Xee(t)}?${fv(o).slice(1)}${c}`}function Xee({config:t}){return t.emulator?IP(t,Kee):`https://${t.authDomain}/${Gee}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5="webStorageSupport";class Qee{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UF,this._completeRedirectFn=wee,this._overrideRedirectResult=vee}async _openPopup(e,n,r,i){var a;ec((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await eI(e,n,r,aA(),i);return Wee(e,s,MP())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await eI(e,n,r,aA(),i);return eee(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(ec(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $ee(e),r=new See(e);return n.register("authEvent",i=>(At(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(k5,{type:k5},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[k5];s!==void 0&&n(!!s),fo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Tee(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IF()||NF()||OP()}}const Jee=Qee;var tI="@firebase/auth",nI="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zee{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ete(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tte(t){Kh(new Yf("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;At(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jF(t)},c=new pZ(r,i,a,l);return SZ(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Kh(new Yf("auth-internal",e=>{const n=Vu(e.getProvider("auth").getImmediate());return(r=>new Zee(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_u(tI,nI,ete(t)),_u(tI,nI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nte=5*60,rte=lF("authIdTokenMaxAge")||nte;let rI=null;const ite=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rte)return;const i=n==null?void 0:n.token;rI!==i&&(rI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ate(t=dF()){const e=TP(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_Z(t,{popupRedirectResolver:Jee,persistence:[cee,QZ,UF]}),r=lF("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=ite(a.toString());HZ(n,s,()=>s(n.currentUser)),WZ(n,o=>s(o))}}const i=sF("auth");return i&&AZ(n,`http://${i}`),n}function ste(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}mZ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Go("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",ste().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tte("Browser");var iI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ff,YF;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,E){function C(){}C.prototype=E.prototype,I.D=E.prototype,I.prototype=new C,I.prototype.constructor=I,I.C=function(M,N,k){for(var j=Array(arguments.length-2),B=2;B<arguments.length;B++)j[B-2]=arguments[B];return E.prototype[N].apply(M,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,E,C){C||(C=0);var M=Array(16);if(typeof E=="string")for(var N=0;16>N;++N)M[N]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(N=0;16>N;++N)M[N]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=I.g[0],C=I.g[1],N=I.g[2];var k=I.g[3],j=E+(k^C&(N^k))+M[0]+3614090360&4294967295;E=C+(j<<7&4294967295|j>>>25),j=k+(N^E&(C^N))+M[1]+3905402710&4294967295,k=E+(j<<12&4294967295|j>>>20),j=N+(C^k&(E^C))+M[2]+606105819&4294967295,N=k+(j<<17&4294967295|j>>>15),j=C+(E^N&(k^E))+M[3]+3250441966&4294967295,C=N+(j<<22&4294967295|j>>>10),j=E+(k^C&(N^k))+M[4]+4118548399&4294967295,E=C+(j<<7&4294967295|j>>>25),j=k+(N^E&(C^N))+M[5]+1200080426&4294967295,k=E+(j<<12&4294967295|j>>>20),j=N+(C^k&(E^C))+M[6]+2821735955&4294967295,N=k+(j<<17&4294967295|j>>>15),j=C+(E^N&(k^E))+M[7]+4249261313&4294967295,C=N+(j<<22&4294967295|j>>>10),j=E+(k^C&(N^k))+M[8]+1770035416&4294967295,E=C+(j<<7&4294967295|j>>>25),j=k+(N^E&(C^N))+M[9]+2336552879&4294967295,k=E+(j<<12&4294967295|j>>>20),j=N+(C^k&(E^C))+M[10]+4294925233&4294967295,N=k+(j<<17&4294967295|j>>>15),j=C+(E^N&(k^E))+M[11]+2304563134&4294967295,C=N+(j<<22&4294967295|j>>>10),j=E+(k^C&(N^k))+M[12]+1804603682&4294967295,E=C+(j<<7&4294967295|j>>>25),j=k+(N^E&(C^N))+M[13]+4254626195&4294967295,k=E+(j<<12&4294967295|j>>>20),j=N+(C^k&(E^C))+M[14]+2792965006&4294967295,N=k+(j<<17&4294967295|j>>>15),j=C+(E^N&(k^E))+M[15]+1236535329&4294967295,C=N+(j<<22&4294967295|j>>>10),j=E+(N^k&(C^N))+M[1]+4129170786&4294967295,E=C+(j<<5&4294967295|j>>>27),j=k+(C^N&(E^C))+M[6]+3225465664&4294967295,k=E+(j<<9&4294967295|j>>>23),j=N+(E^C&(k^E))+M[11]+643717713&4294967295,N=k+(j<<14&4294967295|j>>>18),j=C+(k^E&(N^k))+M[0]+3921069994&4294967295,C=N+(j<<20&4294967295|j>>>12),j=E+(N^k&(C^N))+M[5]+3593408605&4294967295,E=C+(j<<5&4294967295|j>>>27),j=k+(C^N&(E^C))+M[10]+38016083&4294967295,k=E+(j<<9&4294967295|j>>>23),j=N+(E^C&(k^E))+M[15]+3634488961&4294967295,N=k+(j<<14&4294967295|j>>>18),j=C+(k^E&(N^k))+M[4]+3889429448&4294967295,C=N+(j<<20&4294967295|j>>>12),j=E+(N^k&(C^N))+M[9]+568446438&4294967295,E=C+(j<<5&4294967295|j>>>27),j=k+(C^N&(E^C))+M[14]+3275163606&4294967295,k=E+(j<<9&4294967295|j>>>23),j=N+(E^C&(k^E))+M[3]+4107603335&4294967295,N=k+(j<<14&4294967295|j>>>18),j=C+(k^E&(N^k))+M[8]+1163531501&4294967295,C=N+(j<<20&4294967295|j>>>12),j=E+(N^k&(C^N))+M[13]+2850285829&4294967295,E=C+(j<<5&4294967295|j>>>27),j=k+(C^N&(E^C))+M[2]+4243563512&4294967295,k=E+(j<<9&4294967295|j>>>23),j=N+(E^C&(k^E))+M[7]+1735328473&4294967295,N=k+(j<<14&4294967295|j>>>18),j=C+(k^E&(N^k))+M[12]+2368359562&4294967295,C=N+(j<<20&4294967295|j>>>12),j=E+(C^N^k)+M[5]+4294588738&4294967295,E=C+(j<<4&4294967295|j>>>28),j=k+(E^C^N)+M[8]+2272392833&4294967295,k=E+(j<<11&4294967295|j>>>21),j=N+(k^E^C)+M[11]+1839030562&4294967295,N=k+(j<<16&4294967295|j>>>16),j=C+(N^k^E)+M[14]+4259657740&4294967295,C=N+(j<<23&4294967295|j>>>9),j=E+(C^N^k)+M[1]+2763975236&4294967295,E=C+(j<<4&4294967295|j>>>28),j=k+(E^C^N)+M[4]+1272893353&4294967295,k=E+(j<<11&4294967295|j>>>21),j=N+(k^E^C)+M[7]+4139469664&4294967295,N=k+(j<<16&4294967295|j>>>16),j=C+(N^k^E)+M[10]+3200236656&4294967295,C=N+(j<<23&4294967295|j>>>9),j=E+(C^N^k)+M[13]+681279174&4294967295,E=C+(j<<4&4294967295|j>>>28),j=k+(E^C^N)+M[0]+3936430074&4294967295,k=E+(j<<11&4294967295|j>>>21),j=N+(k^E^C)+M[3]+3572445317&4294967295,N=k+(j<<16&4294967295|j>>>16),j=C+(N^k^E)+M[6]+76029189&4294967295,C=N+(j<<23&4294967295|j>>>9),j=E+(C^N^k)+M[9]+3654602809&4294967295,E=C+(j<<4&4294967295|j>>>28),j=k+(E^C^N)+M[12]+3873151461&4294967295,k=E+(j<<11&4294967295|j>>>21),j=N+(k^E^C)+M[15]+530742520&4294967295,N=k+(j<<16&4294967295|j>>>16),j=C+(N^k^E)+M[2]+3299628645&4294967295,C=N+(j<<23&4294967295|j>>>9),j=E+(N^(C|~k))+M[0]+4096336452&4294967295,E=C+(j<<6&4294967295|j>>>26),j=k+(C^(E|~N))+M[7]+1126891415&4294967295,k=E+(j<<10&4294967295|j>>>22),j=N+(E^(k|~C))+M[14]+2878612391&4294967295,N=k+(j<<15&4294967295|j>>>17),j=C+(k^(N|~E))+M[5]+4237533241&4294967295,C=N+(j<<21&4294967295|j>>>11),j=E+(N^(C|~k))+M[12]+1700485571&4294967295,E=C+(j<<6&4294967295|j>>>26),j=k+(C^(E|~N))+M[3]+2399980690&4294967295,k=E+(j<<10&4294967295|j>>>22),j=N+(E^(k|~C))+M[10]+4293915773&4294967295,N=k+(j<<15&4294967295|j>>>17),j=C+(k^(N|~E))+M[1]+2240044497&4294967295,C=N+(j<<21&4294967295|j>>>11),j=E+(N^(C|~k))+M[8]+1873313359&4294967295,E=C+(j<<6&4294967295|j>>>26),j=k+(C^(E|~N))+M[15]+4264355552&4294967295,k=E+(j<<10&4294967295|j>>>22),j=N+(E^(k|~C))+M[6]+2734768916&4294967295,N=k+(j<<15&4294967295|j>>>17),j=C+(k^(N|~E))+M[13]+1309151649&4294967295,C=N+(j<<21&4294967295|j>>>11),j=E+(N^(C|~k))+M[4]+4149444226&4294967295,E=C+(j<<6&4294967295|j>>>26),j=k+(C^(E|~N))+M[11]+3174756917&4294967295,k=E+(j<<10&4294967295|j>>>22),j=N+(E^(k|~C))+M[2]+718787259&4294967295,N=k+(j<<15&4294967295|j>>>17),j=C+(k^(N|~E))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+E&4294967295,I.g[1]=I.g[1]+(N+(j<<21&4294967295|j>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+k&4294967295}r.prototype.u=function(I,E){E===void 0&&(E=I.length);for(var C=E-this.blockSize,M=this.B,N=this.h,k=0;k<E;){if(N==0)for(;k<=C;)i(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<E;)if(M[N++]=I.charCodeAt(k++),N==this.blockSize){i(this,M),N=0;break}}else for(;k<E;)if(M[N++]=I[k++],N==this.blockSize){i(this,M),N=0;break}}this.h=N,this.o+=E},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var E=1;E<I.length-8;++E)I[E]=0;var C=8*this.o;for(E=I.length-8;E<I.length;++E)I[E]=C&255,C/=256;for(this.u(I),I=Array(16),E=C=0;4>E;++E)for(var M=0;32>M;M+=8)I[C++]=this.g[E]>>>M&255;return I};function a(I,E){var C=o;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=E(I)}function s(I,E){this.h=E;for(var C=[],M=!0,N=I.length-1;0<=N;N--){var k=I[N]|0;M&&k==E||(C[N]=k,M=!1)}this.g=C}var o={};function l(I){return-128<=I&&128>I?a(I,function(E){return new s([E|0],0>E?-1:0)}):new s([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return x(c(-I));for(var E=[],C=1,M=0;I>=C;M++)E[M]=I/C|0,C*=4294967296;return new s(E,0)}function u(I,E){if(I.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(I.charAt(0)=="-")return x(u(I.substring(1),E));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=c(Math.pow(E,8)),M=f,N=0;N<I.length;N+=8){var k=Math.min(8,I.length-N),j=parseInt(I.substring(N,N+k),E);8>k?(k=c(Math.pow(E,k)),M=M.j(k).add(c(j))):(M=M.j(C),M=M.add(c(j)))}return M}var f=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(b(this))return-x(this).m();for(var I=0,E=1,C=0;C<this.g.length;C++){var M=this.i(C);I+=(0<=M?M:4294967296+M)*E,E*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(y(this))return"0";if(b(this))return"-"+x(this).toString(I);for(var E=c(Math.pow(I,6)),C=this,M="";;){var N=A(C,E).g;C=v(C,N.j(E));var k=((0<C.g.length?C.g[0]:C.h)>>>0).toString(I);if(C=N,y(C))return k+M;for(;6>k.length;)k="0"+k;M=k+M}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function y(I){if(I.h!=0)return!1;for(var E=0;E<I.g.length;E++)if(I.g[E]!=0)return!1;return!0}function b(I){return I.h==-1}t.l=function(I){return I=v(this,I),b(I)?-1:y(I)?0:1};function x(I){for(var E=I.g.length,C=[],M=0;M<E;M++)C[M]=~I.g[M];return new s(C,~I.h).add(h)}t.abs=function(){return b(this)?x(this):this},t.add=function(I){for(var E=Math.max(this.g.length,I.g.length),C=[],M=0,N=0;N<=E;N++){var k=M+(this.i(N)&65535)+(I.i(N)&65535),j=(k>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);M=j>>>16,k&=65535,j&=65535,C[N]=j<<16|k}return new s(C,C[C.length-1]&-2147483648?-1:0)};function v(I,E){return I.add(x(E))}t.j=function(I){if(y(this)||y(I))return f;if(b(this))return b(I)?x(this).j(x(I)):x(x(this).j(I));if(b(I))return x(this.j(x(I)));if(0>this.l(p)&&0>I.l(p))return c(this.m()*I.m());for(var E=this.g.length+I.g.length,C=[],M=0;M<2*E;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var N=0;N<I.g.length;N++){var k=this.i(M)>>>16,j=this.i(M)&65535,B=I.i(N)>>>16,G=I.i(N)&65535;C[2*M+2*N]+=j*G,w(C,2*M+2*N),C[2*M+2*N+1]+=k*G,w(C,2*M+2*N+1),C[2*M+2*N+1]+=j*B,w(C,2*M+2*N+1),C[2*M+2*N+2]+=k*B,w(C,2*M+2*N+2)}for(M=0;M<E;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=E;M<2*E;M++)C[M]=0;return new s(C,0)};function w(I,E){for(;(I[E]&65535)!=I[E];)I[E+1]+=I[E]>>>16,I[E]&=65535,E++}function S(I,E){this.g=I,this.h=E}function A(I,E){if(y(E))throw Error("division by zero");if(y(I))return new S(f,f);if(b(I))return E=A(x(I),E),new S(x(E.g),x(E.h));if(b(E))return E=A(I,x(E)),new S(x(E.g),E.h);if(30<I.g.length){if(b(I)||b(E))throw Error("slowDivide_ only works with positive integers.");for(var C=h,M=E;0>=M.l(I);)C=P(C),M=P(M);var N=O(C,1),k=O(M,1);for(M=O(M,2),C=O(C,2);!y(M);){var j=k.add(M);0>=j.l(I)&&(N=N.add(C),k=j),M=O(M,1),C=O(C,1)}return E=v(I,N.j(E)),new S(N,E)}for(N=f;0<=I.l(E);){for(C=Math.max(1,Math.floor(I.m()/E.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),k=c(C),j=k.j(E);b(j)||0<j.l(I);)C-=M,k=c(C),j=k.j(E);y(k)&&(k=h),N=N.add(k),I=v(I,j)}return new S(N,I)}t.A=function(I){return A(this,I).h},t.and=function(I){for(var E=Math.max(this.g.length,I.g.length),C=[],M=0;M<E;M++)C[M]=this.i(M)&I.i(M);return new s(C,this.h&I.h)},t.or=function(I){for(var E=Math.max(this.g.length,I.g.length),C=[],M=0;M<E;M++)C[M]=this.i(M)|I.i(M);return new s(C,this.h|I.h)},t.xor=function(I){for(var E=Math.max(this.g.length,I.g.length),C=[],M=0;M<E;M++)C[M]=this.i(M)^I.i(M);return new s(C,this.h^I.h)};function P(I){for(var E=I.g.length+1,C=[],M=0;M<E;M++)C[M]=I.i(M)<<1|I.i(M-1)>>>31;return new s(C,I.h)}function O(I,E){var C=E>>5;E%=32;for(var M=I.g.length-C,N=[],k=0;k<M;k++)N[k]=0<E?I.i(k+C)>>>E|I.i(k+C+1)<<32-E:I.i(k+C);return new s(N,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,YF=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,Ff=s}).apply(typeof iI<"u"?iI:typeof self<"u"?self:typeof window<"u"?window:{});var P0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XF,rg,QF,A1,lA,JF,ZF,e$;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,L,F){return g==Array.prototype||g==Object.prototype||(g[L]=F.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof P0=="object"&&P0];for(var L=0;L<g.length;++L){var F=g[L];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var r=n(this);function i(g,L){if(L)e:{var F=r;g=g.split(".");for(var Q=0;Q<g.length-1;Q++){var ve=g[Q];if(!(ve in F))break e;F=F[ve]}g=g[g.length-1],Q=F[g],L=L(Q),L!=Q&&L!=null&&e(F,g,{configurable:!0,writable:!0,value:L})}}function a(g,L){g instanceof String&&(g+="");var F=0,Q=!1,ve={next:function(){if(!Q&&F<g.length){var Ae=F++;return{value:L(Ae,g[Ae]),done:!1}}return Q=!0,{done:!0,value:void 0}}};return ve[Symbol.iterator]=function(){return ve},ve}i("Array.prototype.values",function(g){return g||function(){return a(this,function(L,F){return F})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(g){var L=typeof g;return L=L!="object"?L:g?Array.isArray(g)?"array":L:"null",L=="array"||L=="object"&&typeof g.length=="number"}function c(g){var L=typeof g;return L=="object"&&g!=null||L=="function"}function u(g,L,F){return g.call.apply(g.bind,arguments)}function f(g,L,F){if(!g)throw Error();if(2<arguments.length){var Q=Array.prototype.slice.call(arguments,2);return function(){var ve=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ve,Q),g.apply(L,ve)}}return function(){return g.apply(L,arguments)}}function h(g,L,F){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(g,L){var F=Array.prototype.slice.call(arguments,1);return function(){var Q=F.slice();return Q.push.apply(Q,arguments),g.apply(this,Q)}}function y(g,L){function F(){}F.prototype=L.prototype,g.aa=L.prototype,g.prototype=new F,g.prototype.constructor=g,g.Qb=function(Q,ve,Ae){for(var Ve=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)Ve[Zt-2]=arguments[Zt];return L.prototype[ve].apply(Q,Ve)}}function b(g){const L=g.length;if(0<L){const F=Array(L);for(let Q=0;Q<L;Q++)F[Q]=g[Q];return F}return[]}function x(g,L){for(let F=1;F<arguments.length;F++){const Q=arguments[F];if(l(Q)){const ve=g.length||0,Ae=Q.length||0;g.length=ve+Ae;for(let Ve=0;Ve<Ae;Ve++)g[ve+Ve]=Q[Ve]}else g.push(Q)}}class v{constructor(L,F){this.i=L,this.j=F,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function w(g){return/^[\s\xa0]*$/.test(g)}function S(){var g=o.navigator;return g&&(g=g.userAgent)?g:""}function A(g){return A[" "](g),g}A[" "]=function(){};var P=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function O(g,L,F){for(const Q in g)L.call(F,g[Q],Q,g)}function I(g,L){for(const F in g)L.call(void 0,g[F],F,g)}function E(g){const L={};for(const F in g)L[F]=g[F];return L}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(g,L){let F,Q;for(let ve=1;ve<arguments.length;ve++){Q=arguments[ve];for(F in Q)g[F]=Q[F];for(let Ae=0;Ae<C.length;Ae++)F=C[Ae],Object.prototype.hasOwnProperty.call(Q,F)&&(g[F]=Q[F])}}function N(g){var L=1;g=g.split(":");const F=[];for(;0<L&&g.length;)F.push(g.shift()),L--;return g.length&&F.push(g.join(":")),F}function k(g){o.setTimeout(()=>{throw g},0)}function j(){var g=ae;let L=null;return g.g&&(L=g.g,g.g=g.g.next,g.g||(g.h=null),L.next=null),L}class B{constructor(){this.h=this.g=null}add(L,F){const Q=G.get();Q.set(L,F),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var G=new v(()=>new Z,g=>g.reset());class Z{constructor(){this.next=this.g=this.h=null}set(L,F){this.h=L,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,X=!1,ae=new B,ue=()=>{const g=o.Promise.resolve(void 0);ie=()=>{g.then(de)}};var de=()=>{for(var g;g=j();){try{g.h.call(g.g)}catch(F){k(F)}var L=G;L.j(g),100>L.h&&(L.h++,g.next=L.g,L.g=g)}X=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(g,L){this.type=g,this.g=this.target=L,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var re=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var g=!1,L=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const F=()=>{};o.addEventListener("test",F,L),o.removeEventListener("test",F,L)}catch{}return g}();function se(g,L){if(K.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var F=this.type=g.type,Q=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=L,L=g.relatedTarget){if(P){e:{try{A(L.nodeName);var ve=!0;break e}catch{}ve=!1}ve||(L=null)}}else F=="mouseover"?L=g.fromElement:F=="mouseout"&&(L=g.toElement);this.relatedTarget=L,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:le[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&se.aa.h.call(this)}}y(se,K);var le={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),Se=0;function ce(g,L,F,Q,ve){this.listener=g,this.proxy=null,this.src=L,this.type=F,this.capture=!!Q,this.ha=ve,this.key=++Se,this.da=this.fa=!1}function xe(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Ne(g){this.src=g,this.g={},this.h=0}Ne.prototype.add=function(g,L,F,Q,ve){var Ae=g.toString();g=this.g[Ae],g||(g=this.g[Ae]=[],this.h++);var Ve=Me(g,L,Q,ve);return-1<Ve?(L=g[Ve],F||(L.fa=!1)):(L=new ce(L,this.src,Ae,!!Q,ve),L.fa=F,g.push(L)),L};function ye(g,L){var F=L.type;if(F in g.g){var Q=g.g[F],ve=Array.prototype.indexOf.call(Q,L,void 0),Ae;(Ae=0<=ve)&&Array.prototype.splice.call(Q,ve,1),Ae&&(xe(L),g.g[F].length==0&&(delete g.g[F],g.h--))}}function Me(g,L,F,Q){for(var ve=0;ve<g.length;++ve){var Ae=g[ve];if(!Ae.da&&Ae.listener==L&&Ae.capture==!!F&&Ae.ha==Q)return ve}return-1}var $e="closure_lm_"+(1e6*Math.random()|0),q={};function Ie(g,L,F,Q,ve){if(Array.isArray(L)){for(var Ae=0;Ae<L.length;Ae++)Ie(g,L[Ae],F,Q,ve);return null}return F=Mt(F),g&&g[me]?g.K(L,F,c(Q)?!!Q.capture:!1,ve):Ye(g,L,F,!1,Q,ve)}function Ye(g,L,F,Q,ve,Ae){if(!L)throw Error("Invalid event type");var Ve=c(ve)?!!ve.capture:!!ve,Zt=rt(g);if(Zt||(g[$e]=Zt=new Ne(g)),F=Zt.add(L,F,Q,Ve,Ae),F.proxy)return F;if(Q=Ze(),F.proxy=Q,Q.src=g,Q.listener=F,g.addEventListener)re||(ve=Ve),ve===void 0&&(ve=!1),g.addEventListener(L.toString(),Q,ve);else if(g.attachEvent)g.attachEvent(qe(L.toString()),Q);else if(g.addListener&&g.removeListener)g.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return F}function Ze(){function g(F){return L.call(g.src,g.listener,F)}const L=nt;return g}function je(g,L,F,Q,ve){if(Array.isArray(L))for(var Ae=0;Ae<L.length;Ae++)je(g,L[Ae],F,Q,ve);else Q=c(Q)?!!Q.capture:!!Q,F=Mt(F),g&&g[me]?(g=g.i,L=String(L).toString(),L in g.g&&(Ae=g.g[L],F=Me(Ae,F,Q,ve),-1<F&&(xe(Ae[F]),Array.prototype.splice.call(Ae,F,1),Ae.length==0&&(delete g.g[L],g.h--)))):g&&(g=rt(g))&&(L=g.g[L.toString()],g=-1,L&&(g=Me(L,F,Q,ve)),(F=-1<g?L[g]:null)&&tt(F))}function tt(g){if(typeof g!="number"&&g&&!g.da){var L=g.src;if(L&&L[me])ye(L.i,g);else{var F=g.type,Q=g.proxy;L.removeEventListener?L.removeEventListener(F,Q,g.capture):L.detachEvent?L.detachEvent(qe(F),Q):L.addListener&&L.removeListener&&L.removeListener(Q),(F=rt(L))?(ye(F,g),F.h==0&&(F.src=null,L[$e]=null)):xe(g)}}}function qe(g){return g in q?q[g]:q[g]="on"+g}function nt(g,L){if(g.da)g=!0;else{L=new se(L,this);var F=g.listener,Q=g.ha||g.src;g.fa&&tt(g),g=F.call(Q,L)}return g}function rt(g){return g=g[$e],g instanceof Ne?g:null}var Wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mt(g){return typeof g=="function"?g:(g[Wt]||(g[Wt]=function(L){return g.handleEvent(L)}),g[Wt])}function ct(){$.call(this),this.i=new Ne(this),this.M=this,this.F=null}y(ct,$),ct.prototype[me]=!0,ct.prototype.removeEventListener=function(g,L,F,Q){je(this,g,L,F,Q)};function xt(g,L){var F,Q=g.F;if(Q)for(F=[];Q;Q=Q.F)F.push(Q);if(g=g.M,Q=L.type||L,typeof L=="string")L=new K(L,g);else if(L instanceof K)L.target=L.target||g;else{var ve=L;L=new K(Q,g),M(L,ve)}if(ve=!0,F)for(var Ae=F.length-1;0<=Ae;Ae--){var Ve=L.g=F[Ae];ve=$t(Ve,Q,!0,L)&&ve}if(Ve=L.g=g,ve=$t(Ve,Q,!0,L)&&ve,ve=$t(Ve,Q,!1,L)&&ve,F)for(Ae=0;Ae<F.length;Ae++)Ve=L.g=F[Ae],ve=$t(Ve,Q,!1,L)&&ve}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var g=this.i,L;for(L in g.g){for(var F=g.g[L],Q=0;Q<F.length;Q++)xe(F[Q]);delete g.g[L],g.h--}}this.F=null},ct.prototype.K=function(g,L,F,Q){return this.i.add(String(g),L,!1,F,Q)},ct.prototype.L=function(g,L,F,Q){return this.i.add(String(g),L,!0,F,Q)};function $t(g,L,F,Q){if(L=g.i.g[String(L)],!L)return!0;L=L.concat();for(var ve=!0,Ae=0;Ae<L.length;++Ae){var Ve=L[Ae];if(Ve&&!Ve.da&&Ve.capture==F){var Zt=Ve.listener,sr=Ve.ha||Ve.src;Ve.fa&&ye(g.i,Ve),ve=Zt.call(sr,Q)!==!1&&ve}}return ve&&!Q.defaultPrevented}function it(g,L,F){if(typeof g=="function")F&&(g=h(g,F));else if(g&&typeof g.handleEvent=="function")g=h(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(L)?-1:o.setTimeout(g,L||0)}function Tt(g){g.g=it(()=>{g.g=null,g.i&&(g.i=!1,Tt(g))},g.l);const L=g.h;g.h=null,g.m.apply(null,L)}class ut extends ${constructor(L,F){super(),this.m=L,this.l=F,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:Tt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tn(g){$.call(this),this.h=g,this.g={}}y(Tn,$);var Kt=[];function Dt(g){O(g.g,function(L,F){this.g.hasOwnProperty(F)&&tt(L)},g),g.g={}}Tn.prototype.N=function(){Tn.aa.N.call(this),Dt(this)},Tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ot=o.JSON.stringify,Ln=o.JSON.parse,pt=class{stringify(g){return o.JSON.stringify(g,void 0)}parse(g){return o.JSON.parse(g,void 0)}};function hn(){}hn.prototype.h=null;function vt(g){return g.h||(g.h=g.i())}function Et(){}var pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ft(){K.call(this,"d")}y(Ft,K);function mt(){K.call(this,"c")}y(mt,K);var zt={},xo=null;function Sr(){return xo=xo||new ct}zt.La="serverreachability";function rs(g){K.call(this,zt.La,g)}y(rs,K);function Ci(g){const L=Sr();xt(L,new rs(L))}zt.STAT_EVENT="statevent";function yt(g,L){K.call(this,zt.STAT_EVENT,g),this.stat=L}y(yt,K);function zn(g){const L=Sr();xt(L,new yt(L,g))}zt.Ma="timingevent";function is(g,L){K.call(this,zt.Ma,g),this.size=L}y(is,K);function ii(g,L){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){g()},L)}function ai(){this.g=!0}ai.prototype.xa=function(){this.g=!1};function Qn(g,L,F,Q,ve,Ae){g.info(function(){if(g.g)if(Ae)for(var Ve="",Zt=Ae.split("&"),sr=0;sr<Zt.length;sr++){var qt=Zt[sr].split("=");if(1<qt.length){var ln=qt[0];qt=qt[1];var Mn=ln.split("_");Ve=2<=Mn.length&&Mn[1]=="type"?Ve+(ln+"="+qt+"&"):Ve+(ln+"=redacted&")}}else Ve=null;else Ve=Ae;return"XMLHTTP REQ ("+Q+") [attempt "+ve+"]: "+L+`
`+F+`
`+Ve})}function Dr(g,L,F,Q,ve,Ae,Ve){g.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+ve+"]: "+L+`
`+F+`
`+Ae+" "+Ve})}function Jn(g,L,F,Q){g.info(function(){return"XMLHTTP TEXT ("+L+"): "+wo(g,F)+(Q?" "+Q:"")})}function ul(g,L){g.info(function(){return"TIMEOUT: "+L})}ai.prototype.info=function(){};function wo(g,L){if(!g.g)return L;if(!L)return null;try{var F=JSON.parse(L);if(F){for(g=0;g<F.length;g++)if(Array.isArray(F[g])){var Q=F[g];if(!(2>Q.length)){var ve=Q[1];if(Array.isArray(ve)&&!(1>ve.length)){var Ae=ve[0];if(Ae!="noop"&&Ae!="stop"&&Ae!="close")for(var Ve=1;Ve<ve.length;Ve++)ve[Ve]=""}}}}return Ot(F)}catch{return L}}var Ii={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ta={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ta;function ji(){}y(ji,hn),ji.prototype.g=function(){return new XMLHttpRequest},ji.prototype.i=function(){return{}},ta=new ji;function Ar(g,L,F,Q){this.j=g,this.i=L,this.l=F,this.R=Q||1,this.U=new Tn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _o}function _o(){this.i=null,this.g="",this.h=!1}var ka={},qs={};function So(g,L,F){g.L=1,g.v=ml(Wr(L)),g.m=F,g.P=!0,fl(g,null)}function fl(g,L){g.F=Date.now(),Ao(g),g.A=Wr(g.v);var F=g.A,Q=g.R;Array.isArray(Q)||(Q=[String(Q)]),Id(F.i,"t",Q),g.C=0,F=g.j.J,g.h=new _o,g.g=mr(g.j,F?L:null,!g.m),0<g.O&&(g.M=new ut(h(g.Y,g,g.g),g.O)),L=g.U,F=g.g,Q=g.ca;var ve="readystatechange";Array.isArray(ve)||(ve&&(Kt[0]=ve.toString()),ve=Kt);for(var Ae=0;Ae<ve.length;Ae++){var Ve=Ie(F,ve[Ae],Q||L.handleEvent,!1,L.h||L);if(!Ve)break;L.g[Ve.key]=Ve}L=g.H?E(g.H):{},g.m?(g.u||(g.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,L)):(g.u="GET",g.g.ea(g.A,g.u,null,L)),Ci(),Qn(g.i,g.u,g.A,g.l,g.R,g.m)}Ar.prototype.ca=function(g){g=g.target;const L=this.M;L&&na(g)==3?L.j():this.Y(g)},Ar.prototype.Y=function(g){try{if(g==this.g)e:{const Mn=na(this.g);var L=this.g.Ba();const ja=this.g.Z();if(!(3>Mn)&&(Mn!=3||this.g&&(this.h.h||this.g.oa()||sf(this.g)))){this.J||Mn!=4||L==7||(L==8||0>=ja?Ci(3):Ci(2)),bc(this);var F=this.g.Z();this.X=F;t:if(dl(this)){var Q=sf(this.g);g="";var ve=Q.length,Ae=na(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ca(this),si(this);var Ve="";break t}this.h.i=new o.TextDecoder}for(L=0;L<ve;L++)this.h.h=!0,g+=this.h.i.decode(Q[L],{stream:!(Ae&&L==ve-1)});Q.length=0,this.h.g+=g,this.C=0,Ve=this.h.g}else Ve=this.g.oa();if(this.o=F==200,Dr(this.i,this.u,this.A,this.l,this.R,Mn,F),this.o){if(this.T&&!this.K){t:{if(this.g){var Zt,sr=this.g;if((Zt=sr.g?sr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Zt)){var qt=Zt;break t}}qt=null}if(F=qt)Jn(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xc(this,F);else{this.o=!1,this.s=3,zn(12),Ca(this),si(this);break e}}if(this.P){F=!0;let Oi;for(;!this.J&&this.C<Ve.length;)if(Oi=im(this,Ve),Oi==qs){Mn==4&&(this.s=4,zn(14),F=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(Oi==ka){this.s=4,zn(15),Jn(this.i,this.l,Ve,"[Invalid Chunk]"),F=!1;break}else Jn(this.i,this.l,Oi,null),xc(this,Oi);if(dl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mn!=4||Ve.length!=0||this.h.h||(this.s=1,zn(16),F=!1),this.o=this.o&&F,!F)Jn(this.i,this.l,Ve,"[Invalid Chunked Response]"),Ca(this),si(this);else if(0<Ve.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+Ve.length),Ge(ln),ln.M=!0,zn(11))}}else Jn(this.i,this.l,Ve,null),xc(this,Ve);Mn==4&&Ca(this),this.o&&!this.J&&(Mn==4?kt(this.j,this):(this.o=!1,Ao(this)))}else Od(this.g),F==400&&0<Ve.indexOf("Unknown SID")?(this.s=3,zn(12)):(this.s=0,zn(13)),Ca(this),si(this)}}}catch{}finally{}};function dl(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function im(g,L){var F=g.C,Q=L.indexOf(`
`,F);return Q==-1?qs:(F=Number(L.substring(F,Q)),isNaN(F)?ka:(Q+=1,Q+F>L.length?qs:(L=L.slice(Q,Q+F),g.C=Q+F,L)))}Ar.prototype.cancel=function(){this.J=!0,Ca(this)};function Ao(g){g.S=Date.now()+g.I,Xu(g,g.I)}function Xu(g,L){if(g.B!=null)throw Error("WatchDog timer not null");g.B=ii(h(g.ba,g),L)}function bc(g){g.B&&(o.clearTimeout(g.B),g.B=null)}Ar.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(ul(this.i,this.A),this.L!=2&&(Ci(),zn(17)),Ca(this),this.s=2,si(this)):Xu(this,this.S-g)};function si(g){g.j.G==0||g.J||kt(g.j,g)}function Ca(g){bc(g);var L=g.M;L&&typeof L.ma=="function"&&L.ma(),g.M=null,Dt(g.U),g.g&&(L=g.g,g.g=null,L.abort(),L.ma())}function xc(g,L){try{var F=g.j;if(F.G!=0&&(F.g==g||ha(F.h,g))){if(!g.K&&ha(F.h,g)&&F.G==3){try{var Q=F.Da.g.parse(L)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var ve=Q;if(ve[0]==0){e:if(!F.u){if(F.g)if(F.g.F+3e3<g.F)wt(F),fs(F);else break e;Re(F),zn(18)}}else F.za=ve[1],0<F.za-F.T&&37500>ve[2]&&F.F&&F.v==0&&!F.C&&(F.C=ii(h(F.Za,F),6e3));if(1>=ef(F.h)&&F.ca){try{F.ca()}catch{}F.ca=void 0}}else dn(F,11)}else if((g.K||F.g==g)&&wt(F),!w(L))for(ve=F.Da.g.parse(L),L=0;L<ve.length;L++){let qt=ve[L];if(F.T=qt[0],qt=qt[1],F.G==2)if(qt[0]=="c"){F.K=qt[1],F.ia=qt[2];const ln=qt[3];ln!=null&&(F.la=ln,F.j.info("VER="+F.la));const Mn=qt[4];Mn!=null&&(F.Aa=Mn,F.j.info("SVER="+F.Aa));const ja=qt[5];ja!=null&&typeof ja=="number"&&0<ja&&(Q=1.5*ja,F.L=Q,F.j.info("backChannelRequestTimeoutMs_="+Q)),Q=F;const Oi=g.g;if(Oi){const gi=Oi.g?Oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gi){var Ae=Q.h;Ae.g||gi.indexOf("spdy")==-1&&gi.indexOf("quic")==-1&&gi.indexOf("h2")==-1||(Ae.j=Ae.l,Ae.g=new Set,Ae.h&&(No(Ae,Ae.h),Ae.h=null))}if(Q.D){const Gs=Oi.g?Oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Gs&&(Q.ya=Gs,Yt(Q.I,Q.D,Gs))}}F.G=3,F.l&&F.l.ua(),F.ba&&(F.R=Date.now()-g.F,F.j.info("Handshake RTT: "+F.R+"ms")),Q=F;var Ve=g;if(Q.qa=yn(Q,Q.J?Q.ia:null,Q.W),Ve.K){Ed(Q.h,Ve);var Zt=Ve,sr=Q.L;sr&&(Zt.I=sr),Zt.B&&(bc(Zt),Ao(Zt)),Q.g=Ve}else Te(Q);0<F.i.length&&T(F)}else qt[0]!="stop"&&qt[0]!="close"||dn(F,7);else F.G==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?dn(F,7):Ec(F):qt[0]!="noop"&&F.l&&F.l.ta(qt),F.v=0)}}Ci(4)}catch{}}var Qu=class{constructor(g,L){this.g=g,this.map=L}};function Ju(g){this.l=g||10,o.PerformanceNavigationTiming?(g=o.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zu(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function ef(g){return g.h?1:g.g?g.g.size:0}function ha(g,L){return g.h?g.h==L:g.g?g.g.has(L):!1}function No(g,L){g.g?g.g.add(L):g.h=L}function Ed(g,L){g.h&&g.h==L?g.h=null:g.g&&g.g.has(L)&&g.g.delete(L)}Ju.prototype.cancel=function(){if(this.i=nr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function nr(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let L=g.i;for(const F of g.g.values())L=L.concat(F.D);return L}return b(g.i)}function Pd(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(l(g)){for(var L=[],F=g.length,Q=0;Q<F;Q++)L.push(g[Q]);return L}L=[],F=0;for(Q in g)L[F++]=g[Q];return L}function as(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(l(g)||typeof g=="string"){var L=[];g=g.length;for(var F=0;F<g;F++)L.push(F);return L}L=[],F=0;for(const Q in g)L[F++]=Q;return L}}}function hl(g,L){if(g.forEach&&typeof g.forEach=="function")g.forEach(L,void 0);else if(l(g)||typeof g=="string")Array.prototype.forEach.call(g,L,void 0);else for(var F=as(g),Q=Pd(g),ve=Q.length,Ae=0;Ae<ve;Ae++)L.call(void 0,Q[Ae],F&&F[Ae],g)}var tf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(g,L){if(g){g=g.split("&");for(var F=0;F<g.length;F++){var Q=g[F].indexOf("="),ve=null;if(0<=Q){var Ae=g[F].substring(0,Q);ve=g[F].substring(Q+1)}else Ae=g[F];L(Ae,ve?decodeURIComponent(ve.replace(/\+/g," ")):"")}}}function kn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof kn){this.h=g.h,pl(this,g.j),this.o=g.o,this.g=g.g,wc(this,g.s),this.l=g.l;var L=g.i,F=new mi;F.i=L.i,L.g&&(F.g=new Map(L.g),F.h=L.h),Td(this,F),this.m=g.m}else g&&(L=String(g).match(tf))?(this.h=!1,pl(this,L[1]||"",!0),this.o=Eo(L[2]||""),this.g=Eo(L[3]||"",!0),wc(this,L[4]),this.l=Eo(L[5]||"",!0),Td(this,L[6]||"",!0),this.m=Eo(L[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}kn.prototype.toString=function(){var g=[],L=this.j;L&&g.push(ss(L,kd,!0),":");var F=this.g;return(F||L=="file")&&(g.push("//"),(L=this.o)&&g.push(ss(L,kd,!0),"@"),g.push(encodeURIComponent(String(F)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.s,F!=null&&g.push(":",String(F))),(F=this.l)&&(this.g&&F.charAt(0)!="/"&&g.push("/"),g.push(ss(F,F.charAt(0)=="/"?sm:am,!0))),(F=this.i.toString())&&g.push("?",F),(F=this.m)&&g.push("#",ss(F,Cd)),g.join("")};function Wr(g){return new kn(g)}function pl(g,L,F){g.j=F?Eo(L,!0):L,g.j&&(g.j=g.j.replace(/:$/,""))}function wc(g,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);g.s=L}else g.s=null}function Td(g,L,F){L instanceof mi?(g.i=L,om(g.i,g.h)):(F||(L=ss(L,nf)),g.i=new mi(L,g.h))}function Yt(g,L,F){g.i.set(L,F)}function ml(g){return Yt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Eo(g,L){return g?L?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ss(g,L,F){return typeof g=="string"?(g=encodeURI(g).replace(L,gl),F&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function gl(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var kd=/[#\/\?@]/g,am=/[#\?:]/g,sm=/[#\?]/g,nf=/[#\?@]/g,Cd=/#/g;function mi(g,L){this.h=this.g=null,this.i=g||null,this.j=!!L}function os(g){g.g||(g.g=new Map,g.h=0,g.i&&pa(g.i,function(L,F){g.add(decodeURIComponent(L.replace(/\+/g," ")),F)}))}t=mi.prototype,t.add=function(g,L){os(this),this.i=null,g=bt(this,g);var F=this.g.get(g);return F||this.g.set(g,F=[]),F.push(L),this.h+=1,this};function Po(g,L){os(g),L=bt(g,L),g.g.has(L)&&(g.i=null,g.h-=g.g.get(L).length,g.g.delete(L))}function _c(g,L){return os(g),L=bt(g,L),g.g.has(L)}t.forEach=function(g,L){os(this),this.g.forEach(function(F,Q){F.forEach(function(ve){g.call(L,ve,Q,this)},this)},this)},t.na=function(){os(this);const g=Array.from(this.g.values()),L=Array.from(this.g.keys()),F=[];for(let Q=0;Q<L.length;Q++){const ve=g[Q];for(let Ae=0;Ae<ve.length;Ae++)F.push(L[Q])}return F},t.V=function(g){os(this);let L=[];if(typeof g=="string")_c(this,g)&&(L=L.concat(this.g.get(bt(this,g))));else{g=Array.from(this.g.values());for(let F=0;F<g.length;F++)L=L.concat(g[F])}return L},t.set=function(g,L){return os(this),this.i=null,g=bt(this,g),_c(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[L]),this.h+=1,this},t.get=function(g,L){return g?(g=this.V(g),0<g.length?String(g[0]):L):L};function Id(g,L,F){Po(g,L),0<F.length&&(g.i=null,g.g.set(bt(g,L),b(F)),g.h+=F.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],L=Array.from(this.g.keys());for(var F=0;F<L.length;F++){var Q=L[F];const Ae=encodeURIComponent(String(Q)),Ve=this.V(Q);for(Q=0;Q<Ve.length;Q++){var ve=Ae;Ve[Q]!==""&&(ve+="="+encodeURIComponent(String(Ve[Q]))),g.push(ve)}}return this.i=g.join("&")};function bt(g,L){return L=String(L),g.j&&(L=L.toLowerCase()),L}function om(g,L){L&&!g.j&&(os(g),g.i=null,g.g.forEach(function(F,Q){var ve=Q.toLowerCase();Q!=ve&&(Po(this,Q),Id(this,ve,F))},g)),g.j=L}function lm(g,L){const F=new ai;if(o.Image){const Q=new Image;Q.onload=p(oi,F,"TestLoadImage: loaded",!0,L,Q),Q.onerror=p(oi,F,"TestLoadImage: error",!1,L,Q),Q.onabort=p(oi,F,"TestLoadImage: abort",!1,L,Q),Q.ontimeout=p(oi,F,"TestLoadImage: timeout",!1,L,Q),o.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=g}else L(!1)}function cm(g,L){const F=new ai,Q=new AbortController,ve=setTimeout(()=>{Q.abort(),oi(F,"TestPingServer: timeout",!1,L)},1e4);fetch(g,{signal:Q.signal}).then(Ae=>{clearTimeout(ve),Ae.ok?oi(F,"TestPingServer: ok",!0,L):oi(F,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(ve),oi(F,"TestPingServer: error",!1,L)})}function oi(g,L,F,Q,ve){try{ve&&(ve.onload=null,ve.onerror=null,ve.onabort=null,ve.ontimeout=null),Q(F)}catch{}}function Ws(){this.g=new pt}function um(g,L,F){const Q=F||"";try{hl(g,function(ve,Ae){let Ve=ve;c(ve)&&(Ve=Ot(ve)),L.push(Q+Ae+"="+encodeURIComponent(Ve))})}catch(ve){throw L.push(Q+"type="+encodeURIComponent("_badmap")),ve}}function Sc(g){this.l=g.Ub||null,this.j=g.eb||!1}y(Sc,hn),Sc.prototype.g=function(){return new Hs(this.l,this.j)},Sc.prototype.i=function(g){return function(){return g}}({});function Hs(g,L){ct.call(this),this.D=g,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Hs,ct),t=Hs.prototype,t.open=function(g,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=L,this.readyState=1,yl(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(L.body=g),(this.D||o).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ia(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,yl(this)),this.g&&(this.readyState=3,yl(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ac(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ac(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var L=g.value?g.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!g.done}))&&(this.response=this.responseText+=L)}g.done?Ia(this):yl(this),this.readyState==3&&Ac(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,Ia(this))},t.Qa=function(g){this.g&&(this.response=g,Ia(this))},t.ga=function(){this.g&&Ia(this)};function Ia(g){g.readyState=4,g.l=null,g.j=null,g.v=null,yl(g)}t.setRequestHeader=function(g,L){this.u.append(g,L)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],L=this.h.entries();for(var F=L.next();!F.done;)F=F.value,g.push(F[0]+": "+F[1]),F=L.next();return g.join(`\r
`)};function yl(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ls(g){let L="";return O(g,function(F,Q){L+=Q,L+=":",L+=F,L+=`\r
`}),L}function rf(g,L,F){e:{for(Q in F){var Q=!1;break e}Q=!0}Q||(F=ls(F),typeof g=="string"?F!=null&&encodeURIComponent(String(F)):Yt(g,L,F))}function En(g){ct.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(En,ct);var af=/^https?$/i,jd=["POST","PUT"];t=En.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,L,F,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);L=L?L.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ta.g(),this.v=this.o?vt(this.o):vt(ta),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(L,String(g),!0),this.B=!1}catch(Ae){cs(this,Ae);return}if(g=F||"",F=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var ve in Q)F.set(ve,Q[ve]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const Ae of Q.keys())F.set(Ae,Q.get(Ae));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(F.keys()).find(Ae=>Ae.toLowerCase()=="content-type"),ve=o.FormData&&g instanceof o.FormData,!(0<=Array.prototype.indexOf.call(jd,L,void 0))||Q||ve||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ae,Ve]of F)this.g.setRequestHeader(Ae,Ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ko(this),this.u=!0,this.g.send(g),this.u=!1}catch(Ae){cs(this,Ae)}};function cs(g,L){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=L,g.m=5,Nc(g),To(g)}function Nc(g){g.A||(g.A=!0,xt(g,"complete"),xt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,xt(this,"complete"),xt(this,"abort"),To(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),To(this,!0)),En.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vl(this):this.bb())},t.bb=function(){vl(this)};function vl(g){if(g.h&&typeof s<"u"&&(!g.v[1]||na(g)!=4||g.Z()!=2)){if(g.u&&na(g)==4)it(g.Ea,0,g);else if(xt(g,"readystatechange"),na(g)==4){g.h=!1;try{const Ve=g.Z();e:switch(Ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var F;if(!(F=L)){var Q;if(Q=Ve===0){var ve=String(g.D).match(tf)[1]||null;!ve&&o.self&&o.self.location&&(ve=o.self.location.protocol.slice(0,-1)),Q=!af.test(ve?ve.toLowerCase():"")}F=Q}if(F)xt(g,"complete"),xt(g,"success");else{g.m=6;try{var Ae=2<na(g)?g.g.statusText:""}catch{Ae=""}g.l=Ae+" ["+g.Z()+"]",Nc(g)}}finally{To(g)}}}}function To(g,L){if(g.g){ko(g);const F=g.g,Q=g.v[0]?()=>{}:null;g.g=null,g.v=null,L||xt(g,"ready");try{F.onreadystatechange=Q}catch{}}}function ko(g){g.I&&(o.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function na(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<na(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var L=this.g.responseText;return g&&L.indexOf(g)==0&&(L=L.substring(g.length)),Ln(L)}};function sf(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Od(g){const L={};g=(g.g&&2<=na(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<g.length;Q++){if(w(g[Q]))continue;var F=N(g[Q]);const ve=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const Ae=L[ve]||[];L[ve]=Ae,Ae.push(F)}I(L,function(Q){return Q.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ra(g,L,F){return F&&F.internalChannelParams&&F.internalChannelParams[g]||L}function us(g){this.Aa=0,this.i=[],this.j=new ai,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ra("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ra("baseRetryDelayMs",5e3,g),this.cb=ra("retryDelaySeedMs",1e4,g),this.Wa=ra("forwardChannelMaxRetries",2,g),this.wa=ra("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Ju(g&&g.concurrentRequestLimit),this.Da=new Ws,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=us.prototype,t.la=8,t.G=1,t.connect=function(g,L,F,Q){zn(0),this.W=g,this.H=L||{},F&&Q!==void 0&&(this.H.OSID=F,this.H.OAID=Q),this.F=this.X,this.I=yn(this,null,this.W),T(this)};function Ec(g){if(of(g),g.G==3){var L=g.U++,F=Wr(g.I);if(Yt(F,"SID",g.K),Yt(F,"RID",L),Yt(F,"TYPE","terminate"),oe(g,F),L=new Ar(g,g.j,L),L.L=2,L.v=ml(Wr(F)),F=!1,o.navigator&&o.navigator.sendBeacon)try{F=o.navigator.sendBeacon(L.v.toString(),"")}catch{}!F&&o.Image&&(new Image().src=L.v,F=!0),F||(L.g=mr(L.j,null),L.g.ea(L.v)),L.F=Date.now(),Ao(L)}rr(g)}function fs(g){g.g&&(Ge(g),g.g.cancel(),g.g=null)}function of(g){fs(g),g.u&&(o.clearTimeout(g.u),g.u=null),wt(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&o.clearTimeout(g.s),g.s=null)}function T(g){if(!Zu(g.h)&&!g.s){g.s=!0;var L=g.Ga;ie||ue(),X||(ie(),X=!0),ae.add(L,g),g.B=0}}function V(g,L){return ef(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=L.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=ii(h(g.Ga,g,L),Xt(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const ve=new Ar(this,this.j,g);let Ae=this.o;if(this.S&&(Ae?(Ae=E(Ae),M(Ae,this.S)):Ae=this.S),this.m!==null||this.O||(ve.H=Ae,Ae=null),this.P)e:{for(var L=0,F=0;F<this.i.length;F++){t:{var Q=this.i[F];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(L+=Q,4096<L){L=F;break e}if(L===4096||F===this.i.length-1){L=F+1;break e}}L=1e3}else L=1e3;L=ge(this,ve,L),F=Wr(this.I),Yt(F,"RID",g),Yt(F,"CVER",22),this.D&&Yt(F,"X-HTTP-Session-Id",this.D),oe(this,F),Ae&&(this.O?L="headers="+encodeURIComponent(String(ls(Ae)))+"&"+L:this.m&&rf(F,this.m,Ae)),No(this.h,ve),this.Ua&&Yt(F,"TYPE","init"),this.P?(Yt(F,"$req",L),Yt(F,"SID","null"),ve.T=!0,So(ve,F,null)):So(ve,F,L),this.G=2}}else this.G==3&&(g?ee(this,g):this.i.length==0||Zu(this.h)||ee(this))};function ee(g,L){var F;L?F=L.l:F=g.U++;const Q=Wr(g.I);Yt(Q,"SID",g.K),Yt(Q,"RID",F),Yt(Q,"AID",g.T),oe(g,Q),g.m&&g.o&&rf(Q,g.m,g.o),F=new Ar(g,g.j,F,g.B+1),g.m===null&&(F.H=g.o),L&&(g.i=L.D.concat(g.i)),L=ge(g,F,1e3),F.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),No(g.h,F),So(F,Q,L)}function oe(g,L){g.H&&O(g.H,function(F,Q){Yt(L,Q,F)}),g.l&&hl({},function(F,Q){Yt(L,Q,F)})}function ge(g,L,F){F=Math.min(g.i.length,F);var Q=g.l?h(g.l.Na,g.l,g):null;e:{var ve=g.i;let Ae=-1;for(;;){const Ve=["count="+F];Ae==-1?0<F?(Ae=ve[0].g,Ve.push("ofs="+Ae)):Ae=0:Ve.push("ofs="+Ae);let Zt=!0;for(let sr=0;sr<F;sr++){let qt=ve[sr].g;const ln=ve[sr].map;if(qt-=Ae,0>qt)Ae=Math.max(0,ve[sr].g-100),Zt=!1;else try{um(ln,Ve,"req"+qt+"_")}catch{Q&&Q(ln)}}if(Zt){Q=Ve.join("&");break e}}}return g=g.i.splice(0,F),L.D=g,Q}function Te(g){if(!g.g&&!g.u){g.Y=1;var L=g.Fa;ie||ue(),X||(ie(),X=!0),ae.add(L,g),g.v=0}}function Re(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=ii(h(g.Fa,g),Xt(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,at(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=ii(h(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zn(10),fs(this),at(this))};function Ge(g){g.A!=null&&(o.clearTimeout(g.A),g.A=null)}function at(g){g.g=new Ar(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var L=Wr(g.qa);Yt(L,"RID","rpc"),Yt(L,"SID",g.K),Yt(L,"AID",g.T),Yt(L,"CI",g.F?"0":"1"),!g.F&&g.ja&&Yt(L,"TO",g.ja),Yt(L,"TYPE","xmlhttp"),oe(g,L),g.m&&g.o&&rf(L,g.m,g.o),g.L&&(g.g.I=g.L);var F=g.g;g=g.ia,F.L=1,F.v=ml(Wr(L)),F.m=null,F.P=!0,fl(F,g)}t.Za=function(){this.C!=null&&(this.C=null,fs(this),Re(this),zn(19))};function wt(g){g.C!=null&&(o.clearTimeout(g.C),g.C=null)}function kt(g,L){var F=null;if(g.g==L){wt(g),Ge(g),g.g=null;var Q=2}else if(ha(g.h,L))F=L.D,Ed(g.h,L),Q=1;else return;if(g.G!=0){if(L.o)if(Q==1){F=L.m?L.m.length:0,L=Date.now()-L.F;var ve=g.B;Q=Sr(),xt(Q,new is(Q,F)),T(g)}else Te(g);else if(ve=L.s,ve==3||ve==0&&0<L.X||!(Q==1&&V(g,L)||Q==2&&Re(g)))switch(F&&0<F.length&&(L=g.h,L.i=L.i.concat(F)),ve){case 1:dn(g,5);break;case 4:dn(g,10);break;case 3:dn(g,6);break;default:dn(g,2)}}}function Xt(g,L){let F=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(F*=2),F*L}function dn(g,L){if(g.j.info("Error code "+L),L==2){var F=h(g.fb,g),Q=g.Xa;const ve=!Q;Q=new kn(Q||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||pl(Q,"https"),ml(Q),ve?lm(Q.toString(),F):cm(Q.toString(),F)}else zn(2);g.G=0,g.l&&g.l.sa(L),rr(g),of(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),zn(2)):(this.j.info("Failed to ping google.com"),zn(1))};function rr(g){if(g.G=0,g.ka=[],g.l){const L=nr(g.h);(L.length!=0||g.i.length!=0)&&(x(g.ka,L),x(g.ka,g.i),g.h.i.length=0,b(g.i),g.i.length=0),g.l.ra()}}function yn(g,L,F){var Q=F instanceof kn?Wr(F):new kn(F);if(Q.g!="")L&&(Q.g=L+"."+Q.g),wc(Q,Q.s);else{var ve=o.location;Q=ve.protocol,L=L?L+"."+ve.hostname:ve.hostname,ve=+ve.port;var Ae=new kn(null);Q&&pl(Ae,Q),L&&(Ae.g=L),ve&&wc(Ae,ve),F&&(Ae.l=F),Q=Ae}return F=g.D,L=g.ya,F&&L&&Yt(Q,F,L),Yt(Q,"VER",g.la),oe(g,Q),Q}function mr(g,L,F){if(L&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return L=g.Ca&&!g.pa?new En(new Sc({eb:F})):new En(g.pa),L.Ha(g.J),L}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ir(){}t=ir.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function gr(){}gr.prototype.g=function(g,L){return new ar(g,L)};function ar(g,L){ct.call(this),this.g=new us(L),this.l=g,this.h=L&&L.messageUrlParams||null,g=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(g?g["X-WebChannel-Content-Type"]=L.messageContentType:g={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(g?g["X-WebChannel-Client-Profile"]=L.va:g={"X-WebChannel-Client-Profile":L.va}),this.g.S=g,(g=L&&L.Sb)&&!w(g)&&(this.g.m=g),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!w(L)&&(this.g.D=L,g=this.h,g!==null&&L in g&&(g=this.h,L in g&&delete g[L])),this.j=new hs(this)}y(ar,ct),ar.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ar.prototype.close=function(){Ec(this.g)},ar.prototype.o=function(g){var L=this.g;if(typeof g=="string"){var F={};F.__data__=g,g=F}else this.u&&(F={},F.__data__=Ot(g),g=F);L.i.push(new Qu(L.Ya++,g)),L.G==3&&T(L)},ar.prototype.N=function(){this.g.l=null,delete this.j,Ec(this.g),delete this.g,ar.aa.N.call(this)};function ma(g){Ft.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var L=g.__sm__;if(L){e:{for(const F in L){g=F;break e}g=void 0}(this.i=g)&&(g=this.i,L=L!==null&&g in L?L[g]:void 0),this.data=L}else this.data=g}y(ma,Ft);function ds(){mt.call(this),this.status=1}y(ds,mt);function hs(g){this.g=g}y(hs,ir),hs.prototype.ua=function(){xt(this.g,"a")},hs.prototype.ta=function(g){xt(this.g,new ma(g))},hs.prototype.sa=function(g){xt(this.g,new ds)},hs.prototype.ra=function(){xt(this.g,"b")},gr.prototype.createWebChannel=gr.prototype.g,ar.prototype.send=ar.prototype.o,ar.prototype.open=ar.prototype.m,ar.prototype.close=ar.prototype.close,e$=function(){return new gr},ZF=function(){return Sr()},JF=zt,lA={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ii.NO_ERROR=0,Ii.TIMEOUT=8,Ii.HTTP_ERROR=6,A1=Ii,Ta.COMPLETE="complete",QF=Ta,Et.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",ct.prototype.listen=ct.prototype.K,rg=Et,En.prototype.listenOnce=En.prototype.L,En.prototype.getLastError=En.prototype.Ka,En.prototype.getLastErrorCode=En.prototype.Ba,En.prototype.getStatus=En.prototype.Z,En.prototype.getResponseJson=En.prototype.Oa,En.prototype.getResponseText=En.prototype.oa,En.prototype.send=En.prototype.ea,En.prototype.setWithCredentials=En.prototype.Ha,XF=En}).apply(typeof P0<"u"?P0:typeof self<"u"?self:typeof window<"u"?window:{});const aI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wi.UNAUTHENTICATED=new Wi(null),Wi.GOOGLE_CREDENTIALS=new Wi("google-credentials-uid"),Wi.FIRST_PARTY=new Wi("first-party-uid"),Wi.MOCK_USER=new Wi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mp="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=new EP("@firebase/firestore");function Om(){return Jf.logLevel}function st(t,...e){if(Jf.logLevel<=tn.DEBUG){const n=e.map(FP);Jf.debug(`Firestore (${Mp}): ${t}`,...n)}}function tc(t,...e){if(Jf.logLevel<=tn.ERROR){const n=e.map(FP);Jf.error(`Firestore (${Mp}): ${t}`,...n)}}function Xh(t,...e){if(Jf.logLevel<=tn.WARN){const n=e.map(FP);Jf.warn(`Firestore (${Mp}): ${t}`,...n)}}function FP(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t="Unexpected state"){const e=`FIRESTORE (${Mp}) INTERNAL ASSERTION FAILED: `+t;throw tc(e),new Error(e)}function An(t,e){t||Pt()}function jt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class We extends hc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ote{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wi.UNAUTHENTICATED))}shutdown(){}}class lte{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cte{constructor(e){this.t=e,this.currentUser=Wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){An(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Ul;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ul,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ul)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(An(typeof r.accessToken=="string"),new t$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return An(e===null||typeof e=="string"),new Wi(e)}}class ute{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Wi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fte{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ute(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dte{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hte{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){An(this.o===void 0);const r=a=>{a.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,st("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(An(typeof n.token=="string"),this.R=n.token,new dte(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pte(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=pte(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function cn(t,e){return t<e?-1:t>e?1:0}function Qh(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new We(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new We(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new We(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new We(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vn.fromMillis(Date.now())}static fromDate(e){return Vn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Vn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?cn(this.nanoseconds,e.nanoseconds):cn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new Vn(0,0))}static max(){return new It(new Vn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n,r){n===void 0?n=0:n>e.length&&Pt(),r===void 0?r=e.length-n:r>e.length-n&&Pt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ay.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ay?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),s=n.get(i);if(a<s)return-1;if(a>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class $n extends ay{construct(e,n,r){return new $n(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new We(Oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new $n(n)}static emptyPath(){return new $n([])}}const mte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ai extends ay{construct(e,n,r){return new Ai(e,n,r)}static isValidIdentifier(e){return mte.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ai.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ai(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new We(Oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new We(Oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new We(Oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new We(Oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ai(n)}static emptyPath(){return new Ai([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt($n.fromString(e))}static fromName(e){return new gt($n.fromString(e).popFirst(5))}static empty(){return new gt($n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$n.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $n.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new $n(e.slice()))}}function gte(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=It.fromTimestamp(r===1e9?new Vn(n+1,0):new Vn(n,r));return new Tu(i,gt.empty(),e)}function yte(t){return new Tu(t.readTime,t.key,-1)}class Tu{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Tu(It.min(),gt.empty(),-1)}static max(){return new Tu(It.max(),gt.empty(),-1)}}function vte(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=gt.comparator(t.documentKey,e.documentKey),n!==0?n:cn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gv(t){if(t.code!==Oe.FAILED_PRECONDITION||t.message!==bte)throw t;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new De((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof De?n:De.resolve(n)}catch(n){return De.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):De.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):De.reject(n)}static resolve(e){return new De((n,r)=>{n(e)})}static reject(e){return new De((n,r)=>{r(e)})}static waitFor(e){return new De((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(e){let n=De.resolve(!1);for(const r of e)n=n.next(i=>i?De.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new De((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++o,o===a&&r(s)},u=>i(u))}})}static doWhile(e,n){return new De((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function wte(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yv(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}$P.oe=-1;function mx(t){return t==null}function wb(t){return t===0&&1/t==-1/0}function _te(t){return typeof t=="number"&&Number.isInteger(t)&&!wb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pd(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function r$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n){this.comparator=e,this.root=n||Si.EMPTY}insert(e,n){return new pr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Si.BLACK,null,null))}remove(e){return new pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Si.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new T0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new T0(this.root,e,this.comparator,!1)}getReverseIterator(){return new T0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new T0(this.root,e,this.comparator,!0)}}class T0{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Si{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Si.RED,this.left=i??Si.EMPTY,this.right=a??Si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Si(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Si.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pt();const e=this.left.check();if(e!==this.right.check())throw Pt();return e+(this.isRed()?0:1)}}Si.EMPTY=null,Si.RED=!0,Si.BLACK=!1;Si.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt()}get value(){throw Pt()}get color(){throw Pt()}get left(){throw Pt()}get right(){throw Pt()}copy(e,n,r,i,a){return this}insert(e,n,r){return new Si(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.comparator=e,this.data=new pr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new oI(this.data.getIterator())}getIteratorFrom(e){return new oI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pi)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pi(this.comparator);return n.data=e,n}}class oI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this.fields=e,e.sort(Ai.comparator)}static empty(){return new Ga([])}unionWith(e){let n=new Pi(Ai.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ga(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new i$("Invalid base64 string: "+a):a}}(e);return new ki(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new ki(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return cn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ki.EMPTY_BYTE_STRING=new ki("");const Ste=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ku(t){if(An(!!t),typeof t=="string"){let e=0;const n=Ste.exec(t);if(An(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ir(t.seconds),nanos:Ir(t.nanos)}}function Ir(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zf(t){return typeof t=="string"?ki.fromBase64String(t):ki.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function VP(t){const e=t.mapValue.fields.__previous_value__;return BP(e)?VP(e):e}function sy(t){const e=ku(t.mapValue.fields.__local_write_time__.timestampValue);return new Vn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ate{constructor(e,n,r,i,a,s,o,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c}}class oy{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new oy("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof oy&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0={mapValue:{}};function ed(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?BP(t)?4:Ete(t)?9007199254740991:Nte(t)?10:11:Pt()}function tl(t,e){if(t===e)return!0;const n=ed(t);if(n!==ed(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sy(t).isEqual(sy(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=ku(i.timestampValue),o=ku(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Zf(i.bytesValue).isEqual(Zf(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Ir(i.geoPointValue.latitude)===Ir(a.geoPointValue.latitude)&&Ir(i.geoPointValue.longitude)===Ir(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Ir(i.integerValue)===Ir(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Ir(i.doubleValue),o=Ir(a.doubleValue);return s===o?wb(s)===wb(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Qh(t.arrayValue.values||[],e.arrayValue.values||[],tl);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(sI(s)!==sI(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!tl(s[l],o[l])))return!1;return!0}(t,e);default:return Pt()}}function ly(t,e){return(t.values||[]).find(n=>tl(n,e))!==void 0}function Jh(t,e){if(t===e)return 0;const n=ed(t),r=ed(e);if(n!==r)return cn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return cn(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=Ir(a.integerValue||a.doubleValue),l=Ir(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return lI(t.timestampValue,e.timestampValue);case 4:return lI(sy(t),sy(e));case 5:return cn(t.stringValue,e.stringValue);case 6:return function(a,s){const o=Zf(a),l=Zf(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=cn(o[c],l[c]);if(u!==0)return u}return cn(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=cn(Ir(a.latitude),Ir(s.latitude));return o!==0?o:cn(Ir(a.longitude),Ir(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return cI(t.arrayValue,e.arrayValue);case 10:return function(a,s){var o,l,c,u;const f=a.fields||{},h=s.fields||{},p=(o=f.value)===null||o===void 0?void 0:o.arrayValue,y=(l=h.value)===null||l===void 0?void 0:l.arrayValue,b=cn(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0);return b!==0?b:cI(p,y)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===k0.mapValue&&s===k0.mapValue)return 0;if(a===k0.mapValue)return 1;if(s===k0.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=cn(l[f],u[f]);if(h!==0)return h;const p=Jh(o[l[f]],c[u[f]]);if(p!==0)return p}return cn(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Pt()}}function lI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return cn(t,e);const n=ku(t),r=ku(e),i=cn(n.seconds,r.seconds);return i!==0?i:cn(n.nanos,r.nanos)}function cI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Jh(n[i],r[i]);if(a)return a}return cn(n.length,r.length)}function Zh(t){return cA(t)}function cA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ku(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Zf(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return gt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=cA(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${cA(n.fields[s])}`;return i+"}"}(t.mapValue):Pt()}function uI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function uA(t){return!!t&&"integerValue"in t}function UP(t){return!!t&&"arrayValue"in t}function fI(t){return!!t&&"nullValue"in t}function dI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function N1(t){return!!t&&"mapValue"in t}function Nte(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function _g(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return pd(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_g(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_g(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ete(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.value=e}static empty(){return new ba({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!N1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_g(n)}setAll(e){let n=Ai.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=_g(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());N1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return tl(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];N1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){pd(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ba(_g(this.value))}}function a$(t){const e=[];return pd(t.fields,(n,r)=>{const i=new Ai([n]);if(N1(r)){const a=a$(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Ga(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Gi(e,0,It.min(),It.min(),It.min(),ba.empty(),0)}static newFoundDocument(e,n,r,i){return new Gi(e,1,n,It.min(),r,i,0)}static newNoDocument(e,n){return new Gi(e,2,n,It.min(),It.min(),ba.empty(),0)}static newUnknownDocument(e,n){return new Gi(e,3,n,It.min(),It.min(),ba.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ba.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ba.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,n){this.position=e,this.inclusive=n}}function hI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=gt.comparator(gt.fromName(s.referenceValue),n.key):r=Jh(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function pI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!tl(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n="asc"){this.field=e,this.dir=n}}function Pte(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${}class Vr extends s${constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new kte(e,n,r):n==="array-contains"?new jte(e,r):n==="in"?new Ote(e,r):n==="not-in"?new Rte(e,r):n==="array-contains-any"?new Lte(e,r):new Vr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Cte(e,r):new Ite(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Jh(n,this.value)):n!==null&&ed(this.value)===ed(n)&&this.matchesComparison(Jh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ho extends s${constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ho(e,n)}matches(e){return o$(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function o$(t){return t.op==="and"}function l$(t){return Tte(t)&&o$(t)}function Tte(t){for(const e of t.filters)if(e instanceof ho)return!1;return!0}function fA(t){if(t instanceof Vr)return t.field.canonicalString()+t.op.toString()+Zh(t.value);if(l$(t))return t.filters.map(e=>fA(e)).join(",");{const e=t.filters.map(n=>fA(n)).join(",");return`${t.op}(${e})`}}function c$(t,e){return t instanceof Vr?function(r,i){return i instanceof Vr&&r.op===i.op&&r.field.isEqual(i.field)&&tl(r.value,i.value)}(t,e):t instanceof ho?function(r,i){return i instanceof ho&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&c$(s,i.filters[o]),!0):!1}(t,e):void Pt()}function u$(t){return t instanceof Vr?function(n){return`${n.field.canonicalString()} ${n.op} ${Zh(n.value)}`}(t):t instanceof ho?function(n){return n.op.toString()+" {"+n.getFilters().map(u$).join(" ,")+"}"}(t):"Filter"}class kte extends Vr{constructor(e,n,r){super(e,n,r),this.key=gt.fromName(r.referenceValue)}matches(e){const n=gt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Cte extends Vr{constructor(e,n){super(e,"in",n),this.keys=f$("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ite extends Vr{constructor(e,n){super(e,"not-in",n),this.keys=f$("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function f$(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>gt.fromName(r.referenceValue))}class jte extends Vr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return UP(n)&&ly(n.arrayValue,this.value)}}class Ote extends Vr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ly(this.value.arrayValue,n)}}class Rte extends Vr{constructor(e,n){super(e,"not-in",n)}matches(e){if(ly(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ly(this.value.arrayValue,n)}}class Lte extends Vr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!UP(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ly(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mte{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.ue=null}}function mI(t,e=null,n=[],r=[],i=null,a=null,s=null){return new Mte(t,e,n,r,i,a,s)}function zP(t){const e=jt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fA(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),mx(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zh(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zh(r)).join(",")),e.ue=n}return e.ue}function qP(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Pte(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!c$(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pI(t.startAt,e.startAt)&&pI(t.endAt,e.endAt)}function dA(t){return gt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Dte(t,e,n,r,i,a,s,o){return new md(t,e,n,r,i,a,s,o)}function gx(t){return new md(t)}function gI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function d$(t){return t.collectionGroup!==null}function Sg(t){const e=jt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Pi(Ai.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new cy(a,r))}),n.has(Ai.keyField().canonicalString())||e.ce.push(new cy(Ai.keyField(),r))}return e.ce}function Yo(t){const e=jt(t);return e.le||(e.le=Fte(e,Sg(t))),e.le}function Fte(t,e){if(t.limitType==="F")return mI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new cy(i.field,a)});const n=t.endAt?new _b(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _b(t.startAt.position,t.startAt.inclusive):null;return mI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function hA(t,e){const n=t.filters.concat([e]);return new md(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function pA(t,e,n){return new md(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yx(t,e){return qP(Yo(t),Yo(e))&&t.limitType===e.limitType}function h$(t){return`${zP(Yo(t))}|lt:${t.limitType}`}function Gd(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>u$(i)).join(", ")}]`),mx(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Zh(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Zh(i)).join(",")),`Target(${r})`}(Yo(t))}; limitType=${t.limitType})`}function vx(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):gt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Sg(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,l){const c=hI(s,o,l);return s.inclusive?c<=0:c<0}(r.startAt,Sg(r),i)||r.endAt&&!function(s,o,l){const c=hI(s,o,l);return s.inclusive?c>=0:c>0}(r.endAt,Sg(r),i))}(t,e)}function $te(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function p$(t){return(e,n)=>{let r=!1;for(const i of Sg(t)){const a=Bte(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function Bte(t,e,n){const r=t.field.isKeyField()?gt.comparator(e.key,n.key):function(a,s,o){const l=s.data.field(a),c=o.data.field(a);return l!==null&&c!==null?Jh(l,c):Pt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pd(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return r$(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vte=new pr(gt.comparator);function nc(){return Vte}const m$=new pr(gt.comparator);function ig(...t){let e=m$;for(const n of t)e=e.insert(n.key,n);return e}function g$(t){let e=m$;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function kf(){return Ag()}function y$(){return Ag()}function Ag(){return new Dp(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ute=new pr(gt.comparator),zte=new Pi(gt.comparator);function Qt(...t){let e=zte;for(const n of t)e=e.add(n);return e}const qte=new Pi(cn);function Wte(){return qte}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wb(e)?"-0":e}}function v$(t){return{integerValue:""+t}}function Hte(t,e){return _te(e)?v$(e):WP(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(){this._=void 0}}function Gte(t,e,n){return t instanceof uy?function(i,a){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&BP(a)&&(a=VP(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}}(n,e):t instanceof fy?x$(t,e):t instanceof dy?w$(t,e):function(i,a){const s=b$(i,a),o=yI(s)+yI(i.Pe);return uA(s)&&uA(i.Pe)?v$(o):WP(i.serializer,o)}(t,e)}function Kte(t,e,n){return t instanceof fy?x$(t,e):t instanceof dy?w$(t,e):n}function b$(t,e){return t instanceof Sb?function(r){return uA(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class uy extends bx{}class fy extends bx{constructor(e){super(),this.elements=e}}function x$(t,e){const n=_$(e);for(const r of t.elements)n.some(i=>tl(i,r))||n.push(r);return{arrayValue:{values:n}}}class dy extends bx{constructor(e){super(),this.elements=e}}function w$(t,e){let n=_$(e);for(const r of t.elements)n=n.filter(i=>!tl(i,r));return{arrayValue:{values:n}}}class Sb extends bx{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function yI(t){return Ir(t.integerValue||t.doubleValue)}function _$(t){return UP(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yte{constructor(e,n){this.field=e,this.transform=n}}function Xte(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof fy&&i instanceof fy||r instanceof dy&&i instanceof dy?Qh(r.elements,i.elements,tl):r instanceof Sb&&i instanceof Sb?tl(r.Pe,i.Pe):r instanceof uy&&i instanceof uy}(t.transform,e.transform)}class Qte{constructor(e,n){this.version=e,this.transformResults=n}}class Ts{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ts}static exists(e){return new Ts(void 0,e)}static updateTime(e){return new Ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function E1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class xx{}function S$(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new HP(t.key,Ts.none()):new vv(t.key,t.data,Ts.none());{const n=t.data,r=ba.empty();let i=new Pi(Ai.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new Uu(t.key,r,new Ga(i.toArray()),Ts.none())}}function Jte(t,e,n){t instanceof vv?function(i,a,s){const o=i.value.clone(),l=bI(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Uu?function(i,a,s){if(!E1(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=bI(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(A$(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ng(t,e,n,r){return t instanceof vv?function(a,s,o,l){if(!E1(a.precondition,s))return o;const c=a.value.clone(),u=xI(a.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Uu?function(a,s,o,l){if(!E1(a.precondition,s))return o;const c=xI(a.fieldTransforms,l,s),u=s.data;return u.setAll(A$(a)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(a,s,o){return E1(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function Zte(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=b$(r.transform,i||null);a!=null&&(n===null&&(n=ba.empty()),n.set(r.field,a))}return n||null}function vI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qh(r,i,(a,s)=>Xte(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class vv extends xx{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Uu extends xx{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function A$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function bI(t,e,n){const r=new Map;An(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,Kte(s,o,n[i]))}return r}function xI(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,Gte(a,s,e))}return r}class HP extends xx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ene extends xx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tne{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Jte(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ng(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ng(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=y$();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=S$(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(It.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qt())}isEqual(e){return this.batchId===e.batchId&&Qh(this.mutations,e.mutations,(n,r)=>vI(n,r))&&Qh(this.baseMutations,e.baseMutations,(n,r)=>vI(n,r))}}class GP{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){An(e.mutations.length===r.length);let i=function(){return Ute}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new GP(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rne{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fr,rn;function ine(t){switch(t){default:return Pt();case Oe.CANCELLED:case Oe.UNKNOWN:case Oe.DEADLINE_EXCEEDED:case Oe.RESOURCE_EXHAUSTED:case Oe.INTERNAL:case Oe.UNAVAILABLE:case Oe.UNAUTHENTICATED:return!1;case Oe.INVALID_ARGUMENT:case Oe.NOT_FOUND:case Oe.ALREADY_EXISTS:case Oe.PERMISSION_DENIED:case Oe.FAILED_PRECONDITION:case Oe.ABORTED:case Oe.OUT_OF_RANGE:case Oe.UNIMPLEMENTED:case Oe.DATA_LOSS:return!0}}function N$(t){if(t===void 0)return tc("GRPC error has no .code"),Oe.UNKNOWN;switch(t){case Fr.OK:return Oe.OK;case Fr.CANCELLED:return Oe.CANCELLED;case Fr.UNKNOWN:return Oe.UNKNOWN;case Fr.DEADLINE_EXCEEDED:return Oe.DEADLINE_EXCEEDED;case Fr.RESOURCE_EXHAUSTED:return Oe.RESOURCE_EXHAUSTED;case Fr.INTERNAL:return Oe.INTERNAL;case Fr.UNAVAILABLE:return Oe.UNAVAILABLE;case Fr.UNAUTHENTICATED:return Oe.UNAUTHENTICATED;case Fr.INVALID_ARGUMENT:return Oe.INVALID_ARGUMENT;case Fr.NOT_FOUND:return Oe.NOT_FOUND;case Fr.ALREADY_EXISTS:return Oe.ALREADY_EXISTS;case Fr.PERMISSION_DENIED:return Oe.PERMISSION_DENIED;case Fr.FAILED_PRECONDITION:return Oe.FAILED_PRECONDITION;case Fr.ABORTED:return Oe.ABORTED;case Fr.OUT_OF_RANGE:return Oe.OUT_OF_RANGE;case Fr.UNIMPLEMENTED:return Oe.UNIMPLEMENTED;case Fr.DATA_LOSS:return Oe.DATA_LOSS;default:return Pt()}}(rn=Fr||(Fr={}))[rn.OK=0]="OK",rn[rn.CANCELLED=1]="CANCELLED",rn[rn.UNKNOWN=2]="UNKNOWN",rn[rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rn[rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rn[rn.NOT_FOUND=5]="NOT_FOUND",rn[rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",rn[rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",rn[rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",rn[rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rn[rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rn[rn.ABORTED=10]="ABORTED",rn[rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",rn[rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",rn[rn.INTERNAL=13]="INTERNAL",rn[rn.UNAVAILABLE=14]="UNAVAILABLE",rn[rn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ane(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sne=new Ff([4294967295,4294967295],0);function wI(t){const e=ane().encode(t),n=new YF;return n.update(e),new Uint8Array(n.digest())}function _I(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ff([n,r],0),new Ff([i,a],0)]}class KP{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ag(`Invalid padding: ${n}`);if(r<0)throw new ag(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ag(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ag(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ff.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ff.fromNumber(r)));return i.compare(sne)===1&&(i=new Ff([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=wI(e),[r,i]=_I(n);for(let a=0;a<this.hashCount;a++){const s=this.Ee(r,i,a);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new KP(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.Ie===0)return;const n=wI(e),[r,i]=_I(n);for(let a=0;a<this.hashCount;a++){const s=this.Ee(r,i,a);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ag extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,bv.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wx(It.min(),i,new pr(cn),nc(),Qt())}}class bv{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bv(r,n,Qt(),Qt(),Qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class E${constructor(e,n){this.targetId=e,this.me=n}}class P${constructor(e,n,r=ki.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class SI{constructor(){this.fe=0,this.ge=NI(),this.pe=ki.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Qt(),n=Qt(),r=Qt();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Pt()}}),new bv(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=NI()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,An(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class one{constructor(e){this.Le=e,this.Be=new Map,this.ke=nc(),this.qe=AI(),this.Qe=new pr(cn)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Pt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const a=i.target;if(dA(a))if(r===0){const s=new gt(a.path);this.Ue(n,s,Gi.newNoDocument(s,It.min()))}else An(r===1);else{const s=this.Ye(n);if(s!==r){const o=this.Ze(e),l=o?this.Xe(o,e,s):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=Zf(r).toUint8Array()}catch(l){if(l instanceof i$)return Xh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new KP(s,i,a)}catch(l){return Xh(l instanceof ag?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Le.tt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.Ue(n,a,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((a,s)=>{const o=this.Je(s);if(o){if(a.current&&dA(o.target)){const l=new gt(o.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Gi.newNoDocument(l,e))}a.be&&(n.set(s,a.ve()),a.Ce())}});let r=Qt();this.qe.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.ke.forEach((a,s)=>s.setReadTime(e));const i=new wx(e,n,this.Qe,this.ke,r);return this.ke=nc(),this.qe=AI(),this.Qe=new pr(cn),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new SI,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Pi(cn),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||st("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new SI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function AI(){return new pr(gt.comparator)}function NI(){return new pr(gt.comparator)}const lne={asc:"ASCENDING",desc:"DESCENDING"},cne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},une={and:"AND",or:"OR"};class fne{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mA(t,e){return t.useProto3Json||mx(e)?e:{value:e}}function Ab(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function T$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dne(t,e){return Ab(t,e.toTimestamp())}function Xo(t){return An(!!t),It.fromTimestamp(function(n){const r=ku(n);return new Vn(r.seconds,r.nanos)}(t))}function YP(t,e){return gA(t,e).canonicalString()}function gA(t,e){const n=function(i){return new $n(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function k$(t){const e=$n.fromString(t);return An(R$(e)),e}function yA(t,e){return YP(t.databaseId,e.path)}function C5(t,e){const n=k$(e);if(n.get(1)!==t.databaseId.projectId)throw new We(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new We(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new gt(I$(n))}function C$(t,e){return YP(t.databaseId,e)}function hne(t){const e=k$(t);return e.length===4?$n.emptyPath():I$(e)}function vA(t){return new $n(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function I$(t){return An(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function EI(t,e,n){return{name:yA(t,e),fields:n.value.mapValue.fields}}function pne(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Pt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(An(u===void 0||typeof u=="string"),ki.fromBase64String(u||"")):(An(u===void 0||u instanceof Buffer||u instanceof Uint8Array),ki.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(c){const u=c.code===void 0?Oe.UNKNOWN:N$(c.code);return new We(u,c.message||"")}(s);n=new P$(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=C5(t,r.document.name),a=Xo(r.document.updateTime),s=r.document.createTime?Xo(r.document.createTime):It.min(),o=new ba({mapValue:{fields:r.document.fields}}),l=Gi.newFoundDocument(i,a,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new P1(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=C5(t,r.document),a=r.readTime?Xo(r.readTime):It.min(),s=Gi.newNoDocument(i,a),o=r.removedTargetIds||[];n=new P1([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=C5(t,r.document),a=r.removedTargetIds||[];n=new P1([],a,i,null)}else{if(!("filter"in e))return Pt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new rne(i,a),o=r.targetId;n=new E$(o,s)}}return n}function mne(t,e){let n;if(e instanceof vv)n={update:EI(t,e.key,e.value)};else if(e instanceof HP)n={delete:yA(t,e.key)};else if(e instanceof Uu)n={update:EI(t,e.key,e.data),updateMask:Ane(e.fieldMask)};else{if(!(e instanceof ene))return Pt();n={verify:yA(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof uy)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof fy)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof dy)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Sb)return{fieldPath:s.field.canonicalString(),increment:o.Pe};throw Pt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:dne(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Pt()}(t,e.precondition)),n}function gne(t,e){return t&&t.length>0?(An(e!==void 0),t.map(n=>function(i,a){let s=i.updateTime?Xo(i.updateTime):Xo(a);return s.isEqual(It.min())&&(s=Xo(a)),new Qte(s,i.transformResults||[])}(n,e))):[]}function yne(t,e){return{documents:[C$(t,e.path)]}}function vne(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=C$(t,i);const a=function(c){if(c.length!==0)return O$(ho.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Kd(h.field),direction:wne(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=mA(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function bne(t){let e=hne(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){An(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];n.where&&(a=function(f){const h=j$(f);return h instanceof ho&&l$(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(y){return new cy(Yd(y.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let o=null;n.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,mx(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new _b(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new _b(p,h)}(n.endAt)),Dte(e,i,s,a,o,"F",l,c)}function xne(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function j$(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yd(n.unaryFilter.field);return Vr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Yd(n.unaryFilter.field);return Vr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Yd(n.unaryFilter.field);return Vr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Yd(n.unaryFilter.field);return Vr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Pt()}}(t):t.fieldFilter!==void 0?function(n){return Vr.create(Yd(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ho.create(n.compositeFilter.filters.map(r=>j$(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Pt()}}(n.compositeFilter.op))}(t):Pt()}function wne(t){return lne[t]}function _ne(t){return cne[t]}function Sne(t){return une[t]}function Kd(t){return{fieldPath:t.canonicalString()}}function Yd(t){return Ai.fromServerFormat(t.fieldPath)}function O$(t){return t instanceof Vr?function(n){if(n.op==="=="){if(dI(n.value))return{unaryFilter:{field:Kd(n.field),op:"IS_NAN"}};if(fI(n.value))return{unaryFilter:{field:Kd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dI(n.value))return{unaryFilter:{field:Kd(n.field),op:"IS_NOT_NAN"}};if(fI(n.value))return{unaryFilter:{field:Kd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kd(n.field),op:_ne(n.op),value:n.value}}}(t):t instanceof ho?function(n){const r=n.getFilters().map(i=>O$(i));return r.length===1?r[0]:{compositeFilter:{op:Sne(n.op),filters:r}}}(t):Pt()}function Ane(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function R$(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n,r,i,a=It.min(),s=It.min(),o=ki.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new ou(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ou(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ou(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ou(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nne{constructor(e){this.ct=e}}function Ene(t){const e=bne({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pA(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pne{constructor(){this.un=new Tne}addToCollectionParentIndex(e,n){return this.un.add(n),De.resolve()}getCollectionParents(e,n){return De.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return De.resolve()}deleteFieldIndex(e,n){return De.resolve()}deleteAllFieldIndexes(e){return De.resolve()}createTargetIndexes(e,n){return De.resolve()}getDocumentsMatchingTarget(e,n){return De.resolve(null)}getIndexType(e,n){return De.resolve(0)}getFieldIndexes(e,n){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}getMinOffset(e,n){return De.resolve(Tu.min())}getMinOffsetFromCollectionGroup(e,n){return De.resolve(Tu.min())}updateCollectionGroup(e,n,r){return De.resolve()}updateIndexEntries(e,n){return De.resolve()}}class Tne{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pi($n.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pi($n.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ep(0)}static kn(){return new ep(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kne{constructor(){this.changes=new Dp(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?De.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cne{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ine{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ng(r.mutation,i,Ga.empty(),Vn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qt()){const i=kf();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=ig();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=kf();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qt()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=nc();const s=Ag(),o=function(){return Ag()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Uu)?a=a.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Ng(u.mutation,c,u.mutation.getFieldMask(),Vn.now())):s.set(c.key,Ga.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>{var f;return o.set(c,new Cne(u,(f=s.get(c))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(e,n){const r=Ag();let i=new pr((s,o)=>s-o),a=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Ga.empty();u=o.applyToLocalView(c,u),r.set(l,u);const f=(i.get(o.batchId)||Qt()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=y$();u.forEach(h=>{if(!a.has(h)){const p=S$(n.get(h),r.get(h));p!==null&&f.set(h,p),a=a.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return De.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):d$(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):De.resolve(kf());let o=-1,l=a;return s.next(c=>De.forEach(c,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),a.get(u)?De.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,Qt())).next(u=>({batchId:o,changes:g$(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new gt(n)).next(r=>{let i=ig();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=ig();return this.indexManager.getCollectionParents(e,a).next(o=>De.forEach(o,l=>{const c=function(f,h){return new md(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Gi.newInvalidDocument(u)))});let o=ig();return s.forEach((l,c)=>{const u=a.get(l);u!==void 0&&Ng(u.mutation,c,Ga.empty(),Vn.now()),vx(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jne{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return De.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Xo(i.createTime)}}(n)),De.resolve()}getNamedQuery(e,n){return De.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Ene(i.bundledQuery),readTime:Xo(i.readTime)}}(n)),De.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class One{constructor(){this.overlays=new pr(gt.comparator),this.Ir=new Map}getOverlay(e,n){return De.resolve(this.overlays.get(n))}getOverlays(e,n){const r=kf();return De.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.ht(e,n,a)}),De.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),De.resolve()}getOverlaysForCollection(e,n,r){const i=kf(),a=n.length+1,s=new gt(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return De.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new pr((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=a.get(c.largestBatchId);u===null&&(u=kf(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=kf(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=i)););return De.resolve(o)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new nne(n,r));let a=this.Ir.get(n);a===void 0&&(a=Qt(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rne{constructor(){this.sessionToken=ki.EMPTY_BYTE_STRING}getSessionToken(e){return De.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,De.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(){this.Tr=new Pi(li.Er),this.dr=new Pi(li.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new li(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new li(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new gt(new $n([])),r=new li(n,e),i=new li(n,e+1),a=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),a.push(s.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new gt(new $n([])),r=new li(n,e),i=new li(n,e+1);let a=Qt();return this.dr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new li(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class li{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return gt.comparator(e.key,n.key)||cn(e.wr,n.wr)}static Ar(e,n){return cn(e.wr,n.wr)||gt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lne{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Pi(li.Er)}checkEmpty(e){return De.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new tne(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.br=this.br.add(new li(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return De.resolve(s)}lookupMutationBatch(e,n){return De.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),a=i<0?0:i;return De.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return De.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new li(n,0),i=new li(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],s=>{const o=this.Dr(s.wr);a.push(o)}),De.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pi(cn);return n.forEach(i=>{const a=new li(i,0),s=new li(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],o=>{r=r.add(o.wr)})}),De.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;gt.isDocumentKey(a)||(a=a.child(""));const s=new li(new gt(a),0);let o=new Pi(cn);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.wr)),!0)},s),De.resolve(this.Cr(o))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){An(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return De.forEach(n.mutations,i=>{const a=new li(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new li(n,0),i=this.br.firstAfterOrEqual(r);return De.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,De.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mne{constructor(e){this.Mr=e,this.docs=function(){return new pr(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return De.resolve(r?r.document.mutableCopy():Gi.newInvalidDocument(n))}getEntries(e,n){let r=nc();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Gi.newInvalidDocument(i))}),De.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=nc();const s=n.path,o=new gt(s.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||vte(yte(u),r)<=0||(i.has(u.key)||vx(n,u))&&(a=a.insert(u.key,u.mutableCopy()))}return De.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Pt()}Or(e,n){return De.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Dne(this)}getSize(e){return De.resolve(this.size)}}class Dne extends kne{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),De.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fne{constructor(e){this.persistence=e,this.Nr=new Dp(n=>zP(n),qP),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Lr=0,this.Br=new XP,this.targetCount=0,this.kr=ep.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),De.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ep(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,De.resolve()}updateTargetData(e,n){return this.Kn(n),De.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Nr.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),De.waitFor(a).next(()=>i)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return De.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),De.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),De.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),De.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return De.resolve(r)}containsKey(e,n){return De.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ne{constructor(e,n){this.qr={},this.overlays={},this.Qr=new $P(0),this.Kr=!1,this.Kr=!0,this.$r=new Rne,this.referenceDelegate=e(this),this.Ur=new Fne(this),this.indexManager=new Pne,this.remoteDocumentCache=function(i){return new Mne(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Nne(n),this.Gr=new jne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new One,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Lne(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){st("MemoryPersistence","Starting transaction:",e);const i=new Bne(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,n){return De.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Bne extends xte{constructor(e){super(),this.currentSequenceNumber=e}}class QP{constructor(e){this.persistence=e,this.Jr=new XP,this.Yr=null}static Zr(e){return new QP(e)}get Xr(){if(this.Yr)return this.Yr;throw Pt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),De.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),De.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),De.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.Xr,r=>{const i=gt.fromPath(r);return this.ei(e,i).next(a=>{a||n.removeEntry(i,It.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return De.or([()=>De.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Qt(),i=Qt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new JP(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Une{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return AQ()?8:wte(Zi())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Yi(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Zi(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new Vne;return this.Xi(e,n,s).next(o=>{if(a.result=o,this.zi)return this.es(e,n,s,o.size)})}).next(()=>a.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Om()<=tn.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Gd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),De.resolve()):(Om()<=tn.DEBUG&&st("QueryEngine","Query:",Gd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Om()<=tn.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Gd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yo(n))):De.resolve())}Yi(e,n){if(gI(n))return De.resolve(null);let r=Yo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=pA(n,null,"F"),r=Yo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=Qt(...a);return this.Ji.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,o);return this.ns(n,c,s,l.readTime)?this.Yi(e,pA(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return gI(n)||i.isEqual(It.min())?De.resolve(null):this.Ji.getDocuments(e,r).next(a=>{const s=this.ts(n,a);return this.ns(n,s,r,i)?De.resolve(null):(Om()<=tn.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Gd(n)),this.rs(e,s,n,gte(i,-1)).next(o=>o))})}ts(e,n){let r=new Pi(p$(e));return n.forEach((i,a)=>{vx(e,a)&&(r=r.add(a))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,n,r){return Om()<=tn.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Gd(n)),this.Ji.getDocumentsMatchingQuery(e,n,Tu.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zne{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new pr(cn),this._s=new Dp(a=>zP(a),qP),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ine(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function qne(t,e,n,r){return new zne(t,e,n,r)}async function L$(t,e){const n=jt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=Qt();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:o}))})})}function Wne(t,e){const n=jt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const f=c.batch,h=f.keys();let p=De.resolve();return h.forEach(y=>{p=p.next(()=>u.getEntry(l,y)).next(b=>{const x=c.docVersions.get(y);An(x!==null),b.version.compareTo(x)<0&&(f.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),u.addEntry(b)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Qt();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function M$(t){const e=jt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Hne(t,e){const n=jt(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;o.push(n.Ur.removeMatchingKeys(a,u.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(a,u.addedDocuments,f)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(ki.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(f,p),function(b,x,v){return b.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,p,u)&&o.push(n.Ur.updateTargetData(a,p))});let l=nc(),c=Qt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,u))}),o.push(Gne(a,s,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(It.min())){const u=n.Ur.getLastRemoteSnapshotVersion(a).next(f=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(u)}return De.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(n.os=i,a))}function Gne(t,e,n){let r=Qt(),i=Qt();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=nc();return n.forEach((o,l)=>{const c=a.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(It.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):st("LocalStore","Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function Kne(t,e){const n=jt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Yne(t,e){const n=jt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(a=>a?(i=a,De.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new ou(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function bA(t,e,n){const r=jt(t),i=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!yv(s))throw s;st("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function PI(t,e,n){const r=jt(t);let i=It.min(),a=Qt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=jt(l),h=f._s.get(u);return h!==void 0?De.resolve(f.os.get(h)):f.Ur.getTargetData(c,u)}(r,s,Yo(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:It.min(),n?a:Qt())).next(o=>(Xne(r,$te(e),o),{documents:o,Ts:a})))}function Xne(t,e,n){let r=t.us.get(e)||It.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.us.set(e,r)}class TI{constructor(){this.activeTargetIds=Wte()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qne{constructor(){this.so=new TI,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new TI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jne{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){st("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){st("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C0=null;function I5(){return C0===null?C0=function(){return 268435456+Math.round(2147483648*Math.random())}():C0++,"0x"+C0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ere{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="WebChannelConnection";class tre extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(n,r,i,a,s){const o=I5(),l=this.xo(n,r.toUriEncodedString());st("RestConnection",`Sending RPC '${n}' ${o}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,a,s),this.No(n,l,c,i).then(u=>(st("RestConnection",`Received RPC '${n}' ${o}: `,u),u),u=>{throw Xh("RestConnection",`RPC '${n}' ${o} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(n,r,i,a,s,o){return this.Mo(n,r,i,a,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mp}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,s)=>n[s]=a),i&&i.headers.forEach((a,s)=>n[s]=a)}xo(n,r){const i=Zne[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const a=I5();return new Promise((s,o)=>{const l=new XF;l.setWithCredentials(!0),l.listenOnce(QF.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case A1.NO_ERROR:const u=l.getResponseJson();st(Di,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(u)),s(u);break;case A1.TIMEOUT:st(Di,`RPC '${e}' ${a} timed out`),o(new We(Oe.DEADLINE_EXCEEDED,"Request time out"));break;case A1.HTTP_ERROR:const f=l.getStatus();if(st(Di,`RPC '${e}' ${a} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const y=function(x){const v=x.toLowerCase().replace(/_/g,"-");return Object.values(Oe).indexOf(v)>=0?v:Oe.UNKNOWN}(p.status);o(new We(y,p.message))}else o(new We(Oe.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new We(Oe.UNAVAILABLE,"Connection failed."));break;default:Pt()}}finally{st(Di,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(i);st(Di,`RPC '${e}' ${a} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=I5(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=e$(),o=ZF(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=a.join("");st(Di,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=s.createWebChannel(u,l);let h=!1,p=!1;const y=new ere({Io:x=>{p?st(Di,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(st(Di,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),st(Di,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},To:()=>f.close()}),b=(x,v,w)=>{x.listen(v,S=>{try{w(S)}catch(A){setTimeout(()=>{throw A},0)}})};return b(f,rg.EventType.OPEN,()=>{p||(st(Di,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),b(f,rg.EventType.CLOSE,()=>{p||(p=!0,st(Di,`RPC '${e}' stream ${i} transport closed`),y.So())}),b(f,rg.EventType.ERROR,x=>{p||(p=!0,Xh(Di,`RPC '${e}' stream ${i} transport errored:`,x),y.So(new We(Oe.UNAVAILABLE,"The operation could not be completed")))}),b(f,rg.EventType.MESSAGE,x=>{var v;if(!p){const w=x.data[0];An(!!w);const S=w,A=S.error||((v=S[0])===null||v===void 0?void 0:v.error);if(A){st(Di,`RPC '${e}' stream ${i} received error:`,A);const P=A.status;let O=function(C){const M=Fr[C];if(M!==void 0)return N$(M)}(P),I=A.message;O===void 0&&(O=Oe.INTERNAL,I="Unknown error status: "+P+" with message "+A.message),p=!0,y.So(new We(O,I)),f.close()}else st(Di,`RPC '${e}' stream ${i} received:`,w),y.bo(w)}}),b(o,JF.STAT_EVENT,x=>{x.stat===lA.PROXY?st(Di,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===lA.NOPROXY&&st(Di,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function j5(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(t){return new fne(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e,n,r=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&st("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(e,n,r,i,a,s,o,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new D$(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Oe.RESOURCE_EXHAUSTED?(tc(n.toString()),tc("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new We(Oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return st("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(st("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nre extends F${constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=pne(this.serializer,e),r=function(a){if(!("targetChange"in a))return It.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?It.min():s.readTime?Xo(s.readTime):It.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=vA(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=dA(l)?{documents:yne(a,l)}:{query:vne(a,l)._t},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=T$(a,s.resumeToken);const c=mA(a,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(It.min())>0){o.readTime=Ab(a,s.snapshotVersion.toTimestamp());const c=mA(a,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=xne(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=vA(this.serializer),n.removeTarget=e,this.a_(n)}}class rre extends F${constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return An(!!e.streamToken),this.lastStreamToken=e.streamToken,An(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){An(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=gne(e.writeResults,e.commitTime),r=Xo(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=vA(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>mne(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ire extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new We(Oe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Mo(e,gA(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new We(Oe.UNKNOWN,a.toString())})}Lo(e,n,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Lo(e,gA(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new We(Oe.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class are{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(tc(n),this.D_=!1):st("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sre{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(s=>{r.enqueueAndForget(async()=>{gd(this)&&(st("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=jt(l);c.L_.add(4),await xv(c),c.q_.set("Unknown"),c.L_.delete(4),await Sx(c)}(this))})}),this.q_=new are(r,i)}}async function Sx(t){if(gd(t))for(const e of t.B_)await e(!0)}async function xv(t){for(const e of t.B_)await e(!1)}function $$(t,e){const n=jt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),nT(n)?tT(n):Fp(n).r_()&&eT(n,e))}function ZP(t,e){const n=jt(t),r=Fp(n);n.N_.delete(e),r.r_()&&B$(n,e),n.N_.size===0&&(r.r_()?r.o_():gd(n)&&n.q_.set("Unknown"))}function eT(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(It.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fp(t).A_(e)}function B$(t,e){t.Q_.xe(e),Fp(t).R_(e)}function tT(t){t.Q_=new one({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Fp(t).start(),t.q_.v_()}function nT(t){return gd(t)&&!Fp(t).n_()&&t.N_.size>0}function gd(t){return jt(t).L_.size===0}function V$(t){t.Q_=void 0}async function ore(t){t.q_.set("Online")}async function lre(t){t.N_.forEach((e,n)=>{eT(t,e)})}async function cre(t,e){V$(t),nT(t)?(t.q_.M_(e),tT(t)):t.q_.set("Unknown")}async function ure(t,e,n){if(t.q_.set("Online"),e instanceof P$&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(r){st("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nb(t,r)}else if(e instanceof P1?t.Q_.Ke(e):e instanceof E$?t.Q_.He(e):t.Q_.We(e),!n.isEqual(It.min()))try{const r=await M$(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.Q_.rt(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.N_.get(c);u&&a.N_.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=a.N_.get(l);if(!u)return;a.N_.set(l,u.withResumeToken(ki.EMPTY_BYTE_STRING,u.snapshotVersion)),B$(a,l);const f=new ou(u.target,l,c,u.sequenceNumber);eT(a,f)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){st("RemoteStore","Failed to raise snapshot:",r),await Nb(t,r)}}async function Nb(t,e,n){if(!yv(e))throw e;t.L_.add(1),await xv(t),t.q_.set("Offline"),n||(n=()=>M$(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{st("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Sx(t)})}function U$(t,e){return e().catch(n=>Nb(t,n,e))}async function Ax(t){const e=jt(t),n=Cu(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;fre(e);)try{const i=await Kne(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,dre(e,i)}catch(i){await Nb(e,i)}z$(e)&&q$(e)}function fre(t){return gd(t)&&t.O_.length<10}function dre(t,e){t.O_.push(e);const n=Cu(t);n.r_()&&n.V_&&n.m_(e.mutations)}function z$(t){return gd(t)&&!Cu(t).n_()&&t.O_.length>0}function q$(t){Cu(t).start()}async function hre(t){Cu(t).p_()}async function pre(t){const e=Cu(t);for(const n of t.O_)e.m_(n.mutations)}async function mre(t,e,n){const r=t.O_.shift(),i=GP.from(r,e,n);await U$(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ax(t)}async function gre(t,e){e&&Cu(t).V_&&await async function(r,i){if(function(s){return ine(s)&&s!==Oe.ABORTED}(i.code)){const a=r.O_.shift();Cu(r).s_(),await U$(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Ax(r)}}(t,e),z$(t)&&q$(t)}async function CI(t,e){const n=jt(t);n.asyncQueue.verifyOperationInProgress(),st("RemoteStore","RemoteStore received new credentials");const r=gd(n);n.L_.add(3),await xv(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Sx(n)}async function yre(t,e){const n=jt(t);e?(n.L_.delete(2),await Sx(n)):e||(n.L_.add(2),await xv(n),n.q_.set("Unknown"))}function Fp(t){return t.K_||(t.K_=function(n,r,i){const a=jt(n);return a.w_(),new nre(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:ore.bind(null,t),Ro:lre.bind(null,t),mo:cre.bind(null,t),d_:ure.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),nT(t)?tT(t):t.q_.set("Unknown")):(await t.K_.stop(),V$(t))})),t.K_}function Cu(t){return t.U_||(t.U_=function(n,r,i){const a=jt(n);return a.w_(),new rre(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:hre.bind(null,t),mo:gre.bind(null,t),f_:pre.bind(null,t),g_:mre.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Ax(t)):(await t.U_.stop(),t.O_.length>0&&(st("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ul,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new rT(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new We(Oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iT(t,e){if(tc("AsyncQueue",`${e}: ${t}`),yv(t))return new We(Oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this.comparator=e?(n,r)=>e(n,r)||gt.comparator(n.key,r.key):(n,r)=>gt.comparator(n.key,r.key),this.keyedMap=ig(),this.sortedSet=new pr(this.comparator)}static emptySet(e){return new kh(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof kh)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new kh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.W_=new pr(gt.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Pt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class tp{constructor(e,n,r,i,a,s,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new tp(e,n,kh.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vre{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class bre{constructor(){this.queries=jI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=jt(n),a=i.queries;i.queries=jI(),a.forEach((s,o)=>{for(const l of o.j_)l.onError(r)})})(this,new We(Oe.ABORTED,"Firestore shutting down"))}}function jI(){return new Dp(t=>h$(t),yx)}async function aT(t,e){const n=jt(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.H_()&&e.J_()&&(r=2):(a=new vre,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=iT(s,`Initialization of query '${Gd(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&oT(n)}async function sT(t,e){const n=jt(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.j_.indexOf(e);s>=0&&(a.j_.splice(s,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xre(t,e){const n=jt(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.j_)o.X_(i)&&(r=!0);s.z_=i}}r&&oT(n)}function wre(t,e,n){const r=jt(t),i=r.queries.get(e);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(e)}function oT(t){t.Y_.forEach(e=>{e.next()})}var xA,OI;(OI=xA||(xA={})).ea="default",OI.Cache="cache";class lT{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new tp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=tp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==xA.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e){this.key=e}}class H${constructor(e){this.key=e}}class _re{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Qt(),this.mutatedKeys=Qt(),this.Aa=p$(e),this.Ra=new kh(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new II,i=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),p=vx(this.query,f)?f:null,y=!!h&&this.mutatedKeys.has(h.key),b=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;h&&p?h.data.isEqual(p.data)?y!==b&&(r.track({type:3,doc:p}),x=!0):this.ga(h,p)||(r.track({type:2,doc:p}),x=!0,(l&&this.Aa(p,l)>0||c&&this.Aa(p,c)<0)&&(o=!0)):!h&&p?(r.track({type:0,doc:p}),x=!0):h&&!p&&(r.track({type:1,doc:h}),x=!0,(l||c)&&(o=!0)),x&&(p?(s=s.add(p),a=b?a.add(u):a.delete(u)):(s=s.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),a=a.delete(u.key),r.track({type:1,doc:u})}return{Ra:s,fa:r,ns:o,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((u,f)=>function(p,y){const b=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pt()}};return b(p)-b(y)}(u.type,f.type)||this.Aa(u.doc,f.doc)),this.pa(r),i=i!=null&&i;const o=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,s.length!==0||c?{snapshot:new tp(this.query,e.Ra,a,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new II,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Qt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new H$(r))}),this.da.forEach(r=>{e.has(r)||n.push(new W$(r))}),n}ba(e){this.Ta=e.Ts,this.da=Qt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return tp.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Sre{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Are{constructor(e){this.key=e,this.va=!1}}class Nre{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Dp(o=>h$(o),yx),this.Ma=new Map,this.xa=new Set,this.Oa=new pr(gt.comparator),this.Na=new Map,this.La=new XP,this.Ba={},this.ka=new Map,this.qa=ep.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Ere(t,e,n=!0){const r=J$(t);let i;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await G$(r,e,n,!0),i}async function Pre(t,e){const n=J$(t);await G$(n,e,!0,!1)}async function G$(t,e,n,r){const i=await Yne(t.localStore,Yo(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await Tre(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&$$(t.remoteStore,i),o}async function Tre(t,e,n,r,i){t.Ka=(f,h,p)=>async function(b,x,v,w){let S=x.view.ma(v);S.ns&&(S=await PI(b.localStore,x.query,!1).then(({documents:I})=>x.view.ma(I,S)));const A=w&&w.targetChanges.get(x.targetId),P=w&&w.targetMismatches.get(x.targetId)!=null,O=x.view.applyChanges(S,b.isPrimaryClient,A,P);return LI(b,x.targetId,O.wa),O.snapshot}(t,f,h,p);const a=await PI(t.localStore,e,!0),s=new _re(e,a.Ts),o=s.ma(a.documents),l=bv.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(o,t.isPrimaryClient,l);LI(t,n,c.wa);const u=new Sre(e,n,s);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function kre(t,e,n){const r=jt(t),i=r.Fa.get(e),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter(s=>!yx(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await bA(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ZP(r.remoteStore,i.targetId),wA(r,i.targetId)}).catch(gv)):(wA(r,i.targetId),await bA(r.localStore,i.targetId,!0))}async function Cre(t,e){const n=jt(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ZP(n.remoteStore,r.targetId))}async function Ire(t,e,n){const r=Fre(t);try{const i=await function(s,o){const l=jt(s),c=Vn.now(),u=o.reduce((p,y)=>p.add(y.key),Qt());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=nc(),b=Qt();return l.cs.getEntries(p,u).next(x=>{y=x,y.forEach((v,w)=>{w.isValidDocument()||(b=b.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,y)).next(x=>{f=x;const v=[];for(const w of o){const S=Zte(w,f.get(w.key).overlayedDocument);S!=null&&v.push(new Uu(w.key,S,a$(S.value.mapValue),Ts.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,v,o)}).next(x=>{h=x;const v=x.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(p,x.batchId,v)})}).then(()=>({batchId:h.batchId,changes:g$(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let c=s.Ba[s.currentUser.toKey()];c||(c=new pr(cn)),c=c.insert(o,l),s.Ba[s.currentUser.toKey()]=c}(r,i.batchId,n),await wv(r,i.changes),await Ax(r.remoteStore)}catch(i){const a=iT(i,"Failed to persist write");n.reject(a)}}async function K$(t,e){const n=jt(t);try{const r=await Hne(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Na.get(a);s&&(An(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?An(s.va):i.removedDocuments.size>0&&(An(s.va),s.va=!1))}),await wv(n,r,e)}catch(r){await gv(r)}}function RI(t,e,n){const r=jt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((a,s)=>{const o=s.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=jt(s);l.onlineState=o;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.j_)h.Z_(o)&&(c=!0)}),c&&oT(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jre(t,e,n){const r=jt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),a=i&&i.key;if(a){let s=new pr(gt.comparator);s=s.insert(a,Gi.newNoDocument(a,It.min()));const o=Qt().add(a),l=new wx(It.min(),new Map,new pr(cn),s,o);await K$(r,l),r.Oa=r.Oa.remove(a),r.Na.delete(e),cT(r)}else await bA(r.localStore,e,!1).then(()=>wA(r,e,n)).catch(gv)}async function Ore(t,e){const n=jt(t),r=e.batch.batchId;try{const i=await Wne(n.localStore,e);X$(n,r,null),Y$(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wv(n,i)}catch(i){await gv(i)}}async function Rre(t,e,n){const r=jt(t);try{const i=await function(s,o){const l=jt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(An(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);X$(r,e,n),Y$(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wv(r,i)}catch(i){await gv(i)}}function Y$(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function X$(t,e,n){const r=jt(t);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function wA(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Q$(t,r)})}function Q$(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(ZP(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),cT(t))}function LI(t,e,n){for(const r of n)r instanceof W$?(t.La.addReference(r.key,e),Lre(t,r)):r instanceof H$?(st("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Q$(t,r.key)):Pt()}function Lre(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(st("SyncEngine","New document in limbo: "+n),t.xa.add(r),cT(t))}function cT(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new gt($n.fromString(e)),r=t.qa.next();t.Na.set(r,new Are(n)),t.Oa=t.Oa.insert(n,r),$$(t.remoteStore,new ou(Yo(gx(n.path)),r,"TargetPurposeLimboResolution",$P.oe))}}async function wv(t,e,n){const r=jt(t),i=[],a=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((o,l)=>{s.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=JP.Wi(l.targetId,c);a.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,c){const u=jt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>De.forEach(c,h=>De.forEach(h.$i,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>De.forEach(h.Ui,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!yv(f))throw f;st("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.os.get(h),y=p.snapshotVersion,b=p.withLastLimboFreeSnapshotVersion(y);u.os=u.os.insert(h,b)}}}(r.localStore,a))}async function Mre(t,e){const n=jt(t);if(!n.currentUser.isEqual(e)){st("SyncEngine","User change. New user:",e.toKey());const r=await L$(n.localStore,e);n.currentUser=e,function(a,s){a.ka.forEach(o=>{o.forEach(l=>{l.reject(new We(Oe.CANCELLED,s))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wv(n,r.hs)}}function Dre(t,e){const n=jt(t),r=n.Na.get(e);if(r&&r.va)return Qt().add(r.key);{let i=Qt();const a=n.Ma.get(e);if(!a)return i;for(const s of a){const o=n.Fa.get(s);i=i.unionWith(o.view.Va)}return i}}function J$(t){const e=jt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=K$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jre.bind(null,e),e.Ca.d_=xre.bind(null,e.eventManager),e.Ca.$a=wre.bind(null,e.eventManager),e}function Fre(t){const e=jt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ore.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rre.bind(null,e),e}class Eb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_x(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return qne(this.persistence,new Une,e.initialUser,this.serializer)}Ga(e){return new $ne(QP.Zr,this.serializer)}Wa(e){return new Qne}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eb.provider={build:()=>new Eb};class _A{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mre.bind(null,this.syncEngine),await yre(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bre}()}createDatastore(e){const n=_x(e.databaseInfo.databaseId),r=function(a){return new tre(a)}(e.databaseInfo);return function(a,s,o,l){return new ire(a,s,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new sre(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>RI(this.syncEngine,n,0),function(){return kI.D()?new kI:new Jne}())}createSyncEngine(e,n){return function(i,a,s,o,l,c,u){const f=new Nre(i,a,s,o,l,c);return u&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=jt(i);st("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await xv(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_A.provider={build:()=>new _A};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):tc("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $re{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Wi.UNAUTHENTICATED,this.clientId=n$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{st("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(st("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ul;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=iT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function O5(t,e){t.asyncQueue.verifyOperationInProgress(),st("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await L$(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function MI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Bre(t);st("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>CI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>CI(e.remoteStore,i)),t._onlineComponents=e}async function Bre(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){st("FirestoreClient","Using user provided OfflineComponentProvider");try{await O5(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Oe.FAILED_PRECONDITION||i.code===Oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Xh("Error using user provided cache. Falling back to memory cache: "+n),await O5(t,new Eb)}}else st("FirestoreClient","Using default OfflineComponentProvider"),await O5(t,new Eb);return t._offlineComponents}async function Z$(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(st("FirestoreClient","Using user provided OnlineComponentProvider"),await MI(t,t._uninitializedComponentsProvider._online)):(st("FirestoreClient","Using default OnlineComponentProvider"),await MI(t,new _A))),t._onlineComponents}function Vre(t){return Z$(t).then(e=>e.syncEngine)}async function Pb(t){const e=await Z$(t),n=e.eventManager;return n.onListen=Ere.bind(null,e.syncEngine),n.onUnlisten=kre.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Pre.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Cre.bind(null,e.syncEngine),n}function Ure(t,e,n={}){const r=new Ul;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const u=new uT({next:h=>{u.Za(),s.enqueueAndForget(()=>sT(a,f));const p=h.docs.has(o);!p&&h.fromCache?c.reject(new We(Oe.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new We(Oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new lT(gx(o.path),u,{includeMetadataChanges:!0,_a:!0});return aT(a,f)}(await Pb(t),t.asyncQueue,e,n,r)),r.promise}function zre(t,e,n={}){const r=new Ul;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const u=new uT({next:h=>{u.Za(),s.enqueueAndForget(()=>sT(a,f)),h.fromCache&&l.source==="server"?c.reject(new We(Oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new lT(o,u,{includeMetadataChanges:!0,_a:!0});return aT(a,f)}(await Pb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(t,e,n){if(!n)throw new We(Oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qre(t,e,n,r){if(e===!0&&r===!0)throw new We(Oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function FI(t){if(!gt.isDocumentKey(t))throw new We(Oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $I(t){if(gt.isDocumentKey(t))throw new We(Oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Nx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pt()}function ua(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new We(Oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nx(t);throw new We(Oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new We(Oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new We(Oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qre("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e9((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new We(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new We(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new We(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _v{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new We(Oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new We(Oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ote;switch(r.type){case"firstParty":return new fte(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new We(Oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=DI.get(n);r&&(st("ComponentProvider","Removing Datastore"),DI.delete(n),r.terminate())}(this),Promise.resolve()}}function Wre(t,e,n,r={}){var i;const a=(t=ua(t,_v))._getSettings(),s=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==s&&Xh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=Wi.MOCK_USER;else{o=yQ(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new We(Oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Wi(c)}t._authCredentials=new lte(new t$(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mc(this.firestore,e,this._query)}}class Qi{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Su(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qi(this.firestore,e,this._key)}}class Su extends mc{constructor(e,n,r){super(e,n,gx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qi(this.firestore,null,new gt(e))}withConverter(e){return new Su(this.firestore,e,this._path)}}function ea(t,e,...n){if(t=qr(t),fT("collection","path",e),t instanceof _v){const r=$n.fromString(e,...n);return $I(r),new Su(t,null,r)}{if(!(t instanceof Qi||t instanceof Su))throw new We(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($n.fromString(e,...n));return $I(r),new Su(t.firestore,null,r)}}function t9(t,e){if(t=ua(t,_v),fT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new We(Oe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new mc(t,null,function(r){return new md($n.emptyPath(),r)}(e))}function Un(t,e,...n){if(t=qr(t),arguments.length===1&&(e=n$.newId()),fT("doc","path",e),t instanceof _v){const r=$n.fromString(e,...n);return FI(r),new Qi(t,null,new gt(r))}{if(!(t instanceof Qi||t instanceof Su))throw new We(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($n.fromString(e,...n));return FI(r),new Qi(t.firestore,t instanceof Su?t.converter:null,new gt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new D$(this,"async_queue_retry"),this.Vu=()=>{const r=j5();r&&st("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=j5();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=j5();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ul;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!yv(e))throw e;st("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw tc("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=rT.createAndSchedule(this,e,n,r,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&Pt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function UI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class rc extends _v{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new VI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VI(e),this._firestoreClient=void 0,await e}}}function Hre(t,e){const n=typeof t=="object"?t:dF(),r=typeof t=="string"?t:"(default)",i=TP(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=mQ("firestore");a&&Wre(i,...a)}return i}function Ex(t){if(t._terminated)throw new We(Oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Gre(t),t._firestoreClient}function Gre(t){var e,n,r;const i=t._freezeSettings(),a=function(o,l,c,u){return new Ate(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,e9(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new $re(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e){this._byteString=e}static fromBase64String(e){try{return new np(ki.fromBase64String(e))}catch(n){throw new We(Oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new np(ki.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new We(Oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ai(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new We(Oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new We(Oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return cn(this._lat,e._lat)||cn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kre=/^__.*__$/;class Yre{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Uu(e,this.data,this.fieldMask,n,this.fieldTransforms):new vv(e,this.data,n,this.fieldTransforms)}}class n9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Uu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function r9(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pt()}}class pT{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new pT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Tb(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(r9(this.Cu)&&Kre.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Xre{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_x(e)}Qu(e,n,r,i=!1){return new pT({Cu:e,methodName:n,qu:r,path:Ai.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kx(t){const e=t._freezeSettings(),n=_x(t._databaseId);return new Xre(t._databaseId,!!e.ignoreUndefinedProperties,n)}function i9(t,e,n,r,i,a={}){const s=t.Qu(a.merge||a.mergeFields?2:0,e,n,i);gT("Data must be an object, but it was:",s,r);const o=a9(r,s);let l,c;if(a.merge)l=new Ga(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const u=[];for(const f of a.mergeFields){const h=SA(e,f,n);if(!s.contains(h))throw new We(Oe.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);o9(u,h)||u.push(h)}l=new Ga(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new Yre(new ba(o),l,c)}class Cx extends Tx{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cx}}class mT extends Tx{_toFieldTransform(e){return new Yte(e.path,new uy)}isEqual(e){return e instanceof mT}}function Qre(t,e,n,r){const i=t.Qu(1,e,n);gT("Data must be an object, but it was:",i,r);const a=[],s=ba.empty();pd(r,(l,c)=>{const u=yT(e,l,n);c=qr(c);const f=i.Nu(u);if(c instanceof Cx)a.push(u);else{const h=Sv(c,f);h!=null&&(a.push(u),s.set(u,h))}});const o=new Ga(a);return new n9(s,o,i.fieldTransforms)}function Jre(t,e,n,r,i,a){const s=t.Qu(1,e,n),o=[SA(e,r,n)],l=[i];if(a.length%2!=0)throw new We(Oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)o.push(SA(e,a[h])),l.push(a[h+1]);const c=[],u=ba.empty();for(let h=o.length-1;h>=0;--h)if(!o9(c,o[h])){const p=o[h];let y=l[h];y=qr(y);const b=s.Nu(p);if(y instanceof Cx)c.push(p);else{const x=Sv(y,b);x!=null&&(c.push(p),u.set(p,x))}}const f=new Ga(c);return new n9(u,f,s.fieldTransforms)}function Zre(t,e,n,r=!1){return Sv(n,t.Qu(r?4:3,e))}function Sv(t,e){if(s9(t=qr(t)))return gT("Unsupported field value:",e,t),a9(t,e);if(t instanceof Tx)return function(r,i){if(!r9(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=Sv(o,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=qr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Hte(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Vn.fromDate(r);return{timestampValue:Ab(i.serializer,a)}}if(r instanceof Vn){const a=new Vn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ab(i.serializer,a)}}if(r instanceof dT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof np)return{bytesValue:T$(i.serializer,r._byteString)};if(r instanceof Qi){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:YP(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof hT)return function(s,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return WP(o.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Nx(r)}`)}(t,e)}function a9(t,e){const n={};return r$(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pd(t,(r,i)=>{const a=Sv(i,e.Mu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function s9(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vn||t instanceof dT||t instanceof np||t instanceof Qi||t instanceof Tx||t instanceof hT)}function gT(t,e,n){if(!s9(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Nx(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function SA(t,e,n){if((e=qr(e))instanceof Px)return e._internalPath;if(typeof e=="string")return yT(t,e);throw Tb("Field path arguments must be of type string or ",t,!1,void 0,n)}const eie=new RegExp("[~\\*/\\[\\]]");function yT(t,e,n){if(e.search(eie)>=0)throw Tb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Px(...e.split("."))._internalPath}catch{throw Tb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Tb(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new We(Oe.INVALID_ARGUMENT,o+t+l)}function o9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Qi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ix("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tie extends l9{data(){return super.data()}}function Ix(t,e){return typeof e=="string"?yT(t,e):e instanceof Px?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new We(Oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vT{}class u9 extends vT{}function ns(t,e,...n){let r=[];e instanceof vT&&r.push(e),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof bT).length,o=a.filter(l=>l instanceof jx).length;if(s>1||s>0&&o>0)throw new We(Oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class jx extends u9{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new jx(e,n,r)}_apply(e){const n=this._parse(e);return f9(e._query,n),new mc(e.firestore,e.converter,hA(e._query,n))}_parse(e){const n=kx(e.firestore);return function(a,s,o,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new We(Oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){qI(f,u);const p=[];for(const y of f)p.push(zI(l,a,y));h={arrayValue:{values:p}}}else h=zI(l,a,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||qI(f,u),h=Zre(o,s,f,u==="in"||u==="not-in");return Vr.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ur(t,e,n){const r=e,i=Ix("where",t);return jx._create(i,r,n)}class bT extends vT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bT(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ho.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)f9(s,l),s=hA(s,l)}(e._query,n),new mc(e.firestore,e.converter,hA(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xT extends u9{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new xT(e,n)}_apply(e){const n=function(i,a,s){if(i.startAt!==null)throw new We(Oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new We(Oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cy(a,s)}(e._query,this._field,this._direction);return new mc(e.firestore,e.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new md(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function yd(t,e="asc"){const n=e,r=Ix("orderBy",t);return xT._create(r,n)}function zI(t,e,n){if(typeof(n=qr(n))=="string"){if(n==="")throw new We(Oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!d$(e)&&n.indexOf("/")!==-1)throw new We(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($n.fromString(n));if(!gt.isDocumentKey(r))throw new We(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uI(t,new gt(r))}if(n instanceof Qi)return uI(t,n._key);throw new We(Oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nx(n)}.`)}function qI(t,e){if(!Array.isArray(t)||t.length===0)throw new We(Oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function f9(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new We(Oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new We(Oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class nie{convertValue(e,n="none"){switch(ed(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ir(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pd(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ir(s.doubleValue));return new hT(a)}convertGeoPoint(e){return new dT(Ir(e.latitude),Ir(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=VP(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sy(e));default:return null}}convertTimestamp(e){const n=ku(e);return new Vn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$n.fromString(e);An(R$(r));const i=new oy(r.get(1),r.get(3)),a=new gt(r.popFirst(5));return i.isEqual(n)||tc(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class h9 extends l9{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new T1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ix("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class T1 extends h9{data(e={}){return super.data(e)}}class p9{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new sg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new T1(this._firestore,this._userDataWriter,r.key,r,new sg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new We(Oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new T1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new sg(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new T1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new sg(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:rie(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function rie(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t){t=ua(t,Qi);const e=ua(t.firestore,rc);return Ure(Ex(e),t._key).then(n=>g9(e,t,n))}class wT extends nie{constructor(e){super(),this.firestore=e}convertBytes(e){return new np(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qi(this.firestore,null,n)}}function $p(t){t=ua(t,mc);const e=ua(t.firestore,rc),n=Ex(e),r=new wT(e);return c9(t._query),zre(n,t._query).then(i=>new p9(e,r,t,i))}function _T(t,e,n){t=ua(t,Qi);const r=ua(t.firestore,rc),i=d9(t.converter,e);return Ox(r,[i9(kx(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ts.none())])}function Vs(t,e,n,...r){t=ua(t,Qi);const i=ua(t.firestore,rc),a=kx(i);let s;return s=typeof(e=qr(e))=="string"||e instanceof Px?Jre(a,"updateDoc",t._key,e,n,r):Qre(a,"updateDoc",t._key,e),Ox(i,[s.toMutation(t._key,Ts.exists(!0))])}function m9(t){return Ox(ua(t.firestore,rc),[new HP(t._key,Ts.none())])}function Av(t,e){const n=ua(t.firestore,rc),r=Un(t),i=d9(t.converter,e);return Ox(n,[i9(kx(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ts.exists(!1))]).then(()=>r)}function vd(t,...e){var n,r,i;t=qr(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||UI(e[s])||(a=e[s],s++);const o={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(UI(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,u;if(t instanceof Qi)c=ua(t.firestore,rc),u=gx(t._key.path),l={next:f=>{e[s]&&e[s](g9(c,t,f))},error:e[s+1],complete:e[s+2]};else{const f=ua(t,mc);c=ua(f.firestore,rc),u=f._query;const h=new wT(c);l={next:p=>{e[s]&&e[s](new p9(c,h,f,p))},error:e[s+1],complete:e[s+2]},c9(t._query)}return function(h,p,y,b){const x=new uT(b),v=new lT(p,x,y);return h.asyncQueue.enqueueAndForget(async()=>aT(await Pb(h),v)),()=>{x.Za(),h.asyncQueue.enqueueAndForget(async()=>sT(await Pb(h),v))}}(Ex(c),u,o,l)}function Ox(t,e){return function(r,i){const a=new Ul;return r.asyncQueue.enqueueAndForget(async()=>Ire(await Vre(r),i,a)),a.promise}(Ex(t),e)}function g9(t,e,n){const r=n.docs.get(e._key),i=new wT(t);return new h9(t,i,e._key,r,new sg(n.hasPendingWrites,n.fromCache),e.converter)}function ni(){return new mT("serverTimestamp")}(function(e,n=!0){(function(i){Mp=i})(Rp),Kh(new Yf("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new rc(new cte(r.getProvider("auth-internal")),new hte(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new We(Oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oy(c.options.projectId,u)}(s,i),s);return a=Object.assign({useFetchStreams:n},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),_u(aI,"4.7.3",e),_u(aI,"4.7.3","esm2017")})();const iie={apiKey:"AIzaSyAUoBd0RUQgHCmC5gVh3CcAU6rNgjW00nw",authDomain:"leaseease-updated.firebaseapp.com",projectId:"leaseease-updated",storageBucket:"leaseease-updated.firebasestorage.app",messagingSenderId:"608675835471",appId:"1:608675835471:web:6e1ee6d75c1eed7a39c43a"},y9=LC().length?LC()[0]:fF(iie),Nv=ate(y9),Lt=Hre(y9),aie=async({email:t,password:e,fullName:n,phone:r,countryCode:i,role:a="landlord"})=>{const{user:s}=await VZ(Nv,t,e);return await qZ(s,{displayName:n}),await _T(Un(Lt,"users",s.uid),{uid:s.uid,email:t,fullName:n,phone:r||"",countryCode:i||"NG",role:a,createdAt:ni(),updatedAt:ni()}),s},sie=(t,e)=>UZ(Nv,t,e),oie=()=>KZ(Nv),v9=t=>BZ(Nv,t),lie=t=>GZ(Nv,t),b9=async t=>{const e=await ic(Un(Lt,"users",t));return e.exists()?e.data():null},cie=(t,e)=>Vs(Un(Lt,"users",t),{...e,updatedAt:ni()}),ST=(t,e)=>Av(ea(Lt,"users",t,"properties"),{...e,ownerId:t,createdAt:ni(),updatedAt:ni()}),uie=(t,e)=>m9(Un(Lt,"users",t,"properties",e)),Ev=(t,e)=>vd(ns(ea(Lt,"users",t,"properties"),yd("createdAt","desc")),n=>e(n.docs.map(r=>({id:r.id,...r.data()})))),AT=(t,e)=>vd(ns(t9(Lt,"properties"),Ur("tenantEmail","==",t),yd("createdAt","desc")),n=>e(n.docs.map(r=>({id:r.id,...r.data()})))),x9=(t,e,n)=>vd(ns(ea(Lt,"users",t,"properties",e,"payments"),yd("paidDate","desc")),r=>n(r.docs.map(i=>({id:i.id,...i.data()})))),w9=(t,e)=>vd(ns(t9(Lt,"payments"),Ur("tenantEmail","==",t),yd("paidDate","desc")),n=>e(n.docs.map(r=>({id:r.id,...r.data()})))),_9=(t,e)=>Av(ea(Lt,"users",t,"reminders"),{...e,createdAt:ni(),status:"pending"}),AA=(t,e,n)=>Vs(Un(Lt,"users",t,"reminders",e),n),S9=(t,e)=>m9(Un(Lt,"users",t,"reminders",e)),Pv=(t,e)=>vd(ns(ea(Lt,"users",t,"reminders"),yd("dueDate","asc")),n=>e(n.docs.map(r=>({id:r.id,...r.data()})))),fie=(t,e,n)=>Av(ea(Lt,"users",t,"properties",e,"maintenance"),{...n,createdAt:ni(),status:"open"}),die=(t,e,n,r)=>Vs(Un(Lt,"users",t,"properties",e,"maintenance",n),r),hie=(t,e,n)=>vd(ns(ea(Lt,"users",t,"properties",e,"maintenance"),yd("createdAt","desc")),r=>n(r.docs.map(i=>({id:i.id,...i.data()})))),A9=(t,e,n)=>Av(ea(Lt,"users",t,"properties",e,"units"),{...n,landlordId:t,createdAt:ni(),updatedAt:ni()}),k1=(t,e,n,r)=>Vs(Un(Lt,"users",t,"properties",e,"units",n),{...r,updatedAt:ni()}),N9=(t,e,n)=>vd(ns(ea(Lt,"users",t,"properties",e,"units"),yd("createdAt","desc")),r=>n(r.docs.map(i=>({id:i.id,...i.data()})))),pie=async t=>{if(!t||t.length<2)return[];const e=t.slice(0,-1)+String.fromCharCode(t.charCodeAt(t.length-1)+1);return(await $p(ns(ea(Lt,"users"),Ur("email",">=",t.toLowerCase()),Ur("email","<",e.toLowerCase()),Ur("role","==","tenant")))).docs.map(r=>({uid:r.id,...r.data()}))},E9=z.createContext(null);function mie({children:t}){const[e,n]=z.useState(null),[r,i]=z.useState(null),[a,s]=z.useState(!0);z.useEffect(()=>lie(async c=>{if(n(c),c){const u=await b9(c.uid);if(i(u),u!=null&&u.countryCode)try{localStorage.setItem("leaseease_locale",JSON.stringify({countryCode:u.countryCode}))}catch{}}else i(null);s(!1)}),[]);const o=()=>oie();return d.jsx(E9.Provider,{value:{user:e,profile:r,loading:a,logout:o},children:t})}const Mr=()=>{const t=z.useContext(E9);if(!t)throw new Error("useAuth must be inside AuthProvider");return t},NT=[{code:"AF",name:"Afghanistan",currency:"AFN",currencyName:"Afghan Afghani",symbol:"",locale:"fa-AF"},{code:"AL",name:"Albania",currency:"ALL",currencyName:"Albanian Lek",symbol:"L",locale:"sq-AL"},{code:"DZ",name:"Algeria",currency:"DZD",currencyName:"Algerian Dinar",symbol:".",locale:"ar-DZ"},{code:"AO",name:"Angola",currency:"AOA",currencyName:"Angolan Kwanza",symbol:"Kz",locale:"pt-AO"},{code:"AR",name:"Argentina",currency:"ARS",currencyName:"Argentine Peso",symbol:"$",locale:"es-AR"},{code:"AM",name:"Armenia",currency:"AMD",currencyName:"Armenian Dram",symbol:"",locale:"hy-AM"},{code:"AU",name:"Australia",currency:"AUD",currencyName:"Australian Dollar",symbol:"A$",locale:"en-AU"},{code:"AT",name:"Austria",currency:"EUR",currencyName:"Euro",symbol:"",locale:"de-AT"},{code:"AZ",name:"Azerbaijan",currency:"AZN",currencyName:"Azerbaijani Manat",symbol:"",locale:"az-AZ"},{code:"BH",name:"Bahrain",currency:"BHD",currencyName:"Bahraini Dinar",symbol:"..",locale:"ar-BH"},{code:"BD",name:"Bangladesh",currency:"BDT",currencyName:"Bangladeshi Taka",symbol:"",locale:"bn-BD"},{code:"BY",name:"Belarus",currency:"BYN",currencyName:"Belarusian Ruble",symbol:"Br",locale:"be-BY"},{code:"BE",name:"Belgium",currency:"EUR",currencyName:"Euro",symbol:"",locale:"nl-BE"},{code:"BJ",name:"Benin",currency:"XOF",currencyName:"West African CFA Franc",symbol:"Fr",locale:"fr-BJ"},{code:"BO",name:"Bolivia",currency:"BOB",currencyName:"Bolivian Boliviano",symbol:"Bs.",locale:"es-BO"},{code:"BA",name:"Bosnia and Herzegovina",currency:"BAM",currencyName:"Bosnian Mark",symbol:"KM",locale:"bs-BA"},{code:"BW",name:"Botswana",currency:"BWP",currencyName:"Botswana Pula",symbol:"P",locale:"en-BW"},{code:"BR",name:"Brazil",currency:"BRL",currencyName:"Brazilian Real",symbol:"R$",locale:"pt-BR"},{code:"BN",name:"Brunei",currency:"BND",currencyName:"Brunei Dollar",symbol:"B$",locale:"ms-BN"},{code:"BG",name:"Bulgaria",currency:"BGN",currencyName:"Bulgarian Lev",symbol:"",locale:"bg-BG"},{code:"BF",name:"Burkina Faso",currency:"XOF",currencyName:"West African CFA Franc",symbol:"Fr",locale:"fr-BF"},{code:"BI",name:"Burundi",currency:"BIF",currencyName:"Burundian Franc",symbol:"Fr",locale:"fr-BI"},{code:"CV",name:"Cabo Verde",currency:"CVE",currencyName:"Cape Verdean Escudo",symbol:"$",locale:"pt-CV"},{code:"KH",name:"Cambodia",currency:"KHR",currencyName:"Cambodian Riel",symbol:"",locale:"km-KH"},{code:"CM",name:"Cameroon",currency:"XAF",currencyName:"Central African CFA",symbol:"Fr",locale:"fr-CM"},{code:"CA",name:"Canada",currency:"CAD",currencyName:"Canadian Dollar",symbol:"C$",locale:"en-CA"},{code:"CF",name:"Central African Rep.",currency:"XAF",currencyName:"Central African CFA",symbol:"Fr",locale:"fr-CF"},{code:"TD",name:"Chad",currency:"XAF",currencyName:"Central African CFA",symbol:"Fr",locale:"fr-TD"},{code:"CL",name:"Chile",currency:"CLP",currencyName:"Chilean Peso",symbol:"$",locale:"es-CL"},{code:"CN",name:"China",currency:"CNY",currencyName:"Chinese Yuan",symbol:"",locale:"zh-CN"},{code:"CO",name:"Colombia",currency:"COP",currencyName:"Colombian Peso",symbol:"$",locale:"es-CO"},{code:"CD",name:"Congo (DRC)",currency:"CDF",currencyName:"Congolese Franc",symbol:"Fr",locale:"fr-CD"},{code:"CR",name:"Costa Rica",currency:"CRC",currencyName:"Costa Rican Coln",symbol:"",locale:"es-CR"},{code:"CI",name:"Cte d'Ivoire",currency:"XOF",currencyName:"West African CFA Franc",symbol:"Fr",locale:"fr-CI"},{code:"HR",name:"Croatia",currency:"EUR",currencyName:"Euro",symbol:"",locale:"hr-HR"},{code:"CU",name:"Cuba",currency:"CUP",currencyName:"Cuban Peso",symbol:"$",locale:"es-CU"},{code:"CY",name:"Cyprus",currency:"EUR",currencyName:"Euro",symbol:"",locale:"el-CY"},{code:"CZ",name:"Czechia",currency:"CZK",currencyName:"Czech Koruna",symbol:"K",locale:"cs-CZ"},{code:"DK",name:"Denmark",currency:"DKK",currencyName:"Danish Krone",symbol:"kr",locale:"da-DK"},{code:"DJ",name:"Djibouti",currency:"DJF",currencyName:"Djiboutian Franc",symbol:"Fr",locale:"fr-DJ"},{code:"DO",name:"Dominican Republic",currency:"DOP",currencyName:"Dominican Peso",symbol:"RD$",locale:"es-DO"},{code:"EC",name:"Ecuador",currency:"USD",currencyName:"US Dollar",symbol:"$",locale:"es-EC"},{code:"EG",name:"Egypt",currency:"EGP",currencyName:"Egyptian Pound",symbol:"E",locale:"ar-EG"},{code:"SV",name:"El Salvador",currency:"USD",currencyName:"US Dollar",symbol:"$",locale:"es-SV"},{code:"GQ",name:"Equatorial Guinea",currency:"XAF",currencyName:"Central African CFA",symbol:"Fr",locale:"es-GQ"},{code:"ER",name:"Eritrea",currency:"ERN",currencyName:"Eritrean Nakfa",symbol:"Nfk",locale:"ti-ER"},{code:"EE",name:"Estonia",currency:"EUR",currencyName:"Euro",symbol:"",locale:"et-EE"},{code:"SZ",name:"Eswatini",currency:"SZL",currencyName:"Swazi Lilangeni",symbol:"L",locale:"en-SZ"},{code:"ET",name:"Ethiopia",currency:"ETB",currencyName:"Ethiopian Birr",symbol:"Br",locale:"am-ET"},{code:"FJ",name:"Fiji",currency:"FJD",currencyName:"Fijian Dollar",symbol:"FJ$",locale:"en-FJ"},{code:"FI",name:"Finland",currency:"EUR",currencyName:"Euro",symbol:"",locale:"fi-FI"},{code:"FR",name:"France",currency:"EUR",currencyName:"Euro",symbol:"",locale:"fr-FR"},{code:"GA",name:"Gabon",currency:"XAF",currencyName:"Central African CFA",symbol:"Fr",locale:"fr-GA"},{code:"GM",name:"Gambia",currency:"GMD",currencyName:"Gambian Dalasi",symbol:"D",locale:"en-GM"},{code:"GE",name:"Georgia",currency:"GEL",currencyName:"Georgian Lari",symbol:"",locale:"ka-GE"},{code:"DE",name:"Germany",currency:"EUR",currencyName:"Euro",symbol:"",locale:"de-DE"},{code:"GH",name:"Ghana",currency:"GHS",currencyName:"Ghanaian Cedi",symbol:"",locale:"en-GH"},{code:"GR",name:"Greece",currency:"EUR",currencyName:"Euro",symbol:"",locale:"el-GR"},{code:"GT",name:"Guatemala",currency:"GTQ",currencyName:"Guatemalan Quetzal",symbol:"Q",locale:"es-GT"},{code:"GN",name:"Guinea",currency:"GNF",currencyName:"Guinean Franc",symbol:"Fr",locale:"fr-GN"},{code:"GW",name:"Guinea-Bissau",currency:"XOF",currencyName:"West African CFA Franc",symbol:"Fr",locale:"pt-GW"},{code:"GY",name:"Guyana",currency:"GYD",currencyName:"Guyanese Dollar",symbol:"G$",locale:"en-GY"},{code:"HT",name:"Haiti",currency:"HTG",currencyName:"Haitian Gourde",symbol:"G",locale:"fr-HT"},{code:"HN",name:"Honduras",currency:"HNL",currencyName:"Honduran Lempira",symbol:"L",locale:"es-HN"},{code:"HK",name:"Hong Kong",currency:"HKD",currencyName:"Hong Kong Dollar",symbol:"HK$",locale:"zh-HK"},{code:"HU",name:"Hungary",currency:"HUF",currencyName:"Hungarian Forint",symbol:"Ft",locale:"hu-HU"},{code:"IS",name:"Iceland",currency:"ISK",currencyName:"Icelandic Krna",symbol:"kr",locale:"is-IS"},{code:"IN",name:"India",currency:"INR",currencyName:"Indian Rupee",symbol:"",locale:"en-IN"},{code:"ID",name:"Indonesia",currency:"IDR",currencyName:"Indonesian Rupiah",symbol:"Rp",locale:"id-ID"},{code:"IR",name:"Iran",currency:"IRR",currencyName:"Iranian Rial",symbol:"",locale:"fa-IR"},{code:"IQ",name:"Iraq",currency:"IQD",currencyName:"Iraqi Dinar",symbol:".",locale:"ar-IQ"},{code:"IE",name:"Ireland",currency:"EUR",currencyName:"Euro",symbol:"",locale:"en-IE"},{code:"IL",name:"Israel",currency:"ILS",currencyName:"Israeli New Shekel",symbol:"",locale:"he-IL"},{code:"IT",name:"Italy",currency:"EUR",currencyName:"Euro",symbol:"",locale:"it-IT"},{code:"JM",name:"Jamaica",currency:"JMD",currencyName:"Jamaican Dollar",symbol:"J$",locale:"en-JM"},{code:"JP",name:"Japan",currency:"JPY",currencyName:"Japanese Yen",symbol:"",locale:"ja-JP"},{code:"JO",name:"Jordan",currency:"JOD",currencyName:"Jordanian Dinar",symbol:"JD",locale:"ar-JO"},{code:"KZ",name:"Kazakhstan",currency:"KZT",currencyName:"Kazakhstani Tenge",symbol:"",locale:"kk-KZ"},{code:"KE",name:"Kenya",currency:"KES",currencyName:"Kenyan Shilling",symbol:"Ksh",locale:"en-KE"},{code:"KW",name:"Kuwait",currency:"KWD",currencyName:"Kuwaiti Dinar",symbol:"KD",locale:"ar-KW"},{code:"KG",name:"Kyrgyzstan",currency:"KGS",currencyName:"Kyrgystani Som",symbol:"",locale:"ky-KG"},{code:"LA",name:"Laos",currency:"LAK",currencyName:"Lao Kip",symbol:"",locale:"lo-LA"},{code:"LV",name:"Latvia",currency:"EUR",currencyName:"Euro",symbol:"",locale:"lv-LV"},{code:"LB",name:"Lebanon",currency:"LBP",currencyName:"Lebanese Pound",symbol:"L",locale:"ar-LB"},{code:"LS",name:"Lesotho",currency:"LSL",currencyName:"Lesotho Loti",symbol:"L",locale:"en-LS"},{code:"LR",name:"Liberia",currency:"LRD",currencyName:"Liberian Dollar",symbol:"L$",locale:"en-LR"},{code:"LY",name:"Libya",currency:"LYD",currencyName:"Libyan Dinar",symbol:"LD",locale:"ar-LY"},{code:"LI",name:"Liechtenstein",currency:"CHF",currencyName:"Swiss Franc",symbol:"Fr",locale:"de-LI"},{code:"LT",name:"Lithuania",currency:"EUR",currencyName:"Euro",symbol:"",locale:"lt-LT"},{code:"LU",name:"Luxembourg",currency:"EUR",currencyName:"Euro",symbol:"",locale:"fr-LU"},{code:"MO",name:"Macao",currency:"MOP",currencyName:"Macanese Pataca",symbol:"P",locale:"zh-MO"},{code:"MG",name:"Madagascar",currency:"MGA",currencyName:"Malagasy Ariary",symbol:"Ar",locale:"mg-MG"},{code:"MW",name:"Malawi",currency:"MWK",currencyName:"Malawian Kwacha",symbol:"MK",locale:"en-MW"},{code:"MY",name:"Malaysia",currency:"MYR",currencyName:"Malaysian Ringgit",symbol:"RM",locale:"ms-MY"},{code:"MV",name:"Maldives",currency:"MVR",currencyName:"Maldivian Rufiyaa",symbol:"Rf",locale:"dv-MV"},{code:"ML",name:"Mali",currency:"XOF",currencyName:"West African CFA Franc",symbol:"Fr",locale:"fr-ML"},{code:"MT",name:"Malta",currency:"EUR",currencyName:"Euro",symbol:"",locale:"mt-MT"},{code:"MR",name:"Mauritania",currency:"MRU",currencyName:"Mauritanian Ouguiya",symbol:"UM",locale:"ar-MR"},{code:"MU",name:"Mauritius",currency:"MUR",currencyName:"Mauritian Rupee",symbol:"Rs",locale:"en-MU"},{code:"MX",name:"Mexico",currency:"MXN",currencyName:"Mexican Peso",symbol:"$",locale:"es-MX"},{code:"MD",name:"Moldova",currency:"MDL",currencyName:"Moldovan Leu",symbol:"L",locale:"ro-MD"},{code:"MC",name:"Monaco",currency:"EUR",currencyName:"Euro",symbol:"",locale:"fr-MC"},{code:"MN",name:"Mongolia",currency:"MNT",currencyName:"Mongolian Tgrg",symbol:"",locale:"mn-MN"},{code:"ME",name:"Montenegro",currency:"EUR",currencyName:"Euro",symbol:"",locale:"sr-ME"},{code:"MA",name:"Morocco",currency:"MAD",currencyName:"Moroccan Dirham",symbol:"MAD",locale:"ar-MA"},{code:"MZ",name:"Mozambique",currency:"MZN",currencyName:"Mozambican Metical",symbol:"MT",locale:"pt-MZ"},{code:"MM",name:"Myanmar",currency:"MMK",currencyName:"Myanmar Kyat",symbol:"K",locale:"my-MM"},{code:"NA",name:"Namibia",currency:"NAD",currencyName:"Namibian Dollar",symbol:"N$",locale:"en-NA"},{code:"NP",name:"Nepal",currency:"NPR",currencyName:"Nepalese Rupee",symbol:"Rs",locale:"ne-NP"},{code:"NL",name:"Netherlands",currency:"EUR",currencyName:"Euro",symbol:"",locale:"nl-NL"},{code:"NZ",name:"New Zealand",currency:"NZD",currencyName:"New Zealand Dollar",symbol:"NZ$",locale:"en-NZ"},{code:"NI",name:"Nicaragua",currency:"NIO",currencyName:"Nicaraguan Crdoba",symbol:"C$",locale:"es-NI"},{code:"NE",name:"Niger",currency:"XOF",currencyName:"West African CFA Franc",symbol:"Fr",locale:"fr-NE"},{code:"NG",name:"Nigeria",currency:"NGN",currencyName:"Nigerian Naira",symbol:"",locale:"en-NG"},{code:"NO",name:"Norway",currency:"NOK",currencyName:"Norwegian Krone",symbol:"kr",locale:"no-NO"},{code:"OM",name:"Oman",currency:"OMR",currencyName:"Omani Rial",symbol:"R.O",locale:"ar-OM"},{code:"PK",name:"Pakistan",currency:"PKR",currencyName:"Pakistani Rupee",symbol:"Rs",locale:"ur-PK"},{code:"PA",name:"Panama",currency:"PAB",currencyName:"Panamanian Balboa",symbol:"B/.",locale:"es-PA"},{code:"PG",name:"Papua New Guinea",currency:"PGK",currencyName:"Papua New Guinean Kina",symbol:"K",locale:"en-PG"},{code:"PY",name:"Paraguay",currency:"PYG",currencyName:"Paraguayan Guaran",symbol:"",locale:"es-PY"},{code:"PE",name:"Peru",currency:"PEN",currencyName:"Peruvian Sol",symbol:"S/.",locale:"es-PE"},{code:"PH",name:"Philippines",currency:"PHP",currencyName:"Philippine Peso",symbol:"",locale:"en-PH"},{code:"PL",name:"Poland",currency:"PLN",currencyName:"Polish Zoty",symbol:"z",locale:"pl-PL"},{code:"PT",name:"Portugal",currency:"EUR",currencyName:"Euro",symbol:"",locale:"pt-PT"},{code:"QA",name:"Qatar",currency:"QAR",currencyName:"Qatari Riyal",symbol:"QR",locale:"ar-QA"},{code:"RO",name:"Romania",currency:"RON",currencyName:"Romanian Leu",symbol:"lei",locale:"ro-RO"},{code:"RU",name:"Russia",currency:"RUB",currencyName:"Russian Ruble",symbol:"",locale:"ru-RU"},{code:"RW",name:"Rwanda",currency:"RWF",currencyName:"Rwandan Franc",symbol:"Fr",locale:"rw-RW"},{code:"SA",name:"Saudi Arabia",currency:"SAR",currencyName:"Saudi Riyal",symbol:"SR",locale:"ar-SA"},{code:"SN",name:"Senegal",currency:"XOF",currencyName:"West African CFA Franc",symbol:"Fr",locale:"fr-SN"},{code:"RS",name:"Serbia",currency:"RSD",currencyName:"Serbian Dinar",symbol:"din",locale:"sr-RS"},{code:"SL",name:"Sierra Leone",currency:"SLL",currencyName:"Sierra Leonean Leone",symbol:"Le",locale:"en-SL"},{code:"SG",name:"Singapore",currency:"SGD",currencyName:"Singapore Dollar",symbol:"S$",locale:"en-SG"},{code:"SK",name:"Slovakia",currency:"EUR",currencyName:"Euro",symbol:"",locale:"sk-SK"},{code:"SI",name:"Slovenia",currency:"EUR",currencyName:"Euro",symbol:"",locale:"sl-SI"},{code:"SO",name:"Somalia",currency:"SOS",currencyName:"Somali Shilling",symbol:"Sh",locale:"so-SO"},{code:"ZA",name:"South Africa",currency:"ZAR",currencyName:"South African Rand",symbol:"R",locale:"en-ZA"},{code:"SS",name:"South Sudan",currency:"SSP",currencyName:"South Sudanese Pound",symbol:"",locale:"en-SS"},{code:"ES",name:"Spain",currency:"EUR",currencyName:"Euro",symbol:"",locale:"es-ES"},{code:"LK",name:"Sri Lanka",currency:"LKR",currencyName:"Sri Lankan Rupee",symbol:"Rs",locale:"si-LK"},{code:"SD",name:"Sudan",currency:"SDG",currencyName:"Sudanese Pound",symbol:".",locale:"ar-SD"},{code:"SE",name:"Sweden",currency:"SEK",currencyName:"Swedish Krona",symbol:"kr",locale:"sv-SE"},{code:"CH",name:"Switzerland",currency:"CHF",currencyName:"Swiss Franc",symbol:"Fr",locale:"de-CH"},{code:"SY",name:"Syria",currency:"SYP",currencyName:"Syrian Pound",symbol:"",locale:"ar-SY"},{code:"TW",name:"Taiwan",currency:"TWD",currencyName:"New Taiwan Dollar",symbol:"NT$",locale:"zh-TW"},{code:"TJ",name:"Tajikistan",currency:"TJS",currencyName:"Tajikistani Somoni",symbol:"SM",locale:"tg-TJ"},{code:"TZ",name:"Tanzania",currency:"TZS",currencyName:"Tanzanian Shilling",symbol:"Sh",locale:"sw-TZ"},{code:"TH",name:"Thailand",currency:"THB",currencyName:"Thai Baht",symbol:"",locale:"th-TH"},{code:"TL",name:"Timor-Leste",currency:"USD",currencyName:"US Dollar",symbol:"$",locale:"pt-TL"},{code:"TG",name:"Togo",currency:"XOF",currencyName:"West African CFA Franc",symbol:"Fr",locale:"fr-TG"},{code:"TT",name:"Trinidad and Tobago",currency:"TTD",currencyName:"Trinidad Dollar",symbol:"TT$",locale:"en-TT"},{code:"TN",name:"Tunisia",currency:"TND",currencyName:"Tunisian Dinar",symbol:"DT",locale:"ar-TN"},{code:"TR",name:"Turkey",currency:"TRY",currencyName:"Turkish Lira",symbol:"",locale:"tr-TR"},{code:"TM",name:"Turkmenistan",currency:"TMT",currencyName:"Turkmenistani Manat",symbol:"T",locale:"tk-TM"},{code:"UG",name:"Uganda",currency:"UGX",currencyName:"Ugandan Shilling",symbol:"Sh",locale:"en-UG"},{code:"UA",name:"Ukraine",currency:"UAH",currencyName:"Ukrainian Hryvnia",symbol:"",locale:"uk-UA"},{code:"AE",name:"United Arab Emirates",currency:"AED",currencyName:"UAE Dirham",symbol:"AED",locale:"ar-AE"},{code:"GB",name:"United Kingdom",currency:"GBP",currencyName:"British Pound",symbol:"",locale:"en-GB"},{code:"US",name:"United States",currency:"USD",currencyName:"US Dollar",symbol:"$",locale:"en-US"},{code:"UY",name:"Uruguay",currency:"UYU",currencyName:"Uruguayan Peso",symbol:"$U",locale:"es-UY"},{code:"UZ",name:"Uzbekistan",currency:"UZS",currencyName:"Uzbekistani Som",symbol:"",locale:"uz-UZ"},{code:"VE",name:"Venezuela",currency:"VES",currencyName:"Venezuelan Bolvar",symbol:"Bs.S",locale:"es-VE"},{code:"VN",name:"Vietnam",currency:"VND",currencyName:"Vietnamese ng",symbol:"",locale:"vi-VN"},{code:"YE",name:"Yemen",currency:"YER",currencyName:"Yemeni Rial",symbol:"",locale:"ar-YE"},{code:"ZM",name:"Zambia",currency:"ZMW",currencyName:"Zambian Kwacha",symbol:"ZK",locale:"en-ZM"},{code:"ZW",name:"Zimbabwe",currency:"ZWL",currencyName:"Zimbabwean Dollar",symbol:"Z$",locale:"en-ZW"}];function td(t){return t?t.toUpperCase().split("").map(e=>String.fromCodePoint(e.charCodeAt(0)+127397)).join(""):""}function I0(t){return NT.find(e=>e.code===t)||null}function WI(t,e="USD",n="en-US"){if(t==null||isNaN(t))return"";try{return new Intl.NumberFormat(n,{style:"currency",currency:e,minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}catch{const r=NT.find(i=>i.currency===e);return`${(r==null?void 0:r.symbol)??""}${Number(t).toLocaleString()}`}}const P9=z.createContext(null),HI="leaseease_locale",GI={countryCode:"NG"};function gie({children:t}){const[e,n]=z.useState(()=>{try{const o=localStorage.getItem(HI);if(o){const l=JSON.parse(o);if(I0(l.countryCode))return l.countryCode}}catch{}return GI.countryCode}),r=I0(e)??I0(GI.countryCode);z.useEffect(()=>{localStorage.setItem(HI,JSON.stringify({countryCode:e}))},[e]);const i=z.useCallback(o=>WI(o,r.currency,r.locale),[r]),a=z.useCallback((o,l="monthly")=>{if(!o&&o!==0)return"";const c={daily:"day",weekly:"week",monthly:"month",yearly:"year"};return`${WI(o,r.currency,r.locale)}/${c[l]??"month"}`},[r]),s=z.useCallback(o=>{I0(o)&&n(o)},[]);return d.jsx(P9.Provider,{value:{countryCode:e,country:r,currency:r.currency,currencyName:r.currencyName,currencySymbol:r.symbol,locale:r.locale,fmt:i,fmtRent:a,changeCountry:s,countries:NT},children:t})}function hi(){const t=z.useContext(P9);if(!t)throw new Error("useLocale must be inside LocaleProvider");return t}const ET=z.createContext({});function PT(t){const e=z.useRef(null);return e.current===null&&(e.current=t()),e.current}const Rx=z.createContext(null),TT=z.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class yie extends z.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function vie({children:t,isPresent:e}){const n=z.useId(),r=z.useRef(null),i=z.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=z.useContext(TT);return z.useInsertionEffect(()=>{const{width:s,height:o,top:l,left:c}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return a&&(u.nonce=a),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),d.jsx(yie,{isPresent:e,childRef:r,sizeRef:i,children:z.cloneElement(t,{ref:r})})}const bie=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:s})=>{const o=PT(xie),l=z.useId(),c=z.useCallback(f=>{o.set(f,!0);for(const h of o.values())if(!h)return;r&&r()},[o,r]),u=z.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c,register:f=>(o.set(f,!1),()=>o.delete(f))}),a?[Math.random(),c]:[n,c]);return z.useMemo(()=>{o.forEach((f,h)=>o.set(h,!1))},[n]),z.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),s==="popLayout"&&(t=d.jsx(vie,{isPresent:n,children:t})),d.jsx(Rx.Provider,{value:u,children:t})};function xie(){return new Map}function T9(t=!0){const e=z.useContext(Rx);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=z.useId();z.useEffect(()=>{t&&i(a)},[t]);const s=z.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,s]:[!0]}const j0=t=>t.key||"";function KI(t){const e=[];return z.Children.forEach(t,n=>{z.isValidElement(n)&&e.push(n)}),e}const kT=typeof window<"u",k9=kT?z.useLayoutEffect:z.useEffect,po=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1})=>{const[o,l]=T9(s),c=z.useMemo(()=>KI(t),[t]),u=s&&!o?[]:c.map(j0),f=z.useRef(!0),h=z.useRef(c),p=PT(()=>new Map),[y,b]=z.useState(c),[x,v]=z.useState(c);k9(()=>{f.current=!1,h.current=c;for(let A=0;A<x.length;A++){const P=j0(x[A]);u.includes(P)?p.delete(P):p.get(P)!==!0&&p.set(P,!1)}},[x,u.length,u.join("-")]);const w=[];if(c!==y){let A=[...c];for(let P=0;P<x.length;P++){const O=x[P],I=j0(O);u.includes(I)||(A.splice(P,0,O),w.push(O))}a==="wait"&&w.length&&(A=w),v(KI(A)),b(c);return}const{forceRender:S}=z.useContext(ET);return d.jsx(d.Fragment,{children:x.map(A=>{const P=j0(A),O=s&&!o?!1:c===x||u.includes(P),I=()=>{if(p.has(P))p.set(P,!0);else return;let E=!0;p.forEach(C=>{C||(E=!1)}),E&&(S==null||S(),v(h.current),s&&(l==null||l()),r&&r())};return d.jsx(bie,{isPresent:O,initial:!f.current||n?void 0:!1,custom:O?void 0:e,presenceAffectsLayout:i,mode:a,onExitComplete:O?void 0:I,children:A},P)})})},Xa=t=>t;let C9=Xa;function CT(t){let e;return()=>(e===void 0&&(e=t()),e)}const rp=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},zl=t=>t*1e3,ql=t=>t/1e3,wie={useManualTiming:!1};function _ie(t){let e=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function o(c){a.has(c)&&(l.schedule(c),t()),c(s)}const l={schedule:(c,u=!1,f=!1)=>{const p=f&&r?e:n;return u&&a.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),a.delete(c)},process:c=>{if(s=c,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(o),e.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const O0=["read","resolveKeyframes","update","preRender","render","postRender"],Sie=40;function I9(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=O0.reduce((v,w)=>(v[w]=_ie(a),v),{}),{read:o,resolveKeyframes:l,update:c,preRender:u,render:f,postRender:h}=s,p=()=>{const v=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(v-i.timestamp,Sie),1),i.timestamp=v,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),f.process(i),h.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(p))},y=()=>{n=!0,r=!0,i.isProcessing||t(p)};return{schedule:O0.reduce((v,w)=>{const S=s[w];return v[w]=(A,P=!1,O=!1)=>(n||y(),S.schedule(A,P,O)),v},{}),cancel:v=>{for(let w=0;w<O0.length;w++)s[O0[w]].cancel(v)},state:i,steps:s}}const{schedule:Xn,cancel:Iu,state:_i,steps:R5}=I9(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xa,!0),j9=z.createContext({strict:!1}),YI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ip={};for(const t in YI)ip[t]={isEnabled:e=>YI[t].some(n=>!!e[n])};function Aie(t){for(const e in t)ip[e]={...ip[e],...t[e]}}const Nie=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Nie.has(t)}let O9=t=>!kb(t);function Eie(t){t&&(O9=e=>e.startsWith("on")?!kb(e):t(e))}try{Eie(require("@emotion/is-prop-valid").default)}catch{}function Pie(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(O9(i)||n===!0&&kb(i)||!e&&!kb(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Tie(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Lx=z.createContext({});function hy(t){return typeof t=="string"||Array.isArray(t)}function Mx(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const IT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jT=["initial",...IT];function Dx(t){return Mx(t.animate)||jT.some(e=>hy(t[e]))}function R9(t){return!!(Dx(t)||t.variants)}function kie(t,e){if(Dx(t)){const{initial:n,animate:r}=t;return{initial:n===!1||hy(n)?n:void 0,animate:hy(r)?r:void 0}}return t.inherit!==!1?e:{}}function Cie(t){const{initial:e,animate:n}=kie(t,z.useContext(Lx));return z.useMemo(()=>({initial:e,animate:n}),[XI(e),XI(n)])}function XI(t){return Array.isArray(t)?t.join(" "):t}const Iie=Symbol.for("motionComponentSymbol");function fh(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function jie(t,e,n){return z.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):fh(n)&&(n.current=r))},[e])}const OT=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Oie="framerAppearId",L9="data-"+OT(Oie),{schedule:RT}=I9(queueMicrotask,!1),M9=z.createContext({});function Rie(t,e,n,r,i){var a,s;const{visualElement:o}=z.useContext(Lx),l=z.useContext(j9),c=z.useContext(Rx),u=z.useContext(TT).reducedMotion,f=z.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=f.current,p=z.useContext(M9);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&Lie(f.current,n,i,p);const y=z.useRef(!1);z.useInsertionEffect(()=>{h&&y.current&&h.update(n,c)});const b=n[L9],x=z.useRef(!!b&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,b))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,b)));return k9(()=>{h&&(y.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),RT.render(h.render),x.current&&h.animationState&&h.animationState.animateChanges())}),z.useEffect(()=>{h&&(!x.current&&h.animationState&&h.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,b)}),x.current=!1))}),h}function Lie(t,e,n,r){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:D9(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&fh(o),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function D9(t){if(t)return t.options.allowProjection!==!1?t.projection:D9(t.parent)}function Mie({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,s;t&&Aie(t);function o(c,u){let f;const h={...z.useContext(TT),...c,layoutId:Die(c)},{isStatic:p}=h,y=Cie(c),b=r(c,p);if(!p&&kT){Fie();const x=$ie(h);f=x.MeasureLayout,y.visualElement=Rie(i,b,h,e,x.ProjectionNode)}return d.jsxs(Lx.Provider,{value:y,children:[f&&y.visualElement?d.jsx(f,{visualElement:y.visualElement,...h}):null,n(i,c,jie(b,y.visualElement,u),b,p,y.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(s=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&s!==void 0?s:""})`}`;const l=z.forwardRef(o);return l[Iie]=i,l}function Die({layoutId:t}){const e=z.useContext(ET).id;return e&&t!==void 0?e+"-"+t:t}function Fie(t,e){z.useContext(j9).strict}function $ie(t){const{drag:e,layout:n}=ip;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Bie=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function LT(t){return typeof t!="string"||t.includes("-")?!1:!!(Bie.indexOf(t)>-1||/[A-Z]/u.test(t))}function QI(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function MT(t,e,n,r){if(typeof e=="function"){const[i,a]=QI(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=QI(r);e=e(n!==void 0?n:t.custom,i,a)}return e}const NA=t=>Array.isArray(t),Vie=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Uie=t=>NA(t)?t[t.length-1]||0:t,Xi=t=>!!(t&&t.getVelocity);function C1(t){const e=Xi(t)?t.get():t;return Vie(e)?e.toValue():e}function zie({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,a){const s={latestValues:qie(r,i,a,t),renderState:e()};return n&&(s.onMount=o=>n({props:r,current:o,...s}),s.onUpdate=o=>n(o)),s}const F9=t=>(e,n)=>{const r=z.useContext(Lx),i=z.useContext(Rx),a=()=>zie(t,e,r,i);return n?a():PT(a)};function qie(t,e,n,r){const i={},a=r(t,{});for(const h in a)i[h]=C1(a[h]);let{initial:s,animate:o}=t;const l=Dx(t),c=R9(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),o===void 0&&(o=e.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const f=u?o:s;if(f&&typeof f!="boolean"&&!Mx(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const y=MT(t,h[p]);if(y){const{transitionEnd:b,transition:x,...v}=y;for(const w in v){let S=v[w];if(Array.isArray(S)){const A=u?S.length-1:0;S=S[A]}S!==null&&(i[w]=S)}for(const w in b)i[w]=b[w]}}}return i}const Bp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bd=new Set(Bp),$9=t=>e=>typeof e=="string"&&e.startsWith(t),B9=$9("--"),Wie=$9("var(--"),DT=t=>Wie(t)?Hie.test(t.split("/*")[0].trim()):!1,Hie=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,V9=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ac=(t,e,n)=>n>e?e:n<t?t:n,Vp={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},py={...Vp,transform:t=>ac(0,1,t)},R0={...Vp,default:1},Tv=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Wc=Tv("deg"),Qo=Tv("%"),St=Tv("px"),Gie=Tv("vh"),Kie=Tv("vw"),JI={...Qo,parse:t=>Qo.parse(t)/100,transform:t=>Qo.transform(t*100)},Yie={borderWidth:St,borderTopWidth:St,borderRightWidth:St,borderBottomWidth:St,borderLeftWidth:St,borderRadius:St,radius:St,borderTopLeftRadius:St,borderTopRightRadius:St,borderBottomRightRadius:St,borderBottomLeftRadius:St,width:St,maxWidth:St,height:St,maxHeight:St,top:St,right:St,bottom:St,left:St,padding:St,paddingTop:St,paddingRight:St,paddingBottom:St,paddingLeft:St,margin:St,marginTop:St,marginRight:St,marginBottom:St,marginLeft:St,backgroundPositionX:St,backgroundPositionY:St},Xie={rotate:Wc,rotateX:Wc,rotateY:Wc,rotateZ:Wc,scale:R0,scaleX:R0,scaleY:R0,scaleZ:R0,skew:Wc,skewX:Wc,skewY:Wc,distance:St,translateX:St,translateY:St,translateZ:St,x:St,y:St,z:St,perspective:St,transformPerspective:St,opacity:py,originX:JI,originY:JI,originZ:St},ZI={...Vp,transform:Math.round},FT={...Yie,...Xie,zIndex:ZI,size:St,fillOpacity:py,strokeOpacity:py,numOctaves:ZI},Qie={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Jie=Bp.length;function Zie(t,e,n){let r="",i=!0;for(let a=0;a<Jie;a++){const s=Bp[a],o=t[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const c=V9(o,FT[s]);if(!l){i=!1;const u=Qie[s]||s;r+=`${u}(${c}) `}n&&(e[s]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function $T(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let s=!1,o=!1;for(const l in e){const c=e[l];if(bd.has(l)){s=!0;continue}else if(B9(l)){i[l]=c;continue}else{const u=V9(c,FT[l]);l.startsWith("origin")?(o=!0,a[l]=u):r[l]=u}}if(e.transform||(s||n?r.transform=Zie(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=a;r.transformOrigin=`${l} ${c} ${u}`}}const eae={offset:"stroke-dashoffset",array:"stroke-dasharray"},tae={offset:"strokeDashoffset",array:"strokeDasharray"};function nae(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?eae:tae;t[a.offset]=St.transform(-r);const s=St.transform(e),o=St.transform(n);t[a.array]=`${s} ${o}`}function ej(t,e,n){return typeof t=="string"?t:St.transform(e+n*t)}function rae(t,e,n){const r=ej(e,t.x,t.width),i=ej(n,t.y,t.height);return`${r} ${i}`}function BT(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},u,f){if($T(t,c,f),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p,dimensions:y}=t;h.transform&&(y&&(p.transform=h.transform),delete h.transform),y&&(i!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=rae(y,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&nae(h,s,o,l,!1)}const VT=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),U9=()=>({...VT(),attrs:{}}),UT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function z9(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const q9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function W9(t,e,n,r){z9(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(q9.has(i)?i:OT(i),e.attrs[i])}const Cb={};function iae(t){Object.assign(Cb,t)}function H9(t,{layout:e,layoutId:n}){return bd.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Cb[t]||t==="opacity")}function zT(t,e,n){var r;const{style:i}=t,a={};for(const s in i)(Xi(i[s])||e.style&&Xi(e.style[s])||H9(s,t)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[s]=i[s]);return a}function G9(t,e,n){const r=zT(t,e,n);for(const i in t)if(Xi(t[i])||Xi(e[i])){const a=Bp.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function aae(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const tj=["x","y","width","height","cx","cy","r"],sae={useVisualState:F9({scrapeMotionValuesFromProps:G9,createRenderState:U9,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const o in i)if(bd.has(o)){a=!0;break}}if(!a)return;let s=!e;if(e)for(let o=0;o<tj.length;o++){const l=tj[o];t[l]!==e[l]&&(s=!0)}s&&Xn.read(()=>{aae(n,r),Xn.render(()=>{BT(r,i,UT(n.tagName),t.transformTemplate),W9(n,r)})})}})},oae={useVisualState:F9({scrapeMotionValuesFromProps:zT,createRenderState:VT})};function K9(t,e,n){for(const r in e)!Xi(e[r])&&!H9(r,n)&&(t[r]=e[r])}function lae({transformTemplate:t},e){return z.useMemo(()=>{const n=VT();return $T(n,e,t),Object.assign({},n.vars,n.style)},[e])}function cae(t,e){const n=t.style||{},r={};return K9(r,n,t),Object.assign(r,lae(t,e)),r}function uae(t,e){const n={},r=cae(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function fae(t,e,n,r){const i=z.useMemo(()=>{const a=U9();return BT(a,e,UT(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};K9(a,t.style,t),i.style={...a,...i.style}}return i}function dae(t=!1){return(n,r,i,{latestValues:a},s)=>{const l=(LT(n)?fae:uae)(r,a,s,n),c=Pie(r,typeof n=="string",t),u=n!==z.Fragment?{...c,...l,ref:i}:{},{children:f}=r,h=z.useMemo(()=>Xi(f)?f.get():f,[f]);return z.createElement(n,{...u,children:h})}}function hae(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...LT(r)?sae:oae,preloadedFeatures:t,useRender:dae(i),createVisualElement:e,Component:r};return Mie(s)}}function Y9(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Fx(t,e,n){const r=t.getProps();return MT(r,e,n!==void 0?n:r.custom,t)}const pae=CT(()=>window.ScrollTimeline!==void 0);class mae{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(pae()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class gae extends mae{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function qT(t,e){return t?t[e]||t.default||t:void 0}const EA=2e4;function X9(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<EA;)e+=n,r=t.next(e);return e>=EA?1/0:e}function WT(t){return typeof t=="function"}function nj(t,e){t.timeline=e,t.onfinish=null}const HT=t=>Array.isArray(t)&&typeof t[0]=="number",yae={linearEasing:void 0};function vae(t,e){const n=CT(t);return()=>{var r;return(r=yae[e])!==null&&r!==void 0?r:n()}}const Ib=vae(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Q9=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=t(rp(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function J9(t){return!!(typeof t=="function"&&Ib()||!t||typeof t=="string"&&(t in PA||Ib())||HT(t)||Array.isArray(t)&&t.every(J9))}const og=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,PA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:og([0,.65,.55,1]),circOut:og([.55,0,1,.45]),backIn:og([.31,.01,.66,-.59]),backOut:og([.33,1.53,.69,.99])};function Z9(t,e){if(t)return typeof t=="function"&&Ib()?Q9(t,e):HT(t)?og(t):Array.isArray(t)?t.map(n=>Z9(n,e)||PA.easeOut):PA[t]}const eo={x:!1,y:!1};function eB(){return eo.x||eo.y}function bae(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function tB(t,e){const n=bae(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function rj(t){return e=>{e.pointerType==="touch"||eB()||t(e)}}function xae(t,e,n={}){const[r,i,a]=tB(t,n),s=rj(o=>{const{target:l}=o,c=e(o);if(typeof c!="function"||!l)return;const u=rj(f=>{c(f),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return r.forEach(o=>{o.addEventListener("pointerenter",s,i)}),a}const nB=(t,e)=>e?t===e?!0:nB(t,e.parentElement):!1,GT=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,wae=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _ae(t){return wae.has(t.tagName)||t.tabIndex!==-1}const lg=new WeakSet;function ij(t){return e=>{e.key==="Enter"&&t(e)}}function L5(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Sae=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=ij(()=>{if(lg.has(n))return;L5(n,"down");const i=ij(()=>{L5(n,"up")}),a=()=>L5(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function aj(t){return GT(t)&&!eB()}function Aae(t,e,n={}){const[r,i,a]=tB(t,n),s=o=>{const l=o.currentTarget;if(!aj(o)||lg.has(l))return;lg.add(l);const c=e(o),u=(p,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!aj(p)||!lg.has(l))&&(lg.delete(l),typeof c=="function"&&c(p,{success:y}))},f=p=>{u(p,n.useGlobalTarget||nB(l,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return r.forEach(o=>{!_ae(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",s,i),o.addEventListener("focus",c=>Sae(c,i),i)}),a}function Nae(t){return t==="x"||t==="y"?eo[t]?null:(eo[t]=!0,()=>{eo[t]=!1}):eo.x||eo.y?null:(eo.x=eo.y=!0,()=>{eo.x=eo.y=!1})}const rB=new Set(["width","height","top","left","right","bottom",...Bp]);let I1;function Eae(){I1=void 0}const Jo={now:()=>(I1===void 0&&Jo.set(_i.isProcessing||wie.useManualTiming?_i.timestamp:performance.now()),I1),set:t=>{I1=t,queueMicrotask(Eae)}};function KT(t,e){t.indexOf(e)===-1&&t.push(e)}function YT(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class XT{constructor(){this.subscriptions=[]}add(e){return KT(this.subscriptions,e),()=>YT(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function iB(t,e){return e?t*(1e3/e):0}const sj=30,Pae=t=>!isNaN(parseFloat(t));class Tae{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Jo.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Jo.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Pae(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new XT);const r=this.events[e].add(n);return e==="change"?()=>{r(),Xn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Jo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>sj)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,sj);return iB(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function my(t,e){return new Tae(t,e)}function kae(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,my(n))}function Cae(t,e){const n=Fx(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const s in a){const o=Uie(a[s]);kae(t,s,o)}}function Iae(t){return!!(Xi(t)&&t.add)}function TA(t,e){const n=t.getValue("willChange");if(Iae(n))return n.add(e)}function aB(t){return t.props[L9]}const sB=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,jae=1e-7,Oae=12;function Rae(t,e,n,r,i){let a,s,o=0;do s=e+(n-e)/2,a=sB(s,r,i)-t,a>0?n=s:e=s;while(Math.abs(a)>jae&&++o<Oae);return s}function kv(t,e,n,r){if(t===e&&n===r)return Xa;const i=a=>Rae(a,0,1,t,n);return a=>a===0||a===1?a:sB(i(a),e,r)}const oB=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,lB=t=>e=>1-t(1-e),cB=kv(.33,1.53,.69,.99),QT=lB(cB),uB=oB(QT),fB=t=>(t*=2)<1?.5*QT(t):.5*(2-Math.pow(2,-10*(t-1))),JT=t=>1-Math.sin(Math.acos(t)),dB=lB(JT),hB=oB(JT),pB=t=>/^0[^.\s]+$/u.test(t);function Lae(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||pB(t):!0}const Eg=t=>Math.round(t*1e5)/1e5,ZT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Mae(t){return t==null}const Dae=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,e4=(t,e)=>n=>!!(typeof n=="string"&&Dae.test(n)&&n.startsWith(t)||e&&!Mae(n)&&Object.prototype.hasOwnProperty.call(n,e)),mB=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,s,o]=r.match(ZT);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},Fae=t=>ac(0,255,t),M5={...Vp,transform:t=>Math.round(Fae(t))},Cf={test:e4("rgb","red"),parse:mB("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+M5.transform(t)+", "+M5.transform(e)+", "+M5.transform(n)+", "+Eg(py.transform(r))+")"};function $ae(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const kA={test:e4("#"),parse:$ae,transform:Cf.transform},dh={test:e4("hsl","hue"),parse:mB("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Qo.transform(Eg(e))+", "+Qo.transform(Eg(n))+", "+Eg(py.transform(r))+")"},zi={test:t=>Cf.test(t)||kA.test(t)||dh.test(t),parse:t=>Cf.test(t)?Cf.parse(t):dh.test(t)?dh.parse(t):kA.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Cf.transform(t):dh.transform(t)},Bae=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Vae(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ZT))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Bae))===null||n===void 0?void 0:n.length)||0)>0}const gB="number",yB="color",Uae="var",zae="var(",oj="${}",qae=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gy(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const o=e.replace(qae,l=>(zi.test(l)?(r.color.push(a),i.push(yB),n.push(zi.parse(l))):l.startsWith(zae)?(r.var.push(a),i.push(Uae),n.push(l)):(r.number.push(a),i.push(gB),n.push(parseFloat(l))),++a,oj)).split(oj);return{values:n,split:o,indexes:r,types:i}}function vB(t){return gy(t).values}function bB(t){const{split:e,types:n}=gy(t),r=e.length;return i=>{let a="";for(let s=0;s<r;s++)if(a+=e[s],i[s]!==void 0){const o=n[s];o===gB?a+=Eg(i[s]):o===yB?a+=zi.transform(i[s]):a+=i[s]}return a}}const Wae=t=>typeof t=="number"?0:t;function Hae(t){const e=vB(t);return bB(t)(e.map(Wae))}const ju={test:Vae,parse:vB,createTransformer:bB,getAnimatableNone:Hae},Gae=new Set(["brightness","contrast","saturate","opacity"]);function Kae(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ZT)||[];if(!r)return t;const i=n.replace(r,"");let a=Gae.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const Yae=/\b([a-z-]*)\(.*?\)/gu,CA={...ju,getAnimatableNone:t=>{const e=t.match(Yae);return e?e.map(Kae).join(" "):t}},Xae={...FT,color:zi,backgroundColor:zi,outlineColor:zi,fill:zi,stroke:zi,borderColor:zi,borderTopColor:zi,borderRightColor:zi,borderBottomColor:zi,borderLeftColor:zi,filter:CA,WebkitFilter:CA},t4=t=>Xae[t];function xB(t,e){let n=t4(t);return n!==CA&&(n=ju),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Qae=new Set(["auto","none","0"]);function Jae(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!Qae.has(a)&&gy(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=xB(n,i)}const lj=t=>t===Vp||t===St,cj=(t,e)=>parseFloat(t.split(", ")[e]),uj=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return cj(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?cj(a[1],t):0}},Zae=new Set(["x","y","z"]),ese=Bp.filter(t=>!Zae.has(t));function tse(t){const e=[];return ese.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ap={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:uj(4,13),y:uj(5,14)};ap.translateX=ap.x;ap.translateY=ap.y;const $f=new Set;let IA=!1,jA=!1;function wB(){if(jA){const t=Array.from($f).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=tse(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,s])=>{var o;(o=r.getValue(a))===null||o===void 0||o.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}jA=!1,IA=!1,$f.forEach(t=>t.complete()),$f.clear()}function _B(){$f.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(jA=!0)})}function nse(){_B(),wB()}class n4{constructor(e,n,r,i,a,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?($f.add(this),IA||(IA=!0,Xn.read(_B),Xn.resolveKeyframes(wB))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),$f.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,$f.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const SB=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),rse=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ise(t){const e=rse.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function AB(t,e,n=1){const[r,i]=ise(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const s=a.trim();return SB(s)?parseFloat(s):s}return DT(i)?AB(i,e,n+1):i}const NB=t=>e=>e.test(t),ase={test:t=>t==="auto",parse:t=>t},EB=[Vp,St,Qo,Wc,Kie,Gie,ase],fj=t=>EB.find(NB(t));class PB extends n4{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),DT(c))){const u=AB(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!rB.has(r)||e.length!==2)return;const[i,a]=e,s=fj(i),o=fj(a);if(s!==o)if(lj(s)&&lj(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Lae(e[i])&&r.push(i);r.length&&Jae(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ap[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=ap[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const dj=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ju.test(t)||t==="0")&&!t.startsWith("url("));function sse(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function ose(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],s=dj(i,e),o=dj(a,e);return!s||!o?!1:sse(t)||(n==="spring"||WT(n))&&r}const lse=t=>t!==null;function $x(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(lse),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const cse=40;class TB{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Jo.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:s,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>cse?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&nse(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Jo.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:s,onComplete:o,onUpdate:l,isGenerator:c}=this.options;if(!c&&!ose(e,r,i,a))if(s)this.options.duration=0;else{l&&l($x(e,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const lr=(t,e,n)=>t+(e-t)*n;function D5(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function use({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,s=0;if(!e)i=a=s=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=D5(l,o,t+1/3),a=D5(l,o,t),s=D5(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}function jb(t,e){return n=>n>0?e:t}const F5=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},fse=[kA,Cf,dh],dse=t=>fse.find(e=>e.test(t));function hj(t){const e=dse(t);if(!e)return!1;let n=e.parse(t);return e===dh&&(n=use(n)),n}const pj=(t,e)=>{const n=hj(t),r=hj(e);if(!n||!r)return jb(t,e);const i={...n};return a=>(i.red=F5(n.red,r.red,a),i.green=F5(n.green,r.green,a),i.blue=F5(n.blue,r.blue,a),i.alpha=lr(n.alpha,r.alpha,a),Cf.transform(i))},hse=(t,e)=>n=>e(t(n)),Cv=(...t)=>t.reduce(hse),OA=new Set(["none","hidden"]);function pse(t,e){return OA.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function mse(t,e){return n=>lr(t,e,n)}function r4(t){return typeof t=="number"?mse:typeof t=="string"?DT(t)?jb:zi.test(t)?pj:vse:Array.isArray(t)?kB:typeof t=="object"?zi.test(t)?pj:gse:jb}function kB(t,e){const n=[...t],r=n.length,i=t.map((a,s)=>r4(a)(a,e[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}}function gse(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=r4(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function yse(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const s=e.types[a],o=t.indexes[s][i[s]],l=(n=t.values[o])!==null&&n!==void 0?n:0;r[a]=l,i[s]++}return r}const vse=(t,e)=>{const n=ju.createTransformer(e),r=gy(t),i=gy(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?OA.has(t)&&!i.values.length||OA.has(e)&&!r.values.length?pse(t,e):Cv(kB(yse(r,i),i.values),n):jb(t,e)};function CB(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?lr(t,e,n):r4(t)(t,e)}const bse=5;function IB(t,e,n){const r=Math.max(e-bse,0);return iB(n-t(r),e-r)}const xr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$5=.001;function xse({duration:t=xr.duration,bounce:e=xr.bounce,velocity:n=xr.velocity,mass:r=xr.mass}){let i,a,s=1-e;s=ac(xr.minDamping,xr.maxDamping,s),t=ac(xr.minDuration,xr.maxDuration,ql(t)),s<1?(i=c=>{const u=c*s,f=u*t,h=u-n,p=RA(c,s),y=Math.exp(-f);return $5-h/p*y},a=c=>{const f=c*s*t,h=f*n+n,p=Math.pow(s,2)*Math.pow(c,2)*t,y=Math.exp(-f),b=RA(Math.pow(c,2),s);return(-i(c)+$5>0?-1:1)*((h-p)*y)/b}):(i=c=>{const u=Math.exp(-c*t),f=(c-n)*t+1;return-$5+u*f},a=c=>{const u=Math.exp(-c*t),f=(n-c)*(t*t);return u*f});const o=5/t,l=_se(i,a,o);if(t=zl(t),isNaN(l))return{stiffness:xr.stiffness,damping:xr.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const wse=12;function _se(t,e,n){let r=n;for(let i=1;i<wse;i++)r=r-t(r)/e(r);return r}function RA(t,e){return t*Math.sqrt(1-e*e)}const Sse=["duration","bounce"],Ase=["stiffness","damping","mass"];function mj(t,e){return e.some(n=>t[n]!==void 0)}function Nse(t){let e={velocity:xr.velocity,stiffness:xr.stiffness,damping:xr.damping,mass:xr.mass,isResolvedFromDuration:!1,...t};if(!mj(t,Ase)&&mj(t,Sse))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*ac(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:xr.mass,stiffness:i,damping:a}}else{const n=xse(t);e={...e,...n,mass:xr.mass},e.isResolvedFromDuration=!0}return e}function jB(t=xr.visualDuration,e=xr.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:p}=Nse({...n,velocity:-ql(n.velocity||0)}),y=h||0,b=c/(2*Math.sqrt(l*u)),x=s-a,v=ql(Math.sqrt(l/u)),w=Math.abs(x)<5;r||(r=w?xr.restSpeed.granular:xr.restSpeed.default),i||(i=w?xr.restDelta.granular:xr.restDelta.default);let S;if(b<1){const P=RA(v,b);S=O=>{const I=Math.exp(-b*v*O);return s-I*((y+b*v*x)/P*Math.sin(P*O)+x*Math.cos(P*O))}}else if(b===1)S=P=>s-Math.exp(-v*P)*(x+(y+v*x)*P);else{const P=v*Math.sqrt(b*b-1);S=O=>{const I=Math.exp(-b*v*O),E=Math.min(P*O,300);return s-I*((y+b*v*x)*Math.sinh(E)+P*x*Math.cosh(E))/P}}const A={calculatedDuration:p&&f||null,next:P=>{const O=S(P);if(p)o.done=P>=f;else{let I=0;b<1&&(I=P===0?zl(y):IB(S,P,O));const E=Math.abs(I)<=r,C=Math.abs(s-O)<=i;o.done=E&&C}return o.value=o.done?s:O,o},toString:()=>{const P=Math.min(X9(A),EA),O=Q9(I=>A.next(P*I).value,P,30);return P+"ms "+O}};return A}function gj({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=t[0],h={done:!1,value:f},p=E=>o!==void 0&&E<o||l!==void 0&&E>l,y=E=>o===void 0?l:l===void 0||Math.abs(o-E)<Math.abs(l-E)?o:l;let b=n*e;const x=f+b,v=s===void 0?x:s(x);v!==x&&(b=v-f);const w=E=>-b*Math.exp(-E/r),S=E=>v+w(E),A=E=>{const C=w(E),M=S(E);h.done=Math.abs(C)<=c,h.value=h.done?v:M};let P,O;const I=E=>{p(h.value)&&(P=E,O=jB({keyframes:[h.value,y(h.value)],velocity:IB(S,E,h.value),damping:i,stiffness:a,restDelta:c,restSpeed:u}))};return I(0),{calculatedDuration:null,next:E=>{let C=!1;return!O&&P===void 0&&(C=!0,A(E),I(E)),P!==void 0&&E>=P?O.next(E-P):(!C&&A(E),h)}}}const Ese=kv(.42,0,1,1),Pse=kv(0,0,.58,1),OB=kv(.42,0,.58,1),Tse=t=>Array.isArray(t)&&typeof t[0]!="number",kse={linear:Xa,easeIn:Ese,easeInOut:OB,easeOut:Pse,circIn:JT,circInOut:hB,circOut:dB,backIn:QT,backInOut:uB,backOut:cB,anticipate:fB},yj=t=>{if(HT(t)){C9(t.length===4);const[e,n,r,i]=t;return kv(e,n,r,i)}else if(typeof t=="string")return kse[t];return t};function Cse(t,e,n){const r=[],i=n||CB,a=t.length-1;for(let s=0;s<a;s++){let o=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||Xa:e;o=Cv(l,o)}r.push(o)}return r}function Ise(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(C9(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Cse(e,r,i),l=o.length,c=u=>{if(s&&u<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(u<t[f+1]);f++);const h=rp(t[f],t[f+1],u);return o[f](h)};return n?u=>c(ac(t[0],t[a-1],u)):c}function jse(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=rp(0,e,r);t.push(lr(n,1,i))}}function Ose(t){const e=[0];return jse(e,t.length-1),e}function Rse(t,e){return t.map(n=>n*e)}function Lse(t,e){return t.map(()=>e||OB).splice(0,t.length-1)}function Ob({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Tse(r)?r.map(yj):yj(r),a={done:!1,value:e[0]},s=Rse(n&&n.length===e.length?n:Ose(e),t),o=Ise(s,e,{ease:Array.isArray(i)?i:Lse(e,i)});return{calculatedDuration:t,next:l=>(a.value=o(l),a.done=l>=t,a)}}const Mse=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Xn.update(e,!0),stop:()=>Iu(e),now:()=>_i.isProcessing?_i.timestamp:Jo.now()}},Dse={decay:gj,inertia:gj,tween:Ob,keyframes:Ob,spring:jB},Fse=t=>t/100;class i4 extends TB{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,s=(i==null?void 0:i.KeyframeResolver)||n4,o=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new s(a,o,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=this.options,o=WT(n)?n:Dse[n]||Ob;let l,c;o!==Ob&&typeof e[0]!="number"&&(l=Cv(Fse,CB(e[0],e[1])),e=[0,100]);const u=o({...this.options,keyframes:e});a==="mirror"&&(c=o({...this.options,keyframes:[...e].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=X9(u));const{calculatedDuration:f}=u,h=f+i,p=h*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:f}=r;if(this.startTime===null)return a.next(0);const{delay:h,repeat:p,repeatType:y,repeatDelay:b,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-h*(this.speed>=0?1:-1),w=this.speed>=0?v<0:v>u;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let S=this.currentTime,A=a;if(p){const E=Math.min(this.currentTime,u)/f;let C=Math.floor(E),M=E%1;!M&&E>=1&&(M=1),M===1&&C--,C=Math.min(C,p+1),!!(C%2)&&(y==="reverse"?(M=1-M,b&&(M-=b/f)):y==="mirror"&&(A=s)),S=ac(0,1,M)*f}const P=w?{done:!1,value:l[0]}:A.next(S);o&&(P.value=o(P.value));let{done:O}=P;!w&&c!==null&&(O=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return I&&i!==void 0&&(P.value=$x(l,this.options,i)),x&&x(P.value),I&&this.finish(),P}get duration(){const{resolved:e}=this;return e?ql(e.calculatedDuration):0}get time(){return ql(this.currentTime)}set time(e){e=zl(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ql(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Mse,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const $se=new Set(["opacity","clipPath","filter","transform"]);function Bse(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=Z9(o,i);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}const Vse=CT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Rb=10,Use=2e4;function zse(t){return WT(t.type)||t.type==="spring"||!J9(t.ease)}function qse(t,e){const n=new i4({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<Use;)r=n.sample(a),i.push(r.value),a+=Rb;return{times:void 0,keyframes:i,duration:a-Rb,ease:"linear"}}const RB={anticipate:fB,backInOut:uB,circInOut:hB};function Wse(t){return t in RB}class vj extends TB{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new PB(a,(s,o)=>this.onKeyframesResolved(s,o),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:a,type:s,motionValue:o,name:l,startTime:c}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof a=="string"&&Ib()&&Wse(a)&&(a=RB[a]),zse(this.options)){const{onComplete:f,onUpdate:h,motionValue:p,element:y,...b}=this.options,x=qse(e,b);e=x.keyframes,e.length===1&&(e[1]=e[0]),r=x.duration,i=x.times,a=x.ease,s="keyframes"}const u=Bse(o.owner.current,l,e,{...this.options,duration:r,times:i,ease:a});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(nj(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:f}=this.options;o.set($x(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:s,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ql(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ql(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=zl(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Xa;const{animation:r}=n;nj(r,e)}return Xa}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:s,times:o}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:f,element:h,...p}=this.options,y=new i4({...p,keyframes:r,duration:i,type:a,ease:s,times:o,isGenerator:!0}),b=zl(this.time);c.setWithVelocity(y.sample(b-Rb).value,y.sample(b).value,Rb)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:s,type:o}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Vse()&&r&&$se.has(r)&&!l&&!c&&!i&&a!=="mirror"&&s!==0&&o!=="inertia"}}const Hse={type:"spring",stiffness:500,damping:25,restSpeed:10},Gse=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Kse={type:"keyframes",duration:.8},Yse={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Xse=(t,{keyframes:e})=>e.length>2?Kse:bd.has(t)?t.startsWith("scale")?Gse(e[1]):Hse:Yse;function Qse({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const a4=(t,e,n,r={},i,a)=>s=>{const o=qT(r,t)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-zl(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:h=>{e.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:a?void 0:i};Qse(o)||(u={...u,...Xse(t,u)}),u.duration&&(u.duration=zl(u.duration)),u.repeatDelay&&(u.repeatDelay=zl(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),f&&!a&&e.get()!==void 0){const h=$x(u.keyframes,o);if(h!==void 0)return Xn.update(()=>{u.onUpdate(h),u.onComplete()}),new gae([])}return!a&&vj.supports(u)?new vj(u):new i4(u)};function Jse({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function LB(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(s=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const h=t.getValue(f,(a=t.latestValues[f])!==null&&a!==void 0?a:null),p=l[f];if(p===void 0||u&&Jse(u,f))continue;const y={delay:n,...qT(s||{},f)};let b=!1;if(window.MotionHandoffAnimation){const v=aB(t);if(v){const w=window.MotionHandoffAnimation(v,f,Xn);w!==null&&(y.startTime=w,b=!0)}}TA(t,f),h.start(a4(f,h,p,t.shouldReduceMotion&&rB.has(f)?{type:!1}:y,t,b));const x=h.animation;x&&c.push(x)}return o&&Promise.all(c).then(()=>{Xn.update(()=>{o&&Cae(t,o)})}),c}function LA(t,e,n={}){var r;const i=Fx(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const s=i?()=>Promise.all(LB(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=a;return Zse(t,e,u+c,f,h,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function Zse(t,e,n=0,r=0,i=1,a){const s=[],o=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(t.variantChildren).sort(eoe).forEach((c,u)=>{c.notify("AnimationStart",e),s.push(LA(c,e,{...a,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function eoe(t,e){return t.sortNodePosition(e)}function toe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>LA(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=LA(t,e,n);else{const i=typeof e=="function"?Fx(t,e,n.custom):e;r=Promise.all(LB(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const noe=jT.length;function MB(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?MB(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<noe;n++){const r=jT[n],i=t.props[r];(hy(i)||i===!1)&&(e[r]=i)}return e}const roe=[...IT].reverse(),ioe=IT.length;function aoe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>toe(t,n,r)))}function soe(t){let e=aoe(t),n=bj(),r=!0;const i=l=>(c,u)=>{var f;const h=Fx(t,u,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:y,...b}=h;c={...c,...b,...y}}return c};function a(l){e=l(t)}function s(l){const{props:c}=t,u=MB(t.parent)||{},f=[],h=new Set;let p={},y=1/0;for(let x=0;x<ioe;x++){const v=roe[x],w=n[v],S=c[v]!==void 0?c[v]:u[v],A=hy(S),P=v===l?w.isActive:null;P===!1&&(y=x);let O=S===u[v]&&S!==c[v]&&A;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),w.protectedKeys={...p},!w.isActive&&P===null||!S&&!w.prevProp||Mx(S)||typeof S=="boolean")continue;const I=ooe(w.prevProp,S);let E=I||v===l&&w.isActive&&!O&&A||x>y&&A,C=!1;const M=Array.isArray(S)?S:[S];let N=M.reduce(i(v),{});P===!1&&(N={});const{prevResolvedValues:k={}}=w,j={...k,...N},B=ie=>{E=!0,h.has(ie)&&(C=!0,h.delete(ie)),w.needsAnimating[ie]=!0;const X=t.getValue(ie);X&&(X.liveStyle=!1)};for(const ie in j){const X=N[ie],ae=k[ie];if(p.hasOwnProperty(ie))continue;let ue=!1;NA(X)&&NA(ae)?ue=!Y9(X,ae):ue=X!==ae,ue?X!=null?B(ie):h.add(ie):X!==void 0&&h.has(ie)?B(ie):w.protectedKeys[ie]=!0}w.prevProp=S,w.prevResolvedValues=N,w.isActive&&(p={...p,...N}),r&&t.blockInitialAnimation&&(E=!1),E&&(!(O&&I)||C)&&f.push(...M.map(ie=>({animation:ie,options:{type:v}})))}if(h.size){const x={};h.forEach(v=>{const w=t.getBaseTarget(v),S=t.getValue(v);S&&(S.liveStyle=!0),x[v]=w??null}),f.push({animation:x})}let b=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(f):Promise.resolve()}function o(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const f=s(l);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n,reset:()=>{n=bj(),r=!0}}}function ooe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Y9(e,t):!1}function df(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bj(){return{animate:df(!0),whileInView:df(),whileHover:df(),whileTap:df(),whileDrag:df(),whileFocus:df(),exit:df()}}class zu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class loe extends zu{constructor(e){super(e),e.animationState||(e.animationState=soe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Mx(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let coe=0;class uoe extends zu{constructor(){super(...arguments),this.id=coe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const foe={animation:{Feature:loe},exit:{Feature:uoe}};function yy(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Iv(t){return{point:{x:t.pageX,y:t.pageY}}}const doe=t=>e=>GT(e)&&t(e,Iv(e));function Pg(t,e,n,r){return yy(t,e,doe(n),r)}const xj=(t,e)=>Math.abs(t-e);function hoe(t,e){const n=xj(t.x,e.x),r=xj(t.y,e.y);return Math.sqrt(n**2+r**2)}class DB{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=V5(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=hoe(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:y}=f,{timestamp:b}=_i;this.history.push({...y,timestamp:b});const{onStart:x,onMove:v}=this.handlers;h||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=B5(h,this.transformPagePoint),Xn.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=V5(f.type==="pointercancel"?this.lastMoveEventInfo:B5(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,x),y&&y(f,x)},!GT(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Iv(e),o=B5(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=_i;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,V5(o,this.history)),this.removeListeners=Cv(Pg(this.contextWindow,"pointermove",this.handlePointerMove),Pg(this.contextWindow,"pointerup",this.handlePointerUp),Pg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Iu(this.updatePoint)}}function B5(t,e){return e?{point:e(t.point)}:t}function wj(t,e){return{x:t.x-e.x,y:t.y-e.y}}function V5({point:t},e){return{point:t,delta:wj(t,FB(e)),offset:wj(t,poe(e)),velocity:moe(e,.1)}}function poe(t){return t[0]}function FB(t){return t[t.length-1]}function moe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=FB(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>zl(e)));)n--;if(!r)return{x:0,y:0};const a=ql(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}const $B=1e-4,goe=1-$B,yoe=1+$B,BB=.01,voe=0-BB,boe=0+BB;function Ja(t){return t.max-t.min}function xoe(t,e,n){return Math.abs(t-e)<=n}function _j(t,e,n,r=.5){t.origin=r,t.originPoint=lr(e.min,e.max,t.origin),t.scale=Ja(n)/Ja(e),t.translate=lr(n.min,n.max,t.origin)-t.originPoint,(t.scale>=goe&&t.scale<=yoe||isNaN(t.scale))&&(t.scale=1),(t.translate>=voe&&t.translate<=boe||isNaN(t.translate))&&(t.translate=0)}function Tg(t,e,n,r){_j(t.x,e.x,n.x,r?r.originX:void 0),_j(t.y,e.y,n.y,r?r.originY:void 0)}function Sj(t,e,n){t.min=n.min+e.min,t.max=t.min+Ja(e)}function woe(t,e,n){Sj(t.x,e.x,n.x),Sj(t.y,e.y,n.y)}function Aj(t,e,n){t.min=e.min-n.min,t.max=t.min+Ja(e)}function kg(t,e,n){Aj(t.x,e.x,n.x),Aj(t.y,e.y,n.y)}function _oe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?lr(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?lr(n,t,r.max):Math.min(t,n)),t}function Nj(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Soe(t,{top:e,left:n,bottom:r,right:i}){return{x:Nj(t.x,n,i),y:Nj(t.y,e,r)}}function Ej(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Aoe(t,e){return{x:Ej(t.x,e.x),y:Ej(t.y,e.y)}}function Noe(t,e){let n=.5;const r=Ja(t),i=Ja(e);return i>r?n=rp(e.min,e.max-r,t.min):r>i&&(n=rp(t.min,t.max-i,e.min)),ac(0,1,n)}function Eoe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const MA=.35;function Poe(t=MA){return t===!1?t=0:t===!0&&(t=MA),{x:Pj(t,"left","right"),y:Pj(t,"top","bottom")}}function Pj(t,e,n){return{min:Tj(t,e),max:Tj(t,n)}}function Tj(t,e){return typeof t=="number"?t:t[e]||0}const kj=()=>({translate:0,scale:1,origin:0,originPoint:0}),hh=()=>({x:kj(),y:kj()}),Cj=()=>({min:0,max:0}),Cr=()=>({x:Cj(),y:Cj()});function ws(t){return[t("x"),t("y")]}function VB({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Toe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function koe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function U5(t){return t===void 0||t===1}function DA({scale:t,scaleX:e,scaleY:n}){return!U5(t)||!U5(e)||!U5(n)}function vf(t){return DA(t)||UB(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function UB(t){return Ij(t.x)||Ij(t.y)}function Ij(t){return t&&t!=="0%"}function Lb(t,e,n){const r=t-n,i=e*r;return n+i}function jj(t,e,n,r,i){return i!==void 0&&(t=Lb(t,i,r)),Lb(t,n,r)+e}function FA(t,e=0,n=1,r,i){t.min=jj(t.min,e,n,r,i),t.max=jj(t.max,e,n,r,i)}function zB(t,{x:e,y:n}){FA(t.x,e.translate,e.scale,e.originPoint),FA(t.y,n.translate,n.scale,n.originPoint)}const Oj=.999999999999,Rj=1.0000000000001;function Coe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&mh(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,zB(t,s)),r&&vf(a.latestValues)&&mh(t,a.latestValues))}e.x<Rj&&e.x>Oj&&(e.x=1),e.y<Rj&&e.y>Oj&&(e.y=1)}function ph(t,e){t.min=t.min+e,t.max=t.max+e}function Lj(t,e,n,r,i=.5){const a=lr(t.min,t.max,i);FA(t,e,n,a,r)}function mh(t,e){Lj(t.x,e.x,e.scaleX,e.scale,e.originX),Lj(t.y,e.y,e.scaleY,e.scale,e.originY)}function qB(t,e){return VB(koe(t.getBoundingClientRect(),e))}function Ioe(t,e,n){const r=qB(t,n),{scroll:i}=e;return i&&(ph(r.x,i.offset.x),ph(r.y,i.offset.y)),r}const WB=({current:t})=>t?t.ownerDocument.defaultView:null,joe=new WeakMap;class Ooe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Cr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Iv(u).point)},a=(u,f)=>{const{drag:h,dragPropagation:p,onDragStart:y}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Nae(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ws(x=>{let v=this.getAxisMotionValue(x).get()||0;if(Qo.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const S=w.layout.layoutBox[x];S&&(v=Ja(S)*(parseFloat(v)/100))}}this.originPoint[x]=v}),y&&Xn.postRender(()=>y(u,f)),TA(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},s=(u,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:y,onDrag:b}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:x}=f;if(p&&this.currentDirection===null){this.currentDirection=Roe(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),b&&b(u,f)},o=(u,f)=>this.stop(u,f),l=()=>ws(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new DB(e,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:WB(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Xn.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!L0(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=_oe(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&fh(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Soe(i.layoutBox,n):this.constraints=!1,this.elastic=Poe(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ws(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Eoe(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!fh(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Ioe(r,i.root,this.visualElement.getTransformPagePoint());let s=Aoe(i.layout.layoutBox,a);if(n){const o=n(Toe(s));this.hasMutatedConstraints=!!o,o&&(s=VB(o))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=ws(u=>{if(!L0(u,n,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,y={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(u,y)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return TA(this.visualElement,e),r.start(a4(e,r,0,n,this.visualElement,!1))}stopAnimation(){ws(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ws(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ws(n=>{const{drag:r}=this.getProps();if(!L0(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(e[n]-lr(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!fh(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ws(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();i[s]=Noe({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ws(s=>{if(!L0(s,e,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(lr(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;joe.set(this.visualElement,this);const e=this.visualElement.current,n=Pg(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();fh(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Xn.read(r);const s=yy(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ws(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=MA,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function L0(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Roe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Loe extends zu{constructor(e){super(e),this.removeGroupControls=Xa,this.removeListeners=Xa,this.controls=new Ooe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xa}unmount(){this.removeGroupControls(),this.removeListeners()}}const Mj=t=>(e,n)=>{t&&Xn.postRender(()=>t(e,n))};class Moe extends zu{constructor(){super(...arguments),this.removePointerDownListener=Xa}onPointerDown(e){this.session=new DB(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:WB(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Mj(e),onStart:Mj(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&Xn.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=Pg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const j1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Dj(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Rm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(St.test(t))t=parseFloat(t);else return t;const n=Dj(t,e.target.x),r=Dj(t,e.target.y);return`${n}% ${r}%`}},Doe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ju.parse(t);if(i.length>5)return r;const a=ju.createTransformer(t),s=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=o,i[1+s]/=l;const c=lr(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),a(i)}};class Foe extends z.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;iae($oe),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),j1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||Xn.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),RT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function HB(t){const[e,n]=T9(),r=z.useContext(ET);return d.jsx(Foe,{...t,layoutGroup:r,switchLayoutGroup:z.useContext(M9),isPresent:e,safeToRemove:n})}const $oe={borderRadius:{...Rm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rm,borderTopRightRadius:Rm,borderBottomLeftRadius:Rm,borderBottomRightRadius:Rm,boxShadow:Doe};function Boe(t,e,n){const r=Xi(t)?t:my(t);return r.start(a4("",r,e,n)),r.animation}function Voe(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Uoe=(t,e)=>t.depth-e.depth;class zoe{constructor(){this.children=[],this.isDirty=!1}add(e){KT(this.children,e),this.isDirty=!0}remove(e){YT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Uoe),this.isDirty=!1,this.children.forEach(e)}}function qoe(t,e){const n=Jo.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Iu(r),t(a-e))};return Xn.read(r,!0),()=>Iu(r)}const GB=["TopLeft","TopRight","BottomLeft","BottomRight"],Woe=GB.length,Fj=t=>typeof t=="string"?parseFloat(t):t,$j=t=>typeof t=="number"||St.test(t);function Hoe(t,e,n,r,i,a){i?(t.opacity=lr(0,n.opacity!==void 0?n.opacity:1,Goe(r)),t.opacityExit=lr(e.opacity!==void 0?e.opacity:1,0,Koe(r))):a&&(t.opacity=lr(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Woe;s++){const o=`border${GB[s]}Radius`;let l=Bj(e,o),c=Bj(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||$j(l)===$j(c)?(t[o]=Math.max(lr(Fj(l),Fj(c),r),0),(Qo.test(c)||Qo.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=lr(e.rotate||0,n.rotate||0,r))}function Bj(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Goe=KB(0,.5,dB),Koe=KB(.5,.95,Xa);function KB(t,e,n){return r=>r<t?0:r>e?1:n(rp(t,e,r))}function Vj(t,e){t.min=e.min,t.max=e.max}function ys(t,e){Vj(t.x,e.x),Vj(t.y,e.y)}function Uj(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function zj(t,e,n,r,i){return t-=e,t=Lb(t,1/n,r),i!==void 0&&(t=Lb(t,1/i,r)),t}function Yoe(t,e=0,n=1,r=.5,i,a=t,s=t){if(Qo.test(e)&&(e=parseFloat(e),e=lr(s.min,s.max,e/100)-s.min),typeof e!="number")return;let o=lr(a.min,a.max,r);t===a&&(o-=e),t.min=zj(t.min,e,n,o,i),t.max=zj(t.max,e,n,o,i)}function qj(t,e,[n,r,i],a,s){Yoe(t,e[n],e[r],e[i],e.scale,a,s)}const Xoe=["x","scaleX","originX"],Qoe=["y","scaleY","originY"];function Wj(t,e,n,r){qj(t.x,e,Xoe,n?n.x:void 0,r?r.x:void 0),qj(t.y,e,Qoe,n?n.y:void 0,r?r.y:void 0)}function Hj(t){return t.translate===0&&t.scale===1}function YB(t){return Hj(t.x)&&Hj(t.y)}function Gj(t,e){return t.min===e.min&&t.max===e.max}function Joe(t,e){return Gj(t.x,e.x)&&Gj(t.y,e.y)}function Kj(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function XB(t,e){return Kj(t.x,e.x)&&Kj(t.y,e.y)}function Yj(t){return Ja(t.x)/Ja(t.y)}function Xj(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Zoe{constructor(){this.members=[]}add(e){KT(this.members,e),e.scheduleRender()}remove(e){if(YT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ele(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((i||a||s)&&(r=`translate3d(${i}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:p,skewY:y}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),y&&(r+=`skewY(${y}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const bf={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},cg=typeof window<"u"&&window.MotionDebug!==void 0,z5=["","X","Y","Z"],tle={visibility:"hidden"},Qj=1e3;let nle=0;function q5(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function QB(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=aB(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Xn,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&QB(r)}function JB({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=e==null?void 0:e()){this.id=nle++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,cg&&(bf.totalNodes=bf.resolvedTargetDeltas=bf.recalculatedProjection=0),this.nodes.forEach(ale),this.nodes.forEach(ule),this.nodes.forEach(fle),this.nodes.forEach(sle),cg&&window.MotionDebug.record(bf)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new zoe)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new XT),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Voe(s),this.instance=s;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=qoe(h,250),j1.hasAnimatedSinceResize&&(j1.hasAnimatedSinceResize=!1,this.nodes.forEach(Zj))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||u.getDefaultTransition()||gle,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=u.getProps(),w=!this.targetLayout||!XB(this.targetLayout,y)||p,S=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,S);const A={...qT(b,"layout"),onPlay:x,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else h||Zj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Iu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dle),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&QB(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Jj);return}this.isUpdating||this.nodes.forEach(lle),this.isUpdating=!1,this.nodes.forEach(cle),this.nodes.forEach(rle),this.nodes.forEach(ile),this.clearAllSnapshots();const o=Jo.now();_i.delta=ac(0,1e3/60,o-_i.timestamp),_i.timestamp=o,_i.isProcessing=!0,R5.update.process(_i),R5.preRender.process(_i),R5.render.process(_i),_i.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,RT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ole),this.sharedNodes.forEach(hle)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Cr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!YB(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&(o||vf(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),yle(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:o}=this.options;if(!o)return Cr();const l=o.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(vle))){const{scroll:u}=this.root;u&&(ph(l.x,u.offset.x),ph(l.y,u.offset.y))}return l}removeElementScroll(s){var o;const l=Cr();if(ys(l,s),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&ys(l,s),ph(l.x,f.offset.x),ph(l.y,f.offset.y))}return l}applyTransform(s,o=!1){const l=Cr();ys(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&mh(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),vf(u.latestValues)&&mh(l,u.latestValues)}return vf(this.latestValues)&&mh(l,this.latestValues),l}removeTransform(s){const o=Cr();ys(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!vf(c.latestValues))continue;DA(c.latestValues)&&c.updateSnapshot();const u=Cr(),f=c.measurePageBox();ys(u,f),Wj(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return vf(this.latestValues)&&Wj(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_i.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=_i.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cr(),this.relativeTargetOrigin=Cr(),kg(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ys(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Cr(),this.targetWithTransforms=Cr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),woe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ys(this.target,this.layout.layoutBox),zB(this.target,this.targetDelta)):ys(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cr(),this.relativeTargetOrigin=Cr(),kg(this.relativeTargetOrigin,this.target,p.target),ys(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}cg&&bf.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||DA(this.parent.latestValues)||UB(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===_i.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;ys(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;Coe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Cr());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Uj(this.prevProjectionDelta.x,this.projectionDelta.x),Uj(this.prevProjectionDelta.y,this.projectionDelta.y)),Tg(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!Xj(this.projectionDelta.x,this.prevProjectionDelta.x)||!Xj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),cg&&bf.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=hh(),this.projectionDelta=hh(),this.projectionDeltaWithTransform=hh()}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=hh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Cr(),p=l?l.source:void 0,y=this.layout?this.layout.source:void 0,b=p!==y,x=this.getStack(),v=!x||x.members.length<=1,w=!!(b&&!v&&this.options.crossfade===!0&&!this.path.some(mle));this.animationProgress=0;let S;this.mixTargetDelta=A=>{const P=A/1e3;eO(f.x,s.x,P),eO(f.y,s.y,P),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(kg(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ple(this.relativeTarget,this.relativeTargetOrigin,h,P),S&&Joe(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Cr()),ys(S,this.relativeTarget)),b&&(this.animationValues=u,Hoe(u,c,this.latestValues,P,w,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Iu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xn.update(()=>{j1.hasAnimatedSinceResize=!0,this.currentAnimation=Boe(0,Qj,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Qj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&ZB(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Cr();const f=Ja(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=Ja(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}ys(o,l),mh(o,u),Tg(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Zoe),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&q5("z",s,c,this.animationValues);for(let u=0;u<z5.length;u++)q5(`rotate${z5[u]}`,s,c,this.animationValues),q5(`skew${z5[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return tle;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=C1(s==null?void 0:s.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=C1(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!vf(this.latestValues)&&(b.transform=u?u({},""):"none",this.hasProjected=!1),b}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=ele(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:p,y}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const b in Cb){if(h[b]===void 0)continue;const{correct:x,applyTo:v}=Cb[b],w=c.transform==="none"?h[b]:x(h[b],f);if(v){const S=v.length;for(let A=0;A<S;A++)c[v[A]]=w}else c[b]=w}return this.options.layoutId&&(c.pointerEvents=f===this?C1(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(Jj),this.root.sharedNodes.clear()}}}function rle(t){t.updateLayout()}function ile(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,s=n.source!==t.layout.source;a==="size"?ws(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],p=Ja(h);h.min=r[f].min,h.max=h.min+p}):ZB(a,n.layoutBox,r)&&ws(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],p=Ja(r[f]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const o=hh();Tg(o,r,n.layoutBox);const l=hh();s?Tg(l,t.applyTransform(i,!0),n.measuredBox):Tg(l,r,n.layoutBox);const c=!YB(o);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const y=Cr();kg(y,n.layoutBox,h.layoutBox);const b=Cr();kg(b,r,p.layoutBox),XB(y,b)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function ale(t){cg&&bf.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function sle(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ole(t){t.clearSnapshot()}function Jj(t){t.clearMeasurements()}function lle(t){t.isLayoutDirty=!1}function cle(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Zj(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ule(t){t.resolveTargetDelta()}function fle(t){t.calcProjection()}function dle(t){t.resetSkewAndRotation()}function hle(t){t.removeLeadSnapshot()}function eO(t,e,n){t.translate=lr(e.translate,0,n),t.scale=lr(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function tO(t,e,n,r){t.min=lr(e.min,n.min,r),t.max=lr(e.max,n.max,r)}function ple(t,e,n,r){tO(t.x,e.x,n.x,r),tO(t.y,e.y,n.y,r)}function mle(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const gle={duration:.45,ease:[.4,0,.1,1]},nO=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),rO=nO("applewebkit/")&&!nO("chrome/")?Math.round:Xa;function iO(t){t.min=rO(t.min),t.max=rO(t.max)}function yle(t){iO(t.x),iO(t.y)}function ZB(t,e,n){return t==="position"||t==="preserve-aspect"&&!xoe(Yj(e),Yj(n),.2)}function vle(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const ble=JB({attachResizeListener:(t,e)=>yy(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),W5={current:void 0},eV=JB({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!W5.current){const t=new ble({});t.mount(window),t.setOptions({layoutScroll:!0}),W5.current=t}return W5.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),xle={pan:{Feature:Moe},drag:{Feature:Loe,ProjectionNode:eV,MeasureLayout:HB}};function aO(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Xn.postRender(()=>a(e,Iv(e)))}class wle extends zu{mount(){const{current:e}=this.node;e&&(this.unmount=xae(e,n=>(aO(this.node,n,"Start"),r=>aO(this.node,r,"End"))))}unmount(){}}class _le extends zu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cv(yy(this.node.current,"focus",()=>this.onFocus()),yy(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function sO(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Xn.postRender(()=>a(e,Iv(e)))}class Sle extends zu{mount(){const{current:e}=this.node;e&&(this.unmount=Aae(e,n=>(sO(this.node,n,"Start"),(r,{success:i})=>sO(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $A=new WeakMap,H5=new WeakMap,Ale=t=>{const e=$A.get(t.target);e&&e(t)},Nle=t=>{t.forEach(Ale)};function Ele({root:t,...e}){const n=t||document;H5.has(n)||H5.set(n,{});const r=H5.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Nle,{root:t,...e})),r[i]}function Ple(t,e,n){const r=Ele(e);return $A.set(t,n),r.observe(t),()=>{$A.delete(t),r.unobserve(t)}}const Tle={some:0,all:1};class kle extends zu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Tle[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return Ple(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Cle(e,n))&&this.startObserver()}unmount(){}}function Cle({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Ile={inView:{Feature:kle},tap:{Feature:Sle},focus:{Feature:_le},hover:{Feature:wle}},jle={layout:{ProjectionNode:eV,MeasureLayout:HB}},BA={current:null},tV={current:!1};function Ole(){if(tV.current=!0,!!kT)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>BA.current=t.matches;t.addListener(e),e()}else BA.current=!1}const Rle=[...EB,zi,ju],Lle=t=>Rle.find(NB(t)),oO=new WeakMap;function Mle(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Xi(i))t.addValue(r,i);else if(Xi(a))t.addValue(r,my(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,my(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const lO=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Dle{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=n4,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Jo.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Xn.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=s;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=Dx(n),this.isVariantNode=R9(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const y=h[p];l[p]!==void 0&&Xi(y)&&y.set(l[p],!1)}}mount(e){this.current=e,oO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),tV.current||Ole(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:BA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){oO.delete(this.current),this.projection&&this.projection.unmount(),Iu(this.notifyUpdate),Iu(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=bd.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Xn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ip){const n=ip[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Cr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<lO.length;r++){const i=lO[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=e[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Mle(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=my(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(SB(i)||pB(i))?i=parseFloat(i):!Lle(i)&&ju.test(n)&&(i=xB(e,n)),this.setBaseTarget(e,Xi(i)?i.get():i)),Xi(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=MT(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Xi(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new XT),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class nV extends Dle{constructor(){super(...arguments),this.KeyframeResolver=PB}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xi(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Fle(t){return window.getComputedStyle(t)}class $le extends nV{constructor(){super(...arguments),this.type="html",this.renderInstance=z9}readValueFromInstance(e,n){if(bd.has(n)){const r=t4(n);return r&&r.default||0}else{const r=Fle(e),i=(B9(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return qB(e,n)}build(e,n,r){$T(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return zT(e,n,r)}}class Ble extends nV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Cr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(bd.has(n)){const r=t4(n);return r&&r.default||0}return n=q9.has(n)?n:OT(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return G9(e,n,r)}build(e,n,r){BT(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){W9(e,n,r,i)}mount(e){this.isSVGTag=UT(e.tagName),super.mount(e)}}const Vle=(t,e)=>LT(t)?new Ble(e):new $le(e,{allowProjection:t!==z.Fragment}),Ule=hae({...foe,...Ile,...xle,...jle},Vle),He=Tie(Ule);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zle={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qle=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ft=(t,e)=>{const n=z.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>z.createElement("svg",{ref:u,...zle,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${qle(t)}`,o].join(" "),...c},[...e.map(([f,h])=>z.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wle=ft("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=ft("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=ft("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=ft("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=ft("Bath",[["path",{d:"M9 6 6.5 3.5a1.5 1.5 0 0 0-1-.5C4.683 3 4 3.683 4 4.5V17a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"1r8yf5"}],["line",{x1:"10",x2:"8",y1:"5",y2:"7",key:"h5g8z4"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"7",x2:"7",y1:"19",y2:"21",key:"16jp00"}],["line",{x1:"17",x2:"17",y1:"19",y2:"21",key:"1pxrnk"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=ft("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=ft("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=ft("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=ft("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=ft("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hle=ft("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=ft("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=ft("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gle=ft("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=ft("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=ft("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=ft("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=ft("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=ft("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=ft("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=ft("DoorOpen",[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kle=ft("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yle=ft("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xle=ft("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qle=ft("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=ft("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=ft("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=ft("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=ft("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=ft("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=ft("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=ft("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=ft("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jle=ft("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=ft("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=ft("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=ft("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zle=ft("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=ft("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ece=ft("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=ft("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=ft("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tce=ft("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=ft("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=ft("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nce=ft("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=ft("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rce=ft("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ice=ft("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=ft("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=ft("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=ft("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=ft("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ace=ft("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=ft("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sce=ft("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=ft("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=ft("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oce=ft("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);async function hV({tenantId:t,landlordId:e,propertyId:n,unitId:r,tenantName:i="",tenantEmail:a="",unitName:s="",propertyName:o="",rentAmount:l,billingCycle:c="monthly",currency:u="NGN"}){await d4(e,n,r);const f={tenantId:t||null,landlordId:e,propertyId:n,unitId:r,tenantName:i,tenantEmail:a,unitName:s,propertyName:o,rentAmount:Number(l)||0,billingCycle:c,currency:u,status:"active",startDate:ni(),endDate:null,closedAt:null,invoiceSchedulingEnabled:!0,nextInvoiceDate:uce(c),createdAt:ni(),updatedAt:ni()};return{id:(await Av(ea(Lt,"tenancies"),f)).id,...f}}async function lce(t){await Vs(Un(Lt,"tenancies",t),{status:"closed",endDate:ni(),closedAt:ni(),invoiceSchedulingEnabled:!1,updatedAt:ni()})}async function d4(t,e,n){const r=await $p(ns(ea(Lt,"tenancies"),Ur("landlordId","==",t),Ur("propertyId","==",e),Ur("unitId","==",n),Ur("status","==","active")));for(const i of r.docs)await lce(i.id)}async function cce(t,e){const n=await $p(ns(ea(Lt,"tenancies"),Ur("propertyId","==",t),Ur("unitId","==",e),Ur("status","==","active")));if(n.empty)return null;const r=n.docs[0];return{id:r.id,...r.data()}}function uce(t){const e=new Date;switch(t){case"yearly":return Vn.fromDate(new Date(e.getFullYear()+1,e.getMonth(),1));case"weekly":return Vn.fromDate(new Date(e.getTime()+7*864e5));case"daily":return Vn.fromDate(new Date(e.getTime()+864e5));case"monthly":default:return Vn.fromDate(new Date(e.getFullYear(),e.getMonth()+1,1))}}function fce(t){return`${window.location.origin}/invite/${t}`}async function dce({landlordUid:t,propertyId:e,unitId:n,unitName:r,propertyName:i}){await hce(e,n);const a=crypto.randomUUID(),s=new Date,o=new Date(s.getTime()+24*60*60*1e3);return await _T(Un(Lt,"inviteTokens",a),{token:a,landlordUid:t,propertyId:e,unitId:n,unitName:r||"",propertyName:i||"",createdAt:Vn.fromDate(s),expiresAt:Vn.fromDate(o),status:"pending",acceptedBy:null}),{token:a,link:fce(a),expiresAt:o}}async function pV(t){var s,o;if(!t)return{data:null,valid:!1,reason:"not_found"};const e=await ic(Un(Lt,"inviteTokens",t));if(!e.exists())return{data:null,valid:!1,reason:"not_found"};const n=e.data();if(n.status==="accepted")return{data:n,valid:!1,reason:"already_used"};if(n.status==="expired")return{data:n,valid:!1,reason:"expired"};const r=((o=(s=n.expiresAt)==null?void 0:s.toDate)==null?void 0:o.call(s))??new Date(n.expiresAt);if(new Date>r)return await Vs(Un(Lt,"inviteTokens",t),{status:"expired"}),{data:n,valid:!1,reason:"expired"};const i=Un(Lt,"users",n.landlordUid,"properties",n.propertyId,"units",n.unitId),a=await ic(i);if(a.exists()){const l=a.data();if(l.status==="occupied"&&l.tenantId)return{data:n,valid:!1,reason:"unit_occupied"}}return{data:n,valid:!0,reason:"ok"}}async function mV(t,e){const{data:n,valid:r,reason:i}=await pV(t);if(!r)throw new Error(i);const{landlordUid:a,propertyId:s,unitId:o,unitName:l,propertyName:c}=n,u=Un(Lt,"users",a,"properties",s,"units",o),f=await ic(u),h=f.exists()?f.data():{};return await d4(a,s,o),await k1(a,s,o,{tenantId:e.uid,tenantName:e.displayName||"",tenantEmail:e.email||"",status:"occupied"}),await hV({tenantId:e.uid,landlordId:a,propertyId:s,unitId:o,tenantName:e.displayName||"",tenantEmail:e.email||"",unitName:l||h.unitName||"",propertyName:c||"",rentAmount:h.rentAmount||0,billingCycle:h.billingCycle||"monthly",currency:h.currency||"NGN"}),await Vs(Un(Lt,"inviteTokens",t),{status:"accepted",acceptedBy:e.uid,acceptedAt:Vn.now()}),{propertyId:s,unitId:o,landlordUid:a}}async function hce(t,e){try{const n=ns(ea(Lt,"inviteTokens"),Ur("propertyId","==",t),Ur("unitId","==",e),Ur("status","==","pending")),r=await $p(n);await Promise.all(r.docs.map(i=>Vs(i.ref,{status:"expired"})))}catch(n){console.warn("revokePendingTokensForUnit query failed (add composite index):",n.message)}}function un(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function mo(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function pce(t,e){const n=un(t);return isNaN(e)?mo(t,NaN):(n.setDate(n.getDate()+e),n)}function mce(t,e){const n=un(t);if(isNaN(e))return mo(t,NaN);if(!e)return n;const r=n.getDate(),i=mo(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const a=i.getDate();return r>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const gV=6048e5,gce=864e5,M0=43200,dO=1440;let yce={};function jv(){return yce}function by(t,e){var o,l,c,u;const n=jv(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=un(t),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Db(t){return by(t,{weekStartsOn:1})}function yV(t){const e=un(t),n=e.getFullYear(),r=mo(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Db(r),a=mo(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const s=Db(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function hO(t){const e=un(t);return e.setHours(0,0,0,0),e}function Fb(t){const e=un(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function vV(t,e){const n=hO(t),r=hO(e),i=+n-Fb(n),a=+r-Fb(r);return Math.round((i-a)/gce)}function vce(t){const e=yV(t),n=mo(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Db(n)}function O1(t,e){const n=un(t),r=un(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function bce(t){return mo(t,Date.now())}function xce(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function wce(t){if(!xce(t)&&typeof t!="number")return!1;const e=un(t);return!isNaN(Number(e))}function _ce(t,e){const n=un(t),r=un(e),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function Ov(t,e){const n=un(t),r=un(e),i=pO(n,r),a=Math.abs(vV(n,r));n.setDate(n.getDate()-i*a);const s=+(pO(n,r)===-i),o=i*(a-s);return o===0?0:o}function pO(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function Sce(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function Ace(t,e){return+un(t)-+un(e)}function Nce(t){const e=un(t);return e.setHours(23,59,59,999),e}function Ece(t){const e=un(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Pce(t){const e=un(t);return+Nce(e)==+Ece(e)}function Tce(t,e){const n=un(t),r=un(e),i=O1(n,r),a=Math.abs(_ce(n,r));let s;if(a<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*a);let o=O1(n,r)===-i;Pce(un(t))&&a===1&&O1(t,r)===1&&(o=!1),s=i*(a-Number(o))}return s===0?0:s}function kce(t,e,n){const r=Ace(t,e)/1e3;return Sce(n==null?void 0:n.roundingMethod)(r)}function Cce(t){const e=un(t),n=mo(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Ice={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jce=(t,e,n)=>{let r;const i=Ice[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function G5(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Oce={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Rce={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Lce={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Mce={date:G5({formats:Oce,defaultWidth:"full"}),time:G5({formats:Rce,defaultWidth:"full"}),dateTime:G5({formats:Lce,defaultWidth:"full"})},Dce={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Fce=(t,e,n,r)=>Dce[t];function Lm(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const $ce={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Bce={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Vce={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Uce={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Wce=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Hce={ordinalNumber:Wce,era:Lm({values:$ce,defaultWidth:"wide"}),quarter:Lm({values:Bce,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Lm({values:Vce,defaultWidth:"wide"}),day:Lm({values:Uce,defaultWidth:"wide"}),dayPeriod:Lm({values:zce,defaultWidth:"wide",formattingValues:qce,defaultFormattingWidth:"wide"})};function Mm(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?Kce(o,f=>f.test(s)):Gce(o,f=>f.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function Gce(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Kce(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Yce(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const Xce=/^(\d+)(th|st|nd|rd)?/i,Qce=/\d+/i,Jce={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Zce={any:[/^b/i,/^(a|c)/i]},eue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tue={any:[/1/i,/2/i,/3/i,/4/i]},nue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},iue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},aue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},oue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lue={ordinalNumber:Yce({matchPattern:Xce,parsePattern:Qce,valueCallback:t=>parseInt(t,10)}),era:Mm({matchPatterns:Jce,defaultMatchWidth:"wide",parsePatterns:Zce,defaultParseWidth:"any"}),quarter:Mm({matchPatterns:eue,defaultMatchWidth:"wide",parsePatterns:tue,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Mm({matchPatterns:nue,defaultMatchWidth:"wide",parsePatterns:rue,defaultParseWidth:"any"}),day:Mm({matchPatterns:iue,defaultMatchWidth:"wide",parsePatterns:aue,defaultParseWidth:"any"}),dayPeriod:Mm({matchPatterns:sue,defaultMatchWidth:"any",parsePatterns:oue,defaultParseWidth:"any"})},bV={code:"en-US",formatDistance:jce,formatLong:Mce,formatRelative:Fce,localize:Hce,match:lue,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cue(t){const e=un(t);return vV(e,Cce(e))+1}function uue(t){const e=un(t),n=+Db(e)-+vce(e);return Math.round(n/gV)+1}function xV(t,e){var u,f,h,p;const n=un(t),r=n.getFullYear(),i=jv(),a=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=mo(t,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const o=by(s,e),l=mo(t,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const c=by(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function fue(t,e){var o,l,c,u;const n=jv(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=xV(t,e),a=mo(t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),by(a,e)}function due(t,e){const n=un(t),r=+by(n,e)-+fue(n,e);return Math.round(r/gV)+1}function wn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Uc={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return wn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):wn(n+1,2)},d(t,e){return wn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return wn(t.getHours()%12||12,e.length)},H(t,e){return wn(t.getHours(),e.length)},m(t,e){return wn(t.getMinutes(),e.length)},s(t,e){return wn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return wn(i,e.length)}},Fd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mO={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Uc.y(t,e)},Y:function(t,e,n,r){const i=xV(t,r),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return wn(s,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):wn(a,e.length)},R:function(t,e){const n=yV(t);return wn(n,e.length)},u:function(t,e){const n=t.getFullYear();return wn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return wn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return wn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Uc.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return wn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=due(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):wn(i,e.length)},I:function(t,e,n){const r=uue(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):wn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Uc.d(t,e)},D:function(t,e,n){const r=cue(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):wn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return wn(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return wn(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return wn(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Fd.noon:r===0?i=Fd.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Fd.evening:r>=12?i=Fd.afternoon:r>=4?i=Fd.morning:i=Fd.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Uc.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Uc.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):wn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):wn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Uc.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Uc.s(t,e)},S:function(t,e){return Uc.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return yO(r);case"XXXX":case"XX":return xf(r);case"XXXXX":case"XXX":default:return xf(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return yO(r);case"xxxx":case"xx":return xf(r);case"xxxxx":case"xxx":default:return xf(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+gO(r,":");case"OOOO":default:return"GMT"+xf(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+gO(r,":");case"zzzz":default:return"GMT"+xf(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return wn(r,e.length)},T:function(t,e,n){const r=t.getTime();return wn(r,e.length)}};function gO(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+wn(a,2)}function yO(t,e){return t%60===0?(t>0?"-":"+")+wn(Math.abs(t)/60,2):xf(t,e)}function xf(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=wn(Math.trunc(r/60),2),a=wn(r%60,2);return n+i+e+a}const vO=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},wV=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},hue=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return vO(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",vO(r,e)).replace("{{time}}",wV(i,e))},pue={p:wV,P:hue},mue=/^D+$/,gue=/^Y+$/,yue=["D","DD","YY","YYYY"];function vue(t){return mue.test(t)}function bue(t){return gue.test(t)}function xue(t,e,n){const r=wue(t,e,n);if(console.warn(r),yue.includes(t))throw new RangeError(r)}function wue(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _ue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Sue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Aue=/^'([^]*?)'?$/,Nue=/''/g,Eue=/[a-zA-Z]/;function Na(t,e,n){var u,f,h,p;const r=jv(),i=r.locale??bV,a=r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,s=r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,o=un(t);if(!wce(o))throw new RangeError("Invalid time value");let l=e.match(Sue).map(y=>{const b=y[0];if(b==="p"||b==="P"){const x=pue[b];return x(y,i.formatLong)}return y}).join("").match(_ue).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:Pue(y)};if(mO[b])return{isToken:!0,value:y};if(b.match(Eue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const b=y.value;(bue(b)||vue(b))&&xue(b,e,String(t));const x=mO[b[0]];return x(o,b,i.localize,c)}).join("")}function Pue(t){const e=t.match(Aue);return e?e[1].replace(Nue,"'"):t}function Tue(t,e,n){const r=jv(),i=(n==null?void 0:n.locale)??r.locale??bV,a=2520,s=O1(t,e);if(isNaN(s))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:s});let l,c;s>0?(l=un(e),c=un(t)):(l=un(t),c=un(e));const u=kce(c,l),f=(Fb(c)-Fb(l))/1e3,h=Math.round((u-f)/60);let p;if(h<2)return n!=null&&n.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,o):u<10?i.formatDistance("lessThanXSeconds",10,o):u<20?i.formatDistance("lessThanXSeconds",20,o):u<40?i.formatDistance("halfAMinute",0,o):u<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):h===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",h,o);if(h<45)return i.formatDistance("xMinutes",h,o);if(h<90)return i.formatDistance("aboutXHours",1,o);if(h<dO){const y=Math.round(h/60);return i.formatDistance("aboutXHours",y,o)}else{if(h<a)return i.formatDistance("xDays",1,o);if(h<M0){const y=Math.round(h/dO);return i.formatDistance("xDays",y,o)}else if(h<M0*2)return p=Math.round(h/M0),i.formatDistance("aboutXMonths",p,o)}if(p=Tce(c,l),p<12){const y=Math.round(h/M0);return i.formatDistance("xMonths",y,o)}else{const y=p%12,b=Math.trunc(p/12);return y<3?i.formatDistance("aboutXYears",b,o):y<9?i.formatDistance("overXYears",b,o):i.formatDistance("almostXYears",b+1,o)}}function _V(t,e){return Tue(t,bce(t),e)}function Bf(t){return+un(t)<Date.now()}function kue(t,e){return mce(t,-e)}const WA="leaseease_pending_invite";function bO(t){sessionStorage.setItem(WA,t)}function SV(){const t=sessionStorage.getItem(WA);return sessionStorage.removeItem(WA),t}function Cue(){const{token:t}=W7(),{user:e,profile:n}=Mr(),r=Bs(),[i,a]=z.useState("loading"),[s,o]=z.useState(null),[l,c]=z.useState(null);z.useEffect(()=>{(async()=>{var f,h;try{const{data:p,valid:y,reason:b}=await pV(t);if(y){o(p);const x=((h=(f=p.expiresAt)==null?void 0:f.toDate)==null?void 0:h.call(f))??new Date(p.expiresAt);c(x),a("valid")}else a(b==="already_used"?"used":b==="expired"?"expired":b==="unit_occupied"?"occupied":"error"),o(p)}catch{a("error")}})()},[t]);const u=async()=>{if(!e){bO(t),r(`/register?invite=${t}`,{replace:!0});return}if(e.uid===(s==null?void 0:s.landlordUid)){Ke.error("You can't accept your own invite.");return}a("accepting");try{await mV(t,e),a("done"),Ke.success("You've been added to the unit!")}catch(f){Ke.error("Failed to accept invite: "+f.message),a("valid")}};return i==="done"?d.jsx(hf,{children:d.jsxs(He.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"flex flex-col items-center text-center gap-4",children:[d.jsx("div",{className:"w-20 h-20 rounded-full bg-sage/15 flex items-center justify-center",children:d.jsx(Is,{size:36,className:"text-sage"})}),d.jsx("h2",{className:"font-display text-ink text-2xl font-semibold",children:"You're in!"}),d.jsxs("p",{className:"font-body text-stone-500 text-sm max-w-xs",children:["You've been assigned to ",d.jsx("strong",{children:s==null?void 0:s.unitName})," at ",d.jsx("strong",{children:s==null?void 0:s.propertyName}),"."]}),d.jsxs("button",{onClick:()=>r("/tenant"),className:"btn-primary mt-2",children:[d.jsx(Mb,{size:16})," Go to My Homes"]})]})}):i==="occupied"?d.jsx(hf,{children:d.jsx(D0,{icon:ace,iconClass:"text-amber",title:"Unit Already Taken",message:`${s!=null&&s.unitName?`"${s.unitName}" at `:""}${(s==null?void 0:s.propertyName)||"this property"} already has a tenant assigned. Contact your landlord if you believe this is an error.`})}):i==="expired"?d.jsx(hf,{children:d.jsx(D0,{icon:vy,iconClass:"text-amber",title:"Link Expired",message:"This invite link has expired (links are valid for 24 hours). Please ask your landlord to send a new one."})}):i==="used"?d.jsx(hf,{children:d.jsx(D0,{icon:Is,iconClass:"text-sage",title:"Already Accepted",message:"This invite has already been used. If you think this is a mistake, contact your landlord.",action:e?d.jsxs("button",{onClick:()=>r("/tenant"),className:"btn-primary mt-2",children:[d.jsx(Mb,{size:15})," My Homes"]}):null})}):i==="error"?d.jsx(hf,{children:d.jsx(D0,{icon:s4,iconClass:"text-rust",title:"Invalid Link",message:"This invite link doesn't exist or has been revoked. Please ask your landlord for a new invite."})}):i==="loading"?d.jsxs(hf,{children:[d.jsx(UA,{size:32,className:"text-sage animate-spin"}),d.jsx("p",{className:"font-body text-sm text-stone-400 mt-4",children:"Checking your invite"})]}):d.jsx(hf,{children:d.jsxs(He.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},className:"w-full max-w-sm space-y-5",children:[d.jsxs("div",{className:"card overflow-hidden",children:[d.jsxs("div",{className:"bg-gradient-to-br from-ink to-ink/90 p-6 relative",children:[d.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"radial-gradient(circle at 1px 1px, #F5F0E8 1px, transparent 0)",backgroundSize:"20px 20px"}}),d.jsxs("div",{className:"relative flex items-center gap-4",children:[d.jsx("div",{className:"w-14 h-14 rounded-2xl bg-sage/20 border border-sage/30 flex items-center justify-center flex-shrink-0",children:d.jsx(nl,{size:24,className:"text-sage"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-body text-stone-400 text-xs uppercase tracking-wider mb-0.5",children:"Unit Invite"}),d.jsx("h2",{className:"font-display text-cream text-xl font-semibold",children:s==null?void 0:s.unitName}),d.jsx("p",{className:"font-body text-stone-400 text-sm",children:s==null?void 0:s.propertyName})]})]})]}),d.jsxs("div",{className:"px-5 py-4 flex items-center gap-2",children:[d.jsx(vy,{size:13,className:"text-stone-400 flex-shrink-0"}),d.jsx("span",{className:"font-body text-xs text-stone-400",children:l?`Expires ${_V(l,{addSuffix:!0})}`:""})]})]}),e?d.jsxs("p",{className:"font-body text-sm text-stone-500 text-center",children:["Accepting as ",d.jsx("strong",{className:"text-ink",children:e.email})]}):d.jsx("p",{className:"font-body text-sm text-stone-500 text-center",children:"You'll need to sign in or create an account to accept this invite."}),d.jsx("button",{onClick:u,disabled:i==="accepting",className:"btn-primary w-full",children:i==="accepting"?d.jsxs(d.Fragment,{children:[d.jsx(UA,{size:16,className:"animate-spin"})," Accepting"]}):e?d.jsxs(d.Fragment,{children:[d.jsx(Is,{size:16})," Accept & Join Unit"]}):d.jsxs(d.Fragment,{children:[d.jsx(sc,{size:16})," Sign In / Sign Up to Accept"]})}),!e&&d.jsxs("p",{className:"font-body text-xs text-stone-400 text-center",children:["Already have an account?"," ",d.jsx(ur,{to:`/login?invite=${t}`,onClick:()=>bO(t),className:"text-sage font-medium hover:underline",children:"Sign in"})]})]})})}function hf({children:t}){return d.jsxs("div",{className:"min-h-screen bg-stone-50 flex flex-col items-center justify-center p-6",children:[d.jsxs("div",{className:"mb-8 flex items-center gap-3",children:[d.jsx("div",{className:"w-9 h-9 rounded-xl bg-sage flex items-center justify-center shadow-sm",children:d.jsx(sc,{size:17,className:"text-cream"})}),d.jsx("span",{className:"font-display font-semibold text-ink text-xl",children:"LeaseEase"})]}),t]})}function D0({icon:t,iconClass:e,title:n,message:r,action:i}){return d.jsxs(He.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"card p-8 max-w-sm w-full flex flex-col items-center text-center gap-3",children:[d.jsx("div",{className:"w-16 h-16 rounded-2xl bg-stone-100 flex items-center justify-center",children:d.jsx(t,{size:28,className:e})}),d.jsx("h2",{className:"font-display text-ink text-xl font-semibold",children:n}),d.jsx("p",{className:"font-body text-stone-500 text-sm",children:r}),i]})}function HA({id:t,label:e,value:n,onChange:r,placeholder:i="Enter password",autoComplete:a="off",required:s=!1}){const[o,l]=z.useState(!1);return d.jsxs("div",{children:[d.jsx("label",{htmlFor:t,className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:e}),d.jsxs("div",{className:"relative",children:[d.jsx(Jle,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none","aria-hidden":"true"}),d.jsx("input",{id:t,type:o?"text":"password",className:"input-base pl-10 pr-10",placeholder:i,value:n,onChange:r,autoComplete:a,required:s,"aria-label":e}),d.jsx("button",{type:"button",onClick:()=>l(c=>!c),"aria-label":o?"Hide password":"Show password",className:"absolute right-3.5 top-1/2 -translate-y-1/2 text-stone-400 hover:text-stone-600 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sage rounded",children:o?d.jsx(Kle,{size:16}):d.jsx(Yle,{size:16})})]})]})}function Iue(){const t=Bs(),[e,n]=z.useState({email:"",password:""}),[r,i]=z.useState(!1),[a,s]=z.useState(""),o=c=>u=>n(f=>({...f,[c]:u.target.value})),l=async c=>{if(c.preventDefault(),!e.email||!e.password){s("Please fill in all fields.");return}i(!0),s("");try{const u=await sie(e.email.trim().toLowerCase(),e.password),f=await b9(u.user.uid),h=(f==null?void 0:f.role)||"landlord",p=SV();if(p&&h==="tenant")try{await mV(p,u.user),Ke.success("Welcome back! You've been added to your unit."),t("/tenant");return}catch(y){console.warn("Pending invite accept failed:",y.message)}Ke.success("Welcome back!"),t(h==="tenant"?"/tenant":"/dashboard")}catch(u){const f=u.code==="auth/user-not-found"?"No account found with this email.":u.code==="auth/wrong-password"?"Incorrect password. Please try again.":u.code==="auth/invalid-email"?"Please enter a valid email address.":u.code==="auth/too-many-requests"?"Too many attempts. Please wait a moment.":u.code==="auth/invalid-credential"?"Invalid email or password.":"Sign in failed. Please try again.";s(f)}finally{i(!1)}};return d.jsxs("div",{className:"min-h-dvh bg-cream flex",children:[d.jsxs("div",{className:"hidden lg:flex w-[48%] bg-ink relative overflow-hidden flex-col justify-between p-12",children:[d.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"radial-gradient(circle at 1px 1px, #F5F0E8 1px, transparent 0)",backgroundSize:"32px 32px"}}),d.jsx("div",{className:"absolute top-1/4 -left-20 w-80 h-80 rounded-full bg-sage/20 blur-3xl"}),d.jsx("div",{className:"absolute bottom-1/4 right-0 w-64 h-64 rounded-full bg-amber/15 blur-3xl"}),d.jsxs("div",{className:"relative flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-sage flex items-center justify-center",children:d.jsx(sc,{size:18,className:"text-cream"})}),d.jsx("span",{className:"font-display font-semibold text-cream text-xl",children:"LeaseEase"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("p",{className:"font-body text-sage text-sm font-medium tracking-widest uppercase mb-4",children:"Smart Property Management"}),d.jsxs("h1",{className:"font-display text-cream text-4xl leading-tight mb-6",children:["Every property,",d.jsx("br",{}),d.jsx("em",{className:"text-sage",children:"perfectly"})," managed."]}),d.jsx("p",{className:"font-body text-stone-400 text-base leading-relaxed max-w-sm",children:"Track rent payments, manage tenants, set automated reminders, and monitor maintenance  all in one elegant platform."}),d.jsx("div",{className:"flex flex-wrap gap-2 mt-8",children:["Rent Tracking","Push Reminders","Tenant Portal","Analytics"].map(c=>d.jsx("span",{className:"px-3 py-1.5 rounded-full border border-stone-700 text-stone-400 font-body text-xs",children:c},c))})]}),d.jsx("div",{className:"relative font-body text-xs text-stone-600",children:" 2026 LeaseEase  Trusted by property managers"})]}),d.jsx("div",{className:"flex-1 flex items-center justify-center p-6 sm:p-12",children:d.jsxs(He.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.35,ease:"easeOut"},className:"w-full max-w-md",children:[d.jsxs("div",{className:"lg:hidden flex items-center gap-2 mb-8",children:[d.jsx("div",{className:"w-9 h-9 rounded-xl bg-sage flex items-center justify-center",children:d.jsx(sc,{size:16,className:"text-cream"})}),d.jsx("span",{className:"font-display font-semibold text-ink text-xl",children:"LeaseEase"})]}),d.jsx("h2",{className:"font-display text-ink text-3xl font-semibold mb-1",children:"Welcome back"}),d.jsx("p",{className:"font-body text-stone-400 text-sm mb-8",children:"Sign in to your property dashboard"}),a&&d.jsxs(He.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},className:"flex items-center gap-2 bg-rust/8 border border-rust/20 text-rust rounded-xl p-3.5 mb-6 text-sm font-body",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-rust flex-shrink-0"}),a]}),d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:"Email Address"}),d.jsxs("div",{className:"relative",children:[d.jsx(rl,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400"}),d.jsx("input",{type:"email",className:"input-base pl-10",placeholder:"you@example.com",value:e.email,onChange:o("email"),autoComplete:"email"})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[d.jsx("label",{className:"font-body text-xs font-semibold text-stone-500 uppercase tracking-wider",children:"Password"}),d.jsx(ur,{to:"/forgot-password",className:"font-body text-xs text-forgot hover:text-forgot-hover transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-forgot rounded",children:"Forgot password?"})]}),d.jsx(HA,{id:"login-password",value:e.password,onChange:o("password"),placeholder:"Your password",autoComplete:"current-password",required:!0})]}),d.jsx("button",{type:"submit",disabled:r,className:"btn-primary w-full mt-2 py-3 text-sm flex items-center justify-center gap-2",children:r?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:["Sign In ",d.jsx(ks,{size:16})]})})]}),d.jsxs("p",{className:"text-center font-body text-sm text-stone-400 mt-6",children:["Don't have an account?"," ",d.jsx(ur,{to:"/register",className:"text-sage font-semibold hover:text-sage-light transition-colors",children:"Create one to get started"})]})]})})]})}function jue(){const t=Bs(),{countries:e,changeCountry:n,country:r}=hi(),[i,a]=z.useState({fullName:"",email:"",phone:"",password:"",confirm:"",countryCode:r.code,accountType:"landlord"}),[s,o]=z.useState(!1),[l,c]=z.useState(""),u=y=>b=>a(x=>({...x,[y]:b.target.value})),f=y=>{const b=y.target.value;a(x=>({...x,countryCode:b})),n(b)},h=async y=>{var P;y.preventDefault();const{fullName:b,email:x,password:v,confirm:w,countryCode:S,accountType:A}=i;if(!b||!x||!v){c("All required fields must be filled.");return}if(!S){c("Please select your country.");return}if(v.length<8){c("Password must be at least 8 characters.");return}if(v!==w){c("Passwords do not match.");return}o(!0),c("");try{await aie({...i,email:x.trim().toLowerCase(),countryCode:S,role:A==="tenant"?"tenant":"landlord"}),n(S);const O=SV();if(O&&A==="tenant")try{const{user:I}=await getProfile?{user:{uid:(P=await getProfile(i.email))==null?void 0:P.uid}}:{};Ke.success("Account created! Complete your unit invite to finish setup."),t(`/invite/${O}`);return}catch{}Ke.success("Account created! Welcome to LeaseEase."),t(A==="tenant"?"/tenant":"/onboarding")}catch(O){const I=O.code==="auth/email-already-in-use"?"This email is already registered.":O.code==="auth/invalid-email"?"Please enter a valid email.":O.code==="auth/weak-password"?"Password is too weak.":"Registration failed. Please try again.";c(I)}finally{o(!1)}},p=e.find(y=>y.code===i.countryCode);return d.jsx("div",{className:"min-h-dvh bg-cream flex items-center justify-center p-6 sm:p-12",children:d.jsxs(He.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.35,ease:"easeOut"},className:"w-full max-w-lg",children:[d.jsxs(ur,{to:"/login",className:"inline-flex items-center gap-1.5 text-sm font-body text-stone-400 hover:text-ink transition-colors mb-8",children:[d.jsx(o4,{size:15})," Back to sign in"]}),d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-sage flex items-center justify-center",children:d.jsx(sc,{size:18,className:"text-cream"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"font-display text-ink text-2xl font-semibold",children:"Create your account"}),d.jsx("p",{className:"font-body text-stone-400 text-xs mt-0.5",children:"Start managing your properties in minutes"})]})]}),d.jsxs("div",{className:"card p-6 sm:p-8",children:[l&&d.jsxs(He.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},className:"flex items-center gap-2 bg-rust/8 border border-rust/20 text-rust rounded-xl p-3.5 mb-6 text-sm font-body",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-rust flex-shrink-0"}),l]}),d.jsxs("form",{onSubmit:h,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:"I am a *"}),d.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"landlord",label:"Landlord / Manager",helper:"Manage properties and tenants"},{value:"tenant",label:"Tenant",helper:"Pay rent and view history"}].map(y=>d.jsxs("button",{type:"button",onClick:()=>a(b=>({...b,accountType:y.value})),className:`flex flex-col items-start px-3 py-2 rounded-xl border text-left transition-colors ${i.accountType===y.value?"border-sage bg-sage/10 text-ink":"border-stone-200 bg-stone-50 text-stone-500 hover:border-stone-300"}`,children:[d.jsx("span",{className:"font-body text-sm font-medium",children:y.label}),d.jsx("span",{className:"font-body text-xs text-stone-400 mt-0.5",children:y.helper})]},y.value))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:"Full Name *"}),d.jsxs("div",{className:"relative",children:[d.jsx(il,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{type:"text",className:"input-base pl-10",placeholder:"John Doe",value:i.fullName,onChange:u("fullName"),autoComplete:"name",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:"Email Address *"}),d.jsxs("div",{className:"relative",children:[d.jsx(rl,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{type:"email",className:"input-base pl-10",placeholder:"john@example.com",value:i.email,onChange:u("email"),autoComplete:"email",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:"Country & Currency *"}),d.jsxs("div",{className:"relative",children:[d.jsx(VA,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none z-10"}),d.jsx("select",{className:"input-base pl-10 appearance-none",value:i.countryCode,onChange:f,required:!0,children:e.map(y=>d.jsxs("option",{value:y.code,children:[td(y.code)," ",y.name,"  ",y.currency," (",y.symbol,")"]},y.code))})]}),p&&d.jsxs("p",{className:"font-body text-xs text-stone-400 mt-1.5",children:[td(p.code)," Prices will show in ",d.jsxs("strong",{className:"text-sage",children:[p.currencyName," (",p.symbol,")"]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:"Phone "}),d.jsxs("div",{className:"relative",children:[d.jsx(f4,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{type:"tel",className:"input-base pl-10",placeholder:"+1 555 000 0000",value:i.phone,onChange:u("phone"),autoComplete:"tel"})]})]}),d.jsx(HA,{id:"reg-password",label:"Password *",value:i.password,onChange:u("password"),placeholder:"Min. 8 characters",autoComplete:"new-password",required:!0}),d.jsx(HA,{id:"reg-confirm",label:"Confirm Password *",value:i.confirm,onChange:u("confirm"),placeholder:"Min. 8 characters",autoComplete:"new-password",required:!0}),d.jsx("div",{className:"pt-2",children:d.jsx("button",{type:"submit",disabled:s,className:"btn-primary w-full py-3",children:s?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"Create Account"}),d.jsx(ks,{size:16})]})})})]}),d.jsxs("p",{className:"text-center font-body text-sm text-stone-400 mt-5",children:["Already have an account?"," ",d.jsx(ur,{to:"/login",className:"text-sage font-semibold hover:text-sage-light transition-colors",children:"Sign in"})]})]})]})})}function Oue(){const[t,e]=z.useState(""),[n,r]=z.useState(!1),[i,a]=z.useState(!1),[s,o]=z.useState(""),l=async c=>{if(c.preventDefault(),!t){o("Please enter your email address.");return}r(!0),o("");try{await v9(t.trim().toLowerCase()),a(!0)}catch(u){const f=u.code==="auth/user-not-found"?"No account found with this email.":u.code==="auth/invalid-email"?"Please enter a valid email address.":"Failed to send reset email. Please try again.";o(f)}finally{r(!1)}};return d.jsx("div",{className:"min-h-dvh bg-cream flex items-center justify-center p-6 sm:p-12",children:d.jsxs(He.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.35,ease:"easeOut"},className:"w-full max-w-md",children:[d.jsxs(ur,{to:"/login",className:"inline-flex items-center gap-1.5 text-sm font-body text-stone-400 hover:text-ink transition-colors mb-8",children:[d.jsx(o4,{size:15})," Back to sign in"]}),d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-sage flex items-center justify-center",children:d.jsx(sc,{size:18,className:"text-cream"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"font-display text-ink text-2xl font-semibold",children:"Reset your password"}),d.jsx("p",{className:"font-body text-stone-400 text-xs mt-0.5",children:"We'll send a reset link to your email"})]})]}),d.jsx("div",{className:"card p-6 sm:p-8",children:i?d.jsxs(He.div,{initial:{opacity:0,scale:.97},animate:{opacity:1,scale:1},className:"text-center py-4",children:[d.jsx("div",{className:"w-14 h-14 rounded-full bg-sage/10 flex items-center justify-center mx-auto mb-4",children:d.jsx(rl,{size:24,className:"text-sage"})}),d.jsx("h2",{className:"font-display text-ink text-xl font-semibold mb-2",children:"Check your inbox"}),d.jsxs("p",{className:"font-body text-stone-400 text-sm leading-relaxed mb-6",children:["We sent a password reset link to ",d.jsx("span",{className:"font-semibold text-ink",children:t}),". Check your spam folder if you don't see it."]}),d.jsxs(ur,{to:"/login",className:"btn-primary w-full flex items-center justify-center gap-2",children:["Back to Sign In ",d.jsx(ks,{size:16})]})]}):d.jsxs(d.Fragment,{children:[s&&d.jsxs(He.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},className:"flex items-center gap-2 bg-rust/8 border border-rust/20 text-rust rounded-xl p-3.5 mb-6 text-sm font-body",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-rust flex-shrink-0"}),s]}),d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:"Email Address"}),d.jsxs("div",{className:"relative",children:[d.jsx(rl,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400"}),d.jsx("input",{type:"email",className:"input-base pl-10",placeholder:"you@example.com",value:t,onChange:c=>e(c.target.value),autoComplete:"email",required:!0})]})]}),d.jsx("button",{type:"submit",disabled:n,className:"btn-primary w-full py-3",children:n?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"Send Reset Link"}),d.jsx(ks,{size:16})]})})]}),d.jsxs("p",{className:"text-center font-body text-sm text-stone-400 mt-5",children:["Remembered it?"," ",d.jsx(ur,{to:"/login",className:"text-sage font-semibold hover:text-sage-light transition-colors",children:"Sign in"})]})]})})]})})}function AV(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=AV(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function on(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=AV(t))&&(r&&(r+=" "),r+=e);return r}var Rue=Array.isArray,Ea=Rue,Lue=typeof o0=="object"&&o0&&o0.Object===Object&&o0,NV=Lue,Mue=NV,Due=typeof self=="object"&&self&&self.Object===Object&&self,Fue=Mue||Due||Function("return this")(),ll=Fue,$ue=ll,Bue=$ue.Symbol,Rv=Bue,xO=Rv,EV=Object.prototype,Vue=EV.hasOwnProperty,Uue=EV.toString,Dm=xO?xO.toStringTag:void 0;function zue(t){var e=Vue.call(t,Dm),n=t[Dm];try{t[Dm]=void 0;var r=!0}catch{}var i=Uue.call(t);return r&&(e?t[Dm]=n:delete t[Dm]),i}var que=zue,Wue=Object.prototype,Hue=Wue.toString;function Gue(t){return Hue.call(t)}var Kue=Gue,wO=Rv,Yue=que,Xue=Kue,Que="[object Null]",Jue="[object Undefined]",_O=wO?wO.toStringTag:void 0;function Zue(t){return t==null?t===void 0?Jue:Que:_O&&_O in Object(t)?Yue(t):Xue(t)}var gc=Zue;function efe(t){return t!=null&&typeof t=="object"}var yc=efe,tfe=gc,nfe=yc,rfe="[object Symbol]";function ife(t){return typeof t=="symbol"||nfe(t)&&tfe(t)==rfe}var zp=ife,afe=Ea,sfe=zp,ofe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lfe=/^\w*$/;function cfe(t,e){if(afe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||sfe(t)?!0:lfe.test(t)||!ofe.test(t)||e!=null&&t in Object(e)}var h4=cfe;function ufe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var qu=ufe;const qp=Rn(qu);var ffe=gc,dfe=qu,hfe="[object AsyncFunction]",pfe="[object Function]",mfe="[object GeneratorFunction]",gfe="[object Proxy]";function yfe(t){if(!dfe(t))return!1;var e=ffe(t);return e==pfe||e==mfe||e==hfe||e==gfe}var p4=yfe;const Ut=Rn(p4);var vfe=ll,bfe=vfe["__core-js_shared__"],xfe=bfe,K5=xfe,SO=function(){var t=/[^.]+$/.exec(K5&&K5.keys&&K5.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function wfe(t){return!!SO&&SO in t}var _fe=wfe,Sfe=Function.prototype,Afe=Sfe.toString;function Nfe(t){if(t!=null){try{return Afe.call(t)}catch{}try{return t+""}catch{}}return""}var PV=Nfe,Efe=p4,Pfe=_fe,Tfe=qu,kfe=PV,Cfe=/[\\^$.*+?()[\]{}|]/g,Ife=/^\[object .+?Constructor\]$/,jfe=Function.prototype,Ofe=Object.prototype,Rfe=jfe.toString,Lfe=Ofe.hasOwnProperty,Mfe=RegExp("^"+Rfe.call(Lfe).replace(Cfe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Dfe(t){if(!Tfe(t)||Pfe(t))return!1;var e=Efe(t)?Mfe:Ife;return e.test(kfe(t))}var Ffe=Dfe;function $fe(t,e){return t==null?void 0:t[e]}var Bfe=$fe,Vfe=Ffe,Ufe=Bfe;function zfe(t,e){var n=Ufe(t,e);return Vfe(n)?n:void 0}var xd=zfe,qfe=xd,Wfe=qfe(Object,"create"),zx=Wfe,AO=zx;function Hfe(){this.__data__=AO?AO(null):{},this.size=0}var Gfe=Hfe;function Kfe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Yfe=Kfe,Xfe=zx,Qfe="__lodash_hash_undefined__",Jfe=Object.prototype,Zfe=Jfe.hasOwnProperty;function ede(t){var e=this.__data__;if(Xfe){var n=e[t];return n===Qfe?void 0:n}return Zfe.call(e,t)?e[t]:void 0}var tde=ede,nde=zx,rde=Object.prototype,ide=rde.hasOwnProperty;function ade(t){var e=this.__data__;return nde?e[t]!==void 0:ide.call(e,t)}var sde=ade,ode=zx,lde="__lodash_hash_undefined__";function cde(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ode&&e===void 0?lde:e,this}var ude=cde,fde=Gfe,dde=Yfe,hde=tde,pde=sde,mde=ude;function Wp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Wp.prototype.clear=fde;Wp.prototype.delete=dde;Wp.prototype.get=hde;Wp.prototype.has=pde;Wp.prototype.set=mde;var gde=Wp;function yde(){this.__data__=[],this.size=0}var vde=yde;function bde(t,e){return t===e||t!==t&&e!==e}var m4=bde,xde=m4;function wde(t,e){for(var n=t.length;n--;)if(xde(t[n][0],e))return n;return-1}var qx=wde,_de=qx,Sde=Array.prototype,Ade=Sde.splice;function Nde(t){var e=this.__data__,n=_de(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Ade.call(e,n,1),--this.size,!0}var Ede=Nde,Pde=qx;function Tde(t){var e=this.__data__,n=Pde(e,t);return n<0?void 0:e[n][1]}var kde=Tde,Cde=qx;function Ide(t){return Cde(this.__data__,t)>-1}var jde=Ide,Ode=qx;function Rde(t,e){var n=this.__data__,r=Ode(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Lde=Rde,Mde=vde,Dde=Ede,Fde=kde,$de=jde,Bde=Lde;function Hp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Hp.prototype.clear=Mde;Hp.prototype.delete=Dde;Hp.prototype.get=Fde;Hp.prototype.has=$de;Hp.prototype.set=Bde;var Wx=Hp,Vde=xd,Ude=ll,zde=Vde(Ude,"Map"),g4=zde,NO=gde,qde=Wx,Wde=g4;function Hde(){this.size=0,this.__data__={hash:new NO,map:new(Wde||qde),string:new NO}}var Gde=Hde;function Kde(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Yde=Kde,Xde=Yde;function Qde(t,e){var n=t.__data__;return Xde(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Hx=Qde,Jde=Hx;function Zde(t){var e=Jde(this,t).delete(t);return this.size-=e?1:0,e}var ehe=Zde,the=Hx;function nhe(t){return the(this,t).get(t)}var rhe=nhe,ihe=Hx;function ahe(t){return ihe(this,t).has(t)}var she=ahe,ohe=Hx;function lhe(t,e){var n=ohe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var che=lhe,uhe=Gde,fhe=ehe,dhe=rhe,hhe=she,phe=che;function Gp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Gp.prototype.clear=uhe;Gp.prototype.delete=fhe;Gp.prototype.get=dhe;Gp.prototype.has=hhe;Gp.prototype.set=phe;var y4=Gp,TV=y4,mhe="Expected a function";function v4(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(mhe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(v4.Cache||TV),n}v4.Cache=TV;var kV=v4;const ghe=Rn(kV);var yhe=kV,vhe=500;function bhe(t){var e=yhe(t,function(r){return n.size===vhe&&n.clear(),r}),n=e.cache;return e}var xhe=bhe,whe=xhe,_he=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,She=/\\(\\)?/g,Ahe=whe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(_he,function(n,r,i,a){e.push(i?a.replace(She,"$1"):r||n)}),e}),Nhe=Ahe;function Ehe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var b4=Ehe,EO=Rv,Phe=b4,The=Ea,khe=zp,PO=EO?EO.prototype:void 0,TO=PO?PO.toString:void 0;function CV(t){if(typeof t=="string")return t;if(The(t))return Phe(t,CV)+"";if(khe(t))return TO?TO.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Che=CV,Ihe=Che;function jhe(t){return t==null?"":Ihe(t)}var IV=jhe,Ohe=Ea,Rhe=h4,Lhe=Nhe,Mhe=IV;function Dhe(t,e){return Ohe(t)?t:Rhe(t,e)?[t]:Lhe(Mhe(t))}var jV=Dhe,Fhe=zp;function $he(t){if(typeof t=="string"||Fhe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Gx=$he,Bhe=jV,Vhe=Gx;function Uhe(t,e){e=Bhe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Vhe(e[n++])];return n&&n==r?t:void 0}var x4=Uhe,zhe=x4;function qhe(t,e,n){var r=t==null?void 0:zhe(t,e);return r===void 0?n:r}var OV=qhe;const Rs=Rn(OV);function Whe(t){return t==null}var Hhe=Whe;const Jt=Rn(Hhe);var Ghe=gc,Khe=Ea,Yhe=yc,Xhe="[object String]";function Qhe(t){return typeof t=="string"||!Khe(t)&&Yhe(t)&&Ghe(t)==Xhe}var Jhe=Qhe;const rd=Rn(Jhe);var RV={exports:{}},Nn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w4=Symbol.for("react.element"),_4=Symbol.for("react.portal"),Kx=Symbol.for("react.fragment"),Yx=Symbol.for("react.strict_mode"),Xx=Symbol.for("react.profiler"),Qx=Symbol.for("react.provider"),Jx=Symbol.for("react.context"),Zhe=Symbol.for("react.server_context"),Zx=Symbol.for("react.forward_ref"),ew=Symbol.for("react.suspense"),tw=Symbol.for("react.suspense_list"),nw=Symbol.for("react.memo"),rw=Symbol.for("react.lazy"),epe=Symbol.for("react.offscreen"),LV;LV=Symbol.for("react.module.reference");function Us(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case w4:switch(t=t.type,t){case Kx:case Xx:case Yx:case ew:case tw:return t;default:switch(t=t&&t.$$typeof,t){case Zhe:case Jx:case Zx:case rw:case nw:case Qx:return t;default:return e}}case _4:return e}}}Nn.ContextConsumer=Jx;Nn.ContextProvider=Qx;Nn.Element=w4;Nn.ForwardRef=Zx;Nn.Fragment=Kx;Nn.Lazy=rw;Nn.Memo=nw;Nn.Portal=_4;Nn.Profiler=Xx;Nn.StrictMode=Yx;Nn.Suspense=ew;Nn.SuspenseList=tw;Nn.isAsyncMode=function(){return!1};Nn.isConcurrentMode=function(){return!1};Nn.isContextConsumer=function(t){return Us(t)===Jx};Nn.isContextProvider=function(t){return Us(t)===Qx};Nn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===w4};Nn.isForwardRef=function(t){return Us(t)===Zx};Nn.isFragment=function(t){return Us(t)===Kx};Nn.isLazy=function(t){return Us(t)===rw};Nn.isMemo=function(t){return Us(t)===nw};Nn.isPortal=function(t){return Us(t)===_4};Nn.isProfiler=function(t){return Us(t)===Xx};Nn.isStrictMode=function(t){return Us(t)===Yx};Nn.isSuspense=function(t){return Us(t)===ew};Nn.isSuspenseList=function(t){return Us(t)===tw};Nn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Kx||t===Xx||t===Yx||t===ew||t===tw||t===epe||typeof t=="object"&&t!==null&&(t.$$typeof===rw||t.$$typeof===nw||t.$$typeof===Qx||t.$$typeof===Jx||t.$$typeof===Zx||t.$$typeof===LV||t.getModuleId!==void 0)};Nn.typeOf=Us;RV.exports=Nn;var tpe=RV.exports,npe=gc,rpe=yc,ipe="[object Number]";function ape(t){return typeof t=="number"||rpe(t)&&npe(t)==ipe}var MV=ape;const spe=Rn(MV);var ope=MV;function lpe(t){return ope(t)&&t!=+t}var cpe=lpe;const Kp=Rn(cpe);var so=function(e){return e===0?0:e>0?1:-1},If=function(e){return rd(e)&&e.indexOf("%")===e.length-1},Ue=function(e){return spe(e)&&!Kp(e)},upe=function(e){return Jt(e)},ti=function(e){return Ue(e)||rd(e)},fpe=0,Lv=function(e){var n=++fpe;return"".concat(e||"").concat(n)},id=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ue(e)&&!rd(e))return r;var a;if(If(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Kp(a)&&(a=r),i&&a>n&&(a=n),a},ru=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},dpe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},As=function(e,n){return Ue(e)&&Ue(n)?function(r){return e+r*(n-e)}:function(){return n}};function $b(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Rs(r,e))===n})}var hpe=function(e,n){return Ue(e)&&Ue(n)?e-n:rd(e)&&rd(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Ih(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function GA(t){"@babel/helpers - typeof";return GA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GA(t)}var ppe=["viewBox","children"],mpe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],kO=["points","pathLength"],Y5={svg:ppe,polygon:kO,polyline:kO},S4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Bb=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(z.isValidElement(e)&&(r=e.props),!qp(r))return null;var i={};return Object.keys(r).forEach(function(a){S4.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},gpe=function(e,n,r){return function(i){return e(n,r,i),null}},Vb=function(e,n,r){if(!qp(e)||GA(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];S4.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=gpe(s,n,r))}),i},ype=["children"],vpe=["children"];function CO(t,e){if(t==null)return{};var n=bpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KA(t){"@babel/helpers - typeof";return KA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KA(t)}var IO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Wl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},jO=null,X5=null,A4=function t(e){if(e===jO&&Array.isArray(X5))return X5;var n=[];return z.Children.forEach(e,function(r){Jt(r)||(tpe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),X5=n,jO=e,n};function co(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Wl(i)}):r=[Wl(e)],A4(t).forEach(function(i){var a=Rs(i,"type.displayName")||Rs(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function qa(t,e){var n=co(t,e);return n&&n[0]}var OO=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ue(r)||r<=0||!Ue(i)||i<=0)},xpe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],wpe=function(e){return e&&e.type&&rd(e.type)&&xpe.indexOf(e.type)>=0},_pe=function(e){return e&&KA(e)==="object"&&"clipDot"in e},Spe=function(e,n,r,i){var a,s=(a=Y5==null?void 0:Y5[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Ut(e)&&(i&&s.includes(n)||mpe.includes(n))||r&&S4.includes(n)},Ht=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(z.isValidElement(e)&&(i=e.props),!qp(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;Spe((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},YA=function t(e,n){if(e===n)return!0;var r=z.Children.count(e);if(r!==z.Children.count(n))return!1;if(r===0)return!0;if(r===1)return RO(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!RO(a,s))return!1}return!0},RO=function(e,n){if(Jt(e)&&Jt(n))return!0;if(!Jt(e)&&!Jt(n)){var r=e.props||{},i=r.children,a=CO(r,ype),s=n.props||{},o=s.children,l=CO(s,vpe);return i&&o?Ih(a,l)&&YA(i,o):!i&&!o?Ih(a,l):!1}return!1},LO=function(e,n){var r=[],i={};return A4(e).forEach(function(a,s){if(wpe(a))r.push(a);else if(a){var o=Wl(a.type),l=n[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var f=c(a,o,s);r.push(f),i[o]=!0}}}),r},Ape=function(e){var n=e&&e.type;return n&&IO[n]?IO[n]:null},Npe=function(e,n){return A4(n).indexOf(e)},Epe=["children","width","height","viewBox","className","style","title","desc"];function XA(){return XA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XA.apply(this,arguments)}function Ppe(t,e){if(t==null)return{};var n=Tpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function QA(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,c=Ppe(t,Epe),u=i||{width:n,height:r,x:0,y:0},f=on("recharts-surface",a);return he.createElement("svg",XA({},Ht(c,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),he.createElement("title",null,o),he.createElement("desc",null,l),e)}var kpe=["children","className"];function JA(){return JA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JA.apply(this,arguments)}function Cpe(t,e){if(t==null)return{};var n=Ipe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ipe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var cr=he.forwardRef(function(t,e){var n=t.children,r=t.className,i=Cpe(t,kpe),a=on("recharts-layer",r);return he.createElement("g",JA({className:a},Ht(i,!0),{ref:e}),n)}),Hl=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function jpe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var Ope=jpe,Rpe=Ope;function Lpe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Rpe(t,e,n)}var Mpe=Lpe,Dpe="\\ud800-\\udfff",Fpe="\\u0300-\\u036f",$pe="\\ufe20-\\ufe2f",Bpe="\\u20d0-\\u20ff",Vpe=Fpe+$pe+Bpe,Upe="\\ufe0e\\ufe0f",zpe="\\u200d",qpe=RegExp("["+zpe+Dpe+Vpe+Upe+"]");function Wpe(t){return qpe.test(t)}var DV=Wpe;function Hpe(t){return t.split("")}var Gpe=Hpe,FV="\\ud800-\\udfff",Kpe="\\u0300-\\u036f",Ype="\\ufe20-\\ufe2f",Xpe="\\u20d0-\\u20ff",Qpe=Kpe+Ype+Xpe,Jpe="\\ufe0e\\ufe0f",Zpe="["+FV+"]",ZA="["+Qpe+"]",eN="\\ud83c[\\udffb-\\udfff]",eme="(?:"+ZA+"|"+eN+")",$V="[^"+FV+"]",BV="(?:\\ud83c[\\udde6-\\uddff]){2}",VV="[\\ud800-\\udbff][\\udc00-\\udfff]",tme="\\u200d",UV=eme+"?",zV="["+Jpe+"]?",nme="(?:"+tme+"(?:"+[$V,BV,VV].join("|")+")"+zV+UV+")*",rme=zV+UV+nme,ime="(?:"+[$V+ZA+"?",ZA,BV,VV,Zpe].join("|")+")",ame=RegExp(eN+"(?="+eN+")|"+ime+rme,"g");function sme(t){return t.match(ame)||[]}var ome=sme,lme=Gpe,cme=DV,ume=ome;function fme(t){return cme(t)?ume(t):lme(t)}var dme=fme,hme=Mpe,pme=DV,mme=dme,gme=IV;function yme(t){return function(e){e=gme(e);var n=pme(e)?mme(e):void 0,r=n?n[0]:e.charAt(0),i=n?hme(n,1).join(""):e.slice(1);return r[t]()+i}}var vme=yme,bme=vme,xme=bme("toUpperCase"),wme=xme;const iw=Rn(wme);function Fn(t){return function(){return t}}const qV=Math.cos,Ub=Math.sin,yo=Math.sqrt,zb=Math.PI,aw=2*zb,tN=Math.PI,nN=2*tN,wf=1e-6,_me=nN-wf;function WV(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Sme(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return WV;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Ame{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?WV:Sme(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,c=i-n,u=s-e,f=o-n,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>wf)if(!(Math.abs(f*l-c*u)>wf)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,y=i-o,b=l*l+c*c,x=p*p+y*y,v=Math.sqrt(b),w=Math.sqrt(h),S=a*Math.tan((tN-Math.acos((b+h-x)/(2*v*w)))/2),A=S/w,P=S/v;Math.abs(A-1)>wf&&this._append`L${e+A*u},${n+A*f}`,this._append`A${a},${a},0,0,${+(f*p>u*y)},${this._x1=e+P*l},${this._y1=n+P*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,u=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>wf||Math.abs(this._y1-u)>wf)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%nN+nN),h>_me?this._append`A${r},${r},0,1,${f},${e-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:h>wf&&this._append`A${r},${r},0,${+(h>=tN)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function N4(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Ame(e)}function E4(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function HV(t){this._context=t}HV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function sw(t){return new HV(t)}function GV(t){return t[0]}function KV(t){return t[1]}function YV(t,e){var n=Fn(!0),r=null,i=sw,a=null,s=N4(o);t=typeof t=="function"?t:t===void 0?GV:Fn(t),e=typeof e=="function"?e:e===void 0?KV:Fn(e);function o(l){var c,u=(l=E4(l)).length,f,h=!1,p;for(r==null&&(a=i(p=s())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,c,l),+e(f,c,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Fn(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Fn(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Fn(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function F0(t,e,n){var r=null,i=Fn(!0),a=null,s=sw,o=null,l=N4(c);t=typeof t=="function"?t:t===void 0?GV:Fn(+t),e=typeof e=="function"?e:Fn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?KV:Fn(+n);function c(f){var h,p,y,b=(f=E4(f)).length,x,v=!1,w,S=new Array(b),A=new Array(b);for(a==null&&(o=s(w=l())),h=0;h<=b;++h){if(!(h<b&&i(x=f[h],h,f))===v)if(v=!v)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),y=h-1;y>=p;--y)o.point(S[y],A[y]);o.lineEnd(),o.areaEnd()}v&&(S[h]=+t(x,h,f),A[h]=+e(x,h,f),o.point(r?+r(x,h,f):S[h],n?+n(x,h,f):A[h]))}if(w)return o=null,w+""||null}function u(){return YV().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Fn(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Fn(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Fn(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Fn(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Fn(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Fn(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Fn(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class XV{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Nme(t){return new XV(t,!0)}function Eme(t){return new XV(t,!1)}const P4={draw(t,e){const n=yo(e/zb);t.moveTo(n,0),t.arc(0,0,n,0,aw)}},Pme={draw(t,e){const n=yo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},QV=yo(1/3),Tme=QV*2,kme={draw(t,e){const n=yo(e/Tme),r=n*QV;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Cme={draw(t,e){const n=yo(e),r=-n/2;t.rect(r,r,n,n)}},Ime=.8908130915292852,JV=Ub(zb/10)/Ub(7*zb/10),jme=Ub(aw/10)*JV,Ome=-qV(aw/10)*JV,Rme={draw(t,e){const n=yo(e*Ime),r=jme*n,i=Ome*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=aw*a/5,o=qV(s),l=Ub(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},Q5=yo(3),Lme={draw(t,e){const n=-yo(e/(Q5*3));t.moveTo(0,n*2),t.lineTo(-Q5*n,-n),t.lineTo(Q5*n,-n),t.closePath()}},vs=-.5,bs=yo(3)/2,rN=1/yo(12),Mme=(rN/2+1)*3,Dme={draw(t,e){const n=yo(e/Mme),r=n/2,i=n*rN,a=r,s=n*rN+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(vs*r-bs*i,bs*r+vs*i),t.lineTo(vs*a-bs*s,bs*a+vs*s),t.lineTo(vs*o-bs*l,bs*o+vs*l),t.lineTo(vs*r+bs*i,vs*i-bs*r),t.lineTo(vs*a+bs*s,vs*s-bs*a),t.lineTo(vs*o+bs*l,vs*l-bs*o),t.closePath()}};function Fme(t,e){let n=null,r=N4(i);t=typeof t=="function"?t:Fn(t||P4),e=typeof e=="function"?e:Fn(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Fn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Fn(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function qb(){}function Wb(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function ZV(t){this._context=t}ZV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $me(t){return new ZV(t)}function eU(t){this._context=t}eU.prototype={areaStart:qb,areaEnd:qb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Wb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Bme(t){return new eU(t)}function tU(t){this._context=t}tU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Wb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Vme(t){return new tU(t)}function nU(t){this._context=t}nU.prototype={areaStart:qb,areaEnd:qb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Ume(t){return new nU(t)}function MO(t){return t<0?-1:1}function DO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(MO(a)+MO(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function FO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function J5(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function Hb(t){this._context=t}Hb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:J5(this,this._t0,FO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,J5(this,FO(this,n=DO(this,t,e)),n);break;default:J5(this,this._t0,n=DO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function rU(t){this._context=new iU(t)}(rU.prototype=Object.create(Hb.prototype)).point=function(t,e){Hb.prototype.point.call(this,e,t)};function iU(t){this._context=t}iU.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function zme(t){return new Hb(t)}function qme(t){return new rU(t)}function aU(t){this._context=t}aU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=$O(t),i=$O(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function $O(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Wme(t){return new aU(t)}function ow(t,e){this._context=t,this._t=e}ow.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Hme(t){return new ow(t,.5)}function Gme(t){return new ow(t,0)}function Kme(t){return new ow(t,1)}function op(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function iN(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Yme(t,e){return t[e]}function Xme(t){const e=[];return e.key=t,e}function Qme(){var t=Fn([]),e=iN,n=op,r=Yme;function i(a){var s=Array.from(t.apply(this,arguments),Xme),o,l=s.length,c=-1,u;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(f,s[o].key,c,a)]).data=f;for(o=0,u=E4(e(s));o<l;++o)s[u[o]].index=o;return n(s,u),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Fn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Fn(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?iN:typeof a=="function"?a:Fn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??op,i):n},i}function Jme(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}op(t,e)}}function Zme(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}op(t,e)}}function ege(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var u=t[e[o]],f=u[r][1]||0,h=u[r-1][1]||0,p=(f-h)/2,y=0;y<o;++y){var b=t[e[y]],x=b[r][1]||0,v=b[r-1][1]||0;p+=x-v}l+=f,c+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,op(t,e)}}function xy(t){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xy(t)}var tge=["type","size","sizeType"];function aN(){return aN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aN.apply(this,arguments)}function BO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(n),!0).forEach(function(r){nge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nge(t,e,n){return e=rge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rge(t){var e=ige(t,"string");return xy(e)=="symbol"?e:e+""}function ige(t,e){if(xy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function age(t,e){if(t==null)return{};var n=sge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var sU={symbolCircle:P4,symbolCross:Pme,symbolDiamond:kme,symbolSquare:Cme,symbolStar:Rme,symbolTriangle:Lme,symbolWye:Dme},oge=Math.PI/180,lge=function(e){var n="symbol".concat(iw(e));return sU[n]||P4},cge=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*oge;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},uge=function(e,n){sU["symbol".concat(iw(e))]=n},T4=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=age(e,tge),c=VO(VO({},l),{},{type:r,size:a,sizeType:o}),u=function(){var x=lge(r),v=Fme().type(x).size(cge(a,o,r));return v()},f=c.className,h=c.cx,p=c.cy,y=Ht(c,!0);return h===+h&&p===+p&&a===+a?he.createElement("path",aN({},y,{className:on("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};T4.registerSymbol=uge;function lp(t){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lp(t)}function sN(){return sN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sN.apply(this,arguments)}function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){wy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lU(r.key),r)}}function pge(t,e,n){return e&&hge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mge(t,e,n){return e=Gb(e),gge(t,oU()?Reflect.construct(e,n||[],Gb(t).constructor):e.apply(t,n))}function gge(t,e){if(e&&(lp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yge(t)}function yge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oU=function(){return!!t})()}function Gb(t){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gb(t)}function vge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oN(t,e)}function oN(t,e){return oN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oN(t,e)}function wy(t,e,n){return e=lU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lU(t){var e=bge(t,"string");return lp(e)=="symbol"?e:e+""}function bge(t,e){if(lp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xs=32,k4=function(t){function e(){return dge(this,e),mge(this,e,arguments)}return vge(e,t),pge(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=xs/2,s=xs/6,o=xs/3,l=r.inactive?i:r.color;if(r.type==="plainline")return he.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:xs,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return he.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(xs,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return he.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(xs/8,"h").concat(xs,"v").concat(xs*3/4,"h").concat(-xs,"z"),className:"recharts-legend-icon"});if(he.isValidElement(r.legendIcon)){var c=fge({},r);return delete c.legendIcon,he.cloneElement(r.legendIcon,c)}return he.createElement(T4,{fill:l,cx:a,cy:a,size:xs,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:xs,height:xs},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,y){var b=p.formatter||l,x=on(wy(wy({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=Ut(p.value)?null:p.value;Hl(!Ut(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?c:p.color;return he.createElement("li",sN({className:x,style:f,key:"legend-item-".concat(y)},Vb(r.props,p,y)),he.createElement(QA,{width:s,height:s,viewBox:u,style:h},r.renderIcon(p)),he.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},b?b(v,p,y):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return he.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(z.PureComponent);wy(k4,"displayName","Legend");wy(k4,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var xge=Wx;function wge(){this.__data__=new xge,this.size=0}var _ge=wge;function Sge(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Age=Sge;function Nge(t){return this.__data__.get(t)}var Ege=Nge;function Pge(t){return this.__data__.has(t)}var Tge=Pge,kge=Wx,Cge=g4,Ige=y4,jge=200;function Oge(t,e){var n=this.__data__;if(n instanceof kge){var r=n.__data__;if(!Cge||r.length<jge-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ige(r)}return n.set(t,e),this.size=n.size,this}var Rge=Oge,Lge=Wx,Mge=_ge,Dge=Age,Fge=Ege,$ge=Tge,Bge=Rge;function Yp(t){var e=this.__data__=new Lge(t);this.size=e.size}Yp.prototype.clear=Mge;Yp.prototype.delete=Dge;Yp.prototype.get=Fge;Yp.prototype.has=$ge;Yp.prototype.set=Bge;var cU=Yp,Vge="__lodash_hash_undefined__";function Uge(t){return this.__data__.set(t,Vge),this}var zge=Uge;function qge(t){return this.__data__.has(t)}var Wge=qge,Hge=y4,Gge=zge,Kge=Wge;function Kb(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Hge;++e<n;)this.add(t[e])}Kb.prototype.add=Kb.prototype.push=Gge;Kb.prototype.has=Kge;var uU=Kb;function Yge(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var fU=Yge;function Xge(t,e){return t.has(e)}var dU=Xge,Qge=uU,Jge=fU,Zge=dU,eye=1,tye=2;function nye(t,e,n,r,i,a){var s=n&eye,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,p=n&tye?new Qge:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var y=t[f],b=e[f];if(r)var x=s?r(b,y,f,e,t,a):r(y,b,f,t,e,a);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!Jge(e,function(v,w){if(!Zge(p,w)&&(y===v||i(y,v,n,r,a)))return p.push(w)})){h=!1;break}}else if(!(y===b||i(y,b,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var hU=nye,rye=ll,iye=rye.Uint8Array,aye=iye;function sye(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var oye=sye;function lye(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var C4=lye,zO=Rv,qO=aye,cye=m4,uye=hU,fye=oye,dye=C4,hye=1,pye=2,mye="[object Boolean]",gye="[object Date]",yye="[object Error]",vye="[object Map]",bye="[object Number]",xye="[object RegExp]",wye="[object Set]",_ye="[object String]",Sye="[object Symbol]",Aye="[object ArrayBuffer]",Nye="[object DataView]",WO=zO?zO.prototype:void 0,Z5=WO?WO.valueOf:void 0;function Eye(t,e,n,r,i,a,s){switch(n){case Nye:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Aye:return!(t.byteLength!=e.byteLength||!a(new qO(t),new qO(e)));case mye:case gye:case bye:return cye(+t,+e);case yye:return t.name==e.name&&t.message==e.message;case xye:case _ye:return t==e+"";case vye:var o=fye;case wye:var l=r&hye;if(o||(o=dye),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=pye,s.set(t,e);var u=uye(o(t),o(e),r,i,a,s);return s.delete(t),u;case Sye:if(Z5)return Z5.call(t)==Z5.call(e)}return!1}var Pye=Eye;function Tye(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var pU=Tye,kye=pU,Cye=Ea;function Iye(t,e,n){var r=e(t);return Cye(t)?r:kye(r,n(t))}var jye=Iye;function Oye(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var Rye=Oye;function Lye(){return[]}var Mye=Lye,Dye=Rye,Fye=Mye,$ye=Object.prototype,Bye=$ye.propertyIsEnumerable,HO=Object.getOwnPropertySymbols,Vye=HO?function(t){return t==null?[]:(t=Object(t),Dye(HO(t),function(e){return Bye.call(t,e)}))}:Fye,Uye=Vye;function zye(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var qye=zye,Wye=gc,Hye=yc,Gye="[object Arguments]";function Kye(t){return Hye(t)&&Wye(t)==Gye}var Yye=Kye,GO=Yye,Xye=yc,mU=Object.prototype,Qye=mU.hasOwnProperty,Jye=mU.propertyIsEnumerable,Zye=GO(function(){return arguments}())?GO:function(t){return Xye(t)&&Qye.call(t,"callee")&&!Jye.call(t,"callee")},I4=Zye,Yb={exports:{}};function eve(){return!1}var tve=eve;Yb.exports;(function(t,e){var n=ll,r=tve,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(Yb,Yb.exports);var gU=Yb.exports,nve=9007199254740991,rve=/^(?:0|[1-9]\d*)$/;function ive(t,e){var n=typeof t;return e=e??nve,!!e&&(n=="number"||n!="symbol"&&rve.test(t))&&t>-1&&t%1==0&&t<e}var j4=ive,ave=9007199254740991;function sve(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ave}var O4=sve,ove=gc,lve=O4,cve=yc,uve="[object Arguments]",fve="[object Array]",dve="[object Boolean]",hve="[object Date]",pve="[object Error]",mve="[object Function]",gve="[object Map]",yve="[object Number]",vve="[object Object]",bve="[object RegExp]",xve="[object Set]",wve="[object String]",_ve="[object WeakMap]",Sve="[object ArrayBuffer]",Ave="[object DataView]",Nve="[object Float32Array]",Eve="[object Float64Array]",Pve="[object Int8Array]",Tve="[object Int16Array]",kve="[object Int32Array]",Cve="[object Uint8Array]",Ive="[object Uint8ClampedArray]",jve="[object Uint16Array]",Ove="[object Uint32Array]",Hn={};Hn[Nve]=Hn[Eve]=Hn[Pve]=Hn[Tve]=Hn[kve]=Hn[Cve]=Hn[Ive]=Hn[jve]=Hn[Ove]=!0;Hn[uve]=Hn[fve]=Hn[Sve]=Hn[dve]=Hn[Ave]=Hn[hve]=Hn[pve]=Hn[mve]=Hn[gve]=Hn[yve]=Hn[vve]=Hn[bve]=Hn[xve]=Hn[wve]=Hn[_ve]=!1;function Rve(t){return cve(t)&&lve(t.length)&&!!Hn[ove(t)]}var Lve=Rve;function Mve(t){return function(e){return t(e)}}var yU=Mve,Xb={exports:{}};Xb.exports;(function(t,e){var n=NV,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(Xb,Xb.exports);var Dve=Xb.exports,Fve=Lve,$ve=yU,KO=Dve,YO=KO&&KO.isTypedArray,Bve=YO?$ve(YO):Fve,vU=Bve,Vve=qye,Uve=I4,zve=Ea,qve=gU,Wve=j4,Hve=vU,Gve=Object.prototype,Kve=Gve.hasOwnProperty;function Yve(t,e){var n=zve(t),r=!n&&Uve(t),i=!n&&!r&&qve(t),a=!n&&!r&&!i&&Hve(t),s=n||r||i||a,o=s?Vve(t.length,String):[],l=o.length;for(var c in t)(e||Kve.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Wve(c,l)))&&o.push(c);return o}var Xve=Yve,Qve=Object.prototype;function Jve(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Qve;return t===n}var Zve=Jve;function e0e(t,e){return function(n){return t(e(n))}}var bU=e0e,t0e=bU,n0e=t0e(Object.keys,Object),r0e=n0e,i0e=Zve,a0e=r0e,s0e=Object.prototype,o0e=s0e.hasOwnProperty;function l0e(t){if(!i0e(t))return a0e(t);var e=[];for(var n in Object(t))o0e.call(t,n)&&n!="constructor"&&e.push(n);return e}var c0e=l0e,u0e=p4,f0e=O4;function d0e(t){return t!=null&&f0e(t.length)&&!u0e(t)}var Mv=d0e,h0e=Xve,p0e=c0e,m0e=Mv;function g0e(t){return m0e(t)?h0e(t):p0e(t)}var lw=g0e,y0e=jye,v0e=Uye,b0e=lw;function x0e(t){return y0e(t,b0e,v0e)}var w0e=x0e,XO=w0e,_0e=1,S0e=Object.prototype,A0e=S0e.hasOwnProperty;function N0e(t,e,n,r,i,a){var s=n&_0e,o=XO(t),l=o.length,c=XO(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in e:A0e.call(e,h)))return!1}var p=a.get(t),y=a.get(e);if(p&&y)return p==e&&y==t;var b=!0;a.set(t,e),a.set(e,t);for(var x=s;++f<l;){h=o[f];var v=t[h],w=e[h];if(r)var S=s?r(w,v,h,e,t,a):r(v,w,h,t,e,a);if(!(S===void 0?v===w||i(v,w,n,r,a):S)){b=!1;break}x||(x=h=="constructor")}if(b&&!x){var A=t.constructor,P=e.constructor;A!=P&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof P=="function"&&P instanceof P)&&(b=!1)}return a.delete(t),a.delete(e),b}var E0e=N0e,P0e=xd,T0e=ll,k0e=P0e(T0e,"DataView"),C0e=k0e,I0e=xd,j0e=ll,O0e=I0e(j0e,"Promise"),R0e=O0e,L0e=xd,M0e=ll,D0e=L0e(M0e,"Set"),xU=D0e,F0e=xd,$0e=ll,B0e=F0e($0e,"WeakMap"),V0e=B0e,lN=C0e,cN=g4,uN=R0e,fN=xU,dN=V0e,wU=gc,Xp=PV,QO="[object Map]",U0e="[object Object]",JO="[object Promise]",ZO="[object Set]",eR="[object WeakMap]",tR="[object DataView]",z0e=Xp(lN),q0e=Xp(cN),W0e=Xp(uN),H0e=Xp(fN),G0e=Xp(dN),_f=wU;(lN&&_f(new lN(new ArrayBuffer(1)))!=tR||cN&&_f(new cN)!=QO||uN&&_f(uN.resolve())!=JO||fN&&_f(new fN)!=ZO||dN&&_f(new dN)!=eR)&&(_f=function(t){var e=wU(t),n=e==U0e?t.constructor:void 0,r=n?Xp(n):"";if(r)switch(r){case z0e:return tR;case q0e:return QO;case W0e:return JO;case H0e:return ZO;case G0e:return eR}return e});var K0e=_f,e_=cU,Y0e=hU,X0e=Pye,Q0e=E0e,nR=K0e,rR=Ea,iR=gU,J0e=vU,Z0e=1,aR="[object Arguments]",sR="[object Array]",$0="[object Object]",e1e=Object.prototype,oR=e1e.hasOwnProperty;function t1e(t,e,n,r,i,a){var s=rR(t),o=rR(e),l=s?sR:nR(t),c=o?sR:nR(e);l=l==aR?$0:l,c=c==aR?$0:c;var u=l==$0,f=c==$0,h=l==c;if(h&&iR(t)){if(!iR(e))return!1;s=!0,u=!1}if(h&&!u)return a||(a=new e_),s||J0e(t)?Y0e(t,e,n,r,i,a):X0e(t,e,l,n,r,i,a);if(!(n&Z0e)){var p=u&&oR.call(t,"__wrapped__"),y=f&&oR.call(e,"__wrapped__");if(p||y){var b=p?t.value():t,x=y?e.value():e;return a||(a=new e_),i(b,x,n,r,a)}}return h?(a||(a=new e_),Q0e(t,e,n,r,i,a)):!1}var n1e=t1e,r1e=n1e,lR=yc;function _U(t,e,n,r,i){return t===e?!0:t==null||e==null||!lR(t)&&!lR(e)?t!==t&&e!==e:r1e(t,e,n,r,_U,i)}var R4=_U,i1e=cU,a1e=R4,s1e=1,o1e=2;function l1e(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var l=o[0],c=t[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in t))return!1}else{var f=new i1e;if(r)var h=r(c,u,l,t,e,f);if(!(h===void 0?a1e(u,c,s1e|o1e,r,f):h))return!1}}return!0}var c1e=l1e,u1e=qu;function f1e(t){return t===t&&!u1e(t)}var SU=f1e,d1e=SU,h1e=lw;function p1e(t){for(var e=h1e(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,d1e(i)]}return e}var m1e=p1e;function g1e(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var AU=g1e,y1e=c1e,v1e=m1e,b1e=AU;function x1e(t){var e=v1e(t);return e.length==1&&e[0][2]?b1e(e[0][0],e[0][1]):function(n){return n===t||y1e(n,t,e)}}var w1e=x1e;function _1e(t,e){return t!=null&&e in Object(t)}var S1e=_1e,A1e=jV,N1e=I4,E1e=Ea,P1e=j4,T1e=O4,k1e=Gx;function C1e(t,e,n){e=A1e(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=k1e(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&T1e(i)&&P1e(s,i)&&(E1e(t)||N1e(t)))}var I1e=C1e,j1e=S1e,O1e=I1e;function R1e(t,e){return t!=null&&O1e(t,e,j1e)}var L1e=R1e,M1e=R4,D1e=OV,F1e=L1e,$1e=h4,B1e=SU,V1e=AU,U1e=Gx,z1e=1,q1e=2;function W1e(t,e){return $1e(t)&&B1e(e)?V1e(U1e(t),e):function(n){var r=D1e(n,t);return r===void 0&&r===e?F1e(n,t):M1e(e,r,z1e|q1e)}}var H1e=W1e;function G1e(t){return t}var Qp=G1e;function K1e(t){return function(e){return e==null?void 0:e[t]}}var Y1e=K1e,X1e=x4;function Q1e(t){return function(e){return X1e(e,t)}}var J1e=Q1e,Z1e=Y1e,ebe=J1e,tbe=h4,nbe=Gx;function rbe(t){return tbe(t)?Z1e(nbe(t)):ebe(t)}var ibe=rbe,abe=w1e,sbe=H1e,obe=Qp,lbe=Ea,cbe=ibe;function ube(t){return typeof t=="function"?t:t==null?obe:typeof t=="object"?lbe(t)?sbe(t[0],t[1]):abe(t):cbe(t)}var Wu=ube;function fbe(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var NU=fbe;function dbe(t){return t!==t}var hbe=dbe;function pbe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var mbe=pbe,gbe=NU,ybe=hbe,vbe=mbe;function bbe(t,e,n){return e===e?vbe(t,e,n):gbe(t,ybe,n)}var xbe=bbe,wbe=xbe;function _be(t,e){var n=t==null?0:t.length;return!!n&&wbe(t,e,0)>-1}var Sbe=_be;function Abe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Nbe=Abe;function Ebe(){}var Pbe=Ebe,t_=xU,Tbe=Pbe,kbe=C4,Cbe=1/0,Ibe=t_&&1/kbe(new t_([,-0]))[1]==Cbe?function(t){return new t_(t)}:Tbe,jbe=Ibe,Obe=uU,Rbe=Sbe,Lbe=Nbe,Mbe=dU,Dbe=jbe,Fbe=C4,$be=200;function Bbe(t,e,n){var r=-1,i=Rbe,a=t.length,s=!0,o=[],l=o;if(n)s=!1,i=Lbe;else if(a>=$be){var c=e?null:Dbe(t);if(c)return Fbe(c);s=!1,i=Mbe,l=new Obe}else l=e?[]:o;e:for(;++r<a;){var u=t[r],f=e?e(u):u;if(u=n||u!==0?u:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),o.push(u)}else i(l,f,n)||(l!==o&&l.push(f),o.push(u))}return o}var Vbe=Bbe,Ube=Wu,zbe=Vbe;function qbe(t,e){return t&&t.length?zbe(t,Ube(e)):[]}var Wbe=qbe;const cR=Rn(Wbe);function EU(t,e,n){return e===!0?cR(t,n):Ut(e)?cR(t,e):t}function cp(t){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(t)}var Hbe=["ref"];function uR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uR(Object(n),!0).forEach(function(r){cw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TU(r.key),r)}}function Kbe(t,e,n){return e&&fR(t.prototype,e),n&&fR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ybe(t,e,n){return e=Qb(e),Xbe(t,PU()?Reflect.construct(e,n||[],Qb(t).constructor):e.apply(t,n))}function Xbe(t,e){if(e&&(cp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qbe(t)}function Qbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PU=function(){return!!t})()}function Qb(t){return Qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qb(t)}function Jbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hN(t,e)}function hN(t,e){return hN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hN(t,e)}function cw(t,e,n){return e=TU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TU(t){var e=Zbe(t,"string");return cp(e)=="symbol"?e:e+""}function Zbe(t,e){if(cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function e2e(t,e){if(t==null)return{};var n=t2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function t2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function n2e(t){return t.value}function r2e(t,e){if(he.isValidElement(t))return he.cloneElement(t,e);if(typeof t=="function")return he.createElement(t,e);e.ref;var n=e2e(e,Hbe);return he.createElement(k4,n)}var dR=1,jh=function(t){function e(){var n;Gbe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Ybe(this,e,[].concat(i)),cw(n,"lastBoundingBox",{width:-1,height:-1}),n}return Jbe(e,t),Kbe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>dR||Math.abs(i.height-this.lastBoundingBox.height)>dR)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Nl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var y=this.getBBoxSnapshot();h={top:((u||0)-y.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Nl(Nl({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=Nl(Nl({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return he.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},r2e(a,Nl(Nl({},this.props),{},{payload:EU(u,c,n2e)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Nl(Nl({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&Ue(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(z.PureComponent);cw(jh,"displayName","Legend");cw(jh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var hR=Rv,i2e=I4,a2e=Ea,pR=hR?hR.isConcatSpreadable:void 0;function s2e(t){return a2e(t)||i2e(t)||!!(pR&&t&&t[pR])}var o2e=s2e,l2e=pU,c2e=o2e;function kU(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=c2e),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?kU(o,e-1,n,r,i):l2e(i,o):r||(i[i.length]=o)}return i}var CU=kU;function u2e(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[t?o:++i];if(n(a[l],l,a)===!1)break}return e}}var f2e=u2e,d2e=f2e,h2e=d2e(),p2e=h2e,m2e=p2e,g2e=lw;function y2e(t,e){return t&&m2e(t,e,g2e)}var IU=y2e,v2e=Mv;function b2e(t,e){return function(n,r){if(n==null)return n;if(!v2e(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var x2e=b2e,w2e=IU,_2e=x2e,S2e=_2e(w2e),L4=S2e,A2e=L4,N2e=Mv;function E2e(t,e){var n=-1,r=N2e(t)?Array(t.length):[];return A2e(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var jU=E2e;function P2e(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var T2e=P2e,mR=zp;function k2e(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=mR(t),s=e!==void 0,o=e===null,l=e===e,c=mR(e);if(!o&&!c&&!a&&t>e||a&&s&&l&&!o&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!l)return-1}return 0}var C2e=k2e,I2e=C2e;function j2e(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var l=I2e(i[r],a[r]);if(l){if(r>=o)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var O2e=j2e,n_=b4,R2e=x4,L2e=Wu,M2e=jU,D2e=T2e,F2e=yU,$2e=O2e,B2e=Qp,V2e=Ea;function U2e(t,e,n){e.length?e=n_(e,function(a){return V2e(a)?function(s){return R2e(s,a.length===1?a[0]:a)}:a}):e=[B2e];var r=-1;e=n_(e,F2e(L2e));var i=M2e(t,function(a,s,o){var l=n_(e,function(c){return c(a)});return{criteria:l,index:++r,value:a}});return D2e(i,function(a,s){return $2e(a,s,n)})}var z2e=U2e;function q2e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var W2e=q2e,H2e=W2e,gR=Math.max;function G2e(t,e,n){return e=gR(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=gR(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),H2e(t,this,o)}}var K2e=G2e;function Y2e(t){return function(){return t}}var X2e=Y2e,Q2e=xd,J2e=function(){try{var t=Q2e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),OU=J2e,Z2e=X2e,yR=OU,exe=Qp,txe=yR?function(t,e){return yR(t,"toString",{configurable:!0,enumerable:!1,value:Z2e(e),writable:!0})}:exe,nxe=txe,rxe=800,ixe=16,axe=Date.now;function sxe(t){var e=0,n=0;return function(){var r=axe(),i=ixe-(r-n);if(n=r,i>0){if(++e>=rxe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var oxe=sxe,lxe=nxe,cxe=oxe,uxe=cxe(lxe),fxe=uxe,dxe=Qp,hxe=K2e,pxe=fxe;function mxe(t,e){return pxe(hxe(t,e,dxe),t+"")}var gxe=mxe,yxe=m4,vxe=Mv,bxe=j4,xxe=qu;function wxe(t,e,n){if(!xxe(n))return!1;var r=typeof e;return(r=="number"?vxe(n)&&bxe(e,n.length):r=="string"&&e in n)?yxe(n[e],t):!1}var uw=wxe,_xe=CU,Sxe=z2e,Axe=gxe,vR=uw,Nxe=Axe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&vR(t,e[0],e[1])?e=[]:n>2&&vR(e[0],e[1],e[2])&&(e=[e[0]]),Sxe(t,_xe(e,1),[])}),Exe=Nxe;const M4=Rn(Exe);function _y(t){"@babel/helpers - typeof";return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_y(t)}function pN(){return pN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pN.apply(this,arguments)}function Pxe(t,e){return Ixe(t)||Cxe(t,e)||kxe(t,e)||Txe()}function Txe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kxe(t,e){if(t){if(typeof t=="string")return bR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bR(t,e)}}function bR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Ixe(t){if(Array.isArray(t))return t}function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(r){jxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jxe(t,e,n){return e=Oxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oxe(t){var e=Rxe(t,"string");return _y(e)=="symbol"?e:e+""}function Rxe(t,e){if(_y(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_y(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lxe(t){return Array.isArray(t)&&ti(t[0])&&ti(t[1])?t.join(" ~ "):t}var Mxe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,y=e.labelClassName,b=e.label,x=e.labelFormatter,v=e.accessibilityLayer,w=v===void 0?!1:v,S=function(){if(u&&u.length){var k={padding:0,margin:0},j=(h?M4(u,h):u).map(function(B,G){if(B.type==="none")return null;var Z=r_({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},o),ie=B.formatter||f||Lxe,X=B.value,ae=B.name,ue=X,de=ae;if(ie&&ue!=null&&de!=null){var $=ie(X,ae,B,G,u);if(Array.isArray($)){var K=Pxe($,2);ue=K[0],de=K[1]}else ue=$}return he.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:Z},ti(de)?he.createElement("span",{className:"recharts-tooltip-item-name"},de):null,ti(de)?he.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,he.createElement("span",{className:"recharts-tooltip-item-value"},ue),he.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return he.createElement("ul",{className:"recharts-tooltip-item-list",style:k},j)}return null},A=r_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),P=r_({margin:0},c),O=!Jt(b),I=O?b:"",E=on("recharts-default-tooltip",p),C=on("recharts-tooltip-label",y);O&&x&&u!==void 0&&u!==null&&(I=x(b,u));var M=w?{role:"status","aria-live":"assertive"}:{};return he.createElement("div",pN({className:E,style:A},M),he.createElement("p",{className:C,style:P},he.isValidElement(I)?I:"".concat(I)),S())};function Sy(t){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(t)}function B0(t,e,n){return e=Dxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dxe(t){var e=Fxe(t,"string");return Sy(e)=="symbol"?e:e+""}function Fxe(t,e){if(Sy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fm="recharts-tooltip-wrapper",$xe={visibility:"hidden"};function Bxe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return on(Fm,B0(B0(B0(B0({},"".concat(Fm,"-right"),Ue(n)&&e&&Ue(e.x)&&n>=e.x),"".concat(Fm,"-left"),Ue(n)&&e&&Ue(e.x)&&n<e.x),"".concat(Fm,"-bottom"),Ue(r)&&e&&Ue(e.y)&&r>=e.y),"".concat(Fm,"-top"),Ue(r)&&e&&Ue(e.y)&&r<e.y))}function wR(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&Ue(a[r]))return a[r];var u=n[r]-o-i,f=n[r]+i;if(e[r])return s[r]?u:f;if(s[r]){var h=u,p=l[r];return h<p?Math.max(f,l[r]):Math.max(u,l[r])}var y=f+o,b=l[r]+c;return y>b?Math.max(u,l[r]):Math.max(f,l[r])}function Vxe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Uxe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,u,f;return s.height>0&&s.width>0&&n?(u=wR({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=wR({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=Vxe({translateX:u,translateY:f,useTranslate3d:o})):c=$xe,{cssProperties:c,cssClasses:Bxe({translateX:u,translateY:f,coordinate:n})}}function up(t){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},up(t)}function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){gN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LU(r.key),r)}}function Wxe(t,e,n){return e&&qxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hxe(t,e,n){return e=Jb(e),Gxe(t,RU()?Reflect.construct(e,n||[],Jb(t).constructor):e.apply(t,n))}function Gxe(t,e){if(e&&(up(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kxe(t)}function Kxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RU=function(){return!!t})()}function Jb(t){return Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jb(t)}function Yxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mN(t,e)}function mN(t,e){return mN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mN(t,e)}function gN(t,e,n){return e=LU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LU(t){var e=Xxe(t,"string");return up(e)=="symbol"?e:e+""}function Xxe(t,e){if(up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var AR=1,Qxe=function(t){function e(){var n;zxe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Hxe(this,e,[].concat(i)),gN(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),gN(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return Yxe(e,t),Wxe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>AR||Math.abs(r.height-this.state.lastBoundingBox.height)>AR)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,y=i.position,b=i.reverseDirection,x=i.useTranslate3d,v=i.viewBox,w=i.wrapperStyle,S=Uxe({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:p,position:y,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:v}),A=S.cssClasses,P=S.cssProperties,O=SR(SR({transition:h&&a?"transform ".concat(o,"ms ").concat(l):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return he.createElement("div",{tabIndex:-1,className:A,style:O,ref:function(E){r.wrapperNode=E}},c)}}])}(z.PureComponent),Jxe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Jp={isSsr:Jxe()};function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}function NR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ER(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(n),!0).forEach(function(r){D4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ewe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DU(r.key),r)}}function twe(t,e,n){return e&&ewe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nwe(t,e,n){return e=Zb(e),rwe(t,MU()?Reflect.construct(e,n||[],Zb(t).constructor):e.apply(t,n))}function rwe(t,e){if(e&&(fp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iwe(t)}function iwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MU=function(){return!!t})()}function Zb(t){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zb(t)}function awe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yN(t,e)}function yN(t,e){return yN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yN(t,e)}function D4(t,e,n){return e=DU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DU(t){var e=swe(t,"string");return fp(e)=="symbol"?e:e+""}function swe(t,e){if(fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function owe(t){return t.dataKey}function lwe(t,e){return he.isValidElement(t)?he.cloneElement(t,e):typeof t=="function"?he.createElement(t,e):he.createElement(Mxe,e)}var Fo=function(t){function e(){return Zxe(this,e),nwe(this,e,arguments)}return awe(e,t),twe(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,y=i.payload,b=i.payloadUniqBy,x=i.position,v=i.reverseDirection,w=i.useTranslate3d,S=i.viewBox,A=i.wrapperStyle,P=y??[];f&&P.length&&(P=EU(y.filter(function(I){return I.value!=null&&(I.hide!==!0||r.props.includeHidden)}),b,owe));var O=P.length>0;return he.createElement(Qxe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:a,coordinate:u,hasPayload:O,offset:p,position:x,reverseDirection:v,useTranslate3d:w,viewBox:S,wrapperStyle:A},lwe(c,ER(ER({},this.props),{},{payload:P})))}}])}(z.PureComponent);D4(Fo,"displayName","Tooltip");D4(Fo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Jp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var cwe=ll,uwe=function(){return cwe.Date.now()},fwe=uwe,dwe=/\s/;function hwe(t){for(var e=t.length;e--&&dwe.test(t.charAt(e)););return e}var pwe=hwe,mwe=pwe,gwe=/^\s+/;function ywe(t){return t&&t.slice(0,mwe(t)+1).replace(gwe,"")}var vwe=ywe,bwe=vwe,PR=qu,xwe=zp,TR=NaN,wwe=/^[-+]0x[0-9a-f]+$/i,_we=/^0b[01]+$/i,Swe=/^0o[0-7]+$/i,Awe=parseInt;function Nwe(t){if(typeof t=="number")return t;if(xwe(t))return TR;if(PR(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=PR(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=bwe(t);var n=_we.test(t);return n||Swe.test(t)?Awe(t.slice(2),n?2:8):wwe.test(t)?TR:+t}var FU=Nwe,Ewe=qu,i_=fwe,kR=FU,Pwe="Expected a function",Twe=Math.max,kwe=Math.min;function Cwe(t,e,n){var r,i,a,s,o,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Pwe);e=kR(e)||0,Ewe(n)&&(u=!!n.leading,f="maxWait"in n,a=f?Twe(kR(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function p(O){var I=r,E=i;return r=i=void 0,c=O,s=t.apply(E,I),s}function y(O){return c=O,o=setTimeout(v,e),u?p(O):s}function b(O){var I=O-l,E=O-c,C=e-I;return f?kwe(C,a-E):C}function x(O){var I=O-l,E=O-c;return l===void 0||I>=e||I<0||f&&E>=a}function v(){var O=i_();if(x(O))return w(O);o=setTimeout(v,b(O))}function w(O){return o=void 0,h&&r?p(O):(r=i=void 0,s)}function S(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function A(){return o===void 0?s:w(i_())}function P(){var O=i_(),I=x(O);if(r=arguments,i=this,l=O,I){if(o===void 0)return y(l);if(f)return clearTimeout(o),o=setTimeout(v,e),p(l)}return o===void 0&&(o=setTimeout(v,e)),s}return P.cancel=S,P.flush=A,P}var Iwe=Cwe,jwe=Iwe,Owe=qu,Rwe="Expected a function";function Lwe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Rwe);return Owe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),jwe(t,e,{leading:r,maxWait:e,trailing:i})}var Mwe=Lwe;const $U=Rn(Mwe);function Ay(t){"@babel/helpers - typeof";return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ay(t)}function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){Dwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dwe(t,e,n){return e=Fwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fwe(t){var e=$we(t,"string");return Ay(e)=="symbol"?e:e+""}function $we(t,e){if(Ay(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ay(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bwe(t,e){return qwe(t)||zwe(t,e)||Uwe(t,e)||Vwe()}function Vwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uwe(t,e){if(t){if(typeof t=="string")return IR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IR(t,e)}}function IR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function qwe(t){if(Array.isArray(t))return t}var Wwe=z.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,p=t.children,y=t.debounce,b=y===void 0?0:y,x=t.id,v=t.className,w=t.onResize,S=t.style,A=S===void 0?{}:S,P=z.useRef(null),O=z.useRef();O.current=w,z.useImperativeHandle(e,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var I=z.useState({containerWidth:i.width,containerHeight:i.height}),E=Bwe(I,2),C=E[0],M=E[1],N=z.useCallback(function(j,B){M(function(G){var Z=Math.round(j),ie=Math.round(B);return G.containerWidth===Z&&G.containerHeight===ie?G:{containerWidth:Z,containerHeight:ie}})},[]);z.useEffect(function(){var j=function(ae){var ue,de=ae[0].contentRect,$=de.width,K=de.height;N($,K),(ue=O.current)===null||ue===void 0||ue.call(O,$,K)};b>0&&(j=$U(j,b,{trailing:!0,leading:!1}));var B=new ResizeObserver(j),G=P.current.getBoundingClientRect(),Z=G.width,ie=G.height;return N(Z,ie),B.observe(P.current),function(){B.disconnect()}},[N,b]);var k=z.useMemo(function(){var j=C.containerWidth,B=C.containerHeight;if(j<0||B<0)return null;Hl(If(s)||If(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Hl(!n||n>0,"The aspect(%s) must be greater than zero.",n);var G=If(s)?j:s,Z=If(l)?B:l;n&&n>0&&(G?Z=G/n:Z&&(G=Z*n),h&&Z>h&&(Z=h)),Hl(G>0||Z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,Z,s,l,u,f,n);var ie=!Array.isArray(p)&&Wl(p.type).endsWith("Chart");return he.Children.map(p,function(X){return he.isValidElement(X)?z.cloneElement(X,V0({width:G,height:Z},ie?{style:V0({height:"100%",width:"100%",maxHeight:Z,maxWidth:G},X.props.style)}:{})):X})},[n,p,l,h,f,u,C,s]);return he.createElement("div",{id:x?"".concat(x):void 0,className:on("recharts-responsive-container",v),style:V0(V0({},A),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:P},k)}),BU=function(e){return null};BU.displayName="Cell";function Ny(t){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){Hwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hwe(t,e,n){return e=Gwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gwe(t){var e=Kwe(t,"string");return Ny(e)=="symbol"?e:e+""}function Kwe(t,e){if(Ny(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $d={widthCache:{},cacheCount:0},Ywe=2e3,Xwe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},OR="recharts_measurement_span";function Qwe(t){var e=vN({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Cg=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Jp.isSsr)return{width:0,height:0};var r=Qwe(n),i=JSON.stringify({text:e,copyStyle:r});if($d.widthCache[i])return $d.widthCache[i];try{var a=document.getElementById(OR);a||(a=document.createElement("span"),a.setAttribute("id",OR),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=vN(vN({},Xwe),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return $d.widthCache[i]=l,++$d.cacheCount>Ywe&&($d.cacheCount=0,$d.widthCache={}),l}catch{return{width:0,height:0}}},Jwe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ey(t){"@babel/helpers - typeof";return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}function e2(t,e){return n5e(t)||t5e(t,e)||e5e(t,e)||Zwe()}function Zwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e5e(t,e){if(t){if(typeof t=="string")return RR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RR(t,e)}}function RR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function t5e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function n5e(t){if(Array.isArray(t))return t}function r5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a5e(r.key),r)}}function i5e(t,e,n){return e&&LR(t.prototype,e),n&&LR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function a5e(t){var e=s5e(t,"string");return Ey(e)=="symbol"?e:e+""}function s5e(t,e){if(Ey(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ey(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var MR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,o5e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,l5e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,VU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},c5e=Object.keys(VU),gh="NaN";function u5e(t,e){return t*VU[e]}var U0=function(){function t(e,n){r5e(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!o5e.test(n)&&(this.num=NaN,this.unit=""),c5e.includes(n)&&(this.num=u5e(e,n),this.unit="px")}return i5e(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=l5e.exec(n))!==null&&r!==void 0?r:[],a=e2(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function UU(t){if(t.includes(gh))return gh;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=MR.exec(e))!==null&&n!==void 0?n:[],i=e2(r,4),a=i[1],s=i[2],o=i[3],l=U0.parse(a??""),c=U0.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return gh;e=e.replace(MR,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=DR.exec(e))!==null&&f!==void 0?f:[],p=e2(h,4),y=p[1],b=p[2],x=p[3],v=U0.parse(y??""),w=U0.parse(x??""),S=b==="+"?v.add(w):v.subtract(w);if(S.isNaN())return gh;e=e.replace(DR,S.toString())}return e}var FR=/\(([^()]*)\)/;function f5e(t){for(var e=t;e.includes("(");){var n=FR.exec(e),r=e2(n,2),i=r[1];e=e.replace(FR,UU(i))}return e}function d5e(t){var e=t.replace(/\s+/g,"");return e=f5e(e),e=UU(e),e}function h5e(t){try{return d5e(t)}catch{return gh}}function a_(t){var e=h5e(t.slice(5,-1));return e===gh?"":e}var p5e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],m5e=["dx","dy","angle","className","breakAll"];function bN(){return bN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bN.apply(this,arguments)}function $R(t,e){if(t==null)return{};var n=g5e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function g5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function BR(t,e){return x5e(t)||b5e(t,e)||v5e(t,e)||y5e()}function y5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v5e(t,e){if(t){if(typeof t=="string")return VR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VR(t,e)}}function VR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b5e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function x5e(t){if(Array.isArray(t))return t}var zU=/[ \f\n\r\t\v\u2028\u2029]+/,qU=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Jt(n)||(r?a=n.toString().split(""):a=n.toString().split(zU));var s=a.map(function(l){return{word:l,width:Cg(l,i).width}}),o=r?0:Cg("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},w5e=function(e,n,r,i,a){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=Ue(s),f=o,h=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(Z,ie){var X=ie.word,ae=ie.width,ue=Z[Z.length-1];if(ue&&(i==null||a||ue.width+ae+r<Number(i)))ue.words.push(X),ue.width+=ae+r;else{var de={words:[X],width:ae};Z.push(de)}return Z},[])},p=h(n),y=function(G){return G.reduce(function(Z,ie){return Z.width>ie.width?Z:ie})};if(!u)return p;for(var b="",x=function(G){var Z=f.slice(0,G),ie=qU({breakAll:c,style:l,children:Z+b}).wordsWithComputedWidth,X=h(ie),ae=X.length>s||y(X).width>Number(i);return[ae,X]},v=0,w=f.length-1,S=0,A;v<=w&&S<=f.length-1;){var P=Math.floor((v+w)/2),O=P-1,I=x(O),E=BR(I,2),C=E[0],M=E[1],N=x(P),k=BR(N,1),j=k[0];if(!C&&!j&&(v=P+1),C&&j&&(w=P-1),!C&&j){A=M;break}S++}return A||p},UR=function(e){var n=Jt(e)?[]:e.toString().split(zU);return[{words:n}]},_5e=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!Jp.isSsr){var l,c,u=qU({breakAll:s,children:i,style:a});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return UR(i);return w5e({breakAll:s,children:i,maxLines:o,style:a},l,c,n,r)}return UR(i)},zR="#808080",t2=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,h=e.textAnchor,p=h===void 0?"start":h,y=e.verticalAnchor,b=y===void 0?"end":y,x=e.fill,v=x===void 0?zR:x,w=$R(e,p5e),S=z.useMemo(function(){return _5e({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),A=w.dx,P=w.dy,O=w.angle,I=w.className,E=w.breakAll,C=$R(w,m5e);if(!ti(r)||!ti(a))return null;var M=r+(Ue(A)?A:0),N=a+(Ue(P)?P:0),k;switch(b){case"start":k=a_("calc(".concat(c,")"));break;case"middle":k=a_("calc(".concat((S.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:k=a_("calc(".concat(S.length-1," * -").concat(o,")"));break}var j=[];if(f){var B=S[0].width,G=w.width;j.push("scale(".concat((Ue(G)?G/B:1)/B,")"))}return O&&j.push("rotate(".concat(O,", ").concat(M,", ").concat(N,")")),j.length&&(C.transform=j.join(" ")),he.createElement("text",bN({},Ht(C,!0),{x:M,y:N,className:on("recharts-text",I),textAnchor:p,fill:v.includes("url")?zR:v}),S.map(function(Z,ie){var X=Z.words.join(E?"":" ");return he.createElement("tspan",{x:M,dy:ie===0?k:o,key:"".concat(X,"-").concat(ie)},X)}))};function Au(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function S5e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function F4(t){let e,n,r;t.length!==2?(e=Au,n=(o,l)=>Au(t(o),l),r=(o,l)=>t(o)-l):(e=t===Au||t===S5e?t:A5e,n=t,r=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=i(o,l,c,u-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function A5e(){return 0}function WU(t){return t===null?NaN:+t}function*N5e(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const E5e=F4(Au),Dv=E5e.right;F4(WU).center;class qR extends Map{constructor(e,n=k5e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(WR(this,e))}has(e){return super.has(WR(this,e))}set(e,n){return super.set(P5e(this,e),n)}delete(e){return super.delete(T5e(this,e))}}function WR({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function P5e({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function T5e({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function k5e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function C5e(t=Au){if(t===Au)return HU;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function HU(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const I5e=Math.sqrt(50),j5e=Math.sqrt(10),O5e=Math.sqrt(2);function n2(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=I5e?10:a>=j5e?5:a>=O5e?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?n2(t,e,n*2):[o,l,c]}function xN(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?n2(e,t,n):n2(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function wN(t,e,n){return e=+e,t=+t,n=+n,n2(t,e,n)[2]}function _N(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?wN(e,t,n):wN(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function HR(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function GR(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function GU(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?HU:C5e(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*f/l+h)),y=Math.min(r,Math.floor(e+(l-c)*f/l+h));GU(t,e,p,y,i)}const a=t[e];let s=n,o=r;for($m(t,n,e),i(t[r],a)>0&&$m(t,n,r);s<o;){for($m(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?$m(t,n,o):(++o,$m(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function $m(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function R5e(t,e,n){if(t=Float64Array.from(N5e(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return GR(t);if(e>=1)return HR(t);var r,i=(r-1)*e,a=Math.floor(i),s=HR(GU(t,a).subarray(0,a+1)),o=GR(t.subarray(a+1));return s+(o-s)*(i-a)}}function L5e(t,e,n=WU){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function M5e(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function zs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function vc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const SN=Symbol("implicit");function $4(){var t=new qR,e=[],n=[],r=SN;function i(a){let s=t.get(a);if(s===void 0){if(r!==SN)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new qR;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return $4(e,n).unknown(r)},zs.apply(i,arguments),i}function Py(){var t=$4().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var h=e().length,p=i<r,y=p?i:r,b=p?r:i;a=(b-y)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),y+=(b-y-a*(h-l))*u,s=a*(1-l),o&&(y=Math.round(y),s=Math.round(s));var x=M5e(h).map(function(v){return y+a*v});return n(p?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},t.copy=function(){return Py(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},zs.apply(f(),arguments)}function KU(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return KU(e())},t}function Ig(){return KU(Py.apply(null,arguments).paddingInner(1))}function B4(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function YU(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Fv(){}var Ty=.7,r2=1/Ty,Oh="\\s*([+-]?\\d+)\\s*",ky="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",D5e=/^#([0-9a-f]{3,8})$/,F5e=new RegExp(`^rgb\\(${Oh},${Oh},${Oh}\\)$`),$5e=new RegExp(`^rgb\\(${Zo},${Zo},${Zo}\\)$`),B5e=new RegExp(`^rgba\\(${Oh},${Oh},${Oh},${ky}\\)$`),V5e=new RegExp(`^rgba\\(${Zo},${Zo},${Zo},${ky}\\)$`),U5e=new RegExp(`^hsl\\(${ky},${Zo},${Zo}\\)$`),z5e=new RegExp(`^hsla\\(${ky},${Zo},${Zo},${ky}\\)$`),KR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};B4(Fv,Cy,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:YR,formatHex:YR,formatHex8:q5e,formatHsl:W5e,formatRgb:XR,toString:XR});function YR(){return this.rgb().formatHex()}function q5e(){return this.rgb().formatHex8()}function W5e(){return XU(this).formatHsl()}function XR(){return this.rgb().formatRgb()}function Cy(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=D5e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?QR(e):n===3?new wa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?z0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?z0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=F5e.exec(t))?new wa(e[1],e[2],e[3],1):(e=$5e.exec(t))?new wa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=B5e.exec(t))?z0(e[1],e[2],e[3],e[4]):(e=V5e.exec(t))?z0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=U5e.exec(t))?eL(e[1],e[2]/100,e[3]/100,1):(e=z5e.exec(t))?eL(e[1],e[2]/100,e[3]/100,e[4]):KR.hasOwnProperty(t)?QR(KR[t]):t==="transparent"?new wa(NaN,NaN,NaN,0):null}function QR(t){return new wa(t>>16&255,t>>8&255,t&255,1)}function z0(t,e,n,r){return r<=0&&(t=e=n=NaN),new wa(t,e,n,r)}function H5e(t){return t instanceof Fv||(t=Cy(t)),t?(t=t.rgb(),new wa(t.r,t.g,t.b,t.opacity)):new wa}function AN(t,e,n,r){return arguments.length===1?H5e(t):new wa(t,e,n,r??1)}function wa(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}B4(wa,AN,YU(Fv,{brighter(t){return t=t==null?r2:Math.pow(r2,t),new wa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ty:Math.pow(Ty,t),new wa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new wa(Vf(this.r),Vf(this.g),Vf(this.b),i2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JR,formatHex:JR,formatHex8:G5e,formatRgb:ZR,toString:ZR}));function JR(){return`#${jf(this.r)}${jf(this.g)}${jf(this.b)}`}function G5e(){return`#${jf(this.r)}${jf(this.g)}${jf(this.b)}${jf((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZR(){const t=i2(this.opacity);return`${t===1?"rgb(":"rgba("}${Vf(this.r)}, ${Vf(this.g)}, ${Vf(this.b)}${t===1?")":`, ${t})`}`}function i2(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function jf(t){return t=Vf(t),(t<16?"0":"")+t.toString(16)}function eL(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ao(t,e,n,r)}function XU(t){if(t instanceof ao)return new ao(t.h,t.s,t.l,t.opacity);if(t instanceof Fv||(t=Cy(t)),!t)return new ao;if(t instanceof ao)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new ao(s,o,l,t.opacity)}function K5e(t,e,n,r){return arguments.length===1?XU(t):new ao(t,e,n,r??1)}function ao(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}B4(ao,K5e,YU(Fv,{brighter(t){return t=t==null?r2:Math.pow(r2,t),new ao(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ty:Math.pow(Ty,t),new ao(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new wa(s_(t>=240?t-240:t+120,i,r),s_(t,i,r),s_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ao(tL(this.h),q0(this.s),q0(this.l),i2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=i2(this.opacity);return`${t===1?"hsl(":"hsla("}${tL(this.h)}, ${q0(this.s)*100}%, ${q0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function tL(t){return t=(t||0)%360,t<0?t+360:t}function q0(t){return Math.max(0,Math.min(1,t||0))}function s_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const V4=t=>()=>t;function Y5e(t,e){return function(n){return t+n*e}}function X5e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Q5e(t){return(t=+t)==1?QU:function(e,n){return n-e?X5e(e,n,t):V4(isNaN(e)?n:e)}}function QU(t,e){var n=e-t;return n?Y5e(t,n):V4(isNaN(t)?e:t)}const nL=function t(e){var n=Q5e(e);function r(i,a){var s=n((i=AN(i)).r,(a=AN(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=QU(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function J5e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Z5e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function e_e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Zp(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function t_e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function a2(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function n_e(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Zp(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var NN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o_=new RegExp(NN.source,"g");function r_e(t){return function(){return t}}function i_e(t){return function(e){return t(e)+""}}function a_e(t,e){var n=NN.lastIndex=o_.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=NN.exec(t))&&(i=o_.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:a2(r,i)})),n=o_.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?i_e(l[0].x):r_e(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function Zp(t,e){var n=typeof e,r;return e==null||n==="boolean"?V4(e):(n==="number"?a2:n==="string"?(r=Cy(e))?(e=r,nL):a_e:e instanceof Cy?nL:e instanceof Date?t_e:Z5e(e)?J5e:Array.isArray(e)?e_e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?n_e:a2)(t,e)}function U4(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function s_e(t,e){e===void 0&&(e=t,t=Zp);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function o_e(t){return function(){return t}}function s2(t){return+t}var rL=[0,1];function la(t){return t}function EN(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:o_e(isNaN(e)?NaN:.5)}function l_e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function c_e(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=EN(i,r),a=n(s,a)):(r=EN(r,i),a=n(a,s)),function(o){return a(r(o))}}function u_e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=EN(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=Dv(t,o,1,r)-1;return a[l](i[l](o))}}function $v(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function fw(){var t=rL,e=rL,n=Zp,r,i,a,s=la,o,l,c;function u(){var h=Math.min(t.length,e.length);return s!==la&&(s=l_e(t[0],t[h-1])),o=h>2?u_e:c_e,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((c||(c=o(e,t.map(r),a2)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,s2),u()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=U4,u()},f.clamp=function(h){return arguments.length?(s=h?!0:la,u()):s!==la},f.interpolate=function(h){return arguments.length?(n=h,u()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return r=h,i=p,u()}}function z4(){return fw()(la,la)}function f_e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function o2(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function dp(t){return t=o2(Math.abs(t)),t?t[1]:NaN}function d_e(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function h_e(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var p_e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Iy(t){if(!(e=p_e.exec(t)))throw new Error("invalid format: "+t);var e;return new q4({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Iy.prototype=q4.prototype;function q4(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}q4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function m_e(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var l2;function g_e(t,e){var n=o2(t,e);if(!n)return l2=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(l2=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+o2(t,Math.max(0,e+a-1))[0]}function iL(t,e){var n=o2(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const aL={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:f_e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>iL(t*100,e),r:iL,s:g_e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function sL(t){return t}var oL=Array.prototype.map,lL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function y_e(t){var e=t.grouping===void 0||t.thousands===void 0?sL:d_e(oL.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?sL:h_e(oL.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f,h){f=Iy(f);var p=f.fill,y=f.align,b=f.sign,x=f.symbol,v=f.zero,w=f.width,S=f.comma,A=f.precision,P=f.trim,O=f.type;O==="n"?(S=!0,O="g"):aL[O]||(A===void 0&&(A=12),P=!0,O="g"),(v||p==="0"&&y==="=")&&(v=!0,p="0",y="=");var I=(h&&h.prefix!==void 0?h.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():""),E=(x==="$"?r:/[%p]/.test(O)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),C=aL[O],M=/[defgprs%]/.test(O);A=A===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function N(k){var j=I,B=E,G,Z,ie;if(O==="c")B=C(k)+B,k="";else{k=+k;var X=k<0||1/k<0;if(k=isNaN(k)?l:C(Math.abs(k),A),P&&(k=m_e(k)),X&&+k==0&&b!=="+"&&(X=!1),j=(X?b==="("?b:o:b==="-"||b==="("?"":b)+j,B=(O==="s"&&!isNaN(k)&&l2!==void 0?lL[8+l2/3]:"")+B+(X&&b==="("?")":""),M){for(G=-1,Z=k.length;++G<Z;)if(ie=k.charCodeAt(G),48>ie||ie>57){B=(ie===46?i+k.slice(G+1):k.slice(G))+B,k=k.slice(0,G);break}}}S&&!v&&(k=e(k,1/0));var ae=j.length+k.length+B.length,ue=ae<w?new Array(w-ae+1).join(p):"";switch(S&&v&&(k=e(ue+k,ue.length?w-B.length:1/0),ue=""),y){case"<":k=j+k+B+ue;break;case"=":k=j+ue+k+B;break;case"^":k=ue.slice(0,ae=ue.length>>1)+j+k+B+ue.slice(ae);break;default:k=ue+j+k+B;break}return a(k)}return N.toString=function(){return f+""},N}function u(f,h){var p=Math.max(-8,Math.min(8,Math.floor(dp(h)/3)))*3,y=Math.pow(10,-p),b=c((f=Iy(f),f.type="f",f),{suffix:lL[8+p/3]});return function(x){return b(y*x)}}return{format:c,formatPrefix:u}}var W0,W4,JU;v_e({thousands:",",grouping:[3],currency:["$",""]});function v_e(t){return W0=y_e(t),W4=W0.format,JU=W0.formatPrefix,W0}function b_e(t){return Math.max(0,-dp(Math.abs(t)))}function x_e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dp(e)/3)))*3-dp(Math.abs(t)))}function w_e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,dp(e)-dp(t))+1}function ZU(t,e,n,r){var i=_N(t,e,n),a;switch(r=Iy(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=x_e(i,s))&&(r.precision=a),JU(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=w_e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=b_e(i))&&(r.precision=a-(r.type==="%")*2);break}}return W4(r)}function Hu(t){var e=t.domain;return t.ticks=function(n){var r=e();return xN(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return ZU(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=wN(s,o,n),c===l)return r[i]=s,r[a]=o,e(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function c2(){var t=z4();return t.copy=function(){return $v(t,c2())},zs.apply(t,arguments),Hu(t)}function ez(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,s2),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return ez(t).unknown(e)},t=arguments.length?Array.from(t,s2):[0,1],Hu(n)}function tz(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function cL(t){return Math.log(t)}function uL(t){return Math.exp(t)}function __e(t){return-Math.log(-t)}function S_e(t){return-Math.exp(-t)}function A_e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function N_e(t){return t===10?A_e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function E_e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function fL(t){return(e,n)=>-t(-e,n)}function H4(t){const e=t(cL,uL),n=e.domain;let r=10,i,a;function s(){return i=E_e(r),a=N_e(r),n()[0]<0?(i=fL(i),a=fL(a),t(__e,S_e)):t(cL,uL),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=i(c),p=i(u),y,b;const x=o==null?10:+o;let v=[];if(!(r%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(y=1;y<r;++y)if(b=h<0?y/a(-h):y*a(h),!(b<c)){if(b>u)break;v.push(b)}}else for(;h<=p;++h)for(y=r-1;y>=1;--y)if(b=h>0?y/a(-h):y*a(h),!(b<c)){if(b>u)break;v.push(b)}v.length*2<x&&(v=xN(c,u,x))}else v=xN(h,p,Math.min(p-h,x)).map(a);return f?v.reverse():v},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Iy(l)).precision==null&&(l.trim=!0),l=W4(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},e.nice=()=>n(tz(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function nz(){const t=H4(fw()).domain([1,10]);return t.copy=()=>$v(t,nz()).base(t.base()),zs.apply(t,arguments),t}function dL(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function hL(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function G4(t){var e=1,n=t(dL(e),hL(e));return n.constant=function(r){return arguments.length?t(dL(e=+r),hL(e)):e},Hu(n)}function rz(){var t=G4(fw());return t.copy=function(){return $v(t,rz()).constant(t.constant())},zs.apply(t,arguments)}function pL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function P_e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function T_e(t){return t<0?-t*t:t*t}function K4(t){var e=t(la,la),n=1;function r(){return n===1?t(la,la):n===.5?t(P_e,T_e):t(pL(n),pL(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Hu(e)}function Y4(){var t=K4(fw());return t.copy=function(){return $v(t,Y4()).exponent(t.exponent())},zs.apply(t,arguments),t}function k_e(){return Y4.apply(null,arguments).exponent(.5)}function mL(t){return Math.sign(t)*t*t}function C_e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function iz(){var t=z4(),e=[0,1],n=!1,r;function i(a){var s=C_e(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(mL(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,s2)).map(mL)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return iz(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},zs.apply(i,arguments),Hu(i)}function az(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=L5e(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Dv(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Au),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return az().domain(t).range(e).unknown(r)},zs.apply(a,arguments)}function sz(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Dv(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return sz().domain([t,e]).range(i).unknown(a)},zs.apply(Hu(s),arguments)}function oz(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Dv(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return oz().domain(t).range(e).unknown(n)},zs.apply(i,arguments)}const l_=new Date,c_=new Date;function ri(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>ri(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(l_.setTime(+a),c_.setTime(+s),t(l_),t(c_),Math.floor(n(l_,c_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const u2=ri(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);u2.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ri(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):u2);u2.range;const Dl=1e3,Es=Dl*60,Fl=Es*60,oc=Fl*24,X4=oc*7,gL=oc*30,u_=oc*365,Of=ri(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Dl)},(t,e)=>(e-t)/Dl,t=>t.getUTCSeconds());Of.range;const Q4=ri(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Dl)},(t,e)=>{t.setTime(+t+e*Es)},(t,e)=>(e-t)/Es,t=>t.getMinutes());Q4.range;const J4=ri(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Es)},(t,e)=>(e-t)/Es,t=>t.getUTCMinutes());J4.range;const Z4=ri(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Dl-t.getMinutes()*Es)},(t,e)=>{t.setTime(+t+e*Fl)},(t,e)=>(e-t)/Fl,t=>t.getHours());Z4.range;const ek=ri(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Fl)},(t,e)=>(e-t)/Fl,t=>t.getUTCHours());ek.range;const Bv=ri(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Es)/oc,t=>t.getDate()-1);Bv.range;const dw=ri(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/oc,t=>t.getUTCDate()-1);dw.range;const lz=ri(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/oc,t=>Math.floor(t/oc));lz.range;function wd(t){return ri(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Es)/X4)}const hw=wd(0),f2=wd(1),I_e=wd(2),j_e=wd(3),hp=wd(4),O_e=wd(5),R_e=wd(6);hw.range;f2.range;I_e.range;j_e.range;hp.range;O_e.range;R_e.range;function _d(t){return ri(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/X4)}const pw=_d(0),d2=_d(1),L_e=_d(2),M_e=_d(3),pp=_d(4),D_e=_d(5),F_e=_d(6);pw.range;d2.range;L_e.range;M_e.range;pp.range;D_e.range;F_e.range;const tk=ri(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());tk.range;const nk=ri(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());nk.range;const lc=ri(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());lc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ri(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});lc.range;const cc=ri(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());cc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ri(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});cc.range;function cz(t,e,n,r,i,a){const s=[[Of,1,Dl],[Of,5,5*Dl],[Of,15,15*Dl],[Of,30,30*Dl],[a,1,Es],[a,5,5*Es],[a,15,15*Es],[a,30,30*Es],[i,1,Fl],[i,3,3*Fl],[i,6,6*Fl],[i,12,12*Fl],[r,1,oc],[r,2,2*oc],[n,1,X4],[e,1,gL],[e,3,3*gL],[t,1,u_]];function o(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),y=p?p.range(c,+u+1):[];return h?y.reverse():y}function l(c,u,f){const h=Math.abs(u-c)/f,p=F4(([,,x])=>x).right(s,h);if(p===s.length)return t.every(_N(c/u_,u/u_,f));if(p===0)return u2.every(Math.max(_N(c,u,f),1));const[y,b]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return y.every(b)}return[o,l]}const[$_e,B_e]=cz(cc,nk,pw,lz,ek,J4),[V_e,U_e]=cz(lc,tk,hw,Bv,Z4,Q4);function f_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function d_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Bm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function z_e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=Vm(i),u=Um(i),f=Vm(a),h=Um(a),p=Vm(s),y=Um(s),b=Vm(o),x=Um(o),v=Vm(l),w=Um(l),S={a:ie,A:X,b:ae,B:ue,c:null,d:_L,e:_L,f:dSe,g:_Se,G:ASe,H:cSe,I:uSe,j:fSe,L:uz,m:hSe,M:pSe,p:de,q:$,Q:NL,s:EL,S:mSe,u:gSe,U:ySe,V:vSe,w:bSe,W:xSe,x:null,X:null,y:wSe,Y:SSe,Z:NSe,"%":AL},A={a:K,A:re,b:se,B:le,c:null,d:SL,e:SL,f:kSe,g:$Se,G:VSe,H:ESe,I:PSe,j:TSe,L:dz,m:CSe,M:ISe,p:me,q:Se,Q:NL,s:EL,S:jSe,u:OSe,U:RSe,V:LSe,w:MSe,W:DSe,x:null,X:null,y:FSe,Y:BSe,Z:USe,"%":AL},P={a:M,A:N,b:k,B:j,c:B,d:xL,e:xL,f:aSe,g:bL,G:vL,H:wL,I:wL,j:tSe,L:iSe,m:eSe,M:nSe,p:C,q:Z_e,Q:oSe,s:lSe,S:rSe,u:K_e,U:Y_e,V:X_e,w:G_e,W:Q_e,x:G,X:Z,y:bL,Y:vL,Z:J_e,"%":sSe};S.x=O(n,S),S.X=O(r,S),S.c=O(e,S),A.x=O(n,A),A.X=O(r,A),A.c=O(e,A);function O(ce,xe){return function(Ne){var ye=[],Me=-1,$e=0,q=ce.length,Ie,Ye,Ze;for(Ne instanceof Date||(Ne=new Date(+Ne));++Me<q;)ce.charCodeAt(Me)===37&&(ye.push(ce.slice($e,Me)),(Ye=yL[Ie=ce.charAt(++Me)])!=null?Ie=ce.charAt(++Me):Ye=Ie==="e"?" ":"0",(Ze=xe[Ie])&&(Ie=Ze(Ne,Ye)),ye.push(Ie),$e=Me+1);return ye.push(ce.slice($e,Me)),ye.join("")}}function I(ce,xe){return function(Ne){var ye=Bm(1900,void 0,1),Me=E(ye,ce,Ne+="",0),$e,q;if(Me!=Ne.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(xe&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?($e=d_(Bm(ye.y,0,1)),q=$e.getUTCDay(),$e=q>4||q===0?d2.ceil($e):d2($e),$e=dw.offset($e,(ye.V-1)*7),ye.y=$e.getUTCFullYear(),ye.m=$e.getUTCMonth(),ye.d=$e.getUTCDate()+(ye.w+6)%7):($e=f_(Bm(ye.y,0,1)),q=$e.getDay(),$e=q>4||q===0?f2.ceil($e):f2($e),$e=Bv.offset($e,(ye.V-1)*7),ye.y=$e.getFullYear(),ye.m=$e.getMonth(),ye.d=$e.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),q="Z"in ye?d_(Bm(ye.y,0,1)).getUTCDay():f_(Bm(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(q+5)%7:ye.w+ye.U*7-(q+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,d_(ye)):f_(ye)}}function E(ce,xe,Ne,ye){for(var Me=0,$e=xe.length,q=Ne.length,Ie,Ye;Me<$e;){if(ye>=q)return-1;if(Ie=xe.charCodeAt(Me++),Ie===37){if(Ie=xe.charAt(Me++),Ye=P[Ie in yL?xe.charAt(Me++):Ie],!Ye||(ye=Ye(ce,Ne,ye))<0)return-1}else if(Ie!=Ne.charCodeAt(ye++))return-1}return ye}function C(ce,xe,Ne){var ye=c.exec(xe.slice(Ne));return ye?(ce.p=u.get(ye[0].toLowerCase()),Ne+ye[0].length):-1}function M(ce,xe,Ne){var ye=p.exec(xe.slice(Ne));return ye?(ce.w=y.get(ye[0].toLowerCase()),Ne+ye[0].length):-1}function N(ce,xe,Ne){var ye=f.exec(xe.slice(Ne));return ye?(ce.w=h.get(ye[0].toLowerCase()),Ne+ye[0].length):-1}function k(ce,xe,Ne){var ye=v.exec(xe.slice(Ne));return ye?(ce.m=w.get(ye[0].toLowerCase()),Ne+ye[0].length):-1}function j(ce,xe,Ne){var ye=b.exec(xe.slice(Ne));return ye?(ce.m=x.get(ye[0].toLowerCase()),Ne+ye[0].length):-1}function B(ce,xe,Ne){return E(ce,e,xe,Ne)}function G(ce,xe,Ne){return E(ce,n,xe,Ne)}function Z(ce,xe,Ne){return E(ce,r,xe,Ne)}function ie(ce){return s[ce.getDay()]}function X(ce){return a[ce.getDay()]}function ae(ce){return l[ce.getMonth()]}function ue(ce){return o[ce.getMonth()]}function de(ce){return i[+(ce.getHours()>=12)]}function $(ce){return 1+~~(ce.getMonth()/3)}function K(ce){return s[ce.getUTCDay()]}function re(ce){return a[ce.getUTCDay()]}function se(ce){return l[ce.getUTCMonth()]}function le(ce){return o[ce.getUTCMonth()]}function me(ce){return i[+(ce.getUTCHours()>=12)]}function Se(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var xe=O(ce+="",S);return xe.toString=function(){return ce},xe},parse:function(ce){var xe=I(ce+="",!1);return xe.toString=function(){return ce},xe},utcFormat:function(ce){var xe=O(ce+="",A);return xe.toString=function(){return ce},xe},utcParse:function(ce){var xe=I(ce+="",!0);return xe.toString=function(){return ce},xe}}}var yL={"-":"",_:" ",0:"0"},pi=/^\s*\d+/,q_e=/^%/,W_e=/[\\^$*+?|[\]().{}]/g;function fn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function H_e(t){return t.replace(W_e,"\\$&")}function Vm(t){return new RegExp("^(?:"+t.map(H_e).join("|")+")","i")}function Um(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function G_e(t,e,n){var r=pi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function K_e(t,e,n){var r=pi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Y_e(t,e,n){var r=pi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function X_e(t,e,n){var r=pi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Q_e(t,e,n){var r=pi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function vL(t,e,n){var r=pi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function bL(t,e,n){var r=pi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function J_e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Z_e(t,e,n){var r=pi.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function eSe(t,e,n){var r=pi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function xL(t,e,n){var r=pi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function tSe(t,e,n){var r=pi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function wL(t,e,n){var r=pi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function nSe(t,e,n){var r=pi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function rSe(t,e,n){var r=pi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function iSe(t,e,n){var r=pi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function aSe(t,e,n){var r=pi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function sSe(t,e,n){var r=q_e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function oSe(t,e,n){var r=pi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function lSe(t,e,n){var r=pi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function _L(t,e){return fn(t.getDate(),e,2)}function cSe(t,e){return fn(t.getHours(),e,2)}function uSe(t,e){return fn(t.getHours()%12||12,e,2)}function fSe(t,e){return fn(1+Bv.count(lc(t),t),e,3)}function uz(t,e){return fn(t.getMilliseconds(),e,3)}function dSe(t,e){return uz(t,e)+"000"}function hSe(t,e){return fn(t.getMonth()+1,e,2)}function pSe(t,e){return fn(t.getMinutes(),e,2)}function mSe(t,e){return fn(t.getSeconds(),e,2)}function gSe(t){var e=t.getDay();return e===0?7:e}function ySe(t,e){return fn(hw.count(lc(t)-1,t),e,2)}function fz(t){var e=t.getDay();return e>=4||e===0?hp(t):hp.ceil(t)}function vSe(t,e){return t=fz(t),fn(hp.count(lc(t),t)+(lc(t).getDay()===4),e,2)}function bSe(t){return t.getDay()}function xSe(t,e){return fn(f2.count(lc(t)-1,t),e,2)}function wSe(t,e){return fn(t.getFullYear()%100,e,2)}function _Se(t,e){return t=fz(t),fn(t.getFullYear()%100,e,2)}function SSe(t,e){return fn(t.getFullYear()%1e4,e,4)}function ASe(t,e){var n=t.getDay();return t=n>=4||n===0?hp(t):hp.ceil(t),fn(t.getFullYear()%1e4,e,4)}function NSe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+fn(e/60|0,"0",2)+fn(e%60,"0",2)}function SL(t,e){return fn(t.getUTCDate(),e,2)}function ESe(t,e){return fn(t.getUTCHours(),e,2)}function PSe(t,e){return fn(t.getUTCHours()%12||12,e,2)}function TSe(t,e){return fn(1+dw.count(cc(t),t),e,3)}function dz(t,e){return fn(t.getUTCMilliseconds(),e,3)}function kSe(t,e){return dz(t,e)+"000"}function CSe(t,e){return fn(t.getUTCMonth()+1,e,2)}function ISe(t,e){return fn(t.getUTCMinutes(),e,2)}function jSe(t,e){return fn(t.getUTCSeconds(),e,2)}function OSe(t){var e=t.getUTCDay();return e===0?7:e}function RSe(t,e){return fn(pw.count(cc(t)-1,t),e,2)}function hz(t){var e=t.getUTCDay();return e>=4||e===0?pp(t):pp.ceil(t)}function LSe(t,e){return t=hz(t),fn(pp.count(cc(t),t)+(cc(t).getUTCDay()===4),e,2)}function MSe(t){return t.getUTCDay()}function DSe(t,e){return fn(d2.count(cc(t)-1,t),e,2)}function FSe(t,e){return fn(t.getUTCFullYear()%100,e,2)}function $Se(t,e){return t=hz(t),fn(t.getUTCFullYear()%100,e,2)}function BSe(t,e){return fn(t.getUTCFullYear()%1e4,e,4)}function VSe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?pp(t):pp.ceil(t),fn(t.getUTCFullYear()%1e4,e,4)}function USe(){return"+0000"}function AL(){return"%"}function NL(t){return+t}function EL(t){return Math.floor(+t/1e3)}var Bd,pz,mz;zSe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function zSe(t){return Bd=z_e(t),pz=Bd.format,Bd.parse,mz=Bd.utcFormat,Bd.utcParse,Bd}function qSe(t){return new Date(t)}function WSe(t){return t instanceof Date?+t:+new Date(+t)}function rk(t,e,n,r,i,a,s,o,l,c){var u=z4(),f=u.invert,h=u.domain,p=c(".%L"),y=c(":%S"),b=c("%I:%M"),x=c("%I %p"),v=c("%a %d"),w=c("%b %d"),S=c("%B"),A=c("%Y");function P(O){return(l(O)<O?p:o(O)<O?y:s(O)<O?b:a(O)<O?x:r(O)<O?i(O)<O?v:w:n(O)<O?S:A)(O)}return u.invert=function(O){return new Date(f(O))},u.domain=function(O){return arguments.length?h(Array.from(O,WSe)):h().map(qSe)},u.ticks=function(O){var I=h();return t(I[0],I[I.length-1],O??10)},u.tickFormat=function(O,I){return I==null?P:c(I)},u.nice=function(O){var I=h();return(!O||typeof O.range!="function")&&(O=e(I[0],I[I.length-1],O??10)),O?h(tz(I,O)):u},u.copy=function(){return $v(u,rk(t,e,n,r,i,a,s,o,l,c))},u}function HSe(){return zs.apply(rk(V_e,U_e,lc,tk,hw,Bv,Z4,Q4,Of,pz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function GSe(){return zs.apply(rk($_e,B_e,cc,nk,pw,dw,ek,J4,Of,mz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function mw(){var t=0,e=1,n,r,i,a,s=la,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(h){var p,y;return arguments.length?([p,y]=h,s=f(p,y),c):[s(0),s(1)]}}return c.range=u(Zp),c.rangeRound=u(U4),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function Gu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function gz(){var t=Hu(mw()(la));return t.copy=function(){return Gu(t,gz())},vc.apply(t,arguments)}function yz(){var t=H4(mw()).domain([1,10]);return t.copy=function(){return Gu(t,yz()).base(t.base())},vc.apply(t,arguments)}function vz(){var t=G4(mw());return t.copy=function(){return Gu(t,vz()).constant(t.constant())},vc.apply(t,arguments)}function ik(){var t=K4(mw());return t.copy=function(){return Gu(t,ik()).exponent(t.exponent())},vc.apply(t,arguments)}function KSe(){return ik.apply(null,arguments).exponent(.5)}function bz(){var t=[],e=la;function n(r){if(r!=null&&!isNaN(r=+r))return e((Dv(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Au),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>R5e(t,a/r))},n.copy=function(){return bz(e).domain(t)},vc.apply(n,arguments)}function gw(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,c=la,u,f=!1,h;function p(b){return isNaN(b=+b)?h:(b=.5+((b=+u(b))-a)*(r*b<r*a?o:l),c(f?Math.max(0,Math.min(1,b)):b))}p.domain=function(b){return arguments.length?([t,e,n]=b,i=u(t=+t),a=u(e=+e),s=u(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(b){return arguments.length?(f=!!b,p):f},p.interpolator=function(b){return arguments.length?(c=b,p):c};function y(b){return function(x){var v,w,S;return arguments.length?([v,w,S]=x,c=s_e(b,[v,w,S]),p):[c(0),c(.5),c(1)]}}return p.range=y(Zp),p.rangeRound=y(U4),p.unknown=function(b){return arguments.length?(h=b,p):h},function(b){return u=b,i=b(t),a=b(e),s=b(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function xz(){var t=Hu(gw()(la));return t.copy=function(){return Gu(t,xz())},vc.apply(t,arguments)}function wz(){var t=H4(gw()).domain([.1,1,10]);return t.copy=function(){return Gu(t,wz()).base(t.base())},vc.apply(t,arguments)}function _z(){var t=G4(gw());return t.copy=function(){return Gu(t,_z()).constant(t.constant())},vc.apply(t,arguments)}function ak(){var t=K4(gw());return t.copy=function(){return Gu(t,ak()).exponent(t.exponent())},vc.apply(t,arguments)}function YSe(){return ak.apply(null,arguments).exponent(.5)}const PL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Py,scaleDiverging:xz,scaleDivergingLog:wz,scaleDivergingPow:ak,scaleDivergingSqrt:YSe,scaleDivergingSymlog:_z,scaleIdentity:ez,scaleImplicit:SN,scaleLinear:c2,scaleLog:nz,scaleOrdinal:$4,scalePoint:Ig,scalePow:Y4,scaleQuantile:az,scaleQuantize:sz,scaleRadial:iz,scaleSequential:gz,scaleSequentialLog:yz,scaleSequentialPow:ik,scaleSequentialQuantile:bz,scaleSequentialSqrt:KSe,scaleSequentialSymlog:vz,scaleSqrt:k_e,scaleSymlog:rz,scaleThreshold:oz,scaleTime:HSe,scaleUtc:GSe,tickFormat:ZU},Symbol.toStringTag,{value:"Module"}));var XSe=zp;function QSe(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(o===void 0?s===s&&!XSe(s):n(s,o)))var o=s,l=a}return l}var Sz=QSe;function JSe(t,e){return t>e}var ZSe=JSe,eAe=Sz,tAe=ZSe,nAe=Qp;function rAe(t){return t&&t.length?eAe(t,nAe,tAe):void 0}var iAe=rAe;const lu=Rn(iAe);function aAe(t,e){return t<e}var sAe=aAe,oAe=Sz,lAe=sAe,cAe=Qp;function uAe(t){return t&&t.length?oAe(t,cAe,lAe):void 0}var fAe=uAe;const yw=Rn(fAe);var dAe=b4,hAe=Wu,pAe=jU,mAe=Ea;function gAe(t,e){var n=mAe(t)?dAe:pAe;return n(t,hAe(e))}var yAe=gAe,vAe=CU,bAe=yAe;function xAe(t,e){return vAe(bAe(t,e),1)}var wAe=xAe;const _Ae=Rn(wAe);var SAe=R4;function AAe(t,e){return SAe(t,e)}var NAe=AAe;const jy=Rn(NAe);var em=1e9,EAe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ok,tr=!0,Fs="[DecimalError] ",Uf=Fs+"Invalid argument: ",sk=Fs+"Exponent out of range: ",tm=Math.floor,Sf=Math.pow,PAe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Wa,ci=1e7,Gn=7,Az=9007199254740991,h2=tm(Az/Gn),Qe={};Qe.absoluteValue=Qe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Qe.comparedTo=Qe.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Qe.decimalPlaces=Qe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Gn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Qe.dividedBy=Qe.div=function(t){return Gl(this,new this.constructor(t))};Qe.dividedToIntegerBy=Qe.idiv=function(t){var e=this,n=e.constructor;return On(Gl(e,new n(t),0,1),n.precision)};Qe.equals=Qe.eq=function(t){return!this.cmp(t)};Qe.exponent=function(){return zr(this)};Qe.greaterThan=Qe.gt=function(t){return this.cmp(t)>0};Qe.greaterThanOrEqualTo=Qe.gte=function(t){return this.cmp(t)>=0};Qe.isInteger=Qe.isint=function(){return this.e>this.d.length-2};Qe.isNegative=Qe.isneg=function(){return this.s<0};Qe.isPositive=Qe.ispos=function(){return this.s>0};Qe.isZero=function(){return this.s===0};Qe.lessThan=Qe.lt=function(t){return this.cmp(t)<0};Qe.lessThanOrEqualTo=Qe.lte=function(t){return this.cmp(t)<1};Qe.logarithm=Qe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Wa))throw Error(Fs+"NaN");if(n.s<1)throw Error(Fs+(n.s?"NaN":"-Infinity"));return n.eq(Wa)?new r(0):(tr=!1,e=Gl(Oy(n,a),Oy(t,a),a),tr=!0,On(e,i))};Qe.minus=Qe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Pz(e,t):Nz(e,(t.s=-t.s,t))};Qe.modulo=Qe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Fs+"NaN");return n.s?(tr=!1,e=Gl(n,t,0,1).times(t),tr=!0,n.minus(e)):On(new r(n),i)};Qe.naturalExponential=Qe.exp=function(){return Ez(this)};Qe.naturalLogarithm=Qe.ln=function(){return Oy(this)};Qe.negated=Qe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Qe.plus=Qe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Nz(e,t):Pz(e,(t.s=-t.s,t))};Qe.precision=Qe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Uf+t);if(e=zr(i)+1,r=i.d.length-1,n=r*Gn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Qe.squareRoot=Qe.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Fs+"NaN")}for(t=zr(o),tr=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Uo(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=tm((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Gl(o,a,s+2)).times(.5),Uo(a.d).slice(0,s)===(e=Uo(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(On(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return tr=!0,On(r,n)};Qe.times=Qe.mul=function(t){var e,n,r,i,a,s,o,l,c,u=this,f=u.constructor,h=u.d,p=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,n=u.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+p[r]*h[i-r-1]+e,a[i--]=o%ci|0,e=o/ci|0;a[i]=(a[i]+e)%ci|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,tr?On(t,f.precision):t};Qe.toDecimalPlaces=Qe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(al(t,0,em),e===void 0?e=r.rounding:al(e,0,8),On(n,t+zr(n)+1,e))};Qe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ad(r,!0):(al(t,0,em),e===void 0?e=i.rounding:al(e,0,8),r=On(new i(r),t+1,e),n=ad(r,!0,t+1)),n};Qe.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?ad(i):(al(t,0,em),e===void 0?e=a.rounding:al(e,0,8),r=On(new a(i),t+zr(i)+1,e),n=ad(r.abs(),!1,t+zr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Qe.toInteger=Qe.toint=function(){var t=this,e=t.constructor;return On(new e(t),zr(t)+1,e.rounding)};Qe.toNumber=function(){return+this};Qe.toPower=Qe.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Wa);if(o=new l(o),!o.s){if(t.s<1)throw Error(Fs+"Infinity");return o}if(o.eq(Wa))return o;if(r=l.precision,t.eq(Wa))return On(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=u<0?-u:u)<=Az){for(i=new l(Wa),e=Math.ceil(r/Gn+4),tr=!1;n%2&&(i=i.times(o),kL(i.d,e)),n=tm(n/2),n!==0;)o=o.times(o),kL(o.d,e);return tr=!0,t.s<0?new l(Wa).div(i):On(i,r)}}else if(a<0)throw Error(Fs+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,tr=!1,i=t.times(Oy(o,r+c)),tr=!0,i=Ez(i),i.s=a,i};Qe.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=zr(i),r=ad(i,n<=a.toExpNeg||n>=a.toExpPos)):(al(t,1,em),e===void 0?e=a.rounding:al(e,0,8),i=On(new a(i),t,e),n=zr(i),r=ad(i,t<=n||n<=a.toExpNeg,t)),r};Qe.toSignificantDigits=Qe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(al(t,1,em),e===void 0?e=r.rounding:al(e,0,8)),On(new r(n),t,e)};Qe.toString=Qe.valueOf=Qe.val=Qe.toJSON=Qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=zr(t),n=t.constructor;return ad(t,e<=n.toExpNeg||e>=n.toExpPos)};function Nz(t,e){var n,r,i,a,s,o,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),tr?On(e,f):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(f/Gn),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/ci|0,l[a]%=ci;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,tr?On(e,f):e}function al(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Uf+t)}function Uo(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Gn-r.length,n&&(a+=Yc(n)),a+=r;s=t[e],r=s+"",n=Gn-r.length,n&&(a+=Yc(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Gl=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%ci|0,s=a/ci|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*ci+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,u,f,h,p,y,b,x,v,w,S,A,P,O,I,E,C=r.constructor,M=r.s==i.s?1:-1,N=r.d,k=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(Fs+"Division by zero");for(l=r.e-i.e,I=k.length,P=N.length,p=new C(M),y=p.d=[],c=0;k[c]==(N[c]||0);)++c;if(k[c]>(N[c]||0)&&--l,a==null?w=a=C.precision:s?w=a+(zr(r)-zr(i))+1:w=a,w<0)return new C(0);if(w=w/Gn+2|0,c=0,I==1)for(u=0,k=k[0],w++;(c<P||u)&&w--;c++)S=u*ci+(N[c]||0),y[c]=S/k|0,u=S%k|0;else{for(u=ci/(k[0]+1)|0,u>1&&(k=t(k,u),N=t(N,u),I=k.length,P=N.length),A=I,b=N.slice(0,I),x=b.length;x<I;)b[x++]=0;E=k.slice(),E.unshift(0),O=k[0],k[1]>=ci/2&&++O;do u=0,o=e(k,b,I,x),o<0?(v=b[0],I!=x&&(v=v*ci+(b[1]||0)),u=v/O|0,u>1?(u>=ci&&(u=ci-1),f=t(k,u),h=f.length,x=b.length,o=e(f,b,h,x),o==1&&(u--,n(f,I<h?E:k,h))):(u==0&&(o=u=1),f=k.slice()),h=f.length,h<x&&f.unshift(0),n(b,f,x),o==-1&&(x=b.length,o=e(k,b,I,x),o<1&&(u++,n(b,I<x?E:k,x))),x=b.length):o===0&&(u++,b=[0]),y[c++]=u,o&&b[0]?b[x++]=N[A]||0:(b=[N[A]],x=1);while((A++<P||b[0]!==void 0)&&w--)}return y[0]||y.shift(),p.e=l,On(p,s?a+zr(p)+1:a)}}();function Ez(t,e){var n,r,i,a,s,o,l=0,c=0,u=t.constructor,f=u.precision;if(zr(t)>16)throw Error(sk+zr(t));if(!t.s)return new u(Wa);for(tr=!1,o=f,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(Sf(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new u(Wa),u.precision=o;;){if(i=On(i.times(t),o),n=n.times(++l),s=a.plus(Gl(i,n,o)),Uo(s.d).slice(0,o)===Uo(a.d).slice(0,o)){for(;c--;)a=On(a.times(a),o);return u.precision=f,e==null?(tr=!0,On(a,f)):a}a=s}}function zr(t){for(var e=t.e*Gn,n=t.d[0];n>=10;n/=10)e++;return e}function h_(t,e,n){if(e>t.LN10.sd())throw tr=!0,n&&(t.precision=n),Error(Fs+"LN10 precision limit exceeded");return On(new t(t.LN10),e)}function Yc(t){for(var e="";t--;)e+="0";return e}function Oy(t,e){var n,r,i,a,s,o,l,c,u,f=1,h=10,p=t,y=p.d,b=p.constructor,x=b.precision;if(p.s<1)throw Error(Fs+(p.s?"NaN":"-Infinity"));if(p.eq(Wa))return new b(0);if(e==null?(tr=!1,c=x):c=e,p.eq(10))return e==null&&(tr=!0),h_(b,c);if(c+=h,b.precision=c,n=Uo(y),r=n.charAt(0),a=zr(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Uo(p.d),r=n.charAt(0),f++;a=zr(p),r>1?(p=new b("0."+n),a++):p=new b(r+"."+n.slice(1))}else return l=h_(b,c+2,x).times(a+""),p=Oy(new b(r+"."+n.slice(1)),c-h).plus(l),b.precision=x,e==null?(tr=!0,On(p,x)):p;for(o=s=p=Gl(p.minus(Wa),p.plus(Wa),c),u=On(p.times(p),c),i=3;;){if(s=On(s.times(u),c),l=o.plus(Gl(s,new b(i),c)),Uo(l.d).slice(0,c)===Uo(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(h_(b,c+2,x).times(a+""))),o=Gl(o,new b(f),c),b.precision=x,e==null?(tr=!0,On(o,x)):o;o=l,i+=2}}function TL(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=tm(n/Gn),t.d=[],r=(n+1)%Gn,n<0&&(r+=Gn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Gn;r<i;)t.d.push(+e.slice(r,r+=Gn));e=e.slice(r),r=Gn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),tr&&(t.e>h2||t.e<-h2))throw Error(sk+n)}else t.s=0,t.e=0,t.d=[0];return t}function On(t,e,n){var r,i,a,s,o,l,c,u,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Gn,i=e,c=f[u=0];else{if(u=Math.ceil((r+1)/Gn),a=f.length,u>=a)return t;for(c=a=f[u],s=1;a>=10;a/=10)s++;r%=Gn,i=r-Gn+s}if(n!==void 0&&(a=Sf(10,s-i-1),o=c/a%10|0,l=e<0||f[u+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/Sf(10,s-i):0:f[u-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=zr(t),f.length=1,e=e-a-1,f[0]=Sf(10,(Gn-e%Gn)%Gn),t.e=tm(-e/Gn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=u,a=1,u--):(f.length=u+1,a=Sf(10,Gn-r),f[u]=i>0?(c/Sf(10,s-i)%Sf(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==ci&&(f[0]=1,++t.e);break}else{if(f[u]+=a,f[u]!=ci)break;f[u--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(tr&&(t.e>h2||t.e<-h2))throw Error(sk+zr(t));return t}function Pz(t,e){var n,r,i,a,s,o,l,c,u,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),tr?On(e,p):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(u=s<0,u?(n=l,s=-s,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(p/Gn),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}s=0}for(u&&(n=l,l=f,f=n,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=ci-1;--l[a],l[i]+=ci}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,tr?On(e,p):e):new h(0)}function ad(t,e,n){var r,i=zr(t),a=Uo(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Yc(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Yc(-i-1)+a,n&&(r=n-s)>0&&(a+=Yc(r))):i>=s?(a+=Yc(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Yc(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Yc(r))),t.s<0?"-"+a:a}function kL(t,e){if(t.length>e)return t.length=e,!0}function Tz(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Uf+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return TL(s,a.toString())}else if(typeof a!="string")throw Error(Uf+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,PAe.test(a))TL(s,a);else throw Error(Uf+a)}if(i.prototype=Qe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Tz,i.config=i.set=TAe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function TAe(t){if(!t||typeof t!="object")throw Error(Fs+"Object expected");var e,n,r,i=["precision",1,em,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(tm(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Uf+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Uf+n+": "+r);return this}var ok=Tz(EAe);Wa=new ok(1);const Pn=ok;function kAe(t){return OAe(t)||jAe(t)||IAe(t)||CAe()}function CAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IAe(t,e){if(t){if(typeof t=="string")return PN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PN(t,e)}}function jAe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function OAe(t){if(Array.isArray(t))return PN(t)}function PN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var RAe=function(e){return e},kz={},Cz=function(e){return e===kz},CL=function(e){return function n(){return arguments.length===0||arguments.length===1&&Cz(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},LAe=function t(e,n){return e===1?n:CL(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==kz}).length;return s>=e?n.apply(void 0,i):t(e-s,CL(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(f){return Cz(f)?l.shift():f});return n.apply(void 0,kAe(u).concat(l))}))})},vw=function(e){return LAe(e.length,e)},TN=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},MAe=vw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),DAe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return RAe;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},kN=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Iz=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,l){return o===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function FAe(t){var e;return t===0?e=1:e=Math.floor(new Pn(t).abs().log(10).toNumber())+1,e}function $Ae(t,e,n){for(var r=new Pn(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var BAe=vw(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),VAe=vw(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),UAe=vw(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const bw={rangeStep:$Ae,getDigitCount:FAe,interpolateNumber:BAe,uninterpolateNumber:VAe,uninterpolateTruncation:UAe};function CN(t){return WAe(t)||qAe(t)||jz(t)||zAe()}function zAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qAe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function WAe(t){if(Array.isArray(t))return IN(t)}function Ry(t,e){return KAe(t)||GAe(t,e)||jz(t,e)||HAe()}function HAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jz(t,e){if(t){if(typeof t=="string")return IN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IN(t,e)}}function IN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GAe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function KAe(t){if(Array.isArray(t))return t}function Oz(t){var e=Ry(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function Rz(t,e,n){if(t.lte(0))return new Pn(0);var r=bw.getDigitCount(t.toNumber()),i=new Pn(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new Pn(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?l:new Pn(Math.ceil(l))}function YAe(t,e,n){var r=1,i=new Pn(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Pn(10).pow(bw.getDigitCount(t)-1),i=new Pn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Pn(Math.floor(t)))}else t===0?i=new Pn(Math.floor((e-1)/2)):n||(i=new Pn(Math.floor(t)));var s=Math.floor((e-1)/2),o=DAe(MAe(function(l){return i.add(new Pn(l-s).mul(r)).toNumber()}),TN);return o(0,e)}function Lz(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Pn(0),tickMin:new Pn(0),tickMax:new Pn(0)};var a=Rz(new Pn(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Pn(0):(s=new Pn(t).add(e).div(2),s=s.sub(new Pn(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new Pn(e).sub(s).div(a).toNumber()),c=o+l+1;return c>n?Lz(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:a,tickMin:s.sub(new Pn(o).mul(a)),tickMax:s.add(new Pn(l).mul(a))})}function XAe(t){var e=Ry(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=Oz([n,r]),l=Ry(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(CN(TN(0,i-1).map(function(){return 1/0}))):[].concat(CN(TN(0,i-1).map(function(){return-1/0})),[u]);return n>r?kN(f):f}if(c===u)return YAe(c,i,a);var h=Lz(c,u,s,a),p=h.step,y=h.tickMin,b=h.tickMax,x=bw.rangeStep(y,b.add(new Pn(.1).mul(p)),p);return n>r?kN(x):x}function QAe(t,e){var n=Ry(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Oz([r,i]),o=Ry(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),f=Rz(new Pn(c).sub(l).div(u-1),a,0),h=[].concat(CN(bw.rangeStep(new Pn(l),new Pn(c).sub(new Pn(.99).mul(f)),f)),[c]);return r>i?kN(h):h}var JAe=Iz(XAe),ZAe=Iz(QAe),eNe="Invariant failed";function sd(t,e){throw new Error(eNe)}var tNe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}function p2(){return p2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p2.apply(this,arguments)}function nNe(t,e){return sNe(t)||aNe(t,e)||iNe(t,e)||rNe()}function rNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iNe(t,e){if(t){if(typeof t=="string")return IL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IL(t,e)}}function IL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aNe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function sNe(t){if(Array.isArray(t))return t}function oNe(t,e){if(t==null)return{};var n=lNe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fz(r.key),r)}}function fNe(t,e,n){return e&&uNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dNe(t,e,n){return e=m2(e),hNe(t,Mz()?Reflect.construct(e,n||[],m2(t).constructor):e.apply(t,n))}function hNe(t,e){if(e&&(mp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pNe(t)}function pNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mz=function(){return!!t})()}function m2(t){return m2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},m2(t)}function mNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jN(t,e)}function jN(t,e){return jN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jN(t,e)}function Dz(t,e,n){return e=Fz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fz(t){var e=gNe(t,"string");return mp(e)=="symbol"?e:e+""}function gNe(t,e){if(mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xw=function(t){function e(){return cNe(this,e),dNe(this,e,arguments)}return mNe(e,t),fNe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,f=r.yAxis,h=oNe(r,tNe),p=Ht(h,!1);this.props.direction==="x"&&u.type!=="number"&&sd();var y=l.map(function(b){var x=c(b,o),v=x.x,w=x.y,S=x.value,A=x.errorVal;if(!A)return null;var P=[],O,I;if(Array.isArray(A)){var E=nNe(A,2);O=E[0],I=E[1]}else O=I=A;if(a==="vertical"){var C=u.scale,M=w+i,N=M+s,k=M-s,j=C(S-O),B=C(S+I);P.push({x1:B,y1:N,x2:B,y2:k}),P.push({x1:j,y1:M,x2:B,y2:M}),P.push({x1:j,y1:N,x2:j,y2:k})}else if(a==="horizontal"){var G=f.scale,Z=v+i,ie=Z-s,X=Z+s,ae=G(S-O),ue=G(S+I);P.push({x1:ie,y1:ue,x2:X,y2:ue}),P.push({x1:Z,y1:ae,x2:Z,y2:ue}),P.push({x1:ie,y1:ae,x2:X,y2:ae})}return he.createElement(cr,p2({className:"recharts-errorBar",key:"bar-".concat(P.map(function(de){return"".concat(de.x1,"-").concat(de.x2,"-").concat(de.y1,"-").concat(de.y2)}))},p),P.map(function(de){return he.createElement("line",p2({},de,{key:"line-".concat(de.x1,"-").concat(de.x2,"-").concat(de.y1,"-").concat(de.y2)}))}))});return he.createElement(cr,{className:"recharts-errorBars"},y)}}])}(he.Component);Dz(xw,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Dz(xw,"displayName","ErrorBar");function Ly(t){"@babel/helpers - typeof";return Ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ly(t)}function jL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jL(Object(n),!0).forEach(function(r){yNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yNe(t,e,n){return e=vNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vNe(t){var e=bNe(t,"string");return Ly(e)=="symbol"?e:e+""}function bNe(t,e){if(Ly(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ly(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $z=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=qa(n,jh);if(!s)return null;var o=jh.defaultProps,l=o!==void 0?pf(pf({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(r||[]).reduce(function(u,f){var h=f.item,p=f.props,y=p.sectors||p.data||[];return u.concat(y.map(function(b){return{type:s.props.iconType||h.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):c=(r||[]).map(function(u){var f=u.item,h=f.type.defaultProps,p=h!==void 0?pf(pf({},h),f.props):{},y=p.dataKey,b=p.name,x=p.legendType,v=p.hide;return{inactive:v,dataKey:y,type:l.iconType||x||"square",color:lk(f),value:b||y,payload:p}}),pf(pf(pf({},l),jh.getWithHeight(s,i)),{},{payload:c,item:s})};function My(t){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},My(t)}function OL(t){return SNe(t)||_Ne(t)||wNe(t)||xNe()}function xNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wNe(t,e){if(t){if(typeof t=="string")return ON(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ON(t,e)}}function _Ne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SNe(t){if(Array.isArray(t))return ON(t)}function ON(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(n),!0).forEach(function(r){Rh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rh(t,e,n){return e=ANe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ANe(t){var e=NNe(t,"string");return My(e)=="symbol"?e:e+""}function NNe(t,e){if(My(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(My(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Za(t,e,n){return Jt(t)||Jt(e)?n:ti(e)?Rs(t,e,n):Ut(e)?e(t):n}function jg(t,e,n,r){var i=_Ae(t,function(o){return Za(o,e)});if(n==="number"){var a=i.filter(function(o){return Ue(o)||parseFloat(o)});return a.length?[yw(a),lu(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!Jt(o)}):i;return s.map(function(o){return ti(o)||o instanceof Date?o:""})}var ENe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,f=i[c].coordinate,h=c>=o-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(so(f-u)!==so(h-f)){var y=[];if(so(h-f)===so(l[1]-l[0])){p=h;var b=f+l[1]-l[0];y[0]=Math.min(b,(b+u)/2),y[1]=Math.max(b,(b+u)/2)}else{p=u;var x=h+l[1]-l[0];y[0]=Math.min(f,(x+f)/2),y[1]=Math.max(f,(x+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>v[0]&&e<=v[1]||e>=y[0]&&e<=y[1]){s=i[c].index;break}}else{var w=Math.min(u,h),S=Math.max(u,h);if(e>(w+f)/2&&e<=(S+f)/2){s=i[c].index;break}}}else for(var A=0;A<o;A++)if(A===0&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A>0&&A<o-1&&e>(r[A].coordinate+r[A-1].coordinate)/2&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A===o-1&&e>(r[A].coordinate+r[A-1].coordinate)/2){s=r[A].index;break}return s},lk=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?_r(_r({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},PNe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var u=a[o[l]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var y=u[f[h]],b=y.items,x=y.cateAxisId,v=b.filter(function(I){return Wl(I.type).indexOf("Bar")>=0});if(v&&v.length){var w=v[0].type.defaultProps,S=w!==void 0?_r(_r({},w),v[0].props):v[0].props,A=S.barSize,P=S[x];s[P]||(s[P]=[]);var O=Jt(A)?n:A;s[P].push({item:v[0],stackList:v.slice(1),barSize:Jt(O)?void 0:id(O,r,0)})}}return s},TNe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=id(n,i,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/l,y=s.reduce(function(A,P){return A+P.barSize||0},0);y+=(l-1)*c,y>=i&&(y-=(l-1)*c,c=0),y>=i&&p>0&&(h=!0,p*=.9,y=l*p);var b=(i-y)/2>>0,x={offset:b-c,size:0};u=s.reduce(function(A,P){var O={item:P.item,position:{offset:x.offset+x.size+c,size:h?p:P.barSize}},I=[].concat(OL(A),[O]);return x=I[I.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(E){I.push({item:E,position:x})}),I},f)}else{var v=id(r,i,0,!0);i-2*v-(l-1)*c<=0&&(c=0);var w=(i-2*v-(l-1)*c)/l;w>1&&(w>>=0);var S=o===+o?Math.min(w,o):w;u=s.reduce(function(A,P,O){var I=[].concat(OL(A),[{item:P.item,position:{offset:v+(w+c)*O+(w-S)/2,size:S}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(E){I.push({item:E,position:I[I.length-1].position})}),I},f)}return u},kNe=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,l=s-(o.left||0)-(o.right||0),c=$z({children:a,legendWidth:l});if(c){var u=i||{},f=u.width,h=u.height,p=c.align,y=c.verticalAlign,b=c.layout;if((b==="vertical"||b==="horizontal"&&y==="middle")&&p!=="center"&&Ue(e[p]))return _r(_r({},e),{},Rh({},p,e[p]+(f||0)));if((b==="horizontal"||b==="vertical"&&p==="center")&&y!=="middle"&&Ue(e[y]))return _r(_r({},e),{},Rh({},y,e[y]+(h||0)))}return e},CNe=function(e,n,r){return Jt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Bz=function(e,n,r,i,a){var s=n.props.children,o=co(s,xw).filter(function(c){return CNe(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=Za(u,r);if(Jt(f))return c;var h=Array.isArray(f)?[yw(f),lu(f)]:[f,f],p=l.reduce(function(y,b){var x=Za(u,b,0),v=h[0]-Math.abs(Array.isArray(x)?x[0]:x),w=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(v,y[0]),Math.max(w,y[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},INe=function(e,n,r,i,a){var s=n.map(function(o){return Bz(e,o,r,a,i)}).filter(function(o){return!Jt(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},Vz=function(e,n,r,i,a){var s=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&Bz(e,l,c,i)||jg(e,c,r,a)});if(r==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},Uz=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},zz=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate});return a||o.push(n),s||o.push(r),o},$l=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?so(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return u.filter(function(f){return!Kp(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:a?a[f]:f,index:h,offset:c}})},p_=new WeakMap,H0=function(e,n){if(typeof n!="function")return e;p_.has(e)||p_.set(e,new WeakMap);var r=p_.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},jNe=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Py(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:c2(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Ig(),realScaleType:"point"}:a==="category"?{scale:Py(),realScaleType:"band"}:{scale:c2(),realScaleType:"linear"};if(rd(i)){var l="scale".concat(iw(i));return{scale:(PL[l]||Ig)(),realScaleType:PL[l]?l:"point"}}return Ut(i)?{scale:i}:{scale:Ig(),realScaleType:"point"}},LL=1e-4,ONe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-LL,s=Math.max(i[0],i[1])+LL,o=e(n[0]),l=e(n[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([n[0],n[r-1]])}},RNe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},LNe=function(e,n){if(!n||n.length!==2||!Ue(n[0])||!Ue(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Ue(e[0])||e[0]<r)&&(a[0]=r),(!Ue(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},MNe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var l=Kp(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1])}},DNe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=Kp(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},FNe={sign:MNe,expand:Jme,none:op,silhouette:Zme,wiggle:ege,positive:DNe},$Ne=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=FNe[r],s=Qme().keys(i).value(function(o,l){return+Za(o,l,0)}).order(iN).offset(a);return s(e)},BNe=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,l={},c=o.reduce(function(f,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?_r(_r({},h.type.defaultProps),h.props):h.props,b=y.stackId,x=y.hide;if(x)return f;var v=y[r],w=f[v]||{hasStack:!1,stackGroups:{}};if(ti(b)){var S=w.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(h),w.hasStack=!0,w.stackGroups[b]=S}else w.stackGroups[Lv("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return _r(_r({},f),{},Rh({},v,w))},l),u={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(b,x){var v=p.stackGroups[x];return _r(_r({},b),{},Rh({},x,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:$Ne(e,v.items,a)}))},y)}return _r(_r({},f),{},Rh({},h,p))},u)},VNe=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=JAe(c,a,o);return e.domain([yw(u),lu(u)]),{niceTicks:u}}if(a&&i==="number"){var f=e.domain(),h=ZAe(f,a,o);return{niceTicks:h}}return null};function ML(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Jt(i[e.dataKey])){var o=$b(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=Za(i,Jt(s)?e.dataKey:s);return Jt(l)?null:e.scale(l)}var DL=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=Za(s,n.dataKey,n.domain[o]);return Jt(l)?null:n.scale(l)-a/2+i},UNe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},zNe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?_r(_r({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(ti(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},qNe=function(e){return e.reduce(function(n,r){return[yw(r.concat([n[0]]).filter(Ue)),lu(r.concat([n[1]]).filter(Ue))]},[1/0,-1/0])},qz=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(c,u){var f=qNe(u.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},FL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$L=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RN=function(e,n,r){if(Ut(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ue(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(FL.test(e[0])){var a=+FL.exec(e[0])[1];i[0]=n[0]-a}else Ut(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ue(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if($L.test(e[1])){var s=+$L.exec(e[1])[1];i[1]=n[1]+s}else Ut(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},g2=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=M4(n,function(f){return f.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},BL=function(e,n,r){return!e||!e.length||jy(e,Rs(r,"type.defaultProps.domain"))?n:e},Wz=function(e,n){var r=e.type.defaultProps?_r(_r({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return _r(_r({},Ht(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:lk(e),value:Za(n,i),type:l,payload:n,chartType:c,hide:u})};function Dy(t){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(t)}function VL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VL(Object(n),!0).forEach(function(r){WNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WNe(t,e,n){return e=HNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HNe(t){var e=GNe(t,"string");return Dy(e)=="symbol"?e:e+""}function GNe(t,e){if(Dy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y2=Math.PI/180,KNe=function(e){return e*180/Math.PI},Ni=function(e,n,r,i){return{x:e+Math.cos(-y2*i)*r,y:n+Math.sin(-y2*i)*r}},YNe=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},XNe=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=YNe({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(r-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:KNe(c),angleInRadian:c}},QNe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},JNe=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},zL=function(e,n){var r=e.x,i=e.y,a=XNe({x:r,y:i},n),s=a.radius,o=a.angle,l=n.innerRadius,c=n.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=QNe(n),f=u.startAngle,h=u.endAngle,p=o,y;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=f}return y?UL(UL({},n),{},{radius:s,angle:JNe(p,n)}):null};function Fy(t){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fy(t)}var ZNe=["offset"];function eEe(t){return iEe(t)||rEe(t)||nEe(t)||tEe()}function tEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nEe(t,e){if(t){if(typeof t=="string")return LN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LN(t,e)}}function rEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iEe(t){if(Array.isArray(t))return LN(t)}function LN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aEe(t,e){if(t==null)return{};var n=sEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(n),!0).forEach(function(r){oEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oEe(t,e,n){return e=lEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lEe(t){var e=cEe(t,"string");return Fy(e)=="symbol"?e:e+""}function cEe(t,e){if(Fy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $y(){return $y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$y.apply(this,arguments)}var uEe=function(e){var n=e.value,r=e.formatter,i=Jt(e.children)?n:e.children;return Ut(r)?r(i):i},fEe=function(e,n){var r=so(n-e),i=Math.min(Math.abs(n-e),360);return r*i},dEe=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,y=l.endAngle,b=l.clockWise,x=(f+h)/2,v=fEe(p,y),w=v>=0?1:-1,S,A;i==="insideStart"?(S=p+w*s,A=b):i==="insideEnd"?(S=y-w*s,A=!b):i==="end"&&(S=y+w*s,A=b),A=v<=0?A:!A;var P=Ni(c,u,x,S),O=Ni(c,u,x,S+(A?1:-1)*359),I="M".concat(P.x,",").concat(P.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(A?0:1,`,
    `).concat(O.x,",").concat(O.y),E=Jt(e.id)?Lv("recharts-radial-line-"):e.id;return he.createElement("text",$y({},r,{dominantBaseline:"central",className:on("recharts-radial-bar-label",o)}),he.createElement("defs",null,he.createElement("path",{id:E,d:I})),he.createElement("textPath",{xlinkHref:"#".concat(E)},n))},hEe=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,f=a.endAngle,h=(u+f)/2;if(i==="outside"){var p=Ni(s,o,c+r,h),y=p.x,b=p.y;return{x:y,y:b,textAnchor:y>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,v=Ni(s,o,x,h),w=v.x,S=v.y;return{x:w,y:S,textAnchor:"middle",verticalAnchor:"middle"}},pEe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,h=f*i,p=f>0?"end":"start",y=f>0?"start":"end",b=c>=0?1:-1,x=b*i,v=b>0?"end":"start",w=b>0?"start":"end";if(a==="top"){var S={x:o+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Qr(Qr({},S),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var A={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:y};return Qr(Qr({},A),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(a==="left"){var P={x:o-x,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return Qr(Qr({},P),r?{width:Math.max(P.x-r.x,0),height:u}:{})}if(a==="right"){var O={x:o+c+x,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return Qr(Qr({},O),r?{width:Math.max(r.x+r.width-O.x,0),height:u}:{})}var I=r?{width:c,height:u}:{};return a==="insideLeft"?Qr({x:o+x,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},I):a==="insideRight"?Qr({x:o+c-x,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},I):a==="insideTop"?Qr({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:y},I):a==="insideBottom"?Qr({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},I):a==="insideTopLeft"?Qr({x:o+x,y:l+h,textAnchor:w,verticalAnchor:y},I):a==="insideTopRight"?Qr({x:o+c-x,y:l+h,textAnchor:v,verticalAnchor:y},I):a==="insideBottomLeft"?Qr({x:o+x,y:l+u-h,textAnchor:w,verticalAnchor:p},I):a==="insideBottomRight"?Qr({x:o+c-x,y:l+u-h,textAnchor:v,verticalAnchor:p},I):qp(a)&&(Ue(a.x)||If(a.x))&&(Ue(a.y)||If(a.y))?Qr({x:o+id(a.x,c),y:l+id(a.y,u),textAnchor:"end",verticalAnchor:"end"},I):Qr({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},I)},mEe=function(e){return"cx"in e&&Ue(e.cx)};function Ki(t){var e=t.offset,n=e===void 0?5:e,r=aEe(t,ZNe),i=Qr({offset:n},r),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,h=i.textBreakAll;if(!a||Jt(o)&&Jt(l)&&!z.isValidElement(c)&&!Ut(c))return null;if(z.isValidElement(c))return z.cloneElement(c,i);var p;if(Ut(c)){if(p=z.createElement(c,i),z.isValidElement(p))return p}else p=uEe(i);var y=mEe(a),b=Ht(i,!0);if(y&&(s==="insideStart"||s==="insideEnd"||s==="end"))return dEe(i,p,b);var x=y?hEe(i):pEe(i);return he.createElement(t2,$y({className:on("recharts-label",f)},b,x,{breakAll:h}),p)}Ki.displayName="Label";var Hz=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,h=e.y,p=e.top,y=e.left,b=e.width,x=e.height,v=e.clockWise,w=e.labelViewBox;if(w)return w;if(Ue(b)&&Ue(x)){if(Ue(f)&&Ue(h))return{x:f,y:h,width:b,height:x};if(Ue(p)&&Ue(y))return{x:p,y,width:b,height:x}}return Ue(f)&&Ue(h)?{x:f,y:h,width:0,height:0}:Ue(n)&&Ue(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:v}:e.viewBox?e.viewBox:{}},gEe=function(e,n){return e?e===!0?he.createElement(Ki,{key:"label-implicit",viewBox:n}):ti(e)?he.createElement(Ki,{key:"label-implicit",viewBox:n,value:e}):z.isValidElement(e)?e.type===Ki?z.cloneElement(e,{key:"label-implicit",viewBox:n}):he.createElement(Ki,{key:"label-implicit",content:e,viewBox:n}):Ut(e)?he.createElement(Ki,{key:"label-implicit",content:e,viewBox:n}):qp(e)?he.createElement(Ki,$y({viewBox:n},e,{key:"label-implicit"})):null:null},yEe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=Hz(e),s=co(i,Ki).map(function(l,c){return z.cloneElement(l,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return s;var o=gEe(e.label,n||a);return[o].concat(eEe(s))};Ki.parseViewBox=Hz;Ki.renderCallByParent=yEe;function vEe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var bEe=vEe;const xEe=Rn(bEe);function By(t){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(t)}var wEe=["valueAccessor"],_Ee=["data","dataKey","clockWise","id","textBreakAll"];function SEe(t){return PEe(t)||EEe(t)||NEe(t)||AEe()}function AEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NEe(t,e){if(t){if(typeof t=="string")return MN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MN(t,e)}}function EEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PEe(t){if(Array.isArray(t))return MN(t)}function MN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v2(){return v2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v2.apply(this,arguments)}function WL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WL(Object(n),!0).forEach(function(r){TEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TEe(t,e,n){return e=kEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kEe(t){var e=CEe(t,"string");return By(e)=="symbol"?e:e+""}function CEe(t,e){if(By(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(By(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GL(t,e){if(t==null)return{};var n=IEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var jEe=function(e){return Array.isArray(e.value)?xEe(e.value):e.value};function Nu(t){var e=t.valueAccessor,n=e===void 0?jEe:e,r=GL(t,wEe),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,c=GL(r,_Ee);return!i||!i.length?null:he.createElement(cr,{className:"recharts-label-list"},i.map(function(u,f){var h=Jt(a)?n(u,f):Za(u&&u.payload,a),p=Jt(o)?{}:{id:"".concat(o,"-").concat(f)};return he.createElement(Ki,v2({},Ht(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Ki.parseViewBox(Jt(s)?u:HL(HL({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Nu.displayName="LabelList";function OEe(t,e){return t?t===!0?he.createElement(Nu,{key:"labelList-implicit",data:e}):he.isValidElement(t)||Ut(t)?he.createElement(Nu,{key:"labelList-implicit",data:e,content:t}):qp(t)?he.createElement(Nu,v2({data:e},t,{key:"labelList-implicit"})):null:null}function REe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=co(r,Nu).map(function(s,o){return z.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=OEe(t.label,e);return[a].concat(SEe(i))}Nu.renderCallByParent=REe;function Vy(t){"@babel/helpers - typeof";return Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vy(t)}function DN(){return DN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DN.apply(this,arguments)}function KL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(n),!0).forEach(function(r){LEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LEe(t,e,n){return e=MEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MEe(t){var e=DEe(t,"string");return Vy(e)=="symbol"?e:e+""}function DEe(t,e){if(Vy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FEe=function(e,n){var r=so(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},G0=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+i,f=Math.asin(l/u)/y2,h=c?a:a+s*f,p=Ni(n,r,u,h),y=Ni(n,r,i,h),b=c?a-s*f:a,x=Ni(n,r,u*Math.cos(f*y2),b);return{center:p,circleTangency:y,lineTangency:x,theta:f}},Gz=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=FEe(s,o),c=s+l,u=Ni(n,r,a,s),f=Ni(n,r,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Ni(n,r,i,s),y=Ni(n,r,i,c);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},$Ee=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=so(u-c),h=G0({cx:n,cy:r,radius:a,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,y=h.lineTangency,b=h.theta,x=G0({cx:n,cy:r,radius:a,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),v=x.circleTangency,w=x.lineTangency,S=x.theta,A=l?Math.abs(c-u):Math.abs(c-u)-b-S;if(A<0)return o?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):Gz({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var P="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(A>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var O=G0({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),I=O.circleTangency,E=O.lineTangency,C=O.theta,M=G0({cx:n,cy:r,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),N=M.circleTangency,k=M.lineTangency,j=M.theta,B=l?Math.abs(c-u):Math.abs(c-u)-C-j;if(B<0&&s===0)return"".concat(P,"L").concat(n,",").concat(r,"Z");P+="L".concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(f>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else P+="L".concat(n,",").concat(r,"Z");return P},BEe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Kz=function(e){var n=YL(YL({},BEe),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,f=n.endAngle,h=n.className;if(s<a||u===f)return null;var p=on("recharts-sector",h),y=s-a,b=id(o,y,0,!0),x;return b>0&&Math.abs(u-f)<360?x=$Ee({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(b,y/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):x=Gz({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:f}),he.createElement("path",DN({},Ht(n,!0),{className:p,d:x,role:"img"}))};function Uy(t){"@babel/helpers - typeof";return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uy(t)}function FN(){return FN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FN.apply(this,arguments)}function XL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XL(Object(n),!0).forEach(function(r){VEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VEe(t,e,n){return e=UEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UEe(t){var e=zEe(t,"string");return Uy(e)=="symbol"?e:e+""}function zEe(t,e){if(Uy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JL={curveBasisClosed:Bme,curveBasisOpen:Vme,curveBasis:$me,curveBumpX:Nme,curveBumpY:Eme,curveLinearClosed:Ume,curveLinear:sw,curveMonotoneX:zme,curveMonotoneY:qme,curveNatural:Wme,curveStep:Hme,curveStepAfter:Kme,curveStepBefore:Gme},K0=function(e){return e.x===+e.x&&e.y===+e.y},zm=function(e){return e.x},qm=function(e){return e.y},qEe=function(e,n){if(Ut(e))return e;var r="curve".concat(iw(e));return(r==="curveMonotone"||r==="curveBump")&&n?JL["".concat(r).concat(n==="vertical"?"Y":"X")]:JL[r]||sw},WEe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=qEe(r,o),f=c?a.filter(function(b){return K0(b)}):a,h;if(Array.isArray(s)){var p=c?s.filter(function(b){return K0(b)}):s,y=f.map(function(b,x){return QL(QL({},b),{},{base:p[x]})});return o==="vertical"?h=F0().y(qm).x1(zm).x0(function(b){return b.base.x}):h=F0().x(zm).y1(qm).y0(function(b){return b.base.y}),h.defined(K0).curve(u),h(y)}return o==="vertical"&&Ue(s)?h=F0().y(qm).x1(zm).x0(s):Ue(s)?h=F0().x(zm).y1(qm).y0(s):h=YV().x(zm).y(qm),h.defined(K0).curve(u),h(f)},Og=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?WEe(e):i;return z.createElement("path",FN({},Ht(e,!1),Bb(e),{className:on("recharts-curve",n),d:s,ref:a}))},Yz={exports:{}},HEe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",GEe=HEe,KEe=GEe;function Xz(){}function Qz(){}Qz.resetWarningCache=Xz;var YEe=function(){function t(r,i,a,s,o,l){if(l!==KEe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Qz,resetWarningCache:Xz};return n.PropTypes=n,n};Yz.exports=YEe();var XEe=Yz.exports;const gn=Rn(XEe),{getOwnPropertyNames:QEe,getOwnPropertySymbols:JEe}=Object,{hasOwnProperty:ZEe}=Object.prototype;function m_(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Y0(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);const l=t(n,r,i);return a.delete(n),a.delete(r),l}}function ePe(t){return t!=null?t[Symbol.toStringTag]:void 0}function ZL(t){return QEe(t).concat(JEe(t))}const tPe=Object.hasOwn||((t,e)=>ZEe.call(t,e));function Sd(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const nPe="__v",rPe="__o",iPe="_owner",{getOwnPropertyDescriptor:e6,keys:t6}=Object;function aPe(t,e){return t.byteLength===e.byteLength&&b2(new Uint8Array(t),new Uint8Array(e))}function sPe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function oPe(t,e){return t.byteLength===e.byteLength&&b2(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function lPe(t,e){return Sd(t.getTime(),e.getTime())}function cPe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function uPe(t,e){return t===e}function n6(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let s,o,l=0;for(;(s=a.next())&&!s.done;){const c=e.entries();let u=!1,f=0;for(;(o=c.next())&&!o.done;){if(i[f]){f++;continue}const h=s.value,p=o.value;if(n.equals(h[0],p[0],l,f,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}const fPe=Sd;function dPe(t,e,n){const r=t6(t);let i=r.length;if(t6(e).length!==i)return!1;for(;i-- >0;)if(!Jz(t,e,n,r[i]))return!1;return!0}function Wm(t,e,n){const r=ZL(t);let i=r.length;if(ZL(e).length!==i)return!1;let a,s,o;for(;i-- >0;)if(a=r[i],!Jz(t,e,n,a)||(s=e6(t,a),o=e6(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function hPe(t,e){return Sd(t.valueOf(),e.valueOf())}function pPe(t,e){return t.source===e.source&&t.flags===e.flags}function r6(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let s,o;for(;(s=a.next())&&!s.done;){const l=e.values();let c=!1,u=0;for(;(o=l.next())&&!o.done;){if(!i[u]&&n.equals(s.value,o.value,s.value,o.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function b2(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function mPe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Jz(t,e,n,r){return(r===iPe||r===rPe||r===nPe)&&(t.$$typeof||e.$$typeof)?!0:tPe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const gPe="[object ArrayBuffer]",yPe="[object Arguments]",vPe="[object Boolean]",bPe="[object DataView]",xPe="[object Date]",wPe="[object Error]",_Pe="[object Map]",SPe="[object Number]",APe="[object Object]",NPe="[object RegExp]",EPe="[object Set]",PPe="[object String]",TPe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},kPe="[object URL]",CPe=Object.prototype.toString;function IPe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:y}){return function(x,v,w){if(x===v)return!0;if(x==null||v==null)return!1;const S=typeof x;if(S!==typeof v)return!1;if(S!=="object")return S==="number"?o(x,v,w):S==="function"?a(x,v,w):!1;const A=x.constructor;if(A!==v.constructor)return!1;if(A===Object)return l(x,v,w);if(Array.isArray(x))return e(x,v,w);if(A===Date)return r(x,v,w);if(A===RegExp)return u(x,v,w);if(A===Map)return s(x,v,w);if(A===Set)return f(x,v,w);const P=CPe.call(x);if(P===xPe)return r(x,v,w);if(P===NPe)return u(x,v,w);if(P===_Pe)return s(x,v,w);if(P===EPe)return f(x,v,w);if(P===APe)return typeof x.then!="function"&&typeof v.then!="function"&&l(x,v,w);if(P===kPe)return p(x,v,w);if(P===wPe)return i(x,v,w);if(P===yPe)return l(x,v,w);if(TPe[P])return h(x,v,w);if(P===gPe)return t(x,v,w);if(P===bPe)return n(x,v,w);if(P===vPe||P===SPe||P===PPe)return c(x,v,w);if(y){let O=y[P];if(!O){const I=ePe(x);I&&(O=y[I])}if(O)return O(x,v,w)}return!1}}function jPe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:aPe,areArraysEqual:n?Wm:sPe,areDataViewsEqual:oPe,areDatesEqual:lPe,areErrorsEqual:cPe,areFunctionsEqual:uPe,areMapsEqual:n?m_(n6,Wm):n6,areNumbersEqual:fPe,areObjectsEqual:n?Wm:dPe,arePrimitiveWrappersEqual:hPe,areRegExpsEqual:pPe,areSetsEqual:n?m_(r6,Wm):r6,areTypedArraysEqual:n?m_(b2,Wm):b2,areUrlsEqual:mPe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Y0(r.areArraysEqual),a=Y0(r.areMapsEqual),s=Y0(r.areObjectsEqual),o=Y0(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:o})}return r}function OPe(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function RPe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(o,l){const{cache:c=t?new WeakMap:void 0,meta:u}=n();return e(o,l,{cache:c,equals:r,meta:u,strict:i})};if(t)return function(o,l){return e(o,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(o,l){return e(o,l,a)}}const LPe=Ku();Ku({strict:!0});Ku({circular:!0});Ku({circular:!0,strict:!0});Ku({createInternalComparator:()=>Sd});Ku({strict:!0,createInternalComparator:()=>Sd});Ku({circular:!0,createInternalComparator:()=>Sd});Ku({circular:!0,createInternalComparator:()=>Sd,strict:!0});function Ku(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=jPe(t),s=IPe(a),o=n?n(s):OPe(s);return RPe({circular:e,comparator:s,createState:r,equals:o,strict:i})}function MPe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function i6(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):MPe(i)};requestAnimationFrame(r)}function $N(t){"@babel/helpers - typeof";return $N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$N(t)}function DPe(t){return VPe(t)||BPe(t)||$Pe(t)||FPe()}function FPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Pe(t,e){if(t){if(typeof t=="string")return a6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a6(t,e)}}function a6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VPe(t){if(Array.isArray(t))return t}function UPe(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=DPe(s),l=o[0],c=o.slice(1);if(typeof l=="number"){i6(i.bind(null,c),l);return}i(l),i6(i.bind(null,c));return}$N(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function zy(t){"@babel/helpers - typeof";return zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zy(t)}function s6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s6(Object(n),!0).forEach(function(r){Zz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zz(t,e,n){return e=zPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zPe(t){var e=qPe(t,"string");return zy(e)==="symbol"?e:String(e)}function qPe(t,e){if(zy(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WPe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},HPe=function(e){return e},GPe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Rg=function(e,n){return Object.keys(n).reduce(function(r,i){return o6(o6({},r),{},Zz({},i,e(i,n[i])))},{})},l6=function(e,n,r){return e.map(function(i){return"".concat(GPe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function KPe(t,e){return QPe(t)||XPe(t,e)||eq(t,e)||YPe()}function YPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function QPe(t){if(Array.isArray(t))return t}function JPe(t){return tTe(t)||eTe(t)||eq(t)||ZPe()}function ZPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eq(t,e){if(t){if(typeof t=="string")return BN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BN(t,e)}}function eTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tTe(t){if(Array.isArray(t))return BN(t)}function BN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var x2=1e-4,tq=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},nq=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},c6=function(e,n){return function(r){var i=tq(e,n);return nq(i,r)}},nTe=function(e,n){return function(r){var i=tq(e,n),a=[].concat(JPe(i.map(function(s,o){return s*o}).slice(1)),[0]);return nq(a,r)}},u6=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),u=KPe(c,4);i=u[0],a=u[1],s=u[2],o=u[3]}}}var f=c6(i,s),h=c6(a,o),p=nTe(i,s),y=function(v){return v>1?1:v<0?0:v},b=function(v){for(var w=v>1?1:v,S=w,A=0;A<8;++A){var P=f(S)-w,O=p(S);if(Math.abs(P-w)<x2||O<x2)return h(S);S=y(S-P/O)}return h(S)};return b.isStepper=!1,b},rTe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(u,f,h){var p=-(u-f)*r,y=h*a,b=h+(p-y)*o/1e3,x=h*o/1e3+u;return Math.abs(x-f)<x2&&Math.abs(b)<x2?[f,0]:[x,b]};return l.isStepper=!0,l.dt=o,l},iTe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return u6(i);case"spring":return rTe();default:if(i.split("(")[0]==="cubic-bezier")return u6(i)}return typeof i=="function"?i:null};function qy(t){"@babel/helpers - typeof";return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qy(t)}function f6(t){return oTe(t)||sTe(t)||rq(t)||aTe()}function aTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oTe(t){if(Array.isArray(t))return UN(t)}function d6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d6(Object(n),!0).forEach(function(r){VN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VN(t,e,n){return e=lTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lTe(t){var e=cTe(t,"string");return qy(e)==="symbol"?e:String(e)}function cTe(t,e){if(qy(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uTe(t,e){return hTe(t)||dTe(t,e)||rq(t,e)||fTe()}function fTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rq(t,e){if(t){if(typeof t=="string")return UN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UN(t,e)}}function UN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function hTe(t){if(Array.isArray(t))return t}var w2=function(e,n,r){return e+(n-e)*r},zN=function(e){var n=e.from,r=e.to;return n!==r},pTe=function t(e,n,r){var i=Rg(function(a,s){if(zN(s)){var o=e(s.from,s.to,s.velocity),l=uTe(o,2),c=l[0],u=l[1];return xi(xi({},s),{},{from:c,velocity:u})}return s},n);return r<1?Rg(function(a,s){return zN(s)?xi(xi({},s),{},{velocity:w2(s.velocity,i[a].velocity,r),from:w2(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const mTe=function(t,e,n,r,i){var a=WPe(t,e),s=a.reduce(function(x,v){return xi(xi({},x),{},VN({},v,[t[v],e[v]]))},{}),o=a.reduce(function(x,v){return xi(xi({},x),{},VN({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return Rg(function(v,w){return w.from},o)},p=function(){return!Object.values(o).filter(zN).length},y=function(v){c||(c=v);var w=v-c,S=w/n.dt;o=pTe(n,o,S),i(xi(xi(xi({},t),e),h())),c=v,p()||(l=requestAnimationFrame(f))},b=function(v){u||(u=v);var w=(v-u)/r,S=Rg(function(P,O){return w2.apply(void 0,f6(O).concat([n(w)]))},s);if(i(xi(xi(xi({},t),e),S)),w<1)l=requestAnimationFrame(f);else{var A=Rg(function(P,O){return w2.apply(void 0,f6(O).concat([n(1)]))},s);i(xi(xi(xi({},t),e),A))}};return f=n.isStepper?y:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}var gTe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function yTe(t,e){if(t==null)return{};var n=vTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vTe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function g_(t){return _Te(t)||wTe(t)||xTe(t)||bTe()}function bTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xTe(t,e){if(t){if(typeof t=="string")return qN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qN(t,e)}}function wTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _Te(t){if(Array.isArray(t))return qN(t)}function qN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Js(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h6(Object(n),!0).forEach(function(r){ug(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ug(t,e,n){return e=iq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function STe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ATe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iq(r.key),r)}}function NTe(t,e,n){return e&&ATe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iq(t){var e=ETe(t,"string");return gp(e)==="symbol"?e:String(e)}function ETe(t,e){if(gp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WN(t,e)}function WN(t,e){return WN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WN(t,e)}function TTe(t){var e=kTe();return function(){var r=_2(t),i;if(e){var a=_2(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return HN(this,i)}}function HN(t,e){if(e&&(gp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GN(t)}function GN(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kTe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _2(t){return _2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_2(t)}var uc=function(t){PTe(n,t);var e=TTe(n);function n(r,i){var a;STe(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(GN(a)),a.changeStyle=a.changeStyle.bind(GN(a)),!o||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:u}),HN(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof h=="function")return a.state={style:c},HN(a);a.state={style:l?ug({},l,c):c}}else a.state={style:{}};return a}return NTe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,f=a.from,h=this.state.style;if(o){if(!s){var p={style:l?ug({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(LPe(i.to,u)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=y||c?f:i.to;if(this.state&&h){var x={style:l?ug({},l,b):b};(l&&h[l]!==b||!l&&h!==b)&&this.setState(x)}this.runAnimation(Js(Js({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=mTe(s,o,iTe(c),l,this.changeStyle),y=function(){a.stopJSAnimation=p()};this.manager.start([h,u,y,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],u=c.style,f=c.duration,h=f===void 0?0:f,p=function(b,x,v){if(v===0)return b;var w=x.duration,S=x.easing,A=S===void 0?"ease":S,P=x.style,O=x.properties,I=x.onAnimationEnd,E=v>0?s[v-1]:x,C=O||Object.keys(P);if(typeof A=="function"||A==="spring")return[].concat(g_(b),[a.runJSAnimation.bind(a,{from:E.style,to:P,duration:w,easing:A}),w]);var M=l6(C,w,A),N=Js(Js(Js({},E.style),P),{},{transition:M});return[].concat(g_(b),[N,w,I]).filter(HPe)};return this.manager.start([l].concat(g_(s.reduce(p,[u,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=UPe());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var b=o?ug({},o,l):l,x=l6(Object.keys(b),s,c);y.start([u,a,Js(Js({},b),{},{transition:x}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=yTe(i,gTe),c=z.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!o||c===0||s<=0)return a;var f=function(p){var y=p.props,b=y.style,x=b===void 0?{}:b,v=y.className,w=z.cloneElement(p,Js(Js({},l),{},{style:Js(Js({},x),u),className:v}));return w};return c===1?f(z.Children.only(a)):he.createElement("div",null,z.Children.map(a,function(h){return f(h)}))}}]),n}(z.PureComponent);uc.displayName="Animate";uc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};uc.propTypes={from:gn.oneOfType([gn.object,gn.string]),to:gn.oneOfType([gn.object,gn.string]),attributeName:gn.string,duration:gn.number,begin:gn.number,easing:gn.oneOfType([gn.string,gn.func]),steps:gn.arrayOf(gn.shape({duration:gn.number.isRequired,style:gn.object.isRequired,easing:gn.oneOfType([gn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),gn.func]),properties:gn.arrayOf("string"),onAnimationEnd:gn.func})),children:gn.oneOfType([gn.node,gn.func]),isActive:gn.bool,canBegin:gn.bool,onAnimationEnd:gn.func,shouldReAnimate:gn.bool,onAnimationStart:gn.func,onAnimationReStart:gn.func};function Wy(t){"@babel/helpers - typeof";return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(t)}function S2(){return S2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S2.apply(this,arguments)}function CTe(t,e){return RTe(t)||OTe(t,e)||jTe(t,e)||ITe()}function ITe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jTe(t,e){if(t){if(typeof t=="string")return p6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p6(t,e)}}function p6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function RTe(t){if(Array.isArray(t))return t}function m6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m6(Object(n),!0).forEach(function(r){LTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LTe(t,e,n){return e=MTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MTe(t){var e=DTe(t,"string");return Wy(e)=="symbol"?e:e+""}function DTe(t,e){if(Wy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y6=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>s?s:a[h];u="M".concat(e,",").concat(n+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),u+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*f[1])),u+="L ".concat(e+r,",").concat(n+i-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),u+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*f[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var y=Math.min(s,a);u="M ".concat(e,",").concat(n+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*y,`
            L `).concat(e+r,",").concat(n+i-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*y," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},FTe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),u=Math.max(a,a+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=c&&r<=u&&i>=f&&i<=h}return!1},$Te={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ck=function(e){var n=g6(g6({},$Te),e),r=z.useRef(),i=z.useState(-1),a=CTe(i,2),s=a[0],o=a[1];z.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&o(A)}catch{}},[]);var l=n.x,c=n.y,u=n.width,f=n.height,h=n.radius,p=n.className,y=n.animationEasing,b=n.animationDuration,x=n.animationBegin,v=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var S=on("recharts-rectangle",p);return w?he.createElement(uc,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:b,animationEasing:y,isActive:w},function(A){var P=A.width,O=A.height,I=A.x,E=A.y;return he.createElement(uc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,isActive:v,easing:y},he.createElement("path",S2({},Ht(n,!0),{className:S,d:y6(I,E,P,O,h),ref:r})))}):he.createElement("path",S2({},Ht(n,!0),{className:S,d:y6(l,c,u,f,h)}))};function KN(){return KN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KN.apply(this,arguments)}var uk=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=on("recharts-dot",a);return n===+n&&r===+r&&i===+i?z.createElement("circle",KN({},Ht(e,!1),Bb(e),{className:s,cx:n,cy:r,r:i})):null};function Hy(t){"@babel/helpers - typeof";return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hy(t)}var BTe=["x","y","top","left","width","height","className"];function YN(){return YN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YN.apply(this,arguments)}function v6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VTe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v6(Object(n),!0).forEach(function(r){UTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UTe(t,e,n){return e=zTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zTe(t){var e=qTe(t,"string");return Hy(e)=="symbol"?e:e+""}function qTe(t,e){if(Hy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WTe(t,e){if(t==null)return{};var n=HTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var GTe=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},KTe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,h=e.height,p=h===void 0?0:h,y=e.className,b=WTe(e,BTe),x=VTe({x:r,y:a,top:o,left:c,width:f,height:p},b);return!Ue(r)||!Ue(a)||!Ue(f)||!Ue(p)||!Ue(o)||!Ue(c)?null:he.createElement("path",YN({},Ht(x,!0),{className:on("recharts-cross",y),d:GTe(r,a,f,p,o,c)}))},YTe=bU,XTe=YTe(Object.getPrototypeOf,Object),QTe=XTe,JTe=gc,ZTe=QTe,e4e=yc,t4e="[object Object]",n4e=Function.prototype,r4e=Object.prototype,aq=n4e.toString,i4e=r4e.hasOwnProperty,a4e=aq.call(Object);function s4e(t){if(!e4e(t)||JTe(t)!=t4e)return!1;var e=ZTe(t);if(e===null)return!0;var n=i4e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&aq.call(n)==a4e}var o4e=s4e;const l4e=Rn(o4e);var c4e=gc,u4e=yc,f4e="[object Boolean]";function d4e(t){return t===!0||t===!1||u4e(t)&&c4e(t)==f4e}var h4e=d4e;const p4e=Rn(h4e);function Gy(t){"@babel/helpers - typeof";return Gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gy(t)}function A2(){return A2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A2.apply(this,arguments)}function m4e(t,e){return b4e(t)||v4e(t,e)||y4e(t,e)||g4e()}function g4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y4e(t,e){if(t){if(typeof t=="string")return b6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b6(t,e)}}function b6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v4e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function b4e(t){if(Array.isArray(t))return t}function x6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x6(Object(n),!0).forEach(function(r){x4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x4e(t,e,n){return e=w4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w4e(t){var e=_4e(t,"string");return Gy(e)=="symbol"?e:e+""}function _4e(t,e){if(Gy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _6=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},S4e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},A4e=function(e){var n=w6(w6({},S4e),e),r=z.useRef(),i=z.useState(-1),a=m4e(i,2),s=a[0],o=a[1];z.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&o(S)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,y=n.animationEasing,b=n.animationDuration,x=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var w=on("recharts-trapezoid",p);return v?he.createElement(uc,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:b,animationEasing:y,isActive:v},function(S){var A=S.upperWidth,P=S.lowerWidth,O=S.height,I=S.x,E=S.y;return he.createElement(uc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,easing:y},he.createElement("path",A2({},Ht(n,!0),{className:w,d:_6(I,E,A,P,O),ref:r})))}):he.createElement("g",null,he.createElement("path",A2({},Ht(n,!0),{className:w,d:_6(l,c,u,f,h)})))},N4e=["option","shapeType","propTransformer","activeClassName","isActive"];function Ky(t){"@babel/helpers - typeof";return Ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ky(t)}function E4e(t,e){if(t==null)return{};var n=P4e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function P4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function S6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S6(Object(n),!0).forEach(function(r){T4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T4e(t,e,n){return e=k4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k4e(t){var e=C4e(t,"string");return Ky(e)=="symbol"?e:e+""}function C4e(t,e){if(Ky(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ky(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I4e(t,e){return N2(N2({},e),t)}function j4e(t,e){return t==="symbols"}function A6(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return he.createElement(ck,n);case"trapezoid":return he.createElement(A4e,n);case"sector":return he.createElement(Kz,n);case"symbols":if(j4e(e))return he.createElement(T4,n);break;default:return null}}function O4e(t){return z.isValidElement(t)?t.props:t}function R4e(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?I4e:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=E4e(t,N4e),c;if(z.isValidElement(e))c=z.cloneElement(e,N2(N2({},l),O4e(e)));else if(Ut(e))c=e(l);else if(l4e(e)&&!p4e(e)){var u=i(e,l);c=he.createElement(A6,{shapeType:n,elementProps:u})}else{var f=l;c=he.createElement(A6,{shapeType:n,elementProps:f})}return o?he.createElement(cr,{className:s},c):c}function ww(t,e){return e!=null&&"trapezoids"in t.props}function _w(t,e){return e!=null&&"sectors"in t.props}function Yy(t,e){return e!=null&&"points"in t.props}function L4e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function M4e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function D4e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function F4e(t,e){var n;return ww(t,e)?n=L4e:_w(t,e)?n=M4e:Yy(t,e)&&(n=D4e),n}function $4e(t,e){var n;return ww(t,e)?n="trapezoids":_w(t,e)?n="sectors":Yy(t,e)&&(n="points"),n}function B4e(t,e){if(ww(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(_w(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Yy(t,e)?e.payload:{}}function V4e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=$4e(n,e),a=B4e(n,e),s=r.filter(function(l,c){var u=jy(a,l),f=n.props[i].filter(function(y){var b=F4e(n,e);return b(y,e)}),h=n.props[i].indexOf(f[f.length-1]),p=c===h;return u&&p}),o=r.indexOf(s[s.length-1]);return o}var U4e=Math.ceil,z4e=Math.max;function q4e(t,e,n,r){for(var i=-1,a=z4e(U4e((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var W4e=q4e,H4e=FU,N6=1/0,G4e=17976931348623157e292;function K4e(t){if(!t)return t===0?t:0;if(t=H4e(t),t===N6||t===-N6){var e=t<0?-1:1;return e*G4e}return t===t?t:0}var sq=K4e,Y4e=W4e,X4e=uw,y_=sq;function Q4e(t){return function(e,n,r){return r&&typeof r!="number"&&X4e(e,n,r)&&(n=r=void 0),e=y_(e),n===void 0?(n=e,e=0):n=y_(n),r=r===void 0?e<n?1:-1:y_(r),Y4e(e,n,r,t)}}var J4e=Q4e,Z4e=J4e,eke=Z4e(),tke=eke;const E2=Rn(tke);function Xy(t){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xy(t)}function E6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E6(Object(n),!0).forEach(function(r){oq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oq(t,e,n){return e=nke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nke(t){var e=rke(t,"string");return Xy(e)=="symbol"?e:e+""}function rke(t,e){if(Xy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ike=["Webkit","Moz","O","ms"],ake=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=ike.reduce(function(a,s){return P6(P6({},a),{},oq({},s+r,n))},{});return i[e]=n,i};function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}function P2(){return P2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P2.apply(this,arguments)}function T6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T6(Object(n),!0).forEach(function(r){Ua(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ske(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cq(r.key),r)}}function oke(t,e,n){return e&&k6(t.prototype,e),n&&k6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lke(t,e,n){return e=T2(e),cke(t,lq()?Reflect.construct(e,n||[],T2(t).constructor):e.apply(t,n))}function cke(t,e){if(e&&(yp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uke(t)}function uke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lq=function(){return!!t})()}function T2(t){return T2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},T2(t)}function fke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XN(t,e)}function XN(t,e){return XN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XN(t,e)}function Ua(t,e,n){return e=cq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cq(t){var e=dke(t,"string");return yp(e)=="symbol"?e:e+""}function dke(t,e){if(yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hke=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Ig().domain(E2(0,l)).range([a,a+s-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},C6=function(e){return e.changedTouches&&!!e.changedTouches.length},vp=function(t){function e(n){var r;return ske(this,e),r=lke(this,e,[n]),Ua(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ua(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ua(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),Ua(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ua(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ua(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ua(r,"handleSlideDragStart",function(i){var a=C6(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return fke(e,t),oke(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(s,f),y=e.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:y===u?u:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=Za(a[r],o,r);return Ut(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,y=l.onChange,b=r.pageX-a;b>0?b=Math.min(b,c+u-f-o,c+u-f-s):b<0&&(b=Math.max(b,c-s,c-o));var x=this.getIndex({startX:s+b,endX:o+b});(x.startIndex!==h||x.endIndex!==p)&&y&&y(x),this.setState({startX:s+b,endX:o+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=C6(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,y=u.onChange,b=u.gap,x=u.data,v={startX:this.state.startX,endX:this.state.endX},w=r.pageX-a;w>0?w=Math.min(w,f+h-p-c):w<0&&(w=Math.max(w,f-c)),v[s]=c+w;var S=this.getIndex(v),A=S.startIndex,P=S.endIndex,O=function(){var E=x.length-1;return s==="startX"&&(o>l?A%b===0:P%b===0)||o<l&&P===E||s==="endX"&&(o>l?P%b===0:A%b===0)||o>l&&P===E};this.setState(Ua(Ua({},s,c+w),"brushMoveStartX",r.pageX),function(){y&&O()&&y(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[i],f=o.indexOf(u);if(f!==-1){var h=f+r;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(Ua({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.fill,c=r.stroke;return he.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.data,c=r.children,u=r.padding,f=z.Children.only(c);return f?he.cloneElement(f,{x:i,y:a,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,y=l.data,b=l.startIndex,x=l.endIndex,v=Math.max(r,this.props.x),w=v_(v_({},Ht(this.props,!1)),{},{x:v,y:c,width:u,height:f}),S=p||"Min value: ".concat((a=y[b])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=y[x])===null||s===void 0?void 0:s.name);return he.createElement(cr,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),o.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return he.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,f=u.startX,h=u.endX,p=5,y={pointerEvents:"none",fill:c};return he.createElement(cr,{className:"recharts-brush-texts"},he.createElement(t2,P2({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},y),this.getTextOfTick(i)),he.createElement(t2,P2({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:s+o/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,l=r.y,c=r.width,u=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,y=h.endX,b=h.isTextActive,x=h.isSlideMoving,v=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!Ue(o)||!Ue(l)||!Ue(c)||!Ue(u)||c<=0||u<=0)return null;var S=on("recharts-brush",a),A=he.Children.count(s)===1,P=ake("userSelect","none");return he.createElement(cr,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(b||x||v||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,l=r.stroke,c=Math.floor(a+o/2)-1;return he.createElement(he.Fragment,null,he.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),he.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),he.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return he.isValidElement(r)?a=he.cloneElement(r,i):Ut(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,f=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return v_({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?hke({data:a,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);r[l]>i?o=l:s=l}return i>=r[o]?o:s}}])}(z.PureComponent);Ua(vp,"displayName","Brush");Ua(vp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var pke=L4;function mke(t,e){var n;return pke(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var gke=mke,yke=fU,vke=Wu,bke=gke,xke=Ea,wke=uw;function _ke(t,e,n){var r=xke(t)?yke:bke;return n&&wke(t,e,n)&&(e=void 0),r(t,vke(e))}var Ske=_ke;const Ake=Rn(Ske);var el=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},I6=OU;function Nke(t,e,n){e=="__proto__"&&I6?I6(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Eke=Nke,Pke=Eke,Tke=IU,kke=Wu;function Cke(t,e){var n={};return e=kke(e),Tke(t,function(r,i,a){Pke(n,i,e(r,i,a))}),n}var Ike=Cke;const jke=Rn(Ike);function Oke(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Rke=Oke,Lke=L4;function Mke(t,e){var n=!0;return Lke(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var Dke=Mke,Fke=Rke,$ke=Dke,Bke=Wu,Vke=Ea,Uke=uw;function zke(t,e,n){var r=Vke(t)?Fke:$ke;return n&&Uke(t,e,n)&&(e=void 0),r(t,Bke(e))}var qke=zke;const uq=Rn(qke);var Wke=["x","y"];function Qy(t){"@babel/helpers - typeof";return Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qy(t)}function QN(){return QN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QN.apply(this,arguments)}function j6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j6(Object(n),!0).forEach(function(r){Hke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hke(t,e,n){return e=Gke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gke(t){var e=Kke(t,"string");return Qy(e)=="symbol"?e:e+""}function Kke(t,e){if(Qy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yke(t,e){if(t==null)return{};var n=Xke(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qke(t,e){var n=t.x,r=t.y,i=Yke(t,Wke),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Hm(Hm(Hm(Hm(Hm({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function O6(t){return he.createElement(R4e,QN({shapeType:"rectangle",propTransformer:Qke,activeClassName:"recharts-active-bar"},t))}var Jke=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=Ue(r)||upe(r);return a?e(r,i):(a||sd(),n)}},Zke=["value","background"],fq;function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function e3e(t,e){if(t==null)return{};var n=t3e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function t3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function k2(){return k2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k2.apply(this,arguments)}function R6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R6(Object(n),!0).forEach(function(r){cu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hq(r.key),r)}}function r3e(t,e,n){return e&&L6(t.prototype,e),n&&L6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function i3e(t,e,n){return e=C2(e),a3e(t,dq()?Reflect.construct(e,n||[],C2(t).constructor):e.apply(t,n))}function a3e(t,e){if(e&&(bp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s3e(t)}function s3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dq=function(){return!!t})()}function C2(t){return C2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},C2(t)}function o3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JN(t,e)}function JN(t,e){return JN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JN(t,e)}function cu(t,e,n){return e=hq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hq(t){var e=l3e(t,"string");return bp(e)=="symbol"?e:e+""}function l3e(t,e){if(bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vv=function(t){function e(){var n;n3e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=i3e(this,e,[].concat(i)),cu(n,"state",{isAnimationFinished:!1}),cu(n,"id",Lv("recharts-bar-")),cu(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),cu(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return o3e(e,t),r3e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,u=Ht(this.props,!1);return r&&r.map(function(f,h){var p=h===l,y=p?c:s,b=$r($r($r({},u),f),{},{isActive:p,option:y,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return he.createElement(cr,k2({className:"recharts-bar-rectangle"},Vb(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),he.createElement(O6,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state.prevData;return he.createElement(uc,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,b=a.map(function(x,v){var w=h&&h[v];if(w){var S=As(w.x,x.x),A=As(w.y,x.y),P=As(w.width,x.width),O=As(w.height,x.height);return $r($r({},x),{},{x:S(y),y:A(y),width:P(y),height:O(y)})}if(s==="horizontal"){var I=As(0,x.height),E=I(y);return $r($r({},x),{},{y:x.y+x.height-E,height:E})}var C=As(0,x.width),M=C(y);return $r($r({},x),{},{width:M})});return he.createElement(cr,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!jy(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=Ht(this.props.background,!1);return a.map(function(c,u){c.value;var f=c.background,h=e3e(c,Zke);if(!f)return null;var p=$r($r($r($r($r({},h),{},{fill:"#eee"},f),l),Vb(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return he.createElement(O6,k2({key:"background-bar-".concat(u),option:r.props.background,isActive:u===o},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=co(u,xw);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(x,v){var w=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:w,errorVal:Za(x,v)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return he.createElement(cr,y,f.map(function(b){return he.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,l=r.yAxis,c=r.left,u=r.top,f=r.width,h=r.height,p=r.isAnimationActive,y=r.background,b=r.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,v=on("recharts-bar",s),w=o&&o.allowDataOverflow,S=l&&l.allowDataOverflow,A=w||S,P=Jt(b)?this.id:b;return he.createElement(cr,{className:v},w||S?he.createElement("defs",null,he.createElement("clipPath",{id:"clipPath-".concat(P)},he.createElement("rect",{x:w?c:c-f/2,y:S?u:u-h/2,width:w?f:f*2,height:S?h:h*2}))):null,he.createElement(cr,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(P,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,P),(!p||x)&&Nu.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(z.PureComponent);fq=Vv;cu(Vv,"displayName","Bar");cu(Vv,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Jp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});cu(Vv,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,h=t.offset,p=RNe(r,n);if(!p)return null;var y=e.layout,b=n.type.defaultProps,x=b!==void 0?$r($r({},b),n.props):n.props,v=x.dataKey,w=x.children,S=x.minPointSize,A=y==="horizontal"?s:a,P=c?A.scale.domain():null,O=UNe({numericAxis:A}),I=co(w,BU),E=f.map(function(C,M){var N,k,j,B,G,Z;c?N=LNe(c[u+M],P):(N=Za(C,v),Array.isArray(N)||(N=[O,N]));var ie=Jke(S,fq.defaultProps.minPointSize)(N[1],M);if(y==="horizontal"){var X,ae=[s.scale(N[0]),s.scale(N[1])],ue=ae[0],de=ae[1];k=DL({axis:a,ticks:o,bandSize:i,offset:p.offset,entry:C,index:M}),j=(X=de??ue)!==null&&X!==void 0?X:void 0,B=p.size;var $=ue-de;if(G=Number.isNaN($)?0:$,Z={x:k,y:s.y,width:B,height:s.height},Math.abs(ie)>0&&Math.abs(G)<Math.abs(ie)){var K=so(G||ie)*(Math.abs(ie)-Math.abs(G));j-=K,G+=K}}else{var re=[a.scale(N[0]),a.scale(N[1])],se=re[0],le=re[1];if(k=se,j=DL({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:C,index:M}),B=le-se,G=p.size,Z={x:a.x,y:j,width:a.width,height:G},Math.abs(ie)>0&&Math.abs(B)<Math.abs(ie)){var me=so(B||ie)*(Math.abs(ie)-Math.abs(B));B+=me}}return $r($r($r({},C),{},{x:k,y:j,width:B,height:G,value:c?N:N[1],payload:C,background:Z},I&&I[M]&&I[M].props),{},{tooltipPayload:[Wz(n,C)],tooltipPosition:{x:k+B/2,y:j+G/2}})});return $r({data:E,layout:y},h)});function Jy(t){"@babel/helpers - typeof";return Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jy(t)}function c3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pq(r.key),r)}}function u3e(t,e,n){return e&&M6(t.prototype,e),n&&M6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function D6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D6(Object(n),!0).forEach(function(r){Sw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sw(t,e,n){return e=pq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pq(t){var e=f3e(t,"string");return Jy(e)=="symbol"?e:e+""}function f3e(t,e){if(Jy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var d3e=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!qa(c,Vv);return u.reduce(function(p,y){var b=n[y],x=b.orientation,v=b.domain,w=b.padding,S=w===void 0?{}:w,A=b.mirror,P=b.reversed,O="".concat(x).concat(A?"Mirror":""),I,E,C,M,N;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var k=v[1]-v[0],j=1/0,B=b.categoricalDomain.sort(hpe);if(B.forEach(function(re,se){se>0&&(j=Math.min((re||0)-(B[se-1]||0),j))}),Number.isFinite(j)){var G=j/k,Z=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(I=G*Z/2),b.padding==="no-gap"){var ie=id(e.barCategoryGap,G*Z),X=G*Z/2;I=X-ie-(X-ie)/Z*ie}}}i==="xAxis"?E=[r.left+(S.left||0)+(I||0),r.left+r.width-(S.right||0)-(I||0)]:i==="yAxis"?E=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(I||0),r.top+r.height-(S.bottom||0)-(I||0)]:E=b.range,P&&(E=[E[1],E[0]]);var ae=jNe(b,a,h),ue=ae.scale,de=ae.realScaleType;ue.domain(v).range(E),ONe(ue);var $=VNe(ue,ro(ro({},b),{},{realScaleType:de}));i==="xAxis"?(N=x==="top"&&!A||x==="bottom"&&A,C=r.left,M=f[O]-N*b.height):i==="yAxis"&&(N=x==="left"&&!A||x==="right"&&A,C=f[O]-N*b.width,M=r.top);var K=ro(ro(ro({},b),$),{},{realScaleType:de,x:C,y:M,scale:ue,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return K.bandSize=g2(K,$),!b.hide&&i==="xAxis"?f[O]+=(N?-1:1)*K.height:b.hide||(f[O]+=(N?-1:1)*K.width),ro(ro({},p),{},Sw({},y,K))},{})},mq=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},h3e=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return mq({x:n,y:r},{x:i,y:a})},gq=function(){function t(e){c3e(this,t),this.scale=e}return u3e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Sw(gq,"EPS",1e-4);var fk=function(e){var n=Object.keys(e).reduce(function(r,i){return ro(ro({},r),{},Sw({},i,gq.create(e[i])))},{});return ro(ro({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return jke(i,function(l,c){return n[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return uq(i,function(a,s){return n[s].isInRange(a)})}})};function p3e(t){return(t%180+180)%180}var m3e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=p3e(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},g3e=Wu,y3e=Mv,v3e=lw;function b3e(t){return function(e,n,r){var i=Object(e);if(!y3e(e)){var a=g3e(n);e=v3e(e),n=function(o){return a(i[o],o,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var x3e=b3e,w3e=sq;function _3e(t){var e=w3e(t),n=e%1;return e===e?n?e-n:e:0}var S3e=_3e,A3e=NU,N3e=Wu,E3e=S3e,P3e=Math.max;function T3e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:E3e(n);return i<0&&(i=P3e(r+i,0)),A3e(t,N3e(e),i)}var k3e=T3e,C3e=x3e,I3e=k3e,j3e=C3e(I3e),O3e=j3e;const R3e=Rn(O3e);var L3e=ghe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),dk=z.createContext(void 0),hk=z.createContext(void 0),yq=z.createContext(void 0),vq=z.createContext({}),bq=z.createContext(void 0),xq=z.createContext(0),wq=z.createContext(0),F6=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,u=L3e(a);return he.createElement(dk.Provider,{value:r},he.createElement(hk.Provider,{value:i},he.createElement(vq.Provider,{value:a},he.createElement(yq.Provider,{value:u},he.createElement(bq.Provider,{value:s},he.createElement(xq.Provider,{value:c},he.createElement(wq.Provider,{value:l},o)))))))},M3e=function(){return z.useContext(bq)},_q=function(e){var n=z.useContext(dk);n==null&&sd();var r=n[e];return r==null&&sd(),r},D3e=function(){var e=z.useContext(dk);return ru(e)},F3e=function(){var e=z.useContext(hk),n=R3e(e,function(r){return uq(r.domain,Number.isFinite)});return n||ru(e)},Sq=function(e){var n=z.useContext(hk);n==null&&sd();var r=n[e];return r==null&&sd(),r},$3e=function(){var e=z.useContext(yq);return e},B3e=function(){return z.useContext(vq)},pk=function(){return z.useContext(wq)},mk=function(){return z.useContext(xq)};function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function V3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U3e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nq(r.key),r)}}function z3e(t,e,n){return e&&U3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function q3e(t,e,n){return e=I2(e),W3e(t,Aq()?Reflect.construct(e,n||[],I2(t).constructor):e.apply(t,n))}function W3e(t,e){if(e&&(xp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H3e(t)}function H3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Aq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Aq=function(){return!!t})()}function I2(t){return I2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},I2(t)}function G3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZN(t,e)}function ZN(t,e){return ZN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZN(t,e)}function $6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$6(Object(n),!0).forEach(function(r){gk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gk(t,e,n){return e=Nq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nq(t){var e=K3e(t,"string");return xp(e)=="symbol"?e:e+""}function K3e(t,e){if(xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Y3e(t,e){return Z3e(t)||J3e(t,e)||Q3e(t,e)||X3e()}function X3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q3e(t,e){if(t){if(typeof t=="string")return V6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V6(t,e)}}function V6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function J3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Z3e(t){if(Array.isArray(t))return t}function eE(){return eE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eE.apply(this,arguments)}var eCe=function(e,n){var r;return he.isValidElement(e)?r=he.cloneElement(e,n):Ut(e)?r=e(n):r=he.createElement("line",eE({},n,{className:"recharts-reference-line-line"})),r},tCe=function(e,n,r,i,a,s,o,l,c){var u=a.x,f=a.y,h=a.width,p=a.height;if(r){var y=c.y,b=e.y.apply(y,{position:s});if(el(c,"discard")&&!e.y.isInRange(b))return null;var x=[{x:u+h,y:b},{x:u,y:b}];return l==="left"?x.reverse():x}if(n){var v=c.x,w=e.x.apply(v,{position:s});if(el(c,"discard")&&!e.x.isInRange(w))return null;var S=[{x:w,y:f+p},{x:w,y:f}];return o==="top"?S.reverse():S}if(i){var A=c.segment,P=A.map(function(O){return e.apply(O,{position:s})});return el(c,"discard")&&Ake(P,function(O){return!e.isInRange(O)})?null:P}return null};function nCe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=M3e(),u=_q(i),f=Sq(a),h=$3e();if(!c||!h)return null;Hl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=fk({x:u.scale,y:f.scale}),y=ti(e),b=ti(n),x=r&&r.length===2,v=tCe(p,y,b,x,h,t.position,u.orientation,f.orientation,t);if(!v)return null;var w=Y3e(v,2),S=w[0],A=S.x,P=S.y,O=w[1],I=O.x,E=O.y,C=el(t,"hidden")?"url(#".concat(c,")"):void 0,M=B6(B6({clipPath:C},Ht(t,!0)),{},{x1:A,y1:P,x2:I,y2:E});return he.createElement(cr,{className:on("recharts-reference-line",o)},eCe(s,M),Ki.renderCallByParent(t,h3e({x1:A,y1:P,x2:I,y2:E})))}var yk=function(t){function e(){return V3e(this,e),q3e(this,e,arguments)}return G3e(e,t),z3e(e,[{key:"render",value:function(){return he.createElement(nCe,this.props)}}])}(he.Component);gk(yk,"displayName","ReferenceLine");gk(yk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function tE(){return tE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tE.apply(this,arguments)}function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function U6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U6(Object(n),!0).forEach(function(r){Aw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pq(r.key),r)}}function aCe(t,e,n){return e&&iCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sCe(t,e,n){return e=j2(e),oCe(t,Eq()?Reflect.construct(e,n||[],j2(t).constructor):e.apply(t,n))}function oCe(t,e){if(e&&(wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lCe(t)}function lCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Eq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Eq=function(){return!!t})()}function j2(t){return j2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},j2(t)}function cCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nE(t,e)}function nE(t,e){return nE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nE(t,e)}function Aw(t,e,n){return e=Pq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pq(t){var e=uCe(t,"string");return wp(e)=="symbol"?e:e+""}function uCe(t,e){if(wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fCe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=fk({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return el(e,"discard")&&!s.isInRange(o)?null:o},Nw=function(t){function e(){return rCe(this,e),sCe(this,e,arguments)}return cCe(e,t),aCe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,l=r.clipPathId,c=ti(i),u=ti(a);if(Hl(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=fCe(this.props);if(!f)return null;var h=f.x,p=f.y,y=this.props,b=y.shape,x=y.className,v=el(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=z6(z6({clipPath:v},Ht(this.props,!0)),{},{cx:h,cy:p});return he.createElement(cr,{className:on("recharts-reference-dot",x)},e.renderDot(b,w),Ki.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(he.Component);Aw(Nw,"displayName","ReferenceDot");Aw(Nw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Aw(Nw,"renderDot",function(t,e){var n;return he.isValidElement(t)?n=he.cloneElement(t,e):Ut(t)?n=t(e):n=he.createElement(uk,tE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function rE(){return rE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rE.apply(this,arguments)}function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function q6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q6(Object(n),!0).forEach(function(r){Ew(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kq(r.key),r)}}function pCe(t,e,n){return e&&hCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mCe(t,e,n){return e=O2(e),gCe(t,Tq()?Reflect.construct(e,n||[],O2(t).constructor):e.apply(t,n))}function gCe(t,e){if(e&&(_p(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yCe(t)}function yCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tq=function(){return!!t})()}function O2(t){return O2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},O2(t)}function vCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iE(t,e)}function iE(t,e){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iE(t,e)}function Ew(t,e,n){return e=kq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kq(t){var e=bCe(t,"string");return _p(e)=="symbol"?e:e+""}function bCe(t,e){if(_p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xCe=function(e,n,r,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var h=fk({x:u.scale,y:f.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return el(a,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:mq(p,y)},Pw=function(t){function e(){return dCe(this,e),mCe(this,e,arguments)}return vCe(e,t),pCe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;Hl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ti(i),h=ti(a),p=ti(s),y=ti(o),b=this.props.shape;if(!f&&!h&&!p&&!y&&!b)return null;var x=xCe(f,h,p,y,this.props);if(!x&&!b)return null;var v=el(this.props,"hidden")?"url(#".concat(u,")"):void 0;return he.createElement(cr,{className:on("recharts-reference-area",l)},e.renderRect(b,W6(W6({clipPath:v},Ht(this.props,!0)),x)),Ki.renderCallByParent(this.props,x))}}])}(he.Component);Ew(Pw,"displayName","ReferenceArea");Ew(Pw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ew(Pw,"renderRect",function(t,e){var n;return he.isValidElement(t)?n=he.cloneElement(t,e):Ut(t)?n=t(e):n=he.createElement(ck,rE({},e,{className:"recharts-reference-area-rect"})),n});function Cq(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function wCe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return m3e(r,n)}function _Ce(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function R2(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function SCe(t,e){return Cq(t,e+1)}function ACe(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,l=0,c=1,u=s,f=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:Cq(r,c)};var b=l,x,v=function(){return x===void 0&&(x=n(y,b)),x},w=y.coordinate,S=l===0||R2(t,w,v,u,o);S||(l=0,u=s,c+=1),S&&(u=w+t*(v()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function Zy(t){"@babel/helpers - typeof";return Zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zy(t)}function H6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H6(Object(n),!0).forEach(function(r){NCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NCe(t,e,n){return e=ECe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ECe(t){var e=PCe(t,"string");return Zy(e)=="symbol"?e:e+""}function PCe(t,e){if(Zy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TCe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,l=e.end,c=function(h){var p=a[h],y,b=function(){return y===void 0&&(y=n(p,h)),y};if(h===s-1){var x=t*(p.coordinate+t*b()/2-l);a[h]=p=qi(qi({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate})}else a[h]=p=qi(qi({},p),{},{tickCoord:p.coordinate});var v=R2(t,p.tickCoord,b,o,l);v&&(l=p.tickCoord-t*(b()/2+i),a[h]=qi(qi({},p),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}function kCe(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,l=e.start,c=e.end;if(a){var u=r[o-1],f=n(u,o-1),h=t*(u.coordinate+t*f/2-c);s[o-1]=u=qi(qi({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var p=R2(t,u.tickCoord,function(){return f},l,c);p&&(c=u.tickCoord-t*(f/2+i),s[o-1]=qi(qi({},u),{},{isShow:!0}))}for(var y=a?o-1:o,b=function(w){var S=s[w],A,P=function(){return A===void 0&&(A=n(S,w)),A};if(w===0){var O=t*(S.coordinate-t*P()/2-l);s[w]=S=qi(qi({},S),{},{tickCoord:O<0?S.coordinate-O*t:S.coordinate})}else s[w]=S=qi(qi({},S),{},{tickCoord:S.coordinate});var I=R2(t,S.tickCoord,P,l,c);I&&(l=S.tickCoord+t*(P()/2+i),s[w]=qi(qi({},S),{},{isShow:!0}))},x=0;x<y;x++)b(x);return s}function vk(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Ue(l)||Jp.isSsr)return SCe(i,typeof l=="number"&&Ue(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",y=u&&p==="width"?Cg(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(S,A){var P=Ut(c)?c(S.value,A):S.value;return p==="width"?wCe(Cg(P,{fontSize:e,letterSpacing:n}),y,f):Cg(P,{fontSize:e,letterSpacing:n})[p]},x=i.length>=2?so(i[1].coordinate-i[0].coordinate):1,v=_Ce(a,x,p);return l==="equidistantPreserveStart"?ACe(x,v,b,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=kCe(x,v,b,i,s,l==="preserveStartEnd"):h=TCe(x,v,b,i,s),h.filter(function(w){return w.isShow}))}var CCe=["viewBox"],ICe=["viewBox"],jCe=["ticks"];function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function yh(){return yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yh.apply(this,arguments)}function G6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G6(Object(n),!0).forEach(function(r){bk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b_(t,e){if(t==null)return{};var n=OCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jq(r.key),r)}}function LCe(t,e,n){return e&&K6(t.prototype,e),n&&K6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function MCe(t,e,n){return e=L2(e),DCe(t,Iq()?Reflect.construct(e,n||[],L2(t).constructor):e.apply(t,n))}function DCe(t,e){if(e&&(Sp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FCe(t)}function FCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Iq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iq=function(){return!!t})()}function L2(t){return L2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},L2(t)}function $Ce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aE(t,e)}function aE(t,e){return aE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aE(t,e)}function bk(t,e,n){return e=jq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jq(t){var e=BCe(t,"string");return Sp(e)=="symbol"?e:e+""}function BCe(t,e){if(Sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nm=function(t){function e(n){var r;return RCe(this,e),r=MCe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return $Ce(e,t),LCe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=b_(r,CCe),o=this.props,l=o.viewBox,c=b_(o,ICe);return!Ih(a,l)||!Ih(s,c)||!Ih(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,h=i.tickMargin,p,y,b,x,v,w,S=f?-1:1,A=r.tickSize||u,P=Ue(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=y=r.coordinate,x=s+ +!f*l,b=x-S*A,w=b-S*h,v=P;break;case"left":b=x=r.coordinate,y=a+ +!f*o,p=y-S*A,v=p-S*h,w=P;break;case"right":b=x=r.coordinate,y=a+ +f*o,p=y+S*A,v=p+S*h,w=P;break;default:p=y=r.coordinate,x=s+ +f*l,b=x+S*A,w=b+S*h,v=P;break}return{line:{x1:p,y1:b,x2:y,y2:x},tick:{x:v,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,f=Xr(Xr(Xr({},Ht(this.props,!1)),Ht(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Xr(Xr({},f),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=Xr(Xr({},f),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+o})}return he.createElement("line",yh({},f,{className:on("recharts-cartesian-axis-line",Rs(u,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,h=o.unit,p=vk(Xr(Xr({},this.props),{},{ticks:r}),i,a),y=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),x=Ht(this.props,!1),v=Ht(u,!1),w=Xr(Xr({},x),{},{fill:"none"},Ht(l,!1)),S=p.map(function(A,P){var O=s.getTickLineCoord(A),I=O.line,E=O.tick,C=Xr(Xr(Xr(Xr({textAnchor:y,verticalAnchor:b},x),{},{stroke:"none",fill:c},v),E),{},{index:P,payload:A,visibleTicksCount:p.length,tickFormatter:f});return he.createElement(cr,yh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},Vb(s.props,A,P)),l&&he.createElement("line",yh({},w,I,{className:on("recharts-cartesian-axis-tick-line",Rs(l,"className"))})),u&&e.renderTickItem(u,C,"".concat(Ut(f)?f(A.value,P):A.value).concat(h||"")))});return he.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,h=f.ticks,p=b_(f,jCe),y=h;return Ut(l)&&(y=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!y||!y.length?null:he.createElement(cr,{className:on("recharts-cartesian-axis",c),ref:function(x){r.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Ki.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,o=on(i.className,"recharts-cartesian-axis-tick-value");return he.isValidElement(r)?s=he.cloneElement(r,Xr(Xr({},i),{},{className:o})):Ut(r)?s=r(Xr(Xr({},i),{},{className:o})):s=he.createElement(t2,yh({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(z.Component);bk(nm,"displayName","CartesianAxis");bk(nm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var VCe=["x1","y1","x2","y2","key"],UCe=["offset"];function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function Y6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y6(Object(n),!0).forEach(function(r){zCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zCe(t,e,n){return e=qCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qCe(t){var e=WCe(t,"string");return od(e)=="symbol"?e:e+""}function WCe(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rf(){return Rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rf.apply(this,arguments)}function X6(t,e){if(t==null)return{};var n=HCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var GCe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return he.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Oq(t,e){var n;if(he.isValidElement(t))n=he.cloneElement(t,e);else if(Ut(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=X6(e,VCe),c=Ht(l,!1);c.offset;var u=X6(c,UCe);n=he.createElement("line",Rf({},u,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function KCe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Yi(Yi({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return Oq(i,c)});return he.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function YCe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Yi(Yi({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return Oq(i,c)});return he.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function XCe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var y=!u[p+1],b=y?i+s-h:u[p+1]-h;if(b<=0)return null;var x=p%e.length;return he.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:b,width:a,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return he.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function QCe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var y=!u[p+1],b=y?a+o-h:u[p+1]-h;if(b<=0)return null;var x=p%r.length;return he.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:b,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return he.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var JCe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return zz(vk(Yi(Yi(Yi({},nm.defaultProps),r),{},{ticks:$l(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},ZCe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return zz(vk(Yi(Yi(Yi({},nm.defaultProps),r),{},{ticks:$l(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},Vd={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Rq(t){var e,n,r,i,a,s,o=pk(),l=mk(),c=B3e(),u=Yi(Yi({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Vd.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Vd.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Vd.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Vd.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Vd.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Vd.verticalFill,x:Ue(t.x)?t.x:c.left,y:Ue(t.y)?t.y:c.top,width:Ue(t.width)?t.width:c.width,height:Ue(t.height)?t.height:c.height}),f=u.x,h=u.y,p=u.width,y=u.height,b=u.syncWithTicks,x=u.horizontalValues,v=u.verticalValues,w=D3e(),S=F3e();if(!Ue(p)||p<=0||!Ue(y)||y<=0||!Ue(f)||f!==+f||!Ue(h)||h!==+h)return null;var A=u.verticalCoordinatesGenerator||JCe,P=u.horizontalCoordinatesGenerator||ZCe,O=u.horizontalPoints,I=u.verticalPoints;if((!O||!O.length)&&Ut(P)){var E=x&&x.length,C=P({yAxis:S?Yi(Yi({},S),{},{ticks:E?x:S.ticks}):void 0,width:o,height:l,offset:c},E?!0:b);Hl(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(od(C),"]")),Array.isArray(C)&&(O=C)}if((!I||!I.length)&&Ut(A)){var M=v&&v.length,N=A({xAxis:w?Yi(Yi({},w),{},{ticks:M?v:w.ticks}):void 0,width:o,height:l,offset:c},M?!0:b);Hl(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(od(N),"]")),Array.isArray(N)&&(I=N)}return he.createElement("g",{className:"recharts-cartesian-grid"},he.createElement(GCe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),he.createElement(KCe,Rf({},u,{offset:c,horizontalPoints:O,xAxis:w,yAxis:S})),he.createElement(YCe,Rf({},u,{offset:c,verticalPoints:I,xAxis:w,yAxis:S})),he.createElement(XCe,Rf({},u,{horizontalPoints:O})),he.createElement(QCe,Rf({},u,{verticalPoints:I})))}Rq.displayName="CartesianGrid";var eIe=["layout","type","stroke","connectNulls","isRange","ref"],tIe=["key"],Lq;function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function Mq(t,e){if(t==null)return{};var n=nIe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lf(){return Lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lf.apply(this,arguments)}function Q6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q6(Object(n),!0).forEach(function(r){zo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fq(r.key),r)}}function iIe(t,e,n){return e&&J6(t.prototype,e),n&&J6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aIe(t,e,n){return e=M2(e),sIe(t,Dq()?Reflect.construct(e,n||[],M2(t).constructor):e.apply(t,n))}function sIe(t,e){if(e&&(Ap(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oIe(t)}function oIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dq=function(){return!!t})()}function M2(t){return M2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},M2(t)}function lIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sE(t,e)}function sE(t,e){return sE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sE(t,e)}function zo(t,e,n){return e=Fq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fq(t){var e=cIe(t,"string");return Ap(e)=="symbol"?e:e+""}function cIe(t,e){if(Ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yu=function(t){function e(){var n;rIe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=aIe(this,e,[].concat(i)),zo(n,"state",{isAnimationFinished:!0}),zo(n,"id",Lv("recharts-area-")),zo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ut(s)&&s()}),zo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ut(s)&&s()}),n}return lIe(e,t),iIe(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,h=Ht(this.props,!1),p=Ht(c,!0),y=u.map(function(x,v){var w=Hc(Hc(Hc({key:"dot-".concat(v),r:3},h),p),{},{index:v,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:u});return e.renderDotItem(c,w)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return he.createElement(cr,Lf({className:"recharts-area-dots"},b),y)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].x,c=s[s.length-1].x,u=r*Math.abs(l-c),f=lu(s.map(function(h){return h.y||0}));return Ue(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(lu(a.map(function(h){return h.y||0})),f)),Ue(f)?he.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].y,c=s[s.length-1].y,u=r*Math.abs(l-c),f=lu(s.map(function(h){return h.x||0}));return Ue(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(lu(a.map(function(h){return h.x||0})),f)),Ue(f)?he.createElement("rect",{x:0,y:l<c?l:l-u,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var o=this.props,l=o.layout,c=o.type,u=o.stroke,f=o.connectNulls,h=o.isRange;o.ref;var p=Mq(o,eIe);return he.createElement(cr,{clipPath:a?"url(#clipPath-".concat(s,")"):null},he.createElement(Og,Lf({},Ht(p,!0),{points:r,connectNulls:f,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&he.createElement(Og,Lf({},Ht(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:r})),u!=="none"&&h&&he.createElement(Og,Lf({},Ht(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,y=this.state,b=y.prevPoints,x=y.prevBaseLine;return he.createElement(uc,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var w=v.t;if(b){var S=b.length/o.length,A=o.map(function(E,C){var M=Math.floor(C*S);if(b[M]){var N=b[M],k=As(N.x,E.x),j=As(N.y,E.y);return Hc(Hc({},E),{},{x:k(w),y:j(w)})}return E}),P;if(Ue(l)&&typeof l=="number"){var O=As(x,l);P=O(w)}else if(Jt(l)||Kp(l)){var I=As(x,0);P=I(w)}else P=l.map(function(E,C){var M=Math.floor(C*S);if(x[M]){var N=x[M],k=As(N.x,E.x),j=As(N.y,E.y);return Hc(Hc({},E),{},{x:k(w),y:j(w)})}return E});return a.renderAreaStatically(A,P,r,i)}return he.createElement(cr,null,he.createElement("defs",null,he.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(w))),he.createElement(cr,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,o=a.baseLine,l=a.isAnimationActive,c=this.state,u=c.prevPoints,f=c.prevBaseLine,h=c.totalLength;return l&&s&&s.length&&(!u&&h>0||!jy(u,s)||!jy(f,o))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.top,u=i.left,f=i.xAxis,h=i.yAxis,p=i.width,y=i.height,b=i.isAnimationActive,x=i.id;if(a||!o||!o.length)return null;var v=this.state.isAnimationFinished,w=o.length===1,S=on("recharts-area",l),A=f&&f.allowDataOverflow,P=h&&h.allowDataOverflow,O=A||P,I=Jt(x)?this.id:x,E=(r=Ht(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=E.r,M=C===void 0?3:C,N=E.strokeWidth,k=N===void 0?2:N,j=_pe(s)?s:{},B=j.clipDot,G=B===void 0?!0:B,Z=M*2+k;return he.createElement(cr,{className:S},A||P?he.createElement("defs",null,he.createElement("clipPath",{id:"clipPath-".concat(I)},he.createElement("rect",{x:A?u:u-p/2,y:P?c:c-y/2,width:A?p:p*2,height:P?y:y*2})),!G&&he.createElement("clipPath",{id:"clipPath-dots-".concat(I)},he.createElement("rect",{x:u-Z/2,y:c-Z/2,width:p+Z,height:y+Z}))):null,w?null:this.renderArea(O,I),(s||w)&&this.renderDots(O,G,I),(!b||v)&&Nu.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(z.PureComponent);Lq=Yu;zo(Yu,"displayName","Area");zo(Yu,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Jp.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});zo(Yu,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,o=s??a;if(Ue(o)&&typeof o=="number")return o;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return o==="dataMin"?f:o==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]});zo(Yu,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,h=t.offset,p=e.layout,y=c&&c.length,b=Lq.getBaseValue(e,n,r,i),x=p==="horizontal",v=!1,w=f.map(function(A,P){var O;y?O=c[u+P]:(O=Za(A,l),Array.isArray(O)?v=!0:O=[b,O]);var I=O[1]==null||y&&Za(A,l)==null;return x?{x:ML({axis:r,ticks:a,bandSize:o,entry:A,index:P}),y:I?null:i.scale(O[1]),value:O,payload:A}:{x:I?null:r.scale(O[1]),y:ML({axis:i,ticks:s,bandSize:o,entry:A,index:P}),value:O,payload:A}}),S;return y||v?S=w.map(function(A){var P=Array.isArray(A.value)?A.value[0]:null;return x?{x:A.x,y:P!=null&&A.y!=null?i.scale(P):null}:{x:P!=null?r.scale(P):null,y:A.y}}):S=x?i.scale(b):r.scale(b),Hc({points:w,baseLine:S,layout:p,isRange:v},h)});zo(Yu,"renderDotItem",function(t,e){var n;if(he.isValidElement(t))n=he.cloneElement(t,e);else if(Ut(t))n=t(e);else{var r=on("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=Mq(e,tIe);n=he.createElement(uk,Lf({},a,{key:i,className:r}))}return n});function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function uIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vq(r.key),r)}}function dIe(t,e,n){return e&&fIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hIe(t,e,n){return e=D2(e),pIe(t,$q()?Reflect.construct(e,n||[],D2(t).constructor):e.apply(t,n))}function pIe(t,e){if(e&&(Np(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mIe(t)}function mIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $q(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($q=function(){return!!t})()}function D2(t){return D2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},D2(t)}function gIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oE(t,e)}function oE(t,e){return oE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oE(t,e)}function Bq(t,e,n){return e=Vq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vq(t){var e=yIe(t,"string");return Np(e)=="symbol"?e:e+""}function yIe(t,e){if(Np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lE(){return lE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lE.apply(this,arguments)}function vIe(t){var e=t.xAxisId,n=pk(),r=mk(),i=_q(e);return i==null?null:z.createElement(nm,lE({},i,{className:on("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return $l(s,!0)}}))}var Tw=function(t){function e(){return uIe(this,e),hIe(this,e,arguments)}return gIe(e,t),dIe(e,[{key:"render",value:function(){return z.createElement(vIe,this.props)}}])}(z.Component);Bq(Tw,"displayName","XAxis");Bq(Tw,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}function bIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qq(r.key),r)}}function wIe(t,e,n){return e&&xIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Ie(t,e,n){return e=F2(e),SIe(t,Uq()?Reflect.construct(e,n||[],F2(t).constructor):e.apply(t,n))}function SIe(t,e){if(e&&(Ep(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AIe(t)}function AIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uq=function(){return!!t})()}function F2(t){return F2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},F2(t)}function NIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cE(t,e)}function cE(t,e){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cE(t,e)}function zq(t,e,n){return e=qq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qq(t){var e=EIe(t,"string");return Ep(e)=="symbol"?e:e+""}function EIe(t,e){if(Ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function uE(){return uE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uE.apply(this,arguments)}var PIe=function(e){var n=e.yAxisId,r=pk(),i=mk(),a=Sq(n);return a==null?null:z.createElement(nm,uE({},a,{className:on("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return $l(o,!0)}}))},kw=function(t){function e(){return bIe(this,e),_Ie(this,e,arguments)}return NIe(e,t),wIe(e,[{key:"render",value:function(){return z.createElement(PIe,this.props)}}])}(z.Component);zq(kw,"displayName","YAxis");zq(kw,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Z6(t){return IIe(t)||CIe(t)||kIe(t)||TIe()}function TIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kIe(t,e){if(t){if(typeof t=="string")return fE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fE(t,e)}}function CIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IIe(t){if(Array.isArray(t))return fE(t)}function fE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var dE=function(e,n,r,i,a){var s=co(e,yk),o=co(e,Nw),l=[].concat(Z6(s),Z6(o)),c=co(e,Pw),u="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(b,x){if(x.props[u]===r&&el(x.props,"extendDomain")&&Ue(x.props[f])){var v=x.props[f];return[Math.min(b[0],v),Math.max(b[1],v)]}return b},h)),c.length){var p="".concat(f,"1"),y="".concat(f,"2");h=c.reduce(function(b,x){if(x.props[u]===r&&el(x.props,"extendDomain")&&Ue(x.props[p])&&Ue(x.props[y])){var v=x.props[p],w=x.props[y];return[Math.min(b[0],v,w),Math.max(b[1],v,w)]}return b},h)}return a&&a.length&&(h=a.reduce(function(b,x){return Ue(x)?[Math.min(b[0],x),Math.max(b[1],x)]:b},h)),h},Wq={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||l,h),y=n?n+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],p]:l._events[y].push(p):(l._events[y]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,y=new Array(p);h<p;h++)y[h]=f[h].fn;return y},o.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,h,p,y){var b=n?n+c:c;if(!this._events[b])return!1;var x=this._events[b],v=arguments.length,w,S;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,f),!0;case 4:return x.fn.call(x.context,u,f,h),!0;case 5:return x.fn.call(x.context,u,f,h,p),!0;case 6:return x.fn.call(x.context,u,f,h,p,y),!0}for(S=1,w=new Array(v-1);S<v;S++)w[S-1]=arguments[S];x.fn.apply(x.context,w)}else{var A=x.length,P;for(S=0;S<A;S++)switch(x[S].once&&this.removeListener(c,x[S].fn,void 0,!0),v){case 1:x[S].fn.call(x[S].context);break;case 2:x[S].fn.call(x[S].context,u);break;case 3:x[S].fn.call(x[S].context,u,f);break;case 4:x[S].fn.call(x[S].context,u,f,h);break;default:if(!w)for(P=1,w=new Array(v-1);P<v;P++)w[P-1]=arguments[P];x[S].fn.apply(x[S].context,w)}}return!0},o.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,h){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var y=this._events[p];if(y.fn)y.fn===u&&(!h||y.once)&&(!f||y.context===f)&&s(this,p);else{for(var b=0,x=[],v=y.length;b<v;b++)(y[b].fn!==u||h&&!y[b].once||f&&y[b].context!==f)&&x.push(y[b]);x.length?this._events[p]=x.length===1?x[0]:x:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(Wq);var jIe=Wq.exports;const OIe=Rn(jIe);var x_=new OIe,w_="recharts.syncMouseEvents";function ev(t){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ev(t)}function RIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hq(r.key),r)}}function MIe(t,e,n){return e&&LIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function __(t,e,n){return e=Hq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hq(t){var e=DIe(t,"string");return ev(e)=="symbol"?e:e+""}function DIe(t,e){if(ev(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ev(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var FIe=function(){function t(){RIe(this,t),__(this,"activeIndex",0),__(this,"coordinateList",[]),__(this,"layout","horizontal")}return MIe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,l=n.layout,c=l===void 0?null:l,u=n.offset,f=u===void 0?null:u,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function $Ie(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Ue(r)&&Ue(i))return!0}return!1}function BIe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Gq(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=Ni(e,n,r,i),o=Ni(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function VIe(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,h=Ni(o,l,c,f),p=Ni(o,l,u,f);r=h.x,i=h.y,a=p.x,s=p.y}else return Gq(e);return[{x:r,y:i},{x:a,y:s}]}function tv(t){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tv(t)}function eM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eM(Object(n),!0).forEach(function(r){UIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UIe(t,e,n){return e=zIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zIe(t){var e=qIe(t,"string");return tv(e)=="symbol"?e:e+""}function qIe(t,e){if(tv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WIe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var y,b=Og;if(h==="ScatterChart")y=s,b=KTe;else if(h==="BarChart")y=BIe(f,s,l,u),b=ck;else if(f==="radial"){var x=Gq(s),v=x.cx,w=x.cy,S=x.radius,A=x.startAngle,P=x.endAngle;y={cx:v,cy:w,startAngle:A,endAngle:P,innerRadius:S,outerRadius:S},b=Kz}else y={points:VIe(f,s,l)},b=Og;var O=X0(X0(X0(X0({stroke:"#ccc",pointerEvents:"none"},l),y),Ht(p,!1)),{},{payload:o,payloadIndex:c,className:on("recharts-tooltip-cursor",p.className)});return z.isValidElement(p)?z.cloneElement(p,O):z.createElement(b,O)}var HIe=["item"],GIe=["children","className","width","height","style","compact","title","desc"];function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function vh(){return vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vh.apply(this,arguments)}function tM(t,e){return XIe(t)||YIe(t,e)||Yq(t,e)||KIe()}function KIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function XIe(t){if(Array.isArray(t))return t}function nM(t,e){if(t==null)return{};var n=QIe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xq(r.key),r)}}function eje(t,e,n){return e&&ZIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tje(t,e,n){return e=$2(e),nje(t,Kq()?Reflect.construct(e,n||[],$2(t).constructor):e.apply(t,n))}function nje(t,e){if(e&&(Pp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rje(t)}function rje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kq=function(){return!!t})()}function $2(t){return $2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$2(t)}function ije(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hE(t,e)}function hE(t,e){return hE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hE(t,e)}function Tp(t){return oje(t)||sje(t)||Yq(t)||aje()}function aje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yq(t,e){if(t){if(typeof t=="string")return pE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pE(t,e)}}function sje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oje(t){if(Array.isArray(t))return pE(t)}function pE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(n),!0).forEach(function(r){_t(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _t(t,e,n){return e=Xq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xq(t){var e=lje(t,"string");return Pp(e)=="symbol"?e:e+""}function lje(t,e){if(Pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cje={xAxis:["bottom","top"],yAxis:["left","right"]},uje={width:"100%",height:"100%"},Qq={x:0,y:0};function Q0(t){return t}var fje=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},dje=function(e,n,r,i){var a=n.find(function(u){return u&&u.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return Pe(Pe(Pe({},i),Ni(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return Pe(Pe(Pe({},i),Ni(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return Qq},Cw=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Tp(o),Tp(c)):o},[]);return s.length>0?s:e&&e.length&&Ue(i)&&Ue(a)?e.slice(i,a+1):[]};function Jq(t){return t==="number"?[0,"auto"]:void 0}var mE=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=Cw(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=$b(p,s.dataKey,i)}else h=f&&f[r]||o[r];return h?[].concat(Tp(l),[Wz(c,h)]):l},[])},iM=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=fje(a,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=ENe(s,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=mE(e,n,u,f),p=dje(r,o,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},hje=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,f=e.children,h=e.stackOffset,p=Uz(u,a);return r.reduce(function(y,b){var x,v=b.type.defaultProps!==void 0?Pe(Pe({},b.type.defaultProps),b.props):b.props,w=v.type,S=v.dataKey,A=v.allowDataOverflow,P=v.allowDuplicatedCategory,O=v.scale,I=v.ticks,E=v.includeHidden,C=v[s];if(y[C])return y;var M=Cw(e.data,{graphicalItems:i.filter(function($){var K,re=s in $.props?$.props[s]:(K=$.type.defaultProps)===null||K===void 0?void 0:K[s];return re===C}),dataStartIndex:l,dataEndIndex:c}),N=M.length,k,j,B;$Ie(v.domain,A,w)&&(k=RN(v.domain,null,A),p&&(w==="number"||O!=="auto")&&(B=jg(M,S,"category")));var G=Jq(w);if(!k||k.length===0){var Z,ie=(Z=v.domain)!==null&&Z!==void 0?Z:G;if(S){if(k=jg(M,S,w),w==="category"&&p){var X=dpe(k);P&&X?(j=k,k=E2(0,N)):P||(k=BL(ie,k,b).reduce(function($,K){return $.indexOf(K)>=0?$:[].concat(Tp($),[K])},[]))}else if(w==="category")P?k=k.filter(function($){return $!==""&&!Jt($)}):k=BL(ie,k,b).reduce(function($,K){return $.indexOf(K)>=0||K===""||Jt(K)?$:[].concat(Tp($),[K])},[]);else if(w==="number"){var ae=INe(M,i.filter(function($){var K,re,se=s in $.props?$.props[s]:(K=$.type.defaultProps)===null||K===void 0?void 0:K[s],le="hide"in $.props?$.props.hide:(re=$.type.defaultProps)===null||re===void 0?void 0:re.hide;return se===C&&(E||!le)}),S,a,u);ae&&(k=ae)}p&&(w==="number"||O!=="auto")&&(B=jg(M,S,"category"))}else p?k=E2(0,N):o&&o[C]&&o[C].hasStack&&w==="number"?k=h==="expand"?[0,1]:qz(o[C].stackGroups,l,c):k=Vz(M,i.filter(function($){var K=s in $.props?$.props[s]:$.type.defaultProps[s],re="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return K===C&&(E||!re)}),w,u,!0);if(w==="number")k=dE(f,k,C,a,I),ie&&(k=RN(ie,k,A));else if(w==="category"&&ie){var ue=ie,de=k.every(function($){return ue.indexOf($)>=0});de&&(k=ue)}}return Pe(Pe({},y),{},_t({},C,Pe(Pe({},v),{},{axisType:a,domain:k,categoricalDomain:B,duplicateDomain:j,originalDomain:(x=v.domain)!==null&&x!==void 0?x:G,isCategorical:p,layout:u})))},{})},pje=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,f=e.children,h=Cw(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=h.length,y=Uz(u,a),b=-1;return r.reduce(function(x,v){var w=v.type.defaultProps!==void 0?Pe(Pe({},v.type.defaultProps),v.props):v.props,S=w[s],A=Jq("number");if(!x[S]){b++;var P;return y?P=E2(0,p):o&&o[S]&&o[S].hasStack?(P=qz(o[S].stackGroups,l,c),P=dE(f,P,S,a)):(P=RN(A,Vz(h,r.filter(function(O){var I,E,C=s in O.props?O.props[s]:(I=O.type.defaultProps)===null||I===void 0?void 0:I[s],M="hide"in O.props?O.props.hide:(E=O.type.defaultProps)===null||E===void 0?void 0:E.hide;return C===S&&!M}),"number",u),i.defaultProps.allowDataOverflow),P=dE(f,P,S,a)),Pe(Pe({},x),{},_t({},S,Pe(Pe({axisType:a},i.defaultProps),{},{hide:!0,orientation:Rs(cje,"".concat(a,".").concat(b%2),null),domain:P,originalDomain:A,isCategorical:y,layout:u})))}return x},{})},mje=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,f="".concat(i,"Id"),h=co(u,a),p={};return h&&h.length?p=hje(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=pje(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},gje=function(e){var n=ru(e),r=$l(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:M4(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:g2(n,r)}},aM=function(e){var n=e.children,r=e.defaultShowTooltip,i=qa(n,vp),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},yje=function(e){return!e||!e.length?!1:e.some(function(n){var r=Wl(n&&n.type);return r&&r.indexOf("Bar")>=0})},sM=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},vje=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,u=r.height,f=r.children,h=r.margin||{},p=qa(f,vp),y=qa(f,jh),b=Object.keys(l).reduce(function(P,O){var I=l[O],E=I.orientation;return!I.mirror&&!I.hide?Pe(Pe({},P),{},_t({},E,P[E]+I.width)):P},{left:h.left||0,right:h.right||0}),x=Object.keys(s).reduce(function(P,O){var I=s[O],E=I.orientation;return!I.mirror&&!I.hide?Pe(Pe({},P),{},_t({},E,Rs(P,"".concat(E))+I.height)):P},{top:h.top||0,bottom:h.bottom||0}),v=Pe(Pe({},x),b),w=v.bottom;p&&(v.bottom+=p.props.height||vp.defaultProps.height),y&&n&&(v=kNe(v,i,r,n));var S=c-v.left-v.right,A=u-v.top-v.bottom;return Pe(Pe({brushBottom:w},v),{},{width:Math.max(S,0),height:Math.max(A,0)})},bje=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},xje=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,h=function(v,w){var S=w.graphicalItems,A=w.stackGroups,P=w.offset,O=w.updateId,I=w.dataStartIndex,E=w.dataEndIndex,C=v.barSize,M=v.layout,N=v.barGap,k=v.barCategoryGap,j=v.maxBarSize,B=sM(M),G=B.numericAxisName,Z=B.cateAxisName,ie=yje(S),X=[];return S.forEach(function(ae,ue){var de=Cw(v.data,{graphicalItems:[ae],dataStartIndex:I,dataEndIndex:E}),$=ae.type.defaultProps!==void 0?Pe(Pe({},ae.type.defaultProps),ae.props):ae.props,K=$.dataKey,re=$.maxBarSize,se=$["".concat(G,"Id")],le=$["".concat(Z,"Id")],me={},Se=l.reduce(function(qe,nt){var rt=w["".concat(nt.axisType,"Map")],Wt=$["".concat(nt.axisType,"Id")];rt&&rt[Wt]||nt.axisType==="zAxis"||sd();var Mt=rt[Wt];return Pe(Pe({},qe),{},_t(_t({},nt.axisType,Mt),"".concat(nt.axisType,"Ticks"),$l(Mt)))},me),ce=Se[Z],xe=Se["".concat(Z,"Ticks")],Ne=A&&A[se]&&A[se].hasStack&&zNe(ae,A[se].stackGroups),ye=Wl(ae.type).indexOf("Bar")>=0,Me=g2(ce,xe),$e=[],q=ie&&PNe({barSize:C,stackGroups:A,totalSize:bje(Se,Z)});if(ye){var Ie,Ye,Ze=Jt(re)?j:re,je=(Ie=(Ye=g2(ce,xe,!0))!==null&&Ye!==void 0?Ye:Ze)!==null&&Ie!==void 0?Ie:0;$e=TNe({barGap:N,barCategoryGap:k,bandSize:je!==Me?je:Me,sizeList:q[le],maxBarSize:Ze}),je!==Me&&($e=$e.map(function(qe){return Pe(Pe({},qe),{},{position:Pe(Pe({},qe.position),{},{offset:qe.position.offset-je/2})})}))}var tt=ae&&ae.type&&ae.type.getComposedData;tt&&X.push({props:Pe(Pe({},tt(Pe(Pe({},Se),{},{displayedData:de,props:v,dataKey:K,item:ae,bandSize:Me,barPosition:$e,offset:P,stackedData:Ne,layout:M,dataStartIndex:I,dataEndIndex:E}))),{},_t(_t(_t({key:ae.key||"item-".concat(ue)},G,Se[G]),Z,Se[Z]),"animationId",O)),childIndex:Npe(ae,v.children),item:ae})}),X},p=function(v,w){var S=v.props,A=v.dataStartIndex,P=v.dataEndIndex,O=v.updateId;if(!OO({props:S}))return null;var I=S.children,E=S.layout,C=S.stackOffset,M=S.data,N=S.reverseStackOrder,k=sM(E),j=k.numericAxisName,B=k.cateAxisName,G=co(I,r),Z=BNe(M,G,"".concat(j,"Id"),"".concat(B,"Id"),C,N),ie=l.reduce(function($,K){var re="".concat(K.axisType,"Map");return Pe(Pe({},$),{},_t({},re,mje(S,Pe(Pe({},K),{},{graphicalItems:G,stackGroups:K.axisType===j&&Z,dataStartIndex:A,dataEndIndex:P}))))},{}),X=vje(Pe(Pe({},ie),{},{props:S,graphicalItems:G}),w==null?void 0:w.legendBBox);Object.keys(ie).forEach(function($){ie[$]=u(S,ie[$],X,$.replace("Map",""),n)});var ae=ie["".concat(B,"Map")],ue=gje(ae),de=h(S,Pe(Pe({},ie),{},{dataStartIndex:A,dataEndIndex:P,updateId:O,graphicalItems:G,stackGroups:Z,offset:X}));return Pe(Pe({formattedGraphicalItems:de,graphicalItems:G,offset:X,stackGroups:Z},ue),ie)},y=function(x){function v(w){var S,A,P;return JIe(this,v),P=tje(this,v,[w]),_t(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_t(P,"accessibilityManager",new FIe),_t(P,"handleLegendBBoxUpdate",function(O){if(O){var I=P.state,E=I.dataStartIndex,C=I.dataEndIndex,M=I.updateId;P.setState(Pe({legendBBox:O},p({props:P.props,dataStartIndex:E,dataEndIndex:C,updateId:M},Pe(Pe({},P.state),{},{legendBBox:O}))))}}),_t(P,"handleReceiveSyncEvent",function(O,I,E){if(P.props.syncId===O){if(E===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(I)}}),_t(P,"handleBrushChange",function(O){var I=O.startIndex,E=O.endIndex;if(I!==P.state.dataStartIndex||E!==P.state.dataEndIndex){var C=P.state.updateId;P.setState(function(){return Pe({dataStartIndex:I,dataEndIndex:E},p({props:P.props,dataStartIndex:I,dataEndIndex:E,updateId:C},P.state))}),P.triggerSyncEvent({dataStartIndex:I,dataEndIndex:E})}}),_t(P,"handleMouseEnter",function(O){var I=P.getMouseInfo(O);if(I){var E=Pe(Pe({},I),{},{isTooltipActive:!0});P.setState(E),P.triggerSyncEvent(E);var C=P.props.onMouseEnter;Ut(C)&&C(E,O)}}),_t(P,"triggeredAfterMouseMove",function(O){var I=P.getMouseInfo(O),E=I?Pe(Pe({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(E),P.triggerSyncEvent(E);var C=P.props.onMouseMove;Ut(C)&&C(E,O)}),_t(P,"handleItemMouseEnter",function(O){P.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),_t(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),_t(P,"handleMouseMove",function(O){O.persist(),P.throttleTriggeredAfterMouseMove(O)}),_t(P,"handleMouseLeave",function(O){P.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};P.setState(I),P.triggerSyncEvent(I);var E=P.props.onMouseLeave;Ut(E)&&E(I,O)}),_t(P,"handleOuterEvent",function(O){var I=Ape(O),E=Rs(P.props,"".concat(I));if(I&&Ut(E)){var C,M;/.*touch.*/i.test(I)?M=P.getMouseInfo(O.changedTouches[0]):M=P.getMouseInfo(O),E((C=M)!==null&&C!==void 0?C:{},O)}}),_t(P,"handleClick",function(O){var I=P.getMouseInfo(O);if(I){var E=Pe(Pe({},I),{},{isTooltipActive:!0});P.setState(E),P.triggerSyncEvent(E);var C=P.props.onClick;Ut(C)&&C(E,O)}}),_t(P,"handleMouseDown",function(O){var I=P.props.onMouseDown;if(Ut(I)){var E=P.getMouseInfo(O);I(E,O)}}),_t(P,"handleMouseUp",function(O){var I=P.props.onMouseUp;if(Ut(I)){var E=P.getMouseInfo(O);I(E,O)}}),_t(P,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),_t(P,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&P.handleMouseDown(O.changedTouches[0])}),_t(P,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&P.handleMouseUp(O.changedTouches[0])}),_t(P,"handleDoubleClick",function(O){var I=P.props.onDoubleClick;if(Ut(I)){var E=P.getMouseInfo(O);I(E,O)}}),_t(P,"handleContextMenu",function(O){var I=P.props.onContextMenu;if(Ut(I)){var E=P.getMouseInfo(O);I(E,O)}}),_t(P,"triggerSyncEvent",function(O){P.props.syncId!==void 0&&x_.emit(w_,P.props.syncId,O,P.eventEmitterSymbol)}),_t(P,"applySyncEvent",function(O){var I=P.props,E=I.layout,C=I.syncMethod,M=P.state.updateId,N=O.dataStartIndex,k=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)P.setState(Pe({dataStartIndex:N,dataEndIndex:k},p({props:P.props,dataStartIndex:N,dataEndIndex:k,updateId:M},P.state)));else if(O.activeTooltipIndex!==void 0){var j=O.chartX,B=O.chartY,G=O.activeTooltipIndex,Z=P.state,ie=Z.offset,X=Z.tooltipTicks;if(!ie)return;if(typeof C=="function")G=C(X,O);else if(C==="value"){G=-1;for(var ae=0;ae<X.length;ae++)if(X[ae].value===O.activeLabel){G=ae;break}}var ue=Pe(Pe({},ie),{},{x:ie.left,y:ie.top}),de=Math.min(j,ue.x+ue.width),$=Math.min(B,ue.y+ue.height),K=X[G]&&X[G].value,re=mE(P.state,P.props.data,G),se=X[G]?{x:E==="horizontal"?X[G].coordinate:de,y:E==="horizontal"?$:X[G].coordinate}:Qq;P.setState(Pe(Pe({},O),{},{activeLabel:K,activeCoordinate:se,activePayload:re,activeTooltipIndex:G}))}else P.setState(O)}),_t(P,"renderCursor",function(O){var I,E=P.state,C=E.isTooltipActive,M=E.activeCoordinate,N=E.activePayload,k=E.offset,j=E.activeTooltipIndex,B=E.tooltipAxisBandSize,G=P.getTooltipEventType(),Z=(I=O.props.active)!==null&&I!==void 0?I:C,ie=P.props.layout,X=O.key||"_recharts-cursor";return he.createElement(WIe,{key:X,activeCoordinate:M,activePayload:N,activeTooltipIndex:j,chartName:n,element:O,isActive:Z,layout:ie,offset:k,tooltipAxisBandSize:B,tooltipEventType:G})}),_t(P,"renderPolarAxis",function(O,I,E){var C=Rs(O,"type.axisType"),M=Rs(P.state,"".concat(C,"Map")),N=O.type.defaultProps,k=N!==void 0?Pe(Pe({},N),O.props):O.props,j=M&&M[k["".concat(C,"Id")]];return z.cloneElement(O,Pe(Pe({},j),{},{className:on(C,j.className),key:O.key||"".concat(I,"-").concat(E),ticks:$l(j,!0)}))}),_t(P,"renderPolarGrid",function(O){var I=O.props,E=I.radialLines,C=I.polarAngles,M=I.polarRadius,N=P.state,k=N.radiusAxisMap,j=N.angleAxisMap,B=ru(k),G=ru(j),Z=G.cx,ie=G.cy,X=G.innerRadius,ae=G.outerRadius;return z.cloneElement(O,{polarAngles:Array.isArray(C)?C:$l(G,!0).map(function(ue){return ue.coordinate}),polarRadius:Array.isArray(M)?M:$l(B,!0).map(function(ue){return ue.coordinate}),cx:Z,cy:ie,innerRadius:X,outerRadius:ae,key:O.key||"polar-grid",radialLines:E})}),_t(P,"renderLegend",function(){var O=P.state.formattedGraphicalItems,I=P.props,E=I.children,C=I.width,M=I.height,N=P.props.margin||{},k=C-(N.left||0)-(N.right||0),j=$z({children:E,formattedGraphicalItems:O,legendWidth:k,legendContent:c});if(!j)return null;var B=j.item,G=nM(j,HIe);return z.cloneElement(B,Pe(Pe({},G),{},{chartWidth:C,chartHeight:M,margin:N,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),_t(P,"renderTooltip",function(){var O,I=P.props,E=I.children,C=I.accessibilityLayer,M=qa(E,Fo);if(!M)return null;var N=P.state,k=N.isTooltipActive,j=N.activeCoordinate,B=N.activePayload,G=N.activeLabel,Z=N.offset,ie=(O=M.props.active)!==null&&O!==void 0?O:k;return z.cloneElement(M,{viewBox:Pe(Pe({},Z),{},{x:Z.left,y:Z.top}),active:ie,label:G,payload:ie?B:[],coordinate:j,accessibilityLayer:C})}),_t(P,"renderBrush",function(O){var I=P.props,E=I.margin,C=I.data,M=P.state,N=M.offset,k=M.dataStartIndex,j=M.dataEndIndex,B=M.updateId;return z.cloneElement(O,{key:O.key||"_recharts-brush",onChange:H0(P.handleBrushChange,O.props.onChange),data:C,x:Ue(O.props.x)?O.props.x:N.left,y:Ue(O.props.y)?O.props.y:N.top+N.height+N.brushBottom-(E.bottom||0),width:Ue(O.props.width)?O.props.width:N.width,startIndex:k,endIndex:j,updateId:"brush-".concat(B)})}),_t(P,"renderReferenceElement",function(O,I,E){if(!O)return null;var C=P,M=C.clipPathId,N=P.state,k=N.xAxisMap,j=N.yAxisMap,B=N.offset,G=O.type.defaultProps||{},Z=O.props,ie=Z.xAxisId,X=ie===void 0?G.xAxisId:ie,ae=Z.yAxisId,ue=ae===void 0?G.yAxisId:ae;return z.cloneElement(O,{key:O.key||"".concat(I,"-").concat(E),xAxis:k[X],yAxis:j[ue],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:M})}),_t(P,"renderActivePoints",function(O){var I=O.item,E=O.activePoint,C=O.basePoint,M=O.childIndex,N=O.isRange,k=[],j=I.props.key,B=I.item.type.defaultProps!==void 0?Pe(Pe({},I.item.type.defaultProps),I.item.props):I.item.props,G=B.activeDot,Z=B.dataKey,ie=Pe(Pe({index:M,dataKey:Z,cx:E.x,cy:E.y,r:4,fill:lk(I.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Ht(G,!1)),Bb(G));return k.push(v.renderActiveDot(G,ie,"".concat(j,"-activePoint-").concat(M))),C?k.push(v.renderActiveDot(G,Pe(Pe({},ie),{},{cx:C.x,cy:C.y}),"".concat(j,"-basePoint-").concat(M))):N&&k.push(null),k}),_t(P,"renderGraphicChild",function(O,I,E){var C=P.filterFormatItem(O,I,E);if(!C)return null;var M=P.getTooltipEventType(),N=P.state,k=N.isTooltipActive,j=N.tooltipAxis,B=N.activeTooltipIndex,G=N.activeLabel,Z=P.props.children,ie=qa(Z,Fo),X=C.props,ae=X.points,ue=X.isRange,de=X.baseLine,$=C.item.type.defaultProps!==void 0?Pe(Pe({},C.item.type.defaultProps),C.item.props):C.item.props,K=$.activeDot,re=$.hide,se=$.activeBar,le=$.activeShape,me=!!(!re&&k&&ie&&(K||se||le)),Se={};M!=="axis"&&ie&&ie.props.trigger==="click"?Se={onClick:H0(P.handleItemMouseEnter,O.props.onClick)}:M!=="axis"&&(Se={onMouseLeave:H0(P.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:H0(P.handleItemMouseEnter,O.props.onMouseEnter)});var ce=z.cloneElement(O,Pe(Pe({},C.props),Se));function xe(nt){return typeof j.dataKey=="function"?j.dataKey(nt.payload):null}if(me)if(B>=0){var Ne,ye;if(j.dataKey&&!j.allowDuplicatedCategory){var Me=typeof j.dataKey=="function"?xe:"payload.".concat(j.dataKey.toString());Ne=$b(ae,Me,G),ye=ue&&de&&$b(de,Me,G)}else Ne=ae==null?void 0:ae[B],ye=ue&&de&&de[B];if(le||se){var $e=O.props.activeIndex!==void 0?O.props.activeIndex:B;return[z.cloneElement(O,Pe(Pe(Pe({},C.props),Se),{},{activeIndex:$e})),null,null]}if(!Jt(Ne))return[ce].concat(Tp(P.renderActivePoints({item:C,activePoint:Ne,basePoint:ye,childIndex:B,isRange:ue})))}else{var q,Ie=(q=P.getItemByXY(P.state.activeCoordinate))!==null&&q!==void 0?q:{graphicalItem:ce},Ye=Ie.graphicalItem,Ze=Ye.item,je=Ze===void 0?O:Ze,tt=Ye.childIndex,qe=Pe(Pe(Pe({},C.props),Se),{},{activeIndex:tt});return[z.cloneElement(je,qe),null,null]}return ue?[ce,null,null]:[ce,null]}),_t(P,"renderCustomized",function(O,I,E){return z.cloneElement(O,Pe(Pe({key:"recharts-customized-".concat(E)},P.props),P.state))}),_t(P,"renderMap",{CartesianGrid:{handler:Q0,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:Q0},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:Q0},YAxis:{handler:Q0},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((S=w.id)!==null&&S!==void 0?S:Lv("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=$U(P.triggeredAfterMouseMove,(A=w.throttleDelay)!==null&&A!==void 0?A:1e3/60),P.state={},P}return ije(v,x),eje(v,[{key:"componentDidMount",value:function(){var S,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,A=S.children,P=S.data,O=S.height,I=S.layout,E=qa(A,Fo);if(E){var C=E.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,N=mE(this.state,P,C,M),k=this.state.tooltipTicks[C].coordinate,j=(this.state.offset.top+O)/2,B=I==="horizontal",G=B?{x:k,y:j}:{y:k,x:j},Z=this.state.formattedGraphicalItems.find(function(X){var ae=X.item;return ae.type.name==="Scatter"});Z&&(G=Pe(Pe({},G),Z.props.points[C].tooltipPosition),N=Z.props.points[C].tooltipPayload);var ie={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:M,activePayload:N,activeCoordinate:G};this.setState(ie),this.renderCursor(E),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var P,O;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(S){YA([qa(S.children,Fo)],[qa(this.props.children,Fo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=qa(this.props.children,Fo);if(S&&typeof S.props.shared=="boolean"){var A=S.props.shared?"axis":"item";return o.indexOf(A)>=0?A:a}return a}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var A=this.container,P=A.getBoundingClientRect(),O=Jwe(P),I={chartX:Math.round(S.pageX-O.left),chartY:Math.round(S.pageY-O.top)},E=P.width/A.offsetWidth||1,C=this.inRange(I.chartX,I.chartY,E);if(!C)return null;var M=this.state,N=M.xAxisMap,k=M.yAxisMap,j=this.getTooltipEventType(),B=iM(this.state,this.props.data,this.props.layout,C);if(j!=="axis"&&N&&k){var G=ru(N).scale,Z=ru(k).scale,ie=G&&G.invert?G.invert(I.chartX):null,X=Z&&Z.invert?Z.invert(I.chartY):null;return Pe(Pe({},I),{},{xValue:ie,yValue:X},B)}return B?Pe(Pe({},I),B):null}},{key:"inRange",value:function(S,A){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,I=S/P,E=A/P;if(O==="horizontal"||O==="vertical"){var C=this.state.offset,M=I>=C.left&&I<=C.left+C.width&&E>=C.top&&E<=C.top+C.height;return M?{x:I,y:E}:null}var N=this.state,k=N.angleAxisMap,j=N.radiusAxisMap;if(k&&j){var B=ru(k);return zL({x:I,y:E},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,A=this.getTooltipEventType(),P=qa(S,Fo),O={};P&&A==="axis"&&(P.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var I=Bb(this.props,this.handleOuterEvent);return Pe(Pe({},I),O)}},{key:"addListener",value:function(){x_.on(w_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){x_.removeListener(w_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,A,P){for(var O=this.state.formattedGraphicalItems,I=0,E=O.length;I<E;I++){var C=O[I];if(C.item===S||C.props.key===S.key||A===Wl(C.item.type)&&P===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,A=this.state.offset,P=A.left,O=A.top,I=A.height,E=A.width;return he.createElement("defs",null,he.createElement("clipPath",{id:S},he.createElement("rect",{x:P,y:O,height:I,width:E})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(A,P){var O=tM(P,2),I=O[0],E=O[1];return Pe(Pe({},A),{},_t({},I,E.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(A,P){var O=tM(P,2),I=O[0],E=O[1];return Pe(Pe({},A),{},_t({},I,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(S){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(S){var A=this.state,P=A.formattedGraphicalItems,O=A.activeItem;if(P&&P.length)for(var I=0,E=P.length;I<E;I++){var C=P[I],M=C.props,N=C.item,k=N.type.defaultProps!==void 0?Pe(Pe({},N.type.defaultProps),N.props):N.props,j=Wl(N.type);if(j==="Bar"){var B=(M.data||[]).find(function(X){return FTe(S,X)});if(B)return{graphicalItem:C,payload:B}}else if(j==="RadialBar"){var G=(M.data||[]).find(function(X){return zL(S,X)});if(G)return{graphicalItem:C,payload:G}}else if(ww(C,O)||_w(C,O)||Yy(C,O)){var Z=V4e({graphicalItem:C,activeTooltipItem:O,itemData:k.data}),ie=k.activeIndex===void 0?Z:k.activeIndex;return{graphicalItem:Pe(Pe({},C),{},{childIndex:ie}),payload:Yy(C,O)?k.data[Z]:C.props.data[Z]}}}return null}},{key:"render",value:function(){var S=this;if(!OO(this))return null;var A=this.props,P=A.children,O=A.className,I=A.width,E=A.height,C=A.style,M=A.compact,N=A.title,k=A.desc,j=nM(A,GIe),B=Ht(j,!1);if(M)return he.createElement(F6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},he.createElement(QA,vh({},B,{width:I,height:E,title:N,desc:k}),this.renderClipPath(),LO(P,this.renderMap)));if(this.props.accessibilityLayer){var G,Z;B.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,B.role=(Z=this.props.role)!==null&&Z!==void 0?Z:"application",B.onKeyDown=function(X){S.accessibilityManager.keyboardEvent(X)},B.onFocus=function(){S.accessibilityManager.focus()}}var ie=this.parseEventsOfWrapper();return he.createElement(F6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},he.createElement("div",vh({className:on("recharts-wrapper",O),style:Pe({position:"relative",cursor:"default",width:I,height:E},C)},ie,{ref:function(ae){S.container=ae}}),he.createElement(QA,vh({},B,{width:I,height:E,title:N,desc:k,style:uje}),this.renderClipPath(),LO(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(z.Component);_t(y,"displayName",n),_t(y,"defaultProps",Pe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),_t(y,"getDerivedStateFromProps",function(x,v){var w=x.dataKey,S=x.data,A=x.children,P=x.width,O=x.height,I=x.layout,E=x.stackOffset,C=x.margin,M=v.dataStartIndex,N=v.dataEndIndex;if(v.updateId===void 0){var k=aM(x);return Pe(Pe(Pe({},k),{},{updateId:0},p(Pe(Pe({props:x},k),{},{updateId:0}),v)),{},{prevDataKey:w,prevData:S,prevWidth:P,prevHeight:O,prevLayout:I,prevStackOffset:E,prevMargin:C,prevChildren:A})}if(w!==v.prevDataKey||S!==v.prevData||P!==v.prevWidth||O!==v.prevHeight||I!==v.prevLayout||E!==v.prevStackOffset||!Ih(C,v.prevMargin)){var j=aM(x),B={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},G=Pe(Pe({},iM(v,S,I)),{},{updateId:v.updateId+1}),Z=Pe(Pe(Pe({},j),B),G);return Pe(Pe(Pe({},Z),p(Pe({props:x},Z),v)),{},{prevDataKey:w,prevData:S,prevWidth:P,prevHeight:O,prevLayout:I,prevStackOffset:E,prevMargin:C,prevChildren:A})}if(!YA(A,v.prevChildren)){var ie,X,ae,ue,de=qa(A,vp),$=de&&(ie=(X=de.props)===null||X===void 0?void 0:X.startIndex)!==null&&ie!==void 0?ie:M,K=de&&(ae=(ue=de.props)===null||ue===void 0?void 0:ue.endIndex)!==null&&ae!==void 0?ae:N,re=$!==M||K!==N,se=!Jt(S),le=se&&!re?v.updateId:v.updateId+1;return Pe(Pe({updateId:le},p(Pe(Pe({props:x},v),{},{updateId:le,dataStartIndex:$,dataEndIndex:K}),v)),{},{prevChildren:A,dataStartIndex:$,dataEndIndex:K})}return null}),_t(y,"renderActiveDot",function(x,v,w){var S;return z.isValidElement(x)?S=z.cloneElement(x,v):Ut(x)?S=x(v):S=he.createElement(uk,v),he.createElement(cr,{className:"recharts-active-dot",key:w},S)});var b=z.forwardRef(function(v,w){return he.createElement(y,vh({},v,{ref:w}))});return b.displayName=y.displayName,b},wje=xje({chartName:"AreaChart",GraphicalChild:Yu,axisComponents:[{axisType:"xAxis",AxisComp:Tw},{axisType:"yAxis",AxisComp:kw}],formatAxisMap:d3e});const _je={occupied:{label:"Occupied",cls:"badge-sage"},vacant:{label:"Vacant",cls:"badge-amber"},maintenance:{label:"Maintenance",cls:"badge-rust"},paid:{label:"Paid",cls:"badge-sage"},pending:{label:"Pending",cls:"badge-amber"},late:{label:"Late",cls:"badge-rust"},open:{label:"Open",cls:"badge-rust"},"in-progress":{label:"In Progress",cls:"badge-amber"},resolved:{label:"Resolved",cls:"badge-sage"}};function gE({status:t,className:e=""}){const n=_je[t]||{label:t||"Unknown",cls:"badge-stone"};return d.jsx("span",{className:`${n.cls} ${e}`,children:n.label})}function Sje(t){if(!t)return"";const e=[];return t.buildingName&&e.push(t.buildingName),t.unitNumber&&e.push(`Unit ${t.unitNumber}`),t.floor!=null&&t.floor!==""&&e.push(`Floor ${t.floor}`),e.length===0?t.name||"":e.join(" - ")}function ld(t){if(!t)return"";const e=[];return t.unitNumber&&e.push(`Unit ${t.unitNumber}`),t.floor!=null&&t.floor!==""&&e.push(`Floor ${t.floor}`),e.length>0?e.join(", "):t.name||""}function Zq({property:t,onDelete:e,showDelete:n}){const{fmtRent:r}=hi(),{user:i}=Mr(),[a,s]=z.useState(0),[o,l]=z.useState(0);return z.useEffect(()=>!i||!(t!=null&&t.id)?void 0:N9(i.uid,t.id,u=>{s(u.length),l(u.filter(f=>f.status==="occupied").length)}),[i,t==null?void 0:t.id]),d.jsxs("div",{className:"card-hover group relative overflow-hidden",children:[d.jsx("div",{className:`absolute top-0 left-0 right-0 h-0.5 ${t.status==="occupied"?"bg-sage":t.status==="vacant"?"bg-amber":"bg-rust"}`}),d.jsxs(ur,{to:`/properties/${t.id}`,className:"block p-5",children:[d.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[d.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[d.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 ${t.status==="occupied"?"bg-sage/10":t.status==="vacant"?"bg-amber/10":"bg-rust/10"}`,children:d.jsx(Cs,{size:18,className:t.status==="occupied"?"text-sage":t.status==="vacant"?"text-amber":"text-rust"})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:"font-body font-semibold text-ink text-sm truncate",children:t.name}),t.unitNumber&&d.jsxs("p",{className:"font-body text-xs text-sage font-medium flex items-center gap-1 mt-0.5",children:[d.jsx(sp,{size:10})," ",ld(t)]}),d.jsxs("p",{className:"font-body text-xs text-stone-400 flex items-center gap-1 mt-0.5 truncate",children:[d.jsx(Up,{size:11})," ",t.address]})]})]}),d.jsx(gE,{status:t.status})]}),d.jsxs("div",{className:"flex items-center gap-4 py-3 border-t border-b border-stone-100 my-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-body text-xs text-stone-400",children:"Rent"}),d.jsx("p",{className:"font-display font-semibold text-ink mt-0.5",children:r(t.monthlyRent,t.rentType)})]}),t.bedrooms>0&&d.jsxs("div",{className:"flex items-center gap-1 text-stone-400",children:[d.jsx(iV,{size:13}),d.jsx("span",{className:"font-body text-xs",children:t.bedrooms})]}),t.bathrooms>0&&d.jsxs("div",{className:"flex items-center gap-1 text-stone-400",children:[d.jsx(rV,{size:13}),d.jsx("span",{className:"font-body text-xs",children:t.bathrooms})]})]}),d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(nl,{size:13,className:"text-stone-400"}),d.jsx("span",{className:"font-body text-xs text-stone-500",children:a>0?`${a} unit${a!==1?"s":""}  ${o} occupied`:"No units added yet"})]}),a>0&&d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-body font-semibold bg-sage/10 text-sage",children:[o,"/",a]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"font-body text-xs text-stone-400",children:t.tenantName?`Tenant: ${t.tenantName}`:"No tenant assigned"}),d.jsx(nd,{size:14,className:"text-stone-300 group-hover:text-sage transition-colors"})]})]}),d.jsxs("div",{className:"px-5 pb-4 pt-0 flex gap-2",children:[d.jsxs(ur,{to:`/properties/${t.id}?tab=units`,className:"flex-1 flex items-center justify-center gap-1.5 py-2 rounded-xl border border-stone-200 hover:border-sage/30 hover:bg-sage/5 text-stone-500 hover:text-sage font-body text-xs font-medium transition-all",children:[d.jsx(nl,{size:13})," Manage Units"]}),d.jsxs(ur,{to:`/properties/${t.id}?tab=units&action=add`,className:"flex items-center justify-center gap-1 px-3 py-2 rounded-xl bg-sage/10 hover:bg-sage/20 text-sage font-body text-xs font-semibold transition-all",children:[d.jsx(Os,{size:12})," Add Unit"]})]}),n&&e&&d.jsx("button",{onClick:c=>{c.preventDefault(),e()},className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 p-1.5 rounded-lg bg-rust/10 text-rust hover:bg-rust/20 transition-all",children:d.jsx(Bx,{size:13})})]})}function Ru({isOpen:t,onClose:e,title:n,children:r,size:i="md"}){z.useEffect(()=>{const s=o=>{o.key==="Escape"&&e()};return t&&window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[t,e]),z.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]);const a=i==="lg"?"max-w-2xl":i==="sm"?"max-w-sm":"max-w-lg";return d.jsx(po,{children:t&&d.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4",children:[d.jsx(He.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-ink/50 backdrop-blur-sm",onClick:e}),d.jsxs(He.div,{initial:{opacity:0,y:24,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:16,scale:.98},transition:{type:"spring",damping:28,stiffness:360},className:`relative w-full ${a} bg-white rounded-t-2xl sm:rounded-2xl shadow-deep z-10 max-h-[92vh] overflow-y-auto`,children:[d.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-stone-100 sticky top-0 bg-white rounded-t-2xl z-10",children:[d.jsx("h2",{className:"font-display text-ink text-xl font-semibold",children:n}),d.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-stone-100 text-stone-400 hover:text-ink transition-colors",children:d.jsx(Ux,{size:18})})]}),d.jsx("div",{className:"px-6 py-5",children:r})]})]})})}const Ls={free:{id:"free",name:"Free",price:0,period:null,maxProperties:2,badge:"FREE",badgeColor:"bg-stone-100 text-stone-500",description:"Get started with basic property management.",features:[{label:"Up to 2 properties",included:!0},{label:"Basic property management",included:!0},{label:"Tenant invitations",included:!0},{label:"Analytics & charts",included:!1},{label:"Automated reminders",included:!1},{label:"PDF invoice generation",included:!1},{label:"Multi-building management",included:!1},{label:"Advanced analytics",included:!1}],featureFlags:{analytics:!1,automatedReminders:!1,pdfInvoices:!1,multiBuilding:!1,advancedAnalytics:!1}},pro:{id:"pro",name:"Pro",price:7,period:"month",maxProperties:20,badge:"PRO",badgeColor:"bg-sage/15 text-sage",popular:!0,description:"For growing landlords who need more power.",features:[{label:"Up to 20 properties",included:!0},{label:"Basic property management",included:!0},{label:"Tenant invitations",included:!0},{label:"Analytics & charts",included:!0},{label:"Automated reminders",included:!0},{label:"PDF invoice generation",included:!0},{label:"Multi-building management",included:!1},{label:"Advanced analytics",included:!1}],featureFlags:{analytics:!0,automatedReminders:!0,pdfInvoices:!0,multiBuilding:!1,advancedAnalytics:!1}},business:{id:"business",name:"Business",price:20,period:"month",maxProperties:1/0,badge:"BIZ",badgeColor:"bg-amber/15 text-amber",description:"For professional property managers at scale.",features:[{label:"Unlimited properties",included:!0},{label:"Basic property management",included:!0},{label:"Tenant invitations",included:!0},{label:"Analytics & charts",included:!0},{label:"Automated reminders",included:!0},{label:"PDF invoice generation",included:!0},{label:"Multi-building management",included:!0},{label:"Advanced analytics",included:!0}],featureFlags:{analytics:!0,automatedReminders:!0,pdfInvoices:!0,multiBuilding:!0,advancedAnalytics:!0}}},Lh=["free","pro","business"];async function Iw(t){var i;const e=await ic(Un(Lt,"users",t));if(!e.exists())return Ls.free;const r=((i=e.data().subscription)==null?void 0:i.planId)||"free";return Ls[r]||Ls.free}async function Aje(t,e){if(!Ls[e])throw new Error(`Invalid plan: ${e}`);await Vs(Un(Lt,"users",t),{subscription:{planId:e,updatedAt:ni()}})}async function eW(t,e){const n=await Iw(t);return e<n.maxProperties}function tW(t){const e=Lh.indexOf(t);return e<0||e>=Lh.length-1?null:Ls[Lh[e+1]]}const nW=[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"yearly",label:"Yearly"}],Nje=["Apartment","House","Studio","Duplex","Commercial","Other"],Eje=[{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"yearly",label:"Yearly"}],Pje=(t,e,n)=>({id:crypto.randomUUID(),unitName:`Unit ${t+1}`,rentAmount:e||"",billingCycle:n||"monthly",tenantName:"",tenantEmail:"",showTenant:!1}),Tje=["Property Details","Number of Units","Unit Setup"],S_={enter:{opacity:0,x:48},center:{opacity:1,x:0},exit:{opacity:0,x:-48}};function kje({isOpen:t,onClose:e,propertyCount:n=0}){const{user:r}=Mr(),{currencySymbol:i,fmtRent:a}=hi(),s=Bs(),[o,l]=z.useState(1),[c,u]=z.useState(!1),[f,h]=z.useState(null),[p,y]=z.useState(""),[b,x]=z.useState({name:"",address:"",type:"Apartment",status:"vacant",monthlyRent:"",rentType:"monthly",buildingName:"",unitNumber:"",floor:""}),[v,w]=z.useState(""),S=z.useRef(null),[A,P]=z.useState([]),O=k=>j=>x(B=>({...B,[k]:j.target.value})),I=(k,j,B)=>P(G=>G.map(Z=>Z.id===k?{...Z,[j]:B}:Z));z.useEffect(()=>{o===2&&setTimeout(()=>{var k;return(k=S.current)==null?void 0:k.focus()},100)},[o]);const E=async k=>{if(k.preventDefault(),!b.name.trim()||!b.address.trim()){Ke.error("Property name and address are required.");return}if(!await eW(r.uid,n)){const B=await Iw(r.uid),G=tW(B.id);Ke.error(`Reached ${B.maxProperties}-property limit on ${B.name}.${G?` Upgrade to ${G.name}.`:""}`,{duration:4e3});return}u(!0);try{const B=await ST(r.uid,{...b,monthlyRent:parseInt(b.monthlyRent)||0});h(B.id),y(b.name),l(2)}catch{Ke.error("Failed to create property.")}finally{u(!1)}},C=k=>{k.preventDefault();const j=Math.max(1,Math.min(50,parseInt(v)||1));w(j),P(Array.from({length:j},(B,G)=>Pje(G,b.monthlyRent,b.rentType))),l(3)},M=async()=>{const k=A.filter(j=>j.unitName.trim());u(!0);try{for(const j of k)await A9(r.uid,f,{unitName:j.unitName.trim(),rentAmount:parseInt(j.rentAmount)||parseInt(b.monthlyRent)||0,billingCycle:j.billingCycle||"monthly",status:j.tenantName||j.tenantEmail?"occupied":"vacant",tenantId:null,tenantName:j.tenantName||"",tenantEmail:j.tenantEmail||""});Ke.success(`${k.length} unit${k.length!==1?"s":""} added!`)}catch{Ke.error("Some units failed to save.")}finally{u(!1),s(`/properties/${f}?tab=units`),N()}},N=()=>{l(1),x({name:"",address:"",type:"Apartment",status:"vacant",monthlyRent:"",rentType:"monthly",buildingName:"",unitNumber:"",floor:""}),w(""),P([]),h(null),e()};return d.jsxs(Ru,{isOpen:t,onClose:o===1?N:void 0,title:o===1?"Add Apartment / Unit":o===2?"How many units?":`Set Up Units  ${p}`,size:"lg",children:[d.jsx("div",{className:"flex items-center gap-1.5 mb-6",children:Tje.map((k,j)=>{const B=j+1;return d.jsxs(he.Fragment,{children:[d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-semibold border-2 flex-shrink-0 transition-all ${B<o?"bg-sage border-sage text-cream":B===o?"border-sage text-sage bg-sage/10":"border-stone-200 text-stone-300"}`,children:B<o?d.jsx(Is,{size:11}):B}),d.jsx("span",{className:`font-body text-xs hidden sm:block transition-colors ${B===o?"text-ink font-semibold":B<o?"text-sage":"text-stone-300"}`,children:k})]}),B<3&&d.jsx("div",{className:`flex-1 h-px transition-colors ${B<o?"bg-sage/40":"bg-stone-100"}`})]},B)})}),d.jsxs(po,{mode:"wait",children:[o===1&&d.jsxs(He.form,{variants:S_,initial:"enter",animate:"center",exit:"exit",transition:{duration:.18},onSubmit:E,className:"space-y-4",children:[d.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[d.jsx(El,{label:"Property / Building Name *",children:d.jsx("input",{className:"input-base",placeholder:"e.g. Sunset Court",value:b.name,onChange:O("name"),required:!0,autoFocus:!0})}),d.jsx(El,{label:"Type",children:d.jsx("select",{className:"input-base",value:b.type,onChange:O("type"),children:Nje.map(k=>d.jsx("option",{children:k},k))})})]}),d.jsx(El,{label:"Address *",children:d.jsxs("div",{className:"relative",children:[d.jsx(Up,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-9",placeholder:"Full street address",value:b.address,onChange:O("address"),required:!0})]})}),d.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[d.jsx(El,{label:"Building Name",children:d.jsxs("div",{className:"relative",children:[d.jsx(Cs,{size:13,className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-8",placeholder:"Optional",value:b.buildingName,onChange:O("buildingName")})]})}),d.jsx(El,{label:"Unit No.",children:d.jsxs("div",{className:"relative",children:[d.jsx(sp,{size:13,className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-8",placeholder:"e.g. 4B",value:b.unitNumber,onChange:O("unitNumber")})]})}),d.jsx(El,{label:"Floor",children:d.jsx("input",{className:"input-base",type:"number",placeholder:"e.g. 2",value:b.floor,onChange:O("floor")})})]}),d.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[d.jsx(El,{label:`Default Rent (${i})`,children:d.jsx("input",{className:"input-base",type:"number",placeholder:"e.g. 250000",value:b.monthlyRent,onChange:O("monthlyRent")})}),d.jsx(El,{label:"Billing Cycle",children:d.jsx("select",{className:"input-base",value:b.rentType,onChange:O("rentType"),children:nW.map(({value:k,label:j})=>d.jsx("option",{value:k,children:j},k))})})]}),b.monthlyRent&&d.jsxs("p",{className:"font-body text-xs text-stone-400 -mt-1",children:["Displays as ",d.jsx("strong",{className:"text-sage",children:a(parseInt(b.monthlyRent),b.rentType)})]}),d.jsx(El,{label:"Status",children:d.jsx("div",{className:"flex gap-2",children:["occupied","vacant","maintenance"].map(k=>d.jsx("button",{type:"button",onClick:()=>x(j=>({...j,status:k})),className:`flex-1 py-2.5 rounded-xl text-sm font-body font-medium border capitalize transition-all ${b.status===k?k==="occupied"?"bg-sage/10 text-sage border-sage/30":k==="vacant"?"bg-amber/10 text-amber border-amber/30":"bg-rust/10 text-rust border-rust/30":"bg-stone-50 text-stone-400 border-stone-200 hover:bg-stone-100"}`,children:k},k))})}),d.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[d.jsx("button",{type:"button",onClick:N,className:"btn-secondary",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:c,className:"btn-primary",children:c?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(nd,{size:15})," Next: Units"]})})]})]},"s1"),o===2&&d.jsxs(He.form,{variants:S_,initial:"enter",animate:"center",exit:"exit",transition:{duration:.18},onSubmit:C,className:"space-y-6",children:[d.jsxs("div",{className:"text-center py-4",children:[d.jsx("div",{className:"w-16 h-16 rounded-2xl bg-sage/10 flex items-center justify-center mx-auto mb-4",children:d.jsx(nl,{size:28,className:"text-sage"})}),d.jsxs("p",{className:"font-body text-stone-500 text-sm mb-6",children:["How many units or apartments are in ",d.jsx("strong",{className:"text-ink",children:p}),"?"]}),d.jsxs("div",{className:"flex items-center justify-center gap-3",children:[d.jsx("button",{type:"button",onClick:()=>w(k=>Math.max(1,(parseInt(k)||1)-1)),className:"w-10 h-10 rounded-xl bg-stone-100 hover:bg-stone-200 text-stone-600 font-bold text-lg flex items-center justify-center transition-colors",children:""}),d.jsx("input",{ref:S,type:"number",min:"1",max:"50",className:"w-24 h-14 text-center font-display text-3xl font-semibold text-ink border-2 border-stone-200 focus:border-sage rounded-2xl outline-none transition-colors",value:v,onChange:k=>w(Math.max(1,Math.min(50,parseInt(k.target.value)||""))),placeholder:"1",required:!0}),d.jsx("button",{type:"button",onClick:()=>w(k=>Math.min(50,(parseInt(k)||0)+1)),className:"w-10 h-10 rounded-xl bg-stone-100 hover:bg-sage/10 hover:text-sage text-stone-600 font-bold text-lg flex items-center justify-center transition-colors",children:"+"})]}),d.jsxs("p",{className:"font-body text-xs text-stone-400 mt-3 flex items-center justify-center gap-1",children:[d.jsx(oV,{size:11})," You can add or remove units anytime from the property page"]})]}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx("button",{type:"button",onClick:()=>l(1),className:"btn-secondary",children:"Back"}),d.jsxs("button",{type:"submit",className:"btn-primary",children:[d.jsx(nd,{size:15})," Set Up ",v||"?"," Unit",parseInt(v)!==1?"s":""]})]})]},"s2"),o===3&&d.jsxs(He.div,{variants:S_,initial:"enter",animate:"center",exit:"exit",transition:{duration:.18},className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("p",{className:"font-body text-sm text-stone-500",children:["Fill in details for each unit. Rent defaults to ",d.jsx("strong",{className:"text-sage",children:a(parseInt(b.monthlyRent)||0,b.rentType)})," if left blank."]}),d.jsxs("span",{className:"font-body text-xs text-stone-400 bg-stone-100 px-2 py-1 rounded-lg",children:[A.length," unit",A.length!==1?"s":""]})]}),d.jsxs("div",{className:"grid grid-cols-12 gap-2 px-1",children:[d.jsx("span",{className:"col-span-3 font-body text-[11px] font-semibold text-stone-400 uppercase tracking-wider",children:"Unit Name"}),d.jsxs("span",{className:"col-span-3 font-body text-[11px] font-semibold text-stone-400 uppercase tracking-wider",children:["Rent (",i,")"]}),d.jsx("span",{className:"col-span-3 font-body text-[11px] font-semibold text-stone-400 uppercase tracking-wider",children:"Billing"}),d.jsx("span",{className:"col-span-3 font-body text-[11px] font-semibold text-stone-400 uppercase tracking-wider",children:"Tenant (opt.)"})]}),d.jsx("div",{className:"space-y-2 max-h-72 overflow-y-auto pr-1 custom-scrollbar",children:A.map((k,j)=>d.jsxs(He.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:Math.min(j*.03,.3)},className:"space-y-1.5",children:[d.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center p-2 bg-stone-50 rounded-xl border border-stone-100",children:[d.jsx("div",{className:"col-span-3",children:d.jsx("input",{className:"input-base text-sm h-9",placeholder:`Unit ${j+1}`,value:k.unitName,onChange:B=>I(k.id,"unitName",B.target.value)})}),d.jsx("div",{className:"col-span-3",children:d.jsx("input",{className:"input-base text-sm h-9",type:"number",placeholder:b.monthlyRent||"",value:k.rentAmount,onChange:B=>I(k.id,"rentAmount",B.target.value)})}),d.jsx("div",{className:"col-span-3",children:d.jsx("select",{className:"input-base text-sm h-9",value:k.billingCycle,onChange:B=>I(k.id,"billingCycle",B.target.value),children:Eje.map(B=>d.jsx("option",{value:B.value,children:B.label},B.value))})}),d.jsx("div",{className:"col-span-3 flex items-center gap-1",children:d.jsxs("button",{type:"button",onClick:()=>I(k.id,"showTenant",!k.showTenant),className:`flex items-center gap-1 text-xs font-body px-2 py-1.5 rounded-lg border transition-all w-full justify-center ${k.tenantName||k.tenantEmail?"bg-sage/10 text-sage border-sage/20":"bg-white text-stone-400 border-stone-200 hover:border-sage/30 hover:text-sage"}`,title:"Add optional tenant info",children:[d.jsx(il,{size:11}),k.tenantName?k.tenantName.split(" ")[0]:"Tenant"]})})]}),d.jsx(po,{children:k.showTenant&&d.jsxs(He.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"grid grid-cols-2 gap-2 px-2 overflow-hidden",children:[d.jsxs("div",{className:"relative",children:[d.jsx(il,{size:12,className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base text-sm pl-8 h-9",placeholder:"Tenant name",value:k.tenantName,onChange:B=>I(k.id,"tenantName",B.target.value)})]}),d.jsxs("div",{className:"relative",children:[d.jsx(rl,{size:12,className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base text-sm pl-8 h-9",type:"email",placeholder:"tenant@email.com",value:k.tenantEmail,onChange:B=>I(k.id,"tenantEmail",B.target.value)})]})]})})]},k.id))}),d.jsxs("div",{className:"flex items-center gap-3 justify-between pt-2",children:[d.jsx("button",{type:"button",onClick:()=>l(2),className:"btn-ghost text-sm",children:" Back"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{s(`/properties/${f}?tab=units`),N()},className:"btn-secondary text-sm",children:"Skip  fill later"}),d.jsx("button",{onClick:M,disabled:c,className:"btn-primary",children:c?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(Is,{size:14})," Save & Finish"]})})]})]})]},"s3")]})]})}function El({label:t,children:e}){return d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:t}),e]})}const Gm=(t=0)=>({initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:t,duration:.4}}),Cje=t=>Array.from({length:6},(n,r)=>kue(new Date,5-r)).map(n=>({month:Na(n,"MMM"),revenue:t.filter(r=>r.status==="occupied").reduce((r,i)=>r+(i.monthlyRent||0),0)*(.8+Math.random()*.4)}));function Ije(){const{user:t,profile:e}=Mr(),{fmt:n,country:r}=hi(),[i,a]=z.useState([]),[s,o]=z.useState([]),[l,c]=z.useState(!1);z.useEffect(()=>{if(!t)return;const v=Ev(t.uid,a),w=Pv(t.uid,o);return()=>{v(),w()}},[t]);const u=i.filter(v=>v.status==="occupied").length;i.filter(v=>v.status==="vacant").length;const f=i.filter(v=>v.status==="occupied").reduce((v,w)=>v+(w.monthlyRent||0),0),h=s.filter(v=>{var S,A;const w=((A=(S=v.dueDate)==null?void 0:S.toDate)==null?void 0:A.call(S))??new Date(v.dueDate);return!Bf(w)&&Ov(w,new Date)<=5&&v.status!=="paid"}),p=s.filter(v=>{var S,A;const w=((A=(S=v.dueDate)==null?void 0:S.toDate)==null?void 0:A.call(S))??new Date(v.dueDate);return Bf(w)&&v.status!=="paid"}),y=Cje(i),b=((e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||"there").split(" ")[0],x=[{label:"Total Properties",value:i.length,icon:Cs,color:"text-sage",bg:"bg-sage/10",change:null},{label:"Occupied",value:u,icon:sce,color:"text-sage",bg:"bg-sage/10",change:i.length>0?`${Math.round(u/i.length*100)}% occupancy`:"0%"},{label:"Monthly Revenue",value:n(f),icon:fV,color:"text-amber",bg:"bg-amber/10",change:`${u} active leases`},{label:"Urgent Reminders",value:h.length+p.length,icon:s4,color:"text-rust",bg:"bg-rust/10",change:p.length>0?`${p.length} overdue`:"All current"}];return d.jsxs("div",{className:"space-y-8",children:[d.jsxs(He.div,{...Gm(0),className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-body text-stone-400 text-sm font-medium",children:Na(new Date,"EEEE, MMMM d, yyyy")}),d.jsxs("h1",{className:"font-display text-ink text-3xl font-semibold mt-0.5",children:["Good ",new Date().getHours()<12?"morning":new Date().getHours()<17?"afternoon":"evening",","," ",d.jsx("em",{children:b})]})]}),d.jsx("div",{className:"hidden sm:flex items-center gap-2",children:d.jsxs("button",{onClick:()=>c(!0),className:"btn-primary",children:[d.jsx(nl,{size:16})," Add Apartment / Unit"]})})]}),d.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:x.map(({label:v,value:w,icon:S,color:A,bg:P,change:O},I)=>d.jsxs(He.div,{...Gm(I*.06),className:"stat-card",children:[d.jsx("div",{className:`w-10 h-10 rounded-xl ${P} flex items-center justify-center`,children:d.jsx(S,{size:18,className:A})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-display text-ink text-2xl font-semibold",children:w}),d.jsx("div",{className:"font-body text-stone-400 text-xs mt-0.5",children:v})]}),O&&d.jsx("div",{className:"font-body text-xs text-stone-300 border-t border-stone-100 pt-2 mt-auto",children:O})]},v))}),d.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[d.jsxs(He.div,{...Gm(.2),className:"lg:col-span-2 card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"font-display text-ink text-lg font-semibold",children:"Revenue Overview"}),d.jsx("p",{className:"font-body text-stone-400 text-xs mt-0.5",children:"Last 6 months  Estimated"})]}),d.jsx("span",{className:"badge-sage",children:"Live"})]}),d.jsx(Wwe,{width:"100%",height:200,children:d.jsxs(wje,{data:y,children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"revGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#4A7C59",stopOpacity:.15}),d.jsx("stop",{offset:"95%",stopColor:"#4A7C59",stopOpacity:0})]})}),d.jsx(Rq,{strokeDasharray:"3 3",stroke:"#EDE5D4",vertical:!1}),d.jsx(Tw,{dataKey:"month",tick:{fontFamily:"DM Sans",fontSize:11,fill:"#A89272"},axisLine:!1,tickLine:!1}),d.jsx(kw,{tick:{fontFamily:"DM Sans",fontSize:11,fill:"#A89272"},axisLine:!1,tickLine:!1,tickFormatter:v=>n(v)}),d.jsx(Fo,{contentStyle:{background:"#1A1612",border:"none",borderRadius:10,fontFamily:"DM Sans",fontSize:12,color:"#F5F0E8"},formatter:v=>[n(v),"Revenue"]}),d.jsx(Yu,{type:"monotone",dataKey:"revenue",stroke:"#4A7C59",strokeWidth:2,fill:"url(#revGrad)"})]})})]}),d.jsxs(He.div,{...Gm(.25),className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"font-display text-ink text-lg font-semibold",children:"Urgent Alerts"}),d.jsx(ur,{to:"/reminders",className:"text-sage hover:text-sage-light transition-colors",children:d.jsx(ks,{size:16})})]}),h.length===0&&p.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-sage/10 flex items-center justify-center mb-3",children:d.jsx(Ou,{size:20,className:"text-sage"})}),d.jsx("p",{className:"font-body text-sm text-stone-400",children:"No urgent reminders"}),d.jsx("p",{className:"font-body text-xs text-stone-300 mt-1",children:"All payments on track"})]}):d.jsxs("div",{className:"space-y-2",children:[[...p,...h].slice(0,5).map(v=>{var A,P;const w=((P=(A=v.dueDate)==null?void 0:A.toDate)==null?void 0:P.call(A))??new Date(v.dueDate),S=Bf(w);return d.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-stone-50 hover:bg-stone-100 transition-colors",children:[d.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${S?"bg-rust":"bg-amber"}`}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-body font-medium text-sm text-ink truncate",children:v.tenantName}),d.jsx("p",{className:"font-body text-xs text-stone-400",children:S?"Overdue":`Due ${Na(w,"MMM d")}`})]}),d.jsx("span",{className:"font-body font-semibold text-sm text-ink",children:n(v.amount||0)})]},v.id)}),d.jsxs(ur,{to:"/reminders",className:"btn-ghost w-full text-xs mt-1 justify-center",children:["View all reminders ",d.jsx(nd,{size:13})]})]})]})]}),d.jsxs(He.div,{...Gm(.3),children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"font-display text-ink text-xl font-semibold",children:"Your Properties"}),d.jsxs(ur,{to:"/properties",className:"btn-ghost text-sm",children:["View all ",d.jsx(nd,{size:14})]})]}),i.length===0?d.jsxs("div",{className:"card p-12 flex flex-col items-center text-center border-2 border-dashed border-stone-200",children:[d.jsx("div",{className:"w-16 h-16 rounded-2xl bg-sage/10 flex items-center justify-center mb-4",children:d.jsx(Cs,{size:28,className:"text-sage"})}),d.jsx("h3",{className:"font-display text-ink text-xl font-semibold mb-2",children:"Add your first property"}),d.jsx("p",{className:"font-body text-stone-400 text-sm mb-6 max-w-xs",children:"Start tracking rent, tenants, and maintenance by adding a property."}),d.jsxs(ur,{to:"/properties",className:"btn-primary",children:[d.jsx(Os,{size:16})," Add Property"]})]}):d.jsx("div",{className:"grid md:grid-cols-2 xl:grid-cols-3 gap-4",children:i.slice(0,6).map(v=>d.jsx(Zq,{property:v},v.id))})]}),d.jsx(kje,{isOpen:l,onClose:()=>c(!1),propertyCount:i.length})]})}const jje=["Apartment","House","Studio","Duplex","Commercial","Other"],Oje=["occupied","vacant","maintenance"],Rje=["All","Occupied","Vacant","Maintenance"];function Lje(){const{user:t}=Mr(),{fmtRent:e,currencyName:n,currencySymbol:r}=hi(),i=Bs(),[a,s]=z.useState([]),[o,l]=z.useState(!0),[c,u]=z.useState(""),[f,h]=z.useState("All"),[p,y]=z.useState("all"),[b,x]=z.useState(!1),[v,w]=z.useState(!1),S={name:"",address:"",type:"Apartment",status:"vacant",monthlyRent:"",rentType:"monthly",bedrooms:"",bathrooms:"",sqft:"",buildingName:"",unitNumber:"",floor:"",tenantName:"",tenantEmail:"",tenantPhone:"",description:""},[A,P]=z.useState(S);z.useEffect(()=>t?Ev(t.uid,k=>{s(k),l(!1)}):void 0,[t]);const O=N=>k=>P(j=>({...j,[N]:k.target.value})),I=[...new Set(a.filter(N=>N.buildingName).map(N=>N.buildingName))].sort(),E=a.filter(N=>{var G,Z,ie;const k=!c||((G=N.name)==null?void 0:G.toLowerCase().includes(c.toLowerCase()))||((Z=N.address)==null?void 0:Z.toLowerCase().includes(c.toLowerCase()))||N.unitNumber&&N.unitNumber.toLowerCase().includes(c.toLowerCase()),j=f==="All"||((ie=N.status)==null?void 0:ie.toLowerCase())===f.toLowerCase(),B=p==="all"||p==="standalone"&&!N.buildingName||N.buildingName===p;return k&&j&&B}),C=async N=>{if(N.preventDefault(),!A.name||!A.address){Ke.error("Name and address are required.");return}w(!0);try{const k=await ST(t.uid,{...A,monthlyRent:parseInt(A.monthlyRent)||0,bedrooms:parseInt(A.bedrooms)||0,bathrooms:parseFloat(A.bathrooms)||0,sqft:parseInt(A.sqft)||0});Ke.success("Property added!"),x(!1),P(S),i(`/properties/${k.id}/success`,{state:{propertyId:k.id,propertyName:A.name,monthlyRent:parseInt(A.monthlyRent)||0,rentType:A.rentType||"monthly"}})}catch{Ke.error("Failed to add property.")}finally{w(!1)}},M=async(N,k)=>{if(confirm(`Delete "${k}"? This cannot be undone.`))try{await uie(t.uid,N),Ke.success("Property deleted.")}catch{Ke.error("Failed to delete.")}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"font-display text-ink text-3xl font-semibold",children:"Properties"}),d.jsxs("p",{className:"font-body text-stone-400 text-sm mt-0.5",children:[a.length," total  ",a.filter(N=>N.status==="occupied").length," occupied"]})]}),d.jsxs("button",{onClick:async()=>{if(!await eW(t.uid,a.length)){const k=await Iw(t.uid),j=tW(k.id);Ke.error(`You've reached the ${k.maxProperties}-property limit on the ${k.name} plan.${j?` Upgrade to ${j.name} for more.`:""}`,{duration:4e3});return}x(!0)},className:"btn-primary",children:[d.jsx(Os,{size:16})," Add Property"]})]}),d.jsxs(He.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(cV,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400"}),d.jsx("input",{className:"input-base pl-10",placeholder:"Search by name, address, or unit number",value:c,onChange:N=>u(N.target.value)})]}),d.jsx("div",{className:"flex gap-2 flex-shrink-0",children:Rje.map(N=>d.jsx("button",{onClick:()=>h(N),className:`px-4 py-2 rounded-xl text-sm font-body font-medium border transition-all ${f===N?"bg-sage/10 text-sage border-sage/30":"bg-white text-stone-500 border-stone-200 hover:border-stone-300"}`,children:N},N))})]}),I.length>0&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Cs,{size:14,className:"text-stone-400"}),d.jsxs("select",{className:"text-sm font-body border border-stone-200 rounded-lg px-3 py-1.5 bg-white text-stone-500 focus:outline-none focus:border-sage transition-colors",value:p,onChange:N=>y(N.target.value),children:[d.jsx("option",{value:"all",children:"All Buildings"}),d.jsx("option",{value:"standalone",children:"Standalone Properties"}),I.map(N=>d.jsx("option",{value:N,children:N},N))]})]})]}),o?d.jsx("div",{className:"grid md:grid-cols-2 xl:grid-cols-3 gap-4",children:[1,2,3].map(N=>d.jsx("div",{className:"card h-52 bg-gradient-to-r from-stone-100 to-stone-50 animate-pulse"},N))}):E.length===0?d.jsxs("div",{className:"card p-16 flex flex-col items-center text-center border-2 border-dashed border-stone-200",children:[d.jsx(Cs,{size:40,className:"text-stone-300 mb-3"}),d.jsx("p",{className:"font-body font-medium text-stone-500",children:c||f!=="All"?"No properties match your search":"No properties yet"}),d.jsx("p",{className:"font-body text-xs text-stone-300 mt-1",children:!c&&f==="All"&&'Click "Add Property" to get started'})]}):d.jsx("div",{className:"grid md:grid-cols-2 xl:grid-cols-3 gap-4",children:d.jsx(po,{children:E.map((N,k)=>d.jsx(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:k*.05},exit:{opacity:0,scale:.97},children:d.jsx(Zq,{property:N,onDelete:()=>M(N.id,N.name),showDelete:!0})},N.id))})}),d.jsx(Ru,{isOpen:b,onClose:()=>x(!1),title:"Add New Property",size:"lg",children:d.jsxs("form",{onSubmit:C,className:"space-y-5",children:[d.jsxs(A_,{title:"Property Info",children:[d.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[d.jsx(Fi,{label:"Property Name *",children:d.jsx("input",{className:"input-base",placeholder:"e.g. Sunset Apartments 4B",value:A.name,onChange:O("name"),required:!0})}),d.jsx(Fi,{label:"Property Type",children:d.jsx("select",{className:"input-base",value:A.type,onChange:O("type"),children:jje.map(N=>d.jsx("option",{children:N},N))})})]}),d.jsx(Fi,{label:"Address *",children:d.jsxs("div",{className:"relative",children:[d.jsx(Up,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400"}),d.jsx("input",{className:"input-base pl-9",placeholder:"Full street address",value:A.address,onChange:O("address"),required:!0})]})}),d.jsxs("div",{className:"bg-stone-50 rounded-xl p-4 border border-stone-100",children:[d.jsx("p",{className:"font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-3",children:"Multi-Unit Building (Optional)"}),d.jsx("p",{className:"font-body text-xs text-stone-400 mb-3",children:"Use these fields if this property is part of a building with multiple units. This helps tenants identify their exact apartment."}),d.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[d.jsx(Fi,{label:"Building Name",children:d.jsxs("div",{className:"relative",children:[d.jsx(Cs,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400"}),d.jsx("input",{className:"input-base pl-9",placeholder:"e.g. Sunset Apartments",value:A.buildingName,onChange:O("buildingName")})]})}),d.jsx(Fi,{label:"Unit Number",children:d.jsxs("div",{className:"relative",children:[d.jsx(sp,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400"}),d.jsx("input",{className:"input-base pl-9",placeholder:"e.g. 4B, 101, A-12",value:A.unitNumber,onChange:O("unitNumber")})]})}),d.jsx(Fi,{label:"Floor",children:d.jsx("input",{className:"input-base",type:"number",placeholder:"e.g. 2",value:A.floor,onChange:O("floor")})})]})]}),d.jsx(Fi,{label:"Status",children:d.jsx("div",{className:"flex gap-2",children:Oje.map(N=>d.jsx("button",{type:"button",onClick:()=>P(k=>({...k,status:N})),className:`flex-1 py-2.5 rounded-xl text-sm font-body font-medium border capitalize transition-all ${A.status===N?N==="occupied"?"bg-sage/10 text-sage border-sage/30":N==="vacant"?"bg-amber/10 text-amber border-amber/30":"bg-rust/10 text-rust border-rust/30":"bg-stone-50 text-stone-400 border-stone-200 hover:bg-stone-100"}`,children:N},N))})})]}),d.jsxs(A_,{title:"Financials & Specs",children:[d.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[d.jsx(Fi,{label:`Rent Amount (${r})`,children:d.jsx("input",{className:"input-base",type:"number",placeholder:"e.g. 250000",value:A.monthlyRent,onChange:O("monthlyRent")})}),d.jsx(Fi,{label:"Rent Duration",children:d.jsx("select",{className:"input-base",value:A.rentType,onChange:O("rentType"),children:nW.map(({value:N,label:k})=>d.jsx("option",{value:N,children:k},N))})}),d.jsx(Fi,{label:"Bedrooms",children:d.jsxs("div",{className:"relative",children:[d.jsx(iV,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400"}),d.jsx("input",{className:"input-base pl-9",type:"number",placeholder:"3",value:A.bedrooms,onChange:O("bedrooms")})]})}),d.jsx(Fi,{label:"Bathrooms",children:d.jsxs("div",{className:"relative",children:[d.jsx(rV,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400"}),d.jsx("input",{className:"input-base pl-9",type:"number",placeholder:"2",value:A.bathrooms,onChange:O("bathrooms")})]})})]}),A.monthlyRent&&d.jsxs("p",{className:"font-body text-xs text-stone-400 mt-1",children:["Displays as: ",d.jsx("span",{className:"font-semibold text-sage",children:e(parseInt(A.monthlyRent),A.rentType)})]}),d.jsx(Fi,{label:"Area (sqft)",children:d.jsx("input",{className:"input-base",type:"number",placeholder:"e.g. 1200",value:A.sqft,onChange:O("sqft")})})]}),A.status==="occupied"&&d.jsx(A_,{title:"Tenant Information",children:d.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[d.jsx(Fi,{label:"Tenant Name",children:d.jsx("input",{className:"input-base",placeholder:"Full name",value:A.tenantName,onChange:O("tenantName")})}),d.jsx(Fi,{label:"Tenant Phone",children:d.jsx("input",{className:"input-base",placeholder:"+1 555 000 0000",value:A.tenantPhone,onChange:O("tenantPhone")})}),d.jsx(Fi,{label:"Tenant Email",className:"sm:col-span-2",children:d.jsx("input",{className:"input-base",type:"email",placeholder:"tenant@email.com",value:A.tenantEmail,onChange:O("tenantEmail")})})]})}),d.jsx(Fi,{label:"Notes (optional)",children:d.jsx("textarea",{className:"input-base min-h-[72px] resize-none",placeholder:"Any additional details",value:A.description,onChange:O("description")})}),d.jsxs("div",{className:"flex gap-3 pt-2 justify-end",children:[d.jsx("button",{type:"button",onClick:()=>x(!1),className:"btn-secondary",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:v,className:"btn-primary",children:v?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(Os,{size:15})," Save Property"]})})]})]})})]})}function A_({title:t,children:e}){return d.jsxs("div",{children:[d.jsx("p",{className:"font-body text-xs font-semibold text-stone-400 uppercase tracking-wider mb-3 pb-2 border-b border-stone-100",children:t}),d.jsx("div",{className:"space-y-3",children:e})]})}function Fi({label:t,children:e,className:n=""}){return d.jsxs("div",{className:n,children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:t}),e]})}async function Mje(t){await Vs(Un(Lt,"invoices",t),{status:"cancelled",updatedAt:ni()})}async function Dje(t){const e=await $p(ns(ea(Lt,"invoices"),Ur("tenancyId","==",t),Ur("status","in",["draft","sent"]))),n=e.docs.map(r=>Mje(r.id));return await Promise.all(n),e.docs.length}const Fje="modulepreload",$je=function(t){return"/"+t},oM={},N_=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=$je(l),l in oM)return;oM[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Fje,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};function _n(t){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_n(t)}var go=Uint8Array,Ka=Uint16Array,xk=Int32Array,wk=new go([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_k=new go([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),lM=new go([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),rW=function(t,e){for(var n=new Ka(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new xk(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},iW=rW(wk,2),Bje=iW.b,yE=iW.r;Bje[28]=258,yE[258]=28;var Vje=rW(_k,0),cM=Vje.r,vE=new Ka(32768);for(var Kn=0;Kn<32768;++Kn){var zc=(Kn&43690)>>1|(Kn&21845)<<1;zc=(zc&52428)>>2|(zc&13107)<<2,zc=(zc&61680)>>4|(zc&3855)<<4,vE[Kn]=((zc&65280)>>8|(zc&255)<<8)>>1}var Lg=function(t,e,n){for(var r=t.length,i=0,a=new Ka(e);i<r;++i)t[i]&&++a[t[i]-1];var s=new Ka(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(n){o=new Ka(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],f=s[t[i]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)o[vE[f]>>l]=c}else for(o=new Ka(r),i=0;i<r;++i)t[i]&&(o[i]=vE[s[t[i]-1]++]>>15-t[i]);return o},cd=new go(288);for(var Kn=0;Kn<144;++Kn)cd[Kn]=8;for(var Kn=144;Kn<256;++Kn)cd[Kn]=9;for(var Kn=256;Kn<280;++Kn)cd[Kn]=7;for(var Kn=280;Kn<288;++Kn)cd[Kn]=8;var B2=new go(32);for(var Kn=0;Kn<32;++Kn)B2[Kn]=5;var Uje=Lg(cd,9,0),zje=Lg(B2,5,0),aW=function(t){return(t+7)/8|0},qje=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new go(t.subarray(e,n))},Pl=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Km=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},E_=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:oW,l:0};if(i==1){var s=new go(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(P,O){return P.f-O.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,u=1,f=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=n[n[c].f<n[f].f?c++:f++],l=n[c!=u&&n[c].f<n[f].f?c++:f++],n[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=a[0].s,r=1;r<i;++r)a[r].s>h&&(h=a[r].s);var p=new Ka(h+1),y=bE(n[u-1],p,0);if(y>e){var r=0,b=0,x=y-e,v=1<<x;for(a.sort(function(O,I){return p[I.s]-p[O.s]||O.f-I.f});r<i;++r){var w=a[r].s;if(p[w]>e)b+=v-(1<<y-p[w]),p[w]=e;else break}for(b>>=x;b>0;){var S=a[r].s;p[S]<e?b-=1<<e-p[S]++-1:++r}for(;r>=0&&b;--r){var A=a[r].s;p[A]==e&&(--p[A],++b)}y=e}return{t:new go(p),l:y}},bE=function(t,e,n){return t.s==-1?Math.max(bE(t.l,e,n+1),bE(t.r,e,n+1)):e[t.s]=n},uM=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Ka(++e),r=0,i=t[0],a=1,s=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[o]}return{c:n.subarray(0,r),n:e}},Ym=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},sW=function(t,e,n){var r=n.length,i=aW(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},fM=function(t,e,n,r,i,a,s,o,l,c,u){Pl(e,u++,n),++i[256];for(var f=E_(i,15),h=f.t,p=f.l,y=E_(a,15),b=y.t,x=y.l,v=uM(h),w=v.c,S=v.n,A=uM(b),P=A.c,O=A.n,I=new Ka(19),E=0;E<w.length;++E)++I[w[E]&31];for(var E=0;E<P.length;++E)++I[P[E]&31];for(var C=E_(I,7),M=C.t,N=C.l,k=19;k>4&&!M[lM[k-1]];--k);var j=c+5<<3,B=Ym(i,cd)+Ym(a,B2)+s,G=Ym(i,h)+Ym(a,b)+s+14+3*k+Ym(I,M)+2*I[16]+3*I[17]+7*I[18];if(l>=0&&j<=B&&j<=G)return sW(e,u,t.subarray(l,l+c));var Z,ie,X,ae;if(Pl(e,u,1+(G<B)),u+=2,G<B){Z=Lg(h,p,0),ie=h,X=Lg(b,x,0),ae=b;var ue=Lg(M,N,0);Pl(e,u,S-257),Pl(e,u+5,O-1),Pl(e,u+10,k-4),u+=14;for(var E=0;E<k;++E)Pl(e,u+3*E,M[lM[E]]);u+=3*k;for(var de=[w,P],$=0;$<2;++$)for(var K=de[$],E=0;E<K.length;++E){var re=K[E]&31;Pl(e,u,ue[re]),u+=M[re],re>15&&(Pl(e,u,K[E]>>5&127),u+=K[E]>>12)}}else Z=Uje,ie=cd,X=zje,ae=B2;for(var E=0;E<o;++E){var se=r[E];if(se>255){var re=se>>18&31;Km(e,u,Z[re+257]),u+=ie[re+257],re>7&&(Pl(e,u,se>>23&31),u+=wk[re]);var le=se&31;Km(e,u,X[le]),u+=ae[le],le>3&&(Km(e,u,se>>5&8191),u+=_k[le])}else Km(e,u,Z[se]),u+=ie[se]}return Km(e,u,Z[256]),u+ie[256]},Wje=new xk([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),oW=new go(0),Hje=function(t,e,n,r,i,a){var s=a.z||t.length,o=new go(r+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(r,o.length-i),c=a.l,u=(a.r||0)&7;if(e){u&&(l[0]=a.r>>3);for(var f=Wje[e-1],h=f>>13,p=f&8191,y=(1<<n)-1,b=a.p||new Ka(32768),x=a.h||new Ka(y+1),v=Math.ceil(n/3),w=2*v,S=function($e){return(t[$e]^t[$e+1]<<v^t[$e+2]<<w)&y},A=new xk(25e3),P=new Ka(288),O=new Ka(32),I=0,E=0,C=a.i||0,M=0,N=a.w||0,k=0;C+2<s;++C){var j=S(C),B=C&32767,G=x[j];if(b[B]=G,x[j]=B,N<=C){var Z=s-C;if((I>7e3||M>24576)&&(Z>423||!c)){u=fM(t,l,0,A,P,O,E,M,k,C-k,u),M=I=E=0,k=C;for(var ie=0;ie<286;++ie)P[ie]=0;for(var ie=0;ie<30;++ie)O[ie]=0}var X=2,ae=0,ue=p,de=B-G&32767;if(Z>2&&j==S(C-de))for(var $=Math.min(h,Z)-1,K=Math.min(32767,C),re=Math.min(258,Z);de<=K&&--ue&&B!=G;){if(t[C+X]==t[C+X-de]){for(var se=0;se<re&&t[C+se]==t[C+se-de];++se);if(se>X){if(X=se,ae=de,se>$)break;for(var le=Math.min(de,se-2),me=0,ie=0;ie<le;++ie){var Se=C-de+ie&32767,ce=b[Se],xe=Se-ce&32767;xe>me&&(me=xe,G=Se)}}}B=G,G=b[B],de+=B-G&32767}if(ae){A[M++]=268435456|yE[X]<<18|cM[ae];var Ne=yE[X]&31,ye=cM[ae]&31;E+=wk[Ne]+_k[ye],++P[257+Ne],++O[ye],N=C+X,++I}else A[M++]=t[C],++P[t[C]]}}for(C=Math.max(C,N);C<s;++C)A[M++]=t[C],++P[t[C]];u=fM(t,l,c,A,P,O,E,M,k,C-k,u),c||(a.r=u&7|l[u/8|0]<<3,u-=7,a.h=x,a.p=b,a.i=C,a.w=N)}else{for(var C=a.w||0;C<s+c;C+=65535){var Me=C+65535;Me>=s&&(l[u/8|0]=c,Me=s),u=sW(l,u+1,t.subarray(C,Me))}a.i=s}return qje(o,0,r+aW(u)+i)},lW=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Gje=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new go(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return Hje(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},cW=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Kje=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=lW();i.p(e.dictionary),cW(t,2,i.d())}};function xE(t,e){e||(e={});var n=lW();n.p(t);var r=Gje(t,e,e.dictionary?6:2,4);return Kje(r,e),cW(r,r.length-4,n.d()),r}var Yje=typeof TextDecoder<"u"&&new TextDecoder,Xje=0;try{Yje.decode(oW,{stream:!0}),Xje=1}catch{}function Qje(t){if(Array.isArray(t))return t}function Jje(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function dM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Zje(t,e){if(t){if(typeof t=="string")return dM(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dM(t,e):void 0}}function eOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hM(t,e){return Qje(t)||Jje(t,e)||Zje(t,e)||eOe()}function pM(t,e="utf8"){return new TextDecoder(e).decode(t)}const tOe=new TextEncoder;function nOe(t){return tOe.encode(t)}const rOe=1024*8,iOe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),P_={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Sk{constructor(e=rOe,n={}){xn(this,"buffer");xn(this,"byteLength");xn(this,"byteOffset");xn(this,"length");xn(this,"offset");xn(this,"lastWrittenByte");xn(this,"littleEndian");xn(this,"_data");xn(this,"_mark");xn(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof Sk)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=P_[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===iOe&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const l=new P_[n](o.buffer);return this.offset+=r,l.reverse(),l}const s=new P_[n](a);return this.offset+=r,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return pM(this.readBytes(e))}decodeText(e=1,n="utf8"){return pM(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(nOe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function rm(t){let e=t.length;for(;--e>=0;)t[e]=0}const aOe=3,sOe=258,uW=29,oOe=256,lOe=oOe+1+uW,fW=30,cOe=512,uOe=new Array((lOe+2)*2);rm(uOe);const fOe=new Array(fW*2);rm(fOe);const dOe=new Array(cOe);rm(dOe);const hOe=new Array(sOe-aOe+1);rm(hOe);const pOe=new Array(uW);rm(pOe);const mOe=new Array(fW);rm(mOe);const gOe=(t,e,n,r)=>{let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var wE=gOe;const yOe=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},vOe=new Uint32Array(yOe()),bOe=(t,e,n,r)=>{const i=vOe,a=r+n;t^=-1;for(let s=r;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var Ro=bOe,_E={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},dW={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const xOe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var wOe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)xOe(n,r)&&(t[r]=n[r])}}return t},_Oe=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,a=t.length;r<a;r++){let s=t[r];n.set(s,i),i+=s.length}return n},hW={assign:wOe,flattenChunks:_Oe};let pW=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{pW=!1}const nv=new Uint8Array(256);for(let t=0;t<256;t++)nv[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;nv[254]=nv[254]=1;var SOe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,a,s=t.length,o=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),a=0,i=0;a<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|n&63):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|n&63):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|n&63);return e};const AOe=(t,e)=>{if(e<65534&&t.subarray&&pW)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var NOe=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){a[i++]=s;continue}let o=nv[s];if(o>4){a[i++]=65533,r+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&r<n;)s=s<<6|t[r++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return AOe(a,i)},EOe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+nv[t[n]]>e?n:e},SE={string2buf:SOe,buf2string:NOe,utf8border:EOe};function POe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var TOe=POe;const J0=16209,kOe=16191;var COe=function(e,n){let r,i,a,s,o,l,c,u,f,h,p,y,b,x,v,w,S,A,P,O,I,E,C,M;const N=e.state;r=e.next_in,C=e.input,i=r+(e.avail_in-5),a=e.next_out,M=e.output,s=a-(n-e.avail_out),o=a+(e.avail_out-257),l=N.dmax,c=N.wsize,u=N.whave,f=N.wnext,h=N.window,p=N.hold,y=N.bits,b=N.lencode,x=N.distcode,v=(1<<N.lenbits)-1,w=(1<<N.distbits)-1;e:do{y<15&&(p+=C[r++]<<y,y+=8,p+=C[r++]<<y,y+=8),S=b[p&v];t:for(;;){if(A=S>>>24,p>>>=A,y-=A,A=S>>>16&255,A===0)M[a++]=S&65535;else if(A&16){P=S&65535,A&=15,A&&(y<A&&(p+=C[r++]<<y,y+=8),P+=p&(1<<A)-1,p>>>=A,y-=A),y<15&&(p+=C[r++]<<y,y+=8,p+=C[r++]<<y,y+=8),S=x[p&w];n:for(;;){if(A=S>>>24,p>>>=A,y-=A,A=S>>>16&255,A&16){if(O=S&65535,A&=15,y<A&&(p+=C[r++]<<y,y+=8,y<A&&(p+=C[r++]<<y,y+=8)),O+=p&(1<<A)-1,O>l){e.msg="invalid distance too far back",N.mode=J0;break e}if(p>>>=A,y-=A,A=a-s,O>A){if(A=O-A,A>u&&N.sane){e.msg="invalid distance too far back",N.mode=J0;break e}if(I=0,E=h,f===0){if(I+=c-A,A<P){P-=A;do M[a++]=h[I++];while(--A);I=a-O,E=M}}else if(f<A){if(I+=c+f-A,A-=f,A<P){P-=A;do M[a++]=h[I++];while(--A);if(I=0,f<P){A=f,P-=A;do M[a++]=h[I++];while(--A);I=a-O,E=M}}}else if(I+=f-A,A<P){P-=A;do M[a++]=h[I++];while(--A);I=a-O,E=M}for(;P>2;)M[a++]=E[I++],M[a++]=E[I++],M[a++]=E[I++],P-=3;P&&(M[a++]=E[I++],P>1&&(M[a++]=E[I++]))}else{I=a-O;do M[a++]=M[I++],M[a++]=M[I++],M[a++]=M[I++],P-=3;while(P>2);P&&(M[a++]=M[I++],P>1&&(M[a++]=M[I++]))}}else if(A&64){e.msg="invalid distance code",N.mode=J0;break e}else{S=x[(S&65535)+(p&(1<<A)-1)];continue n}break}}else if(A&64)if(A&32){N.mode=kOe;break e}else{e.msg="invalid literal/length code",N.mode=J0;break e}else{S=b[(S&65535)+(p&(1<<A)-1)];continue t}break}}while(r<i&&a<o);P=y>>3,r-=P,y-=P<<3,p&=(1<<y)-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=a<o?257+(o-a):257-(a-o),N.hold=p,N.bits=y};const Ud=15,mM=852,gM=592,yM=0,T_=1,vM=2,IOe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),jOe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),OOe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ROe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),LOe=(t,e,n,r,i,a,s,o)=>{const l=o.bits;let c=0,u=0,f=0,h=0,p=0,y=0,b=0,x=0,v=0,w=0,S,A,P,O,I,E=null,C;const M=new Uint16Array(Ud+1),N=new Uint16Array(Ud+1);let k=null,j,B,G;for(c=0;c<=Ud;c++)M[c]=0;for(u=0;u<r;u++)M[e[n+u]]++;for(p=l,h=Ud;h>=1&&M[h]===0;h--);if(p>h&&(p=h),h===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<h&&M[f]===0;f++);for(p<f&&(p=f),x=1,c=1;c<=Ud;c++)if(x<<=1,x-=M[c],x<0)return-1;if(x>0&&(t===yM||h!==1))return-1;for(N[1]=0,c=1;c<Ud;c++)N[c+1]=N[c]+M[c];for(u=0;u<r;u++)e[n+u]!==0&&(s[N[e[n+u]]++]=u);if(t===yM?(E=k=s,C=20):t===T_?(E=IOe,k=jOe,C=257):(E=OOe,k=ROe,C=0),w=0,u=0,c=f,I=a,y=p,b=0,P=-1,v=1<<p,O=v-1,t===T_&&v>mM||t===vM&&v>gM)return 1;for(;;){j=c-b,s[u]+1<C?(B=0,G=s[u]):s[u]>=C?(B=k[s[u]-C],G=E[s[u]-C]):(B=96,G=0),S=1<<c-b,A=1<<y,f=A;do A-=S,i[I+(w>>b)+A]=j<<24|B<<16|G|0;while(A!==0);for(S=1<<c-1;w&S;)S>>=1;if(S!==0?(w&=S-1,w+=S):w=0,u++,--M[c]===0){if(c===h)break;c=e[n+s[u]]}if(c>p&&(w&O)!==P){for(b===0&&(b=p),I+=f,y=c-b,x=1<<y;y+b<h&&(x-=M[y+b],!(x<=0));)y++,x<<=1;if(v+=1<<y,t===T_&&v>mM||t===vM&&v>gM)return 1;P=w&O,i[P]=p<<24|y<<16|I-a|0}}return w!==0&&(i[I+w]=c-b<<24|64<<16|0),o.bits=p,0};var Mg=LOe;const MOe=0,mW=1,gW=2,{Z_FINISH:bM,Z_BLOCK:DOe,Z_TREES:Z0,Z_OK:ud,Z_STREAM_END:FOe,Z_NEED_DICT:$Oe,Z_STREAM_ERROR:$s,Z_DATA_ERROR:yW,Z_MEM_ERROR:vW,Z_BUF_ERROR:BOe,Z_DEFLATED:xM}=dW,jw=16180,wM=16181,_M=16182,SM=16183,AM=16184,NM=16185,EM=16186,PM=16187,TM=16188,kM=16189,V2=16190,Tl=16191,k_=16192,CM=16193,C_=16194,IM=16195,jM=16196,OM=16197,RM=16198,e1=16199,t1=16200,LM=16201,MM=16202,DM=16203,FM=16204,$M=16205,I_=16206,BM=16207,VM=16208,Zn=16209,bW=16210,xW=16211,VOe=852,UOe=592,zOe=15,qOe=zOe,UM=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function WOe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ad=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<jw||e.mode>xW?1:0},wW=t=>{if(Ad(t))return $s;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=jw,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(VOe),e.distcode=e.distdyn=new Int32Array(UOe),e.sane=1,e.back=-1,ud},_W=t=>{if(Ad(t))return $s;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,wW(t)},SW=(t,e)=>{let n;if(Ad(t))return $s;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?$s:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,_W(t))},AW=(t,e)=>{if(!t)return $s;const n=new WOe;t.state=n,n.strm=t,n.window=null,n.mode=jw;const r=SW(t,e);return r!==ud&&(t.state=null),r},HOe=t=>AW(t,qOe);let zM=!0,j_,O_;const GOe=t=>{if(zM){j_=new Int32Array(512),O_=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Mg(mW,t.lens,0,288,j_,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Mg(gW,t.lens,0,32,O_,0,t.work,{bits:5}),zM=!1}t.lencode=j_,t.lenbits=9,t.distcode=O_,t.distbits=5},NW=(t,e,n,r)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(e.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(e.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(e.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},KOe=(t,e)=>{let n,r,i,a,s,o,l,c,u,f,h,p,y,b,x=0,v,w,S,A,P,O,I,E;const C=new Uint8Array(4);let M,N;const k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ad(t)||!t.output||!t.input&&t.avail_in!==0)return $s;n=t.state,n.mode===Tl&&(n.mode=k_),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,r=t.input,o=t.avail_in,c=n.hold,u=n.bits,f=o,h=l,E=ud;e:for(;;)switch(n.mode){case jw:if(n.wrap===0){n.mode=k_;break}for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,C[0]=c&255,C[1]=c>>>8&255,n.check=Ro(n.check,C,2,0),c=0,u=0,n.mode=wM;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=Zn;break}if((c&15)!==xM){t.msg="unknown compression method",n.mode=Zn;break}if(c>>>=4,u-=4,I=(c&15)+8,n.wbits===0&&(n.wbits=I),I>15||I>n.wbits){t.msg="invalid window size",n.mode=Zn;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=c&512?kM:Tl,c=0,u=0;break;case wM:for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==xM){t.msg="unknown compression method",n.mode=Zn;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Zn;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,n.check=Ro(n.check,C,2,0)),c=0,u=0,n.mode=_M;case _M:for(;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,C[2]=c>>>16&255,C[3]=c>>>24&255,n.check=Ro(n.check,C,4,0)),c=0,u=0,n.mode=SM;case SM:for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,n.check=Ro(n.check,C,2,0)),c=0,u=0,n.mode=AM;case AM:if(n.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,n.check=Ro(n.check,C,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=NM;case NM:if(n.flags&1024&&(p=n.length,p>o&&(p=o),p&&(n.head&&(I=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+p),I)),n.flags&512&&n.wrap&4&&(n.check=Ro(n.check,r,p,a)),o-=p,a+=p,n.length-=p),n.length))break e;n.length=0,n.mode=EM;case EM:if(n.flags&2048){if(o===0)break e;p=0;do I=r[a+p++],n.head&&I&&n.length<65536&&(n.head.name+=String.fromCharCode(I));while(I&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=Ro(n.check,r,p,a)),o-=p,a+=p,I)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=PM;case PM:if(n.flags&4096){if(o===0)break e;p=0;do I=r[a+p++],n.head&&I&&n.length<65536&&(n.head.comment+=String.fromCharCode(I));while(I&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=Ro(n.check,r,p,a)),o-=p,a+=p,I)break e}else n.head&&(n.head.comment=null);n.mode=TM;case TM:if(n.flags&512){for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.wrap&4&&c!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Zn;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Tl;break;case kM:for(;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}t.adler=n.check=UM(c),c=0,u=0,n.mode=V2;case V2:if(n.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=c,n.bits=u,$Oe;t.adler=n.check=1,n.mode=Tl;case Tl:if(e===DOe||e===Z0)break e;case k_:if(n.last){c>>>=u&7,u-=u&7,n.mode=I_;break}for(;u<3;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=CM;break;case 1:if(GOe(n),n.mode=e1,e===Z0){c>>>=2,u-=2;break e}break;case 2:n.mode=jM;break;case 3:t.msg="invalid block type",n.mode=Zn}c>>>=2,u-=2;break;case CM:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Zn;break}if(n.length=c&65535,c=0,u=0,n.mode=C_,e===Z0)break e;case C_:n.mode=IM;case IM:if(p=n.length,p){if(p>o&&(p=o),p>l&&(p=l),p===0)break e;i.set(r.subarray(a,a+p),s),o-=p,a+=p,l-=p,s+=p,n.length-=p;break}n.mode=Tl;break;case jM:for(;u<14;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Zn;break}n.have=0,n.mode=OM;case OM:for(;n.have<n.ncode;){for(;u<3;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.lens[k[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[k[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M={bits:n.lenbits},E=Mg(MOe,n.lens,0,19,n.lencode,0,n.work,M),n.lenbits=M.bits,E){t.msg="invalid code lengths set",n.mode=Zn;break}n.have=0,n.mode=RM;case RM:for(;n.have<n.nlen+n.ndist;){for(;x=n.lencode[c&(1<<n.lenbits)-1],v=x>>>24,w=x>>>16&255,S=x&65535,!(v<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(S<16)c>>>=v,u-=v,n.lens[n.have++]=S;else{if(S===16){for(N=v+2;u<N;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(c>>>=v,u-=v,n.have===0){t.msg="invalid bit length repeat",n.mode=Zn;break}I=n.lens[n.have-1],p=3+(c&3),c>>>=2,u-=2}else if(S===17){for(N=v+3;u<N;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=v,u-=v,I=0,p=3+(c&7),c>>>=3,u-=3}else{for(N=v+7;u<N;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=v,u-=v,I=0,p=11+(c&127),c>>>=7,u-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Zn;break}for(;p--;)n.lens[n.have++]=I}}if(n.mode===Zn)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Zn;break}if(n.lenbits=9,M={bits:n.lenbits},E=Mg(mW,n.lens,0,n.nlen,n.lencode,0,n.work,M),n.lenbits=M.bits,E){t.msg="invalid literal/lengths set",n.mode=Zn;break}if(n.distbits=6,n.distcode=n.distdyn,M={bits:n.distbits},E=Mg(gW,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,M),n.distbits=M.bits,E){t.msg="invalid distances set",n.mode=Zn;break}if(n.mode=e1,e===Z0)break e;case e1:n.mode=t1;case t1:if(o>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=c,n.bits=u,COe(t,h),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,r=t.input,o=t.avail_in,c=n.hold,u=n.bits,n.mode===Tl&&(n.back=-1);break}for(n.back=0;x=n.lencode[c&(1<<n.lenbits)-1],v=x>>>24,w=x>>>16&255,S=x&65535,!(v<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(w&&!(w&240)){for(A=v,P=w,O=S;x=n.lencode[O+((c&(1<<A+P)-1)>>A)],v=x>>>24,w=x>>>16&255,S=x&65535,!(A+v<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=A,u-=A,n.back+=A}if(c>>>=v,u-=v,n.back+=v,n.length=S,w===0){n.mode=$M;break}if(w&32){n.back=-1,n.mode=Tl;break}if(w&64){t.msg="invalid literal/length code",n.mode=Zn;break}n.extra=w&15,n.mode=LM;case LM:if(n.extra){for(N=n.extra;u<N;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=MM;case MM:for(;x=n.distcode[c&(1<<n.distbits)-1],v=x>>>24,w=x>>>16&255,S=x&65535,!(v<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(!(w&240)){for(A=v,P=w,O=S;x=n.distcode[O+((c&(1<<A+P)-1)>>A)],v=x>>>24,w=x>>>16&255,S=x&65535,!(A+v<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=A,u-=A,n.back+=A}if(c>>>=v,u-=v,n.back+=v,w&64){t.msg="invalid distance code",n.mode=Zn;break}n.offset=S,n.extra=w&15,n.mode=DM;case DM:if(n.extra){for(N=n.extra;u<N;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Zn;break}n.mode=FM;case FM:if(l===0)break e;if(p=h-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Zn;break}p>n.wnext?(p-=n.wnext,y=n.wsize-p):y=n.wnext-p,p>n.length&&(p=n.length),b=n.window}else b=i,y=s-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do i[s++]=b[y++];while(--p);n.length===0&&(n.mode=t1);break;case $M:if(l===0)break e;i[s++]=n.length,l--,n.mode=t1;break;case I_:if(n.wrap){for(;u<32;){if(o===0)break e;o--,c|=r[a++]<<u,u+=8}if(h-=l,t.total_out+=h,n.total+=h,n.wrap&4&&h&&(t.adler=n.check=n.flags?Ro(n.check,i,h,s-h):wE(n.check,i,h,s-h)),h=l,n.wrap&4&&(n.flags?c:UM(c))!==n.check){t.msg="incorrect data check",n.mode=Zn;break}c=0,u=0}n.mode=BM;case BM:if(n.wrap&&n.flags){for(;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.wrap&4&&c!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Zn;break}c=0,u=0}n.mode=VM;case VM:E=FOe;break e;case Zn:E=yW;break e;case bW:return vW;case xW:default:return $s}return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=c,n.bits=u,(n.wsize||h!==t.avail_out&&n.mode<Zn&&(n.mode<I_||e!==bM))&&NW(t,t.output,t.next_out,h-t.avail_out),f-=t.avail_in,h-=t.avail_out,t.total_in+=f,t.total_out+=h,n.total+=h,n.wrap&4&&h&&(t.adler=n.check=n.flags?Ro(n.check,i,h,t.next_out-h):wE(n.check,i,h,t.next_out-h)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Tl?128:0)+(n.mode===e1||n.mode===C_?256:0),(f===0&&h===0||e===bM)&&E===ud&&(E=BOe),E},YOe=t=>{if(Ad(t))return $s;let e=t.state;return e.window&&(e.window=null),t.state=null,ud},XOe=(t,e)=>{if(Ad(t))return $s;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,ud):$s},QOe=(t,e)=>{const n=e.length;let r,i,a;return Ad(t)||(r=t.state,r.wrap!==0&&r.mode!==V2)?$s:r.mode===V2&&(i=1,i=wE(i,e,n,0),i!==r.check)?yW:(a=NW(t,e,n,n),a?(r.mode=bW,vW):(r.havedict=1,ud))};var JOe=_W,ZOe=SW,eRe=wW,tRe=HOe,nRe=AW,rRe=KOe,iRe=YOe,aRe=XOe,sRe=QOe,oRe="pako inflate (from Nodeca project)",Il={inflateReset:JOe,inflateReset2:ZOe,inflateResetKeep:eRe,inflateInit:tRe,inflateInit2:nRe,inflate:rRe,inflateEnd:iRe,inflateGetHeader:aRe,inflateSetDictionary:sRe,inflateInfo:oRe};function lRe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var cRe=lRe;const EW=Object.prototype.toString,{Z_NO_FLUSH:uRe,Z_FINISH:fRe,Z_OK:rv,Z_STREAM_END:R_,Z_NEED_DICT:L_,Z_STREAM_ERROR:dRe,Z_DATA_ERROR:qM,Z_MEM_ERROR:hRe}=dW;function Uv(t){this.options=hW.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new TOe,this.strm.avail_out=0;let n=Il.inflateInit2(this.strm,e.windowBits);if(n!==rv)throw new Error(_E[n]);if(this.header=new cRe,Il.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=SE.string2buf(e.dictionary):EW.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Il.inflateSetDictionary(this.strm,e.dictionary),n!==rv)))throw new Error(_E[n])}Uv.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?fRe:uRe,EW.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=Il.inflate(n,s),a===L_&&i&&(a=Il.inflateSetDictionary(n,i),a===rv?a=Il.inflate(n,s):a===qM&&(a=L_));n.avail_in>0&&a===R_&&n.state.wrap>0&&t[n.next_in]!==0;)Il.inflateReset(n),a=Il.inflate(n,s);switch(a){case dRe:case qM:case L_:case hRe:return this.onEnd(a),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||a===R_))if(this.options.to==="string"){let l=SE.utf8border(n.output,n.next_out),c=n.next_out-l,u=SE.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===rv&&o===0)){if(a===R_)return a=Il.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Uv.prototype.onData=function(t){this.chunks.push(t)};Uv.prototype.onEnd=function(t){t===rv&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=hW.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function pRe(t,e){const n=new Uv(e);if(n.push(t),n.err)throw n.msg||_E[n.err];return n.result}var mRe=Uv,gRe=pRe,yRe={Inflate:mRe,inflate:gRe};const{Inflate:vRe,inflate:bRe}=yRe;var WM=vRe,xRe=bRe;const PW=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;PW[t]=e}const HM=4294967295;function wRe(t,e,n){let r=t;for(let i=0;i<n;i++)r=PW[(r^e[i])&255]^r>>>8;return r}function _Re(t,e){return(wRe(HM,t,e)^HM)>>>0}function GM(t,e,n){const r=t.readUint32(),i=_Re(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function TW(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function kW(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function CW(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function IW(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(n[a]>>1)&255;for(;a<r;a++)e[a]=t[a]+(e[a-i]+n[a]>>1)&255}}function jW(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+n[a]&255;for(;a<r;a++)e[a]=t[a]+SRe(e[a-i],n[a],n[a-i])&255}}function SRe(t,e,n){const r=t+e-n,i=Math.abs(r-t),a=Math.abs(r-e),s=Math.abs(r-n);return i<=a&&i<=s?t:a<=s?e:n}function ARe(t,e,n,r,i,a){switch(t){case 0:TW(e,n,i);break;case 1:kW(e,n,i,a);break;case 2:CW(e,n,r,i);break;case 3:IW(e,n,r,i,a);break;case 4:jW(e,n,r,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const NRe=new Uint16Array([255]),ERe=new Uint8Array(NRe.buffer),PRe=ERe[0]===255;function TRe(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(r*n*o);let c=0;for(let u=0;u<7;u++){const f=s[u],h=Math.ceil((n-f.x)/f.xStep),p=Math.ceil((r-f.y)/f.yStep);if(h<=0||p<=0)continue;const y=h*o,b=new Uint8Array(y);for(let x=0;x<p;x++){const v=e[c++],w=e.subarray(c,c+y);c+=y;const S=new Uint8Array(y);ARe(v,w,S,b,y,o),b.set(S);for(let A=0;A<h;A++){const P=f.x+A*f.xStep,O=f.y+x*f.yStep;if(!(P>=n||O>=r))for(let I=0;I<o;I++)l[(O*n+P)*o+I]=S[A*o+I]}}}if(a===16){const u=new Uint16Array(l.buffer);if(PRe)for(let f=0;f<u.length;f++)u[f]=kRe(u[f]);return u}else return l}function kRe(t){return(t&255)<<8|t>>8&255}const CRe=new Uint16Array([255]),IRe=new Uint8Array(CRe.buffer),jRe=IRe[0]===255,ORe=new Uint8Array(0);function KM(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*n),l=new Uint8Array(r*o);let c=ORe,u=0,f,h;for(let p=0;p<r;p++){switch(f=e.subarray(u+1,u+1+o),h=l.subarray(p*o,(p+1)*o),e[u]){case 0:TW(f,h,o);break;case 1:kW(f,h,o,s);break;case 2:CW(f,h,c,o);break;case 3:IW(f,h,c,o,s);break;case 4:jW(f,h,c,o,s);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=h,u+=o+1}if(a===16){const p=new Uint16Array(l.buffer);if(jRe)for(let y=0;y<p.length;y++)p[y]=RRe(p[y]);return p}else return l}function RRe(t){return(t&255)<<8|t>>8&255}const R1=Uint8Array.of(137,80,78,71,13,10,26,10);function YM(t){if(!LRe(t.readBytes(R1.length)))throw new Error("wrong PNG signature")}function LRe(t){if(t.length<R1.length)return!1;for(let e=0;e<R1.length;e++)if(t[e]!==R1[e])return!1;return!0}const MRe="tEXt",DRe=0,OW=new TextDecoder("latin1");function FRe(t){if(BRe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const $Re=/^[\u0000-\u00FF]*$/;function BRe(t){if(!$Re.test(t))throw new Error("invalid latin1 text")}function VRe(t,e,n){const r=RW(e);t[r]=URe(e,n-r.length-1)}function RW(t){for(t.mark();t.readByte()!==DRe;);const e=t.offset;t.reset();const n=OW.decode(t.readBytes(e-t.offset-1));return t.skip(1),FRe(n),n}function URe(t,e){return OW.decode(t.readBytes(e))}const Va={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},M_={UNKNOWN:-1,DEFLATE:0},XM={UNKNOWN:-1,ADAPTIVE:0},D_={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},n1={NONE:0,BACKGROUND:1,PREVIOUS:2},F_={SOURCE:0,OVER:1};class zRe extends Sk{constructor(n,r={}){super(n);xn(this,"_checkCrc");xn(this,"_inflator");xn(this,"_png");xn(this,"_apng");xn(this,"_end");xn(this,"_hasPalette");xn(this,"_palette");xn(this,"_hasTransparency");xn(this,"_transparency");xn(this,"_compressionMethod");xn(this,"_filterMethod");xn(this,"_interlaceMethod");xn(this,"_colorType");xn(this,"_isAnimated");xn(this,"_numberOfFrames");xn(this,"_numberOfPlays");xn(this,"_frames");xn(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new WM,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=M_.UNKNOWN,this._filterMethod=XM.UNKNOWN,this._interlaceMethod=D_.UNKNOWN,this._colorType=Va.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(YM(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(YM(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case MRe:VRe(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?GM(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?GM(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=qRe(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Va.GREYSCALE:i=1;break;case Va.TRUECOLOUR:i=3;break;case Va.INDEXED_COLOUR:i=1;break;case Va.GREYSCALE_ALPHA:i=2;break;case Va.TRUECOLOUR_ALPHA:i=4;break;case Va.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==M_.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<r;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Va.GREYSCALE:case Va.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Va.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Va.UNKNOWN:case Va.GREYSCALE_ALPHA:case Va.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=RW(this),i=this.readUint8();if(i!==M_.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:xRe(a)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=KM({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const a=this._apng.frames.at(n-1);this.disposeFrame(i,a,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case n1.NONE:break;case n1.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*n.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case n1.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,a=(s,o)=>{const l=((s+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,c=(s*r.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case F_.SOURCE:for(let s=0;s<r.height;s++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++)n.data[l+u]=r.data[c+u]}break;case F_.OVER:for(let s=0;s<r.height;s++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++){const f=r.data[c+this._png.channels-1]/i,h=u%(this._png.channels-1)===0?1:r.data[c+u],p=Math.floor(f*h+(1-f)*n.data[l+u]);n.data[l+u]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==XM.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===D_.NO_INTERLACE)this._png.data=KM({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===D_.ADAM7)this._png.data=TRe({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:n1.NONE,blendOp:F_.SOURCE,data:n}),this._inflator=new WM,this._writingDataChunks=!1}}function qRe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var QM;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(QM||(QM={}));function WRe(t,e){return new zRe(t,e).decode()}var Nt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function $_(){Nt.console&&typeof Nt.console.log=="function"&&Nt.console.log.apply(Nt.console,arguments)}var jn={log:$_,warn:function(t){Nt.console&&(typeof Nt.console.warn=="function"?Nt.console.warn.apply(Nt.console,arguments):$_.call(null,arguments))},error:function(t){Nt.console&&(typeof Nt.console.error=="function"?Nt.console.error.apply(Nt.console,arguments):$_(t))}};function B_(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Af(r.response,e,n)},r.onerror=function(){jn.error("could not download file")},r.send()}function JM(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function r1(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Af=Nt.saveAs||((typeof window>"u"?"undefined":_n(window))!=="object"||window!==Nt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Nt.URL||Nt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?JM(i.href)?B_(t,e,n):r1(i,i.target="_blank"):r1(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){r1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(JM(t))B_(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){r1(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:_n(a)!=="object"&&(jn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return B_(t,e,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(Nt.HTMLElement)||Nt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":_n(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},o.readAsDataURL(t)}else{var l=Nt.URL||Nt.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function LW(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var L1=Nt.atob.bind(Nt),ZM=Nt.btoa.bind(Nt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function V_(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=$i(n,r,i,a,e[0],7,-680876936),a=$i(a,n,r,i,e[1],12,-389564586),i=$i(i,a,n,r,e[2],17,606105819),r=$i(r,i,a,n,e[3],22,-1044525330),n=$i(n,r,i,a,e[4],7,-176418897),a=$i(a,n,r,i,e[5],12,1200080426),i=$i(i,a,n,r,e[6],17,-1473231341),r=$i(r,i,a,n,e[7],22,-45705983),n=$i(n,r,i,a,e[8],7,1770035416),a=$i(a,n,r,i,e[9],12,-1958414417),i=$i(i,a,n,r,e[10],17,-42063),r=$i(r,i,a,n,e[11],22,-1990404162),n=$i(n,r,i,a,e[12],7,1804603682),a=$i(a,n,r,i,e[13],12,-40341101),i=$i(i,a,n,r,e[14],17,-1502002290),n=Bi(n,r=$i(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Bi(a,n,r,i,e[6],9,-1069501632),i=Bi(i,a,n,r,e[11],14,643717713),r=Bi(r,i,a,n,e[0],20,-373897302),n=Bi(n,r,i,a,e[5],5,-701558691),a=Bi(a,n,r,i,e[10],9,38016083),i=Bi(i,a,n,r,e[15],14,-660478335),r=Bi(r,i,a,n,e[4],20,-405537848),n=Bi(n,r,i,a,e[9],5,568446438),a=Bi(a,n,r,i,e[14],9,-1019803690),i=Bi(i,a,n,r,e[3],14,-187363961),r=Bi(r,i,a,n,e[8],20,1163531501),n=Bi(n,r,i,a,e[13],5,-1444681467),a=Bi(a,n,r,i,e[2],9,-51403784),i=Bi(i,a,n,r,e[7],14,1735328473),n=Vi(n,r=Bi(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Vi(a,n,r,i,e[8],11,-2022574463),i=Vi(i,a,n,r,e[11],16,1839030562),r=Vi(r,i,a,n,e[14],23,-35309556),n=Vi(n,r,i,a,e[1],4,-1530992060),a=Vi(a,n,r,i,e[4],11,1272893353),i=Vi(i,a,n,r,e[7],16,-155497632),r=Vi(r,i,a,n,e[10],23,-1094730640),n=Vi(n,r,i,a,e[13],4,681279174),a=Vi(a,n,r,i,e[0],11,-358537222),i=Vi(i,a,n,r,e[3],16,-722521979),r=Vi(r,i,a,n,e[6],23,76029189),n=Vi(n,r,i,a,e[9],4,-640364487),a=Vi(a,n,r,i,e[12],11,-421815835),i=Vi(i,a,n,r,e[15],16,530742520),n=Ui(n,r=Vi(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Ui(a,n,r,i,e[7],10,1126891415),i=Ui(i,a,n,r,e[14],15,-1416354905),r=Ui(r,i,a,n,e[5],21,-57434055),n=Ui(n,r,i,a,e[12],6,1700485571),a=Ui(a,n,r,i,e[3],10,-1894986606),i=Ui(i,a,n,r,e[10],15,-1051523),r=Ui(r,i,a,n,e[1],21,-2054922799),n=Ui(n,r,i,a,e[8],6,1873313359),a=Ui(a,n,r,i,e[15],10,-30611744),i=Ui(i,a,n,r,e[6],15,-1560198380),r=Ui(r,i,a,n,e[13],21,1309151649),n=Ui(n,r,i,a,e[4],6,-145523070),a=Ui(a,n,r,i,e[11],10,-1120210379),i=Ui(i,a,n,r,e[2],15,718787259),r=Ui(r,i,a,n,e[9],21,-343485551),t[0]=uu(n,t[0]),t[1]=uu(r,t[1]),t[2]=uu(i,t[2]),t[3]=uu(a,t[3])}function Ow(t,e,n,r,i,a){return e=uu(uu(e,t),uu(r,a)),uu(e<<i|e>>>32-i,n)}function $i(t,e,n,r,i,a,s){return Ow(e&n|~e&r,t,e,i,a,s)}function Bi(t,e,n,r,i,a,s){return Ow(e&r|n&~r,t,e,i,a,s)}function Vi(t,e,n,r,i,a,s){return Ow(e^n^r,t,e,i,a,s)}function Ui(t,e,n,r,i,a,s){return Ow(n^(e|~r),t,e,i,a,s)}function MW(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)V_(r,HRe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(V_(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,V_(r,i),r}function HRe(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var eD="0123456789abcdef".split("");function GRe(t){for(var e="",n=0;n<4;n++)e+=eD[t>>8*n+4&15]+eD[t>>8*n&15];return e}function KRe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function AE(t){return MW(t).map(KRe).join("")}var YRe=function(t){for(var e=0;e<t.length;e++)t[e]=GRe(t[e]);return t.join("")}(MW("hello"))!="5d41402abc4b2a76b9719d911017c592";function uu(t,e){if(YRe){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function NE(t,e){var n,r,i,a;if(t!==n){for(var s=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}n=t,r=o}else o=r;var f=e.length,h=0,p=0,y="";for(l=0;l<f;l++)p=(p+(u=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=u,s=o[(o[h]+o[p])%256],y+=String.fromCharCode(e.charCodeAt(l)^s);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var tD={print:4,modify:8,copy:16,"annot-forms":32};function Xd(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(tD.perm!==void 0)throw new Error("Invalid permission: "+o);i+=tD[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=AE(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=NE(this.encryptionKey,this.padding)}function Qd(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function nD(t){if(_n(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var s=e[n][a];try{s[0].apply(t,r)}catch(o){Nt.console&&jn.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function U2(t){if(!(this instanceof U2))return new U2(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function DW(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Nf(t,e,n,r,i){if(!(this instanceof Nf))return new Nf(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,DW.call(this,r,i)}function bh(t,e,n,r,i){if(!(this instanceof bh))return new bh(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,DW.call(this,r,i)}function ht(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,c="S",u=null;_n(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,a=t.compress||t.compressPdf||a,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=nD;var y="1.3",b=p.__private__.getPdfVersion=function(){return y};p.__private__.setPdfVersion=function(T){y=T};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return x};var v=p.__private__.getPageFormat=function(T){return x[T]};i=i||"a4";var w="compat",S="advanced",A=w;function P(){this.saveGraphicsState(),q(new yt(Tt,0,0,-Tt,0,fs()*Tt).toString()+" cm"),this.setFontSize(this.getFontSize()/Tt),c="n",A=S}function O(){this.restoreGraphicsState(),c="S",A=w}var I=p.__private__.combineFontStyleAndFontWeight=function(T,V){if(T=="bold"&&V=="normal"||T=="bold"&&V==400||T=="normal"&&V=="italic"||T=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(T=V==400||V==="normal"?T==="italic"?"italic":"normal":V!=700&&V!=="bold"||T!=="normal"?(V==700?"bold":V)+""+T:"bold"),T};p.advancedAPI=function(T){var V=A===w;return V&&P.call(this),typeof T!="function"||(T(this),V&&O.call(this)),this},p.compatAPI=function(T){var V=A===S;return V&&O.call(this),typeof T!="function"||(T(this),V&&P.call(this)),this},p.isAdvancedAPI=function(){return A===S};var E,C=function(T){if(A!==S)throw new Error(T+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=p.roundToPrecision=p.__private__.roundToPrecision=function(T,V){var ee=e||V;if(isNaN(T)||isNaN(ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return T.toFixed(ee).replace(/0+$/,"")};E=p.hpf=p.__private__.hpf=typeof l=="number"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return M(T,l)}:l==="smart"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return M(T,T>-1&&T<1?16:5)}:function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return M(T,16)};var N=p.f2=p.__private__.f2=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f2");return M(T,2)},k=p.__private__.f3=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f3");return M(T,3)},j=p.scale=p.__private__.scale=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.scale");return A===w?T*Tt:A===S?T:void 0},B=function(T){return j(function(V){return A===w?fs()-V:A===S?V:void 0}(T))};p.__private__.setPrecision=p.setPrecision=function(T){typeof parseInt(T,10)=="number"&&(e=parseInt(T,10))};var G,Z="00000000000000000000000000000000",ie=p.__private__.getFileId=function(){return Z},X=p.__private__.setFileId=function(T){return Z=T!==void 0&&/^[a-fA-F0-9]{32}$/.test(T)?T.toUpperCase():Z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(kn=new Xd(u.userPermissions,u.userPassword,u.ownerPassword,Z)),Z};p.setFileId=function(T){return X(T),this},p.getFileId=function(){return ie()};var ae=p.__private__.convertDateToPDFDate=function(T){var V=T.getTimezoneOffset(),ee=V<0?"+":"-",oe=Math.floor(Math.abs(V/60)),ge=Math.abs(V%60),Te=[ee,re(oe),"'",re(ge),"'"].join("");return["D:",T.getFullYear(),re(T.getMonth()+1),re(T.getDate()),re(T.getHours()),re(T.getMinutes()),re(T.getSeconds()),Te].join("")},ue=p.__private__.convertPDFDateToDate=function(T){var V=parseInt(T.substr(2,4),10),ee=parseInt(T.substr(6,2),10)-1,oe=parseInt(T.substr(8,2),10),ge=parseInt(T.substr(10,2),10),Te=parseInt(T.substr(12,2),10),Re=parseInt(T.substr(14,2),10);return new Date(V,ee,oe,ge,Te,Re,0)},de=p.__private__.setCreationDate=function(T){var V;if(T===void 0&&(T=new Date),T instanceof Date)V=ae(T);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(T))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=T}return G=V},$=p.__private__.getCreationDate=function(T){var V=G;return T==="jsDate"&&(V=ue(G)),V};p.setCreationDate=function(T){return de(T),this},p.getCreationDate=function(T){return $(T)};var K,re=p.__private__.padd2=function(T){return("0"+parseInt(T)).slice(-2)},se=p.__private__.padd2Hex=function(T){return("00"+(T=T.toString())).substr(T.length)},le=0,me=[],Se=[],ce=0,xe=[],Ne=[],ye=!1,Me=Se;p.__private__.setCustomOutputDestination=function(T){ye=!0,Me=T};var $e=function(T){ye||(Me=T)};p.__private__.resetCustomOutputDestination=function(){ye=!1,Me=Se};var q=p.__private__.out=function(T){return T=T.toString(),ce+=T.length+1,Me.push(T),Me},Ie=p.__private__.write=function(T){return q(arguments.length===1?T.toString():Array.prototype.join.call(arguments," "))},Ye=p.__private__.getArrayBuffer=function(T){for(var V=T.length,ee=new ArrayBuffer(V),oe=new Uint8Array(ee);V--;)oe[V]=T.charCodeAt(V);return ee},Ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ze};var je=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(T){return je=A===S?T/Tt:T,this};var tt,qe=p.__private__.getFontSize=p.getFontSize=function(){return A===w?je:je*Tt},nt=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(T){return nt=T,this},p.__private__.getR2L=p.getR2L=function(){return nt};var rt,Wt=p.__private__.setZoomMode=function(T){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(T))tt=T;else if(isNaN(T)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(T)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+T+'" is not recognized.');tt=T}else tt=parseInt(T,10)};p.__private__.getZoomMode=function(){return tt};var Mt,ct=p.__private__.setPageMode=function(T){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(T)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+T+'" is not recognized.');rt=T};p.__private__.getPageMode=function(){return rt};var xt=p.__private__.setLayoutMode=function(T){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(T)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+T+'" is not recognized.');Mt=T};p.__private__.getLayoutMode=function(){return Mt},p.__private__.setDisplayMode=p.setDisplayMode=function(T,V,ee){return Wt(T),xt(V),ct(ee),this};var $t={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(T){if(Object.keys($t).indexOf(T)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return $t[T]},p.__private__.getDocumentProperties=function(){return $t},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(T){for(var V in $t)$t.hasOwnProperty(V)&&T[V]&&($t[V]=T[V]);return this},p.__private__.setDocumentProperty=function(T,V){if(Object.keys($t).indexOf(T)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return $t[T]=V};var it,Tt,ut,Tn,Kt,Dt={},Ot={},Ln=[],pt={},hn={},vt={},Et={},pn=null,Ft=0,mt=[],zt=new nD(p),xo=t.hotfixes||[],Sr={},rs={},Ci=[],yt=function T(V,ee,oe,ge,Te,Re){if(!(this instanceof T))return new T(V,ee,oe,ge,Te,Re);isNaN(V)&&(V=1),isNaN(ee)&&(ee=0),isNaN(oe)&&(oe=0),isNaN(ge)&&(ge=1),isNaN(Te)&&(Te=0),isNaN(Re)&&(Re=0),this._matrix=[V,ee,oe,ge,Te,Re]};Object.defineProperty(yt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(yt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(yt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(yt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(yt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(yt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(yt.prototype,"a",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(yt.prototype,"b",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(yt.prototype,"c",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(yt.prototype,"d",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(yt.prototype,"e",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(yt.prototype,"f",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(yt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(yt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(yt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(yt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),yt.prototype.join=function(T){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(T)},yt.prototype.multiply=function(T){var V=T.sx*this.sx+T.shy*this.shx,ee=T.sx*this.shy+T.shy*this.sy,oe=T.shx*this.sx+T.sy*this.shx,ge=T.shx*this.shy+T.sy*this.sy,Te=T.tx*this.sx+T.ty*this.shx+this.tx,Re=T.tx*this.shy+T.ty*this.sy+this.ty;return new yt(V,ee,oe,ge,Te,Re)},yt.prototype.decompose=function(){var T=this.sx,V=this.shy,ee=this.shx,oe=this.sy,ge=this.tx,Te=this.ty,Re=Math.sqrt(T*T+V*V),Ge=(T/=Re)*ee+(V/=Re)*oe;ee-=T*Ge,oe-=V*Ge;var at=Math.sqrt(ee*ee+oe*oe);return Ge/=at,T*(oe/=at)<V*(ee/=at)&&(T=-T,V=-V,Ge=-Ge,Re=-Re),{scale:new yt(Re,0,0,at,0,0),translate:new yt(1,0,0,1,ge,Te),rotate:new yt(T,V,-V,T,0,0),skew:new yt(1,0,Ge,1,0,0)}},yt.prototype.toString=function(T){return this.join(" ")},yt.prototype.inversed=function(){var T=this.sx,V=this.shy,ee=this.shx,oe=this.sy,ge=this.tx,Te=this.ty,Re=1/(T*oe-V*ee),Ge=oe*Re,at=-V*Re,wt=-ee*Re,kt=T*Re;return new yt(Ge,at,wt,kt,-Ge*ge-wt*Te,-at*ge-kt*Te)},yt.prototype.applyToPoint=function(T){var V=T.x*this.sx+T.y*this.shx+this.tx,ee=T.x*this.shy+T.y*this.sy+this.ty;return new cs(V,ee)},yt.prototype.applyToRectangle=function(T){var V=this.applyToPoint(T),ee=this.applyToPoint(new cs(T.x+T.w,T.y+T.h));return new Nc(V.x,V.y,ee.x-V.x,ee.y-V.y)},yt.prototype.clone=function(){var T=this.sx,V=this.shy,ee=this.shx,oe=this.sy,ge=this.tx,Te=this.ty;return new yt(T,V,ee,oe,ge,Te)},p.Matrix=yt;var zn=p.matrixMult=function(T,V){return V.multiply(T)},is=new yt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=is;var ii=function(T,V){if(!hn[T]){var ee=(V instanceof Nf?"Sh":"P")+(Object.keys(pt).length+1).toString(10);V.id=ee,hn[T]=ee,pt[ee]=V,zt.publish("addPattern",V)}};p.ShadingPattern=Nf,p.TilingPattern=bh,p.addShadingPattern=function(T,V){return C("addShadingPattern()"),ii(T,V),this},p.beginTilingPattern=function(T){C("beginTilingPattern()"),To(T.boundingBox[0],T.boundingBox[1],T.boundingBox[2]-T.boundingBox[0],T.boundingBox[3]-T.boundingBox[1],T.matrix)},p.endTilingPattern=function(T,V){C("endTilingPattern()"),V.stream=Ne[K].join(`
`),ii(T,V),zt.publish("endTilingPattern",V),Ci.pop().restore()};var ai,Qn=p.__private__.newObject=function(){var T=Dr();return Jn(T,!0),T},Dr=p.__private__.newObjectDeferred=function(){return le++,me[le]=function(){return ce},le},Jn=function(T,V){return V=typeof V=="boolean"&&V,me[T]=ce,V&&q(T+" 0 obj"),T},ul=p.__private__.newAdditionalObject=function(){var T={objId:Dr(),content:""};return xe.push(T),T},wo=Dr(),Ii=Dr(),Ta=p.__private__.decodeColorString=function(T){var V=T.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length!==5||V[4]!=="k"&&V[4]!=="K"||(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var ee=parseFloat(V[0]);V=[ee,ee,ee,"r"]}for(var oe="#",ge=0;ge<3;ge++)oe+=("0"+Math.floor(255*parseFloat(V[ge])).toString(16)).slice(-2);return oe},ta=p.__private__.encodeColorString=function(T){var V;typeof T=="string"&&(T={ch1:T});var ee=T.ch1,oe=T.ch2,ge=T.ch3,Te=T.ch4,Re=T.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ee=="string"&&ee.charAt(0)!=="#"){var Ge=new LW(ee);if(Ge.ok)ee=Ge.toHex();else if(!/^\d*\.?\d*$/.test(ee))throw new Error('Invalid color "'+ee+'" passed to jsPDF.encodeColorString.')}if(typeof ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ee)&&(ee="#"+ee[1]+ee[1]+ee[2]+ee[2]+ee[3]+ee[3]),typeof ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ee)){var at=parseInt(ee.substr(1),16);ee=at>>16&255,oe=at>>8&255,ge=255&at}if(oe===void 0||Te===void 0&&ee===oe&&oe===ge)V=typeof ee=="string"?ee+" "+Re[0]:T.precision===2?N(ee/255)+" "+Re[0]:k(ee/255)+" "+Re[0];else if(Te===void 0||_n(Te)==="object"){if(Te&&!isNaN(Te.a)&&Te.a===0)return["1.","1.","1.",Re[1]].join(" ");V=typeof ee=="string"?[ee,oe,ge,Re[1]].join(" "):T.precision===2?[N(ee/255),N(oe/255),N(ge/255),Re[1]].join(" "):[k(ee/255),k(oe/255),k(ge/255),Re[1]].join(" ")}else V=typeof ee=="string"?[ee,oe,ge,Te,Re[2]].join(" "):T.precision===2?[N(ee),N(oe),N(ge),N(Te),Re[2]].join(" "):[k(ee),k(oe),k(ge),k(Te),Re[2]].join(" ");return V},ji=p.__private__.getFilters=function(){return s},Ar=p.__private__.putStream=function(T){var V=(T=T||{}).data||"",ee=T.filters||ji(),oe=T.alreadyAppliedFilters||[],ge=T.addLength1||!1,Te=V.length,Re=T.objectId,Ge=function(mr){return mr};if(u!==null&&Re===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Ge=kn.encryptor(Re,0));var at={};ee===!0&&(ee=["FlateEncode"]);var wt=T.additionalKeyValues||[],kt=(at=ht.API.processDataByFilters!==void 0?ht.API.processDataByFilters(V,ee):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(oe)?oe.join(" "):oe.toString());if(at.data.length!==0&&(wt.push({key:"Length",value:at.data.length}),ge===!0&&wt.push({key:"Length1",value:Te})),kt.length!=0)if(kt.split("/").length-1==1)wt.push({key:"Filter",value:kt});else{wt.push({key:"Filter",value:"["+kt+"]"});for(var Xt=0;Xt<wt.length;Xt+=1)if(wt[Xt].key==="DecodeParms"){for(var dn=[],rr=0;rr<at.reverseChain.split("/").length-1;rr+=1)dn.push("null");dn.push(wt[Xt].value),wt[Xt].value="["+dn.join(" ")+"]"}}q("<<");for(var yn=0;yn<wt.length;yn++)q("/"+wt[yn].key+" "+wt[yn].value);q(">>"),at.data.length!==0&&(q("stream"),q(Ge(at.data)),q("endstream"))},_o=p.__private__.putPage=function(T){var V=T.number,ee=T.data,oe=T.objId,ge=T.contentsObjId;Jn(oe,!0),q("<</Type /Page"),q("/Parent "+T.rootDictionaryObjId+" 0 R"),q("/Resources "+T.resourceDictionaryObjId+" 0 R"),q("/MediaBox ["+parseFloat(E(T.mediaBox.bottomLeftX))+" "+parseFloat(E(T.mediaBox.bottomLeftY))+" "+E(T.mediaBox.topRightX)+" "+E(T.mediaBox.topRightY)+"]"),T.cropBox!==null&&q("/CropBox ["+E(T.cropBox.bottomLeftX)+" "+E(T.cropBox.bottomLeftY)+" "+E(T.cropBox.topRightX)+" "+E(T.cropBox.topRightY)+"]"),T.bleedBox!==null&&q("/BleedBox ["+E(T.bleedBox.bottomLeftX)+" "+E(T.bleedBox.bottomLeftY)+" "+E(T.bleedBox.topRightX)+" "+E(T.bleedBox.topRightY)+"]"),T.trimBox!==null&&q("/TrimBox ["+E(T.trimBox.bottomLeftX)+" "+E(T.trimBox.bottomLeftY)+" "+E(T.trimBox.topRightX)+" "+E(T.trimBox.topRightY)+"]"),T.artBox!==null&&q("/ArtBox ["+E(T.artBox.bottomLeftX)+" "+E(T.artBox.bottomLeftY)+" "+E(T.artBox.topRightX)+" "+E(T.artBox.topRightY)+"]"),typeof T.userUnit=="number"&&T.userUnit!==1&&q("/UserUnit "+T.userUnit),zt.publish("putPage",{objId:oe,pageContext:mt[V],pageNumber:V,page:ee}),q("/Contents "+ge+" 0 R"),q(">>"),q("endobj");var Te=ee.join(`
`);return A===S&&(Te+=`
Q`),Jn(ge,!0),Ar({data:Te,filters:ji(),objectId:ge}),q("endobj"),oe},ka=p.__private__.putPages=function(){var T,V,ee=[];for(T=1;T<=Ft;T++)mt[T].objId=Dr(),mt[T].contentsObjId=Dr();for(T=1;T<=Ft;T++)ee.push(_o({number:T,data:Ne[T],objId:mt[T].objId,contentsObjId:mt[T].contentsObjId,mediaBox:mt[T].mediaBox,cropBox:mt[T].cropBox,bleedBox:mt[T].bleedBox,trimBox:mt[T].trimBox,artBox:mt[T].artBox,userUnit:mt[T].userUnit,rootDictionaryObjId:wo,resourceDictionaryObjId:Ii}));Jn(wo,!0),q("<</Type /Pages");var oe="/Kids [";for(V=0;V<Ft;V++)oe+=ee[V]+" 0 R ";q(oe+"]"),q("/Count "+Ft),q(">>"),q("endobj"),zt.publish("postPutPages")},qs=function(T){zt.publish("putFont",{font:T,out:q,newObject:Qn,putStream:Ar}),T.isAlreadyPutted!==!0&&(T.objectNumber=Qn(),q("<<"),q("/Type /Font"),q("/BaseFont /"+Qd(T.postScriptName)),q("/Subtype /Type1"),typeof T.encoding=="string"&&q("/Encoding /"+T.encoding),q("/FirstChar 32"),q("/LastChar 255"),q(">>"),q("endobj"))},So=function(T){T.objectNumber=Qn();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[E(T.x),E(T.y),E(T.x+T.width),E(T.y+T.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+T.matrix.toString()+"]"});var ee=T.pages[1].join(`
`);Ar({data:ee,additionalKeyValues:V,objectId:T.objectNumber}),q("endobj")},fl=function(T,V){V||(V=21);var ee=Qn(),oe=function(Re,Ge){var at,wt=[],kt=1/(Ge-1);for(at=0;at<1;at+=kt)wt.push(at);if(wt.push(1),Re[0].offset!=0){var Xt={offset:0,color:Re[0].color};Re.unshift(Xt)}if(Re[Re.length-1].offset!=1){var dn={offset:1,color:Re[Re.length-1].color};Re.push(dn)}for(var rr="",yn=0,mr=0;mr<wt.length;mr++){for(at=wt[mr];at>Re[yn+1].offset;)yn++;var ir=Re[yn].offset,gr=(at-ir)/(Re[yn+1].offset-ir),ar=Re[yn].color,ma=Re[yn+1].color;rr+=se(Math.round((1-gr)*ar[0]+gr*ma[0]).toString(16))+se(Math.round((1-gr)*ar[1]+gr*ma[1]).toString(16))+se(Math.round((1-gr)*ar[2]+gr*ma[2]).toString(16))}return rr.trim()}(T.colors,V),ge=[];ge.push({key:"FunctionType",value:"0"}),ge.push({key:"Domain",value:"[0.0 1.0]"}),ge.push({key:"Size",value:"["+V+"]"}),ge.push({key:"BitsPerSample",value:"8"}),ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ar({data:oe,additionalKeyValues:ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ee}),q("endobj"),T.objectNumber=Qn(),q("<< /ShadingType "+T.type),q("/ColorSpace /DeviceRGB");var Te="/Coords ["+E(parseFloat(T.coords[0]))+" "+E(parseFloat(T.coords[1]))+" ";T.type===2?Te+=E(parseFloat(T.coords[2]))+" "+E(parseFloat(T.coords[3])):Te+=E(parseFloat(T.coords[2]))+" "+E(parseFloat(T.coords[3]))+" "+E(parseFloat(T.coords[4]))+" "+E(parseFloat(T.coords[5])),q(Te+="]"),T.matrix&&q("/Matrix ["+T.matrix.toString()+"]"),q("/Function "+ee+" 0 R"),q("/Extend [true true]"),q(">>"),q("endobj")},dl=function(T,V){var ee=Dr(),oe=Qn();V.push({resourcesOid:ee,objectOid:oe}),T.objectNumber=oe;var ge=[];ge.push({key:"Type",value:"/Pattern"}),ge.push({key:"PatternType",value:"1"}),ge.push({key:"PaintType",value:"1"}),ge.push({key:"TilingType",value:"1"}),ge.push({key:"BBox",value:"["+T.boundingBox.map(E).join(" ")+"]"}),ge.push({key:"XStep",value:E(T.xStep)}),ge.push({key:"YStep",value:E(T.yStep)}),ge.push({key:"Resources",value:ee+" 0 R"}),T.matrix&&ge.push({key:"Matrix",value:"["+T.matrix.toString()+"]"}),Ar({data:T.stream,additionalKeyValues:ge,objectId:T.objectNumber}),q("endobj")},im=function(T){for(var V in T.objectNumber=Qn(),q("<<"),T)switch(V){case"opacity":q("/ca "+N(T[V]));break;case"stroke-opacity":q("/CA "+N(T[V]))}q(">>"),q("endobj")},Ao=function(T){Jn(T.resourcesOid,!0),q("<<"),q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var V in q("/Font <<"),Dt)Dt.hasOwnProperty(V)&&(f===!1||f===!0&&h.hasOwnProperty(V))&&q("/"+V+" "+Dt[V].objectNumber+" 0 R");q(">>")}(),function(){if(Object.keys(pt).length>0){for(var V in q("/Shading <<"),pt)pt.hasOwnProperty(V)&&pt[V]instanceof Nf&&pt[V].objectNumber>=0&&q("/"+V+" "+pt[V].objectNumber+" 0 R");zt.publish("putShadingPatternDict"),q(">>")}}(),function(V){if(Object.keys(pt).length>0){for(var ee in q("/Pattern <<"),pt)pt.hasOwnProperty(ee)&&pt[ee]instanceof p.TilingPattern&&pt[ee].objectNumber>=0&&pt[ee].objectNumber<V&&q("/"+ee+" "+pt[ee].objectNumber+" 0 R");zt.publish("putTilingPatternDict"),q(">>")}}(T.objectOid),function(){if(Object.keys(vt).length>0){var V;for(V in q("/ExtGState <<"),vt)vt.hasOwnProperty(V)&&vt[V].objectNumber>=0&&q("/"+V+" "+vt[V].objectNumber+" 0 R");zt.publish("putGStateDict"),q(">>")}}(),function(){for(var V in q("/XObject <<"),Sr)Sr.hasOwnProperty(V)&&Sr[V].objectNumber>=0&&q("/"+V+" "+Sr[V].objectNumber+" 0 R");zt.publish("putXobjectDict"),q(">>")}(),q(">>"),q("endobj")},Xu=function(T){Ot[T.fontName]=Ot[T.fontName]||{},Ot[T.fontName][T.fontStyle]=T.id},bc=function(T,V,ee,oe,ge){var Te={id:"F"+(Object.keys(Dt).length+1).toString(10),postScriptName:T,fontName:V,fontStyle:ee,encoding:oe,isStandardFont:ge||!1,metadata:{}};return zt.publish("addFont",{font:Te,instance:this}),Dt[Te.id]=Te,Xu(Te),Te.id},si=p.__private__.pdfEscape=p.pdfEscape=function(T,V){return function(ee,oe){var ge,Te,Re,Ge,at,wt,kt,Xt,dn;if(Re=(oe=oe||{}).sourceEncoding||"Unicode",at=oe.outputEncoding,(oe.autoencode||at)&&Dt[it].metadata&&Dt[it].metadata[Re]&&Dt[it].metadata[Re].encoding&&(Ge=Dt[it].metadata[Re].encoding,!at&&Dt[it].encoding&&(at=Dt[it].encoding),!at&&Ge.codePages&&(at=Ge.codePages[0]),typeof at=="string"&&(at=Ge[at]),at)){for(kt=!1,wt=[],ge=0,Te=ee.length;ge<Te;ge++)(Xt=at[ee.charCodeAt(ge)])?wt.push(String.fromCharCode(Xt)):wt.push(ee[ge]),wt[ge].charCodeAt(0)>>8&&(kt=!0);ee=wt.join("")}for(ge=ee.length;kt===void 0&&ge!==0;)ee.charCodeAt(ge-1)>>8&&(kt=!0),ge--;if(!kt)return ee;for(wt=oe.noBOM?[]:[254,255],ge=0,Te=ee.length;ge<Te;ge++){if((dn=(Xt=ee.charCodeAt(ge))>>8)>>8)throw new Error("Character at position "+ge+" of string '"+ee+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");wt.push(dn),wt.push(Xt-(dn<<8))}return String.fromCharCode.apply(void 0,wt)}(T,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ca=p.__private__.beginPage=function(T){Ne[++Ft]=[],mt[Ft]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(T[0]),topRightY:Number(T[1])}},Ju(Ft),$e(Ne[K])},xc=function(T,V){var ee,oe,ge;switch(n=V||n,typeof T=="string"&&(ee=v(T.toLowerCase()),Array.isArray(ee)&&(oe=ee[0],ge=ee[1])),Array.isArray(T)&&(oe=T[0]*Tt,ge=T[1]*Tt),isNaN(oe)&&(oe=i[0],ge=i[1]),(oe>14400||ge>14400)&&(jn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),oe=Math.min(14400,oe),ge=Math.min(14400,ge)),i=[oe,ge],n.substr(0,1)){case"l":ge>oe&&(i=[ge,oe]);break;case"p":oe>ge&&(i=[ge,oe])}Ca(i),bt(_c),q(Hs),En!==0&&q(En+" J"),af!==0&&q(af+" j"),zt.publish("addPage",{pageNumber:Ft})},Qu=function(T){T>0&&T<=Ft&&(Ne.splice(T,1),mt.splice(T,1),Ft--,K>Ft&&(K=Ft),this.setPage(K))},Ju=function(T){T>0&&T<=Ft&&(K=T)},Zu=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Ne.length-1},ef=function(T,V,ee){var oe,ge=void 0;return ee=ee||{},T=T!==void 0?T:Dt[it].fontName,V=V!==void 0?V:Dt[it].fontStyle,oe=T.toLowerCase(),Ot[oe]!==void 0&&Ot[oe][V]!==void 0?ge=Ot[oe][V]:Ot[T]!==void 0&&Ot[T][V]!==void 0?ge=Ot[T][V]:ee.disableWarning===!1&&jn.warn("Unable to look up font label for font '"+T+"', '"+V+"'. Refer to getFontList() for available fonts."),ge||ee.noFallback||(ge=Ot.times[V])==null&&(ge=Ot.times.normal),ge},ha=p.__private__.putInfo=function(){var T=Qn(),V=function(oe){return oe};for(var ee in u!==null&&(V=kn.encryptor(T,0)),q("<<"),q("/Producer ("+si(V("jsPDF "+ht.version))+")"),$t)$t.hasOwnProperty(ee)&&$t[ee]&&q("/"+ee.substr(0,1).toUpperCase()+ee.substr(1)+" ("+si(V($t[ee]))+")");q("/CreationDate ("+si(V(G))+")"),q(">>"),q("endobj")},No=p.__private__.putCatalog=function(T){var V=(T=T||{}).rootDictionaryObjId||wo;switch(Qn(),q("<<"),q("/Type /Catalog"),q("/Pages "+V+" 0 R"),tt||(tt="fullwidth"),tt){case"fullwidth":q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":q("/OpenAction [3 0 R /Fit]");break;case"original":q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ee=""+tt;ee.substr(ee.length-1)==="%"&&(tt=parseInt(tt)/100),typeof tt=="number"&&q("/OpenAction [3 0 R /XYZ null null "+N(tt)+"]")}switch(Mt||(Mt="continuous"),Mt){case"continuous":q("/PageLayout /OneColumn");break;case"single":q("/PageLayout /SinglePage");break;case"two":case"twoleft":q("/PageLayout /TwoColumnLeft");break;case"tworight":q("/PageLayout /TwoColumnRight")}rt&&q("/PageMode /"+rt),zt.publish("putCatalog"),q(">>"),q("endobj")},Ed=p.__private__.putTrailer=function(){q("trailer"),q("<<"),q("/Size "+(le+1)),q("/Root "+le+" 0 R"),q("/Info "+(le-1)+" 0 R"),u!==null&&q("/Encrypt "+kn.oid+" 0 R"),q("/ID [ <"+Z+"> <"+Z+"> ]"),q(">>")},nr=p.__private__.putHeader=function(){q("%PDF-"+y),q("%")},Pd=p.__private__.putXRef=function(){var T="0000000000";q("xref"),q("0 "+(le+1)),q("0000000000 65535 f ");for(var V=1;V<=le;V++)typeof me[V]=="function"?q((T+me[V]()).slice(-10)+" 00000 n "):me[V]!==void 0?q((T+me[V]).slice(-10)+" 00000 n "):q("0000000000 00000 n ")},as=p.__private__.buildDocument=function(){var T;le=0,ce=0,Se=[],me=[],xe=[],wo=Dr(),Ii=Dr(),$e(Se),zt.publish("buildDocument"),nr(),ka(),function(){zt.publish("putAdditionalObjects");for(var ee=0;ee<xe.length;ee++){var oe=xe[ee];Jn(oe.objId,!0),q(oe.content),q("endobj")}zt.publish("postPutAdditionalObjects")}(),T=[],function(){for(var ee in Dt)Dt.hasOwnProperty(ee)&&(f===!1||f===!0&&h.hasOwnProperty(ee))&&qs(Dt[ee])}(),function(){var ee;for(ee in vt)vt.hasOwnProperty(ee)&&im(vt[ee])}(),function(){for(var ee in Sr)Sr.hasOwnProperty(ee)&&So(Sr[ee])}(),function(ee){var oe;for(oe in pt)pt.hasOwnProperty(oe)&&(pt[oe]instanceof Nf?fl(pt[oe]):pt[oe]instanceof bh&&dl(pt[oe],ee))}(T),zt.publish("putResources"),T.forEach(Ao),Ao({resourcesOid:Ii,objectOid:Number.MAX_SAFE_INTEGER}),zt.publish("postPutResources"),u!==null&&(kn.oid=Qn(),q("<<"),q("/Filter /Standard"),q("/V "+kn.v),q("/R "+kn.r),q("/U <"+kn.toHexString(kn.U)+">"),q("/O <"+kn.toHexString(kn.O)+">"),q("/P "+kn.P),q(">>"),q("endobj")),ha(),No();var V=ce;return Pd(),Ed(),q("startxref"),q(""+V),q("%%EOF"),$e(Ne[K]),Se.join(`
`)},hl=p.__private__.getBlob=function(T){return new Blob([Ye(T)],{type:"application/pdf"})},tf=p.output=p.__private__.output=(ai=function(T,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",T){case void 0:return as();case"save":p.save(V.filename);break;case"arraybuffer":return Ye(as());case"blob":return hl(as());case"bloburi":case"bloburl":if(Nt.URL!==void 0&&typeof Nt.URL.createObjectURL=="function")return Nt.URL&&Nt.URL.createObjectURL(hl(as()))||void 0;jn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ee="",oe=as();try{ee=ZM(oe)}catch{ee=ZM(unescape(encodeURIComponent(oe)))}return"data:application/pdf;filename="+V.filename+";base64,"+ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Nt)==="[object Window]"){var ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Te=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(ge=V.pdfObjectUrl,Te="");var Re='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ge+'"'+Te+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",Ge=Nt.open();return Ge!==null&&Ge.document.write(Re),Ge}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Nt)==="[object Window]"){var at='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',wt=Nt.open();if(wt!==null){wt.document.write(at);var kt=this;wt.document.documentElement.querySelector("#pdfViewer").onload=function(){wt.document.title=V.filename,wt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(kt.output("bloburl"))}}return wt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Nt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',dn=Nt.open();if(dn!==null&&(dn.document.write(Xt),dn.document.title=V.filename),dn||typeof safari>"u")return dn;break;case"datauri":case"dataurl":return Nt.document.location.href=this.output("datauristring",V);default:return null}},ai.foo=function(){try{return ai.apply(this,arguments)}catch(ee){var T=ee.stack||"";~T.indexOf(" at ")&&(T=T.split(" at ")[1]);var V="Error in function "+T.split(`
`)[0].split("<")[0]+": "+ee.message;if(!Nt.console)throw new Error(V);Nt.console.error(V,ee),Nt.alert&&alert(V)}},ai.foo.bar=ai,ai.foo),pa=function(T){return Array.isArray(xo)===!0&&xo.indexOf(T)>-1};switch(r){case"pt":Tt=1;break;case"mm":Tt=72/25.4;break;case"cm":Tt=72/2.54;break;case"in":Tt=72;break;case"px":Tt=pa("px_scaling")==1?.75:96/72;break;case"pc":case"em":Tt=12;break;case"ex":Tt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Tt=r}var kn=null;de(),X();var Wr=p.__private__.getPageInfo=p.getPageInfo=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:mt[T].objId,pageNumber:T,pageContext:mt[T]}},pl=p.__private__.getPageInfoByObjId=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in mt)if(mt[V].objId===T)break;return Wr(V)},wc=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:mt[K].objId,pageNumber:K,pageContext:mt[K]}};p.addPage=function(){return xc.apply(this,arguments),this},p.setPage=function(){return Ju.apply(this,arguments),$e.call(this,Ne[K]),this},p.insertPage=function(T){return this.addPage(),this.movePage(K,T),this},p.movePage=function(T,V){var ee,oe;if(T>V){ee=Ne[T],oe=mt[T];for(var ge=T;ge>V;ge--)Ne[ge]=Ne[ge-1],mt[ge]=mt[ge-1];Ne[V]=ee,mt[V]=oe,this.setPage(V)}else if(T<V){ee=Ne[T],oe=mt[T];for(var Te=T;Te<V;Te++)Ne[Te]=Ne[Te+1],mt[Te]=mt[Te+1];Ne[V]=ee,mt[V]=oe,this.setPage(V)}return this},p.deletePage=function(){return Qu.apply(this,arguments),this},p.__private__.text=p.text=function(T,V,ee,oe,ge){var Te,Re,Ge,at,wt,kt,Xt,dn,rr,yn=(oe=oe||{}).scope||this;if(typeof T=="number"&&typeof V=="number"&&(typeof ee=="string"||Array.isArray(ee))){var mr=ee;ee=V,V=T,T=mr}if(arguments[3]instanceof yt==0?(Ge=arguments[4],at=arguments[5],_n(Xt=arguments[3])==="object"&&Xt!==null||(typeof Ge=="string"&&(at=Ge,Ge=null),typeof Xt=="string"&&(at=Xt,Xt=null),typeof Xt=="number"&&(Ge=Xt,Xt=null),oe={flags:Xt,angle:Ge,align:at})):(C("The transform parameter of text() with a Matrix value"),rr=ge),isNaN(V)||isNaN(ee)||T==null)throw new Error("Invalid arguments passed to jsPDF.text");if(T.length===0)return yn;var ir,gr="",ar=typeof oe.lineHeightFactor=="number"?oe.lineHeightFactor:Po,ma=yn.internal.scaleFactor;function ds(mn){return mn=mn.split("	").join(Array(oe.TabLen||9).join(" ")),si(mn,Xt)}function hs(mn){for(var Cn,Er=mn.concat(),Hr=[],xl=Er.length;xl--;)typeof(Cn=Er.shift())=="string"?Hr.push(Cn):Array.isArray(mn)&&(Cn.length===1||Cn[1]===void 0&&Cn[2]===void 0)?Hr.push(Cn[0]):Hr.push([Cn[0],Cn[1],Cn[2]]);return Hr}function g(mn,Cn){var Er;if(typeof mn=="string")Er=Cn(mn)[0];else if(Array.isArray(mn)){for(var Hr,xl,vm=mn.concat(),Ld=[],qv=vm.length;qv--;)typeof(Hr=vm.shift())=="string"?Ld.push(Cn(Hr)[0]):Array.isArray(Hr)&&typeof Hr[0]=="string"&&(xl=Cn(Hr[0],Hr[1],Hr[2]),Ld.push([xl[0],xl[1],xl[2]]));Er=Ld}return Er}var L=!1,F=!0;if(typeof T=="string")L=!0;else if(Array.isArray(T)){var Q=T.concat();Re=[];for(var ve,Ae=Q.length;Ae--;)(typeof(ve=Q.shift())!="string"||Array.isArray(ve)&&typeof ve[0]!="string")&&(F=!1);L=F}if(L===!1)throw new Error('Type of text must be string or Array. "'+T+'" is not recognized.');typeof T=="string"&&(T=T.match(/[\r?\n]/)?T.split(/\r\n|\r|\n/g):[T]);var Ve=je/yn.internal.scaleFactor,Zt=Ve*(ar-1);switch(oe.baseline){case"bottom":ee-=Zt;break;case"top":ee+=Ve-Zt;break;case"hanging":ee+=Ve-2*Zt;break;case"middle":ee+=Ve/2-Zt}if((kt=oe.maxWidth||0)>0&&(typeof T=="string"?T=yn.splitTextToSize(T,kt):Object.prototype.toString.call(T)==="[object Array]"&&(T=T.reduce(function(mn,Cn){return mn.concat(yn.splitTextToSize(Cn,kt))},[]))),Te={text:T,x:V,y:ee,options:oe,mutex:{pdfEscape:si,activeFontKey:it,fonts:Dt,activeFontSize:je}},zt.publish("preProcessText",Te),T=Te.text,Ge=(oe=Te.options).angle,rr instanceof yt==0&&Ge&&typeof Ge=="number"){Ge*=Math.PI/180,oe.rotationDirection===0&&(Ge=-Ge),A===S&&(Ge=-Ge);var sr=Math.cos(Ge),qt=Math.sin(Ge);rr=new yt(sr,qt,-qt,sr,0,0)}else Ge&&Ge instanceof yt&&(rr=Ge);A!==S||rr||(rr=is),(wt=oe.charSpace||ls)!==void 0&&(gr+=E(j(wt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(dn=oe.horizontalScale)!==void 0&&(gr+=E(100*dn)+` Tz
`),oe.lang;var ln=-1,Mn=oe.renderingMode!==void 0?oe.renderingMode:oe.stroke,ja=yn.internal.getCurrentPageInfo().pageContext;switch(Mn){case 0:case!1:case"fill":ln=0;break;case 1:case!0:case"stroke":ln=1;break;case 2:case"fillThenStroke":ln=2;break;case 3:case"invisible":ln=3;break;case 4:case"fillAndAddForClipping":ln=4;break;case 5:case"strokeAndAddPathForClipping":ln=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ln=6;break;case 7:case"addToPathForClipping":ln=7}var Oi=ja.usedRenderingMode!==void 0?ja.usedRenderingMode:-1;ln!==-1?gr+=ln+` Tr
`:Oi!==-1&&(gr+=`0 Tr
`),ln!==-1&&(ja.usedRenderingMode=ln),at=oe.align||"left";var gi,Gs=je*ar,fm=yn.internal.pageSize.getWidth(),dm=Dt[it];wt=oe.charSpace||ls,kt=oe.maxWidth||0,Xt=Object.assign({autoencode:!0,noBOM:!0},oe.flags);var Pc=[],lf=function(mn){return yn.getStringUnitWidth(mn,{font:dm,charSpace:wt,fontSize:je,doKerning:!1})*je/ma};if(Object.prototype.toString.call(T)==="[object Array]"){var Oa;Re=hs(T),at!=="left"&&(gi=Re.map(lf));var Ra,Tc=0;if(at==="right"){V-=gi[0],T=[],Ae=Re.length;for(var bl=0;bl<Ae;bl++)bl===0?(Ra=oi(V),Oa=Ws(ee)):(Ra=j(Tc-gi[bl]),Oa=-Gs),T.push([Re[bl],Ra,Oa]),Tc=gi[bl]}else if(at==="center"){V-=gi[0]/2,T=[],Ae=Re.length;for(var kc=0;kc<Ae;kc++)kc===0?(Ra=oi(V),Oa=Ws(ee)):(Ra=j((Tc-gi[kc])/2),Oa=-Gs),T.push([Re[kc],Ra,Oa]),Tc=gi[kc]}else if(at==="left"){T=[],Ae=Re.length;for(var hm=0;hm<Ae;hm++)T.push(Re[hm])}else if(at==="justify"&&dm.encoding==="Identity-H"){T=[],Ae=Re.length,kt=kt!==0?kt:fm;for(var Rd=0,Nr=0;Nr<Ae;Nr++)if(Oa=Nr===0?Ws(ee):-Gs,Ra=Nr===0?oi(V):Rd,Nr<Ae-1){var zv=j((kt-gi[Nr])/(Re[Nr].split(" ").length-1)),Co=Re[Nr].split(" ");T.push([Co[0]+" ",Ra,Oa]),Rd=0;for(var Io=1;Io<Co.length;Io++){var pm=(lf(Co[Io-1]+" "+Co[Io])-lf(Co[Io]))*ma+zv;Io==Co.length-1?T.push([Co[Io],pm,0]):T.push([Co[Io]+" ",pm,0]),Rd-=pm}}else T.push([Re[Nr],Ra,Oa]);T.push(["",Rd,0])}else{if(at!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(T=[],Ae=Re.length,kt=kt!==0?kt:fm,Nr=0;Nr<Ae;Nr++){Oa=Nr===0?Ws(ee):-Gs,Ra=Nr===0?oi(V):0;var mm=Re[Nr].split(" ").length-1,gm=mm>0?(kt-gi[Nr])/mm:0;Nr<Ae-1?Pc.push(E(j(gm))):Pc.push(0),T.push([Re[Nr],Ra,Oa])}}}(typeof oe.R2L=="boolean"?oe.R2L:nt)===!0&&(T=g(T,function(mn,Cn,Er){return[mn.split("").reverse().join(""),Cn,Er]})),Te={text:T,x:V,y:ee,options:oe,mutex:{pdfEscape:si,activeFontKey:it,fonts:Dt,activeFontSize:je}},zt.publish("postProcessText",Te),T=Te.text,ir=Te.mutex.isHex||!1;var ym=Dt[it].encoding;ym!=="WinAnsiEncoding"&&ym!=="StandardEncoding"||(T=g(T,function(mn,Cn,Er){return[ds(mn),Cn,Er]})),Re=hs(T),T=[];for(var Cc,Ic,jc,cf=Array.isArray(Re[0])?1:0,Oc="",uf=function(mn,Cn,Er){var Hr="";return Er instanceof yt?(Er=typeof oe.angle=="number"?zn(Er,new yt(1,0,0,1,mn,Cn)):zn(new yt(1,0,0,1,mn,Cn),Er),A===S&&(Er=zn(new yt(1,0,0,-1,0,0),Er)),Hr=Er.join(" ")+` Tm
`):Hr=E(mn)+" "+E(Cn)+` Td
`,Hr},ps=0;ps<Re.length;ps++){switch(Oc="",cf){case 1:jc=(ir?"<":"(")+Re[ps][0]+(ir?">":")"),Cc=parseFloat(Re[ps][1]),Ic=parseFloat(Re[ps][2]);break;case 0:jc=(ir?"<":"(")+Re[ps]+(ir?">":")"),Cc=oi(V),Ic=Ws(ee)}Pc!==void 0&&Pc[ps]!==void 0&&(Oc=Pc[ps]+` Tw
`),ps===0?T.push(Oc+uf(Cc,Ic,rr)+jc):cf===0?T.push(Oc+jc):cf===1&&T.push(Oc+uf(Cc,Ic,rr)+jc)}T=cf===0?T.join(` Tj
T* `):T.join(` Tj
`),T+=` Tj
`;var jo=`BT
/`;return jo+=it+" "+je+` Tf
`,jo+=E(je*ar)+` TL
`,jo+=Ia+`
`,jo+=gr,jo+=T,q(jo+="ET"),h[it]=!0,yn};var Td=p.__private__.clip=p.clip=function(T){return q(T==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Td("evenodd")},p.__private__.discardPath=p.discardPath=function(){return q("n"),this};var Yt=p.__private__.isValidStyle=function(T){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(T)!==-1&&(V=!0),V};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(T){return Yt(T)&&(c=T),this};var ml=p.__private__.getStyle=p.getStyle=function(T){var V=c;switch(T){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=T}return V},Eo=p.close=function(){return q("h"),this};p.stroke=function(){return q("S"),this},p.fill=function(T){return ss("f",T),this},p.fillEvenOdd=function(T){return ss("f*",T),this},p.fillStroke=function(T){return ss("B",T),this},p.fillStrokeEvenOdd=function(T){return ss("B*",T),this};var ss=function(T,V){_n(V)==="object"?am(V,T):q(T)},gl=function(T){T===null||A===S&&T===void 0||(T=ml(T),q(T))};function kd(T,V,ee,oe,ge){var Te=new bh(V||this.boundingBox,ee||this.xStep,oe||this.yStep,this.gState,ge||this.matrix);Te.stream=this.stream;var Re=T+"$$"+this.cloneIndex+++"$$";return ii(Re,Te),Te}var am=function(T,V){var ee=hn[T.key],oe=pt[ee];if(oe instanceof Nf)q("q"),q(sm(V)),oe.gState&&p.setGState(oe.gState),q(T.matrix.toString()+" cm"),q("/"+ee+" sh"),q("Q");else if(oe instanceof bh){var ge=new yt(1,0,0,-1,0,fs());T.matrix&&(ge=ge.multiply(T.matrix||is),ee=kd.call(oe,T.key,T.boundingBox,T.xStep,T.yStep,ge).id),q("q"),q("/Pattern cs"),q("/"+ee+" scn"),oe.gState&&p.setGState(oe.gState),q(V),q("Q")}},sm=function(T){switch(T){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},nf=p.moveTo=function(T,V){return q(E(j(T))+" "+E(B(V))+" m"),this},Cd=p.lineTo=function(T,V){return q(E(j(T))+" "+E(B(V))+" l"),this},mi=p.curveTo=function(T,V,ee,oe,ge,Te){return q([E(j(T)),E(B(V)),E(j(ee)),E(B(oe)),E(j(ge)),E(B(Te)),"c"].join(" ")),this};p.__private__.line=p.line=function(T,V,ee,oe,ge){if(isNaN(T)||isNaN(V)||isNaN(ee)||isNaN(oe)||!Yt(ge))throw new Error("Invalid arguments passed to jsPDF.line");return A===w?this.lines([[ee-T,oe-V]],T,V,[1,1],ge||"S"):this.lines([[ee-T,oe-V]],T,V,[1,1]).stroke()},p.__private__.lines=p.lines=function(T,V,ee,oe,ge,Te){var Re,Ge,at,wt,kt,Xt,dn,rr,yn,mr,ir,gr;if(typeof T=="number"&&(gr=ee,ee=V,V=T,T=gr),oe=oe||[1,1],Te=Te||!1,isNaN(V)||isNaN(ee)||!Array.isArray(T)||!Array.isArray(oe)||!Yt(ge)||typeof Te!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(nf(V,ee),Re=oe[0],Ge=oe[1],wt=T.length,mr=V,ir=ee,at=0;at<wt;at++)(kt=T[at]).length===2?(mr=kt[0]*Re+mr,ir=kt[1]*Ge+ir,Cd(mr,ir)):(Xt=kt[0]*Re+mr,dn=kt[1]*Ge+ir,rr=kt[2]*Re+mr,yn=kt[3]*Ge+ir,mr=kt[4]*Re+mr,ir=kt[5]*Ge+ir,mi(Xt,dn,rr,yn,mr,ir));return Te&&Eo(),gl(ge),this},p.path=function(T){for(var V=0;V<T.length;V++){var ee=T[V],oe=ee.c;switch(ee.op){case"m":nf(oe[0],oe[1]);break;case"l":Cd(oe[0],oe[1]);break;case"c":mi.apply(this,oe);break;case"h":Eo()}}return this},p.__private__.rect=p.rect=function(T,V,ee,oe,ge){if(isNaN(T)||isNaN(V)||isNaN(ee)||isNaN(oe)||!Yt(ge))throw new Error("Invalid arguments passed to jsPDF.rect");return A===w&&(oe=-oe),q([E(j(T)),E(B(V)),E(j(ee)),E(j(oe)),"re"].join(" ")),gl(ge),this},p.__private__.triangle=p.triangle=function(T,V,ee,oe,ge,Te,Re){if(isNaN(T)||isNaN(V)||isNaN(ee)||isNaN(oe)||isNaN(ge)||isNaN(Te)||!Yt(Re))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ee-T,oe-V],[ge-ee,Te-oe],[T-ge,V-Te]],T,V,[1,1],Re,!0),this},p.__private__.roundedRect=p.roundedRect=function(T,V,ee,oe,ge,Te,Re){if(isNaN(T)||isNaN(V)||isNaN(ee)||isNaN(oe)||isNaN(ge)||isNaN(Te)||!Yt(Re))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ge=4/3*(Math.SQRT2-1);return ge=Math.min(ge,.5*ee),Te=Math.min(Te,.5*oe),this.lines([[ee-2*ge,0],[ge*Ge,0,ge,Te-Te*Ge,ge,Te],[0,oe-2*Te],[0,Te*Ge,-ge*Ge,Te,-ge,Te],[2*ge-ee,0],[-ge*Ge,0,-ge,-Te*Ge,-ge,-Te],[0,2*Te-oe],[0,-Te*Ge,ge*Ge,-Te,ge,-Te]],T+ge,V,[1,1],Re,!0),this},p.__private__.ellipse=p.ellipse=function(T,V,ee,oe,ge){if(isNaN(T)||isNaN(V)||isNaN(ee)||isNaN(oe)||!Yt(ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Te=4/3*(Math.SQRT2-1)*ee,Re=4/3*(Math.SQRT2-1)*oe;return nf(T+ee,V),mi(T+ee,V-Re,T+Te,V-oe,T,V-oe),mi(T-Te,V-oe,T-ee,V-Re,T-ee,V),mi(T-ee,V+Re,T-Te,V+oe,T,V+oe),mi(T+Te,V+oe,T+ee,V+Re,T+ee,V),gl(ge),this},p.__private__.circle=p.circle=function(T,V,ee,oe){if(isNaN(T)||isNaN(V)||isNaN(ee)||!Yt(oe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(T,V,ee,ee,oe)},p.setFont=function(T,V,ee){return ee&&(V=I(V,ee)),it=ef(T,V,{disableWarning:!1}),this};var os=p.__private__.getFont=p.getFont=function(){return Dt[ef.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var T,V,ee={};for(T in Ot)if(Ot.hasOwnProperty(T))for(V in ee[T]=[],Ot[T])Ot[T].hasOwnProperty(V)&&ee[T].push(V);return ee},p.addFont=function(T,V,ee,oe,ge){var Te=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Te.indexOf(arguments[3])!==-1?ge=arguments[3]:arguments[3]&&Te.indexOf(arguments[3])==-1&&(ee=I(ee,oe)),bc.call(this,T,V,ee,ge=ge||"Identity-H")};var Po,_c=t.lineWidth||.200025,Id=p.__private__.getLineWidth=p.getLineWidth=function(){return _c},bt=p.__private__.setLineWidth=p.setLineWidth=function(T){return _c=T,q(E(j(T))+" w"),this};p.__private__.setLineDash=ht.API.setLineDash=ht.API.setLineDashPattern=function(T,V){if(T=T||[],V=V||0,isNaN(V)||!Array.isArray(T))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return T=T.map(function(ee){return E(j(ee))}).join(" "),V=E(j(V)),q("["+T+"] "+V+" d"),this};var om=p.__private__.getLineHeight=p.getLineHeight=function(){return je*Po};p.__private__.getLineHeight=p.getLineHeight=function(){return je*Po};var lm=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(T){return typeof(T=T||1.15)=="number"&&(Po=T),this},cm=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Po};lm(t.lineHeight);var oi=p.__private__.getHorizontalCoordinate=function(T){return j(T)},Ws=p.__private__.getVerticalCoordinate=function(T){return A===S?T:mt[K].mediaBox.topRightY-mt[K].mediaBox.bottomLeftY-j(T)},um=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(T){return E(oi(T))},Sc=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(T){return E(Ws(T))},Hs=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Ta(Hs)},p.__private__.setStrokeColor=p.setDrawColor=function(T,V,ee,oe){return Hs=ta({ch1:T,ch2:V,ch3:ee,ch4:oe,pdfColorType:"draw",precision:2}),q(Hs),this};var Ac=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Ta(Ac)},p.__private__.setFillColor=p.setFillColor=function(T,V,ee,oe){return Ac=ta({ch1:T,ch2:V,ch3:ee,ch4:oe,pdfColorType:"fill",precision:2}),q(Ac),this};var Ia=t.textColor||"0 g",yl=p.__private__.getTextColor=p.getTextColor=function(){return Ta(Ia)};p.__private__.setTextColor=p.setTextColor=function(T,V,ee,oe){return Ia=ta({ch1:T,ch2:V,ch3:ee,ch4:oe,pdfColorType:"text",precision:3}),this};var ls=t.charSpace,rf=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(ls||0)};p.__private__.setCharSpace=p.setCharSpace=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ls=T,this};var En=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(T){var V=p.CapJoinStyles[T];if(V===void 0)throw new Error("Line cap style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return En=V,q(V+" J"),this};var af=0;p.__private__.setLineJoin=p.setLineJoin=function(T){var V=p.CapJoinStyles[T];if(V===void 0)throw new Error("Line join style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return af=V,q(V+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(T){if(T=T||0,isNaN(T))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return q(E(j(T))+" M"),this},p.GState=U2,p.setGState=function(T){(T=typeof T=="string"?vt[Et[T]]:jd(null,T)).equals(pn)||(q("/"+T.id+" gs"),pn=T)};var jd=function(T,V){if(!T||!Et[T]){var ee=!1;for(var oe in vt)if(vt.hasOwnProperty(oe)&&vt[oe].equals(V)){ee=!0;break}if(ee)V=vt[oe];else{var ge="GS"+(Object.keys(vt).length+1).toString(10);vt[ge]=V,V.id=ge}return T&&(Et[T]=V.id),zt.publish("addGState",V),V}};p.addGState=function(T,V){return jd(T,V),this},p.saveGraphicsState=function(){return q("q"),Ln.push({key:it,size:je,color:Ia}),this},p.restoreGraphicsState=function(){q("Q");var T=Ln.pop();return it=T.key,je=T.size,Ia=T.color,pn=null,this},p.setCurrentTransformationMatrix=function(T){return q(T.toString()+" cm"),this},p.comment=function(T){return q("#"+T),this};var cs=function(T,V){var ee=T||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ee},set:function(Te){isNaN(Te)||(ee=parseFloat(Te))}});var oe=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return oe},set:function(Te){isNaN(Te)||(oe=parseFloat(Te))}});var ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ge},set:function(Te){ge=Te.toString()}}),this},Nc=function(T,V,ee,oe){cs.call(this,T,V),this.type="rect";var ge=ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ge},set:function(Re){isNaN(Re)||(ge=parseFloat(Re))}});var Te=oe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Te},set:function(Re){isNaN(Re)||(Te=parseFloat(Re))}}),this},vl=function(){this.page=Ft,this.currentPage=K,this.pages=Ne.slice(0),this.pagesContext=mt.slice(0),this.x=ut,this.y=Tn,this.matrix=Kt,this.width=na(K),this.height=Od(K),this.outputDestination=Me,this.id="",this.objectNumber=-1};vl.prototype.restore=function(){Ft=this.page,K=this.currentPage,mt=this.pagesContext,Ne=this.pages,ut=this.x,Tn=this.y,Kt=this.matrix,sf(K,this.width),ra(K,this.height),Me=this.outputDestination};var To=function(T,V,ee,oe,ge){Ci.push(new vl),Ft=K=0,Ne=[],ut=T,Tn=V,Kt=ge,Ca([ee,oe])};for(var ko in p.beginFormObject=function(T,V,ee,oe,ge){return To(T,V,ee,oe,ge),this},p.endFormObject=function(T){return function(V){if(rs[V])Ci.pop().restore();else{var ee=new vl,oe="Xo"+(Object.keys(Sr).length+1).toString(10);ee.id=oe,rs[V]=oe,Sr[oe]=ee,zt.publish("addFormObject",ee),Ci.pop().restore()}}(T),this},p.doFormObject=function(T,V){var ee=Sr[rs[T]];return q("q"),q(V.toString()+" cm"),q("/"+ee.id+" Do"),q("Q"),this},p.getFormObject=function(T){var V=Sr[rs[T]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},p.save=function(T,V){return T=T||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(Af(hl(as()),T),typeof Af.unload=="function"&&Nt.setTimeout&&setTimeout(Af.unload,911),this):new Promise(function(ee,oe){try{var ge=Af(hl(as()),T);typeof Af.unload=="function"&&Nt.setTimeout&&setTimeout(Af.unload,911),ee(ge)}catch(Te){oe(Te.message)}})},ht.API)ht.API.hasOwnProperty(ko)&&(ko==="events"&&ht.API.events.length?function(T,V){var ee,oe,ge;for(ge=V.length-1;ge!==-1;ge--)ee=V[ge][0],oe=V[ge][1],T.subscribe.apply(T,[ee].concat(typeof oe=="function"?[oe]:oe))}(zt,ht.API.events):p[ko]=ht.API[ko]);function na(T){return mt[T].mediaBox.topRightX-mt[T].mediaBox.bottomLeftX}function sf(T,V){mt[T].mediaBox.topRightX=V+mt[T].mediaBox.bottomLeftX}function Od(T){return mt[T].mediaBox.topRightY-mt[T].mediaBox.bottomLeftY}function ra(T,V){mt[T].mediaBox.topRightY=V+mt[T].mediaBox.bottomLeftY}var us=p.getPageWidth=function(T){return na(T=T||K)/Tt},Ec=p.setPageWidth=function(T,V){sf(T,V*Tt)},fs=p.getPageHeight=function(T){return Od(T=T||K)/Tt},of=p.setPageHeight=function(T,V){ra(T,V*Tt)};return p.internal={pdfEscape:si,getStyle:ml,getFont:os,getFontSize:qe,getCharSpace:rf,getTextColor:yl,getLineHeight:om,getLineHeightFactor:cm,getLineWidth:Id,write:Ie,getHorizontalCoordinate:oi,getVerticalCoordinate:Ws,getCoordinateString:um,getVerticalCoordinateString:Sc,collections:{},newObject:Qn,newAdditionalObject:ul,newObjectDeferred:Dr,newObjectDeferredBegin:Jn,getFilters:ji,putStream:Ar,events:zt,scaleFactor:Tt,pageSize:{getWidth:function(){return us(K)},setWidth:function(T){Ec(K,T)},getHeight:function(){return fs(K)},setHeight:function(T){of(K,T)}},encryptionOptions:u,encryption:kn,getEncryptor:function(T){return u!==null?kn.encryptor(T,0):function(V){return V}},output:tf,getNumberOfPages:Zu,get pages(){return Ne},out:q,f2:N,f3:k,getPageInfo:Wr,getPageInfoByObjId:pl,getCurrentPageInfo:wc,getPDFVersion:b,Point:cs,Rectangle:Nc,Matrix:yt,hasHotfix:pa},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return us(K)},set:function(T){Ec(K,T)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return fs(K)},set:function(T){of(K,T)},enumerable:!0,configurable:!0}),(function(T){for(var V=0,ee=Ze.length;V<ee;V++){var oe=bc.call(this,T[V][0],T[V][1],T[V][2],Ze[V][3],!0);f===!1&&(h[oe]=!0);var ge=T[V][0].split("-");Xu({id:oe,fontName:ge[0],fontStyle:ge[1]||""})}zt.publish("addFonts",{fonts:Dt,dictionary:Ot})}).call(p,Ze),it="F1",xc(i,n),zt.publish("initialized"),p}Xd.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Xd.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Xd.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Xd.prototype.processOwnerPassword=function(t,e){return NE(AE(e).substr(0,5),t)},Xd.prototype.encryptor=function(t,e){var n=AE(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return NE(n,r)}},U2.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||_n(t)!==_n(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ht.API={events:[]},ht.version="4.2.0";var br=ht.API,Ak=1,Nd=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zd=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},fd=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var n=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(n.length===1?"0"+n:n)})},Ct=function(t){return t.toFixed(2)},qc=function(t){return t.toFixed(5)};br.__acroform__={};var Pa=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},rD=function(t){return t*Ak},Mo=function(t){var e=new $W,n=et.internal.getHeight(t)||0,r=et.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Ct(r)),Number(Ct(n))],e},XRe=br.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},QRe=br.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},JRe=br.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Or=br.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return JRe(t,e-1)},Rr=br.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return XRe(t,e-1)},Lr=br.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return QRe(t,e-1)},ZRe=br.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(a+o)||0,l.upperRight_X=n(i+s)||0,l.upperRight_Y=r(a)||0,[Number(Ct(l.lowerLeft_X)),Number(Ct(l.lowerLeft_Y)),Number(Ct(l.upperRight_X)),Number(Ct(l.upperRight_Y))]},eLe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=EE(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Ct(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Mo(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},EE=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(N){return N.split(`
`)}):i.map(function(N){return[N]});var a=n,s=et.internal.getHeight(t)||0;s=s<0?-s:s;var o=et.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(N,k,j){if(N+1<i.length){var B=k+" "+i[N+1][0];return i1(B,t,j).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var c,u,f=i1("3",t,a).height,h=t.multiline?s-a:(s-f)/2,p=h+=2,y=0,b=0,x=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+i1(e,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var v="",w=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var A=!1;if(i[S].length!==1&&x!==i[S].length-1){if((f+2)*(w+2)+2>s)continue e;v+=i[S][x],A=!0,b=S,S--}else{v=(v+=i[S][x]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var P=parseInt(S),O=l(P,v,a),I=S>=i.length-1;if(O&&!I){v+=" ",x=0;continue}if(O||I){if(I)b=P;else if(t.multiline&&(f+2)*(w+2)+2>s)continue e}else{if(!t.multiline||(f+2)*(w+2)+2>s)continue e;b=P}}for(var E="",C=y;C<=b;C++){var M=i[C];if(t.multiline){if(C===b){E+=M[x]+" ",x=(x+1)%M.length;continue}if(C===y){E+=M[M.length-1]+" ";continue}}E+=M[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,u=i1(E,t,a).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}e+=Ct(c)+" "+Ct(p)+` Td
`,e+="("+Nd(E)+`) Tj
`,e+=-Ct(c)+` 0 Td
`,p=-(a+2),u=0,y=A?b:b+1,w++,v=""}break}return r.text=e,r.fontSize=a,r},i1=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},tLe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nLe=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},rLe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(vo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(tLe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ak=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new BW,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&nLe(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var o=r[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=ZRe(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=et.createDefaultAppearanceStream(o),_n(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=eLe(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var p=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var y=p[s];typeof y=="function"&&(y=y.call(i,o)),f+="/"+s+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=p)=="function"&&(y=y.call(i,o)),f+="/"+s+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&function(b,x){for(var v in b)if(b.hasOwnProperty(v)){var w=v,S=b[v];x.internal.newObjectDeferredBegin(S.objId,!0),_n(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete b[w]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},FW=br.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),_n(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)==="/"?i+="/"+fd(t[a].substr(1)):(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Nd(r(t[a].toString()))+")")}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},U_=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Nd(r(t))+")"},qo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};qo.prototype.toString=function(){return this.objId+" 0 R"},qo.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},qo.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:FW(i,this.objId,this.scope)}):i instanceof qo?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var $W=function(){qo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Pa($W,qo);var BW=function(){qo.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Nd(n(t))+")"}},set:function(n){t=n}})};Pa(BW,qo);var vo=function t(){qo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Or(e,3)},set:function(v){v?this.F=Rr(e,3):this.F=Lr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');n=v}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(v){r=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(v){r[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(v){r[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(v){r[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(v){r[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof z2)return;a="FieldObject"+t.FieldNum++}var v=function(w){return w};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Nd(v(a))+")"},set:function(v){a=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(v){a=v}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Ak:c},set:function(v){c=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof z2||this instanceof zf))return U_(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof fi==0?U_(h,this.objId,this.scope):h},set:function(v){v=v.toString(),h=this instanceof fi==0?v.substr(0,1)==="("?zd(v.substr(1,v.length-2)):zd(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof fi==1?zd(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof fi==1?"/"+fd(v):v}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof fi==0?U_(p,this.objId,this.scope):p},set:function(v){v=v.toString(),p=this instanceof fi==0?v.substr(0,1)==="("?zd(v.substr(1,v.length-2)):zd(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof fi==1?zd(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof fi==1?"/"+fd(v):v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(v){v=!!v,b=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(v){y=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,1)},set:function(v){v?this.Ff=Rr(this.Ff,1):this.Ff=Lr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,2)},set:function(v){v?this.Ff=Rr(this.Ff,2):this.Ff=Lr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,3)},set:function(v){v?this.Ff=Rr(this.Ff,3):this.Ff=Lr(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');x=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(x){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};Pa(vo,qo);var Mh=function(){vo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return FW(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,c=[];l=s.exec(a);)c.push(l[o]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,18)},set:function(n){n?this.Ff=Rr(this.Ff,18):this.Ff=Lr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Rr(this.Ff,19):this.Ff=Lr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,20)},set:function(n){n?(this.Ff=Rr(this.Ff,20),e.sort()):this.Ff=Lr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,22)},set:function(n){n?this.Ff=Rr(this.Ff,22):this.Ff=Lr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,23)},set:function(n){n?this.Ff=Rr(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,27)},set:function(n){n?this.Ff=Rr(this.Ff,27):this.Ff=Lr(this.Ff,27)}}),this.hasAppearanceStream=!1};Pa(Mh,vo);var Dh=function(){Mh.call(this),this.fontName="helvetica",this.combo=!1};Pa(Dh,Mh);var Fh=function(){Dh.call(this),this.combo=!0};Pa(Fh,Dh);var M1=function(){Fh.call(this),this.edit=!0};Pa(M1,Fh);var fi=function(){vo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,15)},set:function(n){n?this.Ff=Rr(this.Ff,15):this.Ff=Lr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,16)},set:function(n){n?this.Ff=Rr(this.Ff,16):this.Ff=Lr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,17)},set:function(n){n?this.Ff=Rr(this.Ff,17):this.Ff=Lr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,26)},set:function(n){n?this.Ff=Rr(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Nd(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){_n(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){var r=n==null?"":n.toString();r.substr(0,1)==="/"&&(r=r.substr(1)),t="/"+fd(r)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+fd(n)}})};Pa(fi,vo);var D1=function(){fi.call(this),this.pushButton=!0};Pa(D1,fi);var $h=function(){fi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Pa($h,fi);var z2=function(){var t,e;vo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+Nd(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){_n(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){var a=i==null?"":i.toString();a.substr(0,1)==="/"&&(a=a.substr(1)),n="/"+fd(a)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){var a=i==null?"":i.toString();a.substr(0,1)==="/"&&(a=a.substr(1)),n="/"+fd(a)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=et.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Pa(z2,vo),$h.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},$h.prototype.createOption=function(t){var e=new z2;return e.Parent=this,e.optionName=t,this.Kids.push(e),iLe.call(this.scope,e),e};var F1=function(){fi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=et.CheckBox.createAppearanceStream()};Pa(F1,fi);var zf=function(){vo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,13)},set:function(e){e?this.Ff=Rr(this.Ff,13):this.Ff=Lr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,21)},set:function(e){e?this.Ff=Rr(this.Ff,21):this.Ff=Lr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,23)},set:function(e){e?this.Ff=Rr(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,24)},set:function(e){e?this.Ff=Rr(this.Ff,24):this.Ff=Lr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,25)},set:function(e){e?this.Ff=Rr(this.Ff,25):this.Ff=Lr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,26)},set:function(e){e?this.Ff=Rr(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Pa(zf,vo);var $1=function(){zf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,14)},set:function(t){t?this.Ff=Rr(this.Ff,14):this.Ff=Lr(this.Ff,14)}}),this.password=!0};Pa($1,zf);var et={CheckBox:{createAppearanceStream:function(){return{N:{On:et.CheckBox.YesNormal},D:{On:et.CheckBox.YesPushDown,Off:et.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Mo(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=EE(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Ct(et.internal.getWidth(t))+" "+Ct(et.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Ct(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Mo(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=et.internal.getHeight(t),s=et.internal.getWidth(t),o=EE(t,t.caption);return i.push("1 g"),i.push("0 0 "+Ct(s)+" "+Ct(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ct(s-1)+" "+Ct(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Ct(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Mo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ct(et.internal.getWidth(t))+" "+Ct(et.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:et.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=et.RadioButton.Circle.YesNormal,e.D[t]=et.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Mo(t);e.scope=t.scope;var n=[],r=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=et.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+qc(et.internal.getWidth(t)/2)+" "+qc(et.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Mo(t);e.scope=t.scope;var n=[],r=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*et.internal.Bezier_C).toFixed(5)),s=Number((r*et.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+qc(et.internal.getWidth(t)/2)+" "+qc(et.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+qc(et.internal.getWidth(t)/2)+" "+qc(et.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Mo(t);e.scope=t.scope;var n=[],r=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*et.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+qc(et.internal.getWidth(t)/2)+" "+qc(et.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:et.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=et.RadioButton.Cross.YesNormal,e.D[t]=et.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Mo(t);e.scope=t.scope;var n=[],r=et.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Ct(et.internal.getWidth(t)-2)+" "+Ct(et.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Ct(r.x1.x)+" "+Ct(r.x1.y)+" m"),n.push(Ct(r.x2.x)+" "+Ct(r.x2.y)+" l"),n.push(Ct(r.x4.x)+" "+Ct(r.x4.y)+" m"),n.push(Ct(r.x3.x)+" "+Ct(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Mo(t);e.scope=t.scope;var n=et.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Ct(et.internal.getWidth(t))+" "+Ct(et.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Ct(et.internal.getWidth(t)-2)+" "+Ct(et.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Ct(n.x1.x)+" "+Ct(n.x1.y)+" m"),r.push(Ct(n.x2.x)+" "+Ct(n.x2.y)+" l"),r.push(Ct(n.x4.x)+" "+Ct(n.x4.y)+" m"),r.push(Ct(n.x3.x)+" "+Ct(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Mo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ct(et.internal.getWidth(t))+" "+Ct(et.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};et.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=et.internal.getWidth(t),n=et.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},et.internal.getWidth=function(t){var e=0;return _n(t)==="object"&&(e=rD(t.Rect[2])),e},et.internal.getHeight=function(t){var e=0;return _n(t)==="object"&&(e=rD(t.Rect[3])),e};var iLe=br.addField=function(t){if(rLe(this,t),!(t instanceof vo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};br.AcroFormChoiceField=Mh,br.AcroFormListBox=Dh,br.AcroFormComboBox=Fh,br.AcroFormEditBox=M1,br.AcroFormButton=fi,br.AcroFormPushButton=D1,br.AcroFormRadioButton=$h,br.AcroFormCheckBox=F1,br.AcroFormTextField=zf,br.AcroFormPasswordField=$1,br.AcroFormAppearance=et,br.AcroForm={ChoiceField:Mh,ListBox:Dh,ComboBox:Fh,EditBox:M1,Button:fi,PushButton:D1,RadioButton:$h,CheckBox:F1,TextField:zf,PasswordField:$1,Appearance:et},ht.AcroForm={ChoiceField:Mh,ListBox:Dh,ComboBox:Fh,EditBox:M1,Button:fi,PushButton:D1,RadioButton:$h,CheckBox:F1,TextField:zf,PasswordField:$1,Appearance:et};ht.AcroForm;function VW(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(N,k){var j,B,G,Z,ie,X=n;if((k=k||n)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(O(N))for(ie in r)for(G=r[ie],j=0;j<G.length;j+=1){for(Z=!0,B=0;B<G[j].length;B+=1)if(G[j][B]!==void 0&&G[j][B]!==N[B]){Z=!1;break}if(Z===!0){X=ie;break}}else for(ie in r)for(G=r[ie],j=0;j<G.length;j+=1){for(Z=!0,B=0;B<G[j].length;B+=1)if(G[j][B]!==void 0&&G[j][B]!==N.charCodeAt(B)){Z=!1;break}if(Z===!0){X=ie;break}}return X===n&&k!==n&&(X=k),X},a=function N(k){for(var j=this.internal.write,B=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var Z=[];if(Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Image"}),Z.push({key:"Width",value:k.width}),Z.push({key:"Height",value:k.height}),k.colorSpace===v.INDEXED?Z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(Z.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===v.DEVICE_CMYK&&Z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Z.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&Z.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)&&k.transparency.length>0){for(var ie="",X=0,ae=k.transparency.length;X<ae;X++)ie+=k.transparency[X]+" "+k.transparency[X]+" ";Z.push({key:"Mask",value:"["+ie+"]"})}k.sMask!==void 0&&Z.push({key:"SMask",value:k.objectId+1+" 0 R"});var ue=k.filter!==void 0?["/"+k.filter]:void 0;if(B({data:k.data,additionalKeyValues:Z,alreadyAppliedFilters:ue,objectId:k.objectId}),j("endobj"),"sMask"in k&&k.sMask!==void 0){var de,$=(de=k.sMaskBitsPerComponent)!==null&&de!==void 0?de:k.bitsPerComponent,K={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:$,data:k.sMask};"filter"in k&&(K.decodeParameters="/Predictor ".concat(k.predictor," /Colors 1 /BitsPerComponent ").concat($," /Columns ").concat(k.width),K.filter=k.filter),N.call(this,K)}if(k.colorSpace===v.INDEXED){var re=this.internal.newObject();B({data:E(new Uint8Array(k.palette)),objectId:re}),j("endobj")}},s=function(){var N=this.internal.collections[e+"images"];for(var k in N)a.call(this,N[k])},o=function(){var N,k=this.internal.collections[e+"images"],j=this.internal.write;for(var B in k)j("/I"+(N=k[B]).index,N.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var N=this.internal.collections[e+"images"];return l.call(this),N},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(N){return typeof t["process"+N.toUpperCase()]=="function"},h=function(N){return _n(N)==="object"&&N.nodeType===1},p=function(N,k){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var j=""+N.getAttribute("src");if(j.indexOf("data:image/")===0)return L1(unescape(j).split("base64,").pop());var B=t.loadFile(j,!0);if(B!==void 0)return B}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var G;switch(k){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;default:G="image/jpeg"}return L1(N.toDataURL(G,1).split("base64,").pop())}},y=function(N){var k=this.internal.collections[e+"images"];if(k){for(var j in k)if(N===k[j].alias)return k[j]}},b=function(N,k,j){return N||k||(N=-96,k=-96),N<0&&(N=-1*j.width*72/N/this.internal.scaleFactor),k<0&&(k=-1*j.height*72/k/this.internal.scaleFactor),N===0&&(N=k*j.width/j.height),k===0&&(k=N*j.height/j.width),[N,k]},x=function(N,k,j,B,G,Z){var ie=b.call(this,j,B,G),X=this.internal.getCoordinateString,ae=this.internal.getVerticalCoordinateString,ue=c.call(this);if(j=ie[0],B=ie[1],ue[G.index]=G,Z){Z*=Math.PI/180;var de=Math.cos(Z),$=Math.sin(Z),K=function(se){return se.toFixed(4)},re=[K(de),K($),K(-1*$),K(de),0,0,"cm"]}this.internal.write("q"),Z?(this.internal.write([1,"0","0",1,X(N),ae(k+B),"cm"].join(" ")),this.internal.write(re.join(" ")),this.internal.write([X(j),"0","0",X(B),"0","0","cm"].join(" "))):this.internal.write([X(j),"0","0",X(B),X(N),ae(k+B),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},v=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=t.__addimage__.sHashCode=function(N){var k,j,B=0;if(typeof N=="string")for(j=N.length,k=0;k<j;k++)B=(B<<5)-B+N.charCodeAt(k),B|=0;else if(O(N))for(j=N.byteLength/2,k=0;k<j;k++)B=(B<<5)-B+N[k],B|=0;return B},A=t.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var k=!0;return N.length===0&&(k=!1),N.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(k=!1),k},P=t.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var k=N.indexOf(",");return k<0?null:N.substring(0,k).trim().endsWith("base64")?N.substring(k+1):null};t.__addimage__.isArrayBuffer=function(N){return N instanceof ArrayBuffer};var O=t.__addimage__.isArrayBufferView=function(N){return N instanceof Int8Array||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array},I=t.__addimage__.binaryStringToUint8Array=function(N){for(var k=N.length,j=new Uint8Array(k),B=0;B<k;B++)j[B]=N.charCodeAt(B);return j},E=t.__addimage__.arrayBufferToBinaryString=function(N){for(var k="",j=O(N)?N:new Uint8Array(N),B=0;B<j.length;B+=8192)k+=String.fromCharCode.apply(null,j.subarray(B,B+8192));return k};t.addImage=function(){var N,k,j,B,G,Z,ie,X,ae;if(typeof arguments[1]=="number"?(k=n,j=arguments[1],B=arguments[2],G=arguments[3],Z=arguments[4],ie=arguments[5],X=arguments[6],ae=arguments[7]):(k=arguments[1],j=arguments[2],B=arguments[3],G=arguments[4],Z=arguments[5],ie=arguments[6],X=arguments[7],ae=arguments[8]),_n(N=arguments[0])==="object"&&!h(N)&&"imageData"in N){var ue=N;N=ue.imageData,k=ue.format||k||n,j=ue.x||j||0,B=ue.y||B||0,G=ue.w||ue.width||G,Z=ue.h||ue.height||Z,ie=ue.alias||ie,X=ue.compression||X,ae=ue.rotation||ue.angle||ae}var de=this.internal.getFilters();if(X===void 0&&de.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(j)||isNaN(B))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var $=C.call(this,N,k,ie,X);return x.call(this,j,B,G,Z,$,ae),this};var C=function(N,k,j,B){var G,Z,ie;if(typeof N=="string"&&i(N)===n){N=unescape(N);var X=M(N,!1);(X!==""||(X=t.loadFile(N,!0))!==void 0)&&(N=X)}if(h(N)&&(N=p(N,k)),k=i(N,k),!f(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((ie=j)==null||ie.length===0)&&(j=function(ae){return typeof ae=="string"||O(ae)?S(ae):O(ae.data)?S(ae.data):null}(N)),(G=y.call(this,j))||(N instanceof Uint8Array||k==="RGBA"||(Z=N,N=I(N)),G=this["process"+k.toUpperCase()](N,u.call(this),j,function(ae){return ae&&typeof ae=="string"&&(ae=ae.toUpperCase()),ae in t.image_compression?ae:w.NONE}(B),Z)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},M=t.__addimage__.convertBase64ToBinaryString=function(N,k){k=typeof k!="boolean"||k;var j,B="";if(typeof N=="string"){var G;j=(G=P(N))!==null&&G!==void 0?G:N;try{B=L1(j)}catch(Z){if(k)throw A(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return B};t.getImageProperties=function(N){var k,j,B="";if(h(N)&&(N=p(N)),typeof N=="string"&&i(N)===n&&((B=M(N,!1))===""&&(B=t.loadFile(N)||""),N=B),j=i(N),!f(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(N instanceof Uint8Array||(N=I(N)),!(k=this["process"+j.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=j,k}})(ht.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ht.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((r=c[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){r=c[h];var p=this.internal.pdfEscape,y=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(b.objId),w=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+p(v(r.contents))+")",a+=" /Popup "+x.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+p(v(w))+") >>",b.content=a;var S=b.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(a+=" /Open true"),a+=" >>",x.content=a,this.internal.write(b.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var A=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(y(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var P=this.annotations._nameMap[r.options.name];r.options.pageNumber=P.page,r.options.top=P.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(y(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var O=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+O+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+a)},options:s,type:"link"})},t.textWithLink=function(n,r,i,a){var s,o,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var u=this.splitTextToSize(n,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(n,r,i,a),i+=.2*c,a.align==="center"&&(r-=l/2),a.align==="right"&&(r-=l),this.link(r,i-c,o,s,a),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ht.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},o=t.__arabicParser__.isArabicEndLetter=function(b){return s(b)&&a(b)&&e[b.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(b){return s(b)&&i.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return s(b)&&a(b)&&e[b.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return s(b)&&a(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return s(b)&&a(b)&&e[b.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return s(b)&&a(b)&&e[b.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(b){var x=0,v=n,w="",S=0;for(x=0;x<b.length;x+=1)v[b.charCodeAt(x)]!==void 0?(S++,typeof(v=v[b.charCodeAt(x)])=="number"&&(w+=String.fromCharCode(v),v=n,S=0),x===b.length-1&&(v=n,w+=b.charAt(x-(S-1)),x-=S-1,S=0)):(v=n,w+=b.charAt(x-S),x-=S,S=0);return w};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&r[b.charCodeAt(0)]!==void 0};var h=t.__arabicParser__.getCorrectForm=function(b,x,v){return s(b)?a(b)===!1?-1:!c(b)||!s(x)&&!s(v)||!s(v)&&o(x)||o(b)&&!s(x)||o(b)&&l(x)||o(b)&&o(x)?0:u(b)&&s(x)&&!o(x)&&s(v)&&c(v)?3:o(b)||!s(v)?1:2:-1},p=function(b){var x=0,v=0,w=0,S="",A="",P="",O=(b=b||"").split("\\s+"),I=[];for(x=0;x<O.length;x+=1){for(I.push(""),v=0;v<O[x].length;v+=1)S=O[x][v],A=O[x][v-1],P=O[x][v+1],s(S)?(w=h(S,A,P),I[x]+=w!==-1?String.fromCharCode(e[S.charCodeAt(0)][w]):S):I[x]+=S;I[x]=f(I[x])}return I.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var b,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(x)){var w=0;for(v=[],w=0;w<x.length;w+=1)Array.isArray(x[w])?v.push([p(x[w][0]),x[w][1],x[w][2]]):v.push([p(x[w])]);b=v}else b=p(x);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",y])}(ht.API),ht.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ht.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(b){y=b}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,p=0,y=0,b=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,A){return S.concat(x.splitTextToSize(A,v))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)p<(b=this.getStringUnitWidth(l[w],{font:f})*u)&&(p=b);return p!==0&&(y=l.length),{w:p/=h,h:Math.max((y*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,f,h){if(r.call(this),!u)throw new Error("No data for PDF table.");var p,y,b,x,v=[],w=[],S=[],A={},P={},O=[],I=[],E=(h=h||{}).autoSize||!1,C=h.printHeaders!==!1,M=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,N=h.margins||Object.assign({width:this.getPageWidth()},e),k=typeof h.padding=="number"?h.padding:3,j=h.headerBackgroundColor||"#c8c8c8",B=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=B,this.setFontSize(M),f==null)w=v=Object.keys(u[0]),S=v.map(function(){return"left"});else if(Array.isArray(f)&&_n(f[0])==="object")for(v=f.map(function(ue){return ue.name}),w=f.map(function(ue){return ue.prompt||ue.name||""}),S=f.map(function(ue){return ue.align||"left"}),p=0;p<f.length;p+=1)P[f[p].name]=.7499990551181103*f[p].width;else Array.isArray(f)&&typeof f[0]=="string"&&(w=v=f,S=v.map(function(){return"left"}));if(E||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<v.length;p+=1){for(A[x=v[p]]=u.map(function(ue){return ue[x]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(w[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=A[x],this.setFont(void 0,"normal"),b=0;b<y.length;b+=1)O.push(this.getTextDimensions(y[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[x]=Math.max.apply(null,O)+k+k,O=[]}if(C){var G={};for(p=0;p<v.length;p+=1)G[v[p]]={},G[v[p]].text=w[p],G[v[p]].align=S[p];var Z=o.call(this,G,P);I=v.map(function(ue){return new a(l,c,P[ue],Z,G[ue].text,void 0,G[ue].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var ie=f.reduce(function(ue,de){return ue[de.name]=de.align,ue},{});for(p=0;p<u.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:u[p]},this);var X=o.call(this,u[p],P);for(b=0;b<v.length;b+=1){var ae=u[p][v[b]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:b,data:ae},this),s.call(this,new a(l,c,P[v[b]],X,ae,p+2,ie[v[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(p){var y=l[p];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+u+u},this).reduce(function(p,y){return Math.max(p,y)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(y)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),n=!1}}(ht.API);var UW={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},zW=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],PE=VW(zW),qW=[100,200,300,400,500,600,700,800,900],aLe=VW(qW);function z_(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return UW[a=a||"normal"]?a:"normal"}(t.style),r=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),i=function(a){return typeof PE[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function iD(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var sLe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},aD={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function sD(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function oD(t){return t.trimLeft()}function oLe(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function lLe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var qd,a1,lD,cD,uD,q_=["times"];function fD(t,e,n,r,i){var a=4,s=hD;switch(i){case ht.API.image_compression.FAST:a=1,s=dD;break;case ht.API.image_compression.MEDIUM:a=6,s=pD;break;case ht.API.image_compression.SLOW:a=9,s=mD}t=function(l,c,u,f){for(var h,p=l.length/c,y=new Uint8Array(l.length+p),b=[cLe,dD,hD,pD,mD],x=0;x<p;x+=1){var v=x*c,w=l.subarray(v,v+c);if(f)y.set(f(w,u,h),v+x);else{for(var S=b.length,A=[],P=0;P<S;P+=1)A[P]=b[P](w,u,h);var O=fLe(A.concat());y.set(A[O],v+x)}h=w}return y}(t,e,Math.ceil(n*r/8),s);var o=xE(t,{level:a});return ht.API.__addimage__.arrayBufferToBinaryString(o)}function cLe(t){var e=Array.apply([],t);return e.unshift(0),e}function dD(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var a=t[i-e]||0;r[i+1]=t[i]-a+256&255}return r}function hD(t,e,n){var r=t.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var s=n&&n[a]||0;i[a+1]=t[a]-s+256&255}return i}function pD(t,e,n){var r=t.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var s=t[a-e]||0,o=n&&n[a]||0;i[a+1]=t[a]+256-(s+o>>>1)&255}return i}function mD(t,e,n){var r=t.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var s=uLe(t[a-e]||0,n&&n[a]||0,n&&n[a-e]||0);i[a+1]=t[a]-s+256&255}return i}function uLe(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),a=Math.abs(t+e-n-n);return r<=i&&r<=a?t:i<=a?e:n}function fLe(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function W_(t,e,n){var r=e*n,i=Math.floor(r/8),a=16-(r-8*i+n),s=(1<<n)-1;return WW(t,i)>>a&s}function gD(t,e,n,r){var i=n*r,a=Math.floor(i/8),s=16-(i-8*a+r),o=(1<<r)-1,l=(e&o)<<s;(function(c,u,f){if(u+1<c.byteLength)c.setUint16(u,f,!1);else{var h=f>>8&255;c.setUint8(u,h)}})(t,a,WW(t,a)&~(o<<s)&65535|l)}function WW(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function dLe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;a&&(o=e,l=s,e+=3*s);var c=!0,u=[],f=0,h=null,p=0,y=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];f=t[e++]|t[e++]<<8,h=t[e++],1&b||(h=null),p=b>>2&7,e++;break;case 254:for(;;){if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var x=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,A=t[e++],P=A>>6&1,O=1<<1+(7&A),I=o,E=l,C=!1;A>>7&&(C=!0,I=e,E=O,e+=3*O);var M=e;for(e++;;){var N;if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}u.push({x,y:v,width:w,height:S,has_local_palette:C,palette_offset:I,palette_size:E,data_offset:M,data_length:e-M,transparent_index:h,interlaced:!!P,delay:f,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return y},this.frameInfo=function(k){if(k<0||k>=u.length)throw new Error("Frame index out of range.");return u[k]},this.decodeAndBlitFrameBGRA=function(k,j){var B=this.frameInfo(k),G=B.width*B.height;if(G>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var Z=new Uint8Array(G);yD(t,B.data_offset,Z,G);var ie=B.palette_offset,X=B.transparent_index;X===null&&(X=256);var ae=B.width,ue=n-ae,de=ae,$=4*(B.y*n+B.x),K=4*((B.y+B.height)*n+B.x),re=$,se=4*ue;B.interlaced===!0&&(se+=4*n*7);for(var le=8,me=0,Se=Z.length;me<Se;++me){var ce=Z[me];if(de===0&&(de=ae,(re+=se)>=K&&(se=4*ue+4*n*(le-1),re=$+(ae+ue)*(le<<1),le>>=1)),ce===X)re+=4;else{var xe=t[ie+3*ce],Ne=t[ie+3*ce+1],ye=t[ie+3*ce+2];j[re++]=ye,j[re++]=Ne,j[re++]=xe,j[re++]=255}--de}},this.decodeAndBlitFrameRGBA=function(k,j){var B=this.frameInfo(k),G=B.width*B.height;if(G>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var Z=new Uint8Array(G);yD(t,B.data_offset,Z,G);var ie=B.palette_offset,X=B.transparent_index;X===null&&(X=256);var ae=B.width,ue=n-ae,de=ae,$=4*(B.y*n+B.x),K=4*((B.y+B.height)*n+B.x),re=$,se=4*ue;B.interlaced===!0&&(se+=4*n*7);for(var le=8,me=0,Se=Z.length;me<Se;++me){var ce=Z[me];if(de===0&&(de=ae,(re+=se)>=K&&(se=4*ue+4*n*(le-1),re=$+(ae+ue)*(le<<1),le>>=1)),ce===X)re+=4;else{var xe=t[ie+3*ce],Ne=t[ie+3*ce+1],ye=t[ie+3*ce+2];j[re++]=xe,j[re++]=Ne,j[re++]=ye,j[re++]=255}--de}}}function yD(t,e,n,r){for(var i=t[e++],a=1<<i,s=a+1,o=s+1,l=i+1,c=(1<<l)-1,u=0,f=0,h=0,p=t[e++],y=new Int32Array(4096),b=null;;){for(;u<16&&p!==0;)f|=t[e++]<<u,u+=8,p===1?p=t[e++]:--p;if(u<l)break;var x=f&c;if(f>>=l,u-=l,x!==a){if(x===s)break;for(var v=x<o?x:b,w=0,S=v;S>a;)S=y[S]>>8,++w;var A=S;if(h+w+(v!==x?1:0)>r)return void jn.log("Warning, gif stream longer than expected.");n[h++]=A;var P=h+=w;for(v!==x&&(n[h++]=A),S=v;w--;)S=y[S],n[--P]=255&S,S>>=8;b!==null&&o<4096&&(y[o++]=b<<8|A,o>=c+1&&l<12&&(++l,c=c<<1|1)),b=x}else o=s+1,c=(1<<(l=i+1))-1,b=null}return h!==r&&jn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function H_(t){var e,n,r,i,a,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),y=new Array(64),b=[],x=0,v=7,w=new Array(64),S=new Array(64),A=new Array(64),P=new Array(256),O=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Z($,K){for(var re=0,se=0,le=new Array,me=1;me<=16;me++){for(var Se=1;Se<=$[me];Se++)le[K[se]]=[],le[K[se]][0]=re,le[K[se]][1]=me,se++,re++;re*=2}return le}function ie($){for(var K=$[0],re=$[1]-1;re>=0;)K&1<<re&&(x|=1<<v),re--,--v<0&&(x==255?(X(255),X(0)):X(x),v=7,x=0)}function X($){b.push($)}function ae($){X($>>8&255),X(255&$)}function ue($,K,re,se,le){for(var me,Se=le[0],ce=le[240],xe=function(je,tt){var qe,nt,rt,Wt,Mt,ct,xt,$t,it,Tt,ut=0;for(it=0;it<8;++it){qe=je[ut],nt=je[ut+1],rt=je[ut+2],Wt=je[ut+3],Mt=je[ut+4],ct=je[ut+5],xt=je[ut+6];var Tn=qe+($t=je[ut+7]),Kt=qe-$t,Dt=nt+xt,Ot=nt-xt,Ln=rt+ct,pt=rt-ct,hn=Wt+Mt,vt=Wt-Mt,Et=Tn+hn,pn=Tn-hn,Ft=Dt+Ln,mt=Dt-Ln;je[ut]=Et+Ft,je[ut+4]=Et-Ft;var zt=.707106781*(mt+pn);je[ut+2]=pn+zt,je[ut+6]=pn-zt;var xo=.382683433*((Et=vt+pt)-(mt=Ot+Kt)),Sr=.5411961*Et+xo,rs=1.306562965*mt+xo,Ci=.707106781*(Ft=pt+Ot),yt=Kt+Ci,zn=Kt-Ci;je[ut+5]=zn+Sr,je[ut+3]=zn-Sr,je[ut+1]=yt+rs,je[ut+7]=yt-rs,ut+=8}for(ut=0,it=0;it<8;++it){qe=je[ut],nt=je[ut+8],rt=je[ut+16],Wt=je[ut+24],Mt=je[ut+32],ct=je[ut+40],xt=je[ut+48];var is=qe+($t=je[ut+56]),ii=qe-$t,ai=nt+xt,Qn=nt-xt,Dr=rt+ct,Jn=rt-ct,ul=Wt+Mt,wo=Wt-Mt,Ii=is+ul,Ta=is-ul,ta=ai+Dr,ji=ai-Dr;je[ut]=Ii+ta,je[ut+32]=Ii-ta;var Ar=.707106781*(ji+Ta);je[ut+16]=Ta+Ar,je[ut+48]=Ta-Ar;var _o=.382683433*((Ii=wo+Jn)-(ji=Qn+ii)),ka=.5411961*Ii+_o,qs=1.306562965*ji+_o,So=.707106781*(ta=Jn+Qn),fl=ii+So,dl=ii-So;je[ut+40]=dl+ka,je[ut+24]=dl-ka,je[ut+8]=fl+qs,je[ut+56]=fl-qs,ut++}for(it=0;it<64;++it)Tt=je[it]*tt[it],p[it]=Tt>0?Tt+.5|0:Tt-.5|0;return p}($,K),Ne=0;Ne<64;++Ne)y[I[Ne]]=xe[Ne];var ye=y[0]-re;re=y[0],ye==0?ie(se[0]):(ie(se[h[me=32767+ye]]),ie(f[me]));for(var Me=63;Me>0&&y[Me]==0;)Me--;if(Me==0)return ie(Se),re;for(var $e,q=1;q<=Me;){for(var Ie=q;y[q]==0&&q<=Me;)++q;var Ye=q-Ie;if(Ye>=16){$e=Ye>>4;for(var Ze=1;Ze<=$e;++Ze)ie(ce);Ye&=15}me=32767+y[q],ie(le[(Ye<<4)+h[me]]),ie(f[me]),q++}return Me!=63&&ie(Se),re}function de($){$=Math.min(Math.max($,1),100),a!=$&&(function(K){for(var re=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var le=s((re[se]*K+50)/100);le=Math.min(Math.max(le,1),255),o[I[se]]=le}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Se=0;Se<64;Se++){var ce=s((me[Se]*K+50)/100);ce=Math.min(Math.max(ce,1),255),l[I[Se]]=ce}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ne=0,ye=0;ye<8;ye++)for(var Me=0;Me<8;Me++)c[Ne]=1/(o[I[Ne]]*xe[ye]*xe[Me]*8),u[Ne]=1/(l[I[Ne]]*xe[ye]*xe[Me]*8),Ne++}($<50?Math.floor(5e3/$):Math.floor(200-2*$)),a=$)}this.encode=function($,K){K&&de(K),b=new Array,x=0,v=7,ae(65496),ae(65504),ae(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),ae(1),ae(1),X(0),X(0),function(){ae(65499),ae(132),X(0);for(var nt=0;nt<64;nt++)X(o[nt]);X(1);for(var rt=0;rt<64;rt++)X(l[rt])}(),function(nt,rt){ae(65472),ae(17),X(8),ae(rt),ae(nt),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}($.width,$.height),function(){ae(65476),ae(418),X(0);for(var nt=0;nt<16;nt++)X(E[nt+1]);for(var rt=0;rt<=11;rt++)X(C[rt]);X(16);for(var Wt=0;Wt<16;Wt++)X(M[Wt+1]);for(var Mt=0;Mt<=161;Mt++)X(N[Mt]);X(1);for(var ct=0;ct<16;ct++)X(k[ct+1]);for(var xt=0;xt<=11;xt++)X(j[xt]);X(17);for(var $t=0;$t<16;$t++)X(B[$t+1]);for(var it=0;it<=161;it++)X(G[it])}(),ae(65498),ae(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var re=0,se=0,le=0;x=0,v=7,this.encode.displayName="_encode_";for(var me,Se,ce,xe,Ne,ye,Me,$e,q,Ie=$.data,Ye=$.width,Ze=$.height,je=4*Ye,tt=0;tt<Ze;){for(me=0;me<je;){for(Ne=je*tt+me,Me=-1,$e=0,q=0;q<64;q++)ye=Ne+($e=q>>3)*je+(Me=4*(7&q)),tt+$e>=Ze&&(ye-=je*(tt+1+$e-Ze)),me+Me>=je&&(ye-=me+Me-je+4),Se=Ie[ye++],ce=Ie[ye++],xe=Ie[ye++],w[q]=(O[Se]+O[ce+256|0]+O[xe+512|0]>>16)-128,S[q]=(O[Se+768|0]+O[ce+1024|0]+O[xe+1280|0]>>16)-128,A[q]=(O[Se+1280|0]+O[ce+1536|0]+O[xe+1792|0]>>16)-128;re=ue(w,c,re,e,r),se=ue(S,u,se,n,i),le=ue(A,u,le,n,i),me+=32}tt+=8}if(v>=0){var qe=[];qe[1]=v+1,qe[0]=(1<<v+1)-1,ie(qe)}return ae(65497),new Uint8Array(b)},t=t||50,function(){for(var $=String.fromCharCode,K=0;K<256;K++)P[K]=$(K)}(),e=Z(E,C),n=Z(k,j),r=Z(M,N),i=Z(B,G),function(){for(var $=1,K=2,re=1;re<=15;re++){for(var se=$;se<K;se++)h[32767+se]=re,f[32767+se]=[],f[32767+se][1]=re,f[32767+se][0]=se;for(var le=-(K-1);le<=-$;le++)h[32767+le]=re,f[32767+le]=[],f[32767+le][1]=re,f[32767+le][0]=K-1+le;$<<=1,K<<=1}}(),function(){for(var $=0;$<256;$++)O[$]=19595*$,O[$+256|0]=38470*$,O[$+512|0]=7471*$+32768,O[$+768|0]=-11059*$,O[$+1024|0]=-21709*$,O[$+1280|0]=32768*$+8421375,O[$+1536|0]=-27439*$,O[$+1792|0]=-5329*$}(),de(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Zs(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function vD(t){function e(C){if(!C)throw Error("assert :P")}function n(C,M,N){for(var k=0;4>k;k++)if(C[M+k]!=N.charCodeAt(k))return!0;return!1}function r(C,M,N,k,j){for(var B=0;B<j;B++)C[M+B]=N[k+B]}function i(C,M,N,k){for(var j=0;j<k;j++)C[M+j]=N}function a(C){return new Int32Array(C)}function s(C,M){for(var N=[],k=0;k<C;k++)N.push(new M);return N}function o(C,M){var N=[];return function k(j,B,G){for(var Z=G[B],ie=0;ie<Z&&(j.push(G.length>B+1?[]:new M),!(G.length<B+1));ie++)k(j[ie],B+1,G)}(N,0,C),N}var l=function(){var C=this;function M(m,_){for(var R=1<<_-1>>>0;m&R;)R>>>=1;return R?(m&R-1)+R:m}function N(m,_,R,D,U){e(!(D%R));do m[_+(D-=R)]=U;while(0<D)}function k(m,_,R,D,U){if(e(2328>=U),512>=U)var W=a(512);else if((W=a(U))==null)return 0;return function(H,Y,J,te,fe,_e){var ne,pe,be=Y,Ee=1<<J,we=a(16),ke=a(16);for(e(fe!=0),e(te!=null),e(H!=null),e(0<J),pe=0;pe<fe;++pe){if(15<te[pe])return 0;++we[te[pe]]}if(we[0]==fe)return 0;for(ke[1]=0,ne=1;15>ne;++ne){if(we[ne]>1<<ne)return 0;ke[ne+1]=ke[ne]+we[ne]}for(pe=0;pe<fe;++pe)ne=te[pe],0<te[pe]&&(_e[ke[ne]++]=pe);if(ke[15]==1)return(te=new j).g=0,te.value=_e[0],N(H,be,1,Ee,te),Ee;var Ce,Fe=-1,Le=Ee-1,dt=0,Je=1,Bt=1,ot=1<<J;for(pe=0,ne=1,fe=2;ne<=J;++ne,fe<<=1){if(Je+=Bt<<=1,0>(Bt-=we[ne]))return 0;for(;0<we[ne];--we[ne])(te=new j).g=ne,te.value=_e[pe++],N(H,be+dt,fe,ot,te),dt=M(dt,ne)}for(ne=J+1,fe=2;15>=ne;++ne,fe<<=1){if(Je+=Bt<<=1,0>(Bt-=we[ne]))return 0;for(;0<we[ne];--we[ne]){if(te=new j,(dt&Le)!=Fe){for(be+=ot,Ce=1<<(Fe=ne)-J;15>Fe&&!(0>=(Ce-=we[Fe]));)++Fe,Ce<<=1;Ee+=ot=1<<(Ce=Fe-J),H[Y+(Fe=dt&Le)].g=Ce+J,H[Y+Fe].value=be-Y-Fe}te.g=ne-J,te.value=_e[pe++],N(H,be+(dt>>J),fe,ot,te),dt=M(dt,ne)}}return Je!=2*ke[15]-1?0:Ee}(m,_,R,D,U,W)}function j(){this.value=this.g=0}function B(){this.value=this.g=0}function G(){this.G=s(5,j),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(lf,B)}function Z(m,_,R,D){e(m!=null),e(_!=null),e(2147483648>D),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=_,m.pa=R,m.Jd=_,m.Yc=R+D,m.Zc=4<=D?R+D-4+1:R,Se(m)}function ie(m,_){for(var R=0;0<_--;)R|=xe(m,128)<<_;return R}function X(m,_){var R=ie(m,_);return ce(m)?-R:R}function ae(m,_,R,D){var U,W=0;for(e(m!=null),e(_!=null),e(4294967288>D),m.Sb=D,m.Ra=0,m.u=0,m.h=0,4<D&&(D=4),U=0;U<D;++U)W+=_[R+U]<<8*U;m.Ra=W,m.bb=D,m.oa=_,m.pa=R}function ue(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Tc-8>>>0,++m.bb,m.u-=8;se(m)&&(m.h=1,m.u=0)}function de(m,_){if(e(0<=_),!m.h&&_<=Ra){var R=re(m)&Oa[_];return m.u+=_,ue(m),R}return m.h=1,m.u=0}function $(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function re(m){return m.Ra>>>(m.u&Tc-1)>>>0}function se(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Tc}function le(m,_){m.u=_,m.h=se(m)}function me(m){m.u>=bl&&(e(m.u>=bl),ue(m))}function Se(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function ce(m){return ie(m,1)}function xe(m,_){var R=m.Ca;0>m.b&&Se(m);var D=m.b,U=R*_>>>8,W=(m.I>>>D>U)+0;for(W?(R-=U,m.I-=U+1<<D>>>0):R=U+1,D=R,U=0;256<=D;)U+=8,D>>=8;return D=7^U+kc[D],m.b-=D,m.Ca=(R<<D)-1,W}function Ne(m,_,R){m[_+0]=R>>24&255,m[_+1]=R>>16&255,m[_+2]=R>>8&255,m[_+3]=255&R}function ye(m,_){return m[_+0]|m[_+1]<<8}function Me(m,_){return ye(m,_)|m[_+2]<<16}function $e(m,_){return ye(m,_)|ye(m,_+2)<<16}function q(m,_){var R=1<<_;return e(m!=null),e(0<_),m.X=a(R),m.X==null?0:(m.Mb=32-_,m.Xa=_,1)}function Ie(m,_){e(m!=null),e(_!=null),e(m.Xa==_.Xa),r(_.X,0,m.X,0,1<<_.Xa)}function Ye(){this.X=[],this.Xa=this.Mb=0}function Ze(m,_,R,D){e(R!=null),e(D!=null);var U=R[0],W=D[0];return U==0&&(U=(m*W+_/2)/_),W==0&&(W=(_*U+m/2)/m),0>=U||0>=W?0:(R[0]=U,D[0]=W,1)}function je(m,_){return m+(1<<_)-1>>>_}function tt(m,_){return((4278255360&m)+(4278255360&_)>>>0&4278255360)+((16711935&m)+(16711935&_)>>>0&16711935)>>>0}function qe(m,_){C[_]=function(R,D,U,W,H,Y,J){var te;for(te=0;te<H;++te){var fe=C[m](Y[J+te-1],U,W+te);Y[J+te]=tt(R[D+te],fe)}}}function nt(){this.ud=this.hd=this.jd=0}function rt(m,_){return((4278124286&(m^_))>>>1)+(m&_)>>>0}function Wt(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Mt(m,_){return Wt(m+(m-_+.5>>1))}function ct(m,_,R){return Math.abs(_-R)-Math.abs(m-R)}function xt(m,_,R,D,U,W,H){for(D=W[H-1],R=0;R<U;++R)W[H+R]=D=tt(m[_+R],D)}function $t(m,_,R,D,U){var W;for(W=0;W<R;++W){var H=m[_+W],Y=H>>8&255,J=16711935&(J=(J=16711935&H)+((Y<<16)+Y));D[U+W]=(4278255360&H)+J>>>0}}function it(m,_){_.jd=255&m,_.hd=m>>8&255,_.ud=m>>16&255}function Tt(m,_,R,D,U,W){var H;for(H=0;H<D;++H){var Y=_[R+H],J=Y>>>8,te=Y,fe=255&(fe=(fe=Y>>>16)+((m.jd<<24>>24)*(J<<24>>24)>>>5));te=255&(te=(te+=(m.hd<<24>>24)*(J<<24>>24)>>>5)+((m.ud<<24>>24)*(fe<<24>>24)>>>5)),U[W+H]=(4278255360&Y)+(fe<<16)+te}}function ut(m,_,R,D,U){C[_]=function(W,H,Y,J,te,fe,_e,ne,pe){for(J=_e;J<ne;++J)for(_e=0;_e<pe;++_e)te[fe++]=U(Y[D(W[H++])])},C[m]=function(W,H,Y,J,te,fe,_e){var ne=8>>W.b,pe=W.Ea,be=W.K[0],Ee=W.w;if(8>ne)for(W=(1<<W.b)-1,Ee=(1<<ne)-1;H<Y;++H){var we,ke=0;for(we=0;we<pe;++we)we&W||(ke=D(J[te++])),fe[_e++]=U(be[ke&Ee]),ke>>=ne}else C["VP8LMapColor"+R](J,te,be,Ee,fe,_e,H,Y,pe)}}function Tn(m,_,R,D,U){for(R=_+R;_<R;){var W=m[_++];D[U++]=W>>16&255,D[U++]=W>>8&255,D[U++]=255&W}}function Kt(m,_,R,D,U){for(R=_+R;_<R;){var W=m[_++];D[U++]=W>>16&255,D[U++]=W>>8&255,D[U++]=255&W,D[U++]=W>>24&255}}function Dt(m,_,R,D,U){for(R=_+R;_<R;){var W=(H=m[_++])>>16&240|H>>12&15,H=240&H|H>>28&15;D[U++]=W,D[U++]=H}}function Ot(m,_,R,D,U){for(R=_+R;_<R;){var W=(H=m[_++])>>16&248|H>>13&7,H=H>>5&224|H>>3&31;D[U++]=W,D[U++]=H}}function Ln(m,_,R,D,U){for(R=_+R;_<R;){var W=m[_++];D[U++]=255&W,D[U++]=W>>8&255,D[U++]=W>>16&255}}function pt(m,_,R,D,U,W){if(W==0)for(R=_+R;_<R;)Ne(D,((W=m[_++])[0]>>24|W[1]>>8&65280|W[2]<<8&16711680|W[3]<<24)>>>0),U+=32;else r(D,U,m,_,R)}function hn(m,_){C[_][0]=C[m+"0"],C[_][1]=C[m+"1"],C[_][2]=C[m+"2"],C[_][3]=C[m+"3"],C[_][4]=C[m+"4"],C[_][5]=C[m+"5"],C[_][6]=C[m+"6"],C[_][7]=C[m+"7"],C[_][8]=C[m+"8"],C[_][9]=C[m+"9"],C[_][10]=C[m+"10"],C[_][11]=C[m+"11"],C[_][12]=C[m+"12"],C[_][13]=C[m+"13"],C[_][14]=C[m+"0"],C[_][15]=C[m+"0"]}function vt(m){return m==Mw||m==Dw||m==Xv||m==Fw}function Et(){this.eb=[],this.size=this.A=this.fb=0}function pn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ft(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Et,this.f.kb=new pn,this.sd=null}function mt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function zt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function xo(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Sr(m,_){var R=m.T,D=_.ba.f.RGBA,U=D.eb,W=D.fb+m.ka*D.A,H=gs[_.ba.S],Y=m.y,J=m.O,te=m.f,fe=m.N,_e=m.ea,ne=m.W,pe=_.cc,be=_.dc,Ee=_.Mc,we=_.Nc,ke=m.ka,Ce=m.ka+m.T,Fe=m.U,Le=Fe+1>>1;for(ke==0?H(Y,J,null,null,te,fe,_e,ne,te,fe,_e,ne,U,W,null,null,Fe):(H(_.ec,_.fc,Y,J,pe,be,Ee,we,te,fe,_e,ne,U,W-D.A,U,W,Fe),++R);ke+2<Ce;ke+=2)pe=te,be=fe,Ee=_e,we=ne,fe+=m.Rc,ne+=m.Rc,W+=2*D.A,H(Y,(J+=2*m.fa)-m.fa,Y,J,pe,be,Ee,we,te,fe,_e,ne,U,W-D.A,U,W,Fe);return J+=m.fa,m.j+Ce<m.o?(r(_.ec,_.fc,Y,J,Fe),r(_.cc,_.dc,te,fe,Le),r(_.Mc,_.Nc,_e,ne,Le),R--):1&Ce||H(Y,J,null,null,te,fe,_e,ne,te,fe,_e,ne,U,W+D.A,null,null,Fe),R}function rs(m,_,R){var D=m.F,U=[m.J];if(D!=null){var W=m.U,H=_.ba.S,Y=H==Yv||H==Xv;_=_.ba.f.RGBA;var J=[0],te=m.ka;J[0]=m.T,m.Kb&&(te==0?--J[0]:(--te,U[0]-=m.width),m.j+m.ka+m.T==m.o&&(J[0]=m.o-m.j-te));var fe=_.eb;te=_.fb+te*_.A,m=Rk(D,U[0],m.width,W,J,fe,te+(Y?0:3),_.A),e(R==J),m&&vt(H)&&bm(fe,te,Y,W,J,_.A)}return 0}function Ci(m){var _=m.ma,R=_.ba.S,D=11>R,U=R==Gv||R==Kv||R==Yv||R==Lw||R==12||vt(R);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!fm(_.Oa,m,U?11:12))return 0;if(U&&vt(R)&&hs(),m.da)alert("todo:use_scaling");else{if(D){if(_.Ib=xo,m.Kb){if(R=m.U+1>>1,_.memory=a(m.U+2*R),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+m.U,_.Mc=_.cc,_.Nc=_.dc+R,_.Ib=Sr,hs()}}else alert("todo:EmitYUV");U&&(_.Jb=rs,D&&ma())}if(D&&!Xk){for(m=0;256>m;++m)gH[m]=89858*(m-128)+Jv>>Qv,bH[m]=-22014*(m-128)+Jv,vH[m]=-45773*(m-128),yH[m]=113618*(m-128)+Jv>>Qv;for(m=wm;m<Vw;++m)_=76283*(m-16)+Jv>>Qv,xH[m-wm]=ha(_,255),wH[m-wm]=ha(_+8>>4,15);Xk=1}return 1}function yt(m){var _=m.ma,R=m.U,D=m.T;return e(!(1&m.ka)),0>=R||0>=D?0:(R=_.Ib(m,_),_.Jb!=null&&_.Jb(m,_,R),_.Dc+=R,1)}function zn(m){m.ma.memory=null}function is(m,_,R,D){return de(m,8)!=47?0:(_[0]=de(m,14)+1,R[0]=de(m,14)+1,D[0]=de(m,1),de(m,3)!=0?0:!m.h)}function ii(m,_){if(4>m)return m+1;var R=m-2>>1;return(2+(1&m)<<R)+de(_,R)+1}function ai(m,_){return 120<_?_-120:1<=(R=((R=nH[_-1])>>4)*m+(8-(15&R)))?R:1;var R}function Qn(m,_,R){var D=re(R),U=m[_+=255&D].g-8;return 0<U&&(le(R,R.u+8),D=re(R),_+=m[_].value,_+=D&(1<<U)-1),le(R,R.u+m[_].g),m[_].value}function Dr(m,_,R){return R.g+=m.g,R.value+=m.value<<_>>>0,e(8>=R.g),m.g}function Jn(m,_,R){var D=m.xc;return e((_=D==0?0:m.vc[m.md*(R>>D)+(_>>D)])<m.Wb),m.Ya[_]}function ul(m,_,R,D){var U=m.ab,W=m.c*_,H=m.C;_=H+_;var Y=R,J=D;for(D=m.Ta,R=m.Ua;0<U--;){var te=m.gc[U],fe=H,_e=_,ne=Y,pe=J,be=(J=D,Y=R,te.Ea);switch(e(fe<_e),e(_e<=te.nc),te.hc){case 2:Nr(ne,pe,(_e-fe)*be,J,Y);break;case 0:var Ee=fe,we=_e,ke=J,Ce=Y,Fe=(ot=te).Ea;Ee==0&&(hm(ne,pe,null,null,1,ke,Ce),xt(ne,pe+1,0,0,Fe-1,ke,Ce+1),pe+=Fe,Ce+=Fe,++Ee);for(var Le=1<<ot.b,dt=Le-1,Je=je(Fe,ot.b),Bt=ot.K,ot=ot.w+(Ee>>ot.b)*Je;Ee<we;){var en=Bt,Gr=ot,Vt=1;for(Rd(ne,pe,ke,Ce-Fe,1,ke,Ce);Vt<Fe;){var lt=(Vt&~dt)+Le;lt>Fe&&(lt=Fe),(0,mm[en[Gr++]>>8&15])(ne,pe+ +Vt,ke,Ce+Vt-Fe,lt-Vt,ke,Ce+Vt),Vt=lt}pe+=Fe,Ce+=Fe,++Ee&dt||(ot+=Je)}_e!=te.nc&&r(J,Y-be,J,Y+(_e-fe-1)*be,be);break;case 1:for(be=ne,we=pe,Fe=(ne=te.Ea)-(Ce=ne&~(ke=(pe=1<<te.b)-1)),Ee=je(ne,te.b),Le=te.K,te=te.w+(fe>>te.b)*Ee;fe<_e;){for(dt=Le,Je=te,Bt=new nt,ot=we+Ce,en=we+ne;we<ot;)it(dt[Je++],Bt),gm(Bt,be,we,pe,J,Y),we+=pe,Y+=pe;we<en&&(it(dt[Je++],Bt),gm(Bt,be,we,Fe,J,Y),we+=Fe,Y+=Fe),++fe&ke||(te+=Ee)}break;case 3:if(ne==J&&pe==Y&&0<te.b){for(we=J,ne=be=Y+(_e-fe)*be-(Ce=(_e-fe)*je(te.Ea,te.b)),pe=J,ke=Y,Ee=[],Ce=(Fe=Ce)-1;0<=Ce;--Ce)Ee[Ce]=pe[ke+Ce];for(Ce=Fe-1;0<=Ce;--Ce)we[ne+Ce]=Ee[Ce];zv(te,fe,_e,J,be,J,Y)}else zv(te,fe,_e,ne,pe,J,Y)}Y=D,J=R}J!=R&&r(D,R,Y,J,W)}function wo(m,_){var R=m.V,D=m.Ba+m.c*m.C,U=_-m.C;if(e(_<=m.l.o),e(16>=U),0<U){var W=m.l,H=m.Ta,Y=m.Ua,J=W.width;if(ul(m,U,R,D),U=Y=[Y],e((R=m.C)<(D=_)),e(W.v<W.va),D>W.o&&(D=W.o),R<W.j){var te=W.j-R;R=W.j,U[0]+=te*J}if(R>=D?R=0:(U[0]+=4*W.v,W.ka=R-W.j,W.U=W.va-W.v,W.T=D-R,R=1),R){if(Y=Y[0],11>(R=m.ca).S){var fe=R.f.RGBA,_e=(D=R.S,U=W.U,W=W.T,te=fe.eb,fe.A),ne=W;for(fe=fe.fb+m.Ma*fe.A;0<ne--;){var pe=H,be=Y,Ee=U,we=te,ke=fe;switch(D){case Hv:ym(pe,be,Ee,we,ke);break;case Gv:Cc(pe,be,Ee,we,ke);break;case Mw:Cc(pe,be,Ee,we,ke),bm(we,ke,0,Ee,1,0);break;case Vk:cf(pe,be,Ee,we,ke);break;case Kv:pt(pe,be,Ee,we,ke,1);break;case Dw:pt(pe,be,Ee,we,ke,1),bm(we,ke,0,Ee,1,0);break;case Yv:pt(pe,be,Ee,we,ke,0);break;case Xv:pt(pe,be,Ee,we,ke,0),bm(we,ke,1,Ee,1,0);break;case Lw:Ic(pe,be,Ee,we,ke);break;case Fw:Ic(pe,be,Ee,we,ke),Ok(we,ke,Ee,1,0);break;case Uk:jc(pe,be,Ee,we,ke);break;default:e(0)}Y+=J,fe+=_e}m.Ma+=W}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=R.height)}}m.C=_,e(m.C<=m.i)}function Ii(m){var _;if(0<m.ua)return 0;for(_=0;_<m.Wb;++_){var R=m.Ya[_].G,D=m.Ya[_].H;if(0<R[1][D[1]+0].g||0<R[2][D[2]+0].g||0<R[3][D[3]+0].g)return 0}return 1}function Ta(m,_,R,D,U,W){if(m.Z!=0){var H=m.qd,Y=m.rd;for(e(Lc[m.Z]!=null);_<R;++_)Lc[m.Z](H,Y,D,U,D,U,W),H=D,Y=U,U+=W;m.qd=H,m.rd=Y}}function ta(m,_){var R=m.l.ma,D=R.Z==0||R.Z==1?m.l.j:m.C;if(D=m.C<D?D:m.C,e(_<=m.l.o),_>D){var U=m.l.width,W=R.ca,H=R.tb+U*D,Y=m.V,J=m.Ba+m.c*D,te=m.gc;e(m.ab==1),e(te[0].hc==3),Io(te[0],D,_,Y,J,W,H),Ta(R,D,_,W,H,U)}m.C=m.Ma=_}function ji(m,_,R,D,U,W,H){var Y=m.$/D,J=m.$%D,te=m.m,fe=m.s,_e=R+m.$,ne=_e;U=R+D*U;var pe=R+D*W,be=280+fe.ua,Ee=m.Pb?Y:16777216,we=0<fe.ua?fe.Wa:null,ke=fe.wc,Ce=_e<pe?Jn(fe,J,Y):null;e(m.C<W),e(pe<=U);var Fe=!1;e:for(;;){for(;Fe||_e<pe;){var Le=0;if(Y>=Ee){var dt=_e-R;e((Ee=m).Pb),Ee.wd=Ee.m,Ee.xd=dt,0<Ee.s.ua&&Ie(Ee.s.Wa,Ee.s.vb),Ee=Y+iH}if(J&ke||(Ce=Jn(fe,J,Y)),e(Ce!=null),Ce.Qb&&(_[_e]=Ce.qb,Fe=!0),!Fe)if(me(te),Ce.jc){Le=te,dt=_;var Je=_e,Bt=Ce.pd[re(Le)&lf-1];e(Ce.jc),256>Bt.g?(le(Le,Le.u+Bt.g),dt[Je]=Bt.value,Le=0):(le(Le,Le.u+Bt.g-256),e(256<=Bt.value),Le=Bt.value),Le==0&&(Fe=!0)}else Le=Qn(Ce.G[0],Ce.H[0],te);if(te.h)break;if(Fe||256>Le){if(!Fe)if(Ce.nd)_[_e]=(Ce.qb|Le<<8)>>>0;else{if(me(te),Fe=Qn(Ce.G[1],Ce.H[1],te),me(te),dt=Qn(Ce.G[2],Ce.H[2],te),Je=Qn(Ce.G[3],Ce.H[3],te),te.h)break;_[_e]=(Je<<24|Fe<<16|Le<<8|dt)>>>0}if(Fe=!1,++_e,++J>=D&&(J=0,++Y,H!=null&&Y<=W&&!(Y%16)&&H(m,Y),we!=null))for(;ne<_e;)Le=_[ne++],we.X[(506832829*Le&4294967295)>>>we.Mb]=Le}else if(280>Le){if(Le=ii(Le-256,te),dt=Qn(Ce.G[4],Ce.H[4],te),me(te),dt=ai(D,dt=ii(dt,te)),te.h)break;if(_e-R<dt||U-_e<Le)break e;for(Je=0;Je<Le;++Je)_[_e+Je]=_[_e+Je-dt];for(_e+=Le,J+=Le;J>=D;)J-=D,++Y,H!=null&&Y<=W&&!(Y%16)&&H(m,Y);if(e(_e<=U),J&ke&&(Ce=Jn(fe,J,Y)),we!=null)for(;ne<_e;)Le=_[ne++],we.X[(506832829*Le&4294967295)>>>we.Mb]=Le}else{if(!(Le<be))break e;for(Fe=Le-280,e(we!=null);ne<_e;)Le=_[ne++],we.X[(506832829*Le&4294967295)>>>we.Mb]=Le;Le=_e,e(!(Fe>>>(dt=we).Xa)),_[Le]=dt.X[Fe],Fe=!0}Fe||e(te.h==se(te))}if(m.Pb&&te.h&&_e<U)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Ie(m.s.vb,m.s.Wa);else{if(te.h)break e;H!=null&&H(m,Y>W?W:Y),m.a=0,m.$=_e-R}return 1}return m.a=3,0}function Ar(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var _=m.Wa;_!=null&&(_.X=null),m.vb=null,e(m!=null)}function _o(){var m=new wt;return m==null?null:(m.a=0,m.xb=Wk,hn("Predictor","VP8LPredictors"),hn("Predictor","VP8LPredictors_C"),hn("PredictorAdd","VP8LPredictorsAdd"),hn("PredictorAdd","VP8LPredictorsAdd_C"),Nr=$t,gm=Tt,ym=Tn,Cc=Kt,Ic=Dt,jc=Ot,cf=Ln,C.VP8LMapColor32b=Co,C.VP8LMapColor8b=pm,m)}function ka(m,_,R,D,U){var W=1,H=[m],Y=[_],J=D.m,te=D.s,fe=null,_e=0;e:for(;;){if(R)for(;W&&de(J,1);){var ne=H,pe=Y,be=D,Ee=1,we=be.m,ke=be.gc[be.ab],Ce=de(we,2);if(be.Oc&1<<Ce)W=0;else{switch(be.Oc|=1<<Ce,ke.hc=Ce,ke.Ea=ne[0],ke.nc=pe[0],ke.K=[null],++be.ab,e(4>=be.ab),Ce){case 0:case 1:ke.b=de(we,3)+2,Ee=ka(je(ke.Ea,ke.b),je(ke.nc,ke.b),0,be,ke.K),ke.K=ke.K[0];break;case 3:var Fe,Le=de(we,8)+1,dt=16<Le?0:4<Le?1:2<Le?2:3;if(ne[0]=je(ke.Ea,dt),ke.b=dt,Fe=Ee=ka(Le,1,0,be,ke.K)){var Je,Bt=Le,ot=ke,en=1<<(8>>ot.b),Gr=a(en);if(Gr==null)Fe=0;else{var Vt=ot.K[0],lt=ot.w;for(Gr[0]=ot.K[0][0],Je=1;Je<1*Bt;++Je)Gr[Je]=tt(Vt[lt+Je],Gr[Je-1]);for(;Je<4*en;++Je)Gr[Je]=0;ot.K[0]=null,ot.K[0]=Gr,Fe=1}}Ee=Fe;break;case 2:break;default:e(0)}W=Ee}}if(H=H[0],Y=Y[0],W&&de(J,1)&&!(W=1<=(_e=de(J,4))&&11>=_e)){D.a=3;break e}var ze;if(ze=W)t:{var Pr,Rt,nn,qn=D,yi=H,ia=Y,yr=_e,Ri=R,aa=qn.m,Kr=qn.s,an=[null],vn=1,vr=0,bn=rH[yr];n:for(;;){if(Ri&&de(aa,1)){var vi=de(aa,3)+2,Ys=je(yi,vi),Tr=je(ia,vi),ga=Ys*Tr;if(!ka(Ys,Tr,0,qn,an))break n;for(an=an[0],Kr.xc=vi,Pr=0;Pr<ga;++Pr){var In=an[Pr]>>8&65535;an[Pr]=In,In>=vn&&(vn=In+1)}}if(aa.h)break n;for(Rt=0;5>Rt;++Rt){var Yr=zk[Rt];!Rt&&0<yr&&(Yr+=1<<yr),vr<Yr&&(vr=Yr)}var Ma=s(vn*bn,j),sa=vn,Da=s(sa,G);if(Da==null)var Fa=null;else e(65536>=sa),Fa=Da;var ya=a(vr);if(Fa==null||ya==null||Ma==null){qn.a=1;break n}var $a=Ma;for(Pr=nn=0;Pr<vn;++Pr){var Dn=Fa[Pr],Ba=Dn.G,Xs=Dn.H,ff=0,_l=1,bi=0;for(Rt=0;5>Rt;++Rt){Yr=zk[Rt],Ba[Rt]=$a,Xs[Rt]=nn,!Rt&&0<yr&&(Yr+=1<<yr);i:{var e0,Uw=Yr,t0=qn,_m=ya,AH=$a,NH=nn,zw=0,Mc=t0.m,EH=de(Mc,1);if(i(_m,0,0,Uw),EH){var PH=de(Mc,1)+1,TH=de(Mc,1),Zk=de(Mc,TH==0?1:8);_m[Zk]=1,PH==2&&(_m[Zk=de(Mc,8)]=1);var n0=1}else{var e3=a(19),t3=de(Mc,4)+4;if(19<t3){t0.a=3;var r0=0;break i}for(e0=0;e0<t3;++e0)e3[tH[e0]]=de(Mc,3);var qw=void 0,Sm=void 0,n3=t0,kH=e3,i0=Uw,r3=_m,Ww=0,Dc=n3.m,i3=8,a3=s(128,j);r:for(;k(a3,0,7,kH,19);){if(de(Dc,1)){var CH=2+2*de(Dc,3);if((qw=2+de(Dc,CH))>i0)break r}else qw=i0;for(Sm=0;Sm<i0&&qw--;){me(Dc);var s3=a3[0+(127&re(Dc))];le(Dc,Dc.u+s3.g);var Md=s3.value;if(16>Md)r3[Sm++]=Md,Md!=0&&(i3=Md);else{var IH=Md==16,o3=Md-16,jH=ZW[o3],l3=de(Dc,JW[o3])+jH;if(Sm+l3>i0)break r;for(var OH=IH?i3:0;0<l3--;)r3[Sm++]=OH}}Ww=1;break r}Ww||(n3.a=3),n0=Ww}(n0=n0&&!Mc.h)&&(zw=k(AH,NH,8,_m,Uw)),n0&&zw!=0?r0=zw:(t0.a=3,r0=0)}if(r0==0)break n;if(_l&&eH[Rt]==1&&(_l=$a[nn].g==0),ff+=$a[nn].g,nn+=r0,3>=Rt){var Am,Hw=ya[0];for(Am=1;Am<Yr;++Am)ya[Am]>Hw&&(Hw=ya[Am]);bi+=Hw}}if(Dn.nd=_l,Dn.Qb=0,_l&&(Dn.qb=(Ba[3][Xs[3]+0].value<<24|Ba[1][Xs[1]+0].value<<16|Ba[2][Xs[2]+0].value)>>>0,ff==0&&256>Ba[0][Xs[0]+0].value&&(Dn.Qb=1,Dn.qb+=Ba[0][Xs[0]+0].value<<8)),Dn.jc=!Dn.Qb&&6>bi,Dn.jc){var a0,Sl=Dn;for(a0=0;a0<lf;++a0){var Fc=a0,$c=Sl.pd[Fc],s0=Sl.G[0][Sl.H[0]+Fc];256<=s0.value?($c.g=s0.g+256,$c.value=s0.value):($c.g=0,$c.value=0,Fc>>=Dr(s0,8,$c),Fc>>=Dr(Sl.G[1][Sl.H[1]+Fc],16,$c),Fc>>=Dr(Sl.G[2][Sl.H[2]+Fc],0,$c),Dr(Sl.G[3][Sl.H[3]+Fc],24,$c))}}}Kr.vc=an,Kr.Wb=vn,Kr.Ya=Fa,Kr.yc=Ma,ze=1;break t}ze=0}if(!(W=ze)){D.a=3;break e}if(0<_e){if(te.ua=1<<_e,!q(te.Wa,_e)){D.a=1,W=0;break e}}else te.ua=0;var Gw=D,c3=H,RH=Y,Kw=Gw.s,Yw=Kw.xc;if(Gw.c=c3,Gw.i=RH,Kw.md=je(c3,Yw),Kw.wc=Yw==0?-1:(1<<Yw)-1,R){D.xb=fH;break e}if((fe=a(H*Y))==null){D.a=1,W=0;break e}W=(W=ji(D,fe,0,H,Y,Y,null))&&!J.h;break e}return W?(U!=null?U[0]=fe:(e(fe==null),e(R)),D.$=0,R||Ar(te)):Ar(te),W}function qs(m,_){var R=m.c*m.i,D=R+_+16*_;return e(m.c<=_),m.V=a(D),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+R+_,1)}function So(m,_){var R=m.C,D=_-R,U=m.V,W=m.Ba+m.c*R;for(e(_<=m.l.o);0<D;){var H=16<D?16:D,Y=m.l.ma,J=m.l.width,te=J*H,fe=Y.ca,_e=Y.tb+J*R,ne=m.Ta,pe=m.Ua;ul(m,H,U,W),Lk(ne,pe,fe,_e,te),Ta(Y,R,R+H,fe,_e,J),D-=H,U+=H*m.c,R+=H}e(R==_),m.C=m.Ma=_}function fl(){this.ub=this.yd=this.td=this.Rb=0}function dl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function im(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Ao(){this.Yb=function(){var m=[];return function _(R,D,U){for(var W=U[D],H=0;H<W&&(R.push(U.length>D+1?[]:0),!(U.length<D+1));H++)_(R[H],D+1,U)}(m,0,[3,11]),m}()}function Xu(){this.jb=a(3),this.Wc=o([4,8],Ao),this.Xc=o([4,17],Ao)}function bc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function si(){this.ld=this.La=this.dd=this.tc=0}function Ca(){this.Na=this.la=0}function xc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Qu(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ju(){this.uc=this.M=this.Nb=0,this.wa=Array(new si),this.Y=0,this.ya=Array(new Qu),this.aa=0,this.l=new No}function Zu(){this.y=a(16),this.f=a(8),this.ea=a(8)}function ef(){this.cb=this.a=0,this.sc="",this.m=new $,this.Od=new fl,this.Kc=new dl,this.ed=new bc,this.Qa=new im,this.Ic=this.$c=this.Aa=0,this.D=new Ju,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,$),this.ia=0,this.pb=s(4,xc),this.Pa=new Xu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Zu),this.Hd=0,this.rb=Array(new Ca),this.sb=0,this.wa=Array(new si),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Qu),this.L=this.aa=0,this.gd=o([4,2],si),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ha(m,_){return 0>m?0:m>_?_:m}function No(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ed(){var m=new ef;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,xm||(xm=hl)),m}function nr(m,_,R){return m.a==0&&(m.a=_,m.sc=R,m.cb=0),0}function Pd(m,_,R){return 3<=R&&m[_+0]==157&&m[_+1]==1&&m[_+2]==42}function as(m,_){if(m==null)return 0;if(m.a=0,m.sc="OK",_==null)return nr(m,2,"null VP8Io passed to VP8GetHeaders()");var R=_.data,D=_.w,U=_.ha;if(4>U)return nr(m,7,"Truncated header.");var W=R[D+0]|R[D+1]<<8|R[D+2]<<16,H=m.Od;if(H.Rb=!(1&W),H.td=W>>1&7,H.yd=W>>4&1,H.ub=W>>5,3<H.td)return nr(m,3,"Incorrect keyframe parameters.");if(!H.yd)return nr(m,4,"Frame not displayable.");D+=3,U-=3;var Y=m.Kc;if(H.Rb){if(7>U)return nr(m,7,"cannot parse picture header");if(!Pd(R,D,U))return nr(m,3,"Bad code word");Y.c=16383&(R[D+4]<<8|R[D+3]),Y.Td=R[D+4]>>6,Y.i=16383&(R[D+6]<<8|R[D+5]),Y.Ud=R[D+6]>>6,D+=7,U-=7,m.za=Y.c+15>>4,m.Ub=Y.i+15>>4,_.width=Y.c,_.height=Y.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((W=m.Pa).jb,0,255,W.jb.length),e((W=m.Qa)!=null),W.Cb=0,W.Bb=0,W.Fb=1,i(W.Zb,0,0,W.Zb.length),i(W.Lb,0,0,W.Lb)}if(H.ub>U)return nr(m,7,"bad partition length");Z(W=m.m,R,D,H.ub),D+=H.ub,U-=H.ub,H.Rb&&(Y.Ld=ce(W),Y.Kd=ce(W)),Y=m.Qa;var J,te=m.Pa;if(e(W!=null),e(Y!=null),Y.Cb=ce(W),Y.Cb){if(Y.Bb=ce(W),ce(W)){for(Y.Fb=ce(W),J=0;4>J;++J)Y.Zb[J]=ce(W)?X(W,7):0;for(J=0;4>J;++J)Y.Lb[J]=ce(W)?X(W,6):0}if(Y.Bb)for(J=0;3>J;++J)te.jb[J]=ce(W)?ie(W,8):255}else Y.Bb=0;if(W.Ka)return nr(m,3,"cannot parse segment header");if((Y=m.ed).zd=ce(W),Y.Tb=ie(W,6),Y.wb=ie(W,3),Y.Pc=ce(W),Y.Pc&&ce(W)){for(te=0;4>te;++te)ce(W)&&(Y.vd[te]=X(W,6));for(te=0;4>te;++te)ce(W)&&(Y.od[te]=X(W,6))}if(m.L=Y.Tb==0?0:Y.zd?1:2,W.Ka)return nr(m,3,"cannot parse filter header");var fe=U;if(U=J=D,D=J+fe,Y=fe,m.Xb=(1<<ie(m.m,2))-1,fe<3*(te=m.Xb))R=7;else{for(J+=3*te,Y-=3*te,fe=0;fe<te;++fe){var _e=R[U+0]|R[U+1]<<8|R[U+2]<<16;_e>Y&&(_e=Y),Z(m.Jc[+fe],R,J,_e),J+=_e,Y-=_e,U+=3}Z(m.Jc[+te],R,J,Y),R=J<D?0:5}if(R!=0)return nr(m,R,"cannot parse partitions");for(R=ie(J=m.m,7),U=ce(J)?X(J,4):0,D=ce(J)?X(J,4):0,Y=ce(J)?X(J,4):0,te=ce(J)?X(J,4):0,J=ce(J)?X(J,4):0,fe=m.Qa,_e=0;4>_e;++_e){if(fe.Cb){var ne=fe.Zb[_e];fe.Fb||(ne+=R)}else{if(0<_e){m.pb[_e]=m.pb[0];continue}ne=R}var pe=m.pb[_e];pe.Sc[0]=$w[ha(ne+U,127)],pe.Sc[1]=Bw[ha(ne+0,127)],pe.Eb[0]=2*$w[ha(ne+D,127)],pe.Eb[1]=101581*Bw[ha(ne+Y,127)]>>16,8>pe.Eb[1]&&(pe.Eb[1]=8),pe.Qc[0]=$w[ha(ne+te,117)],pe.Qc[1]=Bw[ha(ne+J,127)],pe.lc=ne+J}if(!H.Rb)return nr(m,4,"Not a key frame.");for(ce(W),H=m.Pa,R=0;4>R;++R){for(U=0;8>U;++U)for(D=0;3>D;++D)for(Y=0;11>Y;++Y)te=xe(W,cH[R][U][D][Y])?ie(W,8):oH[R][U][D][Y],H.Wc[R][U].Yb[D][Y]=te;for(U=0;17>U;++U)H.Xc[R][U]=H.Wc[R][uH[U]]}return m.kc=ce(W),m.kc&&(m.Bd=ie(W,8)),m.cb=1}function hl(m,_,R,D,U,W,H){var Y=_[U].Yb[R];for(R=0;16>U;++U){if(!xe(m,Y[R+0]))return U;for(;!xe(m,Y[R+1]);)if(Y=_[++U].Yb[0],R=0,U==16)return 16;var J=_[U+1].Yb;if(xe(m,Y[R+2])){var te=m,fe=0;if(xe(te,(ne=Y)[(_e=R)+3]))if(xe(te,ne[_e+6])){for(Y=0,_e=2*(fe=xe(te,ne[_e+8]))+(ne=xe(te,ne[_e+9+fe])),fe=0,ne=aH[_e];ne[Y];++Y)fe+=fe+xe(te,ne[Y]);fe+=3+(8<<_e)}else xe(te,ne[_e+7])?(fe=7+2*xe(te,165),fe+=xe(te,145)):fe=5+xe(te,159);else fe=xe(te,ne[_e+4])?3+xe(te,ne[_e+5]):2;Y=J[2]}else fe=1,Y=J[1];J=H+sH[U],0>(te=m).b&&Se(te);var _e,ne=te.b,pe=(_e=te.Ca>>1)-(te.I>>ne)>>31;--te.b,te.Ca+=pe,te.Ca|=1,te.I-=(_e+1&pe)<<ne,W[J]=((fe^pe)-pe)*D[(0<U)+0]}return 16}function tf(m){var _=m.rb[m.sb-1];_.la=0,_.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function pa(m,_,R,D,U){U=m[_+R+32*D]+(U>>3),m[_+R+32*D]=-256&U?0>U?0:255:U}function kn(m,_,R,D,U,W){pa(m,_,0,R,D+U),pa(m,_,1,R,D+W),pa(m,_,2,R,D-W),pa(m,_,3,R,D-U)}function Wr(m){return(20091*m>>16)+m}function pl(m,_,R,D){var U,W=0,H=a(16);for(U=0;4>U;++U){var Y=m[_+0]+m[_+8],J=m[_+0]-m[_+8],te=(35468*m[_+4]>>16)-Wr(m[_+12]),fe=Wr(m[_+4])+(35468*m[_+12]>>16);H[W+0]=Y+fe,H[W+1]=J+te,H[W+2]=J-te,H[W+3]=Y-fe,W+=4,_++}for(U=W=0;4>U;++U)Y=(m=H[W+0]+4)+H[W+8],J=m-H[W+8],te=(35468*H[W+4]>>16)-Wr(H[W+12]),pa(R,D,0,0,Y+(fe=Wr(H[W+4])+(35468*H[W+12]>>16))),pa(R,D,1,0,J+te),pa(R,D,2,0,J-te),pa(R,D,3,0,Y-fe),W++,D+=32}function wc(m,_,R,D){var U=m[_+0]+4,W=35468*m[_+4]>>16,H=Wr(m[_+4]),Y=35468*m[_+1]>>16;kn(R,D,0,U+H,m=Wr(m[_+1]),Y),kn(R,D,1,U+W,m,Y),kn(R,D,2,U-W,m,Y),kn(R,D,3,U-H,m,Y)}function Td(m,_,R,D,U){pl(m,_,R,D),U&&pl(m,_+16,R,D+4)}function Yt(m,_,R,D){uf(m,_+0,R,D,1),uf(m,_+32,R,D+128,1)}function ml(m,_,R,D){var U;for(m=m[_+0]+4,U=0;4>U;++U)for(_=0;4>_;++_)pa(R,D,_,U,m)}function Eo(m,_,R,D){m[_+0]&&mn(m,_+0,R,D),m[_+16]&&mn(m,_+16,R,D+4),m[_+32]&&mn(m,_+32,R,D+128),m[_+48]&&mn(m,_+48,R,D+128+4)}function ss(m,_,R,D){var U,W=a(16);for(U=0;4>U;++U){var H=m[_+0+U]+m[_+12+U],Y=m[_+4+U]+m[_+8+U],J=m[_+4+U]-m[_+8+U],te=m[_+0+U]-m[_+12+U];W[0+U]=H+Y,W[8+U]=H-Y,W[4+U]=te+J,W[12+U]=te-J}for(U=0;4>U;++U)H=(m=W[0+4*U]+3)+W[3+4*U],Y=W[1+4*U]+W[2+4*U],J=W[1+4*U]-W[2+4*U],te=m-W[3+4*U],R[D+0]=H+Y>>3,R[D+16]=te+J>>3,R[D+32]=H-Y>>3,R[D+48]=te-J>>3,D+=64}function gl(m,_,R){var D,U=_-32,W=La,H=255-m[U-1];for(D=0;D<R;++D){var Y,J=W,te=H+m[_-1];for(Y=0;Y<R;++Y)m[_+Y]=J[te+m[U+Y]];_+=32}}function kd(m,_){gl(m,_,4)}function am(m,_){gl(m,_,8)}function sm(m,_){gl(m,_,16)}function nf(m,_){var R;for(R=0;16>R;++R)r(m,_+32*R,m,_-32,16)}function Cd(m,_){var R;for(R=16;0<R;--R)i(m,_,m[_-1],16),_+=32}function mi(m,_,R){var D;for(D=0;16>D;++D)i(_,R+32*D,m,16)}function os(m,_){var R,D=16;for(R=0;16>R;++R)D+=m[_-1+32*R]+m[_+R-32];mi(D>>5,m,_)}function Po(m,_){var R,D=8;for(R=0;16>R;++R)D+=m[_-1+32*R];mi(D>>4,m,_)}function _c(m,_){var R,D=8;for(R=0;16>R;++R)D+=m[_+R-32];mi(D>>4,m,_)}function Id(m,_){mi(128,m,_)}function bt(m,_,R){return m+2*_+R+2>>2}function om(m,_){var R,D=_-32;for(D=new Uint8Array([bt(m[D-1],m[D+0],m[D+1]),bt(m[D+0],m[D+1],m[D+2]),bt(m[D+1],m[D+2],m[D+3]),bt(m[D+2],m[D+3],m[D+4])]),R=0;4>R;++R)r(m,_+32*R,D,0,D.length)}function lm(m,_){var R=m[_-1],D=m[_-1+32],U=m[_-1+64],W=m[_-1+96];Ne(m,_+0,16843009*bt(m[_-1-32],R,D)),Ne(m,_+32,16843009*bt(R,D,U)),Ne(m,_+64,16843009*bt(D,U,W)),Ne(m,_+96,16843009*bt(U,W,W))}function cm(m,_){var R,D=4;for(R=0;4>R;++R)D+=m[_+R-32]+m[_-1+32*R];for(D>>=3,R=0;4>R;++R)i(m,_+32*R,D,4)}function oi(m,_){var R=m[_-1+0],D=m[_-1+32],U=m[_-1+64],W=m[_-1-32],H=m[_+0-32],Y=m[_+1-32],J=m[_+2-32],te=m[_+3-32];m[_+0+96]=bt(D,U,m[_-1+96]),m[_+1+96]=m[_+0+64]=bt(R,D,U),m[_+2+96]=m[_+1+64]=m[_+0+32]=bt(W,R,D),m[_+3+96]=m[_+2+64]=m[_+1+32]=m[_+0+0]=bt(H,W,R),m[_+3+64]=m[_+2+32]=m[_+1+0]=bt(Y,H,W),m[_+3+32]=m[_+2+0]=bt(J,Y,H),m[_+3+0]=bt(te,J,Y)}function Ws(m,_){var R=m[_+1-32],D=m[_+2-32],U=m[_+3-32],W=m[_+4-32],H=m[_+5-32],Y=m[_+6-32],J=m[_+7-32];m[_+0+0]=bt(m[_+0-32],R,D),m[_+1+0]=m[_+0+32]=bt(R,D,U),m[_+2+0]=m[_+1+32]=m[_+0+64]=bt(D,U,W),m[_+3+0]=m[_+2+32]=m[_+1+64]=m[_+0+96]=bt(U,W,H),m[_+3+32]=m[_+2+64]=m[_+1+96]=bt(W,H,Y),m[_+3+64]=m[_+2+96]=bt(H,Y,J),m[_+3+96]=bt(Y,J,J)}function um(m,_){var R=m[_-1+0],D=m[_-1+32],U=m[_-1+64],W=m[_-1-32],H=m[_+0-32],Y=m[_+1-32],J=m[_+2-32],te=m[_+3-32];m[_+0+0]=m[_+1+64]=W+H+1>>1,m[_+1+0]=m[_+2+64]=H+Y+1>>1,m[_+2+0]=m[_+3+64]=Y+J+1>>1,m[_+3+0]=J+te+1>>1,m[_+0+96]=bt(U,D,R),m[_+0+64]=bt(D,R,W),m[_+0+32]=m[_+1+96]=bt(R,W,H),m[_+1+32]=m[_+2+96]=bt(W,H,Y),m[_+2+32]=m[_+3+96]=bt(H,Y,J),m[_+3+32]=bt(Y,J,te)}function Sc(m,_){var R=m[_+0-32],D=m[_+1-32],U=m[_+2-32],W=m[_+3-32],H=m[_+4-32],Y=m[_+5-32],J=m[_+6-32],te=m[_+7-32];m[_+0+0]=R+D+1>>1,m[_+1+0]=m[_+0+64]=D+U+1>>1,m[_+2+0]=m[_+1+64]=U+W+1>>1,m[_+3+0]=m[_+2+64]=W+H+1>>1,m[_+0+32]=bt(R,D,U),m[_+1+32]=m[_+0+96]=bt(D,U,W),m[_+2+32]=m[_+1+96]=bt(U,W,H),m[_+3+32]=m[_+2+96]=bt(W,H,Y),m[_+3+64]=bt(H,Y,J),m[_+3+96]=bt(Y,J,te)}function Hs(m,_){var R=m[_-1+0],D=m[_-1+32],U=m[_-1+64],W=m[_-1+96];m[_+0+0]=R+D+1>>1,m[_+2+0]=m[_+0+32]=D+U+1>>1,m[_+2+32]=m[_+0+64]=U+W+1>>1,m[_+1+0]=bt(R,D,U),m[_+3+0]=m[_+1+32]=bt(D,U,W),m[_+3+32]=m[_+1+64]=bt(U,W,W),m[_+3+64]=m[_+2+64]=m[_+0+96]=m[_+1+96]=m[_+2+96]=m[_+3+96]=W}function Ac(m,_){var R=m[_-1+0],D=m[_-1+32],U=m[_-1+64],W=m[_-1+96],H=m[_-1-32],Y=m[_+0-32],J=m[_+1-32],te=m[_+2-32];m[_+0+0]=m[_+2+32]=R+H+1>>1,m[_+0+32]=m[_+2+64]=D+R+1>>1,m[_+0+64]=m[_+2+96]=U+D+1>>1,m[_+0+96]=W+U+1>>1,m[_+3+0]=bt(Y,J,te),m[_+2+0]=bt(H,Y,J),m[_+1+0]=m[_+3+32]=bt(R,H,Y),m[_+1+32]=m[_+3+64]=bt(D,R,H),m[_+1+64]=m[_+3+96]=bt(U,D,R),m[_+1+96]=bt(W,U,D)}function Ia(m,_){var R;for(R=0;8>R;++R)r(m,_+32*R,m,_-32,8)}function yl(m,_){var R;for(R=0;8>R;++R)i(m,_,m[_-1],8),_+=32}function ls(m,_,R){var D;for(D=0;8>D;++D)i(_,R+32*D,m,8)}function rf(m,_){var R,D=8;for(R=0;8>R;++R)D+=m[_+R-32]+m[_-1+32*R];ls(D>>4,m,_)}function En(m,_){var R,D=4;for(R=0;8>R;++R)D+=m[_+R-32];ls(D>>3,m,_)}function af(m,_){var R,D=4;for(R=0;8>R;++R)D+=m[_-1+32*R];ls(D>>3,m,_)}function jd(m,_){ls(128,m,_)}function cs(m,_,R){var D=m[_-R],U=m[_+0],W=3*(U-D)+Rw[1020+m[_-2*R]-m[_+R]],H=Wv[112+(W+4>>3)];m[_-R]=La[255+D+Wv[112+(W+3>>3)]],m[_+0]=La[255+U-H]}function Nc(m,_,R,D){var U=m[_+0],W=m[_+R];return ms[255+m[_-2*R]-m[_-R]]>D||ms[255+W-U]>D}function vl(m,_,R,D){return 4*ms[255+m[_-R]-m[_+0]]+ms[255+m[_-2*R]-m[_+R]]<=D}function To(m,_,R,D,U){var W=m[_-3*R],H=m[_-2*R],Y=m[_-R],J=m[_+0],te=m[_+R],fe=m[_+2*R],_e=m[_+3*R];return 4*ms[255+Y-J]+ms[255+H-te]>D?0:ms[255+m[_-4*R]-W]<=U&&ms[255+W-H]<=U&&ms[255+H-Y]<=U&&ms[255+_e-fe]<=U&&ms[255+fe-te]<=U&&ms[255+te-J]<=U}function ko(m,_,R,D){var U=2*D+1;for(D=0;16>D;++D)vl(m,_+D,R,U)&&cs(m,_+D,R)}function na(m,_,R,D){var U=2*D+1;for(D=0;16>D;++D)vl(m,_+D*R,1,U)&&cs(m,_+D*R,1)}function sf(m,_,R,D){var U;for(U=3;0<U;--U)ko(m,_+=4*R,R,D)}function Od(m,_,R,D){var U;for(U=3;0<U;--U)na(m,_+=4,R,D)}function ra(m,_,R,D,U,W,H,Y){for(W=2*W+1;0<U--;){if(To(m,_,R,W,H))if(Nc(m,_,R,Y))cs(m,_,R);else{var J=m,te=_,fe=R,_e=J[te-2*fe],ne=J[te-fe],pe=J[te+0],be=J[te+fe],Ee=J[te+2*fe],we=27*(Ce=Rw[1020+3*(pe-ne)+Rw[1020+_e-be]])+63>>7,ke=18*Ce+63>>7,Ce=9*Ce+63>>7;J[te-3*fe]=La[255+J[te-3*fe]+Ce],J[te-2*fe]=La[255+_e+ke],J[te-fe]=La[255+ne+we],J[te+0]=La[255+pe-we],J[te+fe]=La[255+be-ke],J[te+2*fe]=La[255+Ee-Ce]}_+=D}}function us(m,_,R,D,U,W,H,Y){for(W=2*W+1;0<U--;){if(To(m,_,R,W,H))if(Nc(m,_,R,Y))cs(m,_,R);else{var J=m,te=_,fe=R,_e=J[te-fe],ne=J[te+0],pe=J[te+fe],be=Wv[112+(4+(Ee=3*(ne-_e))>>3)],Ee=Wv[112+(Ee+3>>3)],we=be+1>>1;J[te-2*fe]=La[255+J[te-2*fe]+we],J[te-fe]=La[255+_e+Ee],J[te+0]=La[255+ne-be],J[te+fe]=La[255+pe-we]}_+=D}}function Ec(m,_,R,D,U,W){ra(m,_,R,1,16,D,U,W)}function fs(m,_,R,D,U,W){ra(m,_,1,R,16,D,U,W)}function of(m,_,R,D,U,W){var H;for(H=3;0<H;--H)us(m,_+=4*R,R,1,16,D,U,W)}function T(m,_,R,D,U,W){var H;for(H=3;0<H;--H)us(m,_+=4,1,R,16,D,U,W)}function V(m,_,R,D,U,W,H,Y){ra(m,_,U,1,8,W,H,Y),ra(R,D,U,1,8,W,H,Y)}function ee(m,_,R,D,U,W,H,Y){ra(m,_,1,U,8,W,H,Y),ra(R,D,1,U,8,W,H,Y)}function oe(m,_,R,D,U,W,H,Y){us(m,_+4*U,U,1,8,W,H,Y),us(R,D+4*U,U,1,8,W,H,Y)}function ge(m,_,R,D,U,W,H,Y){us(m,_+4,1,U,8,W,H,Y),us(R,D+4,1,U,8,W,H,Y)}function Te(){this.ba=new Ft,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new zt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Re(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ge(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function at(){this.ua=0,this.Wa=new Ye,this.vb=new Ye,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new j}function wt(){this.xb=this.a=0,this.l=new No,this.ca=new Ft,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new at,this.ab=0,this.gc=s(4,Ge),this.Oc=0}function kt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new No,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Xt(m,_,R,D,U,W,H){for(m=m==null?0:m[_+0],_=0;_<H;++_)U[W+_]=m+R[D+_]&255,m=U[W+_]}function dn(m,_,R,D,U,W,H){var Y;if(m==null)Xt(null,null,R,D,U,W,H);else for(Y=0;Y<H;++Y)U[W+Y]=m[_+Y]+R[D+Y]&255}function rr(m,_,R,D,U,W,H){if(m==null)Xt(null,null,R,D,U,W,H);else{var Y,J=m[_+0],te=J,fe=J;for(Y=0;Y<H;++Y)te=fe+(J=m[_+Y])-te,fe=R[D+Y]+(-256&te?0>te?0:255:te)&255,te=J,U[W+Y]=fe}}function yn(m,_,R,D){var U=_.width,W=_.o;if(e(m!=null&&_!=null),0>R||0>=D||R+D>W)return null;if(!m.Cc){if(m.ga==null){var H;if(m.ga=new kt,(H=m.ga==null)||(H=_.width*_.o,e(m.Gb.length==0),m.Gb=a(H),m.Uc=0,m.Gb==null?H=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,H=1),H=!H),!H){H=m.ga;var Y=m.Fa,J=m.P,te=m.qc,fe=m.mb,_e=m.nb,ne=J+1,pe=te-1,be=H.l;if(e(Y!=null&&fe!=null&&_!=null),Lc[0]=null,Lc[1]=Xt,Lc[2]=dn,Lc[3]=rr,H.ca=fe,H.tb=_e,H.c=_.width,H.i=_.height,e(0<H.c&&0<H.i),1>=te)_=0;else if(H.$a=3&Y[J+0],H.Z=Y[J+0]>>2&3,H.Lc=Y[J+0]>>4&3,J=Y[J+0]>>6&3,0>H.$a||1<H.$a||4<=H.Z||1<H.Lc||J)_=0;else if(be.put=yt,be.ac=Ci,be.bc=zn,be.ma=H,be.width=_.width,be.height=_.height,be.Da=_.Da,be.v=_.v,be.va=_.va,be.j=_.j,be.o=_.o,H.$a)e:{e(H.$a==1),_=_o();t:for(;;){if(_==null){_=0;break e}if(e(H!=null),H.mc=_,_.c=H.c,_.i=H.i,_.l=H.l,_.l.ma=H,_.l.width=H.c,_.l.height=H.i,_.a=0,ae(_.m,Y,ne,pe),!ka(H.c,H.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Ii(_.s)?(H.ic=1,Y=_.c*_.i,_.Ta=null,_.Ua=0,_.V=a(Y),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(H.ic=0,_=qs(_,H.c)),!_))break t;_=1;break e}H.mc=null,_=0}else _=pe>=H.c*H.i;H=!_}if(H)return null;m.ga.Lc!=1?m.Ga=0:D=W-R}e(m.ga!=null),e(R+D<=W);e:{if(_=(Y=m.ga).c,W=Y.l.o,Y.$a==0){if(ne=m.rc,pe=m.Vc,be=m.Fa,J=m.P+1+R*_,te=m.mb,fe=m.nb+R*_,e(J<=m.P+m.qc),Y.Z!=0)for(e(Lc[Y.Z]!=null),H=0;H<D;++H)Lc[Y.Z](ne,pe,be,J,te,fe,_),ne=te,pe=fe,fe+=_,J+=_;else for(H=0;H<D;++H)r(te,fe,be,J,_),ne=te,pe=fe,fe+=_,J+=_;m.rc=ne,m.Vc=pe}else{if(e(Y.mc!=null),_=R+D,e((H=Y.mc)!=null),e(_<=H.i),H.C>=_)_=1;else if(Y.ic||ma(),Y.ic){Y=H.V,ne=H.Ba,pe=H.c;var Ee=H.i,we=(be=1,J=H.$/pe,te=H.$%pe,fe=H.m,_e=H.s,H.$),ke=pe*Ee,Ce=pe*_,Fe=_e.wc,Le=we<Ce?Jn(_e,te,J):null;e(we<=ke),e(_<=Ee),e(Ii(_e));t:for(;;){for(;!fe.h&&we<Ce;){if(te&Fe||(Le=Jn(_e,te,J)),e(Le!=null),me(fe),256>(Ee=Qn(Le.G[0],Le.H[0],fe)))Y[ne+we]=Ee,++we,++te>=pe&&(te=0,++J<=_&&!(J%16)&&ta(H,J));else{if(!(280>Ee)){be=0;break t}Ee=ii(Ee-256,fe);var dt,Je=Qn(Le.G[4],Le.H[4],fe);if(me(fe),!(we>=(Je=ai(pe,Je=ii(Je,fe)))&&ke-we>=Ee)){be=0;break t}for(dt=0;dt<Ee;++dt)Y[ne+we+dt]=Y[ne+we+dt-Je];for(we+=Ee,te+=Ee;te>=pe;)te-=pe,++J<=_&&!(J%16)&&ta(H,J);we<Ce&&te&Fe&&(Le=Jn(_e,te,J))}e(fe.h==se(fe))}ta(H,J>_?_:J);break t}!be||fe.h&&we<ke?(be=0,H.a=fe.h?5:3):H.$=we,_=be}else _=ji(H,H.V,H.Ba,H.c,H.i,_,So);if(!_){D=0;break e}}R+D>=W&&(m.Cc=1),D=1}if(!D)return null;if(m.Cc&&((D=m.ga)!=null&&(D.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+R*U}function mr(m,_,R,D,U,W){for(;0<U--;){var H,Y=m,J=_+(R?1:0),te=m,fe=_+(R?0:3);for(H=0;H<D;++H){var _e=te[fe+4*H];_e!=255&&(_e*=32897,Y[J+4*H+0]=Y[J+4*H+0]*_e>>23,Y[J+4*H+1]=Y[J+4*H+1]*_e>>23,Y[J+4*H+2]=Y[J+4*H+2]*_e>>23)}_+=W}}function ir(m,_,R,D,U){for(;0<D--;){var W;for(W=0;W<R;++W){var H=m[_+2*W+0],Y=15&(te=m[_+2*W+1]),J=4369*Y,te=(240&te|te>>4)*J>>16;m[_+2*W+0]=(240&H|H>>4)*J>>16&240|(15&H|H<<4)*J>>16>>4&15,m[_+2*W+1]=240&te|Y}_+=U}}function gr(m,_,R,D,U,W,H,Y){var J,te,fe=255;for(te=0;te<U;++te){for(J=0;J<D;++J){var _e=m[_+J];W[H+4*J]=_e,fe&=_e}_+=R,H+=Y}return fe!=255}function ar(m,_,R,D,U){var W;for(W=0;W<U;++W)R[D+W]=m[_+W]>>8}function ma(){bm=mr,Ok=ir,Rk=gr,Lk=ar}function ds(m,_,R){C[m]=function(D,U,W,H,Y,J,te,fe,_e,ne,pe,be,Ee,we,ke,Ce,Fe){var Le,dt=Fe-1>>1,Je=Y[J+0]|te[fe+0]<<16,Bt=_e[ne+0]|pe[be+0]<<16;e(D!=null);var ot=3*Je+Bt+131074>>2;for(_(D[U+0],255&ot,ot>>16,Ee,we),W!=null&&(ot=3*Bt+Je+131074>>2,_(W[H+0],255&ot,ot>>16,ke,Ce)),Le=1;Le<=dt;++Le){var en=Y[J+Le]|te[fe+Le]<<16,Gr=_e[ne+Le]|pe[be+Le]<<16,Vt=Je+en+Bt+Gr+524296,lt=Vt+2*(en+Bt)>>3;ot=lt+Je>>1,Je=(Vt=Vt+2*(Je+Gr)>>3)+en>>1,_(D[U+2*Le-1],255&ot,ot>>16,Ee,we+(2*Le-1)*R),_(D[U+2*Le-0],255&Je,Je>>16,Ee,we+(2*Le-0)*R),W!=null&&(ot=Vt+Bt>>1,Je=lt+Gr>>1,_(W[H+2*Le-1],255&ot,ot>>16,ke,Ce+(2*Le-1)*R),_(W[H+2*Le+0],255&Je,Je>>16,ke,Ce+(2*Le+0)*R)),Je=en,Bt=Gr}1&Fe||(ot=3*Je+Bt+131074>>2,_(D[U+Fe-1],255&ot,ot>>16,Ee,we+(Fe-1)*R),W!=null&&(ot=3*Bt+Je+131074>>2,_(W[H+Fe-1],255&ot,ot>>16,ke,Ce+(Fe-1)*R)))}}function hs(){gs[Hv]=dH,gs[Gv]=Hk,gs[Vk]=hH,gs[Kv]=Gk,gs[Yv]=Kk,gs[Lw]=Yk,gs[Uk]=pH,gs[Mw]=Hk,gs[Dw]=Gk,gs[Xv]=Kk,gs[Fw]=Yk}function g(m){return m&-16384?0>m?0:255:m>>mH}function L(m,_){return g((19077*m>>8)+(26149*_>>8)-14234)}function F(m,_,R){return g((19077*m>>8)-(6419*_>>8)-(13320*R>>8)+8708)}function Q(m,_){return g((19077*m>>8)+(33050*_>>8)-17685)}function ve(m,_,R,D,U){D[U+0]=L(m,R),D[U+1]=F(m,_,R),D[U+2]=Q(m,_)}function Ae(m,_,R,D,U){D[U+0]=Q(m,_),D[U+1]=F(m,_,R),D[U+2]=L(m,R)}function Ve(m,_,R,D,U){var W=F(m,_,R);_=W<<3&224|Q(m,_)>>3,D[U+0]=248&L(m,R)|W>>5,D[U+1]=_}function Zt(m,_,R,D,U){var W=240&Q(m,_)|15;D[U+0]=240&L(m,R)|F(m,_,R)>>4,D[U+1]=W}function sr(m,_,R,D,U){D[U+0]=255,ve(m,_,R,D,U+1)}function qt(m,_,R,D,U){Ae(m,_,R,D,U),D[U+3]=255}function ln(m,_,R,D,U){ve(m,_,R,D,U),D[U+3]=255}function Mn(m,_,R){C[m]=function(D,U,W,H,Y,J,te,fe,_e){for(var ne=fe+(-2&_e)*R;fe!=ne;)_(D[U+0],W[H+0],Y[J+0],te,fe),_(D[U+1],W[H+0],Y[J+0],te,fe+R),U+=2,++H,++J,fe+=2*R;1&_e&&_(D[U+0],W[H+0],Y[J+0],te,fe)}}function ja(m,_,R){return R==0?m==0?_==0?6:5:_==0?4:0:R}function Oi(m,_,R,D,U){switch(m>>>30){case 3:uf(_,R,D,U,0);break;case 2:ps(_,R,D,U);break;case 1:mn(_,R,D,U)}}function gi(m,_){var R,D,U=_.M,W=_.Nb,H=m.oc,Y=m.pc+40,J=m.oc,te=m.pc+584,fe=m.oc,_e=m.pc+600;for(R=0;16>R;++R)H[Y+32*R-1]=129;for(R=0;8>R;++R)J[te+32*R-1]=129,fe[_e+32*R-1]=129;for(0<U?H[Y-1-32]=J[te-1-32]=fe[_e-1-32]=129:(i(H,Y-32-1,127,21),i(J,te-32-1,127,9),i(fe,_e-32-1,127,9)),D=0;D<m.za;++D){var ne=_.ya[_.aa+D];if(0<D){for(R=-1;16>R;++R)r(H,Y+32*R-4,H,Y+32*R+12,4);for(R=-1;8>R;++R)r(J,te+32*R-4,J,te+32*R+4,4),r(fe,_e+32*R-4,fe,_e+32*R+4,4)}var pe=m.Gd,be=m.Hd+D,Ee=ne.ad,we=ne.Hc;if(0<U&&(r(H,Y-32,pe[be].y,0,16),r(J,te-32,pe[be].f,0,8),r(fe,_e-32,pe[be].ea,0,8)),ne.Za){var ke=H,Ce=Y-32+16;for(0<U&&(D>=m.za-1?i(ke,Ce,pe[be].y[15],4):r(ke,Ce,pe[be+1].y,0,4)),R=0;4>R;R++)ke[Ce+128+R]=ke[Ce+256+R]=ke[Ce+384+R]=ke[Ce+0+R];for(R=0;16>R;++R,we<<=2)ke=H,Ce=Y+Qk[R],Ks[ne.Ob[R]](ke,Ce),Oi(we,Ee,16*+R,ke,Ce)}else if(ke=ja(D,U,ne.Ob[0]),Rc[ke](H,Y),we!=0)for(R=0;16>R;++R,we<<=2)Oi(we,Ee,16*+R,H,Y+Qk[R]);for(R=ne.Gc,ke=ja(D,U,ne.Dd),wl[ke](J,te),wl[ke](fe,_e),we=Ee,ke=J,Ce=te,255&(ne=0|R)&&(170&ne?jo(we,256,ke,Ce):Cn(we,256,ke,Ce)),ne=fe,we=_e,255&(R>>=8)&&(170&R?jo(Ee,320,ne,we):Cn(Ee,320,ne,we)),U<m.Ub-1&&(r(pe[be].y,0,H,Y+480,16),r(pe[be].f,0,J,te+224,8),r(pe[be].ea,0,fe,_e+224,8)),R=8*W*m.B,pe=m.sa,be=m.ta+16*D+16*W*m.R,Ee=m.qa,ne=m.ra+8*D+R,we=m.Ha,ke=m.Ia+8*D+R,R=0;16>R;++R)r(pe,be+R*m.R,H,Y+32*R,16);for(R=0;8>R;++R)r(Ee,ne+R*m.B,J,te+32*R,8),r(we,ke+R*m.B,fe,_e+32*R,8)}}function Gs(m,_,R,D,U,W,H,Y,J){var te=[0],fe=[0],_e=0,ne=J!=null?J.kd:0,pe=J??new Re;if(m==null||12>R)return 7;pe.data=m,pe.w=_,pe.ha=R,_=[_],R=[R],pe.gb=[pe.gb];e:{var be=_,Ee=R,we=pe.gb;if(e(m!=null),e(Ee!=null),e(we!=null),we[0]=0,12<=Ee[0]&&!n(m,be[0],"RIFF")){if(n(m,be[0]+8,"WEBP")){we=3;break e}var ke=$e(m,be[0]+4);if(12>ke||4294967286<ke){we=3;break e}if(ne&&ke>Ee[0]-8){we=7;break e}we[0]=ke,be[0]+=12,Ee[0]-=12}we=0}if(we!=0)return we;for(ke=0<pe.gb[0],R=R[0];;){e:{var Ce=m;Ee=_,we=R;var Fe=te,Le=fe,dt=be=[0];if((ot=_e=[_e])[0]=0,8>we[0])we=7;else{if(!n(Ce,Ee[0],"VP8X")){if($e(Ce,Ee[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var Je=$e(Ce,Ee[0]+8),Bt=1+Me(Ce,Ee[0]+12);if(2147483648<=Bt*(Ce=1+Me(Ce,Ee[0]+15))){we=3;break e}dt!=null&&(dt[0]=Je),Fe!=null&&(Fe[0]=Bt),Le!=null&&(Le[0]=Ce),Ee[0]+=18,we[0]-=18,ot[0]=1}we=0}}if(_e=_e[0],be=be[0],we!=0)return we;if(Ee=!!(2&be),!ke&&_e)return 3;if(W!=null&&(W[0]=!!(16&be)),H!=null&&(H[0]=Ee),Y!=null&&(Y[0]=0),H=te[0],be=fe[0],_e&&Ee&&J==null){we=0;break}if(4>R){we=7;break}if(ke&&_e||!ke&&!_e&&!n(m,_[0],"ALPH")){R=[R],pe.na=[pe.na],pe.P=[pe.P],pe.Sa=[pe.Sa];e:{Je=m,we=_,ke=R;var ot=pe.gb;Fe=pe.na,Le=pe.P,dt=pe.Sa,Bt=22,e(Je!=null),e(ke!=null),Ce=we[0];var en=ke[0];for(e(Fe!=null),e(dt!=null),Fe[0]=null,Le[0]=null,dt[0]=0;;){if(we[0]=Ce,ke[0]=en,8>en){we=7;break e}var Gr=$e(Je,Ce+4);if(4294967286<Gr){we=3;break e}var Vt=8+Gr+1&-2;if(Bt+=Vt,0<ot&&Bt>ot){we=3;break e}if(!n(Je,Ce,"VP8 ")||!n(Je,Ce,"VP8L")){we=0;break e}if(en[0]<Vt){we=7;break e}n(Je,Ce,"ALPH")||(Fe[0]=Je,Le[0]=Ce+8,dt[0]=Gr),Ce+=Vt,en-=Vt}}if(R=R[0],pe.na=pe.na[0],pe.P=pe.P[0],pe.Sa=pe.Sa[0],we!=0)break}R=[R],pe.Ja=[pe.Ja],pe.xa=[pe.xa];e:if(ot=m,we=_,ke=R,Fe=pe.gb[0],Le=pe.Ja,dt=pe.xa,Je=we[0],Ce=!n(ot,Je,"VP8 "),Bt=!n(ot,Je,"VP8L"),e(ot!=null),e(ke!=null),e(Le!=null),e(dt!=null),8>ke[0])we=7;else{if(Ce||Bt){if(ot=$e(ot,Je+4),12<=Fe&&ot>Fe-12){we=3;break e}if(ne&&ot>ke[0]-8){we=7;break e}Le[0]=ot,we[0]+=8,ke[0]-=8,dt[0]=Bt}else dt[0]=5<=ke[0]&&ot[Je+0]==47&&!(ot[Je+4]>>5),Le[0]=ke[0];we=0}if(R=R[0],pe.Ja=pe.Ja[0],pe.xa=pe.xa[0],_=_[0],we!=0)break;if(4294967286<pe.Ja)return 3;if(Y==null||Ee||(Y[0]=pe.xa?2:1),H=[H],be=[be],pe.xa){if(5>R){we=7;break}Y=H,ne=be,Ee=W,m==null||5>R?m=0:5<=R&&m[_+0]==47&&!(m[_+4]>>5)?(ke=[0],ot=[0],Fe=[0],ae(Le=new K,m,_,R),is(Le,ke,ot,Fe)?(Y!=null&&(Y[0]=ke[0]),ne!=null&&(ne[0]=ot[0]),Ee!=null&&(Ee[0]=Fe[0]),m=1):m=0):m=0}else{if(10>R){we=7;break}Y=be,m==null||10>R||!Pd(m,_+3,R-3)?m=0:(ne=m[_+0]|m[_+1]<<8|m[_+2]<<16,Ee=16383&(m[_+7]<<8|m[_+6]),m=16383&(m[_+9]<<8|m[_+8]),1&ne||3<(ne>>1&7)||!(ne>>4&1)||ne>>5>=pe.Ja||!Ee||!m?m=0:(H&&(H[0]=Ee),Y&&(Y[0]=m),m=1))}if(!m||(H=H[0],be=be[0],_e&&(te[0]!=H||fe[0]!=be)))return 3;J!=null&&(J[0]=pe,J.offset=_-J.w,e(4294967286>_-J.w),e(J.offset==J.ha-R));break}return we==0||we==7&&_e&&J==null?(W!=null&&(W[0]|=pe.na!=null&&0<pe.na.length),D!=null&&(D[0]=H),U!=null&&(U[0]=be),0):we}function fm(m,_,R){var D=_.width,U=_.height,W=0,H=0,Y=D,J=U;if(_.Da=m!=null&&0<m.Da,_.Da&&(Y=m.cd,J=m.bd,W=m.v,H=m.j,11>R||(W&=-2,H&=-2),0>W||0>H||0>=Y||0>=J||W+Y>D||H+J>U))return 0;if(_.v=W,_.j=H,_.va=W+Y,_.o=H+J,_.U=Y,_.T=J,_.da=m!=null&&0<m.da,_.da){if(!Ze(Y,J,R=[m.ib],W=[m.hb]))return 0;_.ib=R[0],_.hb=W[0]}return _.ob=m!=null&&m.ob,_.Kb=m==null||!m.Sd,_.da&&(_.ob=_.ib<3*D/4&&_.hb<3*U/4,_.Kb=0),1}function dm(m){if(m==null)return 2;if(11>m.S){var _=m.f.RGBA;_.fb+=(m.height-1)*_.A,_.A=-_.A}else _=m.f.kb,m=m.height,_.O+=(m-1)*_.fa,_.fa=-_.fa,_.N+=(m-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(m-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(m-1)*_.lb,_.lb=-_.lb);return 0}function Pc(m,_,R,D){if(D==null||0>=m||0>=_)return 2;if(R!=null){if(R.Da){var U=R.cd,W=R.bd,H=-2&R.v,Y=-2&R.j;if(0>H||0>Y||0>=U||0>=W||H+U>m||Y+W>_)return 2;m=U,_=W}if(R.da){if(!Ze(m,_,U=[R.ib],W=[R.hb]))return 2;m=U[0],_=W[0]}}D.width=m,D.height=_;e:{var J=D.width,te=D.height;if(m=D.S,0>=J||0>=te||!(m>=Hv&&13>m))m=2;else{if(0>=D.Rd&&D.sd==null){H=W=U=_=0;var fe=(Y=J*Jk[m])*te;if(11>m||(W=(te+1)/2*(_=(J+1)/2),m==12&&(H=(U=J)*te)),(te=a(fe+2*W+H))==null){m=1;break e}D.sd=te,11>m?((J=D.f.RGBA).eb=te,J.fb=0,J.A=Y,J.size=fe):((J=D.f.kb).y=te,J.O=0,J.fa=Y,J.Fd=fe,J.f=te,J.N=0+fe,J.Ab=_,J.Cd=W,J.ea=te,J.W=0+fe+W,J.Db=_,J.Ed=W,m==12&&(J.F=te,J.J=0+fe+2*W),J.Tc=H,J.lb=U)}if(_=1,U=D.S,W=D.width,H=D.height,U>=Hv&&13>U)if(11>U)m=D.f.RGBA,_&=(Y=Math.abs(m.A))*(H-1)+W<=m.size,_&=Y>=W*Jk[U],_&=m.eb!=null;else{m=D.f.kb,Y=(W+1)/2,fe=(H+1)/2,J=Math.abs(m.fa),te=Math.abs(m.Ab);var _e=Math.abs(m.Db),ne=Math.abs(m.lb),pe=ne*(H-1)+W;_&=J*(H-1)+W<=m.Fd,_&=te*(fe-1)+Y<=m.Cd,_=(_&=_e*(fe-1)+Y<=m.Ed)&J>=W&te>=Y&_e>=Y,_&=m.y!=null,_&=m.f!=null,_&=m.ea!=null,U==12&&(_&=ne>=W,_&=pe<=m.Tc,_&=m.F!=null)}else _=0;m=_?0:2}}return m!=0||R!=null&&R.fd&&(m=dm(D)),m}var lf=64,Oa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ra=24,Tc=32,bl=8,kc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];qe("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(m){return m},C.Predictor2=function(m,_,R){return _[R+0]},C.Predictor3=function(m,_,R){return _[R+1]},C.Predictor4=function(m,_,R){return _[R-1]},C.Predictor5=function(m,_,R){return rt(rt(m,_[R+1]),_[R+0])},C.Predictor6=function(m,_,R){return rt(m,_[R-1])},C.Predictor7=function(m,_,R){return rt(m,_[R+0])},C.Predictor8=function(m,_,R){return rt(_[R-1],_[R+0])},C.Predictor9=function(m,_,R){return rt(_[R+0],_[R+1])},C.Predictor10=function(m,_,R){return rt(rt(m,_[R-1]),rt(_[R+0],_[R+1]))},C.Predictor11=function(m,_,R){var D=_[R+0];return 0>=ct(D>>24&255,m>>24&255,(_=_[R-1])>>24&255)+ct(D>>16&255,m>>16&255,_>>16&255)+ct(D>>8&255,m>>8&255,_>>8&255)+ct(255&D,255&m,255&_)?D:m},C.Predictor12=function(m,_,R){var D=_[R+0];return(Wt((m>>24&255)+(D>>24&255)-((_=_[R-1])>>24&255))<<24|Wt((m>>16&255)+(D>>16&255)-(_>>16&255))<<16|Wt((m>>8&255)+(D>>8&255)-(_>>8&255))<<8|Wt((255&m)+(255&D)-(255&_)))>>>0},C.Predictor13=function(m,_,R){var D=_[R-1];return(Mt((m=rt(m,_[R+0]))>>24&255,D>>24&255)<<24|Mt(m>>16&255,D>>16&255)<<16|Mt(m>>8&255,D>>8&255)<<8|Mt(255&m,255&D))>>>0};var hm=C.PredictorAdd0;C.PredictorAdd1=xt,qe("Predictor2","PredictorAdd2"),qe("Predictor3","PredictorAdd3"),qe("Predictor4","PredictorAdd4"),qe("Predictor5","PredictorAdd5"),qe("Predictor6","PredictorAdd6"),qe("Predictor7","PredictorAdd7"),qe("Predictor8","PredictorAdd8"),qe("Predictor9","PredictorAdd9"),qe("Predictor10","PredictorAdd10"),qe("Predictor11","PredictorAdd11"),qe("Predictor12","PredictorAdd12"),qe("Predictor13","PredictorAdd13");var Rd=C.PredictorAdd2;ut("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),ut("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Nr,zv=C.ColorIndexInverseTransform,Co=C.MapARGB,Io=C.VP8LColorIndexInverseTransformAlpha,pm=C.MapAlpha,mm=C.VP8LPredictorsAdd=[];mm.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var gm,ym,Cc,Ic,jc,cf,Oc,uf,ps,jo,mn,Cn,Er,Hr,xl,vm,Ld,qv,Pk,Tk,kk,Ck,Ik,jk,bm,Ok,Rk,Lk,Mk=a(511),Dk=a(2041),Fk=a(225),$k=a(767),Bk=0,Rw=Dk,Wv=Fk,La=$k,ms=Mk,Hv=0,Gv=1,Vk=2,Kv=3,Yv=4,Lw=5,Uk=6,Mw=7,Dw=8,Xv=9,Fw=10,JW=[2,3,7],ZW=[3,3,11],zk=[280,256,256,256,40],eH=[0,1,1,1,0],tH=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],nH=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],rH=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],iH=8,$w=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Bw=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],xm=null,aH=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],sH=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],qk=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],oH=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],lH=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],cH=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],uH=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Rc=[],Ks=[],wl=[],fH=1,Wk=2,Lc=[],gs=[];ds("UpsampleRgbLinePair",ve,3),ds("UpsampleBgrLinePair",Ae,3),ds("UpsampleRgbaLinePair",ln,4),ds("UpsampleBgraLinePair",qt,4),ds("UpsampleArgbLinePair",sr,4),ds("UpsampleRgba4444LinePair",Zt,2),ds("UpsampleRgb565LinePair",Ve,2);var dH=C.UpsampleRgbLinePair,hH=C.UpsampleBgrLinePair,Hk=C.UpsampleRgbaLinePair,Gk=C.UpsampleBgraLinePair,Kk=C.UpsampleArgbLinePair,Yk=C.UpsampleRgba4444LinePair,pH=C.UpsampleRgb565LinePair,Qv=16,Jv=1<<Qv-1,wm=-227,Vw=482,mH=6,Xk=0,gH=a(256),yH=a(256),vH=a(256),bH=a(256),xH=a(Vw-wm),wH=a(Vw-wm);Mn("YuvToRgbRow",ve,3),Mn("YuvToBgrRow",Ae,3),Mn("YuvToRgbaRow",ln,4),Mn("YuvToBgraRow",qt,4),Mn("YuvToArgbRow",sr,4),Mn("YuvToRgba4444Row",Zt,2),Mn("YuvToRgb565Row",Ve,2);var Qk=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Zv=[0,2,8],_H=[8,7,6,4,4,2,2,2,1,1,1,1],SH=1;this.WebPDecodeRGBA=function(m,_,R,D,U){var W=Gv,H=new Te,Y=new Ft;H.ba=Y,Y.S=W,Y.width=[Y.width],Y.height=[Y.height];var J=Y.width,te=Y.height,fe=new mt;if(fe==null||m==null)var _e=2;else e(fe!=null),_e=Gs(m,_,R,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(_e!=0?J=0:(J!=null&&(J[0]=fe.width[0]),te!=null&&(te[0]=fe.height[0]),J=1),J){Y.width=Y.width[0],Y.height=Y.height[0],D!=null&&(D[0]=Y.width),U!=null&&(U[0]=Y.height);e:{if(D=new No,(U=new Re).data=m,U.w=_,U.ha=R,U.kd=1,_=[0],e(U!=null),((m=Gs(U.data,U.w,U.ha,null,null,null,_,null,U))==0||m==7)&&_[0]&&(m=4),(_=m)==0){if(e(H!=null),D.data=U.data,D.w=U.w+U.offset,D.ha=U.ha-U.offset,D.put=yt,D.ac=Ci,D.bc=zn,D.ma=H,U.xa){if((m=_o())==null){H=1;break e}if(function(ne,pe){var be=[0],Ee=[0],we=[0];t:for(;;){if(ne==null)return 0;if(pe==null)return ne.a=2,0;if(ne.l=pe,ne.a=0,ae(ne.m,pe.data,pe.w,pe.ha),!is(ne.m,be,Ee,we)){ne.a=3;break t}if(ne.xb=Wk,pe.width=be[0],pe.height=Ee[0],!ka(be[0],Ee[0],1,ne,null))break t;return 1}return e(ne.a!=0),0}(m,D)){if(D=(_=Pc(D.width,D.height,H.Oa,H.ba))==0){t:{D=m;n:for(;;){if(D==null){D=0;break t}if(e(D.s.yc!=null),e(D.s.Ya!=null),e(0<D.s.Wb),e((R=D.l)!=null),e((U=R.ma)!=null),D.xb!=0){if(D.ca=U.ba,D.tb=U.tb,e(D.ca!=null),!fm(U.Oa,R,Kv)){D.a=2;break n}if(!qs(D,R.width)||R.da)break n;if((R.da||vt(D.ca.S))&&ma(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&ma()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!q(D.s.vb,D.s.Wa.Xa)){D.a=1;break n}D.xb=0}if(!ji(D,D.V,D.Ba,D.c,D.i,R.o,wo))break n;U.Dc=D.Ma,D=1;break t}e(D.a!=0),D=0}D=!D}D&&(_=m.a)}else _=m.a}else{if((m=new Ed)==null){H=1;break e}if(m.Fa=U.na,m.P=U.P,m.qc=U.Sa,as(m,D)){if((_=Pc(D.width,D.height,H.Oa,H.ba))==0){if(m.Aa=0,R=H.Oa,e((U=m)!=null),R!=null){if(0<(J=0>(J=R.Md)?0:100<J?255:255*J/100)){for(te=fe=0;4>te;++te)12>(_e=U.pb[te]).lc&&(_e.ia=J*_H[0>_e.lc?0:_e.lc]>>3),fe|=_e.ia;fe&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=R.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}(function(ne,pe){if(ne==null)return 0;if(pe==null)return nr(ne,2,"NULL VP8Io parameter in VP8Decode().");if(!ne.cb&&!as(ne,pe))return 0;if(e(ne.cb),pe.ac==null||pe.ac(pe)){pe.ob&&(ne.L=0);var be=Zv[ne.L];if(ne.L==2?(ne.yb=0,ne.zb=0):(ne.yb=pe.v-be>>4,ne.zb=pe.j-be>>4,0>ne.yb&&(ne.yb=0),0>ne.zb&&(ne.zb=0)),ne.Va=pe.o+15+be>>4,ne.Hb=pe.va+15+be>>4,ne.Hb>ne.za&&(ne.Hb=ne.za),ne.Va>ne.Ub&&(ne.Va=ne.Ub),0<ne.L){var Ee=ne.ed;for(be=0;4>be;++be){var we;if(ne.Qa.Cb){var ke=ne.Qa.Lb[be];ne.Qa.Fb||(ke+=Ee.Tb)}else ke=Ee.Tb;for(we=0;1>=we;++we){var Ce=ne.gd[be][we],Fe=ke;if(Ee.Pc&&(Fe+=Ee.vd[0],we&&(Fe+=Ee.od[0])),0<(Fe=0>Fe?0:63<Fe?63:Fe)){var Le=Fe;0<Ee.wb&&(Le=4<Ee.wb?Le>>2:Le>>1)>9-Ee.wb&&(Le=9-Ee.wb),1>Le&&(Le=1),Ce.dd=Le,Ce.tc=2*Fe+Le,Ce.ld=40<=Fe?2:15<=Fe?1:0}else Ce.tc=0;Ce.La=we}}}be=0}else nr(ne,6,"Frame setup failed"),be=ne.a;if(be=be==0){if(be){ne.$c=0,0<ne.Aa||(ne.Ic=SH);t:{be=ne.Ic,Ee=4*(Le=ne.za);var dt=32*Le,Je=Le+1,Bt=0<ne.L?Le*(0<ne.Aa?2:1):0,ot=(ne.Aa==2?2:1)*Le;if((Ce=Ee+832+(we=3*(16*be+Zv[ne.L])/2*dt)+(ke=ne.Fa!=null&&0<ne.Fa.length?ne.Kc.c*ne.Kc.i:0))!=Ce)be=0;else{if(Ce>ne.Vb){if(ne.Vb=0,ne.Ec=a(Ce),ne.Fc=0,ne.Ec==null){be=nr(ne,1,"no memory during frame initialization.");break t}ne.Vb=Ce}Ce=ne.Ec,Fe=ne.Fc,ne.Ac=Ce,ne.Bc=Fe,Fe+=Ee,ne.Gd=s(dt,Zu),ne.Hd=0,ne.rb=s(Je+1,Ca),ne.sb=1,ne.wa=Bt?s(Bt,si):null,ne.Y=0,ne.D.Nb=0,ne.D.wa=ne.wa,ne.D.Y=ne.Y,0<ne.Aa&&(ne.D.Y+=Le),e(!0),ne.oc=Ce,ne.pc=Fe,Fe+=832,ne.ya=s(ot,Qu),ne.aa=0,ne.D.ya=ne.ya,ne.D.aa=ne.aa,ne.Aa==2&&(ne.D.aa+=Le),ne.R=16*Le,ne.B=8*Le,Le=(dt=Zv[ne.L])*ne.R,dt=dt/2*ne.B,ne.sa=Ce,ne.ta=Fe+Le,ne.qa=ne.sa,ne.ra=ne.ta+16*be*ne.R+dt,ne.Ha=ne.qa,ne.Ia=ne.ra+8*be*ne.B+dt,ne.$c=0,Fe+=we,ne.mb=ke?Ce:null,ne.nb=ke?Fe:null,e(Fe+ke<=ne.Fc+ne.Vb),tf(ne),i(ne.Ac,ne.Bc,0,Ee),be=1}}if(be){if(pe.ka=0,pe.y=ne.sa,pe.O=ne.ta,pe.f=ne.qa,pe.N=ne.ra,pe.ea=ne.Ha,pe.Vd=ne.Ia,pe.fa=ne.R,pe.Rc=ne.B,pe.F=null,pe.J=0,!Bk){for(be=-255;255>=be;++be)Mk[255+be]=0>be?-be:be;for(be=-1020;1020>=be;++be)Dk[1020+be]=-128>be?-128:127<be?127:be;for(be=-112;112>=be;++be)Fk[112+be]=-16>be?-16:15<be?15:be;for(be=-255;510>=be;++be)$k[255+be]=0>be?0:255<be?255:be;Bk=1}Oc=ss,uf=Td,jo=Yt,mn=ml,Cn=Eo,ps=wc,Er=Ec,Hr=fs,xl=V,vm=ee,Ld=of,qv=T,Pk=oe,Tk=ge,kk=ko,Ck=na,Ik=sf,jk=Od,Ks[0]=cm,Ks[1]=kd,Ks[2]=om,Ks[3]=lm,Ks[4]=oi,Ks[5]=um,Ks[6]=Ws,Ks[7]=Sc,Ks[8]=Ac,Ks[9]=Hs,Rc[0]=os,Rc[1]=sm,Rc[2]=nf,Rc[3]=Cd,Rc[4]=Po,Rc[5]=_c,Rc[6]=Id,wl[0]=rf,wl[1]=am,wl[2]=Ia,wl[3]=yl,wl[4]=af,wl[5]=En,wl[6]=jd,be=1}else be=0}be&&(be=function(en,Gr){for(en.M=0;en.M<en.Va;++en.M){var Vt,lt=en.Jc[en.M&en.Xb],ze=en.m,Pr=en;for(Vt=0;Vt<Pr.za;++Vt){var Rt=ze,nn=Pr,qn=nn.Ac,yi=nn.Bc+4*Vt,ia=nn.zc,yr=nn.ya[nn.aa+Vt];if(nn.Qa.Bb?yr.$b=xe(Rt,nn.Pa.jb[0])?2+xe(Rt,nn.Pa.jb[2]):xe(Rt,nn.Pa.jb[1]):yr.$b=0,nn.kc&&(yr.Ad=xe(Rt,nn.Bd)),yr.Za=!xe(Rt,145)+0,yr.Za){var Ri=yr.Ob,aa=0;for(nn=0;4>nn;++nn){var Kr,an=ia[0+nn];for(Kr=0;4>Kr;++Kr){an=lH[qn[yi+Kr]][an];for(var vn=qk[xe(Rt,an[0])];0<vn;)vn=qk[2*vn+xe(Rt,an[vn])];an=-vn,qn[yi+Kr]=an}r(Ri,aa,qn,yi,4),aa+=4,ia[0+nn]=an}}else an=xe(Rt,156)?xe(Rt,128)?1:3:xe(Rt,163)?2:0,yr.Ob[0]=an,i(qn,yi,an,4),i(ia,0,an,4);yr.Dd=xe(Rt,142)?xe(Rt,114)?xe(Rt,183)?1:3:2:0}if(Pr.m.Ka)return nr(en,7,"Premature end-of-partition0 encountered.");for(;en.ja<en.za;++en.ja){if(Pr=lt,Rt=(ze=en).rb[ze.sb-1],qn=ze.rb[ze.sb+ze.ja],Vt=ze.ya[ze.aa+ze.ja],yi=ze.kc?Vt.Ad:0)Rt.la=qn.la=0,Vt.Za||(Rt.Na=qn.Na=0),Vt.Hc=0,Vt.Gc=0,Vt.ia=0;else{var vr,bn;if(Rt=qn,qn=Pr,yi=ze.Pa.Xc,ia=ze.ya[ze.aa+ze.ja],yr=ze.pb[ia.$b],nn=ia.ad,Ri=0,aa=ze.rb[ze.sb-1],an=Kr=0,i(nn,Ri,0,384),ia.Za)var vi=0,Ys=yi[3];else{vn=a(16);var Tr=Rt.Na+aa.Na;if(Tr=xm(qn,yi[1],Tr,yr.Eb,0,vn,0),Rt.Na=aa.Na=(0<Tr)+0,1<Tr)Oc(vn,0,nn,Ri);else{var ga=vn[0]+3>>3;for(vn=0;256>vn;vn+=16)nn[Ri+vn]=ga}vi=1,Ys=yi[0]}var In=15&Rt.la,Yr=15&aa.la;for(vn=0;4>vn;++vn){var Ma=1&Yr;for(ga=bn=0;4>ga;++ga)In=In>>1|(Ma=(Tr=xm(qn,Ys,Tr=Ma+(1&In),yr.Sc,vi,nn,Ri))>vi)<<7,bn=bn<<2|(3<Tr?3:1<Tr?2:nn[Ri+0]!=0),Ri+=16;In>>=4,Yr=Yr>>1|Ma<<7,Kr=(Kr<<8|bn)>>>0}for(Ys=In,vi=Yr>>4,vr=0;4>vr;vr+=2){for(bn=0,In=Rt.la>>4+vr,Yr=aa.la>>4+vr,vn=0;2>vn;++vn){for(Ma=1&Yr,ga=0;2>ga;++ga)Tr=Ma+(1&In),In=In>>1|(Ma=0<(Tr=xm(qn,yi[2],Tr,yr.Qc,0,nn,Ri)))<<3,bn=bn<<2|(3<Tr?3:1<Tr?2:nn[Ri+0]!=0),Ri+=16;In>>=2,Yr=Yr>>1|Ma<<5}an|=bn<<4*vr,Ys|=In<<4<<vr,vi|=(240&Yr)<<vr}Rt.la=Ys,aa.la=vi,ia.Hc=Kr,ia.Gc=an,ia.ia=43690&an?0:yr.ia,yi=!(Kr|an)}if(0<ze.L&&(ze.wa[ze.Y+ze.ja]=ze.gd[Vt.$b][Vt.Za],ze.wa[ze.Y+ze.ja].La|=!yi),Pr.Ka)return nr(en,7,"Premature end-of-file encountered.")}if(tf(en),ze=Gr,Pr=1,Vt=(lt=en).D,Rt=0<lt.L&&lt.M>=lt.zb&&lt.M<=lt.Va,lt.Aa==0)t:{if(Vt.M=lt.M,Vt.uc=Rt,gi(lt,Vt),Pr=1,Vt=(bn=lt.D).Nb,Rt=(an=Zv[lt.L])*lt.R,qn=an/2*lt.B,vn=16*Vt*lt.R,ga=8*Vt*lt.B,yi=lt.sa,ia=lt.ta-Rt+vn,yr=lt.qa,nn=lt.ra-qn+ga,Ri=lt.Ha,aa=lt.Ia-qn+ga,Yr=(In=bn.M)==0,Kr=In>=lt.Va-1,lt.Aa==2&&gi(lt,bn),bn.uc)for(Ma=(Tr=lt).D.M,e(Tr.D.uc),bn=Tr.yb;bn<Tr.Hb;++bn){vi=bn,Ys=Ma;var sa=(Da=(bi=Tr).D).Nb;vr=bi.R;var Da=Da.wa[Da.Y+vi],Fa=bi.sa,ya=bi.ta+16*sa*vr+16*vi,$a=Da.dd,Dn=Da.tc;if(Dn!=0)if(e(3<=Dn),bi.L==1)0<vi&&Ck(Fa,ya,vr,Dn+4),Da.La&&jk(Fa,ya,vr,Dn),0<Ys&&kk(Fa,ya,vr,Dn+4),Da.La&&Ik(Fa,ya,vr,Dn);else{var Ba=bi.B,Xs=bi.qa,ff=bi.ra+8*sa*Ba+8*vi,_l=bi.Ha,bi=bi.Ia+8*sa*Ba+8*vi;sa=Da.ld,0<vi&&(Hr(Fa,ya,vr,Dn+4,$a,sa),vm(Xs,ff,_l,bi,Ba,Dn+4,$a,sa)),Da.La&&(qv(Fa,ya,vr,Dn,$a,sa),Tk(Xs,ff,_l,bi,Ba,Dn,$a,sa)),0<Ys&&(Er(Fa,ya,vr,Dn+4,$a,sa),xl(Xs,ff,_l,bi,Ba,Dn+4,$a,sa)),Da.La&&(Ld(Fa,ya,vr,Dn,$a,sa),Pk(Xs,ff,_l,bi,Ba,Dn,$a,sa))}}if(lt.ia&&alert("todo:DitherRow"),ze.put!=null){if(bn=16*In,In=16*(In+1),Yr?(ze.y=lt.sa,ze.O=lt.ta+vn,ze.f=lt.qa,ze.N=lt.ra+ga,ze.ea=lt.Ha,ze.W=lt.Ia+ga):(bn-=an,ze.y=yi,ze.O=ia,ze.f=yr,ze.N=nn,ze.ea=Ri,ze.W=aa),Kr||(In-=an),In>ze.o&&(In=ze.o),ze.F=null,ze.J=null,lt.Fa!=null&&0<lt.Fa.length&&bn<In&&(ze.J=yn(lt,ze,bn,In-bn),ze.F=lt.mb,ze.F==null&&ze.F.length==0)){Pr=nr(lt,3,"Could not decode alpha data.");break t}bn<ze.j&&(an=ze.j-bn,bn=ze.j,e(!(1&an)),ze.O+=lt.R*an,ze.N+=lt.B*(an>>1),ze.W+=lt.B*(an>>1),ze.F!=null&&(ze.J+=ze.width*an)),bn<In&&(ze.O+=ze.v,ze.N+=ze.v>>1,ze.W+=ze.v>>1,ze.F!=null&&(ze.J+=ze.v),ze.ka=bn-ze.j,ze.U=ze.va-ze.v,ze.T=In-bn,Pr=ze.put(ze))}Vt+1!=lt.Ic||Kr||(r(lt.sa,lt.ta-Rt,yi,ia+16*lt.R,Rt),r(lt.qa,lt.ra-qn,yr,nn+8*lt.B,qn),r(lt.Ha,lt.Ia-qn,Ri,aa+8*lt.B,qn))}if(!Pr)return nr(en,6,"Output aborted.")}return 1}(ne,pe)),pe.bc!=null&&pe.bc(pe),be&=1}return be?(ne.cb=0,be):0})(m,D)||(_=m.a)}}else _=m.a}_==0&&H.Oa!=null&&H.Oa.fd&&(_=dm(H.ba))}H=_}W=H!=0?null:11>W?Y.f.RGBA.eb:Y.f.kb.y}else W=null;return W};var Jk=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(C,M){for(var N="",k=0;k<4;k++)N+=String.fromCharCode(C[M++]);return N}function u(C,M){return C[M+0]|C[M+1]<<8}function f(C,M){return(C[M+0]|C[M+1]<<8|C[M+2]<<16)>>>0}function h(C,M){return(C[M+0]|C[M+1]<<8|C[M+2]<<16|C[M+3]<<24)>>>0}new l;var p=[0],y=[0],b=[],x=new l,v=t,w=function(C,M){var N={},k=0,j=!1,B=0,G=0;if(N.frames=[],!function($,K){for(var re=0;re<4;re++)if($[K+re]!="RIFF".charCodeAt(re))return!0;return!1}(C,M)){for(h(C,M+=4),M+=8;M<C.length;){var Z=c(C,M),ie=h(C,M+=4);M+=4;var X=ie+(1&ie);switch(Z){case"VP8 ":case"VP8L":N.frames[k]===void 0&&(N.frames[k]={}),(de=N.frames[k]).src_off=j?G:M-8,de.src_size=B+ie+8,k++,j&&(j=!1,B=0,G=0);break;case"VP8X":(de=N.header={}).feature_flags=C[M];var ae=M+4;de.canvas_width=1+f(C,ae),ae+=3,de.canvas_height=1+f(C,ae),ae+=3;break;case"ALPH":j=!0,B=X+8,G=M-8;break;case"ANIM":(de=N.header).bgcolor=h(C,M),ae=M+4,de.loop_count=u(C,ae),ae+=2;break;case"ANMF":var ue,de;(de=N.frames[k]={}).offset_x=2*f(C,M),M+=3,de.offset_y=2*f(C,M),M+=3,de.width=1+f(C,M),M+=3,de.height=1+f(C,M),M+=3,de.duration=f(C,M),M+=3,ue=C[M++],de.dispose=1&ue,de.blend=ue>>1&1}Z!="ANMF"&&(M+=X)}return N}}(v,0);w.response=v,w.rgbaoutput=!0,w.dataurl=!1;var S=w.header?w.header:null,A=w.frames?w.frames:null;if(S){S.loop_counter=S.loop_count,p=[S.canvas_height],y=[S.canvas_width];for(var P=0;P<A.length&&A[P].blend!=0;P++);}var O=A[0],I=x.WebPDecodeRGBA(v,O.src_off,O.src_size,y,p);O.rgba=I,O.imgwidth=y[0],O.imgheight=p[0];for(var E=0;E<y[0]*p[0]*4;E++)b[E]=I[E];return this.width=y,this.height=p,this.data=b,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function hLe(){var t,e=this.internal.__metadata__.metadata,n=unescape(encodeURIComponent(e));t=this.internal.__metadata__.rawXml?n:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function pLe(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var e,n,r,i,a,s,o,l,c,u=function($){return $=$||{},this.isStrokeTransparent=$.isStrokeTransparent||!1,this.strokeOpacity=$.strokeOpacity||1,this.strokeStyle=$.strokeStyle||"#000000",this.fillStyle=$.fillStyle||"#000000",this.isFillTransparent=$.isFillTransparent||!1,this.fillOpacity=$.fillOpacity||1,this.font=$.font||"10px sans-serif",this.textBaseline=$.textBaseline||"alphabetic",this.textAlign=$.textAlign||"left",this.lineWidth=$.lineWidth||1,this.lineJoin=$.lineJoin||"miter",this.lineCap=$.lineCap||"butt",this.path=$.path||[],this.transform=$.transform!==void 0?$.transform.clone():new l,this.globalCompositeOperation=$.globalCompositeOperation||"normal",this.globalAlpha=$.globalAlpha||1,this.clip_path=$.clip_path||[],this.currentPoint=$.currentPoint||new s,this.miterLimit=$.miterLimit||10,this.lastPoint=$.lastPoint||new s,this.lineDashOffset=$.lineDashOffset||0,this.lineDash=$.lineDash||[],this.margin=$.margin||[0,0,0,0],this.prevPageLastElemOffset=$.prevPageLastElemOffset||0,this.ignoreClearRect=typeof $.ignoreClearRect!="boolean"||$.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function($){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=$;Object.defineProperty(this,"pdf",{get:function(){return K}});var re=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return re},set:function(q){re=!!q}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(q){se=!!q}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(q){isNaN(q)||(le=q)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(q){isNaN(q)||(me=q)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(q){var Ie;typeof q=="number"?Ie=[q,q,q,q]:((Ie=new Array(4))[0]=q[0],Ie[1]=q.length>=2?q[1]:Ie[0],Ie[2]=q.length>=3?q[2]:Ie[0],Ie[3]=q.length>=4?q[3]:Ie[1]),c.margin=Ie}});var Se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Se},set:function(q){Se=q}});var ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return ce},set:function(q){ce=q}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(q){xe=q}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(q){q instanceof u&&(c=q)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(q){c.path=q}});var Ne=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ne},set:function(q){Ne=q}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(q){var Ie;Ie=h(q),this.ctx.fillStyle=Ie.style,this.ctx.isFillTransparent=Ie.a===0,this.ctx.fillOpacity=Ie.a,this.pdf.setFillColor(Ie.r,Ie.g,Ie.b,{a:Ie.a}),this.pdf.setTextColor(Ie.r,Ie.g,Ie.b,{a:Ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(q){var Ie=h(q);this.ctx.strokeStyle=Ie.style,this.ctx.isStrokeTransparent=Ie.a===0,this.ctx.strokeOpacity=Ie.a,Ie.a===0?this.pdf.setDrawColor(255,255,255):(Ie.a,this.pdf.setDrawColor(Ie.r,Ie.g,Ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(q){["butt","round","square"].indexOf(q)!==-1&&(this.ctx.lineCap=q,this.pdf.setLineCap(q))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(q){isNaN(q)||(this.ctx.lineWidth=q,this.pdf.setLineWidth(q))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(q){["bevel","round","miter"].indexOf(q)!==-1&&(this.ctx.lineJoin=q,this.pdf.setLineJoin(q))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(q){isNaN(q)||(this.ctx.miterLimit=q,this.pdf.setMiterLimit(q))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(q){this.ctx.textBaseline=q}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(q){["right","end","center","left","start"].indexOf(q)!==-1&&(this.ctx.textAlign=q)}});var ye=null,Me=null,$e=null;Object.defineProperty(this,"fontFaces",{get:function(){return $e},set:function(q){ye=null,Me=null,$e=q}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(q){var Ie;if(this.ctx.font=q,(Ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(q))!==null){var Ye=Ie[1];Ie[2];var Ze=Ie[3],je=Ie[4];Ie[5];var tt=Ie[6],qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(je)[2];je=Math.floor(qe==="px"?parseFloat(je)*this.pdf.internal.scaleFactor:qe==="em"?parseFloat(je)*this.pdf.getFontSize():parseFloat(je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(je);var nt=function(ut){var Tn,Kt,Dt=[],Ot=ut.trim();if(Ot==="")return q_;if(Ot in aD)return[aD[Ot]];for(;Ot!=="";){switch(Kt=null,Tn=(Ot=oD(Ot)).charAt(0)){case'"':case"'":Kt=oLe(Ot.substring(1),Tn);break;default:Kt=lLe(Ot)}if(Kt===null||(Dt.push(Kt[0]),(Ot=oD(Kt[1]))!==""&&Ot.charAt(0)!==","))return q_;Ot=Ot.replace(/^,/,"")}return Dt}(tt);if(this.fontFaces){var rt=function(ut,Tn){var Kt=ut.getFontList(),Dt=JSON.stringify(Kt);if(ye===null||Me!==Dt){var Ot=function(Ln){var pt=[];return Object.keys(Ln).forEach(function(hn){Ln[hn].forEach(function(vt){var Et=null;switch(vt){case"bold":Et={family:hn,weight:"bold"};break;case"italic":Et={family:hn,style:"italic"};break;case"bolditalic":Et={family:hn,weight:"bold",style:"italic"};break;case"":case"normal":Et={family:hn}}Et!==null&&(Et.ref={name:hn,style:vt},pt.push(Et))})}),pt}(Kt);ye=function(Ln){for(var pt={},hn=0;hn<Ln.length;++hn){var vt=z_(Ln[hn]),Et=vt.family,pn=vt.stretch,Ft=vt.style,mt=vt.weight;pt[Et]=pt[Et]||{},pt[Et][pn]=pt[Et][pn]||{},pt[Et][pn][Ft]=pt[Et][pn][Ft]||{},pt[Et][pn][Ft][mt]=vt}return pt}(Ot.concat(Tn)),Me=Dt}return ye}(this.pdf,this.fontFaces),Wt=nt.map(function(ut){return{family:ut,stretch:"normal",weight:Ze,style:Ye}}),Mt=function(ut,Tn,Kt){for(var Dt=(Kt=Kt||{}).defaultFontFamily||"times",Ot=Object.assign({},sLe,Kt.genericFontFamilies||{}),Ln=null,pt=null,hn=0;hn<Tn.length;++hn)if(Ot[(Ln=z_(Tn[hn])).family]&&(Ln.family=Ot[Ln.family]),ut.hasOwnProperty(Ln.family)){pt=ut[Ln.family];break}if(!(pt=pt||ut[Dt]))throw new Error("Could not find a font-family for the rule '"+sD(Ln)+"' and default family '"+Dt+"'.");if(pt=function(vt,Et){if(Et[vt])return Et[vt];var pn=PE[vt],Ft=pn<=PE.normal?-1:1,mt=iD(Et,zW,pn,Ft);if(!mt)throw new Error("Could not find a matching font-stretch value for "+vt);return mt}(Ln.stretch,pt),pt=function(vt,Et){if(Et[vt])return Et[vt];for(var pn=UW[vt],Ft=0;Ft<pn.length;++Ft)if(Et[pn[Ft]])return Et[pn[Ft]];throw new Error("Could not find a matching font-style for "+vt)}(Ln.style,pt),!(pt=function(vt,Et){if(Et[vt])return Et[vt];if(vt===400&&Et[500])return Et[500];if(vt===500&&Et[400])return Et[400];var pn=aLe[vt],Ft=iD(Et,qW,pn,vt<400?-1:1);if(!Ft)throw new Error("Could not find a matching font-weight for value "+vt);return Ft}(Ln.weight,pt)))throw new Error("Failed to resolve a font for the rule '"+sD(Ln)+"'.");return pt}(rt,Wt);this.pdf.setFont(Mt.ref.name,Mt.ref.style)}else{var ct="";(Ze==="bold"||parseInt(Ze,10)>=700||Ye==="bold")&&(ct="bold"),Ye==="italic"&&(ct+="italic"),ct.length===0&&(ct="normal");for(var xt="",$t={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},it=0;it<nt.length;it++){if(this.pdf.internal.getFont(nt[it],ct,{noFallback:!0,disableWarning:!0})!==void 0){xt=nt[it];break}if(ct==="bolditalic"&&this.pdf.internal.getFont(nt[it],"bold",{noFallback:!0,disableWarning:!0})!==void 0)xt=nt[it],ct="bold";else if(this.pdf.internal.getFont(nt[it],"normal",{noFallback:!0,disableWarning:!0})!==void 0){xt=nt[it],ct="normal";break}}if(xt===""){for(var Tt=0;Tt<nt.length;Tt++)if($t[nt[Tt]]){xt=$t[nt[Tt]];break}}xt=xt===""?"Times":xt,this.pdf.setFont(xt,ct)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(q){this.ctx.globalCompositeOperation=q}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(q){this.ctx.globalAlpha=q}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(q){this.ctx.lineDashOffset=q,de.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(q){this.ctx.lineDash=q,de.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(q){this.ctx.ignoreClearRect=!!q}})};f.prototype.setLineDash=function($){this.lineDash=$},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){A.call(this,"fill",!1)},f.prototype.stroke=function(){A.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function($,K){if(isNaN($)||isNaN(K))throw jn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var re=this.ctx.transform.applyToPoint(new s($,K));this.path.push({type:"mt",x:re.x,y:re.y}),this.ctx.lastPoint=new s($,K)},f.prototype.closePath=function(){var $=new s(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&_n(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){$=new s(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s($.x,$.y)},f.prototype.lineTo=function($,K){if(isNaN($)||isNaN(K))throw jn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var re=this.ctx.transform.applyToPoint(new s($,K));this.path.push({type:"lt",x:re.x,y:re.y}),this.ctx.lastPoint=new s(re.x,re.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},f.prototype.quadraticCurveTo=function($,K,re,se){if(isNaN(re)||isNaN(se)||isNaN($)||isNaN(K))throw jn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new s(re,se)),me=this.ctx.transform.applyToPoint(new s($,K));this.path.push({type:"qct",x1:me.x,y1:me.y,x:le.x,y:le.y}),this.ctx.lastPoint=new s(le.x,le.y)},f.prototype.bezierCurveTo=function($,K,re,se,le,me){if(isNaN(le)||isNaN(me)||isNaN($)||isNaN(K)||isNaN(re)||isNaN(se))throw jn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Se=this.ctx.transform.applyToPoint(new s(le,me)),ce=this.ctx.transform.applyToPoint(new s($,K)),xe=this.ctx.transform.applyToPoint(new s(re,se));this.path.push({type:"bct",x1:ce.x,y1:ce.y,x2:xe.x,y2:xe.y,x:Se.x,y:Se.y}),this.ctx.lastPoint=new s(Se.x,Se.y)},f.prototype.arc=function($,K,re,se,le,me){if(isNaN($)||isNaN(K)||isNaN(re)||isNaN(se)||isNaN(le))throw jn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var Se=this.ctx.transform.applyToPoint(new s($,K));$=Se.x,K=Se.y;var ce=this.ctx.transform.applyToPoint(new s(0,re)),xe=this.ctx.transform.applyToPoint(new s(0,0));re=Math.sqrt(Math.pow(ce.x-xe.x,2)+Math.pow(ce.y-xe.y,2))}Math.abs(le-se)>=2*Math.PI&&(se=0,le=2*Math.PI),this.path.push({type:"arc",x:$,y:K,radius:re,startAngle:se,endAngle:le,counterclockwise:me})},f.prototype.arcTo=function($,K,re,se,le){throw new Error("arcTo not implemented.")},f.prototype.rect=function($,K,re,se){if(isNaN($)||isNaN(K)||isNaN(re)||isNaN(se))throw jn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo($,K),this.lineTo($+re,K),this.lineTo($+re,K+se),this.lineTo($,K+se),this.lineTo($,K),this.lineTo($+re,K),this.lineTo($,K)},f.prototype.fillRect=function($,K,re,se){if(isNaN($)||isNaN(K)||isNaN(re)||isNaN(se))throw jn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect($,K,re,se),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},f.prototype.strokeRect=function($,K,re,se){if(isNaN($)||isNaN(K)||isNaN(re)||isNaN(se))throw jn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect($,K,re,se),this.stroke())},f.prototype.clearRect=function($,K,re,se){if(isNaN($)||isNaN(K)||isNaN(re)||isNaN(se))throw jn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect($,K,re,se))},f.prototype.save=function($){$=typeof $!="boolean"||$;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),$){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},f.prototype.restore=function($){$=typeof $!="boolean"||$;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("Q");this.pdf.setPage(K),$&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function($){var K,re,se,le;if($.isCanvasGradient===!0&&($=$.getColor()),!$)return{r:0,g:0,b:0,a:0,style:$};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test($))K=0,re=0,se=0,le=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec($);if(me!==null)K=parseInt(me[1]),re=parseInt(me[2]),se=parseInt(me[3]),le=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec($))!==null)K=parseInt(me[1]),re=parseInt(me[2]),se=parseInt(me[3]),le=parseFloat(me[4]);else{if(le=1,typeof $=="string"&&$.charAt(0)!=="#"){var Se=new LW($);$=Se.ok?Se.toHex():"#000000"}$.length===4?(K=$.substring(1,2),K+=K,re=$.substring(2,3),re+=re,se=$.substring(3,4),se+=se):(K=$.substring(1,3),re=$.substring(3,5),se=$.substring(5,7)),K=parseInt(K,16),re=parseInt(re,16),se=parseInt(se,16)}}return{r:K,g:re,b:se,a:le,style:$}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function($,K,re,se){if(isNaN(K)||isNaN(re)||typeof $!="string")throw jn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!p.call(this)){var le=X(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;k.call(this,{text:$,x:K,y:re,scale:me,angle:le,align:this.textAlign,maxWidth:se})}},f.prototype.strokeText=function($,K,re,se){if(isNaN(K)||isNaN(re)||typeof $!="string")throw jn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){se=isNaN(se)?void 0:se;var le=X(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;k.call(this,{text:$,x:K,y:re,scale:me,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:se})}},f.prototype.measureText=function($){if(typeof $!="string")throw jn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,re=this.pdf.internal.scaleFactor,se=K.internal.getFontSize(),le=K.getStringUnitWidth($)*se/K.internal.scaleFactor;return new function(me){var Se=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Se}}),this}({width:le*=Math.round(96*re/72*1e4)/1e4})},f.prototype.scale=function($,K){if(isNaN($)||isNaN(K))throw jn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var re=new l($,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(re)},f.prototype.rotate=function($){if(isNaN($))throw jn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new l(Math.cos($),Math.sin($),-Math.sin($),Math.cos($),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.translate=function($,K){if(isNaN($)||isNaN(K))throw jn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var re=new l(1,0,0,1,$,K);this.ctx.transform=this.ctx.transform.multiply(re)},f.prototype.transform=function($,K,re,se,le,me){if(isNaN($)||isNaN(K)||isNaN(re)||isNaN(se)||isNaN(le)||isNaN(me))throw jn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Se=new l($,K,re,se,le,me);this.ctx.transform=this.ctx.transform.multiply(Se)},f.prototype.setTransform=function($,K,re,se,le,me){$=isNaN($)?1:$,K=isNaN(K)?0:K,re=isNaN(re)?0:re,se=isNaN(se)?1:se,le=isNaN(le)?0:le,me=isNaN(me)?0:me,this.ctx.transform=new l($,K,re,se,le,me)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function($,K,re,se,le,me,Se,ce,xe){var Ne=this.pdf.getImageProperties($),ye=1,Me=1,$e=1,q=1;se!==void 0&&ce!==void 0&&($e=ce/se,q=xe/le,ye=Ne.width/se*ce/se,Me=Ne.height/le*xe/le),me===void 0&&(me=K,Se=re,K=0,re=0),se!==void 0&&ce===void 0&&(ce=se,xe=le),se===void 0&&ce===void 0&&(ce=Ne.width,xe=Ne.height);var Ie=this.ctx.transform.decompose(),Ye=X(Ie.rotate.shx),Ze=new l,je=(Ze=(Ze=(Ze=Ze.multiply(Ie.translate)).multiply(Ie.skew)).multiply(Ie.scale)).applyToRectangle(new o(me-K*$e,Se-re*q,se*ye,le*Me));if(this.autoPaging){for(var tt,qe=x.call(this,je),nt=[],rt=0;rt<qe.length;rt+=1)nt.indexOf(qe[rt])===-1&&nt.push(qe[rt]);S(nt);for(var Wt=nt[0],Mt=nt[nt.length-1],ct=Wt;ct<Mt+1;ct++){this.pdf.setPage(ct);var xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$t=ct===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=ct===1?0:it+(ct-2)*Tt;if(this.ctx.clip_path.length!==0){var Tn=this.path;tt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(tt,this.posX+this.margin[3],-ut+$t+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=Tn}var Kt=JSON.parse(JSON.stringify(je));Kt=w([Kt],this.posX+this.margin[3],-ut+$t+this.ctx.prevPageLastElemOffset)[0];var Dt=(ct>Wt||ct<Mt)&&b.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,Tt,null).clip().discardPath()),this.pdf.addImage($,"JPEG",Kt.x,Kt.y,Kt.w,Kt.h,null,null,Ye),Dt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage($,"JPEG",je.x,je.y,je.w,je.h,null,null,Ye)};var x=function($,K,re){var se=[];K=K||this.pdf.internal.pageSize.width,re=re||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch($.type){default:case"mt":case"lt":se.push(Math.floor(($.y+le)/re)+1);break;case"arc":se.push(Math.floor(($.y+le-$.radius)/re)+1),se.push(Math.floor(($.y+le+$.radius)/re)+1);break;case"qct":var me=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x,$.y);se.push(Math.floor((me.y+le)/re)+1),se.push(Math.floor((me.y+me.h+le)/re)+1);break;case"bct":var Se=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x2,$.y2,$.x,$.y);se.push(Math.floor((Se.y+le)/re)+1),se.push(Math.floor((Se.y+Se.h+le)/re)+1);break;case"rect":se.push(Math.floor(($.y+le)/re)+1),se.push(Math.floor(($.y+$.h+le)/re)+1)}for(var ce=0;ce<se.length;ce+=1)for(;this.pdf.internal.getNumberOfPages()<se[ce];)v.call(this);return se},v=function(){var $=this.fillStyle,K=this.strokeStyle,re=this.font,se=this.lineCap,le=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=$,this.strokeStyle=K,this.font=re,this.lineCap=se,this.lineWidth=le,this.lineJoin=me},w=function($,K,re){for(var se=0;se<$.length;se++)switch($[se].type){case"bct":$[se].x2+=K,$[se].y2+=re;case"qct":$[se].x1+=K,$[se].y1+=re;default:$[se].x+=K,$[se].y+=re}return $},S=function($){return $.sort(function(K,re){return K-re})},A=function($,K){var re=this.fillStyle,se=this.strokeStyle,le=this.lineCap,me=this.lineWidth,Se=Math.abs(me*this.ctx.transform.scaleX),ce=this.lineJoin;if(this.autoPaging){for(var xe,Ne,ye=JSON.parse(JSON.stringify(this.path)),Me=JSON.parse(JSON.stringify(this.path)),$e=[],q=0;q<Me.length;q++)if(Me[q].x!==void 0)for(var Ie=x.call(this,Me[q]),Ye=0;Ye<Ie.length;Ye+=1)$e.indexOf(Ie[Ye])===-1&&$e.push(Ie[Ye]);for(var Ze=0;Ze<$e.length;Ze++)for(;this.pdf.internal.getNumberOfPages()<$e[Ze];)v.call(this);S($e);for(var je=$e[0],tt=$e[$e.length-1],qe=je;qe<tt+1;qe++){this.pdf.setPage(qe),this.fillStyle=re,this.strokeStyle=se,this.lineCap=le,this.lineWidth=Se,this.lineJoin=ce;var nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rt=qe===1?this.posY+this.margin[0]:this.margin[0],Wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=qe===1?0:Wt+(qe-2)*Mt;if(this.ctx.clip_path.length!==0){var xt=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(xe,this.posX+this.margin[3],-ct+rt+this.ctx.prevPageLastElemOffset),P.call(this,$,!0),this.path=xt}if(Ne=JSON.parse(JSON.stringify(ye)),this.path=w(Ne,this.posX+this.margin[3],-ct+rt+this.ctx.prevPageLastElemOffset),K===!1||qe===0){var $t=(qe>je||qe<tt)&&b.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nt,Mt,null).clip().discardPath()),P.call(this,$,K),$t&&this.pdf.restoreGraphicsState()}this.lineWidth=me}this.path=ye}else this.lineWidth=Se,P.call(this,$,K),this.lineWidth=me},P=function($,K){if(($!=="stroke"||K||!y.call(this))&&($==="stroke"||K||!p.call(this))){for(var re,se,le=[],me=this.path,Se=0;Se<me.length;Se++){var ce=me[Se];switch(ce.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:ce,deltas:[],abs:[]});break;case"lt":var xe=le.length;if(me[Se-1]&&!isNaN(me[Se-1].x)&&(re=[ce.x-me[Se-1].x,ce.y-me[Se-1].y],xe>0)){for(;xe>=0;xe--)if(le[xe-1].close!==!0&&le[xe-1].begin!==!0){le[xe-1].deltas.push(re),le[xe-1].abs.push(ce);break}}break;case"bct":re=[ce.x1-me[Se-1].x,ce.y1-me[Se-1].y,ce.x2-me[Se-1].x,ce.y2-me[Se-1].y,ce.x-me[Se-1].x,ce.y-me[Se-1].y],le[le.length-1].deltas.push(re);break;case"qct":var Ne=me[Se-1].x+2/3*(ce.x1-me[Se-1].x),ye=me[Se-1].y+2/3*(ce.y1-me[Se-1].y),Me=ce.x+2/3*(ce.x1-ce.x),$e=ce.y+2/3*(ce.y1-ce.y),q=ce.x,Ie=ce.y;re=[Ne-me[Se-1].x,ye-me[Se-1].y,Me-me[Se-1].x,$e-me[Se-1].y,q-me[Se-1].x,Ie-me[Se-1].y],le[le.length-1].deltas.push(re);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(ce)}}se=K?null:$==="stroke"?"stroke":"fill";for(var Ye=!1,Ze=0;Ze<le.length;Ze++)if(le[Ze].arc)for(var je=le[Ze].abs,tt=0;tt<je.length;tt++){var qe=je[tt];qe.type==="arc"?E.call(this,qe.x,qe.y,qe.radius,qe.startAngle,qe.endAngle,qe.counterclockwise,void 0,K,!Ye):j.call(this,qe.x,qe.y),Ye=!0}else if(le[Ze].close===!0)this.pdf.internal.out("h"),Ye=!1;else if(le[Ze].begin!==!0){var nt=le[Ze].start.x,rt=le[Ze].start.y;B.call(this,le[Ze].deltas,nt,rt),Ye=!0}se&&C.call(this,se),K&&M.call(this)}},O=function($){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,re=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return $-re;case"top":return $+K-re;case"hanging":return $+K-2*re;case"middle":return $+K/2-re;default:return $}},I=function($){return $+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var $=function(){};return $.colorStops=[],$.addColorStop=function(K,re){this.colorStops.push([K,re])},$.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},$.isCanvasGradient=!0,$},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function($,K,re,se,le,me,Se,ce,xe){for(var Ne=Z.call(this,re,se,le,me),ye=0;ye<Ne.length;ye++){var Me=Ne[ye];ye===0&&(xe?N.call(this,Me.x1+$,Me.y1+K):j.call(this,Me.x1+$,Me.y1+K)),G.call(this,$,K,Me.x2,Me.y2,Me.x3,Me.y3,Me.x4,Me.y4)}ce?M.call(this):C.call(this,Se)},C=function($){switch($){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},N=function($,K){this.pdf.internal.out(n($)+" "+r(K)+" m")},k=function($){var K;switch($.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var re,se,le,me=this.pdf.getTextDimensions($.text),Se=O.call(this,$.y),ce=I.call(this,Se)-me.h,xe=this.ctx.transform.applyToPoint(new s($.x,Se));if(this.autoPaging){var Ne=this.ctx.transform.decompose(),ye=new l;ye=(ye=(ye=ye.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale);for(var Me=this.ctx.transform.applyToRectangle(new o($.x,Se,me.w,me.h)),$e=ye.applyToRectangle(new o($.x,ce,me.w,me.h)),q=x.call(this,$e),Ie=[],Ye=0;Ye<q.length;Ye+=1)Ie.indexOf(q[Ye])===-1&&Ie.push(q[Ye]);S(Ie);for(var Ze=Ie[0],je=Ie[Ie.length-1],tt=Ze;tt<je+1;tt++){this.pdf.setPage(tt);var qe=tt===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rt=this.pdf.internal.pageSize.height-this.margin[2],Wt=rt-this.margin[0],Mt=this.pdf.internal.pageSize.width-this.margin[1],ct=Mt-this.margin[3],xt=tt===1?0:nt+(tt-2)*Wt;if(this.ctx.clip_path.length!==0){var $t=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(re,this.posX+this.margin[3],-1*xt+qe),P.call(this,"fill",!0),this.path=$t}var it=w([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-xt+qe+this.ctx.prevPageLastElemOffset)[0];$.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*$.scale),le=this.lineWidth,this.lineWidth=le*$.scale);var Tt=this.autoPaging!=="text";if(Tt||it.y+it.h<=rt){if(Tt||it.y>=qe&&it.x<=Mt){var ut=Tt?$.text:this.pdf.splitTextToSize($.text,$.maxWidth||Mt-it.x)[0],Tn=w([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-xt+qe+this.ctx.prevPageLastElemOffset)[0],Kt=Tt&&(tt>Ze||tt<je)&&b.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,Wt,null).clip().discardPath()),this.pdf.text(ut,Tn.x,Tn.y,{angle:$.angle,align:K,renderingMode:$.renderingMode}),Kt&&this.pdf.restoreGraphicsState()}}else it.y<rt&&(this.ctx.prevPageLastElemOffset+=rt-it.y);$.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=le)}}else $.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*$.scale),le=this.lineWidth,this.lineWidth=le*$.scale),this.pdf.text($.text,xe.x+this.posX,xe.y+this.posY,{angle:$.angle,align:K,renderingMode:$.renderingMode,maxWidth:$.maxWidth}),$.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=le)},j=function($,K,re,se){re=re||0,se=se||0,this.pdf.internal.out(n($+re)+" "+r(K+se)+" l")},B=function($,K,re){return this.pdf.lines($,K,re,null,null)},G=function($,K,re,se,le,me,Se,ce){this.pdf.internal.out([e(i(re+$)),e(a(se+K)),e(i(le+$)),e(a(me+K)),e(i(Se+$)),e(a(ce+K)),"c"].join(" "))},Z=function($,K,re,se){for(var le=2*Math.PI,me=Math.PI/2;K>re;)K-=le;var Se=Math.abs(re-K);Se<le&&se&&(Se=le-Se);for(var ce=[],xe=se?-1:1,Ne=K;Se>1e-5;){var ye=Ne+xe*Math.min(Se,me);ce.push(ie.call(this,$,Ne,ye)),Se-=Math.abs(ye-Ne),Ne=ye}return ce},ie=function($,K,re){var se=(re-K)/2,le=$*Math.cos(se),me=$*Math.sin(se),Se=le,ce=-me,xe=Se*Se+ce*ce,Ne=xe+Se*le+ce*me,ye=4/3*(Math.sqrt(2*xe*Ne)-Ne)/(Se*me-ce*le),Me=Se-ye*ce,$e=ce+ye*Se,q=Me,Ie=-$e,Ye=se+K,Ze=Math.cos(Ye),je=Math.sin(Ye);return{x1:$*Math.cos(K),y1:$*Math.sin(K),x2:Me*Ze-$e*je,y2:Me*je+$e*Ze,x3:q*Ze-Ie*je,y3:q*je+Ie*Ze,x4:$*Math.cos(re),y4:$*Math.sin(re)}},X=function($){return 180*$/Math.PI},ae=function($,K,re,se,le,me){var Se=$+.5*(re-$),ce=K+.5*(se-K),xe=le+.5*(re-le),Ne=me+.5*(se-me),ye=Math.min($,le,Se,xe),Me=Math.max($,le,Se,xe),$e=Math.min(K,me,ce,Ne),q=Math.max(K,me,ce,Ne);return new o(ye,$e,Me-ye,q-$e)},ue=function($,K,re,se,le,me,Se,ce){var xe,Ne,ye,Me,$e,q,Ie,Ye,Ze,je,tt,qe,nt,rt,Wt=re-$,Mt=se-K,ct=le-re,xt=me-se,$t=Se-le,it=ce-me;for(Ne=0;Ne<41;Ne++)Ze=(Ie=(ye=$+(xe=Ne/40)*Wt)+xe*(($e=re+xe*ct)-ye))+xe*($e+xe*(le+xe*$t-$e)-Ie),je=(Ye=(Me=K+xe*Mt)+xe*((q=se+xe*xt)-Me))+xe*(q+xe*(me+xe*it-q)-Ye),Ne==0?(tt=Ze,qe=je,nt=Ze,rt=je):(tt=Math.min(tt,Ze),qe=Math.min(qe,je),nt=Math.max(nt,Ze),rt=Math.max(rt,je));return new o(Math.round(tt),Math.round(qe),Math.round(nt-tt),Math.round(rt-qe))},de=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var $,K,re=($=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:$,lineDashOffset:K}));this.prevLineDash!==re&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=re)}}})(ht.API),function(t){var e=function(s){var o,l,c,u,f,h,p,y,b,x;for(l=[],c=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(f=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(h=(f=((f=((f=((f=(f-(x=f%85))/85)-(b=f%85))/85)-(y=f%85))/85)-(p=f%85))/85)%85,l.push(h+33,p+33,y+33,b+33,x+33)):l.push(122);return function(v,w){for(var S=w;S>0;S--)v.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(s){var o,l,c,u,f,h=String,p="length",y=255,b="charCodeAt",x="slice",v="replace";for(s[x](-2),s=s[x](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),c=[],u=0,f=(s+=o="uuuuu"[x](s[p]%5||5))[p];f>u;u+=5)l=52200625*(s[b](u)-33)+614125*(s[b](u+1)-33)+7225*(s[b](u+2)-33)+85*(s[b](u+3)-33)+(s[b](u+4)-33),c.push(y&l>>24,y&l>>16,y&l>>8,y&l);return function(w,S){for(var A=S;A>0;A--)w.pop()}(c,o[p]),h.fromCharCode.apply(h,c)},r=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=xE(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,o){var l=0,c=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(ht.API),function(t){t.loadFile=function(e,n,r){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,h=0,p=function(y){var b=y.length,x=[],v=String.fromCharCode;for(h=0;h<b;h+=1)x.push(v(255&y.charCodeAt(h)));return x.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(p(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return p(f.responseText)}(i,a,s)}catch{}return o}(e,n,r)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile}(ht.API),function(t){function e(){return(Nt.html2canvas?Promise.resolve(Nt.html2canvas):N_(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Nt.DOMPurify?Promise.resolve(Nt.DOMPurify):N_(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=_n(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},a=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(o(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var y=u[p],b=y.src.find(function(x){return x.format==="truetype"});b&&c.addFont(b.url,y.ref.name,y.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,u),h}).then(u,f).then(function(h){return c.updateProgress(1),h})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:s.convert(Object.assign({},u),Promise.prototype),h=c.call(f,o,l);return s.convert(h,u.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ht.getPageSize=function(o,l,c){if(_n(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,h=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var y,b=0,x=0;if(p.hasOwnProperty(h))b=p[h][1]/f,x=p[h][0]/f;else try{b=c[1],x=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",x>b&&(y=x,x=b,b=y);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",b>x&&(y=x,x=b,b=y)}return{width:x,height:b,unit:l,k:f,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(z_):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}}(ht.API),ht.API.addJS=function(t){var e,n,r=function(i){for(var a="",s=0;s<i.length;s++){var o=i[s];if(o==="("||o===")"){for(var l=0,c=s-1;c>=0&&i[c]==="\\";c--)l++;a+=l%2==0?"\\"+o:o}else a+=o}return a}(t);return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&n!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=r.exec(s);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(a=0;a<c;a++){var f=n.internal.newObject();u.push(f);var h=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<u.length;a++)n.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(ht.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,a,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,b={width:0,height:0,numcomponents:1},x=4;x<y;x+=2){if(x+=p,e.indexOf(f.charCodeAt(x+1))!==-1){h=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),b={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:h,numcomponents:f.charCodeAt(x+9)};break}p=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(ht.API),ht.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=WRe(t,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,c=a.palette,u=a.depth;i=c&&l===1?function(E){for(var C=E.width,M=E.height,N=E.data,k=E.palette,j=E.depth,B=!1,G=[],Z=[],ie=void 0,X=!1,ae=0,ue=0;ue<k.length;ue++){var de=hM(k[ue],4),$=de[0],K=de[1],re=de[2],se=de[3];G.push($,K,re),se!=null&&(se===0?(ae++,Z.length<1&&Z.push(ue)):se<255&&(X=!0))}if(X||ae>1){B=!0,Z=void 0;var le=C*M;ie=new Uint8Array(le);for(var me=new DataView(N.buffer),Se=0;Se<le;Se++){var ce=W_(me,Se,j),xe=hM(k[ce],4)[3];ie[Se]=xe}}else ae===0&&(Z=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:B?8:void 0,colorBytes:N,alphaBytes:ie,needSMask:B,palette:G,mask:Z}}(a):l===2||l===4?function(E){for(var C=E.data,M=E.width,N=E.height,k=E.channels,j=E.depth,B=k===2?"DeviceGray":"DeviceRGB",G=k-1,Z=M*N,ie=G,X=Z*ie,ae=1*Z,ue=Math.ceil(X*j/8),de=Math.ceil(ae*j/8),$=new Uint8Array(ue),K=new Uint8Array(de),re=new DataView(C.buffer),se=new DataView($.buffer),le=new DataView(K.buffer),me=!1,Se=0;Se<Z;Se++){for(var ce=Se*k,xe=0;xe<ie;xe++)gD(se,W_(re,ce+xe,j),Se*ie+xe,j);var Ne=W_(re,ce+ie,j);Ne<(1<<j)-1&&(me=!0),gD(le,Ne,1*Se,j)}return{colorSpace:B,colorsPerPixel:G,sMaskBitsPerComponent:me?j:void 0,colorBytes:$,alphaBytes:K,needSMask:me}}(a):function(E){var C=E.data,M=E.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:M,colorsPerPixel:M==="DeviceGray"?1:3,colorBytes:C instanceof Uint16Array?function(N){for(var k=N.length,j=new Uint8Array(2*k),B=new DataView(j.buffer,j.byteOffset,j.byteLength),G=0;G<k;G++)B.setUint16(2*G,N[G],!1);return j}(C):C,needSMask:!1}}(a);var f,h,p,y=i,b=y.colorSpace,x=y.colorsPerPixel,v=y.sMaskBitsPerComponent,w=y.colorBytes,S=y.alphaBytes,A=y.needSMask,P=y.palette,O=y.mask,I=null;return r!==ht.API.image_compression.NONE&&typeof xE=="function"?(I=function(E){var C;switch(E){case ht.API.image_compression.FAST:C=11;break;case ht.API.image_compression.MEDIUM:C=13;break;case ht.API.image_compression.SLOW:C=14;break;default:C=12}return C}(r),f=this.decode.FLATE_DECODE,h="/Predictor ".concat(I," /Colors ").concat(x," /BitsPerComponent ").concat(u," /Columns ").concat(s),t=fD(w,Math.ceil(s*x*u/8),x,u,r),A&&(p=fD(S,Math.ceil(s*v/8),1,v,r))):(f=void 0,h=void 0,t=w,A&&(p=S)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:f,decodeParameters:h,transparency:O,palette:P,sMask:p,predictor:I,width:s,height:o,bitsPerComponent:u,sMaskBitsPerComponent:v,colorSpace:b}}},function(t){t.processGIF89A=function(e,n,r,i){var a=new dLe(e),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new H_(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A}(ht.API),Zs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Zs.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[t]()}catch(n){jn.log("bit decode error:"+n)}},Zs.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}n!==0&&(this.pos+=4-n)}},Zs.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,o=a>>4,l=15&a,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Zs.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Zs.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,c=a>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=t}},Zs.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&n)/n*255|0,c=(s>>11)/e*255|0,u=i*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},Zs.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Zs.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=s}},Zs.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var a=new Zs(e,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new H_(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(ht.API),vD.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var a=new vD(e),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new H_(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(ht.API),ht.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=r[c],f=r[c+1],h=r[c+2],p=r[c+3];a[o++]=u,a[o++]=f,a[o++]=h,s[l++]=p}var y=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:y,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ht.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},qd=ht.API,a1=qd.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=e.doKerning!==!1,h=0,p=t.length,y=0,b=o[0]||l,x=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(h=f&&_n(c[r])==="object"&&!isNaN(parseInt(c[r][y],10))?c[r][y]/u:0,x.push((o[r]||b)/l+h)),y=r;return x},lD=qd.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return qd.processArabic&&(t=qd.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:a1.apply(this,arguments).reduce(function(a,s){return a+s},0)},cD=function(t,e,n,r){for(var i=[],a=0,s=t.length,o=0;a!==s&&o+e[a]<n;)o+=e[a],a++;i.push(t.slice(0,a));var l=a;for(o=0;a!==s;)o+e[a]>r&&(i.push(t.slice(l,a)),o=0,l=a),o+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},uD=function(t,e,n){n||(n={});var r,i,a,s,o,l,c,u=[],f=[u],h=n.textIndent||0,p=0,y=0,b=t.split(" "),x=a1.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var v=Array(l).join(" "),w=[];b.map(function(A){(A=A.split(/\s*\n/)).length>1?w=w.concat(A.map(function(P,O){return(O&&P.length?`
`:"")+P})):w.push(A[0])}),b=w,l=lD.apply(this,[v,n])}for(a=0,s=b.length;a<s;a++){var S=0;if(r=b[a],l&&r[0]==`
`&&(r=r.substr(1),S=1),h+p+(y=(i=a1.apply(this,[r,n])).reduce(function(A,P){return A+P},0))>e||S){if(y>e){for(o=cD.apply(this,[r,i,e-(h+p),e]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);y=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(A,P){return A+P},0)}else u=[r];f.push(u),h=y+l,p=x}else u.push(r),h+=p+y,p=x}return c=l?function(A,P){return(P?v:"")+A.join(" ")}:function(A){return A.join(" ")},f.map(c)},qd.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),h="Unicode";return f.metadata[h]?{widths:f.metadata[h].widths||{0:1},kerning:f.metadata[h].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(uD.apply(this,[r[o],s,a]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[n[a]]=e[a],i[e[a]]=n[a];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=t.__fontmetrics__.compress=function(h){var p,y,b,x,v=["{"];for(var w in h){if(p=h[w],isNaN(parseInt(w,10))?y="'"+w+"'":(w=parseInt(w,10),y=(y=s(w).slice(2)).slice(0,-1)+i[y.slice(-1)]),typeof p=="number")p<0?(b=s(p).slice(3),x="-"):(b=s(p).slice(2),x=""),b=x+b.slice(0,-1)+i[b.slice(-1)];else{if(_n(p)!=="object")throw new Error("Don't know what to do with value type "+_n(p)+".");b=o(p)}v.push(y+b)}return v.push("}"),v.join("")},l=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,y,b,x,v={},w=1,S=v,A=[],P="",O="",I=h.length-1,E=1;E<I;E+=1)(x=h[E])=="'"?p?(b=p.join(""),p=void 0):p=[]:p?p.push(x):x=="{"?(A.push([S,b]),S={},b=void 0):x=="}"?((y=A.pop())[0][y[1]]=S,b=void 0,S=y[0]):x=="-"?w=-1:b===void 0?r.hasOwnProperty(x)?(P+=r[x],b=parseInt(P,16)*w,w=1,P=""):P+=x:r.hasOwnProperty(x)?(O+=r[x],S[b]=parseInt(O,16)*w,w=1,b=void 0,O=""):O+=x;return v},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var p=h.font,y=f.Unicode[p.postScriptName];y&&(p.metadata.Unicode={},p.metadata.Unicode.widths=y.widths,p.metadata.Unicode.kerning=y.kerning);var b=u.Unicode[p.postScriptName];b&&(p.metadata.Unicode.encoding=b,p.encoding=b.codePages[0])}])}(ht.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(L1(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(ht),ht.API.addSvgAsImage=function(t,e,n,r,i,a,s,o){if(isNaN(e)||isNaN(n))throw jn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw jn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Nt.canvg?Promise.resolve(Nt.canvg):N_(()=>import("./index.es-BlY9k1oQ.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(u)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,s,o)})},ht.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ht.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function h(y,b){var x,v=!1;for(x=0;x<y.length;x+=1)y[x]===b&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=o.length;for(f=0;f<p;f+=1)n[o[f]].value=n[o[f]].defaultValue,n[o[f]].explicitSet=!1}if(_n(t)==="object"){for(i in t)if(a=t[i],h(o,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&h(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(c=0;c<a.length;c+=1)if(r=!0,a[c].length===1&&typeof a[c][0]=="number")l.push(String(a[c]-1));else if(a[c].length>1){for(u=0;u<a[c].length;u+=1)typeof a[c][u]!="number"&&(r=!1);r===!0&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,b=[];for(y in n)n[y].explicitSet===!0&&(n[y].type==="name"?b.push("/"+y+" /"+n[y].value):b.push("/"+y+" "+n[y].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},ht.API.addMetadata=function(t,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",pLe),this.internal.events.subscribe("postPutResources",hLe)),this},function(t){var e=t.API,n=e.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,h=a.length;f<h;++f){if(o=s.metadata.characterToGlyph(a.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},r=function(a){var s,o,l,c,u,f,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(o=Object.keys(a).sort(function(p,y){return p-y})).length;f<h;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(c=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",y=0;y<h.length;y++)p+=String.fromCharCode(h[y]);var b=c();u({data:p,addLength1:!0,objectId:b}),l("endobj");var x=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Qd(o.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Qd(o.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+Qd(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var y=c();u({data:h,addLength1:!0,objectId:y}),l("endobj");var b=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var x=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Qd(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Qd(o.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,c=a.y,u=a.options||{},f=a.mutex||{},h=f.pdfEscape,p=f.activeFontKey,y=f.fonts,b=p,x="",v=0,w="",S=y[b].encoding;if(y[b].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(w=o,b=p,Array.isArray(o)&&(w=o[0]),v=0;v<w.length;v+=1)y[b].metadata.hasOwnProperty("cmap")&&(s=y[b].metadata.cmap.unicode.codeMap[w[v].charCodeAt(0)]),s||w[v].charCodeAt(0)<256&&y[b].metadata.hasOwnProperty("Unicode")?x+=w[v]:x+="";var A="";return parseInt(b.slice(1))<14||S==="WinAnsiEncoding"?A=h(x,b).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(A=n(x,y[b])),f.isHex=!0,{text:A,x:l,y:c,options:u,mutex:f}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(i(Object.assign({},l,{text:s[c]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(ht),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ht.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,a,s,o,l,c,u,f=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,S=0;this.__bidiEngine__={};var A=function(N){var k=N.charCodeAt(),j=k>>8,B=b[j];return B!==void 0?f[256*B+(255&k)]:j===252||j===253?"AL":v.test(j)?"L":j===8?"R":"N"},P=function(N){for(var k,j=0;j<N.length;j++){if((k=A(N.charAt(j)))==="L")return!1;if(k==="R")return!0}return!1},O=function(N,k,j,B){var G,Z,ie,X,ae=k[B];switch(ae){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(ae="AN");break;case"AL":w=!0,ae="R";break;case"WS":case"BN":ae="N";break;case"CS":B<1||B+1>=k.length||(G=j[B-1])!=="EN"&&G!=="AN"||(Z=k[B+1])!=="EN"&&Z!=="AN"?ae="N":w&&(Z="AN"),ae=Z===G?Z:"N";break;case"ES":ae=(G=B>0?j[B-1]:"B")==="EN"&&B+1<k.length&&k[B+1]==="EN"?"EN":"N";break;case"ET":if(B>0&&j[B-1]==="EN"){ae="EN";break}if(w){ae="N";break}for(ie=B+1,X=k.length;ie<X&&k[ie]==="ET";)ie++;ae=ie<X&&k[ie]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(X=k.length,ie=B+1;ie<X&&k[ie]==="NSM";)ie++;if(ie<X){var ue=N[B],de=ue>=1425&&ue<=2303||ue===64286;if(G=k[ie],de&&(G==="R"||G==="AL")){ae="R";break}}}ae=B<1||(G=k[B-1])==="B"?"N":j[B-1];break;case"B":w=!1,i=!0,ae=S;break;case"S":a=!0,ae="N"}return ae},I=function(N,k,j){var B=N.split("");return j&&E(B,j,{hiLevel:S}),B.reverse(),k&&k.reverse(),B.join("")},E=function(N,k,j){var B,G,Z,ie,X,ae=-1,ue=N.length,de=0,$=[],K=S?p:h,re=[];for(w=!1,i=!1,a=!1,G=0;G<ue;G++)re[G]=A(N[G]);for(Z=0;Z<ue;Z++){if(X=de,$[Z]=O(N,re,$,Z),B=240&(de=K[X][y[$[Z]]]),de&=15,k[Z]=ie=K[de][5],B>0)if(B===16){for(G=ae;G<Z;G++)k[G]=1;ae=-1}else ae=-1;if(K[de][6])ae===-1&&(ae=Z);else if(ae>-1){for(G=ae;G<Z;G++)k[G]=ie;ae=-1}re[Z]==="B"&&(k[Z]=0),j.hiLevel|=ie}a&&function(se,le,me){for(var Se=0;Se<me;Se++)if(se[Se]==="S"){le[Se]=S;for(var ce=Se-1;ce>=0&&se[ce]==="WS";ce--)le[ce]=S}}(re,k,ue)},C=function(N,k,j,B,G){if(!(G.hiLevel<N)){if(N===1&&S===1&&!i)return k.reverse(),void(j&&j.reverse());for(var Z,ie,X,ae,ue=k.length,de=0;de<ue;){if(B[de]>=N){for(X=de+1;X<ue&&B[X]>=N;)X++;for(ae=de,ie=X-1;ae<ie;ae++,ie--)Z=k[ae],k[ae]=k[ie],k[ie]=Z,j&&(Z=j[ae],j[ae]=j[ie],j[ie]=Z);de=X}de++}}},M=function(N,k,j){var B=N.split(""),G={hiLevel:S};return j||(j=[]),E(B,j,G),function(Z,ie,X){if(X.hiLevel!==0&&u)for(var ae,ue=0;ue<Z.length;ue++)ie[ue]===1&&(ae=x.indexOf(Z[ue]))>=0&&(Z[ue]=x[ae+1])}(B,j,G),C(2,B,k,j,G),C(1,B,k,j,G),B.join("")};return this.__bidiEngine__.doBidiReorder=function(N,k,j){if(function(G,Z){if(Z)for(var ie=0;ie<G.length;ie++)Z[ie]=ie;o===void 0&&(o=P(G)),c===void 0&&(c=P(G))}(N,k),s||!l||c)if(s&&l&&o^c)S=o?1:0,N=I(N,k,j);else if(!s&&l&&c)S=o?1:0,N=M(N,k,j),N=I(N,k);else if(!s||o||l||c){if(s&&!l&&o^c)N=I(N,k),o?(S=0,N=M(N,k,j)):(S=1,N=M(N,k,j),N=I(N,k));else if(s&&o&&!l&&c)S=1,N=M(N,k,j),N=I(N,k);else if(!s&&!l&&o^c){var B=u;o?(S=1,N=M(N,k,j),S=0,u=!1,N=M(N,k,j),u=B):(S=0,N=M(N,k,j),N=I(N,k),S=1,u=!1,N=M(N,k,j),u=B,N=I(N,k))}}else S=0,N=M(N,k,j);else S=o?1:0,N=M(N,k,j);return N},this.__bidiEngine__.setOptions=function(N){N&&(s=N.isInputVisual,l=N.isOutputVisual,o=N.isInputRtl,c=N.isOutputRtl,u=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([n.doBidiReorder(i[o])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ht),ht.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Lu(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new kLe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new mLe(this.contents),this.head=new yLe(this),this.name=new _Le(this),this.cmap=new HW(this),this.toUnicode={},this.hhea=new vLe(this),this.maxp=new SLe(this),this.hmtx=new ALe(this),this.post=new xLe(this),this.os2=new bLe(this),this.loca=new TLe(this),this.glyf=new NLe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var bo,Lu=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,a,s,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*s+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)n=e[r],a.push(this.writeByte(n));return a},t}(),mLe=function(){var t;function e(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,a,s,o,l,c,u,f,h,p,y,b;for(b in p=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),s=Math.floor(f/l),u=16*p-f,(i=new Lu).writeInt(this.scalarType),i.writeShort(p),i.writeShort(f),i.writeShort(s),i.writeShort(u),a=16*p,c=i.pos+a,o=null,y=[],n)for(h=n[b],i.writeString(b),i.writeInt(t(h)),i.writeInt(c),i.writeInt(h.length),y=y.concat(h),b==="head"&&(o=c),c+=h.length;c%4;)y.push(0),c++;return i.write(y),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,a,s;for(n=GW.call(n);n.length%4;)n.push(0);for(a=new Lu(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},e}(),gLe={}.hasOwnProperty,cl=function(t,e){for(var n in e)gLe.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};bo=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var yLe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,bo),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Lu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),bD=function(){function t(e,n){var r,i,a,s,o,l,c,u,f,h,p,y,b,x,v,w,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),h=p/2,e.pos+=6,a=function(){var A,P;for(P=[],l=A=0;0<=h?A<h:A>h;l=0<=h?++A:--A)P.push(e.readUInt16());return P}(),e.pos+=2,b=function(){var A,P;for(P=[],l=A=0;0<=h?A<h:A>h;l=0<=h?++A:--A)P.push(e.readUInt16());return P}(),c=function(){var A,P;for(P=[],l=A=0;0<=h?A<h:A>h;l=0<=h?++A:--A)P.push(e.readUInt16());return P}(),u=function(){var A,P;for(P=[],l=A=0;0<=h?A<h:A>h;l=0<=h?++A:--A)P.push(e.readUInt16());return P}(),i=(this.length-e.pos+this.offset)/2,o=function(){var A,P;for(P=[],l=A=0;0<=i?A<i:A>i;l=0<=i?++A:--A)P.push(e.readUInt16());return P}(),l=v=0,S=a.length;v<S;l=++v)for(x=a[l],r=w=y=b[l];y<=x?w<=x:w>=x;r=y<=x?++w:--w)u[l]===0?s=r+c[l]:(s=o[u[l]/2+(r-y)-(h-l)]||0)!==0&&(s+=c[l]),this.codeMap[r]=65535&s}e.pos=f}return t.encode=function(e,n){var r,i,a,s,o,l,c,u,f,h,p,y,b,x,v,w,S,A,P,O,I,E,C,M,N,k,j,B,G,Z,ie,X,ae,ue,de,$,K,re,se,le,me,Se,ce,xe,Ne,ye;switch(B=new Lu,s=Object.keys(e).sort(function(Me,$e){return Me-$e}),n){case"macroman":for(b=0,x=function(){var Me=[];for(y=0;y<256;++y)Me.push(0);return Me}(),w={0:0},a={},G=0,ae=s.length;G<ae;G++)w[ce=e[i=s[G]]]==null&&(w[ce]=++b),a[i]={old:e[i],new:w[e[i]]},x[i]=w[e[i]];return B.writeUInt16(1),B.writeUInt16(0),B.writeUInt32(12),B.writeUInt16(0),B.writeUInt16(262),B.writeUInt16(0),B.write(x),{charMap:a,subtable:B.data,maxGlyphID:b+1};case"unicode":for(k=[],f=[],S=0,w={},r={},v=c=null,Z=0,ue=s.length;Z<ue;Z++)w[P=e[i=s[Z]]]==null&&(w[P]=++S),r[i]={old:P,new:w[P]},o=w[P]-i,v!=null&&o===c||(v&&f.push(v),k.push(i),c=o),v=i;for(v&&f.push(v),f.push(65535),k.push(65535),M=2*(C=k.length),E=2*Math.pow(Math.log(C)/Math.LN2,2),h=Math.log(E/2)/Math.LN2,I=2*C-E,l=[],O=[],p=[],y=ie=0,de=k.length;ie<de;y=++ie){if(N=k[y],u=f[y],N===65535){l.push(0),O.push(0);break}if(N-(j=r[N].new)>=32768)for(l.push(0),O.push(2*(p.length+C-y)),i=X=N;N<=u?X<=u:X>=u;i=N<=u?++X:--X)p.push(r[i].new);else l.push(j-N),O.push(0)}for(B.writeUInt16(3),B.writeUInt16(1),B.writeUInt32(12),B.writeUInt16(4),B.writeUInt16(16+8*C+2*p.length),B.writeUInt16(0),B.writeUInt16(M),B.writeUInt16(E),B.writeUInt16(h),B.writeUInt16(I),me=0,$=f.length;me<$;me++)i=f[me],B.writeUInt16(i);for(B.writeUInt16(0),Se=0,K=k.length;Se<K;Se++)i=k[Se],B.writeUInt16(i);for(xe=0,re=l.length;xe<re;xe++)o=l[xe],B.writeUInt16(o);for(Ne=0,se=O.length;Ne<se;Ne++)A=O[Ne],B.writeUInt16(A);for(ye=0,le=p.length;ye<le;ye++)b=p[ye],B.writeUInt16(b);return{charMap:r,subtable:B.data,maxGlyphID:S+1}}},t}(),HW=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,bo),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new bD(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=bD.encode(e,n),(i=new Lu).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),vLe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,bo),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),bLe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,bo),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),xLe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,bo),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(e.readUInt32());return l}).call(this)}},t}(),wLe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},_Le=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,bo),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,a,s,o,l,c,u,f,h;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),r=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},a=u=0,f=r.length;u<f;a=++u)i=r[a],e.pos=i.offset,c=e.readString(i.length),s=new wLe(c,i),l[h=i.nameID]==null&&(l[h]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),SLe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,bo),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),ALe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,bo),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,a,s,o,l;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)u.push(e.readInt16());return u}(),this.widths=(function(){var c,u,f,h;for(h=[],c=0,u=(f=this.metrics).length;c<u;c++)a=f[c],h.push(a.advance);return h}).call(this),r=this.widths[this.widths.length-1],l=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),GW=[].slice,NLe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,bo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,a,s,o,l,c,u,f;return e in this.cache?this.cache[e]:(a=this.file.loca,n=this.file.contents,r=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,s=(o=new Lu(n.read(i))).readShort(),c=o.readShort(),f=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[e]=s===-1?new PLe(o,c,f,l,u):new ELe(o,s,c,f,l,u),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,a,s,o,l;for(s=[],a=[],o=0,l=n.length;o<l;o++)i=e[n[o]],a.push(s.length),i&&(s=s.concat(i.encode(r)));return a.push(s.length),{table:s,offsets:a}},t}(),ELe=function(){function t(e,n,r,i,a,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),PLe=function(){function t(e,n,r,i,a){var s,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Lu(GW.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),TLe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,bo),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<r.length;++s)if(r[s]=i,a<n.length&&n[a]==s){++a,r[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},t}(),kLe=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,a,s,o,l;for(i={},s=0,o=e.length;s<o;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in l=this.glyphsFor(n))r=l[a],i[a]=r;return i},t.prototype.encode=function(e,n){var r,i,a,s,o,l,c,u,f,h,p,y,b,x,v;for(i in r=HW.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),p={0:0},v=r.charMap)p[(l=v[i]).old]=l.new;for(y in h=r.maxGlyphID,s)y in p||(p[y]=h++);return u=function(w){var S,A;for(S in A={},w)A[w[S]]=S;return A}(p),f=Object.keys(u).sort(function(w,S){return w-S}),b=function(){var w,S,A;for(A=[],w=0,S=f.length;w<S;w++)o=f[w],A.push(u[o]);return A}(),a=this.font.glyf.encode(s,b,p),c=this.font.loca.encode(a.offsets,b),x={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},t}();ht.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,a,s;if(Array.isArray(n))return"["+function(){var o,l,c;for(c=[],o=0,l=n.length;o<l;o++)r=n[o],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)s=n[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+n},e}();function xD(t){var n;if(!t)return null;const e=((n=t.toDate)==null?void 0:n.call(t))??new Date(t);return Number.isNaN(e.getTime())?null:e}function Nk(t){if(!t)return;const e=new ht,n=xD(t.paidDate)||new Date,r=xD(t.recordedAt)||n,i=t.propertyName||"Rental Property",a=t.propertyAddress||t.address||"",s=t.propertyType||t.type||"",o=t.propertyBuildingName??t.buildingName,l=t.propertyUnitNumber??t.unitNumber,c=t.propertyFloor??t.floor,u=t.propertyBedrooms??t.bedrooms,f=t.propertyBathrooms??t.bathrooms,h=t.propertySqft??t.sqft,p=t.tenantName||"Tenant",y=t.tenantEmail||"",b=t.amount||0,x=t.method||"Online",v=t.status||"paid",w=t.invoiceNumber||`INV-${(t.propertyId||"").slice(0,4).toUpperCase()}-${(t.id||"").slice(-6).toUpperCase()}`;let S=20;if(e.setFontSize(18),e.text("LeaseEase Rent Invoice",20,S),S+=8,e.setFontSize(11),e.text(`Invoice #: ${w}`,20,S),S+=6,e.text(`Invoice date: ${r.toLocaleDateString()}`,20,S),S+=10,e.setFontSize(12),e.text("Billed To:",20,S),S+=6,e.setFontSize(11),e.text(p,20,S),S+=5,y?(e.text(y,20,S),S+=6):S+=4,e.setFontSize(12),e.text("Apartment Details:",20,S),S+=6,e.setFontSize(11),e.text(i,20,S),S+=5,o||l){const O=[];o&&O.push(o),l&&O.push(`Unit ${l}`),c!=null&&c!==""&&O.push(`Floor ${c}`),O.length&&(e.text(O.join(" - "),20,S),S+=5)}a&&(e.text(a,20,S),S+=5),s&&(e.text(`Type: ${s}`,20,S),S+=5);const A=[];u!=null&&A.push(`${u} bedroom(s)`),f!=null&&A.push(`${f} bathroom(s)`),h!=null&&A.push(`${h} sqft`),A.length?(e.text(A.join("  "),20,S),S+=6):S+=4,S+=4,e.setFontSize(12),e.text("Payment Summary:",20,S),S+=7,e.setFontSize(11),e.text(`Amount: ${b.toLocaleString(void 0,{maximumFractionDigits:2})}`,20,S),S+=5,e.text(`Status: ${v}`,20,S),S+=5,e.text(`Method: ${x}`,20,S),S+=5,e.text(`Paid on: ${n.toLocaleDateString()}`,20,S),S+=10,t.notes&&(e.setFontSize(11),e.text("Notes:",20,S),S+=5,e.text(String(t.notes),20,S),S+=5),e.setFontSize(9),e.text("Thank you for your payment. Keep this invoice for your records.",20,275);const P=`LeaseEase_Invoice_${w}.pdf`;e.save(P)}const wD={paid:{icon:c4,color:"text-sage",bg:"bg-sage/10",label:"Paid"},pending:{icon:vy,color:"text-amber",bg:"bg-amber/10",label:"Pending"},late:{icon:Wle,color:"text-rust",bg:"bg-rust/10",label:"Late"}};function Ek({payment:t,isLast:e,showProperty:n,onDownloadInvoice:r}){var l,c;const{fmt:i}=hi(),a=wD[t.status]||wD.pending,s=a.icon,o=((c=(l=t.paidDate)==null?void 0:l.toDate)==null?void 0:c.call(l))??new Date(t.paidDate);return d.jsxs("div",{className:`flex items-center gap-4 px-5 py-4 hover:bg-stone-50/70 transition-colors ${e?"":"border-b border-stone-100"}`,children:[d.jsx("div",{className:`w-8 h-8 rounded-lg ${a.bg} flex items-center justify-center flex-shrink-0`,children:d.jsx(s,{size:15,className:a.color})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("p",{className:"font-body font-medium text-sm text-ink",children:[t.tenantName||"Payment",n&&t.propertyName&&d.jsxs("span",{className:"font-normal text-stone-400 ml-2 text-xs",children:[" ",t.propertyName,t.propertyUnitNumber&&d.jsxs("span",{className:"text-sage ml-1",children:["(",ld({unitNumber:t.propertyUnitNumber,floor:t.propertyFloor}),")"]})]})]}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:t.method||"Unknown"})]}),d.jsx("span",{className:"font-body text-xs text-stone-400 hidden sm:block w-28 text-right",children:Na(o,"MMM d, yyyy")}),d.jsx("span",{className:"font-body text-xs text-stone-400 hidden md:block w-24 text-right capitalize",children:t.method||""}),r&&d.jsx("button",{type:"button",onClick:()=>r(t),className:"hidden lg:inline-flex items-center justify-center w-8 h-8 rounded-lg border border-stone-200 hover:bg-stone-100 text-stone-400 hover:text-ink transition-colors",title:"Download invoice",children:d.jsx(Xle,{size:14})}),d.jsx("span",{className:`badge text-xs w-20 justify-center ${t.status==="paid"?"badge-sage":t.status==="pending"?"badge-amber":"badge-rust"}`,children:a.label}),d.jsx("span",{className:"font-display font-semibold text-ink text-sm w-28 text-right flex-shrink-0",children:i(t.amount||0)})]})}function CLe({unit:t,fmtRent:e,landlordUid:n,propertyId:r,propertyName:i,onAssign:a,onRemove:s,onEdit:o}){const l=t.status==="occupied"&&t.tenantId,[c,u]=z.useState(!1),[f,h]=z.useState(null),[p,y]=z.useState(null),[b,x]=z.useState(!1),[v,w]=z.useState(!1),S=async()=>{if(f){u(!0);return}x(!0);try{const{link:P,expiresAt:O}=await dce({landlordUid:n,propertyId:r,unitId:t.id,unitName:t.unitName,propertyName:i});h(P),y(O),u(!0),Ke.success("Invite link created  valid for 24 hours.")}catch(P){console.error("Failed to create invite token:",P),Ke.error("Failed to generate invite link.")}finally{x(!1)}},A=async()=>{try{await navigator.clipboard.writeText(f),w(!0),Ke.success("Link copied to clipboard!"),setTimeout(()=>w(!1),2e3)}catch{Ke.error("Failed to copy.")}};return d.jsxs(He.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"card p-5 hover:shadow-deep transition-shadow relative",children:[d.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${l?"bg-sage/10":"bg-stone-100"}`,children:d.jsx(nl,{size:18,className:l?"text-sage":"text-stone-400"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-body font-semibold text-ink text-sm",children:t.unitName}),d.jsx("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-body font-semibold ${l?"bg-sage/10 text-sage":"bg-amber/10 text-amber"}`,children:l?"Occupied":"Vacant"})]})]}),d.jsx("button",{onClick:()=>o(t),className:"p-2 rounded-lg text-stone-300 hover:text-ink hover:bg-stone-100 transition-colors",title:"Edit unit",children:d.jsx(ece,{size:14})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(u4,{size:13,className:"text-stone-400"}),d.jsx("span",{className:"font-body text-sm text-ink font-medium",children:e?e(t.rentAmount,t.billingCycle):`$${t.rentAmount||0}`})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(l4,{size:13,className:"text-stone-400"}),d.jsx("span",{className:"font-body text-sm text-stone-500 capitalize",children:t.billingCycle||"monthly"})]})]}),d.jsxs("div",{className:"flex items-center gap-2 mb-4 px-3 py-2.5 bg-stone-50 rounded-xl border border-stone-100",children:[d.jsx(il,{size:14,className:l?"text-sage":"text-stone-300"}),d.jsx("span",{className:`font-body text-sm ${l?"text-ink font-medium":"text-stone-400 italic"}`,children:l?t.tenantName||t.tenantEmail||"Assigned":"No tenant assigned"})]}),d.jsx("div",{className:"flex gap-2",children:l?d.jsxs("button",{onClick:()=>s(t),className:"flex-1 btn-ghost text-xs text-rust hover:bg-rust/8 hover:text-rust",children:[d.jsx(dV,{size:14})," Remove Tenant"]}):d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>a(t),className:"flex-1 btn-ghost text-xs text-sage hover:bg-sage/8 hover:text-sage",children:[d.jsx(Vx,{size:14})," Assign"]}),d.jsx("button",{onClick:S,disabled:b,className:"flex-1 btn-ghost text-xs text-stone-500 hover:bg-stone-100 hover:text-ink",title:"Generate a secure invite link to send to your tenant",children:b?d.jsxs(d.Fragment,{children:[d.jsx(UA,{size:13,className:"animate-spin"})," Generating"]}):d.jsxs(d.Fragment,{children:[d.jsx(cO,{size:13})," Invite Link"]})})]})}),d.jsx(po,{children:c&&f&&d.jsxs(He.div,{initial:{opacity:0,y:8,scale:.97},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:4,scale:.97},className:"absolute inset-x-0 bottom-full mb-2 mx-2 z-10 bg-white rounded-2xl shadow-deep border border-stone-100 p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(cO,{size:14,className:"text-sage"}),d.jsx("span",{className:"font-body text-xs font-semibold text-ink",children:"Invite Link"})]}),d.jsx("button",{onClick:()=>u(!1),className:"p-1 rounded-lg hover:bg-stone-100 text-stone-400 transition-colors",children:d.jsx(Ux,{size:14})})]}),d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx("div",{className:"flex-1 bg-stone-50 rounded-xl px-3 py-2 border border-stone-100 overflow-hidden",children:d.jsx("p",{className:"font-body text-xs text-stone-500 truncate",children:f})}),d.jsx("button",{onClick:A,className:`p-2 rounded-xl border transition-all flex-shrink-0 ${v?"bg-sage/10 border-sage/30 text-sage":"bg-white border-stone-200 text-stone-400 hover:border-sage/30 hover:text-sage"}`,children:v?d.jsx(Is,{size:14}):d.jsx(sV,{size:14})})]}),p&&d.jsxs("p",{className:"font-body text-[11px] text-stone-400 flex items-center gap-1",children:[d.jsx(vy,{size:10}),"Expires ",_V(p,{addSuffix:!0}),"  Share via email, WhatsApp, or SMS"]})]})})]})}function ILe({isOpen:t,onClose:e,onSubmit:n,saving:r,editUnit:i=null,currencySymbol:a="$"}){const[s,o]=z.useState({unitName:"",rentAmount:"",billingCycle:"monthly",tenantName:"",tenantEmail:""});z.useEffect(()=>{var u;o(i?{unitName:i.unitName||"",rentAmount:((u=i.rentAmount)==null?void 0:u.toString())||"",billingCycle:i.billingCycle||"monthly",tenantName:i.tenantName||"",tenantEmail:i.tenantEmail||""}:{unitName:"",rentAmount:"",billingCycle:"monthly",tenantName:"",tenantEmail:""})},[i,t]);const l=u=>f=>o(h=>({...h,[u]:f.target.value})),c=u=>{if(u.preventDefault(),!s.unitName.trim()){Ke.error("Apartment name/number is required.");return}if(!s.rentAmount||isNaN(s.rentAmount)){Ke.error("Valid rent amount is required.");return}n({unitName:s.unitName.trim(),rentAmount:parseInt(s.rentAmount),billingCycle:s.billingCycle,tenantName:s.tenantName.trim(),tenantEmail:s.tenantEmail.trim(),tenantId:s.tenantEmail.trim()&&(i==null?void 0:i.tenantId)||null,status:s.tenantName.trim()?"occupied":"vacant"})};return d.jsx(Ru,{isOpen:t,onClose:e,title:i?"Edit Unit":"Add Apartment / Unit",children:d.jsxs("form",{onSubmit:c,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Apartment Number / Name *"}),d.jsxs("div",{className:"relative",children:[d.jsx(nl,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-10",placeholder:"e.g. Unit 4B, Apt 12, Room 3",value:s.unitName,onChange:l("unitName"),autoFocus:!0,required:!0})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"label-xs",children:["Rent Amount (",a,") *"]}),d.jsxs("div",{className:"relative",children:[d.jsx(u4,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-10",type:"number",placeholder:"e.g. 250000",value:s.rentAmount,onChange:l("rentAmount"),required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Billing Cycle"}),d.jsxs("div",{className:"relative",children:[d.jsx(l4,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsxs("select",{className:"input-base pl-10 appearance-none",value:s.billingCycle,onChange:l("billingCycle"),children:[d.jsx("option",{value:"monthly",children:"Monthly"}),d.jsx("option",{value:"yearly",children:"Yearly"})]})]})]}),d.jsxs("div",{className:"pt-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(Vx,{size:14,className:"text-stone-400"}),d.jsxs("span",{className:"font-body text-xs font-semibold text-stone-400 uppercase tracking-wider",children:["Assign Tenant ",d.jsx("span",{className:"text-stone-300 normal-case",children:"(optional)"})]})]}),d.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Tenant Name"}),d.jsx("input",{className:"input-base",placeholder:"Skip if unknown",value:s.tenantName,onChange:l("tenantName")})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Tenant Email"}),d.jsx("input",{className:"input-base",type:"email",placeholder:"tenant@email.com",value:s.tenantEmail,onChange:l("tenantEmail")})]})]})]}),d.jsxs("div",{className:"flex gap-3 justify-end pt-3",children:[d.jsx("button",{type:"button",onClick:e,className:"btn-secondary",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:r,className:"btn-primary",children:r?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):i?"Save Changes":"Add Unit"})]})]})})}function jLe({isOpen:t,onClose:e,onAssign:n,saving:r,unitName:i}){const[a,s]=z.useState(""),[o,l]=z.useState([]),[c,u]=z.useState(!1),[f,h]=z.useState(""),[p,y]=z.useState(""),[b,x]=z.useState("search");z.useEffect(()=>{t&&(s(""),l([]),h(""),y(""),x("search"))},[t]);const v=z.useCallback(async A=>{if(A.length<2){l([]);return}u(!0);try{const P=await pie(A);l(P)}catch{l([])}finally{u(!1)}},[]);z.useEffect(()=>{const A=setTimeout(()=>v(a),300);return()=>clearTimeout(A)},[a,v]);const w=A=>{n({tenantId:A.uid,tenantName:A.fullName,tenantEmail:A.email,status:"occupied"})},S=A=>{if(A.preventDefault(),!f.trim()&&!p.trim()){Ke.error("Enter at least a name or email.");return}n({tenantId:null,tenantName:f.trim(),tenantEmail:p.trim(),status:"occupied"})};return d.jsx(Ru,{isOpen:t,onClose:e,title:`Assign Tenant  ${i||"Unit"}`,children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>x("search"),className:`flex-1 py-2.5 rounded-xl text-sm font-body font-medium border transition-all ${b==="search"?"bg-sage/10 text-sage border-sage/30":"bg-stone-50 text-stone-400 border-stone-200 hover:bg-stone-100"}`,children:"Search Tenants"}),d.jsx("button",{onClick:()=>x("manual"),className:`flex-1 py-2.5 rounded-xl text-sm font-body font-medium border transition-all ${b==="manual"?"bg-sage/10 text-sage border-sage/30":"bg-stone-50 text-stone-400 border-stone-200 hover:bg-stone-100"}`,children:"Enter Manually"})]}),b==="search"?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"relative",children:[d.jsx(cV,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-10",placeholder:"Search by tenant email...",value:a,onChange:A=>s(A.target.value),autoFocus:!0})]}),c&&d.jsx("div",{className:"flex items-center justify-center py-4",children:d.jsx("div",{className:"w-5 h-5 border-2 border-sage border-t-transparent rounded-full animate-spin"})}),!c&&o.length>0&&d.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:o.map(A=>d.jsxs("button",{onClick:()=>w(A),disabled:r,className:"w-full flex items-center gap-3 p-3 rounded-xl border border-stone-100 hover:border-sage/30 hover:bg-sage/5 transition-all text-left",children:[d.jsx("div",{className:"w-9 h-9 rounded-full bg-sage/10 flex items-center justify-center flex-shrink-0",children:d.jsx(il,{size:16,className:"text-sage"})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:"font-body text-sm font-medium text-ink truncate",children:A.fullName}),d.jsx("p",{className:"font-body text-xs text-stone-400 truncate",children:A.email})]})]},A.uid))}),!c&&a.length>=2&&o.length===0&&d.jsxs("div",{className:"text-center py-4",children:[d.jsx("p",{className:"font-body text-sm text-stone-400",children:"No tenants found."}),d.jsx("button",{onClick:()=>x("manual"),className:"font-body text-sm text-sage font-medium mt-1 hover:underline",children:"Enter manually instead"})]})]}):d.jsxs("form",{onSubmit:S,className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Tenant Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(il,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-10",placeholder:"John Doe",value:f,onChange:A=>h(A.target.value),autoFocus:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Tenant Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(rl,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-10",type:"email",placeholder:"tenant@email.com",value:p,onChange:A=>y(A.target.value)})]})]}),d.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[d.jsx("button",{type:"button",onClick:e,className:"btn-secondary",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:r,className:"btn-primary",children:r?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):"Assign Tenant"})]})]})]})})}const OLe=[{id:"overview",label:"Overview",icon:oV},{id:"units",label:"Units",icon:nl},{id:"payments",label:"Payments",icon:js},{id:"maintenance",label:"Maintenance",icon:qA}];function RLe(){var Me,$e;const{id:t}=W7(),{user:e}=Mr(),{fmt:n,fmtRent:r,currencySymbol:i,country:a}=hi(),[s,o]=z.useState(null),[l,c]=z.useState([]),[u,f]=z.useState([]),[h,p]=z.useState([]),[y]=vX(),[b,x]=z.useState(y.get("tab")||"overview"),[v,w]=z.useState(!0),[S,A]=z.useState(!1),[P,O]=z.useState(!1),[I,E]=z.useState({title:"",description:"",priority:"medium"}),[C,M]=z.useState(!1),[N,k]=z.useState(null),[j,B]=z.useState(!1),[G,Z]=z.useState(!1),[ie,X]=z.useState(null),[ae,ue]=z.useState(!1),[de,$]=z.useState(null);z.useEffect(()=>{if(!e)return;const q=Ev(e.uid,je=>{const tt=je.find(qe=>qe.id===t);o(tt||null),tt&&w(!1)}),Ie=x9(e.uid,t,c),Ye=hie(e.uid,t,f),Ze=N9(e.uid,t,p);return()=>{q(),Ie(),Ye(),Ze()}},[e,t]),z.useEffect(()=>{y.get("action")==="add"&&!v&&(k(null),M(!0))},[v,y]);const K=q=>Ie=>E(Ye=>({...Ye,[q]:Ie.target.value})),re=async q=>{if(q.preventDefault(),!I.title){Ke.error("Title is required.");return}O(!0);try{await fie(e.uid,t,I),Ke.success("Issue logged!"),A(!1),E({title:"",description:"",priority:"medium"})}catch{Ke.error("Failed to save.")}finally{O(!1)}},se=async q=>{const Ie=q.status==="open"?"in-progress":q.status==="in-progress"?"resolved":"open";await die(e.uid,t,q.id,{status:Ie}),Ke.success(`Status  ${Ie}`)},le=async q=>{B(!0);try{N?(await k1(e.uid,t,N.id,q),Ke.success("Unit updated!")):(await A9(e.uid,t,q),Ke.success("Unit added!")),M(!1),k(null)}catch{Ke.error("Failed to save unit.")}finally{B(!1)}},me=q=>{k(q),M(!0)},Se=q=>{X(q),Z(!0)},ce=async q=>{if(ie){B(!0);try{await k1(e.uid,t,ie.id,q),await hV({tenantId:q.tenantId||null,landlordId:e.uid,propertyId:t,unitId:ie.id,tenantName:q.tenantName||"",tenantEmail:q.tenantEmail||"",unitName:ie.unitName,propertyName:(s==null?void 0:s.name)||"",rentAmount:ie.rentAmount||0,billingCycle:ie.billingCycle||"monthly",currency:(a==null?void 0:a.currency)||"NGN"}),Ke.success(`Tenant assigned to ${ie.unitName}!`),Z(!1),X(null)}catch(Ie){console.error(Ie),Ke.error("Failed to assign tenant.")}finally{B(!1)}}},xe=q=>{$(q),ue(!0)},Ne=async()=>{if(de){B(!0);try{const q=await cce(t,de.id);q&&(await d4(e.uid,t,de.id),await Dje(q.id)),await k1(e.uid,t,de.id,{tenantId:null,tenantName:"",tenantEmail:"",status:"vacant",rentStatus:null}),Ke.success(`Tenant removed from ${de.unitName}.`),ue(!1),$(null)}catch(q){console.error(q),Ke.error("Failed to remove tenant.")}finally{B(!1)}}};if(v)return d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"w-8 h-8 border-2 border-sage border-t-transparent rounded-full animate-spin"})});if(!s)return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("p",{className:"font-body text-stone-400",children:"Property not found."}),d.jsx(ur,{to:"/properties",className:"btn-secondary mt-4 inline-flex",children:" Back to Properties"})]});const ye=l.filter(q=>q.status==="paid").reduce((q,Ie)=>q+(Ie.amount||0),0);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},children:[d.jsxs(ur,{to:"/properties",className:"inline-flex items-center gap-1.5 text-sm font-body text-stone-400 hover:text-ink transition-colors mb-4",children:[d.jsx(o4,{size:15})," All Properties"]}),d.jsxs("div",{className:"card overflow-hidden",children:[d.jsxs("div",{className:"bg-gradient-to-br from-ink to-ink-light p-6 sm:p-8 relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"radial-gradient(circle at 1px 1px, #F5F0E8 1px, transparent 0)",backgroundSize:"24px 24px"}}),d.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-sage/10 rounded-full blur-2xl"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"flex items-start justify-between gap-4 mb-4",children:d.jsx(gE,{status:s.status})}),d.jsx("h1",{className:"font-display text-cream text-2xl sm:text-3xl font-semibold mb-2",children:s.name}),s.unitNumber&&d.jsxs("div",{className:"flex items-center gap-1.5 text-sage mb-3",children:[d.jsx(sp,{size:14}),d.jsx("span",{className:"font-body text-sm font-medium",children:Sje(s)})]}),d.jsxs("div",{className:"flex items-center gap-1.5 text-stone-400 mb-6",children:[d.jsx(Up,{size:14}),d.jsx("span",{className:"font-body text-sm",children:s.address})]}),d.jsxs("div",{className:"flex flex-wrap gap-6",children:[d.jsx(Xm,{label:"Rent",value:r(s.monthlyRent,s.rentType),accent:!0}),d.jsx(Xm,{label:"Units",value:h.length}),d.jsx(Xm,{label:"Occupied",value:h.filter(q=>q.status==="occupied").length}),d.jsx(Xm,{label:"Bedrooms",value:s.bedrooms||""}),d.jsx(Xm,{label:"Total Collected",value:n(ye)})]})]})]}),d.jsx("div",{className:"flex border-b border-stone-100 px-2 overflow-x-auto",children:OLe.map(({id:q,label:Ie,icon:Ye})=>d.jsxs("button",{onClick:()=>x(q),className:`flex items-center gap-2 px-5 py-4 text-sm font-body font-medium border-b-2 transition-all whitespace-nowrap
                  ${b===q?"border-sage text-sage":"border-transparent text-stone-400 hover:text-ink"}`,children:[d.jsx(Ye,{size:15})," ",Ie,q==="units"&&h.length>0&&d.jsx("span",{className:"ml-1 w-5 h-5 rounded-full bg-sage/10 text-sage text-xs font-semibold flex items-center justify-center",children:h.length})]},q))}),d.jsxs("div",{className:"p-6",children:[b==="overview"&&d.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[d.jsxs(_D,{title:"Property Details",children:[d.jsx(Lo,{label:"Type",value:s.type||""}),d.jsx(Lo,{label:"Status",value:d.jsx(gE,{status:s.status})}),s.buildingName&&d.jsx(Lo,{label:"Building",value:d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(Cs,{size:13}),s.buildingName]})}),s.unitNumber&&d.jsx(Lo,{label:"Unit",value:d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(sp,{size:13}),ld(s)]})}),d.jsx(Lo,{label:"Rent",value:r(s.monthlyRent,s.rentType)}),d.jsx(Lo,{label:"Added",value:s.createdAt?Na((($e=(Me=s.createdAt).toDate)==null?void 0:$e.call(Me))??new Date(s.createdAt),"MMM d, yyyy"):""}),s.description&&d.jsx(Lo,{label:"Notes",value:s.description})]}),d.jsx(_D,{title:"Tenant Information",children:s.tenantName?d.jsxs(d.Fragment,{children:[d.jsx(Lo,{label:"Name",value:d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(il,{size:13}),s.tenantName]})}),d.jsx(Lo,{label:"Email",value:d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(rl,{size:13}),s.tenantEmail||""]})}),d.jsx(Lo,{label:"Phone",value:d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(f4,{size:13}),s.tenantPhone||""]})})]}):d.jsxs("p",{className:"font-body text-sm text-stone-400 italic",children:["No tenant  property is ",s.status,"."]})}),d.jsxs("div",{className:"sm:col-span-2 flex gap-3",children:[d.jsxs("button",{onClick:()=>x("units"),className:"btn-primary",children:[d.jsx(nl,{size:15})," Manage Units (",h.length,")"]}),d.jsxs("button",{onClick:()=>x("payments"),className:"btn-secondary",children:[d.jsx(js,{size:15})," View Payments"]}),d.jsxs("button",{onClick:()=>A(!0),className:"btn-secondary",children:[d.jsx(qA,{size:15})," Log Issue"]})]})]}),b==="units"&&d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-5",children:[d.jsx("div",{children:d.jsxs("p",{className:"font-body text-sm text-stone-400",children:[h.length," unit",h.length!==1?"s":"","  ",h.filter(q=>q.status==="occupied").length," occupied"]})}),d.jsxs("button",{onClick:()=>{k(null),M(!0)},className:"btn-primary text-xs px-3 py-2",children:[d.jsx(Os,{size:13})," Add Unit"]})]}),h.length===0?d.jsx(G_,{icon:nl,title:"No units yet",sub:"Add apartments or units to this property to track tenants and rent."}):d.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:h.map(q=>d.jsx(CLe,{unit:q,fmtRent:r,landlordUid:e.uid,propertyId:t,propertyName:(s==null?void 0:s.name)||"",onAssign:Se,onRemove:xe,onEdit:me},q.id))})]}),b==="payments"&&d.jsxs("div",{children:[d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsxs("p",{className:"font-body text-sm text-stone-400",children:[l.length," payments recorded"]})}),l.length===0?d.jsx(G_,{icon:js,title:"No payments yet",sub:"Payments will appear here automatically after tenants pay online."}):d.jsx("div",{className:"card overflow-hidden",children:l.map((q,Ie)=>d.jsx(Ek,{payment:q,isLast:Ie===l.length-1,onDownloadInvoice:Nk},q.id))})]}),b==="maintenance"&&d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("p",{className:"font-body text-sm text-stone-400",children:[u.filter(q=>q.status!=="resolved").length," open issues"]}),d.jsxs("button",{onClick:()=>A(!0),className:"btn-primary text-xs px-3 py-2",children:[d.jsx(Os,{size:13})," Log Issue"]})]}),u.length===0?d.jsx(G_,{icon:qA,title:"No issues logged",sub:"All clear  no maintenance tickets for this property."}):d.jsx("div",{className:"space-y-3",children:u.map(q=>{var Ie,Ye;return d.jsxs("div",{className:"flex items-start gap-4 p-4 card hover:shadow-deep transition-shadow",children:[d.jsx("div",{className:`mt-0.5 w-2.5 h-2.5 rounded-full flex-shrink-0 ${q.status==="resolved"?"bg-sage":q.status==="in-progress"?"bg-amber":"bg-rust"}`}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-start justify-between gap-2",children:[d.jsx("p",{className:"font-body font-semibold text-sm text-ink",children:q.title}),d.jsx("span",{className:`badge text-xs ${q.priority==="high"?"badge-rust":q.priority==="medium"?"badge-amber":"badge-stone"}`,children:q.priority})]}),q.description&&d.jsx("p",{className:"font-body text-xs text-stone-400 mt-1 line-clamp-2",children:q.description}),d.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[d.jsxs("button",{onClick:()=>se(q),className:`inline-flex items-center gap-1.5 text-xs font-body font-medium px-2.5 py-1 rounded-lg border transition-all
                                ${q.status==="resolved"?"bg-sage/10 text-sage border-sage/20":q.status==="in-progress"?"bg-amber/10 text-amber border-amber/20":"bg-rust/10 text-rust border-rust/20"}`,children:[d.jsx(Gle,{size:11})," ",q.status==="open"?"Open":q.status==="in-progress"?"In Progress":"Resolved"]}),d.jsx("span",{className:"font-body text-xs text-stone-300",children:q.createdAt?Na(((Ye=(Ie=q.createdAt).toDate)==null?void 0:Ye.call(Ie))??new Date(q.createdAt),"MMM d"):""})]})]})]},q.id)})})]})]})]})]}),d.jsx(Ru,{isOpen:S,onClose:()=>A(!1),title:"Log Maintenance Issue",children:d.jsxs("form",{onSubmit:re,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Issue Title *"}),d.jsx("input",{className:"input-base",placeholder:"e.g. Leaking roof, Broken AC",value:I.title,onChange:K("title"),required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Description"}),d.jsx("textarea",{className:"input-base min-h-[80px] resize-none",placeholder:"Describe the issue",value:I.description,onChange:K("description")})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Priority"}),d.jsx("div",{className:"flex gap-2",children:["low","medium","high"].map(q=>d.jsx("button",{type:"button",onClick:()=>E(Ie=>({...Ie,priority:q})),className:`flex-1 py-2.5 rounded-xl text-sm font-body font-medium border capitalize transition-all
                    ${I.priority===q?q==="high"?"bg-rust/10 text-rust border-rust/30":q==="medium"?"bg-amber/10 text-amber border-amber/30":"bg-sage/10 text-sage border-sage/30":"bg-stone-50 text-stone-400 border-stone-200 hover:bg-stone-100"}`,children:q},q))})]}),d.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[d.jsx("button",{type:"button",onClick:()=>A(!1),className:"btn-secondary",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:P,className:"btn-primary",children:P?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):"Log Issue"})]})]})}),d.jsx(ILe,{isOpen:C,onClose:()=>{M(!1),k(null)},onSubmit:le,saving:j,editUnit:N,currencySymbol:i}),d.jsx(jLe,{isOpen:G,onClose:()=>{Z(!1),X(null)},onAssign:ce,saving:j,unitName:ie==null?void 0:ie.unitName}),d.jsx(Ru,{isOpen:ae,onClose:()=>ue(!1),title:"Remove Tenant",size:"sm",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 p-3 bg-rust/8 rounded-xl border border-rust/20",children:[d.jsx(dV,{size:18,className:"text-rust flex-shrink-0"}),d.jsxs("p",{className:"font-body text-sm text-rust",children:["Remove ",d.jsx("strong",{children:(de==null?void 0:de.tenantName)||"tenant"})," from ",d.jsx("strong",{children:de==null?void 0:de.unitName}),"? Payment history will be kept."]})]}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx("button",{onClick:()=>ue(!1),className:"btn-secondary",children:"Cancel"}),d.jsx("button",{onClick:Ne,disabled:j,className:"btn-danger",children:j?d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Remove Tenant"})]})]})})]})}function Xm({label:t,value:e,accent:n}){return d.jsxs("div",{children:[d.jsx("p",{className:"font-body text-xs text-stone-500 mb-0.5",children:t}),d.jsx("p",{className:`font-display font-semibold text-xl ${n?"text-sage":"text-cream"}`,children:e})]})}function _D({title:t,children:e}){return d.jsxs("div",{className:"bg-stone-50 rounded-xl p-4 border border-stone-100",children:[d.jsx("p",{className:"font-body text-xs font-semibold text-stone-400 uppercase tracking-wider mb-3",children:t}),d.jsx("div",{className:"space-y-2",children:e})]})}function Lo({label:t,value:e}){return d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsx("span",{className:"font-body text-xs text-stone-400 flex-shrink-0",children:t}),d.jsx("span",{className:"font-body text-sm text-ink font-medium text-right",children:e})]})}function G_({icon:t,title:e,sub:n}){return d.jsxs("div",{className:"flex flex-col items-center text-center py-12",children:[d.jsx(t,{size:32,className:"text-stone-300 mb-3"}),d.jsx("p",{className:"font-body font-medium text-stone-500 text-sm",children:e}),d.jsx("p",{className:"font-body text-xs text-stone-300 mt-1",children:n})]})}const LLe={overdue:{label:"Overdue",color:"text-rust",bg:"bg-rust/10",border:"border-rust/20",dot:"bg-rust"},urgent:{label:"Urgent",color:"text-rust",bg:"bg-rust/8",border:"border-rust/15",dot:"bg-rust/70"},soon:{label:"Soon",color:"text-amber",bg:"bg-amber/10",border:"border-amber/20",dot:"bg-amber"},ok:{label:"Upcoming",color:"text-sage",bg:"bg-sage/8",border:"border-sage/15",dot:"bg-sage"},paid:{label:"Paid",color:"text-stone-400",bg:"bg-stone-100",border:"border-stone-200",dot:"bg-stone-300"}};function K_(t){var r,i;if(t.status==="paid")return"paid";const e=((i=(r=t.dueDate)==null?void 0:r.toDate)==null?void 0:i.call(r))??new Date(t.dueDate);if(Bf(e))return"overdue";const n=Ov(e,new Date);return n<=3?"urgent":n<=7?"soon":"ok"}function MLe(){const{user:t}=Mr(),{fmt:e,currencySymbol:n}=hi(),[r,i]=z.useState([]),[a,s]=z.useState([]),[o,l]=z.useState("all"),[c,u]=z.useState(!0),[f,h]=z.useState(!1),[p,y]=z.useState(!1),b={tenantName:"",propertyId:"",amount:"",dueDate:"",recurring:!1,notifyDaysBefore:3,notes:""},[x,v]=z.useState(b);z.useEffect(()=>{if(!t)return;const M=Pv(t.uid,k=>{i(k),u(!1)}),N=Ev(t.uid,s);return()=>{M(),N()}},[t]);const w=M=>N=>v(k=>({...k,[M]:N.target.type==="checkbox"?N.target.checked:N.target.value})),S=M=>{const N=M.target.value,k=a.find(j=>j.id===N);v(j=>({...j,propertyId:N,tenantName:(k==null?void 0:k.tenantName)||j.tenantName,amount:k!=null&&k.monthlyRent?String(k.monthlyRent):j.amount}))},A=async M=>{var N;if(M.preventDefault(),!x.tenantName||!x.amount||!x.dueDate){Ke.error("Please fill all required fields.");return}y(!0);try{const k=((N=a.find(j=>j.id===x.propertyId))==null?void 0:N.name)||"";await _9(t.uid,{...x,amount:parseInt(x.amount),dueDate:new Date(x.dueDate),propertyName:k}),Ke.success("Reminder created!"),h(!1),v(b)}catch{Ke.error("Failed to create reminder.")}finally{y(!1)}},P=async M=>{await AA(t.uid,M.id,{status:"paid",paidAt:new Date}),Ke.success("Marked as paid!")},O=async M=>{confirm(`Delete reminder for ${M.tenantName}?`)&&(await S9(t.uid,M.id),Ke.success("Reminder deleted."))},I=o==="all"?r:r.filter(M=>K_(M)===o),E={overdue:0,urgent:0,soon:0,ok:0};r.forEach(M=>{const N=K_(M);E[N]!==void 0&&E[N]++});const C=r.filter(M=>M.status!=="paid").reduce((M,N)=>M+(N.amount||0),0);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"font-display text-ink text-3xl font-semibold",children:"Reminders"}),d.jsxs("p",{className:"font-body text-stone-400 text-sm mt-0.5",children:[r.filter(M=>M.status!=="paid").length," active  ",e(C)," outstanding"]})]}),d.jsxs("button",{onClick:()=>h(!0),className:"btn-primary",children:[d.jsx(Os,{size:16})," New Reminder"]})]}),E.overdue>0&&d.jsxs(He.div,{initial:{opacity:0,x:-12},animate:{opacity:1,x:0},className:"flex items-center gap-3 p-4 bg-rust/8 border border-rust/20 rounded-xl",children:[d.jsx(s4,{size:18,className:"text-rust flex-shrink-0"}),d.jsxs("div",{children:[d.jsxs("p",{className:"font-body font-semibold text-sm text-rust",children:[E.overdue," overdue reminder",E.overdue>1?"s":""]}),d.jsx("p",{className:"font-body text-xs text-stone-400",children:"Follow up with tenants immediately."})]})]}),d.jsx("div",{className:"flex gap-2 flex-wrap",children:[{key:"all",label:"All",count:r.length},{key:"overdue",label:"Overdue",count:E.overdue},{key:"urgent",label:"Urgent",count:E.urgent},{key:"soon",label:"Soon",count:E.soon},{key:"ok",label:"Upcoming",count:E.ok}].map(({key:M,label:N,count:k})=>d.jsxs("button",{onClick:()=>l(M),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-body font-medium border transition-all
              ${o===M?"bg-ink text-cream border-ink":"bg-white text-stone-500 border-stone-200 hover:border-stone-300"}`,children:[N,k>0&&d.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-xs font-semibold ${o===M?"bg-white/15 text-cream":"bg-stone-100 text-stone-500"}`,children:k})]},M))}),c?d.jsx("div",{className:"space-y-3",children:[1,2,3].map(M=>d.jsx("div",{className:"card h-20 animate-pulse bg-stone-100"},M))}):I.length===0?d.jsxs("div",{className:"card p-16 flex flex-col items-center text-center border-2 border-dashed border-stone-200",children:[d.jsx(Ou,{size:40,className:"text-stone-300 mb-3"}),d.jsx("p",{className:"font-body font-medium text-stone-500",children:o==="all"?"No reminders yet":`No ${o} reminders`}),d.jsx("p",{className:"font-body text-xs text-stone-300 mt-1",children:o==="all"&&"Create reminders to track rent due dates."})]}):d.jsx("div",{className:"card overflow-hidden",children:d.jsx(po,{children:I.map(M=>{var Z,ie;const N=K_(M),k=LLe[N],j=((ie=(Z=M.dueDate)==null?void 0:Z.toDate)==null?void 0:ie.call(Z))??new Date(M.dueDate),B=Ov(j,new Date),G=N==="paid";return d.jsxs(He.div,{initial:{opacity:0},animate:{opacity:G?.6:1},exit:{opacity:0,height:0},className:"flex items-center gap-4 px-5 py-4 border-b border-stone-100 last:border-0 hover:bg-stone-50/70 transition-colors group",children:[d.jsx("div",{className:`w-2.5 h-2.5 rounded-full flex-shrink-0 ${k.dot}`}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[d.jsx("span",{className:"font-body font-semibold text-sm text-ink",children:M.tenantName}),M.propertyName&&d.jsx("span",{className:"font-body text-xs text-stone-400",children:M.propertyName}),M.recurring&&d.jsx("span",{className:"font-body text-xs px-2 py-0.5 rounded-full bg-stone-100 text-stone-400",children:"Monthly"})]}),d.jsxs("div",{className:"flex items-center gap-3 mt-1 flex-wrap",children:[d.jsx("span",{className:`font-body text-xs font-medium px-2 py-0.5 rounded-full border ${k.bg} ${k.color} ${k.border}`,children:G?"Paid":Bf(j)?"Overdue":B===0?"Due today":B===1?"Due tomorrow":`Due in ${B}d`}),d.jsxs("span",{className:"font-body text-xs text-stone-400",children:[d.jsx(vy,{size:11,className:"inline mr-1"}),Na(j,"MMM d, yyyy")]})]})]}),d.jsx("div",{className:"text-right flex-shrink-0",children:d.jsx("p",{className:"font-display font-semibold text-lg text-ink",children:e(M.amount||0)})}),!G&&d.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsxs("button",{onClick:()=>P(M),className:"flex items-center gap-1.5 text-xs font-body font-medium px-3 py-1.5 rounded-lg bg-sage/10 text-sage border border-sage/20 hover:bg-sage/20 transition-colors",children:[d.jsx(c4,{size:13})," Paid"]}),d.jsx("button",{onClick:()=>O(M),className:"p-1.5 rounded-lg bg-rust/8 text-rust border border-rust/15 hover:bg-rust/15 transition-colors",children:d.jsx(Bx,{size:13})})]})]},M.id)})})}),d.jsx(Ru,{isOpen:f,onClose:()=>h(!1),title:"New Rent Reminder",children:d.jsxs("form",{onSubmit:A,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Link to Property (optional)"}),d.jsxs("select",{className:"input-base",value:x.propertyId,onChange:S,children:[d.jsx("option",{value:"",children:" Select property "}),a.map(M=>d.jsx("option",{value:M.id,children:M.name},M.id))]})]}),d.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Tenant Name *"}),d.jsx("input",{className:"input-base",placeholder:"Full name",value:x.tenantName,onChange:w("tenantName"),required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"label-xs",children:["Amount (",n,") *"]}),d.jsx("input",{className:"input-base",type:"number",placeholder:"e.g. 250000",value:x.amount,onChange:w("amount"),required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Due Date *"}),d.jsx("input",{className:"input-base",type:"date",value:x.dueDate,onChange:w("dueDate"),required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Notify N days before"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"range",min:1,max:14,value:x.notifyDaysBefore,onChange:M=>v(N=>({...N,notifyDaysBefore:parseInt(M.target.value)})),className:"flex-1 accent-sage"}),d.jsxs("span",{className:"font-mono text-sm font-medium text-ink w-8 text-right",children:[x.notifyDaysBefore,"d"]})]})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"checkbox",id:"recurring",checked:x.recurring,onChange:w("recurring"),className:"w-4 h-4 rounded accent-sage"}),d.jsx("label",{htmlFor:"recurring",className:"font-body text-sm text-ink cursor-pointer",children:"Recurring monthly reminder"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Notes (optional)"}),d.jsx("input",{className:"input-base",placeholder:"Any additional notes",value:x.notes,onChange:w("notes")})]}),d.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[d.jsx("button",{type:"button",onClick:()=>h(!1),className:"btn-secondary",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:p,className:"btn-primary",children:p?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(Os,{size:15})," Create Reminder"]})})]})]})})]})}function DLe(){const{user:t}=Mr(),{fmt:e}=hi(),[n,r]=z.useState([]),[i,a]=z.useState([]),[s,o]=z.useState(!0),[l,c]=z.useState("all"),[u,f]=z.useState("all");z.useEffect(()=>{if(!t)return;const x=[],v=Ev(t.uid,w=>{if(r(w),x.forEach(S=>S==null?void 0:S()),x.length=0,w.length===0){a([]),o(!1);return}w.forEach(S=>{const A=x9(t.uid,S.id,P=>{const O=P.map(I=>({...I,propertyName:S.name,propertyId:S.id}));a(I=>[...I.filter(C=>C.propertyId!==S.id),...O].sort((C,M)=>{var j,B,G,Z;const N=((B=(j=C.paidDate)==null?void 0:j.toDate)==null?void 0:B.call(j))??new Date(C.paidDate);return(((Z=(G=M.paidDate)==null?void 0:G.toDate)==null?void 0:Z.call(G))??new Date(M.paidDate))-N})),o(!1)});x.push(A)})});return()=>{v(),x.forEach(w=>w==null?void 0:w())}},[t]);const h=i.filter(x=>(l==="all"||x.status===l)&&(u==="all"||x.propertyId===u)),p=i.filter(x=>x.status==="paid").reduce((x,v)=>x+(v.amount||0),0),y=i.filter(x=>x.status==="pending").reduce((x,v)=>x+(v.amount||0),0),b=i.filter(x=>x.status==="late").reduce((x,v)=>x+(v.amount||0),0);return d.jsxs("div",{className:"space-y-6",children:[d.jsx(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},className:"flex items-start justify-between",children:d.jsxs("div",{children:[d.jsx("h1",{className:"font-display text-ink text-3xl font-semibold",children:"Payments"}),d.jsxs("p",{className:"font-body text-stone-400 text-sm mt-0.5",children:[i.length," records across ",n.length," properties"]})]})}),d.jsx("div",{className:"grid sm:grid-cols-3 gap-4",children:[{label:"Total Collected",value:p,color:"text-sage",bg:"bg-sage/10",icon:fV},{label:"Pending",value:y,color:"text-amber",bg:"bg-amber/10",icon:js},{label:"Late",value:b,color:"text-rust",bg:"bg-rust/10",icon:js}].map(({label:x,value:v,color:w,bg:S,icon:A},P)=>d.jsxs(He.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:P*.06},className:"stat-card",children:[d.jsx("div",{className:`w-10 h-10 rounded-xl ${S} flex items-center justify-center`,children:d.jsx(A,{size:18,className:w})}),d.jsxs("div",{children:[d.jsx("p",{className:`font-display text-2xl font-semibold ${w}`,children:e(v)}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:x})]})]},x))}),d.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[d.jsx("div",{className:"flex gap-2",children:["all","paid","pending","late"].map(x=>d.jsx("button",{onClick:()=>c(x),className:`px-3 py-1.5 rounded-lg text-sm font-body font-medium border capitalize transition-all
                ${l===x?"bg-ink text-cream border-ink":"bg-white text-stone-500 border-stone-200 hover:border-stone-300"}`,children:x},x))}),d.jsx("div",{className:"h-5 w-px bg-stone-200"}),d.jsxs("select",{className:"text-sm font-body border border-stone-200 rounded-lg px-3 py-1.5 bg-white text-stone-500 focus:outline-none focus:border-sage transition-colors",value:u,onChange:x=>f(x.target.value),children:[d.jsx("option",{value:"all",children:"All Properties"}),n.map(x=>d.jsx("option",{value:x.id,children:x.name},x.id))]})]}),s?d.jsx("div",{className:"card overflow-hidden",children:[1,2,3,4].map(x=>d.jsx("div",{className:"h-16 border-b border-stone-100 animate-pulse bg-stone-50/50"},x))}):h.length===0?d.jsxs("div",{className:"card p-16 flex flex-col items-center text-center border-2 border-dashed border-stone-200",children:[d.jsx(js,{size:40,className:"text-stone-300 mb-3"}),d.jsx("p",{className:"font-body font-medium text-stone-500",children:"No payments found"}),d.jsx("p",{className:"font-body text-xs text-stone-300 mt-1",children:i.length===0?"Payments will appear here automatically after tenants pay online.":"Try adjusting your filters."}),i.length===0&&d.jsxs(ur,{to:"/properties",className:"btn-secondary mt-4 text-sm",children:["Go to Properties ",d.jsx(nd,{size:14})]})]}):d.jsxs(He.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"card overflow-hidden",children:[d.jsxs("div",{className:"flex items-center gap-4 px-5 py-3 bg-stone-50 border-b border-stone-100 text-xs font-body font-semibold text-stone-400 uppercase tracking-wider",children:[d.jsx("span",{className:"flex-1",children:"Tenant / Property"}),d.jsx("span",{className:"w-28 text-right hidden sm:block",children:"Date"}),d.jsx("span",{className:"w-24 text-right hidden md:block",children:"Method"}),d.jsx("span",{className:"w-20 text-right",children:"Status"}),d.jsx("span",{className:"w-28 text-right",children:"Amount"})]}),h.map((x,v)=>d.jsx(Ek,{payment:x,isLast:v===h.length-1,showProperty:!0,onDownloadInvoice:Nk},`${x.id}-${x.propertyId}`))]})]})}function FLe(){const{user:t,profile:e}=Mr(),{country:n,countries:r,changeCountry:i}=hi(),[a,s]=z.useState(!1),[o,l]=z.useState((e==null?void 0:e.countryCode)||n.code),[c,u]=z.useState({rentDue:!0,overdue:!0,maintenance:!0,weeklyReport:!1}),f=y=>{l(y.target.value)},h=async()=>{s(!0);try{i(o),t!=null&&t.uid&&await cie(t.uid,{countryCode:o}),Ke.success("Country & currency updated!")}catch{Ke.error("Failed to save settings.")}finally{s(!1)}},p=r.find(y=>y.code===o);return d.jsxs("div",{className:"space-y-6 max-w-2xl",children:[d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},children:[d.jsx("h1",{className:"font-display text-ink text-3xl font-semibold",children:"Settings"}),d.jsx("p",{className:"font-body text-stone-400 text-sm mt-0.5",children:"App preferences and configuration"})]}),d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.05},className:"card p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-5 pb-5 border-b border-stone-100",children:[d.jsx(VA,{size:16,className:"text-stone-400"}),d.jsx("h2",{className:"font-body font-semibold text-ink text-sm",children:"Country & Currency"})]}),d.jsx("p",{className:"font-body text-xs text-stone-400 mb-3",children:"All rent amounts, payments and financial data will display in your selected currency."}),d.jsxs("div",{className:"relative mb-3",children:[d.jsx(VA,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("select",{className:"input-base pl-10 appearance-none",value:o,onChange:f,children:r.map(y=>d.jsxs("option",{value:y.code,children:[td(y.code)," ",y.name,"  ",y.currency," (",y.symbol,")"]},y.code))})]}),p&&d.jsxs("p",{className:"font-body text-xs text-stone-400 mb-4",children:[td(p.code)," Prices will show in ",d.jsxs("strong",{className:"text-sage",children:[p.currencyName," (",p.symbol,")"]})]}),d.jsx("button",{onClick:h,disabled:a||o===((e==null?void 0:e.countryCode)||n.code),className:"btn-primary btn-sm",children:a?d.jsx("div",{className:"w-3.5 h-3.5 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(Is,{size:13})," Save Changes"]})})]}),d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.08},className:"card p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-5 pb-5 border-b border-stone-100",children:[d.jsx(Ou,{size:16,className:"text-stone-400"}),d.jsx("h2",{className:"font-body font-semibold text-ink text-sm",children:"Notifications"})]}),d.jsx("div",{className:"space-y-1",children:[{key:"rentDue",label:"Rent Due Reminders",sub:"Get notified before rent is due"},{key:"overdue",label:"Overdue Alerts",sub:"Immediate alerts for overdue payments"},{key:"maintenance",label:"Maintenance Updates",sub:"Status changes on maintenance tickets"},{key:"weeklyReport",label:"Weekly Summary",sub:"Weekly digest of your portfolio"}].map(({key:y,label:b,sub:x})=>d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-stone-100 last:border-0",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-body font-medium text-sm text-ink",children:b}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:x})]}),d.jsx("button",{onClick:()=>u(v=>({...v,[y]:!v[y]})),className:`relative w-11 h-6 rounded-full transition-colors duration-200 ${c[y]?"bg-sage":"bg-stone-200"}`,children:d.jsx("span",{className:`absolute top-0.5 left-0.5 w-5 h-5 rounded-full bg-white shadow-sm transition-transform duration-200 ${c[y]?"translate-x-5":"translate-x-0"}`})})]},y))})]}),d.jsx(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.12},className:"card p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg bg-sage flex items-center justify-center",children:d.jsx(sc,{size:14,className:"text-cream"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-body font-semibold text-ink text-sm",children:"LeaseEase"}),d.jsx("p",{className:"font-body text-xs text-stone-300",children:"Version 1.0.0  Global"})]})]}),d.jsx("span",{className:"badge-sage",children:"Active"})]})})]})}function $Le(){var b,x;const{user:t,profile:e,logout:n}=Mr(),{country:r,currencyName:i,currencySymbol:a}=hi(),s=Bs(),[o,l]=he.useState(!1),c=async()=>{await n(),Ke.success("Signed out."),s("/login")},u=async()=>{try{await v9(t.email),l(!0),Ke.success("Password reset email sent!")}catch{Ke.error("Failed to send reset email.")}},f=((e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||"U").split(" ").map(v=>v[0]).join("").toUpperCase().slice(0,2),h=(b=t==null?void 0:t.metadata)!=null&&b.creationTime?new Date(t.metadata.creationTime).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}):"",p=(e==null?void 0:e.role)||"landlord",y=Ls[((x=e==null?void 0:e.subscription)==null?void 0:x.planId)||"free"]||Ls.free;return d.jsxs("div",{className:"space-y-6 max-w-2xl",children:[d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},children:[d.jsx("h1",{className:"font-display text-ink text-3xl font-semibold",children:"Profile"}),d.jsx("p",{className:"font-body text-stone-400 text-sm mt-0.5",children:"Your personal identity and account details"})]}),d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.05},className:"card overflow-hidden",children:[d.jsxs("div",{className:"bg-gradient-to-br from-ink to-ink-light p-6 relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"radial-gradient(circle at 1px 1px, #F5F0E8 1px, transparent 0)",backgroundSize:"24px 24px"}}),d.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-sage/10 rounded-full blur-2xl"}),d.jsxs("div",{className:"relative flex items-center gap-5",children:[d.jsx("div",{className:"w-20 h-20 rounded-2xl bg-sage/20 border-2 border-sage/40 flex items-center justify-center flex-shrink-0 shadow-lg",children:d.jsx("span",{className:"font-display font-bold text-sage text-3xl",children:f})}),d.jsxs("div",{children:[d.jsx("h2",{className:"font-display text-cream text-2xl font-semibold",children:(e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||"User"}),d.jsx("p",{className:"font-body text-stone-400 text-sm mt-0.5",children:t==null?void 0:t.email}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsx("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-lg text-xs font-body font-semibold capitalize ${p==="tenant"?"bg-sage/15 text-sage":"bg-amber/15 text-amber"}`,children:p}),p!=="tenant"&&d.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-body font-semibold ${y.badgeColor}`,children:[d.jsx(Ch,{size:10})," ",y.badge]})]})]})]})]}),d.jsx("div",{className:"p-6 space-y-4",children:d.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[d.jsx(Wd,{icon:il,label:"Full Name",value:(e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||""}),d.jsx(Wd,{icon:rl,label:"Email",value:(t==null?void 0:t.email)||""}),d.jsx(Wd,{icon:f4,label:"Phone",value:(e==null?void 0:e.phone)||""}),d.jsx(Wd,{icon:Up,label:"Country",value:r?`${td(r.code)} ${r.name}`:""}),d.jsx(Wd,{icon:aV,label:"Member Since",value:h}),d.jsx(Wd,{label:"Currency",value:r?`${r.currencyName} (${r.symbol})`:"",icon:()=>d.jsx("span",{className:"text-sm font-semibold text-stone-400",children:a})})]})})]}),p!=="tenant"&&d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.08},className:"card p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-5 pb-4 border-b border-stone-100",children:[d.jsx(Ch,{size:16,className:"text-stone-400"}),d.jsx("h3",{className:"font-body font-semibold text-ink text-sm",children:"Subscription"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("p",{className:"font-body font-semibold text-ink text-lg",children:y.name}),d.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-body font-semibold ${y.badgeColor}`,children:[d.jsx(Ch,{size:10})," ",y.badge]})]}),d.jsxs("p",{className:"font-body text-xs text-stone-400",children:[y.price===0?"Free forever":`$${y.price}/${y.period}`,"  ",y.maxProperties===1/0?"Unlimited":`Up to ${y.maxProperties}`," properties"]})]}),d.jsx(ur,{to:"/subscription",className:"btn-secondary text-sm",children:y.id==="free"?"Upgrade":"Manage Plan"})]})]}),d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.1},className:"card p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-5 pb-4 border-b border-stone-100",children:[d.jsx(nce,{size:16,className:"text-stone-400"}),d.jsx("h3",{className:"font-body font-semibold text-ink text-sm",children:"Security"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-body font-medium text-sm text-ink",children:"Password"}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:"Send a reset link to your email"})]}),d.jsx("button",{onClick:u,disabled:o,className:"btn-secondary text-sm",children:o?d.jsxs(d.Fragment,{children:[d.jsx(Is,{size:14,className:"text-sage"})," Email Sent"]}):"Reset Password"})]})]}),d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.15},className:"card p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-stone-100",children:[d.jsx(zA,{size:16,className:"text-stone-400"}),d.jsx("h3",{className:"font-body font-semibold text-ink text-sm",children:"Account"})]}),d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-body font-medium text-sm text-ink",children:(e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||"User"}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:t==null?void 0:t.email})]}),d.jsx("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-lg text-xs font-body font-semibold capitalize ${(e==null?void 0:e.role)==="tenant"?"bg-sage/10 text-sage":"bg-amber/10 text-amber"}`,children:(e==null?void 0:e.role)||"landlord"})]}),d.jsxs("button",{onClick:c,className:"btn-danger w-full",children:[d.jsx(zA,{size:15})," Sign Out"]})]})]})}function Wd({icon:t,label:e,value:n}){return d.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-stone-50 border border-stone-100",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg bg-white border border-stone-100 flex items-center justify-center flex-shrink-0 mt-0.5",children:typeof t=="function"&&t.length===0?d.jsx(t,{}):d.jsx(t,{size:14,className:"text-stone-400"})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:"font-body text-[11px] text-stone-400 uppercase tracking-wider font-semibold",children:e}),d.jsx("p",{className:"font-body text-sm text-ink font-medium mt-0.5 truncate",children:n})]})]})}const SD="ABCDEFGHJKMNPQRSTUVWXYZ23456789";function AD(t=6){const e=crypto.getRandomValues(new Uint8Array(t));return Array.from(e,n=>SD[n%SD.length]).join("")}async function BLe(t,e,n){let r=AD(),i=await ic(Un(Lt,"inviteCodes",r)),a=0;for(;i.exists()&&a<5;)r=AD(),i=await ic(Un(Lt,"inviteCodes",r)),a++;await _T(Un(Lt,"inviteCodes",r),{code:r,landlordUid:t,propertyId:e,propertyName:n||"",status:"active",createdAt:ni()});const s=Un(Lt,"users",t,"properties",e);return await Vs(s,{inviteCode:r}),r}async function VLe(t,e){try{const n=ns(ea(Lt,"inviteCodes"),Ur("landlordUid","==",t),Ur("propertyId","==",e),Ur("status","==","active")),r=await $p(n);if(!r.empty)return r.docs[0].data().code}catch(n){console.warn("inviteCodes composite query failed, falling back to property doc:",n.message)}try{const n=await ic(Un(Lt,"users",t,"properties",e));if(n.exists()){const r=n.data().inviteCode;if(r){const i=await ic(Un(Lt,"inviteCodes",r));if(i.exists()&&i.data().status==="active")return r}}}catch(n){console.warn("Fallback invite code read failed:",n.message)}return null}async function ULe(t){const e=Un(Lt,"inviteCodes",t);await Vs(e,{status:"revoked"})}async function zLe(t,e,n){const r=await VLe(t,e);return r&&await ULe(r),BLe(t,e,n)}function qLe(){const t=Bs(),e=$u(),{user:n}=Mr(),{fmt:r}=hi(),{propertyId:i,propertyName:a,inviteCode:s,monthlyRent:o=0,rentType:l="monthly"}=e.state||{},c=o,u=o+c,f=Na(pce(new Date,30),"MMM d, yyyy"),[h,p]=z.useState("main"),[y,b]=z.useState(s||""),[x,v]=z.useState(!1),[w,S]=z.useState(!1);if(!i||!a)return d.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[d.jsx("p",{className:"font-body text-stone-400 mb-4",children:"No property data found."}),d.jsx("button",{onClick:()=>t("/properties"),className:"btn-primary",children:"Go to Properties"})]});const A=async()=>{try{await navigator.clipboard.writeText(y),v(!0),Ke.success("Invite code copied!"),setTimeout(()=>v(!1),2e3)}catch{Ke.error("Failed to copy.")}},P=async()=>{if(confirm("Regenerate invite code? The current code will stop working.")){S(!0);try{const O=await zLe(n.uid,i,a);b(O),Ke.success("New invite code generated!")}catch{Ke.error("Failed to regenerate.")}finally{S(!1)}}};return d.jsx("div",{className:"min-h-[70vh] flex items-center justify-center px-4",children:d.jsxs(po,{mode:"wait",children:[h==="main"&&d.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.35},className:"w-full max-w-lg text-center",children:[d.jsx("div",{className:"w-20 h-20 rounded-full bg-sage/10 flex items-center justify-center mx-auto mb-6",children:d.jsx(Hle,{size:40,className:"text-sage"})}),d.jsx("h1",{className:"font-display text-ink text-3xl font-semibold mb-2",children:"Property Created!"}),d.jsxs("p",{className:"font-body text-stone-400 text-sm mb-2",children:[d.jsx("span",{className:"font-semibold text-ink",children:a})," has been added to your portfolio."]}),d.jsx("p",{className:"font-body text-stone-400 text-sm mb-10",children:"What would you like to do next?"}),d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 text-left",children:[d.jsxs("button",{onClick:()=>p("invite"),className:"group card p-5 border-2 border-sage/20 hover:border-sage/50 hover:shadow-deep transition-all text-left",children:[d.jsx("div",{className:"w-11 h-11 rounded-xl bg-sage/10 flex items-center justify-center mb-3 group-hover:bg-sage/20 transition-colors",children:d.jsx(Vx,{size:20,className:"text-sage"})}),d.jsx("p",{className:"font-body font-semibold text-ink text-sm mb-1",children:"Invite Tenant to App"}),d.jsx("p",{className:"font-body text-xs text-stone-400 leading-relaxed",children:"Generate and share an invite code so your tenant can join this property."}),d.jsxs("div",{className:"flex items-center gap-1 mt-3 text-sage font-body text-xs font-medium",children:["Continue ",d.jsx(ks,{size:12})]})]}),d.jsxs("button",{onClick:()=>t("/properties"),className:"group card p-5 border-2 border-stone-100 hover:border-stone-300 hover:shadow-deep transition-all text-left",children:[d.jsx("div",{className:"w-11 h-11 rounded-xl bg-stone-100 flex items-center justify-center mb-3 group-hover:bg-stone-200 transition-colors",children:d.jsx(Cs,{size:20,className:"text-stone-500"})}),d.jsx("p",{className:"font-body font-semibold text-ink text-sm mb-1",children:"Add Later"}),d.jsx("p",{className:"font-body text-xs text-stone-400 leading-relaxed",children:"Skip for now and go to your property dashboard. You can invite tenants anytime."}),d.jsxs("div",{className:"flex items-center gap-1 mt-3 text-stone-400 font-body text-xs font-medium",children:["Go to Dashboard ",d.jsx(ks,{size:12})]})]})]}),o>0&&d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.25},className:"mt-10 text-left",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4 justify-center",children:[d.jsx(Qle,{size:16,className:"text-sage"}),d.jsx("p",{className:"font-body text-xs font-semibold text-sage uppercase tracking-wider",children:"First Payment Preview"})]}),d.jsxs("div",{className:"card border border-stone-200 overflow-hidden",children:[d.jsxs("div",{className:"bg-gradient-to-br from-ink to-ink-light px-5 py-4",children:[d.jsx("p",{className:"font-display text-cream text-sm font-semibold",children:"Invoice Preview"}),d.jsx("p",{className:"font-body text-stone-400 text-xs mt-0.5",children:a})]}),d.jsxs("div",{className:"divide-y divide-stone-100",children:[d.jsx(Y_,{label:"Rent Amount",value:r(o)}),d.jsx(Y_,{label:"Security Deposit",value:r(c),sub:"1 monthly rent"}),d.jsx(Y_,{label:"Due Date",value:f,icon:d.jsx(aV,{size:13,className:"text-stone-400"})})]}),d.jsxs("div",{className:"bg-stone-50 px-5 py-3 flex items-center justify-between",children:[d.jsx("span",{className:"font-body text-xs font-semibold text-stone-500 uppercase tracking-wider",children:"Total Due"}),d.jsx("span",{className:"font-display text-lg font-bold text-sage",children:r(u)})]})]}),d.jsx("p",{className:"font-body text-xs text-stone-400 text-center mt-3",children:"This is a preview based on default settings. Amounts may be adjusted before sending."})]})]},"main"),h==="invite"&&d.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.35},className:"w-full max-w-md text-center",children:[d.jsx("div",{className:"w-16 h-16 rounded-full bg-sage/10 flex items-center justify-center mx-auto mb-5",children:d.jsx(ice,{size:28,className:"text-sage"})}),d.jsx("h2",{className:"font-display text-ink text-2xl font-semibold mb-1",children:"Invite Your Tenant"}),d.jsxs("p",{className:"font-body text-sm text-stone-400 mb-8",children:["Share this unique code with your tenant for ",d.jsx("span",{className:"font-semibold text-ink",children:a}),"."]}),d.jsx("div",{className:"flex justify-center gap-2 mb-6",children:d.jsx(po,{mode:"wait",children:d.jsx(He.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"flex gap-2",children:y.split("").map((O,I)=>d.jsx("span",{className:"inline-flex items-center justify-center w-12 h-14 rounded-xl bg-white border-2 border-sage/20 font-display text-2xl font-bold text-ink shadow-sm",children:O},I))},y)})}),d.jsx("p",{className:"font-body text-xs text-stone-400 mb-6",children:"Your tenant can use this code during sign-up to link to this property."}),d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[d.jsxs("button",{onClick:A,className:`inline-flex items-center gap-2 px-5 py-2.5 rounded-xl text-sm font-body font-medium border transition-all ${x?"bg-sage/10 text-sage border-sage/30":"bg-sage text-cream border-sage hover:bg-sage/90"}`,children:[x?d.jsx(Is,{size:15}):d.jsx(sV,{size:15}),x?"Copied!":"Copy to Clipboard"]}),d.jsxs("button",{onClick:P,disabled:w,className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-body font-medium bg-white text-stone-500 border border-stone-200 hover:border-stone-300 transition-all disabled:opacity-50",children:[d.jsx(tce,{size:14,className:w?"animate-spin":""}),"Regenerate"]})]}),d.jsxs("div",{className:"flex items-center justify-center gap-3 pt-4 border-t border-stone-100",children:[d.jsx("button",{onClick:()=>p("main"),className:"btn-secondary text-sm",children:" Back"}),d.jsxs("button",{onClick:()=>t(`/properties/${i}`),className:"btn-primary text-sm",children:["View Property ",d.jsx(ks,{size:14})]})]})]},"invite")]})})}function Y_({label:t,value:e,sub:n,icon:r}){return d.jsxs("div",{className:"flex items-center justify-between px-5 py-3",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-body text-sm text-ink font-medium",children:t}),n&&d.jsx("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:n})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[r,d.jsx("span",{className:"font-body text-sm font-semibold text-ink",children:e})]})]})}const WLe={free:Cs,pro:oce,business:Ch},X_=(t=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t,duration:.4}});function HLe(){const{user:t}=Mr(),[e,n]=z.useState(null),[r,i]=z.useState(!0),[a,s]=z.useState(null);z.useEffect(()=>{t&&Iw(t.uid).then(l=>{n(l),i(!1)})},[t]);const o=async l=>{if(l!==(e==null?void 0:e.id)){s(l);try{await Aje(t.uid,l),n(Ls[l]);const c=Ls[l];Ke.success(`Switched to ${c.name} plan!`)}catch{Ke.error("Failed to update plan.")}finally{s(null)}}};return r?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"w-8 h-8 border-2 border-sage border-t-transparent rounded-full animate-spin"})}):d.jsxs("div",{className:"space-y-8 max-w-5xl mx-auto",children:[d.jsxs(He.div,{...X_(0),className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[d.jsx(rce,{size:20,className:"text-sage"}),d.jsx("span",{className:"font-body text-xs font-semibold text-sage uppercase tracking-wider",children:"Subscription Plans"})]}),d.jsx("h1",{className:"font-display text-ink text-3xl sm:text-4xl font-semibold mb-2",children:"Choose your plan"}),d.jsx("p",{className:"font-body text-stone-400 text-sm max-w-md mx-auto",children:"Scale your property management with the right plan. Upgrade or downgrade anytime."})]}),d.jsx("div",{className:"grid md:grid-cols-3 gap-5",children:Lh.map((l,c)=>{const u=Ls[l],f=(e==null?void 0:e.id)===l,h=WLe[l],p=Lh.indexOf(e==null?void 0:e.id),b=Lh.indexOf(l)>p;return d.jsxs(He.div,{...X_(.1+c*.08),className:`relative card flex flex-col overflow-hidden transition-all ${u.popular?"border-2 border-sage shadow-deep":f?"border-2 border-sage/30":"border border-stone-200 hover:border-stone-300"}`,children:[u.popular&&d.jsx("div",{className:"absolute top-0 right-0",children:d.jsx("div",{className:"bg-sage text-cream font-body text-xs font-semibold px-3 py-1 rounded-bl-xl",children:"Popular"})}),d.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center ${l==="business"?"bg-amber/10":l==="pro"?"bg-sage/10":"bg-stone-100"}`,children:d.jsx(h,{size:20,className:l==="business"?"text-amber":l==="pro"?"text-sage":"text-stone-500"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-display text-ink text-lg font-semibold",children:u.name}),f&&d.jsx("span",{className:"font-body text-xs text-sage font-medium",children:"Current plan"})]})]}),d.jsxs("div",{className:"mb-4",children:[u.price===0?d.jsxs("div",{className:"flex items-baseline gap-1",children:[d.jsx("span",{className:"font-display text-ink text-4xl font-bold",children:"$0"}),d.jsx("span",{className:"font-body text-stone-400 text-sm",children:"/ forever"})]}):d.jsxs("div",{className:"flex items-baseline gap-1",children:[d.jsxs("span",{className:"font-display text-ink text-4xl font-bold",children:["$",u.price]}),d.jsxs("span",{className:"font-body text-stone-400 text-sm",children:["/ ",u.period]})]}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-1",children:u.description})]}),d.jsx("div",{className:"flex-1 space-y-2.5 mb-6",children:u.features.map(({label:x,included:v})=>d.jsxs("div",{className:"flex items-center gap-2.5",children:[v?d.jsx("div",{className:"w-5 h-5 rounded-full bg-sage/10 flex items-center justify-center flex-shrink-0",children:d.jsx(Is,{size:12,className:"text-sage"})}):d.jsx("div",{className:"w-5 h-5 rounded-full bg-stone-100 flex items-center justify-center flex-shrink-0",children:d.jsx(Ux,{size:10,className:"text-stone-300"})}),d.jsx("span",{className:`font-body text-sm ${v?"text-ink":"text-stone-300"}`,children:x})]},x))}),d.jsx("button",{onClick:()=>o(l),disabled:f||a!==null,className:`w-full py-3 rounded-xl text-sm font-body font-semibold transition-all ${f?"bg-sage/10 text-sage border border-sage/20 cursor-default":u.popular?"bg-sage text-cream hover:bg-sage/90 shadow-sm":"bg-white text-ink border border-stone-200 hover:border-sage hover:text-sage"} disabled:opacity-60`,children:a===l?d.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mx-auto"}):f?d.jsxs("span",{className:"flex items-center justify-center gap-1.5",children:[d.jsx(Is,{size:14})," Current Plan"]}):b?`Upgrade to ${u.name}`:`Switch to ${u.name}`})]})]},l)})}),d.jsxs(He.p,{...X_(.4),className:"text-center font-body text-xs text-stone-400",children:["Plans can be changed at any time. Changes take effect immediately.",d.jsx("br",{}),"No credit card required for Free plan."]})]})}const ND=()=>({id:crypto.randomUUID(),name:"",rent:"",rentType:"monthly",tenantName:"",tenantEmail:""});function GLe(){const t=Bs(),{user:e,profile:n}=Mr(),{currencySymbol:r}=hi(),[i,a]=z.useState(1),[s,o]=z.useState(!1),[l,c]=z.useState({name:"",address:""}),[u,f]=z.useState([ND()]),h=((n==null?void 0:n.fullName)||(e==null?void 0:e.displayName)||"there").split(" ")[0],p=()=>f(S=>[...S,ND()]),y=S=>{u.length!==1&&f(A=>A.filter(P=>P.id!==S))},b=(S,A,P)=>{f(O=>O.map(I=>I.id===S?{...I,[A]:P}:I))},x=S=>{if(S.preventDefault(),!l.name.trim()){Ke.error("Please enter a property/building name.");return}a(2)},v=async()=>{const S=u.filter(A=>A.name.trim());if(S.length===0){Ke.error("Add at least one apartment/unit.");return}o(!0);try{for(const A of S){const P=await ST(e.uid,{name:A.name.trim(),address:l.address.trim(),buildingName:l.name.trim(),unitNumber:A.name.trim(),type:"Apartment",status:A.tenantName?"occupied":"vacant",monthlyRent:parseInt(A.rent)||0,rentType:A.rentType||"monthly",tenantName:A.tenantName||"",tenantEmail:A.tenantEmail||"",tenantPhone:"",bedrooms:0,bathrooms:0,sqft:0,floor:"",description:""})}Ke.success(`${S.length} unit${S.length>1?"s":""} added to ${l.name}!`),t("/dashboard")}catch(A){console.error(A),Ke.error("Failed to save. Please try again.")}finally{o(!1)}},w=()=>t("/dashboard");return d.jsx("div",{className:"min-h-dvh bg-cream flex items-center justify-center p-4 sm:p-8",children:d.jsxs("div",{className:"w-full max-w-2xl",children:[d.jsxs(He.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"flex items-center gap-3 mb-8",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-sage flex items-center justify-center",children:d.jsx(sc,{size:18,className:"text-cream"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-display text-ink text-lg font-semibold leading-tight",children:"LeaseEase"}),d.jsx("p",{className:"font-body text-xs text-stone-400",children:"Set up your first property"})]})]}),d.jsx("div",{className:"flex items-center gap-2 mb-8",children:[1,2].map(S=>d.jsx("div",{className:"flex-1 h-1.5 rounded-full overflow-hidden bg-stone-200",children:d.jsx(He.div,{className:"h-full bg-sage rounded-full",initial:{width:"0%"},animate:{width:i>=S?"100%":"0%"},transition:{duration:.4,ease:"easeOut"}})},S))}),d.jsxs(po,{mode:"wait",children:[i===1&&d.jsxs(He.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[d.jsxs("h1",{className:"font-display text-ink text-2xl sm:text-3xl font-semibold mb-2",children:["Welcome, ",d.jsx("em",{children:h}),"! "]}),d.jsx("p",{className:"font-body text-stone-400 text-sm mb-8",children:"Let's add your first property or building to get started."}),d.jsxs("form",{onSubmit:x,className:"card p-6 sm:p-8 space-y-5",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Property / Building Name *"}),d.jsxs("div",{className:"relative",children:[d.jsx(Cs,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-10",placeholder:"e.g. Sunset Apartments",value:l.name,onChange:S=>c(A=>({...A,name:S.target.value})),autoFocus:!0,required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Address"}),d.jsxs("div",{className:"relative",children:[d.jsx(Up,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-10",placeholder:"e.g. 42 Marina Road, Lagos",value:l.address,onChange:S=>c(A=>({...A,address:S.target.value}))})]})]}),d.jsx("div",{className:"flex items-center gap-3 pt-2",children:d.jsxs("button",{type:"submit",className:"btn-primary flex-1",children:["Add Apartments / Units ",d.jsx(ks,{size:15})]})}),d.jsx("button",{type:"button",onClick:w,className:"w-full text-center font-body text-xs text-stone-400 hover:text-stone-500 transition-colors pt-1",children:"Skip for now  go to dashboard"})]})]},"step1"),i===2&&d.jsxs(He.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[d.jsx("div",{className:"flex items-center gap-2 mb-1",children:d.jsx("button",{onClick:()=>a(1),className:"font-body text-xs text-stone-400 hover:text-ink transition-colors",children:" Back"})}),d.jsxs("h1",{className:"font-display text-ink text-2xl sm:text-3xl font-semibold mb-1",children:["Add units to ",d.jsx("em",{className:"text-sage",children:l.name})]}),d.jsx("p",{className:"font-body text-stone-400 text-sm mb-6",children:"Add the apartments or units in this building. You can always add more later."}),d.jsx("div",{className:"space-y-4",children:u.map((S,A)=>d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},className:"card p-5",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("span",{className:"font-body text-xs font-semibold text-stone-400 uppercase tracking-wider",children:["Unit ",A+1]}),u.length>1&&d.jsx("button",{onClick:()=>y(S.id),className:"p-1.5 rounded-lg text-stone-300 hover:text-rust hover:bg-rust/8 transition-colors",children:d.jsx(Bx,{size:14})})]}),d.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Apartment Number / Name *"}),d.jsx("input",{className:"input-base",placeholder:"e.g. Unit 4B, Room 12",value:S.name,onChange:P=>b(S.id,"name",P.target.value)})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"label-xs",children:["Rent Amount (",r,")"]}),d.jsxs("div",{className:"relative",children:[d.jsx(u4,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-9",type:"number",placeholder:"e.g. 250000",value:S.rent,onChange:P=>b(S.id,"rent",P.target.value)})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Billing Cycle"}),d.jsxs("div",{className:"relative",children:[d.jsx(l4,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsxs("select",{className:"input-base pl-9 appearance-none",value:S.rentType,onChange:P=>b(S.id,"rentType",P.target.value),children:[d.jsx("option",{value:"monthly",children:"Monthly"}),d.jsx("option",{value:"yearly",children:"Yearly"}),d.jsx("option",{value:"weekly",children:"Weekly"}),d.jsx("option",{value:"daily",children:"Daily"})]})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"label-xs",children:["Tenant Name ",d.jsx("span",{className:"text-stone-300 normal-case",children:"(optional)"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(Vx,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-9",placeholder:"Skip if unknown",value:S.tenantName,onChange:P=>b(S.id,"tenantName",P.target.value)})]})]})]})]},S.id))}),d.jsxs("button",{onClick:p,className:"w-full mt-4 py-3 rounded-xl border-2 border-dashed border-stone-200 hover:border-sage/40 text-stone-400 hover:text-sage font-body text-sm font-medium transition-all flex items-center justify-center gap-2",children:[d.jsx(Os,{size:16})," Add Another Unit"]}),d.jsx("div",{className:"flex items-center gap-3 mt-6",children:d.jsx("button",{onClick:v,disabled:s,className:"btn-primary flex-1 py-3",children:s?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(Is,{size:16}),"Finish Setup"]})})}),d.jsx("button",{onClick:w,className:"w-full text-center font-body text-xs text-stone-400 hover:text-stone-500 transition-colors mt-3",children:"Skip for now  go to dashboard"})]},"step2")]})]})})}const Hd=(t=0)=>({initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:t,duration:.35}});function KLe(){const{user:t,profile:e}=Mr(),{fmt:n,fmtRent:r,country:i}=hi(),[a,s]=z.useState([]),[o,l]=z.useState([]),[c,u]=z.useState([]);z.useEffect(()=>{if(!(t!=null&&t.email))return;const y=AT(t.email,s),b=w9(t.email,l);return()=>{y==null||y(),b==null||b()}},[t==null?void 0:t.email]),z.useEffect(()=>{if(!(t!=null&&t.uid))return;const y=Pv(t.uid,b=>{u(b.filter(x=>x.createdBy==="tenant"&&x.status!=="paid"))});return()=>y==null?void 0:y()},[t==null?void 0:t.uid]);const f=o.filter(y=>y.status==="paid").reduce((y,b)=>y+(b.amount||0),0),h=a.map(y=>y.monthlyRent||0).reduce((y,b)=>y+b,0),p=((e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||"there").split(" ")[0];return d.jsxs("div",{className:"space-y-8",children:[d.jsx(He.div,{...Hd(0),className:"flex items-start justify-between",children:d.jsxs("div",{children:[d.jsx("p",{className:"font-body text-stone-400 text-sm",children:i!=null&&i.name?`${i.name}  ${i.currency}`:"Your tenant portal"}),d.jsxs("h1",{className:"font-display text-ink text-3xl font-semibold mt-0.5",children:["Welcome, ",d.jsx("em",{children:p})]})]})}),d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:[d.jsxs(He.div,{...Hd(.05),className:"stat-card",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-sage/10 flex items-center justify-center",children:d.jsx(Mb,{size:18,className:"text-sage"})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-display text-ink text-2xl font-semibold",children:a.length}),d.jsx("div",{className:"font-body text-stone-400 text-xs mt-0.5",children:"Active homes"})]})]}),d.jsxs(He.div,{...Hd(.1),className:"stat-card",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber/10 flex items-center justify-center",children:d.jsx(js,{size:18,className:"text-amber"})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-display text-ink text-2xl font-semibold",children:n(h)}),d.jsx("div",{className:"font-body text-stone-400 text-xs mt-0.5",children:"Typical monthly rent"})]})]}),d.jsxs(He.div,{...Hd(.15),className:"stat-card hidden lg:flex",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-sage/10 flex items-center justify-center",children:d.jsx(js,{size:18,className:"text-sage"})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-display text-ink text-2xl font-semibold",children:n(f)}),d.jsx("div",{className:"font-body text-stone-400 text-xs mt-0.5",children:"Total paid here"})]})]})]}),c.length>0&&d.jsxs(He.div,{...Hd(.18),className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"font-display text-ink text-lg font-semibold",children:"Upcoming reminders"}),d.jsxs(ur,{to:"/tenant/reminders",className:"btn-ghost text-xs",children:["Manage ",d.jsx(ks,{size:13})]})]}),d.jsx("ul",{className:"space-y-2",children:c.slice(0,5).map(y=>{var x,v;const b=((v=(x=y.dueDate)==null?void 0:x.toDate)==null?void 0:v.call(x))??new Date(y.dueDate);return d.jsxs("li",{className:"flex items-center justify-between gap-3 py-2 border-b border-stone-100 last:border-0",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ou,{size:14,className:"text-amber"}),d.jsx("span",{className:"font-body text-sm text-ink",children:y.propertyName||"Rent"})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:"font-display text-sm font-semibold text-ink",children:n(y.amount||0)}),d.jsxs("span",{className:"font-body text-xs text-stone-400 block",children:["Due ",Na(b,"MMM d")]})]})]},y.id)})})]}),d.jsxs(He.div,{...Hd(.2),className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"font-display text-ink text-lg font-semibold",children:"Your homes"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ur,{to:"/tenant/reminders",className:"btn-ghost text-xs",children:"Reminders"}),d.jsxs(ur,{to:"/tenant/payments",className:"btn-ghost text-xs",children:["View payments ",d.jsx(ks,{size:13})]})]})]}),a.length===0?d.jsxs("div",{className:"flex flex-col items-center text-center py-10",children:[d.jsx(Mb,{size:32,className:"text-stone-300 mb-3"}),d.jsx("p",{className:"font-body text-sm text-stone-500",children:"No homes are linked to your email yet."}),d.jsx("p",{className:"font-body text-xs text-stone-300 mt-1",children:"Ask your landlord to add your email on the property in LeaseEase."})]}):d.jsx("div",{className:"space-y-3",children:a.map(y=>d.jsxs("div",{className:"flex items-center justify-between gap-3 p-4 rounded-xl border border-stone-100 bg-stone-50 hover:bg-stone-100 transition-colors",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-body font-semibold text-sm text-ink",children:y.name}),y.unitNumber&&d.jsxs("p",{className:"font-body text-xs text-sage font-medium flex items-center gap-1 mt-0.5",children:[d.jsx(sp,{size:10})," ",ld(y)]}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:y.address})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"font-display text-sm font-semibold text-ink",children:r(y.monthlyRent||0,y.rentType||"monthly")}),d.jsx("p",{className:"font-body text-[11px] text-stone-400 mt-0.5",children:y.status==="occupied"?"Active lease":y.status})]})]},y.id))})]})]})}async function YLe({gateway:t="stripe",landlordId:e,propertyId:n,propertyName:r,propertyAddress:i,propertyBuildingName:a,propertyUnitNumber:s,propertyFloor:o,tenantEmail:l,tenantName:c,amount:u,currency:f,successUrl:h,cancelUrl:p,metadata:y={}}){throw new Error("Payments API base URL is not configured (VITE_PAYMENTS_API_BASE).")}const Q_=(t=0)=>({initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:t,duration:.35}});function XLe(){const{user:t}=Mr(),{fmt:e,currency:n,currencySymbol:r}=hi(),[i,a]=z.useState([]),[s,o]=z.useState([]),[l,c]=z.useState(!0),[u,f]=z.useState(!1),[h,p]=z.useState("");z.useEffect(()=>{if(!(t!=null&&t.email))return;const w=w9(t.email,A=>{a(A),c(!1)}),S=AT(t.email,o);return()=>{w==null||w(),S==null||S()}},[t==null?void 0:t.email]);const y=i.filter(w=>w.status==="paid").reduce((w,S)=>w+(S.amount||0),0),b=w=>{Nk(w)},x=async()=>{if(!h){Ke.error("Select a home to pay for.");return}const w=s.find(A=>A.id===h);if(!w)return;const S=w.monthlyRent||0;if(!S){Ke.error("This home has no rent amount configured yet.");return}f(!0);try{await YLe({landlordId:w.ownerId,propertyId:w.id,propertyName:w.name,propertyAddress:w.address||"",propertyBuildingName:w.buildingName||"",propertyUnitNumber:w.unitNumber||"",propertyFloor:w.floor||"",tenantEmail:t.email,tenantName:t.displayName||"",amount:S,currency:n})}catch(A){Ke.error(A.message||"Unable to start payment.")}finally{f(!1)}},v=s.length>0;return d.jsxs("div",{className:"space-y-6",children:[d.jsx(He.div,{...Q_(0),className:"flex items-start justify-between",children:d.jsxs("div",{children:[d.jsx("h1",{className:"font-display text-ink text-3xl font-semibold",children:"Payments"}),d.jsxs("p",{className:"font-body text-stone-400 text-sm mt-0.5",children:[i.length," records  ",e(y)," paid via LeaseEase"]})]})}),d.jsxs(He.div,{...Q_(.08),className:"card p-4 flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"w-9 h-9 rounded-lg bg-sage/10 flex items-center justify-center flex-shrink-0",children:d.jsx(js,{size:18,className:"text-sage"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-body text-sm font-semibold text-ink",children:"Pay your rent online"}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:"Choose a home and well redirect you to a secure checkout page."})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:items-center",children:[d.jsxs("select",{className:"input-base text-sm",value:h,onChange:w=>p(w.target.value),disabled:!v,children:[d.jsx("option",{value:"",children:v?"Select home":"No homes linked yet"}),s.map(w=>d.jsxs("option",{value:w.id,children:[w.name,w.unitNumber?` - ${ld(w)}`:"","  ",e(w.monthlyRent||0)]},w.id))]}),d.jsx("button",{onClick:x,disabled:!v||u,className:"btn-primary text-sm flex items-center justify-center gap-1.5",children:u?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:["Pay ",r,d.jsx(ks,{size:14})]})})]})]}),l?d.jsx("div",{className:"card overflow-hidden",children:[1,2,3,4].map(w=>d.jsx("div",{className:"h-16 border-b border-stone-100 animate-pulse bg-stone-50/50"},w))}):i.length===0?d.jsxs("div",{className:"card p-16 flex flex-col items-center text-center border-2 border-dashed border-stone-200",children:[d.jsx(js,{size:40,className:"text-stone-300 mb-3"}),d.jsx("p",{className:"font-body font-medium text-stone-500",children:"No payments yet"}),d.jsx("p",{className:"font-body text-xs text-stone-300 mt-1",children:"When you pay through LeaseEase, your receipts will appear here."})]}):d.jsxs(He.div,{...Q_(.1),className:"card overflow-hidden",children:[d.jsxs("div",{className:"flex items-center gap-4 px-5 py-3 bg-stone-50 border-b border-stone-100 text-xs font-body font-semibold text-stone-400 uppercase tracking-wider",children:[d.jsx("span",{className:"flex-1",children:"Home"}),d.jsx("span",{className:"w-28 text-right hidden sm:block",children:"Date"}),d.jsx("span",{className:"w-24 text-right hidden md:block",children:"Method"}),d.jsx("span",{className:"w-20 text-right",children:"Status"}),d.jsx("span",{className:"w-28 text-right",children:"Amount"})]}),i.map((w,S)=>d.jsx(Ek,{payment:w,isLast:S===i.length-1,showProperty:!0,onDownloadInvoice:b},w.id))]})]})}const KW=[{value:1,label:"1 day before",short:"1 day"},{value:3,label:"3 days before",short:"3 days"},{value:7,label:"1 week before",short:"1 week"},{value:14,label:"2 weeks before",short:"2 weeks"},{value:30,label:"1 month before",short:"1 month"}];function QLe(t){var e;return((e=KW.find(n=>n.value===t))==null?void 0:e.label)??`${t} days before`}function YW(t,e=7){var i;const n=((i=t==null?void 0:t.toDate)==null?void 0:i.call(t))??new Date(t),r=new Date(n);return r.setDate(r.getDate()-(e||0)),r}function XW(t,e){var o;const n=((o=t==null?void 0:t.toDate)==null?void 0:o.call(t))??new Date(t),r=YW(n,e),i=new Date;i.setHours(0,0,0,0);const a=new Date(r);a.setHours(0,0,0,0);const s=new Date(n);return s.setHours(0,0,0,0),a<=i&&s>=i}const JLe={overdue:{label:"Overdue",color:"text-rust",bg:"bg-rust/10",dot:"bg-rust"},urgent:{label:"Urgent",color:"text-rust",bg:"bg-rust/8",dot:"bg-rust/70"},soon:{label:"Soon",color:"text-amber",bg:"bg-amber/10",dot:"bg-amber"},ok:{label:"Upcoming",color:"text-sage",bg:"bg-sage/8",dot:"bg-sage"},paid:{label:"Paid",color:"text-stone-400",bg:"bg-stone-100",dot:"bg-stone-300"}};function J_(t){var r,i;if(t.status==="paid")return"paid";const e=((i=(r=t.dueDate)==null?void 0:r.toDate)==null?void 0:i.call(r))??new Date(t.dueDate);if(Bf(e))return"overdue";const n=Ov(e,new Date);return n<=3?"urgent":n<=7?"soon":"ok"}const s1={propertyId:"",dueDate:"",amount:"",leadTimeDays:7,recurring:!1,notifyEmail:!0,notifySms:!1,notifyInApp:!0,notes:""};function ZLe(){const{user:t,profile:e}=Mr(),{fmt:n,currencySymbol:r}=hi(),[i,a]=z.useState([]),[s,o]=z.useState([]),[l,c]=z.useState("all"),[u,f]=z.useState(!0),[h,p]=z.useState(!1),[y,b]=z.useState(null),[x,v]=z.useState(!1),[w,S]=z.useState(s1);z.useEffect(()=>{if(!t)return;const j=Pv(t.uid,G=>{a(G.filter(Z=>Z.createdBy==="tenant")),f(!1)}),B=t.email?AT(t.email,o):void 0;return()=>{j==null||j(),B==null||B()}},[t==null?void 0:t.uid,t==null?void 0:t.email]);const A=j=>B=>S(G=>({...G,[j]:B.target.type==="checkbox"?B.target.checked:B.target.value})),P=j=>{const B=j.target.value,G=s.find(Z=>Z.id===B);S(Z=>({...Z,propertyId:B,propertyName:(G==null?void 0:G.name)??"",propertyUnitNumber:(G==null?void 0:G.unitNumber)??"",propertyBuildingName:(G==null?void 0:G.buildingName)??"",propertyFloor:(G==null?void 0:G.floor)??"",amount:(G==null?void 0:G.monthlyRent)!=null?String(G.monthlyRent):Z.amount}))},O=()=>{var B,G,Z;b(null);const j=new Date;j.setMonth(j.getMonth()+1),S({...s1,dueDate:Na(j,"yyyy-MM-dd"),propertyId:((B=s[0])==null?void 0:B.id)??"",propertyName:((G=s[0])==null?void 0:G.name)??"",amount:((Z=s[0])==null?void 0:Z.monthlyRent)!=null?String(s[0].monthlyRent):""}),p(!0)},I=j=>{var G,Z;const B=((Z=(G=j.dueDate)==null?void 0:G.toDate)==null?void 0:Z.call(G))??new Date(j.dueDate);b(j.id),S({propertyId:j.propertyId??"",propertyName:j.propertyName??"",propertyUnitNumber:j.propertyUnitNumber??"",propertyBuildingName:j.propertyBuildingName??"",propertyFloor:j.propertyFloor??"",dueDate:Na(B,"yyyy-MM-dd"),amount:j.amount!=null?String(j.amount):"",leadTimeDays:j.leadTimeDays??7,recurring:!!j.recurring,notifyEmail:j.notifyEmail!==!1,notifySms:!!j.notifySms,notifyInApp:j.notifyInApp!==!1,notes:j.notes??""}),p(!0)},E=async j=>{if(j.preventDefault(),!w.propertyId||!w.amount||!w.dueDate){Ke.error("Please select a home, amount, and due date.");return}v(!0);try{const B=s.find(Z=>Z.id===w.propertyId),G={propertyId:w.propertyId,propertyName:w.propertyName||(B==null?void 0:B.name),propertyUnitNumber:w.propertyUnitNumber||(B==null?void 0:B.unitNumber)||"",propertyBuildingName:w.propertyBuildingName||(B==null?void 0:B.buildingName)||"",propertyFloor:w.propertyFloor||(B==null?void 0:B.floor)||"",amount:parseInt(w.amount,10)||0,dueDate:new Date(w.dueDate),leadTimeDays:parseInt(w.leadTimeDays,10)||7,recurring:!!w.recurring,notifyEmail:!!w.notifyEmail,notifySms:!!w.notifySms,notifyInApp:!!w.notifyInApp,notes:(w.notes||"").trim(),createdBy:"tenant",tenantName:(e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||"",tenantEmail:(t==null?void 0:t.email)||""};y?(await AA(t.uid,y,G),Ke.success("Reminder updated.")):(await _9(t.uid,G),Ke.success("Reminder created! Youll get notified by your chosen channels.")),p(!1),S(s1),b(null)}catch{Ke.error("Failed to save reminder.")}finally{v(!1)}},C=async j=>{await AA(t.uid,j.id,{status:"paid",paidAt:new Date}),Ke.success("Marked as paid.")},M=async j=>{confirm(`Delete reminder for ${j.propertyName||"this home"}?`)&&(await S9(t.uid,j.id),Ke.success("Reminder deleted."))},N=l==="all"?i:i.filter(j=>J_(j)===l),k={overdue:0,urgent:0,soon:0,ok:0};return i.forEach(j=>{const B=J_(j);k[B]!==void 0&&k[B]++}),i.filter(j=>j.status!=="paid").reduce((j,B)=>j+(B.amount||0),0),d.jsxs("div",{className:"space-y-6",children:[d.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"font-display text-ink text-3xl font-semibold",children:"Rent reminders"}),d.jsxs("p",{className:"font-body text-stone-400 text-sm mt-0.5",children:["Set custom lead times and get notified by email, SMS, or in-app. Your currency:"," ",d.jsx("strong",{className:"text-sage",children:r})]})]}),d.jsxs("button",{type:"button",onClick:O,disabled:s.length===0,className:"btn-primary",children:[d.jsx(Os,{size:16})," New reminder"]})]}),s.length===0&&d.jsxs(He.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-3 p-4 bg-amber/8 border border-amber/20 rounded-xl",children:[d.jsx(Ou,{size:18,className:"text-amber flex-shrink-0"}),d.jsx("p",{className:"font-body text-sm text-stone-600",children:"Add a home first: ask your landlord to link your email to a property. Then you can set reminders here."})]}),d.jsx("div",{className:"flex gap-2 flex-wrap",children:[{key:"all",label:"All",count:i.length},{key:"overdue",label:"Overdue",count:k.overdue},{key:"urgent",label:"Urgent",count:k.urgent},{key:"soon",label:"Soon",count:k.soon},{key:"ok",label:"Upcoming",count:k.ok}].map(({key:j,label:B,count:G})=>d.jsxs("button",{type:"button",onClick:()=>c(j),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-body font-medium border transition-all ${l===j?"bg-ink text-cream border-ink":"bg-white text-stone-500 border-stone-200 hover:border-stone-300"}`,children:[B,G>0&&d.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-xs font-semibold ${l===j?"bg-white/15 text-cream":"bg-stone-100 text-stone-500"}`,children:G})]},j))}),u?d.jsx("div",{className:"space-y-3",children:[1,2,3].map(j=>d.jsx("div",{className:"card h-20 animate-pulse bg-stone-100"},j))}):N.length===0?d.jsxs("div",{className:"card p-16 flex flex-col items-center text-center border-2 border-dashed border-stone-200",children:[d.jsx(Ou,{size:40,className:"text-stone-300 mb-3"}),d.jsx("p",{className:"font-body font-medium text-stone-500",children:l==="all"?"No reminders yet":`No ${l} reminders`}),d.jsx("p",{className:"font-body text-xs text-stone-300 mt-1",children:l==="all"&&"Create a reminder to get email, SMS, or in-app alerts before rent is due."}),s.length>0&&l==="all"&&d.jsxs("button",{type:"button",onClick:O,className:"btn-primary mt-4",children:[d.jsx(Os,{size:15})," New reminder"]})]}):d.jsx("div",{className:"card overflow-hidden",children:d.jsx(po,{children:N.map(j=>{var de,$;const B=J_(j),G=JLe[B],Z=(($=(de=j.dueDate)==null?void 0:de.toDate)==null?void 0:$.call(de))??new Date(j.dueDate),ie=Ov(Z,new Date),X=B==="paid",ae=YW(Z,j.leadTimeDays),ue=!X&&XW(j.dueDate,j.leadTimeDays);return d.jsxs(He.div,{initial:{opacity:0},animate:{opacity:X?.6:1},exit:{opacity:0,height:0},className:"flex items-center gap-4 px-5 py-4 border-b border-stone-100 last:border-0 hover:bg-stone-50/70 transition-colors group",children:[d.jsx("div",{className:`w-2.5 h-2.5 rounded-full flex-shrink-0 ${G.dot}`}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[d.jsxs("span",{className:"font-body font-semibold text-sm text-ink",children:[j.propertyName||"Rent",j.propertyUnitNumber&&d.jsxs("span",{className:"text-sage ml-1 font-normal",children:["(",ld({unitNumber:j.propertyUnitNumber,floor:j.propertyFloor}),")"]})]}),j.recurring&&d.jsx("span",{className:"font-body text-xs px-2 py-0.5 rounded-full bg-stone-100 text-stone-400",children:"Monthly"}),ue&&d.jsx("span",{className:"font-body text-xs px-2 py-0.5 rounded-full bg-amber/15 text-amber border border-amber/30",children:"Reminder today"})]}),d.jsxs("div",{className:"flex items-center gap-3 mt-1 flex-wrap",children:[d.jsx("span",{className:`font-body text-xs font-medium px-2 py-0.5 rounded-full border ${G.bg} ${G.color}`,children:X?"Paid":Bf(Z)?"Overdue":ie===0?"Due today":ie===1?"Due tomorrow":`Due in ${ie}d`}),d.jsxs("span",{className:"font-body text-xs text-stone-400",children:["Notify: ",QLe(j.leadTimeDays)," (",Na(ae,"MMM d"),")"]}),d.jsxs("span",{className:"flex items-center gap-1.5 text-stone-400",children:[j.notifyEmail&&d.jsx(rl,{size:11,title:"Email"}),j.notifySms&&d.jsx(uO,{size:11,title:"SMS"}),j.notifyInApp&&d.jsx(fO,{size:11,title:"In-app"})]})]})]}),d.jsx("div",{className:"text-right flex-shrink-0",children:d.jsx("p",{className:"font-display font-semibold text-lg text-ink",children:n(j.amount||0)})}),!X&&d.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{type:"button",onClick:()=>I(j),className:"text-xs font-body font-medium px-3 py-1.5 rounded-lg bg-stone-100 text-stone-600 hover:bg-stone-200",children:"Edit"}),d.jsxs("button",{type:"button",onClick:()=>C(j),className:"flex items-center gap-1.5 text-xs font-body font-medium px-3 py-1.5 rounded-lg bg-sage/10 text-sage border border-sage/20 hover:bg-sage/20",children:[d.jsx(c4,{size:13})," Paid"]}),d.jsx("button",{type:"button",onClick:()=>M(j),className:"p-1.5 rounded-lg bg-rust/8 text-rust border border-rust/15 hover:bg-rust/15",children:d.jsx(Bx,{size:13})})]})]},j.id)})})}),d.jsx(Ru,{isOpen:h,onClose:()=>{p(!1),b(null),S(s1)},title:y?"Edit reminder":"New rent reminder",size:"lg",children:d.jsxs("form",{onSubmit:E,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Home (property) *"}),d.jsxs("select",{className:"input-base",value:w.propertyId,onChange:P,required:!0,children:[d.jsx("option",{value:"",children:" Select home "}),s.map(j=>d.jsxs("option",{value:j.id,children:[j.name,j.unitNumber?` - ${ld(j)}`:"","  ",n(j.monthlyRent||0),"/month"]},j.id))]})]}),d.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Due date *"}),d.jsx("input",{className:"input-base",type:"date",value:w.dueDate,onChange:A("dueDate"),required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"label-xs",children:["Amount (",r,") *"]}),d.jsx("input",{className:"input-base",type:"number",placeholder:"e.g. 250000",value:w.amount,onChange:A("amount"),required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Remind me"}),d.jsx("select",{className:"input-base",value:w.leadTimeDays,onChange:j=>S(B=>({...B,leadTimeDays:parseInt(j.target.value,10)})),children:KW.map(j=>d.jsx("option",{value:j.value,children:j.label},j.value))}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-1",children:"Youll get notified at this time before the due date."})]}),d.jsxs("div",{children:[d.jsx("p",{className:"label-xs mb-2",children:"Notify me via"}),d.jsxs("div",{className:"flex flex-wrap gap-4",children:[d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:w.notifyEmail,onChange:A("notifyEmail"),className:"w-4 h-4 rounded accent-sage"}),d.jsx(rl,{size:14,className:"text-stone-400"}),d.jsx("span",{className:"font-body text-sm",children:"Email"})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:w.notifySms,onChange:A("notifySms"),className:"w-4 h-4 rounded accent-sage"}),d.jsx(uO,{size:14,className:"text-stone-400"}),d.jsx("span",{className:"font-body text-sm",children:"SMS"})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:w.notifyInApp,onChange:A("notifyInApp"),className:"w-4 h-4 rounded accent-sage"}),d.jsx(fO,{size:14,className:"text-stone-400"}),d.jsx("span",{className:"font-body text-sm",children:"In-app"})]})]}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-1",children:"In-app alerts show when you open LeaseEase. Email and SMS require your landlord to enable notifications."})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"checkbox",id:"recurring-tenant",checked:w.recurring,onChange:A("recurring"),className:"w-4 h-4 rounded accent-sage"}),d.jsx("label",{htmlFor:"recurring-tenant",className:"font-body text-sm text-ink cursor-pointer",children:"Repeat every month (recurring reminder)"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Notes (optional)"}),d.jsx("input",{className:"input-base",placeholder:"e.g. Rent for March",value:w.notes,onChange:A("notes")})]}),d.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[d.jsx("button",{type:"button",onClick:()=>p(!1),className:"btn-secondary",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:x,className:"btn-primary",children:x?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):y?"Save changes":d.jsxs(d.Fragment,{children:[d.jsx(Os,{size:15})," Create reminder"]})})]})]})})]})}const e6e=[{to:"/dashboard",icon:lV,label:"Dashboard"},{to:"/properties",icon:Cs,label:"Properties"},{to:"/reminders",icon:Ou,label:"Reminders"},{to:"/payments",icon:js,label:"Payments"},{to:"/profile",icon:il,label:"Profile"},{to:"/settings",icon:uV,label:"Settings"},{to:"/subscription",icon:Ch,label:"Subscription"}],t6e=[{to:"/tenant",icon:lV,label:"My Homes"},{to:"/tenant/reminders",icon:Ou,label:"Reminders"},{to:"/tenant/payments",icon:js,label:"Payments"},{to:"/profile",icon:il,label:"Profile"},{to:"/settings",icon:uV,label:"Settings"}];function n6e(){var b;const{user:t,profile:e,logout:n}=Mr(),{country:r,currencySymbol:i}=hi(),a=Bs(),[s,o]=z.useState(!1),c=((e==null?void 0:e.role)||"landlord")==="tenant",u=c?t6e:e6e,f=Ls[((b=e==null?void 0:e.subscription)==null?void 0:b.planId)||"free"]||Ls.free,h=async()=>{await n(),Ke.success("Signed out successfully"),a("/login")},p=((e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||"U").split(" ").map(x=>x[0]).join("").toUpperCase().slice(0,2),y=()=>d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"px-5 py-6 border-b border-stone-100",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-9 h-9 rounded-xl bg-sage flex items-center justify-center shadow-sm",children:d.jsx(sc,{size:17,className:"text-cream"})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-display font-semibold text-ink text-lg leading-none",children:"LeaseEase"}),d.jsx("div",{className:"text-xs text-stone-400 font-body mt-0.5 tracking-wide",children:"Property Manager"})]})]}),r&&d.jsxs("div",{className:"mt-3 flex items-center gap-1.5 px-2 py-1 bg-stone-50 rounded-lg border border-stone-100 w-fit",children:[d.jsx("span",{className:"text-sm",children:td(r.code)}),d.jsxs("span",{className:"font-body text-xs text-stone-400",children:[r.currency," (",i,")"]})]})]}),d.jsx("nav",{className:"flex-1 px-3 py-4 space-y-0.5",children:u.map(({to:x,icon:v,label:w})=>d.jsxs(mX,{to:x,onClick:()=>o(!1),className:({isActive:S})=>`nav-item ${S?"active":""}`,children:[d.jsx(v,{size:17}),d.jsx("span",{children:w})]},x))}),d.jsxs("div",{className:"px-3 py-4 border-t border-stone-100",children:[d.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 rounded-xl hover:bg-stone-100 transition-colors cursor-pointer group",onClick:()=>a("/profile"),children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-sage/15 border border-sage/30 flex items-center justify-center flex-shrink-0",children:d.jsx("span",{className:"font-body font-semibold text-sage text-xs",children:p})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-body font-medium text-ink text-sm truncate",children:(e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||"User"}),d.jsx("div",{className:"font-body text-xs text-stone-400 truncate",children:t==null?void 0:t.email})]}),d.jsx(nd,{size:14,className:"text-stone-300 group-hover:text-stone-400 transition-colors"})]}),!c&&d.jsx("div",{className:"px-3 mb-1",children:d.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-body font-semibold ${f.badgeColor}`,children:[d.jsx(Ch,{size:10}),f.badge]})}),d.jsxs("button",{onClick:h,className:"nav-item w-full mt-1 text-rust hover:bg-rust/8 hover:text-rust",children:[d.jsx(zA,{size:16}),d.jsx("span",{children:"Sign Out"})]})]})]});return d.jsxs("div",{className:"flex min-h-screen bg-stone-50/50",children:[d.jsx("aside",{className:"hidden lg:flex flex-col w-60 bg-white border-r border-stone-100 fixed inset-y-0 left-0 z-40",children:d.jsx(y,{})}),d.jsx(po,{children:s&&d.jsxs(d.Fragment,{children:[d.jsx(He.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-ink/40 backdrop-blur-sm z-40 lg:hidden",onClick:()=>o(!1)}),d.jsxs(He.aside,{initial:{x:-280},animate:{x:0},exit:{x:-280},transition:{type:"spring",damping:28,stiffness:300},className:"fixed inset-y-0 left-0 w-72 bg-white z-50 shadow-deep lg:hidden",children:[d.jsxs("div",{className:"flex items-center justify-between px-5 pt-5 pb-0",children:[d.jsx("div",{}),d.jsx("button",{onClick:()=>o(!1),className:"p-2 rounded-lg hover:bg-stone-100 text-stone-400",children:d.jsx(Ux,{size:18})})]}),d.jsx(y,{})]})]})}),d.jsxs("main",{className:"flex-1 lg:ml-60 flex flex-col min-h-screen",children:[d.jsxs("div",{className:"lg:hidden flex items-center gap-3 px-4 py-3 bg-white border-b border-stone-100 sticky top-0 z-30",children:[d.jsx("button",{onClick:()=>o(!0),className:"p-2 rounded-lg hover:bg-stone-100 text-stone-600 transition-colors",children:d.jsx(Zle,{size:20})}),d.jsx("div",{className:"font-display font-semibold text-ink text-lg",children:"LeaseEase"}),r&&d.jsxs("span",{className:"ml-auto text-sm flex items-center gap-1 font-body text-xs text-stone-400",children:[td(r.code)," ",r.currency]})]}),d.jsx("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl w-full mx-auto",children:d.jsx(tX,{})})]})]})}const r6e="leaseease_reminder_alert_";function i6e(){return Na(new Date,"yyyy-MM-dd")}function a6e(){const{user:t,profile:e}=Mr(),{fmt:n}=hi(),r=z.useRef(new Set);return z.useEffect(()=>{if(((e==null?void 0:e.role)||"landlord")!=="tenant"||!(t!=null&&t.uid))return;const a=Pv(t.uid,s=>{i6e(),s.filter(l=>l.createdBy==="tenant").forEach(l=>{var v,w;if(l.status==="paid"||!l.notifyInApp||!XW(l.dueDate,l.leadTimeDays??7))return;const c=`${r6e}${l.id}_${f}`;try{if(sessionStorage.getItem(c))return}catch{if(r.current.has(c))return}const u=((w=(v=l.dueDate)==null?void 0:v.toDate)==null?void 0:w.call(v))??new Date(l.dueDate),f=new Date;f.setHours(0,0,0,0);const h=new Date(u);h.setHours(0,0,0,0);const p=h.getTime()===f.getTime(),y=l.propertyName||"Rent",b=n(l.amount||0),x=p?`Rent due today: ${y}  ${b}`:`Reminder: ${y}  ${b} due ${Na(u,"MMM d")}`;Ke(x,{icon:"",duration:6e3,style:{background:"#1A1612",color:"#F5F0E8"}});try{sessionStorage.setItem(c,"1")}catch{r.current.add(c)}})});return()=>a==null?void 0:a()},[t==null?void 0:t.uid,e==null?void 0:e.role,n]),null}function QW(){return d.jsx("div",{className:"min-h-screen bg-cream flex items-center justify-center",children:d.jsxs("div",{className:"flex flex-col items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 border-2 border-sage border-t-transparent rounded-full animate-spin"}),d.jsx("span",{className:"font-body text-sm text-stone-400",children:"Loading LeaseEase"})]})})}function ED({children:t}){const{user:e,profile:n,loading:r}=Mr();return r||e&&n===void 0?d.jsx(QW,{}):e?t:d.jsx(xg,{to:"/login",replace:!0})}function Z_({children:t}){const{user:e,profile:n,loading:r}=Mr();if(r)return null;if(!e)return t;const i=(n==null?void 0:n.role)||"landlord";return d.jsx(xg,{to:i==="tenant"?"/tenant":"/dashboard",replace:!0})}function s6e(){const{profile:t,loading:e,user:n}=Mr();if(e||n&&t===void 0)return d.jsx(QW,{});const r=(t==null?void 0:t.role)||"landlord";return d.jsxs(rX,{children:[d.jsx(kr,{path:"/",element:d.jsx(xg,{to:r==="tenant"?"/tenant":"/dashboard",replace:!0})}),d.jsx(kr,{path:"/login",element:d.jsx(Z_,{children:d.jsx(Iue,{})})}),d.jsx(kr,{path:"/register",element:d.jsx(Z_,{children:d.jsx(jue,{})})}),d.jsx(kr,{path:"/forgot-password",element:d.jsx(Z_,{children:d.jsx(Oue,{})})}),d.jsx(kr,{path:"/invite/:token",element:d.jsx(Cue,{})}),d.jsx(kr,{path:"/onboarding",element:d.jsx(ED,{children:d.jsx(GLe,{})})}),d.jsxs(kr,{element:d.jsx(ED,{children:d.jsx(n6e,{})}),children:[d.jsx(kr,{path:"/dashboard",element:r==="tenant"?d.jsx(xg,{to:"/tenant",replace:!0}):d.jsx(Ije,{})}),d.jsx(kr,{path:"/tenant",element:d.jsx(KLe,{})}),d.jsx(kr,{path:"/tenant/reminders",element:d.jsx(ZLe,{})}),d.jsx(kr,{path:"/properties",element:d.jsx(Lje,{})}),d.jsx(kr,{path:"/properties/:id",element:d.jsx(RLe,{})}),d.jsx(kr,{path:"/properties/:id/success",element:d.jsx(qLe,{})}),d.jsx(kr,{path:"/reminders",element:d.jsx(MLe,{})}),d.jsx(kr,{path:"/payments",element:d.jsx(DLe,{})}),d.jsx(kr,{path:"/tenant/payments",element:d.jsx(XLe,{})}),d.jsx(kr,{path:"/settings",element:d.jsx(FLe,{})}),d.jsx(kr,{path:"/profile",element:d.jsx($Le,{})}),d.jsx(kr,{path:"/subscription",element:d.jsx(HLe,{})})]}),d.jsx(kr,{path:"*",element:d.jsx(xg,{to:r==="tenant"?"/tenant":"/dashboard",replace:!0})})]})}function o6e(){return d.jsx(dX,{children:d.jsx(gie,{children:d.jsx(mie,{children:d.jsxs("div",{className:"grain",children:[d.jsx(a6e,{}),d.jsx(s6e,{}),d.jsx(oQ,{position:"top-right",toastOptions:{style:{background:"#1A1612",color:"#F5F0E8",fontFamily:"'DM Sans', sans-serif",fontSize:"13px",borderRadius:"12px",border:"1px solid rgba(245,240,232,0.1)"},success:{iconTheme:{primary:"#4A7C59",secondary:"#F5F0E8"}},error:{iconTheme:{primary:"#B84C3A",secondary:"#F5F0E8"}}}})]})})})})}eS.createRoot(document.getElementById("root")).render(d.jsx(he.StrictMode,{children:d.jsx(o6e,{})}));export{_n as _,o0 as c,Rn as g};
