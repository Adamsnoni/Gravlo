var DH=Object.defineProperty;var FH=(t,e,n)=>e in t?DH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var _n=(t,e,n)=>FH(t,typeof e!="symbol"?e+"":e,n);function $H(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var h0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ln(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var FD={exports:{}},Xx={},$D={exports:{}},Kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv=Symbol.for("react.element"),BH=Symbol.for("react.portal"),VH=Symbol.for("react.fragment"),UH=Symbol.for("react.strict_mode"),zH=Symbol.for("react.profiler"),qH=Symbol.for("react.provider"),WH=Symbol.for("react.context"),HH=Symbol.for("react.forward_ref"),GH=Symbol.for("react.suspense"),KH=Symbol.for("react.memo"),YH=Symbol.for("react.lazy"),w3=Symbol.iterator;function XH(t){return t===null||typeof t!="object"?null:(t=w3&&t[w3]||t["@@iterator"],typeof t=="function"?t:null)}var BD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VD=Object.assign,UD={};function Cp(t,e,n){this.props=t,this.context=e,this.refs=UD,this.updater=n||BD}Cp.prototype.isReactComponent={};Cp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Cp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zD(){}zD.prototype=Cp.prototype;function EE(t,e,n){this.props=t,this.context=e,this.refs=UD,this.updater=n||BD}var PE=EE.prototype=new zD;PE.constructor=EE;VD(PE,Cp.prototype);PE.isPureReactComponent=!0;var _3=Array.isArray,qD=Object.prototype.hasOwnProperty,TE={current:null},WD={key:!0,ref:!0,__self:!0,__source:!0};function HD(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)qD.call(e,r)&&!WD.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:lv,type:t,key:a,ref:s,props:i,_owner:TE.current}}function QH(t,e){return{$$typeof:lv,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kE(t){return typeof t=="object"&&t!==null&&t.$$typeof===lv}function JH(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var S3=/\/+/g;function Yw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?JH(""+t.key):e.toString(36)}function m1(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case lv:case BH:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Yw(s,0):r,_3(i)?(n="",t!=null&&(n=t.replace(S3,"$&/")+"/"),m1(i,e,n,"",function(c){return c})):i!=null&&(kE(i)&&(i=QH(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(S3,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",_3(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+Yw(a,o);s+=m1(a,e,n,l,i)}else if(l=XH(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+Yw(a,o++),s+=m1(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function p0(t,e,n){if(t==null)return t;var r=[],i=0;return m1(t,r,"","",function(a){return e.call(n,a,i++)}),r}function ZH(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ha={current:null},g1={transition:null},eG={ReactCurrentDispatcher:ha,ReactCurrentBatchConfig:g1,ReactCurrentOwner:TE};function GD(){throw Error("act(...) is not supported in production builds of React.")}Kt.Children={map:p0,forEach:function(t,e,n){p0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return p0(t,function(){e++}),e},toArray:function(t){return p0(t,function(e){return e})||[]},only:function(t){if(!kE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Kt.Component=Cp;Kt.Fragment=VH;Kt.Profiler=zH;Kt.PureComponent=EE;Kt.StrictMode=UH;Kt.Suspense=GH;Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eG;Kt.act=GD;Kt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=VD({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=TE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)qD.call(e,l)&&!WD.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:lv,type:t.type,key:i,ref:a,props:r,_owner:s}};Kt.createContext=function(t){return t={$$typeof:WH,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qH,_context:t},t.Consumer=t};Kt.createElement=HD;Kt.createFactory=function(t){var e=HD.bind(null,t);return e.type=t,e};Kt.createRef=function(){return{current:null}};Kt.forwardRef=function(t){return{$$typeof:HH,render:t}};Kt.isValidElement=kE;Kt.lazy=function(t){return{$$typeof:YH,_payload:{_status:-1,_result:t},_init:ZH}};Kt.memo=function(t,e){return{$$typeof:KH,type:t,compare:e===void 0?null:e}};Kt.startTransition=function(t){var e=g1.transition;g1.transition={};try{t()}finally{g1.transition=e}};Kt.unstable_act=GD;Kt.useCallback=function(t,e){return ha.current.useCallback(t,e)};Kt.useContext=function(t){return ha.current.useContext(t)};Kt.useDebugValue=function(){};Kt.useDeferredValue=function(t){return ha.current.useDeferredValue(t)};Kt.useEffect=function(t,e){return ha.current.useEffect(t,e)};Kt.useId=function(){return ha.current.useId()};Kt.useImperativeHandle=function(t,e,n){return ha.current.useImperativeHandle(t,e,n)};Kt.useInsertionEffect=function(t,e){return ha.current.useInsertionEffect(t,e)};Kt.useLayoutEffect=function(t,e){return ha.current.useLayoutEffect(t,e)};Kt.useMemo=function(t,e){return ha.current.useMemo(t,e)};Kt.useReducer=function(t,e,n){return ha.current.useReducer(t,e,n)};Kt.useRef=function(t){return ha.current.useRef(t)};Kt.useState=function(t){return ha.current.useState(t)};Kt.useSyncExternalStore=function(t,e,n){return ha.current.useSyncExternalStore(t,e,n)};Kt.useTransition=function(){return ha.current.useTransition()};Kt.version="18.3.1";$D.exports=Kt;var U=$D.exports;const ge=Ln(U),tG=$H({__proto__:null,default:ge},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nG=U,rG=Symbol.for("react.element"),iG=Symbol.for("react.fragment"),aG=Object.prototype.hasOwnProperty,sG=nG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oG={key:!0,ref:!0,__self:!0,__source:!0};function KD(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)aG.call(e,r)&&!oG.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:rG,type:t,key:a,ref:s,props:i,_owner:sG.current}}Xx.Fragment=iG;Xx.jsx=KD;Xx.jsxs=KD;FD.exports=Xx;var d=FD.exports,eS={},YD={exports:{}},rs={},XD={exports:{}},QD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,le){var K=Y.length;Y.push(le);e:for(;0<K;){var H=K-1>>>1,F=Y[H];if(0<i(F,le))Y[H]=le,Y[K]=F,K=H;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var le=Y[0],K=Y.pop();if(K!==le){Y[0]=K;e:for(var H=0,F=Y.length,q=F>>>1;H<q;){var ee=2*(H+1)-1,se=Y[ee],ce=ee+1,fe=Y[ce];if(0>i(se,K))ce<F&&0>i(fe,se)?(Y[H]=fe,Y[ce]=K,H=ce):(Y[H]=se,Y[ee]=K,H=ee);else if(ce<F&&0>i(fe,K))Y[H]=fe,Y[ce]=K,H=ce;else break e}}return le}function i(Y,le){var K=Y.sortIndex-le.sortIndex;return K!==0?K:Y.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,h=3,p=!1,b=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Y){for(var le=n(c);le!==null;){if(le.callback===null)r(c);else if(le.startTime<=Y)r(c),le.sortIndex=le.expirationTime,e(l,le);else break;le=n(c)}}function E(Y){if(x=!1,S(Y),!b)if(n(l)!==null)b=!0,ne(P);else{var le=n(c);le!==null&&oe(E,le.startTime-Y)}}function P(Y,le){b=!1,x&&(x=!1,y(A),A=-1),p=!0;var K=h;try{for(S(le),f=n(l);f!==null&&(!(f.expirationTime>le)||Y&&!k());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var F=H(f.expirationTime<=le);le=t.unstable_now(),typeof F=="function"?f.callback=F:f===n(l)&&r(l),S(le)}else r(l);f=n(l)}if(f!==null)var q=!0;else{var ee=n(c);ee!==null&&oe(E,ee.startTime-le),q=!1}return q}finally{f=null,h=K,p=!1}}var R=!1,I=null,A=-1,N=5,M=-1;function k(){return!(t.unstable_now()-M<N)}function j(){if(I!==null){var Y=t.unstable_now();M=Y;var le=!0;try{le=I(!0,Y)}finally{le?C():(R=!1,I=null)}}else R=!1}var C;if(typeof w=="function")C=function(){w(j)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,X=V.port2;V.port1.onmessage=j,C=function(){X.postMessage(null)}}else C=function(){v(j,0)};function ne(Y){I=Y,R||(R=!0,C())}function oe(Y,le){A=v(function(){Y(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){b||p||(b=!0,ne(P))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(h){case 1:case 2:case 3:var le=3;break;default:le=h}var K=h;h=le;try{return Y()}finally{h=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,le){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var K=h;h=Y;try{return le()}finally{h=K}},t.unstable_scheduleCallback=function(Y,le,K){var H=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?H+K:H):K=H,Y){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=K+F,Y={id:u++,callback:le,priorityLevel:Y,startTime:K,expirationTime:F,sortIndex:-1},K>H?(Y.sortIndex=K,e(c,Y),n(l)===null&&Y===n(c)&&(x?(y(A),A=-1):x=!0,oe(E,K-H))):(Y.sortIndex=F,e(l,Y),b||p||(b=!0,ne(P))),Y},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(Y){var le=h;return function(){var K=h;h=le;try{return Y.apply(this,arguments)}finally{h=K}}}})(QD);XD.exports=QD;var lG=XD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cG=U,es=lG;function Ve(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JD=new Set,Ug={};function fd(t,e){Uh(t,e),Uh(t+"Capture",e)}function Uh(t,e){for(Ug[t]=e,t=0;t<e.length;t++)JD.add(e[t])}var Jl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tS=Object.prototype.hasOwnProperty,uG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A3={},N3={};function fG(t){return tS.call(N3,t)?!0:tS.call(A3,t)?!1:uG.test(t)?N3[t]=!0:(A3[t]=!0,!1)}function dG(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hG(t,e,n,r){if(e===null||typeof e>"u"||dG(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pa(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Ci={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ci[t]=new pa(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ci[e]=new pa(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ci[t]=new pa(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ci[t]=new pa(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ci[t]=new pa(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ci[t]=new pa(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ci[t]=new pa(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ci[t]=new pa(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ci[t]=new pa(t,5,!1,t.toLowerCase(),null,!1,!1)});var IE=/[\-:]([a-z])/g;function CE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(IE,CE);Ci[e]=new pa(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(IE,CE);Ci[e]=new pa(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(IE,CE);Ci[e]=new pa(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ci[t]=new pa(t,1,!1,t.toLowerCase(),null,!1,!1)});Ci.xlinkHref=new pa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ci[t]=new pa(t,1,!1,t.toLowerCase(),null,!0,!0)});function jE(t,e,n,r){var i=Ci.hasOwnProperty(e)?Ci[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hG(e,n,i,r)&&(n=null),r||i===null?fG(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pc=cG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,m0=Symbol.for("react.element"),Qd=Symbol.for("react.portal"),Jd=Symbol.for("react.fragment"),OE=Symbol.for("react.strict_mode"),nS=Symbol.for("react.profiler"),ZD=Symbol.for("react.provider"),e8=Symbol.for("react.context"),RE=Symbol.for("react.forward_ref"),rS=Symbol.for("react.suspense"),iS=Symbol.for("react.suspense_list"),ME=Symbol.for("react.memo"),Yc=Symbol.for("react.lazy"),t8=Symbol.for("react.offscreen"),E3=Symbol.iterator;function Im(t){return t===null||typeof t!="object"?null:(t=E3&&t[E3]||t["@@iterator"],typeof t=="function"?t:null)}var mr=Object.assign,Xw;function tg(t){if(Xw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xw=e&&e[1]||""}return`
`+Xw+t}var Qw=!1;function Jw(t,e){if(!t||Qw)return"";Qw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{Qw=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?tg(t):""}function pG(t){switch(t.tag){case 5:return tg(t.type);case 16:return tg("Lazy");case 13:return tg("Suspense");case 19:return tg("SuspenseList");case 0:case 2:case 15:return t=Jw(t.type,!1),t;case 11:return t=Jw(t.type.render,!1),t;case 1:return t=Jw(t.type,!0),t;default:return""}}function aS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jd:return"Fragment";case Qd:return"Portal";case nS:return"Profiler";case OE:return"StrictMode";case rS:return"Suspense";case iS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case e8:return(t.displayName||"Context")+".Consumer";case ZD:return(t._context.displayName||"Context")+".Provider";case RE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ME:return e=t.displayName||null,e!==null?e:aS(t.type)||"Memo";case Yc:e=t._payload,t=t._init;try{return aS(t(e))}catch{}}return null}function mG(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return aS(e);case 8:return e===OE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Tu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function n8(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gG(t){var e=n8(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function g0(t){t._valueTracker||(t._valueTracker=gG(t))}function r8(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=n8(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function G1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sS(t,e){var n=e.checked;return mr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function P3(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Tu(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function i8(t,e){e=e.checked,e!=null&&jE(t,"checked",e,!1)}function oS(t,e){i8(t,e);var n=Tu(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lS(t,e.type,n):e.hasOwnProperty("defaultValue")&&lS(t,e.type,Tu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function T3(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function lS(t,e,n){(e!=="number"||G1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ng=Array.isArray;function xh(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Tu(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function cS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ve(91));return mr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function k3(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ve(92));if(ng(n)){if(1<n.length)throw Error(Ve(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Tu(n)}}function a8(t,e){var n=Tu(e.value),r=Tu(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function I3(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function s8(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?s8(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var y0,o8=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(y0=y0||document.createElement("div"),y0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=y0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zg(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var gg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yG=["Webkit","ms","Moz","O"];Object.keys(gg).forEach(function(t){yG.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gg[e]=gg[t]})});function l8(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||gg.hasOwnProperty(t)&&gg[t]?(""+e).trim():e+"px"}function c8(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=l8(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var vG=mr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fS(t,e){if(e){if(vG[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ve(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ve(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ve(62))}}function dS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hS=null;function LE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pS=null,wh=null,_h=null;function C3(t){if(t=fv(t)){if(typeof pS!="function")throw Error(Ve(280));var e=t.stateNode;e&&(e=t2(e),pS(t.stateNode,t.type,e))}}function u8(t){wh?_h?_h.push(t):_h=[t]:wh=t}function f8(){if(wh){var t=wh,e=_h;if(_h=wh=null,C3(t),e)for(t=0;t<e.length;t++)C3(e[t])}}function d8(t,e){return t(e)}function h8(){}var Zw=!1;function p8(t,e,n){if(Zw)return t(e,n);Zw=!0;try{return d8(t,e,n)}finally{Zw=!1,(wh!==null||_h!==null)&&(h8(),f8())}}function qg(t,e){var n=t.stateNode;if(n===null)return null;var r=t2(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ve(231,e,typeof n));return n}var mS=!1;if(Jl)try{var Cm={};Object.defineProperty(Cm,"passive",{get:function(){mS=!0}}),window.addEventListener("test",Cm,Cm),window.removeEventListener("test",Cm,Cm)}catch{mS=!1}function bG(t,e,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var yg=!1,K1=null,Y1=!1,gS=null,xG={onError:function(t){yg=!0,K1=t}};function wG(t,e,n,r,i,a,s,o,l){yg=!1,K1=null,bG.apply(xG,arguments)}function _G(t,e,n,r,i,a,s,o,l){if(wG.apply(this,arguments),yg){if(yg){var c=K1;yg=!1,K1=null}else throw Error(Ve(198));Y1||(Y1=!0,gS=c)}}function dd(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function m8(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function j3(t){if(dd(t)!==t)throw Error(Ve(188))}function SG(t){var e=t.alternate;if(!e){if(e=dd(t),e===null)throw Error(Ve(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return j3(i),t;if(a===r)return j3(i),e;a=a.sibling}throw Error(Ve(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(Ve(189))}}if(n.alternate!==r)throw Error(Ve(190))}if(n.tag!==3)throw Error(Ve(188));return n.stateNode.current===n?t:e}function g8(t){return t=SG(t),t!==null?y8(t):null}function y8(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=y8(t);if(e!==null)return e;t=t.sibling}return null}var v8=es.unstable_scheduleCallback,O3=es.unstable_cancelCallback,AG=es.unstable_shouldYield,NG=es.unstable_requestPaint,Lr=es.unstable_now,EG=es.unstable_getCurrentPriorityLevel,DE=es.unstable_ImmediatePriority,b8=es.unstable_UserBlockingPriority,X1=es.unstable_NormalPriority,PG=es.unstable_LowPriority,x8=es.unstable_IdlePriority,Qx=null,Go=null;function TG(t){if(Go&&typeof Go.onCommitFiberRoot=="function")try{Go.onCommitFiberRoot(Qx,t,void 0,(t.current.flags&128)===128)}catch{}}var oo=Math.clz32?Math.clz32:CG,kG=Math.log,IG=Math.LN2;function CG(t){return t>>>=0,t===0?32:31-(kG(t)/IG|0)|0}var v0=64,b0=4194304;function rg(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Q1(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=rg(o):(a&=s,a!==0&&(r=rg(a)))}else s=n&~i,s!==0?r=rg(s):a!==0&&(r=rg(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-oo(e),i=1<<n,r|=t[n],e&=~i;return r}function jG(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OG(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-oo(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=jG(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function yS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function w8(){var t=v0;return v0<<=1,!(v0&4194240)&&(v0=64),t}function e5(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cv(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-oo(e),t[e]=n}function RG(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-oo(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function FE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-oo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Nn=0;function _8(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var S8,$E,A8,N8,E8,vS=!1,x0=[],hu=null,pu=null,mu=null,Wg=new Map,Hg=new Map,Jc=[],MG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function R3(t,e){switch(t){case"focusin":case"focusout":hu=null;break;case"dragenter":case"dragleave":pu=null;break;case"mouseover":case"mouseout":mu=null;break;case"pointerover":case"pointerout":Wg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hg.delete(e.pointerId)}}function jm(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=fv(e),e!==null&&$E(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function LG(t,e,n,r,i){switch(e){case"focusin":return hu=jm(hu,t,e,n,r,i),!0;case"dragenter":return pu=jm(pu,t,e,n,r,i),!0;case"mouseover":return mu=jm(mu,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Wg.set(a,jm(Wg.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Hg.set(a,jm(Hg.get(a)||null,t,e,n,r,i)),!0}return!1}function P8(t){var e=Pf(t.target);if(e!==null){var n=dd(e);if(n!==null){if(e=n.tag,e===13){if(e=m8(n),e!==null){t.blockedOn=e,E8(t.priority,function(){A8(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function y1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hS=r,n.target.dispatchEvent(r),hS=null}else return e=fv(n),e!==null&&$E(e),t.blockedOn=n,!1;e.shift()}return!0}function M3(t,e,n){y1(t)&&n.delete(e)}function DG(){vS=!1,hu!==null&&y1(hu)&&(hu=null),pu!==null&&y1(pu)&&(pu=null),mu!==null&&y1(mu)&&(mu=null),Wg.forEach(M3),Hg.forEach(M3)}function Om(t,e){t.blockedOn===e&&(t.blockedOn=null,vS||(vS=!0,es.unstable_scheduleCallback(es.unstable_NormalPriority,DG)))}function Gg(t){function e(i){return Om(i,t)}if(0<x0.length){Om(x0[0],t);for(var n=1;n<x0.length;n++){var r=x0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hu!==null&&Om(hu,t),pu!==null&&Om(pu,t),mu!==null&&Om(mu,t),Wg.forEach(e),Hg.forEach(e),n=0;n<Jc.length;n++)r=Jc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Jc.length&&(n=Jc[0],n.blockedOn===null);)P8(n),n.blockedOn===null&&Jc.shift()}var Sh=pc.ReactCurrentBatchConfig,J1=!0;function FG(t,e,n,r){var i=Nn,a=Sh.transition;Sh.transition=null;try{Nn=1,BE(t,e,n,r)}finally{Nn=i,Sh.transition=a}}function $G(t,e,n,r){var i=Nn,a=Sh.transition;Sh.transition=null;try{Nn=4,BE(t,e,n,r)}finally{Nn=i,Sh.transition=a}}function BE(t,e,n,r){if(J1){var i=bS(t,e,n,r);if(i===null)u5(t,e,r,Z1,n),R3(t,r);else if(LG(i,t,e,n,r))r.stopPropagation();else if(R3(t,r),e&4&&-1<MG.indexOf(t)){for(;i!==null;){var a=fv(i);if(a!==null&&S8(a),a=bS(t,e,n,r),a===null&&u5(t,e,r,Z1,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else u5(t,e,r,null,n)}}var Z1=null;function bS(t,e,n,r){if(Z1=null,t=LE(r),t=Pf(t),t!==null)if(e=dd(t),e===null)t=null;else if(n=e.tag,n===13){if(t=m8(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Z1=t,null}function T8(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(EG()){case DE:return 1;case b8:return 4;case X1:case PG:return 16;case x8:return 536870912;default:return 16}default:return 16}}var su=null,VE=null,v1=null;function k8(){if(v1)return v1;var t,e=VE,n=e.length,r,i="value"in su?su.value:su.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return v1=i.slice(t,1<r?1-r:void 0)}function b1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function w0(){return!0}function L3(){return!1}function is(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?w0:L3,this.isPropagationStopped=L3,this}return mr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=w0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=w0)},persist:function(){},isPersistent:w0}),e}var jp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},UE=is(jp),uv=mr({},jp,{view:0,detail:0}),BG=is(uv),t5,n5,Rm,Jx=mr({},uv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rm&&(Rm&&t.type==="mousemove"?(t5=t.screenX-Rm.screenX,n5=t.screenY-Rm.screenY):n5=t5=0,Rm=t),t5)},movementY:function(t){return"movementY"in t?t.movementY:n5}}),D3=is(Jx),VG=mr({},Jx,{dataTransfer:0}),UG=is(VG),zG=mr({},uv,{relatedTarget:0}),r5=is(zG),qG=mr({},jp,{animationName:0,elapsedTime:0,pseudoElement:0}),WG=is(qG),HG=mr({},jp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),GG=is(HG),KG=mr({},jp,{data:0}),F3=is(KG),YG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JG(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=QG[t])?!!e[t]:!1}function zE(){return JG}var ZG=mr({},uv,{key:function(t){if(t.key){var e=YG[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=b1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?XG[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zE,charCode:function(t){return t.type==="keypress"?b1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?b1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eK=is(ZG),tK=mr({},Jx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$3=is(tK),nK=mr({},uv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zE}),rK=is(nK),iK=mr({},jp,{propertyName:0,elapsedTime:0,pseudoElement:0}),aK=is(iK),sK=mr({},Jx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oK=is(sK),lK=[9,13,27,32],qE=Jl&&"CompositionEvent"in window,vg=null;Jl&&"documentMode"in document&&(vg=document.documentMode);var cK=Jl&&"TextEvent"in window&&!vg,I8=Jl&&(!qE||vg&&8<vg&&11>=vg),B3=" ",V3=!1;function C8(t,e){switch(t){case"keyup":return lK.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zd=!1;function uK(t,e){switch(t){case"compositionend":return j8(e);case"keypress":return e.which!==32?null:(V3=!0,B3);case"textInput":return t=e.data,t===B3&&V3?null:t;default:return null}}function fK(t,e){if(Zd)return t==="compositionend"||!qE&&C8(t,e)?(t=k8(),v1=VE=su=null,Zd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return I8&&e.locale!=="ko"?null:e.data;default:return null}}var dK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U3(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dK[t.type]:e==="textarea"}function O8(t,e,n,r){u8(r),e=eb(e,"onChange"),0<e.length&&(n=new UE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var bg=null,Kg=null;function hK(t){q8(t,0)}function Zx(t){var e=nh(t);if(r8(e))return t}function pK(t,e){if(t==="change")return e}var R8=!1;if(Jl){var i5;if(Jl){var a5="oninput"in document;if(!a5){var z3=document.createElement("div");z3.setAttribute("oninput","return;"),a5=typeof z3.oninput=="function"}i5=a5}else i5=!1;R8=i5&&(!document.documentMode||9<document.documentMode)}function q3(){bg&&(bg.detachEvent("onpropertychange",M8),Kg=bg=null)}function M8(t){if(t.propertyName==="value"&&Zx(Kg)){var e=[];O8(e,Kg,t,LE(t)),p8(hK,e)}}function mK(t,e,n){t==="focusin"?(q3(),bg=e,Kg=n,bg.attachEvent("onpropertychange",M8)):t==="focusout"&&q3()}function gK(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zx(Kg)}function yK(t,e){if(t==="click")return Zx(e)}function vK(t,e){if(t==="input"||t==="change")return Zx(e)}function bK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var uo=typeof Object.is=="function"?Object.is:bK;function Yg(t,e){if(uo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!tS.call(e,i)||!uo(t[i],e[i]))return!1}return!0}function W3(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function H3(t,e){var n=W3(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=W3(n)}}function L8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?L8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function D8(){for(var t=window,e=G1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=G1(t.document)}return e}function WE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xK(t){var e=D8(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&L8(n.ownerDocument.documentElement,n)){if(r!==null&&WE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=H3(n,a);var s=H3(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wK=Jl&&"documentMode"in document&&11>=document.documentMode,eh=null,xS=null,xg=null,wS=!1;function G3(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wS||eh==null||eh!==G1(r)||(r=eh,"selectionStart"in r&&WE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xg&&Yg(xg,r)||(xg=r,r=eb(xS,"onSelect"),0<r.length&&(e=new UE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=eh)))}function _0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var th={animationend:_0("Animation","AnimationEnd"),animationiteration:_0("Animation","AnimationIteration"),animationstart:_0("Animation","AnimationStart"),transitionend:_0("Transition","TransitionEnd")},s5={},F8={};Jl&&(F8=document.createElement("div").style,"AnimationEvent"in window||(delete th.animationend.animation,delete th.animationiteration.animation,delete th.animationstart.animation),"TransitionEvent"in window||delete th.transitionend.transition);function e2(t){if(s5[t])return s5[t];if(!th[t])return t;var e=th[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in F8)return s5[t]=e[n];return t}var $8=e2("animationend"),B8=e2("animationiteration"),V8=e2("animationstart"),U8=e2("transitionend"),z8=new Map,K3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Du(t,e){z8.set(t,e),fd(e,[t])}for(var o5=0;o5<K3.length;o5++){var l5=K3[o5],_K=l5.toLowerCase(),SK=l5[0].toUpperCase()+l5.slice(1);Du(_K,"on"+SK)}Du($8,"onAnimationEnd");Du(B8,"onAnimationIteration");Du(V8,"onAnimationStart");Du("dblclick","onDoubleClick");Du("focusin","onFocus");Du("focusout","onBlur");Du(U8,"onTransitionEnd");Uh("onMouseEnter",["mouseout","mouseover"]);Uh("onMouseLeave",["mouseout","mouseover"]);Uh("onPointerEnter",["pointerout","pointerover"]);Uh("onPointerLeave",["pointerout","pointerover"]);fd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fd("onBeforeInput",["compositionend","keypress","textInput","paste"]);fd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ig="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AK=new Set("cancel close invalid load scroll toggle".split(" ").concat(ig));function Y3(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_G(r,e,void 0,t),t.currentTarget=null}function q8(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;Y3(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;Y3(i,o,c),a=l}}}if(Y1)throw t=gS,Y1=!1,gS=null,t}function Hn(t,e){var n=e[ES];n===void 0&&(n=e[ES]=new Set);var r=t+"__bubble";n.has(r)||(W8(e,t,2,!1),n.add(r))}function c5(t,e,n){var r=0;e&&(r|=4),W8(n,t,r,e)}var S0="_reactListening"+Math.random().toString(36).slice(2);function Xg(t){if(!t[S0]){t[S0]=!0,JD.forEach(function(n){n!=="selectionchange"&&(AK.has(n)||c5(n,!1,t),c5(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[S0]||(e[S0]=!0,c5("selectionchange",!1,e))}}function W8(t,e,n,r){switch(T8(e)){case 1:var i=FG;break;case 4:i=$G;break;default:i=BE}n=i.bind(null,e,n,t),i=void 0,!mS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function u5(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Pf(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}p8(function(){var c=a,u=LE(n),f=[];e:{var h=z8.get(t);if(h!==void 0){var p=UE,b=t;switch(t){case"keypress":if(b1(n)===0)break e;case"keydown":case"keyup":p=eK;break;case"focusin":b="focus",p=r5;break;case"focusout":b="blur",p=r5;break;case"beforeblur":case"afterblur":p=r5;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=D3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=UG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=rK;break;case $8:case B8:case V8:p=WG;break;case U8:p=aK;break;case"scroll":p=BG;break;case"wheel":p=oK;break;case"copy":case"cut":case"paste":p=GG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=$3}var x=(e&4)!==0,v=!x&&t==="scroll",y=x?h!==null?h+"Capture":null:h;x=[];for(var w=c,S;w!==null;){S=w;var E=S.stateNode;if(S.tag===5&&E!==null&&(S=E,y!==null&&(E=qg(w,y),E!=null&&x.push(Qg(w,E,S)))),v)break;w=w.return}0<x.length&&(h=new p(h,b,null,n,u),f.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==hS&&(b=n.relatedTarget||n.fromElement)&&(Pf(b)||b[Zl]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(b=n.relatedTarget||n.toElement,p=c,b=b?Pf(b):null,b!==null&&(v=dd(b),b!==v||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=c),p!==b)){if(x=D3,E="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(x=$3,E="onPointerLeave",y="onPointerEnter",w="pointer"),v=p==null?h:nh(p),S=b==null?h:nh(b),h=new x(E,w+"leave",p,n,u),h.target=v,h.relatedTarget=S,E=null,Pf(u)===c&&(x=new x(y,w+"enter",b,n,u),x.target=S,x.relatedTarget=v,E=x),v=E,p&&b)t:{for(x=p,y=b,w=0,S=x;S;S=Ld(S))w++;for(S=0,E=y;E;E=Ld(E))S++;for(;0<w-S;)x=Ld(x),w--;for(;0<S-w;)y=Ld(y),S--;for(;w--;){if(x===y||y!==null&&x===y.alternate)break t;x=Ld(x),y=Ld(y)}x=null}else x=null;p!==null&&X3(f,h,p,x,!1),b!==null&&v!==null&&X3(f,v,b,x,!0)}}e:{if(h=c?nh(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var P=pK;else if(U3(h))if(R8)P=vK;else{P=gK;var R=mK}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(P=yK);if(P&&(P=P(t,c))){O8(f,P,n,u);break e}R&&R(t,h,c),t==="focusout"&&(R=h._wrapperState)&&R.controlled&&h.type==="number"&&lS(h,"number",h.value)}switch(R=c?nh(c):window,t){case"focusin":(U3(R)||R.contentEditable==="true")&&(eh=R,xS=c,xg=null);break;case"focusout":xg=xS=eh=null;break;case"mousedown":wS=!0;break;case"contextmenu":case"mouseup":case"dragend":wS=!1,G3(f,n,u);break;case"selectionchange":if(wK)break;case"keydown":case"keyup":G3(f,n,u)}var I;if(qE)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Zd?C8(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(I8&&n.locale!=="ko"&&(Zd||A!=="onCompositionStart"?A==="onCompositionEnd"&&Zd&&(I=k8()):(su=u,VE="value"in su?su.value:su.textContent,Zd=!0)),R=eb(c,A),0<R.length&&(A=new F3(A,t,null,n,u),f.push({event:A,listeners:R}),I?A.data=I:(I=j8(n),I!==null&&(A.data=I)))),(I=cK?uK(t,n):fK(t,n))&&(c=eb(c,"onBeforeInput"),0<c.length&&(u=new F3("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=I))}q8(f,e)})}function Qg(t,e,n){return{instance:t,listener:e,currentTarget:n}}function eb(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=qg(t,n),a!=null&&r.unshift(Qg(t,a,i)),a=qg(t,e),a!=null&&r.push(Qg(t,a,i))),t=t.return}return r}function Ld(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function X3(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=qg(n,a),l!=null&&s.unshift(Qg(n,l,o))):i||(l=qg(n,a),l!=null&&s.push(Qg(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var NK=/\r\n?/g,EK=/\u0000|\uFFFD/g;function Q3(t){return(typeof t=="string"?t:""+t).replace(NK,`
`).replace(EK,"")}function A0(t,e,n){if(e=Q3(e),Q3(t)!==e&&n)throw Error(Ve(425))}function tb(){}var _S=null,SS=null;function AS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var NS=typeof setTimeout=="function"?setTimeout:void 0,PK=typeof clearTimeout=="function"?clearTimeout:void 0,J3=typeof Promise=="function"?Promise:void 0,TK=typeof queueMicrotask=="function"?queueMicrotask:typeof J3<"u"?function(t){return J3.resolve(null).then(t).catch(kK)}:NS;function kK(t){setTimeout(function(){throw t})}function f5(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Gg(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Gg(e)}function gu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Z3(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Op=Math.random().toString(36).slice(2),Vo="__reactFiber$"+Op,Jg="__reactProps$"+Op,Zl="__reactContainer$"+Op,ES="__reactEvents$"+Op,IK="__reactListeners$"+Op,CK="__reactHandles$"+Op;function Pf(t){var e=t[Vo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zl]||n[Vo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Z3(t);t!==null;){if(n=t[Vo])return n;t=Z3(t)}return e}t=n,n=t.parentNode}return null}function fv(t){return t=t[Vo]||t[Zl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function nh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ve(33))}function t2(t){return t[Jg]||null}var PS=[],rh=-1;function Fu(t){return{current:t}}function Xn(t){0>rh||(t.current=PS[rh],PS[rh]=null,rh--)}function Un(t,e){rh++,PS[rh]=t.current,t.current=e}var ku={},ta=Fu(ku),Aa=Fu(!1),Wf=ku;function zh(t,e){var n=t.type.contextTypes;if(!n)return ku;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Na(t){return t=t.childContextTypes,t!=null}function nb(){Xn(Aa),Xn(ta)}function eI(t,e,n){if(ta.current!==ku)throw Error(Ve(168));Un(ta,e),Un(Aa,n)}function H8(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ve(108,mG(t)||"Unknown",i));return mr({},n,r)}function rb(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ku,Wf=ta.current,Un(ta,t),Un(Aa,Aa.current),!0}function tI(t,e,n){var r=t.stateNode;if(!r)throw Error(Ve(169));n?(t=H8(t,e,Wf),r.__reactInternalMemoizedMergedChildContext=t,Xn(Aa),Xn(ta),Un(ta,t)):Xn(Aa),Un(Aa,n)}var Ol=null,n2=!1,d5=!1;function G8(t){Ol===null?Ol=[t]:Ol.push(t)}function jK(t){n2=!0,G8(t)}function $u(){if(!d5&&Ol!==null){d5=!0;var t=0,e=Nn;try{var n=Ol;for(Nn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ol=null,n2=!1}catch(i){throw Ol!==null&&(Ol=Ol.slice(t+1)),v8(DE,$u),i}finally{Nn=e,d5=!1}}return null}var ih=[],ah=0,ib=null,ab=0,As=[],Ns=0,Hf=null,Ml=1,Ll="";function gf(t,e){ih[ah++]=ab,ih[ah++]=ib,ib=t,ab=e}function K8(t,e,n){As[Ns++]=Ml,As[Ns++]=Ll,As[Ns++]=Hf,Hf=t;var r=Ml;t=Ll;var i=32-oo(r)-1;r&=~(1<<i),n+=1;var a=32-oo(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ml=1<<32-oo(e)+i|n<<i|r,Ll=a+t}else Ml=1<<a|n<<i|r,Ll=t}function HE(t){t.return!==null&&(gf(t,1),K8(t,1,0))}function GE(t){for(;t===ib;)ib=ih[--ah],ih[ah]=null,ab=ih[--ah],ih[ah]=null;for(;t===Hf;)Hf=As[--Ns],As[Ns]=null,Ll=As[--Ns],As[Ns]=null,Ml=As[--Ns],As[Ns]=null}var Ja=null,Ka=null,tr=!1,ro=null;function Y8(t,e){var n=Ps(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ja=t,Ka=gu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ja=t,Ka=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Hf!==null?{id:Ml,overflow:Ll}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ps(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ja=t,Ka=null,!0):!1;default:return!1}}function TS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kS(t){if(tr){var e=Ka;if(e){var n=e;if(!nI(t,e)){if(TS(t))throw Error(Ve(418));e=gu(n.nextSibling);var r=Ja;e&&nI(t,e)?Y8(r,n):(t.flags=t.flags&-4097|2,tr=!1,Ja=t)}}else{if(TS(t))throw Error(Ve(418));t.flags=t.flags&-4097|2,tr=!1,Ja=t}}}function rI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ja=t}function N0(t){if(t!==Ja)return!1;if(!tr)return rI(t),tr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!AS(t.type,t.memoizedProps)),e&&(e=Ka)){if(TS(t))throw X8(),Error(Ve(418));for(;e;)Y8(t,e),e=gu(e.nextSibling)}if(rI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ve(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ka=gu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ka=null}}else Ka=Ja?gu(t.stateNode.nextSibling):null;return!0}function X8(){for(var t=Ka;t;)t=gu(t.nextSibling)}function qh(){Ka=Ja=null,tr=!1}function KE(t){ro===null?ro=[t]:ro.push(t)}var OK=pc.ReactCurrentBatchConfig;function Mm(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ve(309));var r=n.stateNode}if(!r)throw Error(Ve(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(Ve(284));if(!n._owner)throw Error(Ve(290,t))}return t}function E0(t,e){throw t=Object.prototype.toString.call(e),Error(Ve(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function iI(t){var e=t._init;return e(t._payload)}function Q8(t){function e(y,w){if(t){var S=y.deletions;S===null?(y.deletions=[w],y.flags|=16):S.push(w)}}function n(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=xu(y,w),y.index=0,y.sibling=null,y}function a(y,w,S){return y.index=S,t?(S=y.alternate,S!==null?(S=S.index,S<w?(y.flags|=2,w):S):(y.flags|=2,w)):(y.flags|=1048576,w)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,w,S,E){return w===null||w.tag!==6?(w=b5(S,y.mode,E),w.return=y,w):(w=i(w,S),w.return=y,w)}function l(y,w,S,E){var P=S.type;return P===Jd?u(y,w,S.props.children,E,S.key):w!==null&&(w.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Yc&&iI(P)===w.type)?(E=i(w,S.props),E.ref=Mm(y,w,S),E.return=y,E):(E=E1(S.type,S.key,S.props,null,y.mode,E),E.ref=Mm(y,w,S),E.return=y,E)}function c(y,w,S,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=x5(S,y.mode,E),w.return=y,w):(w=i(w,S.children||[]),w.return=y,w)}function u(y,w,S,E,P){return w===null||w.tag!==7?(w=Ff(S,y.mode,E,P),w.return=y,w):(w=i(w,S),w.return=y,w)}function f(y,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=b5(""+w,y.mode,S),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case m0:return S=E1(w.type,w.key,w.props,null,y.mode,S),S.ref=Mm(y,null,w),S.return=y,S;case Qd:return w=x5(w,y.mode,S),w.return=y,w;case Yc:var E=w._init;return f(y,E(w._payload),S)}if(ng(w)||Im(w))return w=Ff(w,y.mode,S,null),w.return=y,w;E0(y,w)}return null}function h(y,w,S,E){var P=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return P!==null?null:o(y,w,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case m0:return S.key===P?l(y,w,S,E):null;case Qd:return S.key===P?c(y,w,S,E):null;case Yc:return P=S._init,h(y,w,P(S._payload),E)}if(ng(S)||Im(S))return P!==null?null:u(y,w,S,E,null);E0(y,S)}return null}function p(y,w,S,E,P){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(S)||null,o(w,y,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case m0:return y=y.get(E.key===null?S:E.key)||null,l(w,y,E,P);case Qd:return y=y.get(E.key===null?S:E.key)||null,c(w,y,E,P);case Yc:var R=E._init;return p(y,w,S,R(E._payload),P)}if(ng(E)||Im(E))return y=y.get(S)||null,u(w,y,E,P,null);E0(w,E)}return null}function b(y,w,S,E){for(var P=null,R=null,I=w,A=w=0,N=null;I!==null&&A<S.length;A++){I.index>A?(N=I,I=null):N=I.sibling;var M=h(y,I,S[A],E);if(M===null){I===null&&(I=N);break}t&&I&&M.alternate===null&&e(y,I),w=a(M,w,A),R===null?P=M:R.sibling=M,R=M,I=N}if(A===S.length)return n(y,I),tr&&gf(y,A),P;if(I===null){for(;A<S.length;A++)I=f(y,S[A],E),I!==null&&(w=a(I,w,A),R===null?P=I:R.sibling=I,R=I);return tr&&gf(y,A),P}for(I=r(y,I);A<S.length;A++)N=p(I,y,A,S[A],E),N!==null&&(t&&N.alternate!==null&&I.delete(N.key===null?A:N.key),w=a(N,w,A),R===null?P=N:R.sibling=N,R=N);return t&&I.forEach(function(k){return e(y,k)}),tr&&gf(y,A),P}function x(y,w,S,E){var P=Im(S);if(typeof P!="function")throw Error(Ve(150));if(S=P.call(S),S==null)throw Error(Ve(151));for(var R=P=null,I=w,A=w=0,N=null,M=S.next();I!==null&&!M.done;A++,M=S.next()){I.index>A?(N=I,I=null):N=I.sibling;var k=h(y,I,M.value,E);if(k===null){I===null&&(I=N);break}t&&I&&k.alternate===null&&e(y,I),w=a(k,w,A),R===null?P=k:R.sibling=k,R=k,I=N}if(M.done)return n(y,I),tr&&gf(y,A),P;if(I===null){for(;!M.done;A++,M=S.next())M=f(y,M.value,E),M!==null&&(w=a(M,w,A),R===null?P=M:R.sibling=M,R=M);return tr&&gf(y,A),P}for(I=r(y,I);!M.done;A++,M=S.next())M=p(I,y,A,M.value,E),M!==null&&(t&&M.alternate!==null&&I.delete(M.key===null?A:M.key),w=a(M,w,A),R===null?P=M:R.sibling=M,R=M);return t&&I.forEach(function(j){return e(y,j)}),tr&&gf(y,A),P}function v(y,w,S,E){if(typeof S=="object"&&S!==null&&S.type===Jd&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case m0:e:{for(var P=S.key,R=w;R!==null;){if(R.key===P){if(P=S.type,P===Jd){if(R.tag===7){n(y,R.sibling),w=i(R,S.props.children),w.return=y,y=w;break e}}else if(R.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Yc&&iI(P)===R.type){n(y,R.sibling),w=i(R,S.props),w.ref=Mm(y,R,S),w.return=y,y=w;break e}n(y,R);break}else e(y,R);R=R.sibling}S.type===Jd?(w=Ff(S.props.children,y.mode,E,S.key),w.return=y,y=w):(E=E1(S.type,S.key,S.props,null,y.mode,E),E.ref=Mm(y,w,S),E.return=y,y=E)}return s(y);case Qd:e:{for(R=S.key;w!==null;){if(w.key===R)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(y,w.sibling),w=i(w,S.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else e(y,w);w=w.sibling}w=x5(S,y.mode,E),w.return=y,y=w}return s(y);case Yc:return R=S._init,v(y,w,R(S._payload),E)}if(ng(S))return b(y,w,S,E);if(Im(S))return x(y,w,S,E);E0(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(y,w.sibling),w=i(w,S),w.return=y,y=w):(n(y,w),w=b5(S,y.mode,E),w.return=y,y=w),s(y)):n(y,w)}return v}var Wh=Q8(!0),J8=Q8(!1),sb=Fu(null),ob=null,sh=null,YE=null;function XE(){YE=sh=ob=null}function QE(t){var e=sb.current;Xn(sb),t._currentValue=e}function IS(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ah(t,e){ob=t,YE=sh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_a=!0),t.firstContext=null)}function Ms(t){var e=t._currentValue;if(YE!==t)if(t={context:t,memoizedValue:e,next:null},sh===null){if(ob===null)throw Error(Ve(308));sh=t,ob.dependencies={lanes:0,firstContext:t}}else sh=sh.next=t;return e}var Tf=null;function JE(t){Tf===null?Tf=[t]:Tf.push(t)}function Z8(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,JE(e)):(n.next=i.next,i.next=n),e.interleaved=n,ec(t,r)}function ec(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xc=!1;function ZE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e7(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yu(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,on&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ec(t,n)}return i=r.interleaved,i===null?(e.next=e,JE(r)):(e.next=i.next,i.next=e),r.interleaved=e,ec(t,n)}function x1(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,FE(t,n)}}function aI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function lb(t,e,n,r){var i=t.updateQueue;Xc=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,u=c=l=null,o=a;do{var h=o.lane,p=o.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var b=t,x=o;switch(h=e,p=n,x.tag){case 1:if(b=x.payload,typeof b=="function"){f=b.call(p,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,h=typeof b=="function"?b.call(p,f,h):b,h==null)break e;f=mr({},f,h);break e;case 2:Xc=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Kf|=s,t.lanes=s,t.memoizedState=f}}function sI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ve(191,i));i.call(r)}}}var dv={},Ko=Fu(dv),Zg=Fu(dv),ey=Fu(dv);function kf(t){if(t===dv)throw Error(Ve(174));return t}function eP(t,e){switch(Un(ey,e),Un(Zg,t),Un(Ko,dv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:uS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=uS(e,t)}Xn(Ko),Un(Ko,e)}function Hh(){Xn(Ko),Xn(Zg),Xn(ey)}function t7(t){kf(ey.current);var e=kf(Ko.current),n=uS(e,t.type);e!==n&&(Un(Zg,t),Un(Ko,n))}function tP(t){Zg.current===t&&(Xn(Ko),Xn(Zg))}var ur=Fu(0);function cb(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var h5=[];function nP(){for(var t=0;t<h5.length;t++)h5[t]._workInProgressVersionPrimary=null;h5.length=0}var w1=pc.ReactCurrentDispatcher,p5=pc.ReactCurrentBatchConfig,Gf=0,hr=null,ti=null,fi=null,ub=!1,wg=!1,ty=0,RK=0;function Fi(){throw Error(Ve(321))}function rP(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!uo(t[n],e[n]))return!1;return!0}function iP(t,e,n,r,i,a){if(Gf=a,hr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,w1.current=t===null||t.memoizedState===null?FK:$K,t=n(r,i),wg){a=0;do{if(wg=!1,ty=0,25<=a)throw Error(Ve(301));a+=1,fi=ti=null,e.updateQueue=null,w1.current=BK,t=n(r,i)}while(wg)}if(w1.current=fb,e=ti!==null&&ti.next!==null,Gf=0,fi=ti=hr=null,ub=!1,e)throw Error(Ve(300));return t}function aP(){var t=ty!==0;return ty=0,t}function $o(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fi===null?hr.memoizedState=fi=t:fi=fi.next=t,fi}function Ls(){if(ti===null){var t=hr.alternate;t=t!==null?t.memoizedState:null}else t=ti.next;var e=fi===null?hr.memoizedState:fi.next;if(e!==null)fi=e,ti=t;else{if(t===null)throw Error(Ve(310));ti=t,t={memoizedState:ti.memoizedState,baseState:ti.baseState,baseQueue:ti.baseQueue,queue:ti.queue,next:null},fi===null?hr.memoizedState=fi=t:fi=fi.next=t}return fi}function ny(t,e){return typeof e=="function"?e(t):e}function m5(t){var e=Ls(),n=e.queue;if(n===null)throw Error(Ve(311));n.lastRenderedReducer=t;var r=ti,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((Gf&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,hr.lanes|=u,Kf|=u}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,uo(r,e.memoizedState)||(_a=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,hr.lanes|=a,Kf|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function g5(t){var e=Ls(),n=e.queue;if(n===null)throw Error(Ve(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);uo(a,e.memoizedState)||(_a=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function n7(){}function r7(t,e){var n=hr,r=Ls(),i=e(),a=!uo(r.memoizedState,i);if(a&&(r.memoizedState=i,_a=!0),r=r.queue,sP(s7.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||fi!==null&&fi.memoizedState.tag&1){if(n.flags|=2048,ry(9,a7.bind(null,n,r,i,e),void 0,null),hi===null)throw Error(Ve(349));Gf&30||i7(n,e,i)}return i}function i7(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=hr.updateQueue,e===null?(e={lastEffect:null,stores:null},hr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function a7(t,e,n,r){e.value=n,e.getSnapshot=r,o7(e)&&l7(t)}function s7(t,e,n){return n(function(){o7(e)&&l7(t)})}function o7(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!uo(t,n)}catch{return!0}}function l7(t){var e=ec(t,1);e!==null&&lo(e,t,1,-1)}function oI(t){var e=$o();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ny,lastRenderedState:t},e.queue=t,t=t.dispatch=DK.bind(null,hr,t),[e.memoizedState,t]}function ry(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=hr.updateQueue,e===null?(e={lastEffect:null,stores:null},hr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function c7(){return Ls().memoizedState}function _1(t,e,n,r){var i=$o();hr.flags|=t,i.memoizedState=ry(1|e,n,void 0,r===void 0?null:r)}function r2(t,e,n,r){var i=Ls();r=r===void 0?null:r;var a=void 0;if(ti!==null){var s=ti.memoizedState;if(a=s.destroy,r!==null&&rP(r,s.deps)){i.memoizedState=ry(e,n,a,r);return}}hr.flags|=t,i.memoizedState=ry(1|e,n,a,r)}function lI(t,e){return _1(8390656,8,t,e)}function sP(t,e){return r2(2048,8,t,e)}function u7(t,e){return r2(4,2,t,e)}function f7(t,e){return r2(4,4,t,e)}function d7(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function h7(t,e,n){return n=n!=null?n.concat([t]):null,r2(4,4,d7.bind(null,e,t),n)}function oP(){}function p7(t,e){var n=Ls();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rP(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function m7(t,e){var n=Ls();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rP(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function g7(t,e,n){return Gf&21?(uo(n,e)||(n=w8(),hr.lanes|=n,Kf|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_a=!0),t.memoizedState=n)}function MK(t,e){var n=Nn;Nn=n!==0&&4>n?n:4,t(!0);var r=p5.transition;p5.transition={};try{t(!1),e()}finally{Nn=n,p5.transition=r}}function y7(){return Ls().memoizedState}function LK(t,e,n){var r=bu(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},v7(t))b7(e,n);else if(n=Z8(t,e,n,r),n!==null){var i=fa();lo(n,t,r,i),x7(n,e,r)}}function DK(t,e,n){var r=bu(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(v7(t))b7(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,uo(o,s)){var l=e.interleaved;l===null?(i.next=i,JE(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Z8(t,e,i,r),n!==null&&(i=fa(),lo(n,t,r,i),x7(n,e,r))}}function v7(t){var e=t.alternate;return t===hr||e!==null&&e===hr}function b7(t,e){wg=ub=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function x7(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,FE(t,n)}}var fb={readContext:Ms,useCallback:Fi,useContext:Fi,useEffect:Fi,useImperativeHandle:Fi,useInsertionEffect:Fi,useLayoutEffect:Fi,useMemo:Fi,useReducer:Fi,useRef:Fi,useState:Fi,useDebugValue:Fi,useDeferredValue:Fi,useTransition:Fi,useMutableSource:Fi,useSyncExternalStore:Fi,useId:Fi,unstable_isNewReconciler:!1},FK={readContext:Ms,useCallback:function(t,e){return $o().memoizedState=[t,e===void 0?null:e],t},useContext:Ms,useEffect:lI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_1(4194308,4,d7.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _1(4194308,4,t,e)},useInsertionEffect:function(t,e){return _1(4,2,t,e)},useMemo:function(t,e){var n=$o();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$o();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=LK.bind(null,hr,t),[r.memoizedState,t]},useRef:function(t){var e=$o();return t={current:t},e.memoizedState=t},useState:oI,useDebugValue:oP,useDeferredValue:function(t){return $o().memoizedState=t},useTransition:function(){var t=oI(!1),e=t[0];return t=MK.bind(null,t[1]),$o().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=hr,i=$o();if(tr){if(n===void 0)throw Error(Ve(407));n=n()}else{if(n=e(),hi===null)throw Error(Ve(349));Gf&30||i7(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,lI(s7.bind(null,r,a,t),[t]),r.flags|=2048,ry(9,a7.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=$o(),e=hi.identifierPrefix;if(tr){var n=Ll,r=Ml;n=(r&~(1<<32-oo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ty++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=RK++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$K={readContext:Ms,useCallback:p7,useContext:Ms,useEffect:sP,useImperativeHandle:h7,useInsertionEffect:u7,useLayoutEffect:f7,useMemo:m7,useReducer:m5,useRef:c7,useState:function(){return m5(ny)},useDebugValue:oP,useDeferredValue:function(t){var e=Ls();return g7(e,ti.memoizedState,t)},useTransition:function(){var t=m5(ny)[0],e=Ls().memoizedState;return[t,e]},useMutableSource:n7,useSyncExternalStore:r7,useId:y7,unstable_isNewReconciler:!1},BK={readContext:Ms,useCallback:p7,useContext:Ms,useEffect:sP,useImperativeHandle:h7,useInsertionEffect:u7,useLayoutEffect:f7,useMemo:m7,useReducer:g5,useRef:c7,useState:function(){return g5(ny)},useDebugValue:oP,useDeferredValue:function(t){var e=Ls();return ti===null?e.memoizedState=t:g7(e,ti.memoizedState,t)},useTransition:function(){var t=g5(ny)[0],e=Ls().memoizedState;return[t,e]},useMutableSource:n7,useSyncExternalStore:r7,useId:y7,unstable_isNewReconciler:!1};function eo(t,e){if(t&&t.defaultProps){e=mr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function CS(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:mr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var i2={isMounted:function(t){return(t=t._reactInternals)?dd(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=fa(),i=bu(t),a=zl(r,i);a.payload=e,n!=null&&(a.callback=n),e=yu(t,a,i),e!==null&&(lo(e,t,i,r),x1(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=fa(),i=bu(t),a=zl(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=yu(t,a,i),e!==null&&(lo(e,t,i,r),x1(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=fa(),r=bu(t),i=zl(n,r);i.tag=2,e!=null&&(i.callback=e),e=yu(t,i,r),e!==null&&(lo(e,t,r,n),x1(e,t,r))}};function cI(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Yg(n,r)||!Yg(i,a):!0}function w7(t,e,n){var r=!1,i=ku,a=e.contextType;return typeof a=="object"&&a!==null?a=Ms(a):(i=Na(e)?Wf:ta.current,r=e.contextTypes,a=(r=r!=null)?zh(t,i):ku),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=i2,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function uI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&i2.enqueueReplaceState(e,e.state,null)}function jS(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ZE(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Ms(a):(a=Na(e)?Wf:ta.current,i.context=zh(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(CS(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&i2.enqueueReplaceState(i,i.state,null),lb(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Gh(t,e){try{var n="",r=e;do n+=pG(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function y5(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function OS(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var VK=typeof WeakMap=="function"?WeakMap:Map;function _7(t,e,n){n=zl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hb||(hb=!0,zS=r),OS(t,e)},n}function S7(t,e,n){n=zl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){OS(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){OS(t,e),typeof r!="function"&&(vu===null?vu=new Set([this]):vu.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function fI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new VK;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=tY.bind(null,t,e,n),e.then(t,t))}function dI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hI(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zl(-1,1),e.tag=2,yu(n,e,1))),n.lanes|=1),t)}var UK=pc.ReactCurrentOwner,_a=!1;function ca(t,e,n,r){e.child=t===null?J8(e,null,n,r):Wh(e,t.child,n,r)}function pI(t,e,n,r,i){n=n.render;var a=e.ref;return Ah(e,i),r=iP(t,e,n,r,a,i),n=aP(),t!==null&&!_a?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,tc(t,e,i)):(tr&&n&&HE(e),e.flags|=1,ca(t,e,r,i),e.child)}function mI(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!mP(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,A7(t,e,a,r,i)):(t=E1(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Yg,n(s,r)&&t.ref===e.ref)return tc(t,e,i)}return e.flags|=1,t=xu(a,r),t.ref=e.ref,t.return=e,e.child=t}function A7(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Yg(a,r)&&t.ref===e.ref)if(_a=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(_a=!0);else return e.lanes=t.lanes,tc(t,e,i)}return RS(t,e,n,r,i)}function N7(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Un(lh,Wa),Wa|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Un(lh,Wa),Wa|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Un(lh,Wa),Wa|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Un(lh,Wa),Wa|=r;return ca(t,e,i,n),e.child}function E7(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function RS(t,e,n,r,i){var a=Na(n)?Wf:ta.current;return a=zh(e,a),Ah(e,i),n=iP(t,e,n,r,a,i),r=aP(),t!==null&&!_a?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,tc(t,e,i)):(tr&&r&&HE(e),e.flags|=1,ca(t,e,n,i),e.child)}function gI(t,e,n,r,i){if(Na(n)){var a=!0;rb(e)}else a=!1;if(Ah(e,i),e.stateNode===null)S1(t,e),w7(e,n,r),jS(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ms(c):(c=Na(n)?Wf:ta.current,c=zh(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&uI(e,s,r,c),Xc=!1;var h=e.memoizedState;s.state=h,lb(e,r,s,i),l=e.memoizedState,o!==r||h!==l||Aa.current||Xc?(typeof u=="function"&&(CS(e,n,u,r),l=e.memoizedState),(o=Xc||cI(e,n,o,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,e7(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:eo(e.type,o),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ms(l):(l=Na(n)?Wf:ta.current,l=zh(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&uI(e,s,r,l),Xc=!1,h=e.memoizedState,s.state=h,lb(e,r,s,i);var b=e.memoizedState;o!==f||h!==b||Aa.current||Xc?(typeof p=="function"&&(CS(e,n,p,r),b=e.memoizedState),(c=Xc||cI(e,n,c,r,h,b,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,b,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,b,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),s.props=r,s.state=b,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return MS(t,e,n,r,a,i)}function MS(t,e,n,r,i,a){E7(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&tI(e,n,!1),tc(t,e,a);r=e.stateNode,UK.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Wh(e,t.child,null,a),e.child=Wh(e,null,o,a)):ca(t,e,o,a),e.memoizedState=r.state,i&&tI(e,n,!0),e.child}function P7(t){var e=t.stateNode;e.pendingContext?eI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&eI(t,e.context,!1),eP(t,e.containerInfo)}function yI(t,e,n,r,i){return qh(),KE(i),e.flags|=256,ca(t,e,n,r),e.child}var LS={dehydrated:null,treeContext:null,retryLane:0};function DS(t){return{baseLanes:t,cachePool:null,transitions:null}}function T7(t,e,n){var r=e.pendingProps,i=ur.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Un(ur,i&1),t===null)return kS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=o2(s,r,0,null),t=Ff(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=DS(n),e.memoizedState=LS,t):lP(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return zK(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=xu(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=xu(o,a):(a=Ff(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?DS(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=LS,r}return a=t.child,t=a.sibling,r=xu(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function lP(t,e){return e=o2({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function P0(t,e,n,r){return r!==null&&KE(r),Wh(e,t.child,null,n),t=lP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zK(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=y5(Error(Ve(422))),P0(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=o2({mode:"visible",children:r.children},i,0,null),a=Ff(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Wh(e,t.child,null,s),e.child.memoizedState=DS(s),e.memoizedState=LS,a);if(!(e.mode&1))return P0(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(Ve(419)),r=y5(a,r,void 0),P0(t,e,s,r)}if(o=(s&t.childLanes)!==0,_a||o){if(r=hi,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ec(t,i),lo(r,t,i,-1))}return pP(),r=y5(Error(Ve(421))),P0(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=nY.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Ka=gu(i.nextSibling),Ja=e,tr=!0,ro=null,t!==null&&(As[Ns++]=Ml,As[Ns++]=Ll,As[Ns++]=Hf,Ml=t.id,Ll=t.overflow,Hf=e),e=lP(e,r.children),e.flags|=4096,e)}function vI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),IS(t.return,e,n)}function v5(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function k7(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(ca(t,e,r.children,n),r=ur.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vI(t,n,e);else if(t.tag===19)vI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Un(ur,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&cb(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),v5(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&cb(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}v5(e,!0,n,null,a);break;case"together":v5(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function S1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function tc(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Kf|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ve(153));if(e.child!==null){for(t=e.child,n=xu(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xu(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qK(t,e,n){switch(e.tag){case 3:P7(e),qh();break;case 5:t7(e);break;case 1:Na(e.type)&&rb(e);break;case 4:eP(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Un(sb,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Un(ur,ur.current&1),e.flags|=128,null):n&e.child.childLanes?T7(t,e,n):(Un(ur,ur.current&1),t=tc(t,e,n),t!==null?t.sibling:null);Un(ur,ur.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return k7(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Un(ur,ur.current),r)break;return null;case 22:case 23:return e.lanes=0,N7(t,e,n)}return tc(t,e,n)}var I7,FS,C7,j7;I7=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};FS=function(){};C7=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,kf(Ko.current);var a=null;switch(n){case"input":i=sS(t,i),r=sS(t,r),a=[];break;case"select":i=mr({},i,{value:void 0}),r=mr({},r,{value:void 0}),a=[];break;case"textarea":i=cS(t,i),r=cS(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=tb)}fS(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ug.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ug.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Hn("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};j7=function(t,e,n,r){n!==r&&(e.flags|=4)};function Lm(t,e){if(!tr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $i(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function WK(t,e,n){var r=e.pendingProps;switch(GE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $i(e),null;case 1:return Na(e.type)&&nb(),$i(e),null;case 3:return r=e.stateNode,Hh(),Xn(Aa),Xn(ta),nP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(N0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ro!==null&&(HS(ro),ro=null))),FS(t,e),$i(e),null;case 5:tP(e);var i=kf(ey.current);if(n=e.type,t!==null&&e.stateNode!=null)C7(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ve(166));return $i(e),null}if(t=kf(Ko.current),N0(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Vo]=e,r[Jg]=a,t=(e.mode&1)!==0,n){case"dialog":Hn("cancel",r),Hn("close",r);break;case"iframe":case"object":case"embed":Hn("load",r);break;case"video":case"audio":for(i=0;i<ig.length;i++)Hn(ig[i],r);break;case"source":Hn("error",r);break;case"img":case"image":case"link":Hn("error",r),Hn("load",r);break;case"details":Hn("toggle",r);break;case"input":P3(r,a),Hn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Hn("invalid",r);break;case"textarea":k3(r,a),Hn("invalid",r)}fS(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&A0(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&A0(r.textContent,o,t),i=["children",""+o]):Ug.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Hn("scroll",r)}switch(n){case"input":g0(r),T3(r,a,!0);break;case"textarea":g0(r),I3(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=tb)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=s8(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Vo]=e,t[Jg]=r,I7(t,e,!1,!1),e.stateNode=t;e:{switch(s=dS(n,r),n){case"dialog":Hn("cancel",t),Hn("close",t),i=r;break;case"iframe":case"object":case"embed":Hn("load",t),i=r;break;case"video":case"audio":for(i=0;i<ig.length;i++)Hn(ig[i],t);i=r;break;case"source":Hn("error",t),i=r;break;case"img":case"image":case"link":Hn("error",t),Hn("load",t),i=r;break;case"details":Hn("toggle",t),i=r;break;case"input":P3(t,r),i=sS(t,r),Hn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=mr({},r,{value:void 0}),Hn("invalid",t);break;case"textarea":k3(t,r),i=cS(t,r),Hn("invalid",t);break;default:i=r}fS(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?c8(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&o8(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&zg(t,l):typeof l=="number"&&zg(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ug.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Hn("scroll",t):l!=null&&jE(t,a,l,s))}switch(n){case"input":g0(t),T3(t,r,!1);break;case"textarea":g0(t),I3(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Tu(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?xh(t,!!r.multiple,a,!1):r.defaultValue!=null&&xh(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=tb)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $i(e),null;case 6:if(t&&e.stateNode!=null)j7(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ve(166));if(n=kf(ey.current),kf(Ko.current),N0(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vo]=e,(a=r.nodeValue!==n)&&(t=Ja,t!==null))switch(t.tag){case 3:A0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&A0(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vo]=e,e.stateNode=r}return $i(e),null;case 13:if(Xn(ur),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tr&&Ka!==null&&e.mode&1&&!(e.flags&128))X8(),qh(),e.flags|=98560,a=!1;else if(a=N0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(Ve(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ve(317));a[Vo]=e}else qh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$i(e),a=!1}else ro!==null&&(HS(ro),ro=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ur.current&1?ni===0&&(ni=3):pP())),e.updateQueue!==null&&(e.flags|=4),$i(e),null);case 4:return Hh(),FS(t,e),t===null&&Xg(e.stateNode.containerInfo),$i(e),null;case 10:return QE(e.type._context),$i(e),null;case 17:return Na(e.type)&&nb(),$i(e),null;case 19:if(Xn(ur),a=e.memoizedState,a===null)return $i(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)Lm(a,!1);else{if(ni!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=cb(t),s!==null){for(e.flags|=128,Lm(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Un(ur,ur.current&1|2),e.child}t=t.sibling}a.tail!==null&&Lr()>Kh&&(e.flags|=128,r=!0,Lm(a,!1),e.lanes=4194304)}else{if(!r)if(t=cb(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Lm(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!tr)return $i(e),null}else 2*Lr()-a.renderingStartTime>Kh&&n!==1073741824&&(e.flags|=128,r=!0,Lm(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Lr(),e.sibling=null,n=ur.current,Un(ur,r?n&1|2:n&1),e):($i(e),null);case 22:case 23:return hP(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wa&1073741824&&($i(e),e.subtreeFlags&6&&(e.flags|=8192)):$i(e),null;case 24:return null;case 25:return null}throw Error(Ve(156,e.tag))}function HK(t,e){switch(GE(e),e.tag){case 1:return Na(e.type)&&nb(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hh(),Xn(Aa),Xn(ta),nP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tP(e),null;case 13:if(Xn(ur),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ve(340));qh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xn(ur),null;case 4:return Hh(),null;case 10:return QE(e.type._context),null;case 22:case 23:return hP(),null;case 24:return null;default:return null}}var T0=!1,Ki=!1,GK=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function oh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Sr(t,e,r)}else n.current=null}function $S(t,e,n){try{n()}catch(r){Sr(t,e,r)}}var bI=!1;function KK(t,e){if(_S=J1,t=D8(),WE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++c===i&&(o=s),h===a&&++u===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(SS={focusedElem:t,selectionRange:n},J1=!1,Ze=e;Ze!==null;)if(e=Ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ze=t;else for(;Ze!==null;){e=Ze;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,v=b.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:eo(e.type,x),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ve(163))}}catch(E){Sr(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Ze=t;break}Ze=e.return}return b=bI,bI=!1,b}function _g(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&$S(e,n,a)}i=i.next}while(i!==r)}}function a2(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function BS(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function O7(t){var e=t.alternate;e!==null&&(t.alternate=null,O7(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vo],delete e[Jg],delete e[ES],delete e[IK],delete e[CK])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function R7(t){return t.tag===5||t.tag===3||t.tag===4}function xI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R7(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function VS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=tb));else if(r!==4&&(t=t.child,t!==null))for(VS(t,e,n),t=t.sibling;t!==null;)VS(t,e,n),t=t.sibling}function US(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(US(t,e,n),t=t.sibling;t!==null;)US(t,e,n),t=t.sibling}var Ai=null,to=!1;function Vc(t,e,n){for(n=n.child;n!==null;)M7(t,e,n),n=n.sibling}function M7(t,e,n){if(Go&&typeof Go.onCommitFiberUnmount=="function")try{Go.onCommitFiberUnmount(Qx,n)}catch{}switch(n.tag){case 5:Ki||oh(n,e);case 6:var r=Ai,i=to;Ai=null,Vc(t,e,n),Ai=r,to=i,Ai!==null&&(to?(t=Ai,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ai.removeChild(n.stateNode));break;case 18:Ai!==null&&(to?(t=Ai,n=n.stateNode,t.nodeType===8?f5(t.parentNode,n):t.nodeType===1&&f5(t,n),Gg(t)):f5(Ai,n.stateNode));break;case 4:r=Ai,i=to,Ai=n.stateNode.containerInfo,to=!0,Vc(t,e,n),Ai=r,to=i;break;case 0:case 11:case 14:case 15:if(!Ki&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&$S(n,e,s),i=i.next}while(i!==r)}Vc(t,e,n);break;case 1:if(!Ki&&(oh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Sr(n,e,o)}Vc(t,e,n);break;case 21:Vc(t,e,n);break;case 22:n.mode&1?(Ki=(r=Ki)||n.memoizedState!==null,Vc(t,e,n),Ki=r):Vc(t,e,n);break;default:Vc(t,e,n)}}function wI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new GK),e.forEach(function(r){var i=rY.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Ai=o.stateNode,to=!1;break e;case 3:Ai=o.stateNode.containerInfo,to=!0;break e;case 4:Ai=o.stateNode.containerInfo,to=!0;break e}o=o.return}if(Ai===null)throw Error(Ve(160));M7(a,s,i),Ai=null,to=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Sr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)L7(e,t),e=e.sibling}function L7(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xs(e,t),Ro(t),r&4){try{_g(3,t,t.return),a2(3,t)}catch(x){Sr(t,t.return,x)}try{_g(5,t,t.return)}catch(x){Sr(t,t.return,x)}}break;case 1:Xs(e,t),Ro(t),r&512&&n!==null&&oh(n,n.return);break;case 5:if(Xs(e,t),Ro(t),r&512&&n!==null&&oh(n,n.return),t.flags&32){var i=t.stateNode;try{zg(i,"")}catch(x){Sr(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&i8(i,a),dS(o,s);var c=dS(o,a);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?c8(i,f):u==="dangerouslySetInnerHTML"?o8(i,f):u==="children"?zg(i,f):jE(i,u,f,c)}switch(o){case"input":oS(i,a);break;case"textarea":a8(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?xh(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?xh(i,!!a.multiple,a.defaultValue,!0):xh(i,!!a.multiple,a.multiple?[]:"",!1))}i[Jg]=a}catch(x){Sr(t,t.return,x)}}break;case 6:if(Xs(e,t),Ro(t),r&4){if(t.stateNode===null)throw Error(Ve(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(x){Sr(t,t.return,x)}}break;case 3:if(Xs(e,t),Ro(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gg(e.containerInfo)}catch(x){Sr(t,t.return,x)}break;case 4:Xs(e,t),Ro(t);break;case 13:Xs(e,t),Ro(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(fP=Lr())),r&4&&wI(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ki=(c=Ki)||u,Xs(e,t),Ki=c):Xs(e,t),Ro(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ze=t,u=t.child;u!==null;){for(f=Ze=u;Ze!==null;){switch(h=Ze,p=h.child,h.tag){case 0:case 11:case 14:case 15:_g(4,h,h.return);break;case 1:oh(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(x){Sr(r,n,x)}}break;case 5:oh(h,h.return);break;case 22:if(h.memoizedState!==null){SI(f);continue}}p!==null?(p.return=h,Ze=p):SI(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=l8("display",s))}catch(x){Sr(t,t.return,x)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){Sr(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Xs(e,t),Ro(t),r&4&&wI(t);break;case 21:break;default:Xs(e,t),Ro(t)}}function Ro(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(R7(n)){var r=n;break e}n=n.return}throw Error(Ve(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(zg(i,""),r.flags&=-33);var a=xI(t);US(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=xI(t);VS(t,o,s);break;default:throw Error(Ve(161))}}catch(l){Sr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YK(t,e,n){Ze=t,D7(t)}function D7(t,e,n){for(var r=(t.mode&1)!==0;Ze!==null;){var i=Ze,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||T0;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Ki;o=T0;var c=Ki;if(T0=s,(Ki=l)&&!c)for(Ze=i;Ze!==null;)s=Ze,l=s.child,s.tag===22&&s.memoizedState!==null?AI(i):l!==null?(l.return=s,Ze=l):AI(i);for(;a!==null;)Ze=a,D7(a),a=a.sibling;Ze=i,T0=o,Ki=c}_I(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ze=a):_I(t)}}function _I(t){for(;Ze!==null;){var e=Ze;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ki||a2(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ki)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:eo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&sI(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}sI(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Gg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ve(163))}Ki||e.flags&512&&BS(e)}catch(h){Sr(e,e.return,h)}}if(e===t){Ze=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ze=n;break}Ze=e.return}}function SI(t){for(;Ze!==null;){var e=Ze;if(e===t){Ze=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ze=n;break}Ze=e.return}}function AI(t){for(;Ze!==null;){var e=Ze;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{a2(4,e)}catch(l){Sr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Sr(e,i,l)}}var a=e.return;try{BS(e)}catch(l){Sr(e,a,l)}break;case 5:var s=e.return;try{BS(e)}catch(l){Sr(e,s,l)}}}catch(l){Sr(e,e.return,l)}if(e===t){Ze=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ze=o;break}Ze=e.return}}var XK=Math.ceil,db=pc.ReactCurrentDispatcher,cP=pc.ReactCurrentOwner,ks=pc.ReactCurrentBatchConfig,on=0,hi=null,Wr=null,ki=0,Wa=0,lh=Fu(0),ni=0,iy=null,Kf=0,s2=0,uP=0,Sg=null,xa=null,fP=0,Kh=1/0,jl=null,hb=!1,zS=null,vu=null,k0=!1,ou=null,pb=0,Ag=0,qS=null,A1=-1,N1=0;function fa(){return on&6?Lr():A1!==-1?A1:A1=Lr()}function bu(t){return t.mode&1?on&2&&ki!==0?ki&-ki:OK.transition!==null?(N1===0&&(N1=w8()),N1):(t=Nn,t!==0||(t=window.event,t=t===void 0?16:T8(t.type)),t):1}function lo(t,e,n,r){if(50<Ag)throw Ag=0,qS=null,Error(Ve(185));cv(t,n,r),(!(on&2)||t!==hi)&&(t===hi&&(!(on&2)&&(s2|=n),ni===4&&Zc(t,ki)),Ea(t,r),n===1&&on===0&&!(e.mode&1)&&(Kh=Lr()+500,n2&&$u()))}function Ea(t,e){var n=t.callbackNode;OG(t,e);var r=Q1(t,t===hi?ki:0);if(r===0)n!==null&&O3(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&O3(n),e===1)t.tag===0?jK(NI.bind(null,t)):G8(NI.bind(null,t)),TK(function(){!(on&6)&&$u()}),n=null;else{switch(_8(r)){case 1:n=DE;break;case 4:n=b8;break;case 16:n=X1;break;case 536870912:n=x8;break;default:n=X1}n=W7(n,F7.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function F7(t,e){if(A1=-1,N1=0,on&6)throw Error(Ve(327));var n=t.callbackNode;if(Nh()&&t.callbackNode!==n)return null;var r=Q1(t,t===hi?ki:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=mb(t,r);else{e=r;var i=on;on|=2;var a=B7();(hi!==t||ki!==e)&&(jl=null,Kh=Lr()+500,Df(t,e));do try{ZK();break}catch(o){$7(t,o)}while(!0);XE(),db.current=a,on=i,Wr!==null?e=0:(hi=null,ki=0,e=ni)}if(e!==0){if(e===2&&(i=yS(t),i!==0&&(r=i,e=WS(t,i))),e===1)throw n=iy,Df(t,0),Zc(t,r),Ea(t,Lr()),n;if(e===6)Zc(t,r);else{if(i=t.current.alternate,!(r&30)&&!QK(i)&&(e=mb(t,r),e===2&&(a=yS(t),a!==0&&(r=a,e=WS(t,a))),e===1))throw n=iy,Df(t,0),Zc(t,r),Ea(t,Lr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ve(345));case 2:yf(t,xa,jl);break;case 3:if(Zc(t,r),(r&130023424)===r&&(e=fP+500-Lr(),10<e)){if(Q1(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){fa(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=NS(yf.bind(null,t,xa,jl),e);break}yf(t,xa,jl);break;case 4:if(Zc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-oo(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=Lr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*XK(r/1960))-r,10<r){t.timeoutHandle=NS(yf.bind(null,t,xa,jl),r);break}yf(t,xa,jl);break;case 5:yf(t,xa,jl);break;default:throw Error(Ve(329))}}}return Ea(t,Lr()),t.callbackNode===n?F7.bind(null,t):null}function WS(t,e){var n=Sg;return t.current.memoizedState.isDehydrated&&(Df(t,e).flags|=256),t=mb(t,e),t!==2&&(e=xa,xa=n,e!==null&&HS(e)),t}function HS(t){xa===null?xa=t:xa.push.apply(xa,t)}function QK(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!uo(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zc(t,e){for(e&=~uP,e&=~s2,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oo(e),r=1<<n;t[n]=-1,e&=~r}}function NI(t){if(on&6)throw Error(Ve(327));Nh();var e=Q1(t,0);if(!(e&1))return Ea(t,Lr()),null;var n=mb(t,e);if(t.tag!==0&&n===2){var r=yS(t);r!==0&&(e=r,n=WS(t,r))}if(n===1)throw n=iy,Df(t,0),Zc(t,e),Ea(t,Lr()),n;if(n===6)throw Error(Ve(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yf(t,xa,jl),Ea(t,Lr()),null}function dP(t,e){var n=on;on|=1;try{return t(e)}finally{on=n,on===0&&(Kh=Lr()+500,n2&&$u())}}function Yf(t){ou!==null&&ou.tag===0&&!(on&6)&&Nh();var e=on;on|=1;var n=ks.transition,r=Nn;try{if(ks.transition=null,Nn=1,t)return t()}finally{Nn=r,ks.transition=n,on=e,!(on&6)&&$u()}}function hP(){Wa=lh.current,Xn(lh)}function Df(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,PK(n)),Wr!==null)for(n=Wr.return;n!==null;){var r=n;switch(GE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nb();break;case 3:Hh(),Xn(Aa),Xn(ta),nP();break;case 5:tP(r);break;case 4:Hh();break;case 13:Xn(ur);break;case 19:Xn(ur);break;case 10:QE(r.type._context);break;case 22:case 23:hP()}n=n.return}if(hi=t,Wr=t=xu(t.current,null),ki=Wa=e,ni=0,iy=null,uP=s2=Kf=0,xa=Sg=null,Tf!==null){for(e=0;e<Tf.length;e++)if(n=Tf[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Tf=null}return t}function $7(t,e){do{var n=Wr;try{if(XE(),w1.current=fb,ub){for(var r=hr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ub=!1}if(Gf=0,fi=ti=hr=null,wg=!1,ty=0,cP.current=null,n===null||n.return===null){ni=1,iy=e,Wr=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=ki,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=dI(s);if(p!==null){p.flags&=-257,hI(p,s,o,a,e),p.mode&1&&fI(a,c,e),e=p,l=c;var b=e.updateQueue;if(b===null){var x=new Set;x.add(l),e.updateQueue=x}else b.add(l);break e}else{if(!(e&1)){fI(a,c,e),pP();break e}l=Error(Ve(426))}}else if(tr&&o.mode&1){var v=dI(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),hI(v,s,o,a,e),KE(Gh(l,o));break e}}a=l=Gh(l,o),ni!==4&&(ni=2),Sg===null?Sg=[a]:Sg.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=_7(a,l,e);aI(a,y);break e;case 1:o=l;var w=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(vu===null||!vu.has(S)))){a.flags|=65536,e&=-e,a.lanes|=e;var E=S7(a,o,e);aI(a,E);break e}}a=a.return}while(a!==null)}U7(n)}catch(P){e=P,Wr===n&&n!==null&&(Wr=n=n.return);continue}break}while(!0)}function B7(){var t=db.current;return db.current=fb,t===null?fb:t}function pP(){(ni===0||ni===3||ni===2)&&(ni=4),hi===null||!(Kf&268435455)&&!(s2&268435455)||Zc(hi,ki)}function mb(t,e){var n=on;on|=2;var r=B7();(hi!==t||ki!==e)&&(jl=null,Df(t,e));do try{JK();break}catch(i){$7(t,i)}while(!0);if(XE(),on=n,db.current=r,Wr!==null)throw Error(Ve(261));return hi=null,ki=0,ni}function JK(){for(;Wr!==null;)V7(Wr)}function ZK(){for(;Wr!==null&&!AG();)V7(Wr)}function V7(t){var e=q7(t.alternate,t,Wa);t.memoizedProps=t.pendingProps,e===null?U7(t):Wr=e,cP.current=null}function U7(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=HK(n,e),n!==null){n.flags&=32767,Wr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ni=6,Wr=null;return}}else if(n=WK(n,e,Wa),n!==null){Wr=n;return}if(e=e.sibling,e!==null){Wr=e;return}Wr=e=t}while(e!==null);ni===0&&(ni=5)}function yf(t,e,n){var r=Nn,i=ks.transition;try{ks.transition=null,Nn=1,eY(t,e,n,r)}finally{ks.transition=i,Nn=r}return null}function eY(t,e,n,r){do Nh();while(ou!==null);if(on&6)throw Error(Ve(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ve(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(RG(t,a),t===hi&&(Wr=hi=null,ki=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||k0||(k0=!0,W7(X1,function(){return Nh(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ks.transition,ks.transition=null;var s=Nn;Nn=1;var o=on;on|=4,cP.current=null,KK(t,n),L7(n,t),xK(SS),J1=!!_S,SS=_S=null,t.current=n,YK(n),NG(),on=o,Nn=s,ks.transition=a}else t.current=n;if(k0&&(k0=!1,ou=t,pb=i),a=t.pendingLanes,a===0&&(vu=null),TG(n.stateNode),Ea(t,Lr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hb)throw hb=!1,t=zS,zS=null,t;return pb&1&&t.tag!==0&&Nh(),a=t.pendingLanes,a&1?t===qS?Ag++:(Ag=0,qS=t):Ag=0,$u(),null}function Nh(){if(ou!==null){var t=_8(pb),e=ks.transition,n=Nn;try{if(ks.transition=null,Nn=16>t?16:t,ou===null)var r=!1;else{if(t=ou,ou=null,pb=0,on&6)throw Error(Ve(331));var i=on;for(on|=4,Ze=t.current;Ze!==null;){var a=Ze,s=a.child;if(Ze.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Ze=c;Ze!==null;){var u=Ze;switch(u.tag){case 0:case 11:case 15:_g(8,u,a)}var f=u.child;if(f!==null)f.return=u,Ze=f;else for(;Ze!==null;){u=Ze;var h=u.sibling,p=u.return;if(O7(u),u===c){Ze=null;break}if(h!==null){h.return=p,Ze=h;break}Ze=p}}}var b=a.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}Ze=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Ze=s;else e:for(;Ze!==null;){if(a=Ze,a.flags&2048)switch(a.tag){case 0:case 11:case 15:_g(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,Ze=y;break e}Ze=a.return}}var w=t.current;for(Ze=w;Ze!==null;){s=Ze;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,Ze=S;else e:for(s=w;Ze!==null;){if(o=Ze,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:a2(9,o)}}catch(P){Sr(o,o.return,P)}if(o===s){Ze=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,Ze=E;break e}Ze=o.return}}if(on=i,$u(),Go&&typeof Go.onPostCommitFiberRoot=="function")try{Go.onPostCommitFiberRoot(Qx,t)}catch{}r=!0}return r}finally{Nn=n,ks.transition=e}}return!1}function EI(t,e,n){e=Gh(n,e),e=_7(t,e,1),t=yu(t,e,1),e=fa(),t!==null&&(cv(t,1,e),Ea(t,e))}function Sr(t,e,n){if(t.tag===3)EI(t,t,n);else for(;e!==null;){if(e.tag===3){EI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vu===null||!vu.has(r))){t=Gh(n,t),t=S7(e,t,1),e=yu(e,t,1),t=fa(),e!==null&&(cv(e,1,t),Ea(e,t));break}}e=e.return}}function tY(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=fa(),t.pingedLanes|=t.suspendedLanes&n,hi===t&&(ki&n)===n&&(ni===4||ni===3&&(ki&130023424)===ki&&500>Lr()-fP?Df(t,0):uP|=n),Ea(t,e)}function z7(t,e){e===0&&(t.mode&1?(e=b0,b0<<=1,!(b0&130023424)&&(b0=4194304)):e=1);var n=fa();t=ec(t,e),t!==null&&(cv(t,e,n),Ea(t,n))}function nY(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),z7(t,n)}function rY(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ve(314))}r!==null&&r.delete(e),z7(t,n)}var q7;q7=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Aa.current)_a=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _a=!1,qK(t,e,n);_a=!!(t.flags&131072)}else _a=!1,tr&&e.flags&1048576&&K8(e,ab,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;S1(t,e),t=e.pendingProps;var i=zh(e,ta.current);Ah(e,n),i=iP(null,e,r,t,i,n);var a=aP();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Na(r)?(a=!0,rb(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ZE(e),i.updater=i2,e.stateNode=i,i._reactInternals=e,jS(e,r,t,n),e=MS(null,e,r,!0,a,n)):(e.tag=0,tr&&a&&HE(e),ca(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(S1(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=aY(r),t=eo(r,t),i){case 0:e=RS(null,e,r,t,n);break e;case 1:e=gI(null,e,r,t,n);break e;case 11:e=pI(null,e,r,t,n);break e;case 14:e=mI(null,e,r,eo(r.type,t),n);break e}throw Error(Ve(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:eo(r,i),RS(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:eo(r,i),gI(t,e,r,i,n);case 3:e:{if(P7(e),t===null)throw Error(Ve(387));r=e.pendingProps,a=e.memoizedState,i=a.element,e7(t,e),lb(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Gh(Error(Ve(423)),e),e=yI(t,e,r,n,i);break e}else if(r!==i){i=Gh(Error(Ve(424)),e),e=yI(t,e,r,n,i);break e}else for(Ka=gu(e.stateNode.containerInfo.firstChild),Ja=e,tr=!0,ro=null,n=J8(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qh(),r===i){e=tc(t,e,n);break e}ca(t,e,r,n)}e=e.child}return e;case 5:return t7(e),t===null&&kS(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,AS(r,i)?s=null:a!==null&&AS(r,a)&&(e.flags|=32),E7(t,e),ca(t,e,s,n),e.child;case 6:return t===null&&kS(e),null;case 13:return T7(t,e,n);case 4:return eP(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wh(e,null,r,n):ca(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:eo(r,i),pI(t,e,r,i,n);case 7:return ca(t,e,e.pendingProps,n),e.child;case 8:return ca(t,e,e.pendingProps.children,n),e.child;case 12:return ca(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Un(sb,r._currentValue),r._currentValue=s,a!==null)if(uo(a.value,s)){if(a.children===i.children&&!Aa.current){e=tc(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=zl(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),IS(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Ve(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),IS(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}ca(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ah(e,n),i=Ms(i),r=r(i),e.flags|=1,ca(t,e,r,n),e.child;case 14:return r=e.type,i=eo(r,e.pendingProps),i=eo(r.type,i),mI(t,e,r,i,n);case 15:return A7(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:eo(r,i),S1(t,e),e.tag=1,Na(r)?(t=!0,rb(e)):t=!1,Ah(e,n),w7(e,r,i),jS(e,r,i,n),MS(null,e,r,!0,t,n);case 19:return k7(t,e,n);case 22:return N7(t,e,n)}throw Error(Ve(156,e.tag))};function W7(t,e){return v8(t,e)}function iY(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ps(t,e,n,r){return new iY(t,e,n,r)}function mP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aY(t){if(typeof t=="function")return mP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===RE)return 11;if(t===ME)return 14}return 2}function xu(t,e){var n=t.alternate;return n===null?(n=Ps(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function E1(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")mP(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Jd:return Ff(n.children,i,a,e);case OE:s=8,i|=8;break;case nS:return t=Ps(12,n,e,i|2),t.elementType=nS,t.lanes=a,t;case rS:return t=Ps(13,n,e,i),t.elementType=rS,t.lanes=a,t;case iS:return t=Ps(19,n,e,i),t.elementType=iS,t.lanes=a,t;case t8:return o2(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ZD:s=10;break e;case e8:s=9;break e;case RE:s=11;break e;case ME:s=14;break e;case Yc:s=16,r=null;break e}throw Error(Ve(130,t==null?t:typeof t,""))}return e=Ps(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Ff(t,e,n,r){return t=Ps(7,t,r,e),t.lanes=n,t}function o2(t,e,n,r){return t=Ps(22,t,r,e),t.elementType=t8,t.lanes=n,t.stateNode={isHidden:!1},t}function b5(t,e,n){return t=Ps(6,t,null,e),t.lanes=n,t}function x5(t,e,n){return e=Ps(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sY(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=e5(0),this.expirationTimes=e5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=e5(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gP(t,e,n,r,i,a,s,o,l){return t=new sY(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ps(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ZE(a),t}function oY(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function H7(t){if(!t)return ku;t=t._reactInternals;e:{if(dd(t)!==t||t.tag!==1)throw Error(Ve(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Na(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ve(171))}if(t.tag===1){var n=t.type;if(Na(n))return H8(t,n,e)}return e}function G7(t,e,n,r,i,a,s,o,l){return t=gP(n,r,!0,t,i,a,s,o,l),t.context=H7(null),n=t.current,r=fa(),i=bu(n),a=zl(r,i),a.callback=e??null,yu(n,a,i),t.current.lanes=i,cv(t,i,r),Ea(t,r),t}function l2(t,e,n,r){var i=e.current,a=fa(),s=bu(i);return n=H7(n),e.context===null?e.context=n:e.pendingContext=n,e=zl(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=yu(i,e,s),t!==null&&(lo(t,i,s,a),x1(t,i,s)),s}function gb(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function PI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yP(t,e){PI(t,e),(t=t.alternate)&&PI(t,e)}function lY(){return null}var K7=typeof reportError=="function"?reportError:function(t){console.error(t)};function vP(t){this._internalRoot=t}c2.prototype.render=vP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ve(409));l2(t,e,null,null)};c2.prototype.unmount=vP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Yf(function(){l2(null,t,null,null)}),e[Zl]=null}};function c2(t){this._internalRoot=t}c2.prototype.unstable_scheduleHydration=function(t){if(t){var e=N8();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Jc.length&&e!==0&&e<Jc[n].priority;n++);Jc.splice(n,0,t),n===0&&P8(t)}};function bP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function TI(){}function cY(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=gb(s);a.call(c)}}var s=G7(e,r,t,0,null,!1,!1,"",TI);return t._reactRootContainer=s,t[Zl]=s.current,Xg(t.nodeType===8?t.parentNode:t),Yf(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=gb(l);o.call(c)}}var l=gP(t,0,!1,null,null,!1,!1,"",TI);return t._reactRootContainer=l,t[Zl]=l.current,Xg(t.nodeType===8?t.parentNode:t),Yf(function(){l2(e,l,n,r)}),l}function f2(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=gb(s);o.call(l)}}l2(e,s,t,i)}else s=cY(n,e,t,i,r);return gb(s)}S8=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rg(e.pendingLanes);n!==0&&(FE(e,n|1),Ea(e,Lr()),!(on&6)&&(Kh=Lr()+500,$u()))}break;case 13:Yf(function(){var r=ec(t,1);if(r!==null){var i=fa();lo(r,t,1,i)}}),yP(t,1)}};$E=function(t){if(t.tag===13){var e=ec(t,134217728);if(e!==null){var n=fa();lo(e,t,134217728,n)}yP(t,134217728)}};A8=function(t){if(t.tag===13){var e=bu(t),n=ec(t,e);if(n!==null){var r=fa();lo(n,t,e,r)}yP(t,e)}};N8=function(){return Nn};E8=function(t,e){var n=Nn;try{return Nn=t,e()}finally{Nn=n}};pS=function(t,e,n){switch(e){case"input":if(oS(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=t2(r);if(!i)throw Error(Ve(90));r8(r),oS(r,i)}}}break;case"textarea":a8(t,n);break;case"select":e=n.value,e!=null&&xh(t,!!n.multiple,e,!1)}};d8=dP;h8=Yf;var uY={usingClientEntryPoint:!1,Events:[fv,nh,t2,u8,f8,dP]},Dm={findFiberByHostInstance:Pf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fY={bundleType:Dm.bundleType,version:Dm.version,rendererPackageName:Dm.rendererPackageName,rendererConfig:Dm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=g8(t),t===null?null:t.stateNode},findFiberByHostInstance:Dm.findFiberByHostInstance||lY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var I0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!I0.isDisabled&&I0.supportsFiber)try{Qx=I0.inject(fY),Go=I0}catch{}}rs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uY;rs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bP(e))throw Error(Ve(200));return oY(t,e,null,n)};rs.createRoot=function(t,e){if(!bP(t))throw Error(Ve(299));var n=!1,r="",i=K7;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=gP(t,1,!1,null,null,n,!1,r,i),t[Zl]=e.current,Xg(t.nodeType===8?t.parentNode:t),new vP(e)};rs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ve(188)):(t=Object.keys(t).join(","),Error(Ve(268,t)));return t=g8(e),t=t===null?null:t.stateNode,t};rs.flushSync=function(t){return Yf(t)};rs.hydrate=function(t,e,n){if(!u2(e))throw Error(Ve(200));return f2(null,t,e,!0,n)};rs.hydrateRoot=function(t,e,n){if(!bP(t))throw Error(Ve(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=K7;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=G7(e,null,t,1,n??null,i,!1,a,s),t[Zl]=e.current,Xg(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new c2(e)};rs.render=function(t,e,n){if(!u2(e))throw Error(Ve(200));return f2(null,t,e,!1,n)};rs.unmountComponentAtNode=function(t){if(!u2(t))throw Error(Ve(40));return t._reactRootContainer?(Yf(function(){f2(null,null,t,!1,function(){t._reactRootContainer=null,t[Zl]=null})}),!0):!1};rs.unstable_batchedUpdates=dP;rs.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!u2(n))throw Error(Ve(200));if(t==null||t._reactInternals===void 0)throw Error(Ve(38));return f2(t,e,n,!1,r)};rs.version="18.3.1-next-f1338f8080-20240426";function Y7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Y7)}catch(t){console.error(t)}}Y7(),YD.exports=rs;var dY=YD.exports,kI=dY;eS.createRoot=kI.createRoot,eS.hydrateRoot=kI.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ay(){return ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ay.apply(this,arguments)}var lu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(lu||(lu={}));const II="popstate";function hY(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return GS("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:yb(i)}return mY(e,n,null,t)}function Vr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xP(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pY(){return Math.random().toString(36).substr(2,8)}function CI(t,e){return{usr:t.state,key:t.key,idx:e}}function GS(t,e,n,r){return n===void 0&&(n=null),ay({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Rp(e):e,{state:n,key:e&&e.key||r||pY()})}function yb(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Rp(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function mY(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=lu.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(ay({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){o=lu.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:o,location:x.location,delta:y})}function h(v,y){o=lu.Push;let w=GS(x.location,v,y);c=u()+1;let S=CI(w,c),E=x.createHref(w);try{s.pushState(S,"",E)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(E)}a&&l&&l({action:o,location:x.location,delta:1})}function p(v,y){o=lu.Replace;let w=GS(x.location,v,y);c=u();let S=CI(w,c),E=x.createHref(w);s.replaceState(S,"",E),a&&l&&l({action:o,location:x.location,delta:0})}function b(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:yb(v);return w=w.replace(/ $/,"%20"),Vr(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let x={get action(){return o},get location(){return t(i,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(II,f),l=v,()=>{i.removeEventListener(II,f),l=null}},createHref(v){return e(i,v)},createURL:b,encodeLocation(v){let y=b(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return s.go(v)}};return x}var jI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(jI||(jI={}));function gY(t,e,n){return n===void 0&&(n="/"),yY(t,e,n)}function yY(t,e,n,r){let i=typeof e=="string"?Rp(e):e,a=wP(i.pathname||"/",n);if(a==null)return null;let s=X7(t);vY(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=IY(a);o=PY(s[l],c)}return o}function X7(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Vr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=wu([r,l.relativePath]),u=n.concat(l);a.children&&a.children.length>0&&(Vr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),X7(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:NY(c,a.index),routesMeta:u})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of Q7(a.path))i(a,s,l)}),e}function Q7(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=Q7(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function vY(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:EY(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const bY=/^:[\w-]+$/,xY=3,wY=2,_Y=1,SY=10,AY=-2,OI=t=>t==="*";function NY(t,e){let n=t.split("/"),r=n.length;return n.some(OI)&&(r+=AY),e&&(r+=wY),n.filter(i=>!OI(i)).reduce((i,a)=>i+(bY.test(a)?xY:a===""?_Y:SY),r)}function EY(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function PY(t,e,n){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=a==="/"?e:e.slice(a.length)||"/",f=TY({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:wu([a,f.pathname]),pathnameBase:MY(wu([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=wu([a,f.pathnameBase]))}return s}function TY(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=kY(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let x=o[f]||"";s=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const b=o[f];return p&&!b?c[h]=void 0:c[h]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function kY(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),xP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function IY(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function wP(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const CY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jY=t=>CY.test(t);function OY(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Rp(t):t,a;if(n)if(jY(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),xP(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?a=RI(n.substring(1),"/"):a=RI(n,e)}else a=e;return{pathname:a,search:LY(r),hash:DY(i)}}function RI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function w5(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RY(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _P(t,e){let n=RY(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function SP(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Rp(t):(i=ay({},t),Vr(!i.pathname||!i.pathname.includes("?"),w5("?","pathname","search",i)),Vr(!i.pathname||!i.pathname.includes("#"),w5("#","pathname","hash",i)),Vr(!i.search||!i.search.includes("#"),w5("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=OY(i,o),c=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const wu=t=>t.join("/").replace(/\/\/+/g,"/"),MY=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LY=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DY=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FY(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const J7=["post","put","patch","delete"];new Set(J7);const $Y=["get",...J7];new Set($Y);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sy(){return sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sy.apply(this,arguments)}const AP=U.createContext(null),BY=U.createContext(null),Bu=U.createContext(null),d2=U.createContext(null),ll=U.createContext({outlet:null,matches:[],isDataRoute:!1}),Z7=U.createContext(null);function VY(t,e){let{relative:n}=e===void 0?{}:e;Mp()||Vr(!1);let{basename:r,navigator:i}=U.useContext(Bu),{hash:a,pathname:s,search:o}=nF(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:wu([r,s])),i.createHref({pathname:l,search:o,hash:a})}function Mp(){return U.useContext(d2)!=null}function Vu(){return Mp()||Vr(!1),U.useContext(d2).location}function eF(t){U.useContext(Bu).static||U.useLayoutEffect(t)}function yo(){let{isDataRoute:t}=U.useContext(ll);return t?nX():UY()}function UY(){Mp()||Vr(!1);let t=U.useContext(AP),{basename:e,future:n,navigator:r}=U.useContext(Bu),{matches:i}=U.useContext(ll),{pathname:a}=Vu(),s=JSON.stringify(_P(i,n.v7_relativeSplatPath)),o=U.useRef(!1);return eF(()=>{o.current=!0}),U.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=SP(c,JSON.parse(s),a,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:wu([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,s,a,t])}const zY=U.createContext(null);function qY(t){let e=U.useContext(ll).outlet;return e&&U.createElement(zY.Provider,{value:t},e)}function tF(){let{matches:t}=U.useContext(ll),e=t[t.length-1];return e?e.params:{}}function nF(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=U.useContext(Bu),{matches:i}=U.useContext(ll),{pathname:a}=Vu(),s=JSON.stringify(_P(i,r.v7_relativeSplatPath));return U.useMemo(()=>SP(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function WY(t,e){return HY(t,e)}function HY(t,e,n,r){Mp()||Vr(!1);let{navigator:i}=U.useContext(Bu),{matches:a}=U.useContext(ll),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Vu(),u;if(e){var f;let v=typeof e=="string"?Rp(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||Vr(!1),u=v}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let b=gY(t,{pathname:p}),x=QY(b&&b.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:wu([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:wu([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r);return e&&x?U.createElement(d2.Provider,{value:{location:sy({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:lu.Pop}},x):x}function GY(){let t=tX(),e=FY(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,null)}const KY=U.createElement(GY,null);class YY extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?U.createElement(ll.Provider,{value:this.props.routeContext},U.createElement(Z7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XY(t){let{routeContext:e,match:n,children:r}=t,i=U.useContext(AP);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(ll.Provider,{value:e},r)}function QY(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let u=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||Vr(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:p}=n,b=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||b){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,h)=>{let p,b=!1,x=null,v=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,x=f.route.errorElement||KY,l&&(c<0&&h===0?(rX("route-fallback"),b=!0,v=null):c===h&&(b=!0,v=f.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,h+1)),w=()=>{let S;return p?S=x:b?S=v:f.route.Component?S=U.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=u,U.createElement(XY,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?U.createElement(YY,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var rF=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(rF||{}),iF=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(iF||{});function JY(t){let e=U.useContext(AP);return e||Vr(!1),e}function ZY(t){let e=U.useContext(BY);return e||Vr(!1),e}function eX(t){let e=U.useContext(ll);return e||Vr(!1),e}function aF(t){let e=eX(),n=e.matches[e.matches.length-1];return n.route.id||Vr(!1),n.route.id}function tX(){var t;let e=U.useContext(Z7),n=ZY(),r=aF();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function nX(){let{router:t}=JY(rF.UseNavigateStable),e=aF(iF.UseNavigateStable),n=U.useRef(!1);return eF(()=>{n.current=!0}),U.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,sy({fromRouteId:e},a)))},[t,e])}const MI={};function rX(t,e,n){MI[t]||(MI[t]=!0)}function iX(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ng(t){let{to:e,replace:n,state:r,relative:i}=t;Mp()||Vr(!1);let{future:a,static:s}=U.useContext(Bu),{matches:o}=U.useContext(ll),{pathname:l}=Vu(),c=yo(),u=SP(e,_P(o,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return U.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function aX(t){return qY(t.context)}function cr(t){Vr(!1)}function sX(t){let{basename:e="/",children:n=null,location:r,navigationType:i=lu.Pop,navigator:a,static:s=!1,future:o}=t;Mp()&&Vr(!1);let l=e.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:l,navigator:a,static:s,future:sy({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof r=="string"&&(r=Rp(r));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:b="default"}=r,x=U.useMemo(()=>{let v=wP(u,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:b},navigationType:i}},[l,u,f,h,p,b,i]);return x==null?null:U.createElement(Bu.Provider,{value:c},U.createElement(d2.Provider,{children:n,value:x}))}function oX(t){let{children:e,location:n}=t;return WY(KS(e),n)}new Promise(()=>{});function KS(t,e){e===void 0&&(e=[]);let n=[];return U.Children.forEach(t,(r,i)=>{if(!U.isValidElement(r))return;let a=[...e,i];if(r.type===U.Fragment){n.push.apply(n,KS(r.props.children,a));return}r.type!==cr&&Vr(!1),!r.props.index||!r.props.children||Vr(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=KS(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function YS(){return YS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YS.apply(this,arguments)}function lX(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function cX(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uX(t,e){return t.button===0&&(!e||e==="_self")&&!cX(t)}function XS(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function fX(t,e){let n=XS(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const dX=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hX="6";try{window.__reactRouterVersion=hX}catch{}const pX="startTransition",LI=tG[pX];function mX(t){let{basename:e,children:n,future:r,window:i}=t,a=U.useRef();a.current==null&&(a.current=hY({window:i,v5Compat:!0}));let s=a.current,[o,l]=U.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=U.useCallback(f=>{c&&LI?LI(()=>l(f)):l(f)},[l,c]);return U.useLayoutEffect(()=>s.listen(u),[s,u]),U.useEffect(()=>iX(r),[r]),U.createElement(sX,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const gX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,In=U.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,h=lX(e,dX),{basename:p}=U.useContext(Bu),b,x=!1;if(typeof c=="string"&&yX.test(c)&&(b=c,gX))try{let S=new URL(window.location.href),E=c.startsWith("//")?new URL(S.protocol+c):new URL(c),P=wP(E.pathname,p);E.origin===S.origin&&P!=null?c=P+E.search+E.hash:x=!0}catch{}let v=VY(c,{relative:i}),y=vX(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:f});function w(S){r&&r(S),S.defaultPrevented||y(S)}return U.createElement("a",YS({},h,{href:b||v,onClick:x||a?r:w,ref:n,target:l}))});var DI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(DI||(DI={}));var FI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(FI||(FI={}));function vX(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=yo(),c=Vu(),u=nF(t,{relative:s});return U.useCallback(f=>{if(uX(f,n)){f.preventDefault();let h=r!==void 0?r:yb(c)===yb(u);l(t,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,u,r,i,n,t,a,s,o])}function bX(t){let e=U.useRef(XS(t)),n=U.useRef(!1),r=Vu(),i=U.useMemo(()=>fX(r.search,n.current?null:e.current),[r.search]),a=yo(),s=U.useCallback((o,l)=>{const c=XS(typeof o=="function"?o(i):o);n.current=!0,a("?"+c,l)},[a,i]);return[i,s]}let xX={data:""},wX=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||xX},_X=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,SX=/\/\*[^]*?\*\/|  +/g,$I=/\n+/g,eu=(t,e)=>{let n="",r="",i="";for(let a in t){let s=t[a];a[0]=="@"?a[1]=="i"?n=a+" "+s+";":r+=a[1]=="f"?eu(s,a):a+"{"+eu(s,a[1]=="k"?"":e)+"}":typeof s=="object"?r+=eu(s,e?e.replace(/([^,])+/g,o=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=eu.p?eu.p(a,s):a+":"+s+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Pl={},sF=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+sF(t[n]);return e}return t},AX=(t,e,n,r,i)=>{let a=sF(t),s=Pl[a]||(Pl[a]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(a));if(!Pl[s]){let l=a!==t?t:(c=>{let u,f,h=[{}];for(;u=_X.exec(c.replace(SX,""));)u[4]?h.shift():u[3]?(f=u[3].replace($I," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][u[1]]=u[2].replace($I," ").trim();return h[0]})(t);Pl[s]=eu(i?{["@keyframes "+s]:l}:l,n?"":"."+s)}let o=n&&Pl.g?Pl.g:null;return n&&(Pl.g=Pl[s]),((l,c,u,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Pl[s],e,r,o),s},NX=(t,e,n)=>t.reduce((r,i,a)=>{let s=e[a];if(s&&s.call){let o=s(n),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;s=l?"."+l:o&&typeof o=="object"?o.props?"":eu(o,""):o===!1?"":o}return r+i+(s??"")},"");function h2(t){let e=this||{},n=t.call?t(e.p):t;return AX(n.unshift?n.raw?NX(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,wX(e.target),e.g,e.o,e.k)}let oF,QS,JS;h2.bind({g:1});let nc=h2.bind({k:1});function EX(t,e,n,r){eu.p=e,oF=t,QS=n,JS=r}function Uu(t,e){let n=this||{};return function(){let r=arguments;function i(a,s){let o=Object.assign({},a),l=o.className||i.className;n.p=Object.assign({theme:QS&&QS()},o),n.o=/ *go\d+/.test(l),o.className=h2.apply(n,r)+(l?" "+l:"");let c=t;return t[0]&&(c=o.as||t,delete o.as),JS&&c[0]&&JS(o),oF(c,o)}return i}}var PX=t=>typeof t=="function",vb=(t,e)=>PX(t)?t(e):t,TX=(()=>{let t=0;return()=>(++t).toString()})(),lF=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),kX=20,NP="default",cF=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:r}=e;return cF(t,{type:t.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(s=>s.id===i||i===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},P1=[],uF={toasts:[],pausedAt:void 0,settings:{toastLimit:kX}},Uo={},fF=(t,e=NP)=>{Uo[e]=cF(Uo[e]||uF,t),P1.forEach(([n,r])=>{n===e&&r(Uo[e])})},dF=t=>Object.keys(Uo).forEach(e=>fF(t,e)),IX=t=>Object.keys(Uo).find(e=>Uo[e].toasts.some(n=>n.id===t)),p2=(t=NP)=>e=>{fF(e,t)},CX={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},jX=(t={},e=NP)=>{let[n,r]=U.useState(Uo[e]||uF),i=U.useRef(Uo[e]);U.useEffect(()=>(i.current!==Uo[e]&&r(Uo[e]),P1.push([e,r]),()=>{let s=P1.findIndex(([o])=>o===e);s>-1&&P1.splice(s,1)}),[e]);let a=n.toasts.map(s=>{var o,l,c;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((o=t[s.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((l=t[s.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||CX[s.type],style:{...t.style,...(c=t[s.type])==null?void 0:c.style,...s.style}}});return{...n,toasts:a}},OX=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||TX()}),hv=t=>(e,n)=>{let r=OX(e,t,n);return p2(r.toasterId||IX(r.id))({type:2,toast:r}),r.id},Dr=(t,e)=>hv("blank")(t,e);Dr.error=hv("error");Dr.success=hv("success");Dr.loading=hv("loading");Dr.custom=hv("custom");Dr.dismiss=(t,e)=>{let n={type:3,toastId:t};e?p2(e)(n):dF(n)};Dr.dismissAll=t=>Dr.dismiss(void 0,t);Dr.remove=(t,e)=>{let n={type:4,toastId:t};e?p2(e)(n):dF(n)};Dr.removeAll=t=>Dr.remove(void 0,t);Dr.promise=(t,e,n)=>{let r=Dr.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let a=e.success?vb(e.success,i):void 0;return a?Dr.success(a,{id:r,...n,...n==null?void 0:n.success}):Dr.dismiss(r),i}).catch(i=>{let a=e.error?vb(e.error,i):void 0;a?Dr.error(a,{id:r,...n,...n==null?void 0:n.error}):Dr.dismiss(r)}),t};var RX=1e3,MX=(t,e="default")=>{let{toasts:n,pausedAt:r}=jX(t,e),i=U.useRef(new Map).current,a=U.useCallback((f,h=RX)=>{if(i.has(f))return;let p=setTimeout(()=>{i.delete(f),s({type:4,toastId:f})},h);i.set(f,p)},[]);U.useEffect(()=>{if(r)return;let f=Date.now(),h=n.map(p=>{if(p.duration===1/0)return;let b=(p.duration||0)+p.pauseDuration-(f-p.createdAt);if(b<0){p.visible&&Dr.dismiss(p.id);return}return setTimeout(()=>Dr.dismiss(p.id,e),b)});return()=>{h.forEach(p=>p&&clearTimeout(p))}},[n,r,e]);let s=U.useCallback(p2(e),[e]),o=U.useCallback(()=>{s({type:5,time:Date.now()})},[s]),l=U.useCallback((f,h)=>{s({type:1,toast:{id:f,height:h}})},[s]),c=U.useCallback(()=>{r&&s({type:6,time:Date.now()})},[r,s]),u=U.useCallback((f,h)=>{let{reverseOrder:p=!1,gutter:b=8,defaultPosition:x}=h||{},v=n.filter(S=>(S.position||x)===(f.position||x)&&S.height),y=v.findIndex(S=>S.id===f.id),w=v.filter((S,E)=>E<y&&S.visible).length;return v.filter(S=>S.visible).slice(...p?[w+1]:[0,w]).reduce((S,E)=>S+(E.height||0)+b,0)},[n]);return U.useEffect(()=>{n.forEach(f=>{if(f.dismissed)a(f.id,f.removeDelay);else{let h=i.get(f.id);h&&(clearTimeout(h),i.delete(f.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:l,startPause:o,endPause:c,calculateOffset:u}}},LX=nc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,DX=nc`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,FX=nc`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,$X=Uu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${LX} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${DX} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${FX} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,BX=nc`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,VX=Uu("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${BX} 1s linear infinite;
`,UX=nc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,zX=nc`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,qX=Uu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${UX} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${zX} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,WX=Uu("div")`
  position: absolute;
`,HX=Uu("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,GX=nc`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,KX=Uu("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${GX} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,YX=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?U.createElement(KX,null,e):e:n==="blank"?null:U.createElement(HX,null,U.createElement(VX,{...r}),n!=="loading"&&U.createElement(WX,null,n==="error"?U.createElement($X,{...r}):U.createElement(qX,{...r})))},XX=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,QX=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,JX="0%{opacity:0;} 100%{opacity:1;}",ZX="0%{opacity:1;} 100%{opacity:0;}",eQ=Uu("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,tQ=Uu("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,nQ=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=lF()?[JX,ZX]:[XX(n),QX(n)];return{animation:e?`${nc(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${nc(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},rQ=U.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?nQ(t.position||e||"top-center",t.visible):{opacity:0},a=U.createElement(YX,{toast:t}),s=U.createElement(tQ,{...t.ariaProps},vb(t.message,t));return U.createElement(eQ,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:a,message:s}):U.createElement(U.Fragment,null,a,s))});EX(U.createElement);var iQ=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let a=U.useCallback(s=>{if(s){let o=()=>{let l=s.getBoundingClientRect().height;r(t,l)};o(),new MutationObserver(o).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return U.createElement("div",{ref:a,className:e,style:n},i)},aQ=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:lF()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},sQ=h2`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,C0=16,oQ=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:s,containerClassName:o})=>{let{toasts:l,handlers:c}=MX(n,a);return U.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:C0,left:C0,right:C0,bottom:C0,pointerEvents:"none",...s},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let f=u.position||e,h=c.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),p=aQ(f,h);return U.createElement(iQ,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?sQ:"",style:p},u.type==="custom"?vb(u.message,u):i?i(u):U.createElement(rQ,{toast:u,position:f}))}))},Qe=Dr,BI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lQ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},pF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,f=(a&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),r.push(n[u],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lQ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||c==null||f==null)throw new cQ;const h=a<<2|o>>4;if(r.push(h),c!==64){const p=o<<4&240|c>>2;if(r.push(p),f!==64){const b=c<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uQ=function(t){const e=hF(t);return pF.encodeByteArray(e,!0)},bb=function(t){return uQ(t).replace(/\./g,"")},mF=function(t){try{return pF.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dQ=()=>fQ().__FIREBASE_DEFAULTS__,hQ=()=>{if(typeof process>"u"||typeof BI>"u")return;const t=BI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pQ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mF(t[1]);return e&&JSON.parse(e)},m2=()=>{try{return dQ()||hQ()||pQ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gF=t=>{var e,n;return(n=(e=m2())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mQ=t=>{const e=gF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yF=()=>{var t;return(t=m2())===null||t===void 0?void 0:t.config},vF=t=>{var e;return(e=m2())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gQ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yQ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bb(JSON.stringify(n)),bb(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(na())}function bQ(){var t;const e=(t=m2())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xQ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wQ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _Q(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SQ(){const t=na();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AQ(){return!bQ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NQ(){try{return typeof indexedDB=="object"}catch{return!1}}function EQ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PQ="FirebaseError";class mc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=PQ,Object.setPrototypeOf(this,mc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pv.prototype.create)}}class pv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?TQ(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new mc(i,o,r)}}function TQ(t,e){return t.replace(kQ,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const kQ=/\{\$([^}]+)}/g;function IQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xb(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(VI(a)&&VI(s)){if(!xb(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function VI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ag(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function sg(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function CQ(t,e){const n=new jQ(t,e);return n.subscribe.bind(n)}class jQ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");OQ(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_5),i.error===void 0&&(i.error=_5),i.complete===void 0&&(i.complete=_5);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OQ(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _5(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(t){return t&&t._delegate?t._delegate:t}class Xf{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RQ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new gQ;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LQ(e))try{this.getOrInitializeService({instanceIdentifier:vf})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=vf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vf){return this.instances.has(e)}getOptions(e=vf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MQ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vf){return this.component?this.component.multipleInstances?e:vf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MQ(t){return t===vf?void 0:t}function LQ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RQ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tn||(tn={}));const FQ={debug:tn.DEBUG,verbose:tn.VERBOSE,info:tn.INFO,warn:tn.WARN,error:tn.ERROR,silent:tn.SILENT},$Q=tn.INFO,BQ={[tn.DEBUG]:"log",[tn.VERBOSE]:"log",[tn.INFO]:"info",[tn.WARN]:"warn",[tn.ERROR]:"error"},VQ=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=BQ[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class EP{constructor(e){this.name=e,this._logLevel=$Q,this._logHandler=VQ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tn.DEBUG,...e),this._logHandler(this,tn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tn.VERBOSE,...e),this._logHandler(this,tn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tn.INFO,...e),this._logHandler(this,tn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tn.WARN,...e),this._logHandler(this,tn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tn.ERROR,...e),this._logHandler(this,tn.ERROR,...e)}}const UQ=(t,e)=>e.some(n=>t instanceof n);let UI,zI;function zQ(){return UI||(UI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qQ(){return zI||(zI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bF=new WeakMap,ZS=new WeakMap,xF=new WeakMap,S5=new WeakMap,PP=new WeakMap;function WQ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(_u(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&bF.set(n,t)}).catch(()=>{}),PP.set(e,t),e}function HQ(t){if(ZS.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});ZS.set(t,e)}let eA={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ZS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xF.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _u(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GQ(t){eA=t(eA)}function KQ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(A5(this),e,...n);return xF.set(r,e.sort?e.sort():[e]),_u(r)}:qQ().includes(t)?function(...e){return t.apply(A5(this),e),_u(bF.get(this))}:function(...e){return _u(t.apply(A5(this),e))}}function YQ(t){return typeof t=="function"?KQ(t):(t instanceof IDBTransaction&&HQ(t),UQ(t,zQ())?new Proxy(t,eA):t)}function _u(t){if(t instanceof IDBRequest)return WQ(t);if(S5.has(t))return S5.get(t);const e=YQ(t);return e!==t&&(S5.set(t,e),PP.set(e,t)),e}const A5=t=>PP.get(t);function XQ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=_u(s);return r&&s.addEventListener("upgradeneeded",l=>{r(_u(s.result),l.oldVersion,l.newVersion,_u(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const QQ=["get","getKey","getAll","getAllKeys","count"],JQ=["put","add","delete","clear"],N5=new Map;function qI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(N5.get(e))return N5.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=JQ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||QQ.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return N5.set(e,a),a}GQ(t=>({...t,get:(e,n,r)=>qI(e,n)||t.get(e,n,r),has:(e,n)=>!!qI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eJ(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eJ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tA="@firebase/app",WI="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new EP("@firebase/app"),tJ="@firebase/app-compat",nJ="@firebase/analytics-compat",rJ="@firebase/analytics",iJ="@firebase/app-check-compat",aJ="@firebase/app-check",sJ="@firebase/auth",oJ="@firebase/auth-compat",lJ="@firebase/database",cJ="@firebase/data-connect",uJ="@firebase/database-compat",fJ="@firebase/functions",dJ="@firebase/functions-compat",hJ="@firebase/installations",pJ="@firebase/installations-compat",mJ="@firebase/messaging",gJ="@firebase/messaging-compat",yJ="@firebase/performance",vJ="@firebase/performance-compat",bJ="@firebase/remote-config",xJ="@firebase/remote-config-compat",wJ="@firebase/storage",_J="@firebase/storage-compat",SJ="@firebase/firestore",AJ="@firebase/vertexai-preview",NJ="@firebase/firestore-compat",EJ="firebase",PJ="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="[DEFAULT]",TJ={[tA]:"fire-core",[tJ]:"fire-core-compat",[rJ]:"fire-analytics",[nJ]:"fire-analytics-compat",[aJ]:"fire-app-check",[iJ]:"fire-app-check-compat",[sJ]:"fire-auth",[oJ]:"fire-auth-compat",[lJ]:"fire-rtdb",[cJ]:"fire-data-connect",[uJ]:"fire-rtdb-compat",[fJ]:"fire-fn",[dJ]:"fire-fn-compat",[hJ]:"fire-iid",[pJ]:"fire-iid-compat",[mJ]:"fire-fcm",[gJ]:"fire-fcm-compat",[yJ]:"fire-perf",[vJ]:"fire-perf-compat",[bJ]:"fire-rc",[xJ]:"fire-rc-compat",[wJ]:"fire-gcs",[_J]:"fire-gcs-compat",[SJ]:"fire-fst",[NJ]:"fire-fst-compat",[AJ]:"fire-vertex","fire-js":"fire-js",[EJ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy=new Map,kJ=new Map,rA=new Map;function HI(t,e){try{t.container.addComponent(e)}catch(n){rc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yh(t){const e=t.name;if(rA.has(e))return rc.debug(`There were multiple attempts to register component ${e}.`),!1;rA.set(e,t);for(const n of oy.values())HI(n,t);for(const n of kJ.values())HI(n,t);return!0}function TP(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zo(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IJ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Su=new pv("app","Firebase",IJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CJ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Su.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=PJ;function wF(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:nA,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Su.create("bad-app-name",{appName:String(i)});if(n||(n=yF()),!n)throw Su.create("no-options");const a=oy.get(i);if(a){if(xb(n,a.options)&&xb(r,a.config))return a;throw Su.create("duplicate-app",{appName:i})}const s=new DQ(i);for(const l of rA.values())s.addComponent(l);const o=new CJ(n,r,s);return oy.set(i,o),o}function _F(t=nA){const e=oy.get(t);if(!e&&t===nA&&yF())return wF();if(!e)throw Su.create("no-app",{appName:t});return e}function GI(){return Array.from(oy.values())}function Au(t,e,n){var r;let i=(r=TJ[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const o=[`Unable to register library "${i}" with version "${e}":`];a&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rc.warn(o.join(" "));return}Yh(new Xf(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jJ="firebase-heartbeat-database",OJ=1,ly="firebase-heartbeat-store";let E5=null;function SF(){return E5||(E5=XQ(jJ,OJ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ly)}catch(n){console.warn(n)}}}}).catch(t=>{throw Su.create("idb-open",{originalErrorMessage:t.message})})),E5}async function RJ(t){try{const n=(await SF()).transaction(ly),r=await n.objectStore(ly).get(AF(t));return await n.done,r}catch(e){if(e instanceof mc)rc.warn(e.message);else{const n=Su.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rc.warn(n.message)}}}async function KI(t,e){try{const r=(await SF()).transaction(ly,"readwrite");await r.objectStore(ly).put(e,AF(t)),await r.done}catch(n){if(n instanceof mc)rc.warn(n.message);else{const r=Su.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rc.warn(r.message)}}}function AF(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MJ=1024,LJ=30*24*60*60*1e3;class DJ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $J(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=YI();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=LJ}),this._storage.overwrite(this._heartbeatsCache))}catch(r){rc.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=YI(),{heartbeatsToSend:r,unsentEntries:i}=FJ(this._heartbeatsCache.heartbeats),a=bb(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return rc.warn(n),""}}}function YI(){return new Date().toISOString().substring(0,10)}function FJ(t,e=MJ){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),XI(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),XI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $J{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NQ()?EQ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RJ(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return KI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return KI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function XI(t){return bb(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BJ(t){Yh(new Xf("platform-logger",e=>new ZQ(e),"PRIVATE")),Yh(new Xf("heartbeat",e=>new DJ(e),"PRIVATE")),Au(tA,WI,t),Au(tA,WI,"esm2017"),Au("fire-js","")}BJ("");var VJ="firebase",UJ="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Au(VJ,UJ,"app");function kP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function NF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zJ=NF,EF=new pv("auth","Firebase",NF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=new EP("@firebase/auth");function qJ(t,...e){wb.logLevel<=tn.WARN&&wb.warn(`Auth (${Lp}): ${t}`,...e)}function T1(t,...e){wb.logLevel<=tn.ERROR&&wb.error(`Auth (${Lp}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t,...e){throw IP(t,...e)}function Yo(t,...e){return IP(t,...e)}function PF(t,e,n){const r=Object.assign(Object.assign({},zJ()),{[e]:n});return new pv("auth","Firebase",r).create(e,{appName:t.name})}function ql(t){return PF(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IP(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return EF.create(t,...e)}function Et(t,e,...n){if(!t)throw IP(e,...n)}function Dl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw T1(e),new Error(e)}function ic(t,e){t||Dl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function WJ(){return QI()==="http:"||QI()==="https:"}function QI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HJ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WJ()||wQ()||"connection"in navigator)?navigator.onLine:!0}function GJ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n){this.shortDelay=e,this.longDelay=n,ic(n>e,"Short delay should be less than long delay!"),this.isMobile=vQ()||_Q()}get(){return HJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(t,e){ic(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YJ=new gv(3e4,6e4);function gc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function cl(t,e,n,r,i={}){return kF(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=mv(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},a);return xQ()||(c.referrerPolicy="no-referrer"),TF.fetch()(IF(t,t.config.apiHost,n,o),c)})}async function kF(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},KJ),e);try{const i=new QJ(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw j0(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw j0(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw j0(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw j0(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw PF(t,u,c);fo(t,u)}}catch(i){if(i instanceof mc)throw i;fo(t,"network-request-failed",{message:String(i)})}}async function yv(t,e,n,r,i={}){const a=await cl(t,e,n,r,i);return"mfaPendingCredential"in a&&fo(t,"multi-factor-auth-required",{_serverResponse:a}),a}function IF(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?CP(t.config,i):`${t.config.apiScheme}://${i}`}function XJ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QJ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yo(this.auth,"network-request-failed")),YJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function j0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Yo(t,e,r);return i.customData._tokenResponse=n,i}function JI(t){return t!==void 0&&t.enterprise!==void 0}class JJ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return XJ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function ZJ(t,e){return cl(t,"GET","/v2/recaptchaConfig",gc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eZ(t,e){return cl(t,"POST","/v1/accounts:delete",e)}async function CF(t,e){return cl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tZ(t,e=!1){const n=Nr(t),r=await n.getIdToken(e),i=jP(r);Et(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Eg(P5(i.auth_time)),issuedAtTime:Eg(P5(i.iat)),expirationTime:Eg(P5(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function P5(t){return Number(t)*1e3}function jP(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return T1("JWT malformed, contained fewer than 3 sections"),null;try{const i=mF(n);return i?JSON.parse(i):(T1("Failed to decode base64 JWT payload"),null)}catch(i){return T1("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ZI(t){const e=jP(t);return Et(e,"internal-error"),Et(typeof e.exp<"u","internal-error"),Et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mc&&nZ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function nZ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eg(this.lastLoginAt),this.creationTime=Eg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _b(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Xh(t,CF(n,{idToken:r}));Et(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?jF(a.providerUserInfo):[],o=aZ(t.providerData,s),l=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new aA(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function iZ(t){const e=Nr(t);await _b(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aZ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jF(t){return t.map(e=>{var{providerId:n}=e,r=kP(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sZ(t,e){const n=await kF(t,{},async()=>{const r=mv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=IF(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",TF.fetch()(s,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function oZ(t,e){return cl(t,"POST","/v2/accounts:revokeToken",gc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Et(e.idToken,"internal-error"),Et(typeof e.idToken<"u","internal-error"),Et(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Et(e.length!==0,"internal-error");const n=ZI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await sZ(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new Eh;return r&&(Et(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Et(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Et(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eh,this.toJSON())}_performRefresh(){return Dl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t,e){Et(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fl{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=kP(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new aA(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Xh(this,this.stsTokenManager.getToken(this.auth,e));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tZ(this,e)}reload(){return iZ(this)}_assign(e){this!==e&&(Et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _b(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zo(this.auth.app))return Promise.reject(ql(this.auth));const e=await this.getIdToken();return await Xh(this,eZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,s,o,l,c,u;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,b=(s=n.photoURL)!==null&&s!==void 0?s:void 0,x=(o=n.tenantId)!==null&&o!==void 0?o:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:S,emailVerified:E,isAnonymous:P,providerData:R,stsTokenManager:I}=n;Et(S&&I,e,"internal-error");const A=Eh.fromJSON(this.name,I);Et(typeof S=="string",e,"internal-error"),Uc(f,e.name),Uc(h,e.name),Et(typeof E=="boolean",e,"internal-error"),Et(typeof P=="boolean",e,"internal-error"),Uc(p,e.name),Uc(b,e.name),Uc(x,e.name),Uc(v,e.name),Uc(y,e.name),Uc(w,e.name);const N=new Fl({uid:S,auth:e,email:h,emailVerified:E,displayName:f,isAnonymous:P,photoURL:b,phoneNumber:p,tenantId:x,stsTokenManager:A,createdAt:y,lastLoginAt:w});return R&&Array.isArray(R)&&(N.providerData=R.map(M=>Object.assign({},M))),v&&(N._redirectEventId=v),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new Eh;i.updateFromServerResponse(n);const a=new Fl({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await _b(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Et(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?jF(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new Eh;o.updateFromIdToken(r);const l=new Fl({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new aA(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=new Map;function $l(t){ic(t instanceof Function,"Expected a class definition");let e=eC.get(t);return e?(ic(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OF.type="NONE";const tC=OF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(t,e,n){return`firebase:${t}:${e}:${n}`}class Ph{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=k1(this.userKey,i.apiKey,a),this.fullPersistenceKey=k1("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ph($l(tC),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||$l(tC);const s=k1(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const u=await c._get(s);if(u){const f=Fl._fromJSON(e,u);c!==a&&(o=f),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Ph(a,e,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new Ph(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($F(e))return"Blackberry";if(BF(e))return"Webos";if(MF(e))return"Safari";if((e.includes("chrome/")||LF(e))&&!e.includes("edge/"))return"Chrome";if(FF(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function RF(t=na()){return/firefox\//i.test(t)}function MF(t=na()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LF(t=na()){return/crios\//i.test(t)}function DF(t=na()){return/iemobile/i.test(t)}function FF(t=na()){return/android/i.test(t)}function $F(t=na()){return/blackberry/i.test(t)}function BF(t=na()){return/webos/i.test(t)}function OP(t=na()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lZ(t=na()){var e;return OP(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cZ(){return SQ()&&document.documentMode===10}function VF(t=na()){return OP(t)||FF(t)||BF(t)||$F(t)||/windows phone/i.test(t)||DF(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(t,e=[]){let n;switch(t){case"Browser":n=nC(na());break;case"Worker":n=`${nC(na())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lp}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uZ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fZ(t,e={}){return cl(t,"GET","/v2/passwordPolicy",gc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dZ=6;class hZ{constructor(e){var n,r,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:dZ,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,s,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pZ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rC(this),this.idTokenSubscription=new rC(this),this.beforeStateQueue=new uZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$l(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ph.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await CF(this,{idToken:e}),r=await Fl._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(zo(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _b(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GJ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zo(this.app))return Promise.reject(ql(this));const n=e?Nr(e):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zo(this.app)?Promise.reject(ql(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zo(this.app)?Promise.reject(ql(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($l(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fZ(this),n=new hZ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pv("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await oZ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$l(e)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await Ph.create(this,[$l(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&qJ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function zu(t){return Nr(t)}class rC{constructor(e){this.auth=e,this.observer=null,this.addObserver=CQ(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mZ(t){g2=t}function zF(t){return g2.loadJS(t)}function gZ(){return g2.recaptchaEnterpriseScript}function yZ(){return g2.gapiScript}function vZ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const bZ="recaptcha-enterprise",xZ="NO_RECAPTCHA";class wZ{constructor(e){this.type=bZ,this.auth=zu(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{ZJ(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new JJ(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,s(c.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;JI(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{s(c)}).catch(()=>{s(xZ)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&JI(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=gZ();l.length!==0&&(l+=o),zF(l).then(()=>{i(o,a,s)}).catch(c=>{s(c)})}}).catch(o=>{s(o)})})}}async function iC(t,e,n,r=!1){const i=new wZ(t);let a;try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Sb(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await iC(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await iC(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Z(t,e){const n=TP(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(xb(a,e??{}))return i;fo(i,"already-initialized")}return n.initialize({options:e})}function SZ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map($l);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function AZ(t,e,n){const r=zu(t);Et(r._canInitEmulator,r,"emulator-config-failed"),Et(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=qF(e),{host:s,port:o}=NZ(e),l=o===null?"":`:${o}`;r.config.emulator={url:`${a}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),EZ()}function qF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function NZ(t){const e=qF(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:aC(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:aC(s)}}}function aC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function EZ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Dl("not implemented")}_getIdTokenResponse(e){return Dl("not implemented")}_linkToIdToken(e,n){return Dl("not implemented")}_getReauthenticationResolver(e){return Dl("not implemented")}}async function PZ(t,e){return cl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TZ(t,e){return yv(t,"POST","/v1/accounts:signInWithPassword",gc(t,e))}async function kZ(t,e){return cl(t,"POST","/v1/accounts:sendOobCode",gc(t,e))}async function IZ(t,e){return kZ(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CZ(t,e){return yv(t,"POST","/v1/accounts:signInWithEmailLink",gc(t,e))}async function jZ(t,e){return yv(t,"POST","/v1/accounts:signInWithEmailLink",gc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy extends RP{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new cy(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new cy(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sb(e,n,"signInWithPassword",TZ);case"emailLink":return CZ(e,{email:this._email,oobCode:this._password});default:fo(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sb(e,r,"signUpPassword",PZ);case"emailLink":return jZ(e,{idToken:n,email:this._email,oobCode:this._password});default:fo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(t,e){return yv(t,"POST","/v1/accounts:signInWithIdp",gc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OZ="http://localhost";class Qf extends RP{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=kP(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Qf(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Th(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Th(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Th(e,n)}buildRequest(){const e={requestUri:OZ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mv(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RZ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MZ(t){const e=ag(sg(t)).link,n=e?ag(sg(e)).deep_link_id:null,r=ag(sg(t)).deep_link_id;return(r?ag(sg(r)).link:null)||r||n||e||t}class MP{constructor(e){var n,r,i,a,s,o;const l=ag(sg(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,f=RZ((i=l.mode)!==null&&i!==void 0?i:null);Et(c&&u&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=u,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=MZ(e);try{return new MP(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(){this.providerId=Dp.PROVIDER_ID}static credential(e,n){return cy._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=MP.parseLink(n);return Et(r,"argument-error"),cy._fromEmailAndCode(e,r.code,r.tenantId)}}Dp.PROVIDER_ID="password";Dp.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv extends WF{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends vv{constructor(){super("facebook.com")}static credential(e){return Qf._fromParams({providerId:tu.PROVIDER_ID,signInMethod:tu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tu.credentialFromTaggedObject(e)}static credentialFromError(e){return tu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tu.credential(e.oauthAccessToken)}catch{return null}}}tu.FACEBOOK_SIGN_IN_METHOD="facebook.com";tu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends vv{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qf._fromParams({providerId:nu.PROVIDER_ID,signInMethod:nu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return nu.credentialFromTaggedObject(e)}static credentialFromError(e){return nu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return nu.credential(n,r)}catch{return null}}}nu.GOOGLE_SIGN_IN_METHOD="google.com";nu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends vv{constructor(){super("github.com")}static credential(e){return Qf._fromParams({providerId:ru.PROVIDER_ID,signInMethod:ru.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ru.credentialFromTaggedObject(e)}static credentialFromError(e){return ru.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ru.credential(e.oauthAccessToken)}catch{return null}}}ru.GITHUB_SIGN_IN_METHOD="github.com";ru.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends vv{constructor(){super("twitter.com")}static credential(e,n){return Qf._fromParams({providerId:iu.PROVIDER_ID,signInMethod:iu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return iu.credentialFromTaggedObject(e)}static credentialFromError(e){return iu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return iu.credential(n,r)}catch{return null}}}iu.TWITTER_SIGN_IN_METHOD="twitter.com";iu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LZ(t,e){return yv(t,"POST","/v1/accounts:signUp",gc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Fl._fromIdTokenResponse(e,r,i),s=sC(r);return new Jf({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=sC(r);return new Jf({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function sC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab extends mc{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ab.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ab(e,n,r,i)}}function HF(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ab._fromErrorAndOperation(t,a,e,r):a})}async function DZ(t,e,n=!1){const r=await Xh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Jf._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FZ(t,e,n=!1){const{auth:r}=t;if(zo(r.app))return Promise.reject(ql(r));const i="reauthenticate";try{const a=await Xh(t,HF(r,i,e,t),n);Et(a.idToken,r,"internal-error");const s=jP(a.idToken);Et(s,r,"internal-error");const{sub:o}=s;return Et(t.uid===o,r,"user-mismatch"),Jf._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&fo(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GF(t,e,n=!1){if(zo(t.app))return Promise.reject(ql(t));const r="signIn",i=await HF(t,r,e),a=await Jf._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function $Z(t,e){return GF(zu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KF(t){const e=zu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BZ(t,e,n){const r=zu(t);await Sb(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",IZ)}async function VZ(t,e,n){if(zo(t.app))return Promise.reject(ql(t));const r=zu(t),s=await Sb(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LZ).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&KF(t),l}),o=await Jf._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function UZ(t,e,n){return zo(t.app)?Promise.reject(ql(t)):$Z(Nr(t),Dp.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&KF(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zZ(t,e){return cl(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qZ(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Nr(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await Xh(r,zZ(r.auth,a));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function WZ(t,e,n,r){return Nr(t).onIdTokenChanged(e,n,r)}function HZ(t,e,n){return Nr(t).beforeAuthStateChanged(e,n)}function GZ(t,e,n,r){return Nr(t).onAuthStateChanged(e,n,r)}function KZ(t){return Nr(t).signOut()}const Nb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nb,"1"),this.storage.removeItem(Nb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YZ=1e3,XZ=10;class XF extends YF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VF(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);cZ()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,XZ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},YZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XF.type="LOCAL";const QZ=XF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF extends YF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QF.type="SESSION";const JF=QF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JZ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new y2(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async c=>c(n.origin,a)),l=await JZ(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}y2.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const c=LP("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(h.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(){return window}function eee(t){Xo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZF(){return typeof Xo().WorkerGlobalScope<"u"&&typeof Xo().importScripts=="function"}async function tee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nee(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ree(){return ZF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e$="firebaseLocalStorageDb",iee=1,Eb="firebaseLocalStorage",t$="fbase_key";class bv{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function v2(t,e){return t.transaction([Eb],e?"readwrite":"readonly").objectStore(Eb)}function aee(){const t=indexedDB.deleteDatabase(e$);return new bv(t).toPromise()}function sA(){const t=indexedDB.open(e$,iee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Eb,{keyPath:t$})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Eb)?e(r):(r.close(),await aee(),e(await sA()))})})}async function oC(t,e,n){const r=v2(t,!0).put({[t$]:e,value:n});return new bv(r).toPromise()}async function see(t,e){const n=v2(t,!1).get(e),r=await new bv(n).toPromise();return r===void 0?null:r.value}function lC(t,e){const n=v2(t,!0).delete(e);return new bv(n).toPromise()}const oee=800,lee=3;class n${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sA(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lee)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=y2._getInstance(ree()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tee(),!this.activeServiceWorker)return;this.sender=new ZZ(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sA();return await oC(e,Nb,"1"),await lC(e,Nb),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>oC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>see(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=v2(i,!1).getAll();return new bv(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}n$.type="LOCAL";const cee=n$;new gv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uee(t,e){return e?$l(e):(Et(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP extends RP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Th(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Th(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Th(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fee(t){return GF(t.auth,new DP(t),t.bypassAuthState)}function dee(t){const{auth:e,user:n}=t;return Et(n,e,"internal-error"),FZ(n,new DP(t),t.bypassAuthState)}async function hee(t){const{auth:e,user:n}=t;return Et(n,e,"internal-error"),DZ(n,new DP(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fee;case"linkViaPopup":case"linkViaRedirect":return hee;case"reauthViaPopup":case"reauthViaRedirect":return dee;default:fo(this.auth,"internal-error")}}resolve(e){ic(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ic(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pee=new gv(2e3,1e4);class ch extends r${constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ch.currentPopupAction&&ch.currentPopupAction.cancel(),ch.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Et(e,this.auth,"internal-error"),e}async onExecution(){ic(this.filter.length===1,"Popup operations only handle one event");const e=LP();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ch.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pee.get())};e()}}ch.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mee="pendingRedirect",I1=new Map;class gee extends r${constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=I1.get(this.auth._key());if(!e){try{const r=await yee(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}I1.set(this.auth._key(),e)}return this.bypassAuthState||I1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yee(t,e){const n=xee(e),r=bee(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function vee(t,e){I1.set(t._key(),e)}function bee(t){return $l(t._redirectPersistence)}function xee(t){return k1(mee,t.config.apiKey,t.name)}async function wee(t,e,n=!1){if(zo(t.app))return Promise.reject(ql(t));const r=zu(t),i=uee(r,e),s=await new gee(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ee=10*60*1e3;class See{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Aee(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!i$(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Yo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_ee&&this.cachedEventUids.clear(),this.cachedEventUids.has(cC(e))}saveEventToCache(e){this.cachedEventUids.add(cC(e)),this.lastProcessedEventTime=Date.now()}}function cC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function i$({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Aee(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return i$(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nee(t,e={}){return cl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pee=/^https?/;async function Tee(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Nee(t);for(const n of e)try{if(kee(n))return}catch{}fo(t,"unauthorized-domain")}function kee(t){const e=iA(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Pee.test(n))return!1;if(Eee.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iee=new gv(3e4,6e4);function uC(){const t=Xo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Cee(t){return new Promise((e,n)=>{var r,i,a;function s(){uC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uC(),n(Yo(t,"network-request-failed"))},timeout:Iee.get()})}if(!((i=(r=Xo().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Xo().gapi)===null||a===void 0)&&a.load)s();else{const o=vZ("iframefcb");return Xo()[o]=()=>{gapi.load?s():n(Yo(t,"network-request-failed"))},zF(`${yZ()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw C1=null,e})}let C1=null;function jee(t){return C1=C1||Cee(t),C1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oee=new gv(5e3,15e3),Ree="__/auth/iframe",Mee="emulator/auth/iframe",Lee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fee(t){const e=t.config;Et(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?CP(e,Mee):`https://${t.config.authDomain}/${Ree}`,r={apiKey:e.apiKey,appName:t.name,v:Lp},i=Dee.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${mv(r).slice(1)}`}async function $ee(t){const e=await jee(t),n=Xo().gapi;return Et(n,t,"internal-error"),e.open({where:document.body,url:Fee(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lee,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=Yo(t,"network-request-failed"),o=Xo().setTimeout(()=>{a(s)},Oee.get());function l(){Xo().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vee=500,Uee=600,zee="_blank",qee="http://localhost";class fC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Wee(t,e,n,r=Vee,i=Uee){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Bee),{width:r.toString(),height:i.toString(),top:a,left:s}),c=na().toLowerCase();n&&(o=LF(c)?zee:n),RF(c)&&(e=e||qee,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,b])=>`${h}${p}=${b},`,"");if(lZ(c)&&o!=="_self")return Hee(e||"",o),new fC(null);const f=window.open(e||"",o,u);Et(f,t,"popup-blocked");try{f.focus()}catch{}return new fC(f)}function Hee(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gee="__/auth/handler",Kee="emulator/auth/handler",Yee=encodeURIComponent("fac");async function dC(t,e,n,r,i,a){Et(t.config.authDomain,t,"auth-domain-config-required"),Et(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Lp,eventId:i};if(e instanceof WF){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",IQ(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))s[u]=f}if(e instanceof vv){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${Yee}=${encodeURIComponent(l)}`:"";return`${Xee(t)}?${mv(o).slice(1)}${c}`}function Xee({config:t}){return t.emulator?CP(t,Kee):`https://${t.authDomain}/${Gee}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5="webStorageSupport";class Qee{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JF,this._completeRedirectFn=wee,this._overrideRedirectResult=vee}async _openPopup(e,n,r,i){var a;ic((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await dC(e,n,r,iA(),i);return Wee(e,s,LP())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await dC(e,n,r,iA(),i);return eee(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(ic(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $ee(e),r=new See(e);return n.register("authEvent",i=>(Et(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(T5,{type:T5},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[T5];s!==void 0&&n(!!s),fo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Tee(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VF()||MF()||OP()}}const Jee=Qee;var hC="@firebase/auth",pC="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zee{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ete(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tte(t){Yh(new Xf("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;Et(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UF(t)},c=new pZ(r,i,a,l);return SZ(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yh(new Xf("auth-internal",e=>{const n=zu(e.getProvider("auth").getImmediate());return(r=>new Zee(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Au(hC,pC,ete(t)),Au(hC,pC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nte=5*60,rte=vF("authIdTokenMaxAge")||nte;let mC=null;const ite=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rte)return;const i=n==null?void 0:n.token;mC!==i&&(mC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ate(t=_F()){const e=TP(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_Z(t,{popupRedirectResolver:Jee,persistence:[cee,QZ,JF]}),r=vF("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=ite(a.toString());HZ(n,s,()=>s(n.currentUser)),WZ(n,o=>s(o))}}const i=gF("auth");return i&&AZ(n,`http://${i}`),n}function ste(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}mZ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Yo("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",ste().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tte("Browser");var gC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $f,a$;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,A){function N(){}N.prototype=A.prototype,I.D=A.prototype,I.prototype=new N,I.prototype.constructor=I,I.C=function(M,k,j){for(var C=Array(arguments.length-2),V=2;V<arguments.length;V++)C[V-2]=arguments[V];return A.prototype[k].apply(M,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,A,N){N||(N=0);var M=Array(16);if(typeof A=="string")for(var k=0;16>k;++k)M[k]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(k=0;16>k;++k)M[k]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=I.g[0],N=I.g[1],k=I.g[2];var j=I.g[3],C=A+(j^N&(k^j))+M[0]+3614090360&4294967295;A=N+(C<<7&4294967295|C>>>25),C=j+(k^A&(N^k))+M[1]+3905402710&4294967295,j=A+(C<<12&4294967295|C>>>20),C=k+(N^j&(A^N))+M[2]+606105819&4294967295,k=j+(C<<17&4294967295|C>>>15),C=N+(A^k&(j^A))+M[3]+3250441966&4294967295,N=k+(C<<22&4294967295|C>>>10),C=A+(j^N&(k^j))+M[4]+4118548399&4294967295,A=N+(C<<7&4294967295|C>>>25),C=j+(k^A&(N^k))+M[5]+1200080426&4294967295,j=A+(C<<12&4294967295|C>>>20),C=k+(N^j&(A^N))+M[6]+2821735955&4294967295,k=j+(C<<17&4294967295|C>>>15),C=N+(A^k&(j^A))+M[7]+4249261313&4294967295,N=k+(C<<22&4294967295|C>>>10),C=A+(j^N&(k^j))+M[8]+1770035416&4294967295,A=N+(C<<7&4294967295|C>>>25),C=j+(k^A&(N^k))+M[9]+2336552879&4294967295,j=A+(C<<12&4294967295|C>>>20),C=k+(N^j&(A^N))+M[10]+4294925233&4294967295,k=j+(C<<17&4294967295|C>>>15),C=N+(A^k&(j^A))+M[11]+2304563134&4294967295,N=k+(C<<22&4294967295|C>>>10),C=A+(j^N&(k^j))+M[12]+1804603682&4294967295,A=N+(C<<7&4294967295|C>>>25),C=j+(k^A&(N^k))+M[13]+4254626195&4294967295,j=A+(C<<12&4294967295|C>>>20),C=k+(N^j&(A^N))+M[14]+2792965006&4294967295,k=j+(C<<17&4294967295|C>>>15),C=N+(A^k&(j^A))+M[15]+1236535329&4294967295,N=k+(C<<22&4294967295|C>>>10),C=A+(k^j&(N^k))+M[1]+4129170786&4294967295,A=N+(C<<5&4294967295|C>>>27),C=j+(N^k&(A^N))+M[6]+3225465664&4294967295,j=A+(C<<9&4294967295|C>>>23),C=k+(A^N&(j^A))+M[11]+643717713&4294967295,k=j+(C<<14&4294967295|C>>>18),C=N+(j^A&(k^j))+M[0]+3921069994&4294967295,N=k+(C<<20&4294967295|C>>>12),C=A+(k^j&(N^k))+M[5]+3593408605&4294967295,A=N+(C<<5&4294967295|C>>>27),C=j+(N^k&(A^N))+M[10]+38016083&4294967295,j=A+(C<<9&4294967295|C>>>23),C=k+(A^N&(j^A))+M[15]+3634488961&4294967295,k=j+(C<<14&4294967295|C>>>18),C=N+(j^A&(k^j))+M[4]+3889429448&4294967295,N=k+(C<<20&4294967295|C>>>12),C=A+(k^j&(N^k))+M[9]+568446438&4294967295,A=N+(C<<5&4294967295|C>>>27),C=j+(N^k&(A^N))+M[14]+3275163606&4294967295,j=A+(C<<9&4294967295|C>>>23),C=k+(A^N&(j^A))+M[3]+4107603335&4294967295,k=j+(C<<14&4294967295|C>>>18),C=N+(j^A&(k^j))+M[8]+1163531501&4294967295,N=k+(C<<20&4294967295|C>>>12),C=A+(k^j&(N^k))+M[13]+2850285829&4294967295,A=N+(C<<5&4294967295|C>>>27),C=j+(N^k&(A^N))+M[2]+4243563512&4294967295,j=A+(C<<9&4294967295|C>>>23),C=k+(A^N&(j^A))+M[7]+1735328473&4294967295,k=j+(C<<14&4294967295|C>>>18),C=N+(j^A&(k^j))+M[12]+2368359562&4294967295,N=k+(C<<20&4294967295|C>>>12),C=A+(N^k^j)+M[5]+4294588738&4294967295,A=N+(C<<4&4294967295|C>>>28),C=j+(A^N^k)+M[8]+2272392833&4294967295,j=A+(C<<11&4294967295|C>>>21),C=k+(j^A^N)+M[11]+1839030562&4294967295,k=j+(C<<16&4294967295|C>>>16),C=N+(k^j^A)+M[14]+4259657740&4294967295,N=k+(C<<23&4294967295|C>>>9),C=A+(N^k^j)+M[1]+2763975236&4294967295,A=N+(C<<4&4294967295|C>>>28),C=j+(A^N^k)+M[4]+1272893353&4294967295,j=A+(C<<11&4294967295|C>>>21),C=k+(j^A^N)+M[7]+4139469664&4294967295,k=j+(C<<16&4294967295|C>>>16),C=N+(k^j^A)+M[10]+3200236656&4294967295,N=k+(C<<23&4294967295|C>>>9),C=A+(N^k^j)+M[13]+681279174&4294967295,A=N+(C<<4&4294967295|C>>>28),C=j+(A^N^k)+M[0]+3936430074&4294967295,j=A+(C<<11&4294967295|C>>>21),C=k+(j^A^N)+M[3]+3572445317&4294967295,k=j+(C<<16&4294967295|C>>>16),C=N+(k^j^A)+M[6]+76029189&4294967295,N=k+(C<<23&4294967295|C>>>9),C=A+(N^k^j)+M[9]+3654602809&4294967295,A=N+(C<<4&4294967295|C>>>28),C=j+(A^N^k)+M[12]+3873151461&4294967295,j=A+(C<<11&4294967295|C>>>21),C=k+(j^A^N)+M[15]+530742520&4294967295,k=j+(C<<16&4294967295|C>>>16),C=N+(k^j^A)+M[2]+3299628645&4294967295,N=k+(C<<23&4294967295|C>>>9),C=A+(k^(N|~j))+M[0]+4096336452&4294967295,A=N+(C<<6&4294967295|C>>>26),C=j+(N^(A|~k))+M[7]+1126891415&4294967295,j=A+(C<<10&4294967295|C>>>22),C=k+(A^(j|~N))+M[14]+2878612391&4294967295,k=j+(C<<15&4294967295|C>>>17),C=N+(j^(k|~A))+M[5]+4237533241&4294967295,N=k+(C<<21&4294967295|C>>>11),C=A+(k^(N|~j))+M[12]+1700485571&4294967295,A=N+(C<<6&4294967295|C>>>26),C=j+(N^(A|~k))+M[3]+2399980690&4294967295,j=A+(C<<10&4294967295|C>>>22),C=k+(A^(j|~N))+M[10]+4293915773&4294967295,k=j+(C<<15&4294967295|C>>>17),C=N+(j^(k|~A))+M[1]+2240044497&4294967295,N=k+(C<<21&4294967295|C>>>11),C=A+(k^(N|~j))+M[8]+1873313359&4294967295,A=N+(C<<6&4294967295|C>>>26),C=j+(N^(A|~k))+M[15]+4264355552&4294967295,j=A+(C<<10&4294967295|C>>>22),C=k+(A^(j|~N))+M[6]+2734768916&4294967295,k=j+(C<<15&4294967295|C>>>17),C=N+(j^(k|~A))+M[13]+1309151649&4294967295,N=k+(C<<21&4294967295|C>>>11),C=A+(k^(N|~j))+M[4]+4149444226&4294967295,A=N+(C<<6&4294967295|C>>>26),C=j+(N^(A|~k))+M[11]+3174756917&4294967295,j=A+(C<<10&4294967295|C>>>22),C=k+(A^(j|~N))+M[2]+718787259&4294967295,k=j+(C<<15&4294967295|C>>>17),C=N+(j^(k|~A))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+j&4294967295}r.prototype.u=function(I,A){A===void 0&&(A=I.length);for(var N=A-this.blockSize,M=this.B,k=this.h,j=0;j<A;){if(k==0)for(;j<=N;)i(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<A;)if(M[k++]=I.charCodeAt(j++),k==this.blockSize){i(this,M),k=0;break}}else for(;j<A;)if(M[k++]=I[j++],k==this.blockSize){i(this,M),k=0;break}}this.h=k,this.o+=A},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;var N=8*this.o;for(A=I.length-8;A<I.length;++A)I[A]=N&255,N/=256;for(this.u(I),I=Array(16),A=N=0;4>A;++A)for(var M=0;32>M;M+=8)I[N++]=this.g[A]>>>M&255;return I};function a(I,A){var N=o;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=A(I)}function s(I,A){this.h=A;for(var N=[],M=!0,k=I.length-1;0<=k;k--){var j=I[k]|0;M&&j==A||(N[k]=j,M=!1)}this.g=N}var o={};function l(I){return-128<=I&&128>I?a(I,function(A){return new s([A|0],0>A?-1:0)}):new s([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return v(c(-I));for(var A=[],N=1,M=0;I>=N;M++)A[M]=I/N|0,N*=4294967296;return new s(A,0)}function u(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return v(u(I.substring(1),A));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=c(Math.pow(A,8)),M=f,k=0;k<I.length;k+=8){var j=Math.min(8,I.length-k),C=parseInt(I.substring(k,k+j),A);8>j?(j=c(Math.pow(A,j)),M=M.j(j).add(c(C))):(M=M.j(N),M=M.add(c(C)))}return M}var f=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(x(this))return-v(this).m();for(var I=0,A=1,N=0;N<this.g.length;N++){var M=this.i(N);I+=(0<=M?M:4294967296+M)*A,A*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(b(this))return"0";if(x(this))return"-"+v(this).toString(I);for(var A=c(Math.pow(I,6)),N=this,M="";;){var k=E(N,A).g;N=y(N,k.j(A));var j=((0<N.g.length?N.g[0]:N.h)>>>0).toString(I);if(N=k,b(N))return j+M;for(;6>j.length;)j="0"+j;M=j+M}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function b(I){if(I.h!=0)return!1;for(var A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function x(I){return I.h==-1}t.l=function(I){return I=y(this,I),x(I)?-1:b(I)?0:1};function v(I){for(var A=I.g.length,N=[],M=0;M<A;M++)N[M]=~I.g[M];return new s(N,~I.h).add(h)}t.abs=function(){return x(this)?v(this):this},t.add=function(I){for(var A=Math.max(this.g.length,I.g.length),N=[],M=0,k=0;k<=A;k++){var j=M+(this.i(k)&65535)+(I.i(k)&65535),C=(j>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);M=C>>>16,j&=65535,C&=65535,N[k]=C<<16|j}return new s(N,N[N.length-1]&-2147483648?-1:0)};function y(I,A){return I.add(v(A))}t.j=function(I){if(b(this)||b(I))return f;if(x(this))return x(I)?v(this).j(v(I)):v(v(this).j(I));if(x(I))return v(this.j(v(I)));if(0>this.l(p)&&0>I.l(p))return c(this.m()*I.m());for(var A=this.g.length+I.g.length,N=[],M=0;M<2*A;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(var k=0;k<I.g.length;k++){var j=this.i(M)>>>16,C=this.i(M)&65535,V=I.i(k)>>>16,X=I.i(k)&65535;N[2*M+2*k]+=C*X,w(N,2*M+2*k),N[2*M+2*k+1]+=j*X,w(N,2*M+2*k+1),N[2*M+2*k+1]+=C*V,w(N,2*M+2*k+1),N[2*M+2*k+2]+=j*V,w(N,2*M+2*k+2)}for(M=0;M<A;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=A;M<2*A;M++)N[M]=0;return new s(N,0)};function w(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function S(I,A){this.g=I,this.h=A}function E(I,A){if(b(A))throw Error("division by zero");if(b(I))return new S(f,f);if(x(I))return A=E(v(I),A),new S(v(A.g),v(A.h));if(x(A))return A=E(I,v(A)),new S(v(A.g),A.h);if(30<I.g.length){if(x(I)||x(A))throw Error("slowDivide_ only works with positive integers.");for(var N=h,M=A;0>=M.l(I);)N=P(N),M=P(M);var k=R(N,1),j=R(M,1);for(M=R(M,2),N=R(N,2);!b(M);){var C=j.add(M);0>=C.l(I)&&(k=k.add(N),j=C),M=R(M,1),N=R(N,1)}return A=y(I,k.j(A)),new S(k,A)}for(k=f;0<=I.l(A);){for(N=Math.max(1,Math.floor(I.m()/A.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),j=c(N),C=j.j(A);x(C)||0<C.l(I);)N-=M,j=c(N),C=j.j(A);b(j)&&(j=h),k=k.add(j),I=y(I,C)}return new S(k,I)}t.A=function(I){return E(this,I).h},t.and=function(I){for(var A=Math.max(this.g.length,I.g.length),N=[],M=0;M<A;M++)N[M]=this.i(M)&I.i(M);return new s(N,this.h&I.h)},t.or=function(I){for(var A=Math.max(this.g.length,I.g.length),N=[],M=0;M<A;M++)N[M]=this.i(M)|I.i(M);return new s(N,this.h|I.h)},t.xor=function(I){for(var A=Math.max(this.g.length,I.g.length),N=[],M=0;M<A;M++)N[M]=this.i(M)^I.i(M);return new s(N,this.h^I.h)};function P(I){for(var A=I.g.length+1,N=[],M=0;M<A;M++)N[M]=I.i(M)<<1|I.i(M-1)>>>31;return new s(N,I.h)}function R(I,A){var N=A>>5;A%=32;for(var M=I.g.length-N,k=[],j=0;j<M;j++)k[j]=0<A?I.i(j+N)>>>A|I.i(j+N+1)<<32-A:I.i(j+N);return new s(k,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,a$=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,$f=s}).apply(typeof gC<"u"?gC:typeof self<"u"?self:typeof window<"u"?window:{});var O0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var s$,og,o$,j1,oA,l$,c$,u$;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,L,$){return g==Array.prototype||g==Object.prototype||(g[L]=$.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof O0=="object"&&O0];for(var L=0;L<g.length;++L){var $=g[L];if($&&$.Math==Math)return $}throw Error("Cannot find global object")}var r=n(this);function i(g,L){if(L)e:{var $=r;g=g.split(".");for(var Z=0;Z<g.length-1;Z++){var we=g[Z];if(!(we in $))break e;$=$[we]}g=g[g.length-1],Z=$[g],L=L(Z),L!=Z&&L!=null&&e($,g,{configurable:!0,writable:!0,value:L})}}function a(g,L){g instanceof String&&(g+="");var $=0,Z=!1,we={next:function(){if(!Z&&$<g.length){var Ee=$++;return{value:L(Ee,g[Ee]),done:!1}}return Z=!0,{done:!0,value:void 0}}};return we[Symbol.iterator]=function(){return we},we}i("Array.prototype.values",function(g){return g||function(){return a(this,function(L,$){return $})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(g){var L=typeof g;return L=L!="object"?L:g?Array.isArray(g)?"array":L:"null",L=="array"||L=="object"&&typeof g.length=="number"}function c(g){var L=typeof g;return L=="object"&&g!=null||L=="function"}function u(g,L,$){return g.call.apply(g.bind,arguments)}function f(g,L,$){if(!g)throw Error();if(2<arguments.length){var Z=Array.prototype.slice.call(arguments,2);return function(){var we=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(we,Z),g.apply(L,we)}}return function(){return g.apply(L,arguments)}}function h(g,L,$){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(g,L){var $=Array.prototype.slice.call(arguments,1);return function(){var Z=$.slice();return Z.push.apply(Z,arguments),g.apply(this,Z)}}function b(g,L){function $(){}$.prototype=L.prototype,g.aa=L.prototype,g.prototype=new $,g.prototype.constructor=g,g.Qb=function(Z,we,Ee){for(var Ue=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)Ue[Zt-2]=arguments[Zt];return L.prototype[we].apply(Z,Ue)}}function x(g){const L=g.length;if(0<L){const $=Array(L);for(let Z=0;Z<L;Z++)$[Z]=g[Z];return $}return[]}function v(g,L){for(let $=1;$<arguments.length;$++){const Z=arguments[$];if(l(Z)){const we=g.length||0,Ee=Z.length||0;g.length=we+Ee;for(let Ue=0;Ue<Ee;Ue++)g[we+Ue]=Z[Ue]}else g.push(Z)}}class y{constructor(L,$){this.i=L,this.j=$,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function w(g){return/^[\s\xa0]*$/.test(g)}function S(){var g=o.navigator;return g&&(g=g.userAgent)?g:""}function E(g){return E[" "](g),g}E[" "]=function(){};var P=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function R(g,L,$){for(const Z in g)L.call($,g[Z],Z,g)}function I(g,L){for(const $ in g)L.call(void 0,g[$],$,g)}function A(g){const L={};for(const $ in g)L[$]=g[$];return L}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(g,L){let $,Z;for(let we=1;we<arguments.length;we++){Z=arguments[we];for($ in Z)g[$]=Z[$];for(let Ee=0;Ee<N.length;Ee++)$=N[Ee],Object.prototype.hasOwnProperty.call(Z,$)&&(g[$]=Z[$])}}function k(g){var L=1;g=g.split(":");const $=[];for(;0<L&&g.length;)$.push(g.shift()),L--;return g.length&&$.push(g.join(":")),$}function j(g){o.setTimeout(()=>{throw g},0)}function C(){var g=le;let L=null;return g.g&&(L=g.g,g.g=g.g.next,g.g||(g.h=null),L.next=null),L}class V{constructor(){this.h=this.g=null}add(L,$){const Z=X.get();Z.set(L,$),this.h?this.h.next=Z:this.g=Z,this.h=Z}}var X=new y(()=>new ne,g=>g.reset());class ne{constructor(){this.next=this.g=this.h=null}set(L,$){this.h=L,this.g=$,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,Y=!1,le=new V,K=()=>{const g=o.Promise.resolve(void 0);oe=()=>{g.then(H)}};var H=()=>{for(var g;g=C();){try{g.h.call(g.g)}catch($){j($)}var L=X;L.j(g),100>L.h&&(L.h++,g.next=L.g,L.g=g)}Y=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(g,L){this.type=g,this.g=this.target=L,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var g=!1,L=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const $=()=>{};o.addEventListener("test",$,L),o.removeEventListener("test",$,L)}catch{}return g}();function se(g,L){if(q.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var $=this.type=g.type,Z=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=L,L=g.relatedTarget){if(P){e:{try{E(L.nodeName);var we=!0;break e}catch{}we=!1}we||(L=null)}}else $=="mouseover"?L=g.fromElement:$=="mouseout"&&(L=g.toElement);this.relatedTarget=L,Z?(this.clientX=Z.clientX!==void 0?Z.clientX:Z.pageX,this.clientY=Z.clientY!==void 0?Z.clientY:Z.pageY,this.screenX=Z.screenX||0,this.screenY=Z.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:ce[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&se.aa.h.call(this)}}b(se,q);var ce={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),ye=0;function ue(g,L,$,Z,we){this.listener=g,this.proxy=null,this.src=L,this.type=$,this.capture=!!Z,this.ha=we,this.key=++ye,this.da=this.fa=!1}function be(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Se(g){this.src=g,this.g={},this.h=0}Se.prototype.add=function(g,L,$,Z,we){var Ee=g.toString();g=this.g[Ee],g||(g=this.g[Ee]=[],this.h++);var Ue=Re(g,L,Z,we);return-1<Ue?(L=g[Ue],$||(L.fa=!1)):(L=new ue(L,this.src,Ee,!!Z,we),L.fa=$,g.push(L)),L};function me(g,L){var $=L.type;if($ in g.g){var Z=g.g[$],we=Array.prototype.indexOf.call(Z,L,void 0),Ee;(Ee=0<=we)&&Array.prototype.splice.call(Z,we,1),Ee&&(be(L),g.g[$].length==0&&(delete g.g[$],g.h--))}}function Re(g,L,$,Z){for(var we=0;we<g.length;++we){var Ee=g[we];if(!Ee.da&&Ee.listener==L&&Ee.capture==!!$&&Ee.ha==Z)return we}return-1}var Pe="closure_lm_"+(1e6*Math.random()|0),J={};function he(g,L,$,Z,we){if(Array.isArray(L)){for(var Ee=0;Ee<L.length;Ee++)he(g,L[Ee],$,Z,we);return null}return $=Ct($),g&&g[fe]?g.K(L,$,c(Z)?!!Z.capture:!1,we):Fe(g,L,$,!1,Z,we)}function Fe(g,L,$,Z,we,Ee){if(!L)throw Error("Invalid event type");var Ue=c(we)?!!we.capture:!!we,Zt=rt(g);if(Zt||(g[Pe]=Zt=new Se(g)),$=Zt.add(L,$,Z,Ue,Ee),$.proxy)return $;if(Z=qe(),$.proxy=Z,Z.src=g,Z.listener=$,g.addEventListener)ee||(we=Ue),we===void 0&&(we=!1),g.addEventListener(L.toString(),Z,we);else if(g.attachEvent)g.attachEvent(We(L.toString()),Z);else if(g.addListener&&g.removeListener)g.addListener(Z);else throw Error("addEventListener and attachEvent are unavailable.");return $}function qe(){function g($){return L.call(g.src,g.listener,$)}const L=Je;return g}function je(g,L,$,Z,we){if(Array.isArray(L))for(var Ee=0;Ee<L.length;Ee++)je(g,L[Ee],$,Z,we);else Z=c(Z)?!!Z.capture:!!Z,$=Ct($),g&&g[fe]?(g=g.i,L=String(L).toString(),L in g.g&&(Ee=g.g[L],$=Re(Ee,$,Z,we),-1<$&&(be(Ee[$]),Array.prototype.splice.call(Ee,$,1),Ee.length==0&&(delete g.g[L],g.h--)))):g&&(g=rt(g))&&(L=g.g[L.toString()],g=-1,L&&(g=Re(L,$,Z,we)),($=-1<g?L[g]:null)&&Ke($))}function Ke(g){if(typeof g!="number"&&g&&!g.da){var L=g.src;if(L&&L[fe])me(L.i,g);else{var $=g.type,Z=g.proxy;L.removeEventListener?L.removeEventListener($,Z,g.capture):L.detachEvent?L.detachEvent(We($),Z):L.addListener&&L.removeListener&&L.removeListener(Z),($=rt(L))?(me($,g),$.h==0&&($.src=null,L[Pe]=null)):be(g)}}}function We(g){return g in J?J[g]:J[g]="on"+g}function Je(g,L){if(g.da)g=!0;else{L=new se(L,this);var $=g.listener,Z=g.ha||g.src;g.fa&&Ke(g),g=$.call(Z,L)}return g}function rt(g){return g=g[Pe],g instanceof Se?g:null}var zt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ct(g){return typeof g=="function"?g:(g[zt]||(g[zt]=function(L){return g.handleEvent(L)}),g[zt])}function st(){F.call(this),this.i=new Se(this),this.M=this,this.F=null}b(st,F),st.prototype[fe]=!0,st.prototype.removeEventListener=function(g,L,$,Z){je(this,g,L,$,Z)};function vt(g,L){var $,Z=g.F;if(Z)for($=[];Z;Z=Z.F)$.push(Z);if(g=g.M,Z=L.type||L,typeof L=="string")L=new q(L,g);else if(L instanceof q)L.target=L.target||g;else{var we=L;L=new q(Z,g),M(L,we)}if(we=!0,$)for(var Ee=$.length-1;0<=Ee;Ee--){var Ue=L.g=$[Ee];we=Mt(Ue,Z,!0,L)&&we}if(Ue=L.g=g,we=Mt(Ue,Z,!0,L)&&we,we=Mt(Ue,Z,!1,L)&&we,$)for(Ee=0;Ee<$.length;Ee++)Ue=L.g=$[Ee],we=Mt(Ue,Z,!1,L)&&we}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var g=this.i,L;for(L in g.g){for(var $=g.g[L],Z=0;Z<$.length;Z++)be($[Z]);delete g.g[L],g.h--}}this.F=null},st.prototype.K=function(g,L,$,Z){return this.i.add(String(g),L,!1,$,Z)},st.prototype.L=function(g,L,$,Z){return this.i.add(String(g),L,!0,$,Z)};function Mt(g,L,$,Z){if(L=g.i.g[String(L)],!L)return!0;L=L.concat();for(var we=!0,Ee=0;Ee<L.length;++Ee){var Ue=L[Ee];if(Ue&&!Ue.da&&Ue.capture==$){var Zt=Ue.listener,lr=Ue.ha||Ue.src;Ue.fa&&me(g.i,Ue),we=Zt.call(lr,Z)!==!1&&we}}return we&&!Z.defaultPrevented}function tt(g,L,$){if(typeof g=="function")$&&(g=h(g,$));else if(g&&typeof g.handleEvent=="function")g=h(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(L)?-1:o.setTimeout(g,L||0)}function Nt(g){g.g=tt(()=>{g.g=null,g.i&&(g.i=!1,Nt(g))},g.l);const L=g.h;g.h=null,g.m.apply(null,L)}class ot extends F{constructor(L,$){super(),this.m=L,this.l=$,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:Nt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vn(g){F.call(this),this.h=g,this.g={}}b(vn,F);var qt=[];function Ft(g){R(g.g,function(L,$){this.g.hasOwnProperty($)&&Ke(L)},g),g.g={}}vn.prototype.N=function(){vn.aa.N.call(this),Ft(this)},vn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lt=o.JSON.stringify,Dn=o.JSON.parse,pt=class{stringify(g){return o.JSON.stringify(g,void 0)}parse(g){return o.JSON.parse(g,void 0)}};function hn(){}hn.prototype.h=null;function xt(g){return g.h||(g.h=g.i())}function Tt(){}var pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $t(){q.call(this,"d")}b($t,q);function mt(){q.call(this,"c")}b(mt,q);var Wt={},wo=null;function Tr(){return wo=wo||new st}Wt.La="serverreachability";function as(g){q.call(this,Wt.La,g)}b(as,q);function Oi(g){const L=Tr();vt(L,new as(L))}Wt.STAT_EVENT="statevent";function bt(g,L){q.call(this,Wt.STAT_EVENT,g),this.stat=L}b(bt,q);function qn(g){const L=Tr();vt(L,new bt(L,g))}Wt.Ma="timingevent";function ss(g,L){q.call(this,Wt.Ma,g),this.size=L}b(ss,q);function ai(g,L){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){g()},L)}function si(){this.g=!0}si.prototype.xa=function(){this.g=!1};function Jn(g,L,$,Z,we,Ee){g.info(function(){if(g.g)if(Ee)for(var Ue="",Zt=Ee.split("&"),lr=0;lr<Zt.length;lr++){var Ht=Zt[lr].split("=");if(1<Ht.length){var cn=Ht[0];Ht=Ht[1];var Fn=cn.split("_");Ue=2<=Fn.length&&Fn[1]=="type"?Ue+(cn+"="+Ht+"&"):Ue+(cn+"=redacted&")}}else Ue=null;else Ue=Ee;return"XMLHTTP REQ ("+Z+") [attempt "+we+"]: "+L+`
`+$+`
`+Ue})}function Ur(g,L,$,Z,we,Ee,Ue){g.info(function(){return"XMLHTTP RESP ("+Z+") [ attempt "+we+"]: "+L+`
`+$+`
`+Ee+" "+Ue})}function Zn(g,L,$,Z){g.info(function(){return"XMLHTTP TEXT ("+L+"): "+_o(g,$)+(Z?" "+Z:"")})}function hl(g,L){g.info(function(){return"TIMEOUT: "+L})}si.prototype.info=function(){};function _o(g,L){if(!g.g)return L;if(!L)return null;try{var $=JSON.parse(L);if($){for(g=0;g<$.length;g++)if(Array.isArray($[g])){var Z=$[g];if(!(2>Z.length)){var we=Z[1];if(Array.isArray(we)&&!(1>we.length)){var Ee=we[0];if(Ee!="noop"&&Ee!="stop"&&Ee!="close")for(var Ue=1;Ue<we.length;Ue++)we[Ue]=""}}}}return Lt($)}catch{return L}}var Ri={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ia={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ra;function Mi(){}b(Mi,hn),Mi.prototype.g=function(){return new XMLHttpRequest},Mi.prototype.i=function(){return{}},ra=new Mi;function kr(g,L,$,Z){this.j=g,this.i=L,this.l=$,this.R=Z||1,this.U=new vn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new So}function So(){this.i=null,this.g="",this.h=!1}var Ca={},zs={};function Ao(g,L,$){g.L=1,g.v=vl(Kr(L)),g.m=$,g.P=!0,pl(g,null)}function pl(g,L){g.F=Date.now(),No(g),g.A=Kr(g.v);var $=g.A,Z=g.R;Array.isArray(Z)||(Z=[String(Z)]),Id($.i,"t",Z),g.C=0,$=g.j.J,g.h=new So,g.g=yr(g.j,$?L:null,!g.m),0<g.O&&(g.M=new ot(h(g.Y,g,g.g),g.O)),L=g.U,$=g.g,Z=g.ca;var we="readystatechange";Array.isArray(we)||(we&&(qt[0]=we.toString()),we=qt);for(var Ee=0;Ee<we.length;Ee++){var Ue=he($,we[Ee],Z||L.handleEvent,!1,L.h||L);if(!Ue)break;L.g[Ue.key]=Ue}L=g.H?A(g.H):{},g.m?(g.u||(g.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,L)):(g.u="GET",g.g.ea(g.A,g.u,null,L)),Oi(),Jn(g.i,g.u,g.A,g.l,g.R,g.m)}kr.prototype.ca=function(g){g=g.target;const L=this.M;L&&ia(g)==3?L.j():this.Y(g)},kr.prototype.Y=function(g){try{if(g==this.g)e:{const Fn=ia(this.g);var L=this.g.Ba();const Ra=this.g.Z();if(!(3>Fn)&&(Fn!=3||this.g&&(this.h.h||this.g.oa()||lf(this.g)))){this.J||Fn!=4||L==7||(L==8||0>=Ra?Oi(3):Oi(2)),xc(this);var $=this.g.Z();this.X=$;t:if(ml(this)){var Z=lf(this.g);g="";var we=Z.length,Ee=ia(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ja(this),oi(this);var Ue="";break t}this.h.i=new o.TextDecoder}for(L=0;L<we;L++)this.h.h=!0,g+=this.h.i.decode(Z[L],{stream:!(Ee&&L==we-1)});Z.length=0,this.h.g+=g,this.C=0,Ue=this.h.g}else Ue=this.g.oa();if(this.o=$==200,Ur(this.i,this.u,this.A,this.l,this.R,Fn,$),this.o){if(this.T&&!this.K){t:{if(this.g){var Zt,lr=this.g;if((Zt=lr.g?lr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Zt)){var Ht=Zt;break t}}Ht=null}if($=Ht)Zn(this.i,this.l,$,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wc(this,$);else{this.o=!1,this.s=3,qn(12),ja(this),oi(this);break e}}if(this.P){$=!0;let Li;for(;!this.J&&this.C<Ue.length;)if(Li=cm(this,Ue),Li==zs){Fn==4&&(this.s=4,qn(14),$=!1),Zn(this.i,this.l,null,"[Incomplete Response]");break}else if(Li==Ca){this.s=4,qn(15),Zn(this.i,this.l,Ue,"[Invalid Chunk]"),$=!1;break}else Zn(this.i,this.l,Li,null),wc(this,Li);if(ml(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fn!=4||Ue.length!=0||this.h.h||(this.s=1,qn(16),$=!1),this.o=this.o&&$,!$)Zn(this.i,this.l,Ue,"[Invalid Chunked Response]"),ja(this),oi(this);else if(0<Ue.length&&!this.W){this.W=!0;var cn=this.j;cn.g==this&&cn.ba&&!cn.M&&(cn.j.info("Great, no buffering proxy detected. Bytes received: "+Ue.length),Xe(cn),cn.M=!0,qn(11))}}else Zn(this.i,this.l,Ue,null),wc(this,Ue);Fn==4&&ja(this),this.o&&!this.J&&(Fn==4?It(this.j,this):(this.o=!1,No(this)))}else jd(this.g),$==400&&0<Ue.indexOf("Unknown SID")?(this.s=3,qn(12)):(this.s=0,qn(13)),ja(this),oi(this)}}}catch{}finally{}};function ml(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function cm(g,L){var $=g.C,Z=L.indexOf(`
`,$);return Z==-1?zs:($=Number(L.substring($,Z)),isNaN($)?Ca:(Z+=1,Z+$>L.length?zs:(L=L.slice(Z,Z+$),g.C=Z+$,L)))}kr.prototype.cancel=function(){this.J=!0,ja(this)};function No(g){g.S=Date.now()+g.I,Ju(g,g.I)}function Ju(g,L){if(g.B!=null)throw Error("WatchDog timer not null");g.B=ai(h(g.ba,g),L)}function xc(g){g.B&&(o.clearTimeout(g.B),g.B=null)}kr.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(hl(this.i,this.A),this.L!=2&&(Oi(),qn(17)),ja(this),this.s=2,oi(this)):Ju(this,this.S-g)};function oi(g){g.j.G==0||g.J||It(g.j,g)}function ja(g){xc(g);var L=g.M;L&&typeof L.ma=="function"&&L.ma(),g.M=null,Ft(g.U),g.g&&(L=g.g,g.g=null,L.abort(),L.ma())}function wc(g,L){try{var $=g.j;if($.G!=0&&($.g==g||ma($.h,g))){if(!g.K&&ma($.h,g)&&$.G==3){try{var Z=$.Da.g.parse(L)}catch{Z=null}if(Array.isArray(Z)&&Z.length==3){var we=Z;if(we[0]==0){e:if(!$.u){if($.g)if($.g.F+3e3<g.F)_t($),hs($);else break e;Le($),qn(18)}}else $.za=we[1],0<$.za-$.T&&37500>we[2]&&$.F&&$.v==0&&!$.C&&($.C=ai(h($.Za,$),6e3));if(1>=nf($.h)&&$.ca){try{$.ca()}catch{}$.ca=void 0}}else dn($,11)}else if((g.K||$.g==g)&&_t($),!w(L))for(we=$.Da.g.parse(L),L=0;L<we.length;L++){let Ht=we[L];if($.T=Ht[0],Ht=Ht[1],$.G==2)if(Ht[0]=="c"){$.K=Ht[1],$.ia=Ht[2];const cn=Ht[3];cn!=null&&($.la=cn,$.j.info("VER="+$.la));const Fn=Ht[4];Fn!=null&&($.Aa=Fn,$.j.info("SVER="+$.Aa));const Ra=Ht[5];Ra!=null&&typeof Ra=="number"&&0<Ra&&(Z=1.5*Ra,$.L=Z,$.j.info("backChannelRequestTimeoutMs_="+Z)),Z=$;const Li=g.g;if(Li){const bi=Li.g?Li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bi){var Ee=Z.h;Ee.g||bi.indexOf("spdy")==-1&&bi.indexOf("quic")==-1&&bi.indexOf("h2")==-1||(Ee.j=Ee.l,Ee.g=new Set,Ee.h&&(Eo(Ee,Ee.h),Ee.h=null))}if(Z.D){const Hs=Li.g?Li.g.getResponseHeader("X-HTTP-Session-Id"):null;Hs&&(Z.ya=Hs,Yt(Z.I,Z.D,Hs))}}$.G=3,$.l&&$.l.ua(),$.ba&&($.R=Date.now()-g.F,$.j.info("Handshake RTT: "+$.R+"ms")),Z=$;var Ue=g;if(Z.qa=bn(Z,Z.J?Z.ia:null,Z.W),Ue.K){Nd(Z.h,Ue);var Zt=Ue,lr=Z.L;lr&&(Zt.I=lr),Zt.B&&(xc(Zt),No(Zt)),Z.g=Ue}else Ie(Z);0<$.i.length&&T($)}else Ht[0]!="stop"&&Ht[0]!="close"||dn($,7);else $.G==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?dn($,7):Pc($):Ht[0]!="noop"&&$.l&&$.l.ta(Ht),$.v=0)}}Oi(4)}catch{}}var Zu=class{constructor(g,L){this.g=g,this.map=L}};function ef(g){this.l=g||10,o.PerformanceNavigationTiming?(g=o.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tf(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function nf(g){return g.h?1:g.g?g.g.size:0}function ma(g,L){return g.h?g.h==L:g.g?g.g.has(L):!1}function Eo(g,L){g.g?g.g.add(L):g.h=L}function Nd(g,L){g.h&&g.h==L?g.h=null:g.g&&g.g.has(L)&&g.g.delete(L)}ef.prototype.cancel=function(){if(this.i=ir(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function ir(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let L=g.i;for(const $ of g.g.values())L=L.concat($.D);return L}return x(g.i)}function Ed(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(l(g)){for(var L=[],$=g.length,Z=0;Z<$;Z++)L.push(g[Z]);return L}L=[],$=0;for(Z in g)L[$++]=g[Z];return L}function os(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(l(g)||typeof g=="string"){var L=[];g=g.length;for(var $=0;$<g;$++)L.push($);return L}L=[],$=0;for(const Z in g)L[$++]=Z;return L}}}function gl(g,L){if(g.forEach&&typeof g.forEach=="function")g.forEach(L,void 0);else if(l(g)||typeof g=="string")Array.prototype.forEach.call(g,L,void 0);else for(var $=os(g),Z=Ed(g),we=Z.length,Ee=0;Ee<we;Ee++)L.call(void 0,Z[Ee],$&&$[Ee],g)}var rf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(g,L){if(g){g=g.split("&");for(var $=0;$<g.length;$++){var Z=g[$].indexOf("="),we=null;if(0<=Z){var Ee=g[$].substring(0,Z);we=g[$].substring(Z+1)}else Ee=g[$];L(Ee,we?decodeURIComponent(we.replace(/\+/g," ")):"")}}}function Cn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Cn){this.h=g.h,yl(this,g.j),this.o=g.o,this.g=g.g,_c(this,g.s),this.l=g.l;var L=g.i,$=new vi;$.i=L.i,L.g&&($.g=new Map(L.g),$.h=L.h),Pd(this,$),this.m=g.m}else g&&(L=String(g).match(rf))?(this.h=!1,yl(this,L[1]||"",!0),this.o=Po(L[2]||""),this.g=Po(L[3]||"",!0),_c(this,L[4]),this.l=Po(L[5]||"",!0),Pd(this,L[6]||"",!0),this.m=Po(L[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}Cn.prototype.toString=function(){var g=[],L=this.j;L&&g.push(ls(L,Td,!0),":");var $=this.g;return($||L=="file")&&(g.push("//"),(L=this.o)&&g.push(ls(L,Td,!0),"@"),g.push(encodeURIComponent(String($)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),$=this.s,$!=null&&g.push(":",String($))),($=this.l)&&(this.g&&$.charAt(0)!="/"&&g.push("/"),g.push(ls($,$.charAt(0)=="/"?fm:um,!0))),($=this.i.toString())&&g.push("?",$),($=this.m)&&g.push("#",ls($,kd)),g.join("")};function Kr(g){return new Cn(g)}function yl(g,L,$){g.j=$?Po(L,!0):L,g.j&&(g.j=g.j.replace(/:$/,""))}function _c(g,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);g.s=L}else g.s=null}function Pd(g,L,$){L instanceof vi?(g.i=L,dm(g.i,g.h)):($||(L=ls(L,af)),g.i=new vi(L,g.h))}function Yt(g,L,$){g.i.set(L,$)}function vl(g){return Yt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Po(g,L){return g?L?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ls(g,L,$){return typeof g=="string"?(g=encodeURI(g).replace(L,bl),$&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function bl(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Td=/[#\/\?@]/g,um=/[#\?:]/g,fm=/[#\?]/g,af=/[#\?@]/g,kd=/#/g;function vi(g,L){this.h=this.g=null,this.i=g||null,this.j=!!L}function cs(g){g.g||(g.g=new Map,g.h=0,g.i&&ga(g.i,function(L,$){g.add(decodeURIComponent(L.replace(/\+/g," ")),$)}))}t=vi.prototype,t.add=function(g,L){cs(this),this.i=null,g=wt(this,g);var $=this.g.get(g);return $||this.g.set(g,$=[]),$.push(L),this.h+=1,this};function To(g,L){cs(g),L=wt(g,L),g.g.has(L)&&(g.i=null,g.h-=g.g.get(L).length,g.g.delete(L))}function Sc(g,L){return cs(g),L=wt(g,L),g.g.has(L)}t.forEach=function(g,L){cs(this),this.g.forEach(function($,Z){$.forEach(function(we){g.call(L,we,Z,this)},this)},this)},t.na=function(){cs(this);const g=Array.from(this.g.values()),L=Array.from(this.g.keys()),$=[];for(let Z=0;Z<L.length;Z++){const we=g[Z];for(let Ee=0;Ee<we.length;Ee++)$.push(L[Z])}return $},t.V=function(g){cs(this);let L=[];if(typeof g=="string")Sc(this,g)&&(L=L.concat(this.g.get(wt(this,g))));else{g=Array.from(this.g.values());for(let $=0;$<g.length;$++)L=L.concat(g[$])}return L},t.set=function(g,L){return cs(this),this.i=null,g=wt(this,g),Sc(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[L]),this.h+=1,this},t.get=function(g,L){return g?(g=this.V(g),0<g.length?String(g[0]):L):L};function Id(g,L,$){To(g,L),0<$.length&&(g.i=null,g.g.set(wt(g,L),x($)),g.h+=$.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],L=Array.from(this.g.keys());for(var $=0;$<L.length;$++){var Z=L[$];const Ee=encodeURIComponent(String(Z)),Ue=this.V(Z);for(Z=0;Z<Ue.length;Z++){var we=Ee;Ue[Z]!==""&&(we+="="+encodeURIComponent(String(Ue[Z]))),g.push(we)}}return this.i=g.join("&")};function wt(g,L){return L=String(L),g.j&&(L=L.toLowerCase()),L}function dm(g,L){L&&!g.j&&(cs(g),g.i=null,g.g.forEach(function($,Z){var we=Z.toLowerCase();Z!=we&&(To(this,Z),Id(this,we,$))},g)),g.j=L}function hm(g,L){const $=new si;if(o.Image){const Z=new Image;Z.onload=p(li,$,"TestLoadImage: loaded",!0,L,Z),Z.onerror=p(li,$,"TestLoadImage: error",!1,L,Z),Z.onabort=p(li,$,"TestLoadImage: abort",!1,L,Z),Z.ontimeout=p(li,$,"TestLoadImage: timeout",!1,L,Z),o.setTimeout(function(){Z.ontimeout&&Z.ontimeout()},1e4),Z.src=g}else L(!1)}function pm(g,L){const $=new si,Z=new AbortController,we=setTimeout(()=>{Z.abort(),li($,"TestPingServer: timeout",!1,L)},1e4);fetch(g,{signal:Z.signal}).then(Ee=>{clearTimeout(we),Ee.ok?li($,"TestPingServer: ok",!0,L):li($,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(we),li($,"TestPingServer: error",!1,L)})}function li(g,L,$,Z,we){try{we&&(we.onload=null,we.onerror=null,we.onabort=null,we.ontimeout=null),Z($)}catch{}}function qs(){this.g=new pt}function mm(g,L,$){const Z=$||"";try{gl(g,function(we,Ee){let Ue=we;c(we)&&(Ue=Lt(we)),L.push(Z+Ee+"="+encodeURIComponent(Ue))})}catch(we){throw L.push(Z+"type="+encodeURIComponent("_badmap")),we}}function Ac(g){this.l=g.Ub||null,this.j=g.eb||!1}b(Ac,hn),Ac.prototype.g=function(){return new Ws(this.l,this.j)},Ac.prototype.i=function(g){return function(){return g}}({});function Ws(g,L){st.call(this),this.D=g,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Ws,st),t=Ws.prototype,t.open=function(g,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=L,this.readyState=1,xl(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(L.body=g),(this.D||o).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Oa(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,xl(this)),this.g&&(this.readyState=3,xl(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nc(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nc(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var L=g.value?g.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!g.done}))&&(this.response=this.responseText+=L)}g.done?Oa(this):xl(this),this.readyState==3&&Nc(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,Oa(this))},t.Qa=function(g){this.g&&(this.response=g,Oa(this))},t.ga=function(){this.g&&Oa(this)};function Oa(g){g.readyState=4,g.l=null,g.j=null,g.v=null,xl(g)}t.setRequestHeader=function(g,L){this.u.append(g,L)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],L=this.h.entries();for(var $=L.next();!$.done;)$=$.value,g.push($[0]+": "+$[1]),$=L.next();return g.join(`\r
`)};function xl(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function us(g){let L="";return R(g,function($,Z){L+=Z,L+=":",L+=$,L+=`\r
`}),L}function sf(g,L,$){e:{for(Z in $){var Z=!1;break e}Z=!0}Z||($=us($),typeof g=="string"?$!=null&&encodeURIComponent(String($)):Yt(g,L,$))}function Tn(g){st.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Tn,st);var of=/^https?$/i,Cd=["POST","PUT"];t=Tn.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,L,$,Z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);L=L?L.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ra.g(),this.v=this.o?xt(this.o):xt(ra),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(L,String(g),!0),this.B=!1}catch(Ee){fs(this,Ee);return}if(g=$||"",$=new Map(this.headers),Z)if(Object.getPrototypeOf(Z)===Object.prototype)for(var we in Z)$.set(we,Z[we]);else if(typeof Z.keys=="function"&&typeof Z.get=="function")for(const Ee of Z.keys())$.set(Ee,Z.get(Ee));else throw Error("Unknown input type for opt_headers: "+String(Z));Z=Array.from($.keys()).find(Ee=>Ee.toLowerCase()=="content-type"),we=o.FormData&&g instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Cd,L,void 0))||Z||we||$.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ee,Ue]of $)this.g.setRequestHeader(Ee,Ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Io(this),this.u=!0,this.g.send(g),this.u=!1}catch(Ee){fs(this,Ee)}};function fs(g,L){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=L,g.m=5,Ec(g),ko(g)}function Ec(g){g.A||(g.A=!0,vt(g,"complete"),vt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,vt(this,"complete"),vt(this,"abort"),ko(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ko(this,!0)),Tn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wl(this):this.bb())},t.bb=function(){wl(this)};function wl(g){if(g.h&&typeof s<"u"&&(!g.v[1]||ia(g)!=4||g.Z()!=2)){if(g.u&&ia(g)==4)tt(g.Ea,0,g);else if(vt(g,"readystatechange"),ia(g)==4){g.h=!1;try{const Ue=g.Z();e:switch(Ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var $;if(!($=L)){var Z;if(Z=Ue===0){var we=String(g.D).match(rf)[1]||null;!we&&o.self&&o.self.location&&(we=o.self.location.protocol.slice(0,-1)),Z=!of.test(we?we.toLowerCase():"")}$=Z}if($)vt(g,"complete"),vt(g,"success");else{g.m=6;try{var Ee=2<ia(g)?g.g.statusText:""}catch{Ee=""}g.l=Ee+" ["+g.Z()+"]",Ec(g)}}finally{ko(g)}}}}function ko(g,L){if(g.g){Io(g);const $=g.g,Z=g.v[0]?()=>{}:null;g.g=null,g.v=null,L||vt(g,"ready");try{$.onreadystatechange=Z}catch{}}}function Io(g){g.I&&(o.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function ia(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<ia(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var L=this.g.responseText;return g&&L.indexOf(g)==0&&(L=L.substring(g.length)),Dn(L)}};function lf(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function jd(g){const L={};g=(g.g&&2<=ia(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let Z=0;Z<g.length;Z++){if(w(g[Z]))continue;var $=k(g[Z]);const we=$[0];if($=$[1],typeof $!="string")continue;$=$.trim();const Ee=L[we]||[];L[we]=Ee,Ee.push($)}I(L,function(Z){return Z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function aa(g,L,$){return $&&$.internalChannelParams&&$.internalChannelParams[g]||L}function ds(g){this.Aa=0,this.i=[],this.j=new si,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=aa("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=aa("baseRetryDelayMs",5e3,g),this.cb=aa("retryDelaySeedMs",1e4,g),this.Wa=aa("forwardChannelMaxRetries",2,g),this.wa=aa("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new ef(g&&g.concurrentRequestLimit),this.Da=new qs,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ds.prototype,t.la=8,t.G=1,t.connect=function(g,L,$,Z){qn(0),this.W=g,this.H=L||{},$&&Z!==void 0&&(this.H.OSID=$,this.H.OAID=Z),this.F=this.X,this.I=bn(this,null,this.W),T(this)};function Pc(g){if(cf(g),g.G==3){var L=g.U++,$=Kr(g.I);if(Yt($,"SID",g.K),Yt($,"RID",L),Yt($,"TYPE","terminate"),de(g,$),L=new kr(g,g.j,L),L.L=2,L.v=vl(Kr($)),$=!1,o.navigator&&o.navigator.sendBeacon)try{$=o.navigator.sendBeacon(L.v.toString(),"")}catch{}!$&&o.Image&&(new Image().src=L.v,$=!0),$||(L.g=yr(L.j,null),L.g.ea(L.v)),L.F=Date.now(),No(L)}ar(g)}function hs(g){g.g&&(Xe(g),g.g.cancel(),g.g=null)}function cf(g){hs(g),g.u&&(o.clearTimeout(g.u),g.u=null),_t(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&o.clearTimeout(g.s),g.s=null)}function T(g){if(!tf(g.h)&&!g.s){g.s=!0;var L=g.Ga;oe||K(),Y||(oe(),Y=!0),le.add(L,g),g.B=0}}function B(g,L){return nf(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=L.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=ai(h(g.Ga,g,L),Xt(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const we=new kr(this,this.j,g);let Ee=this.o;if(this.S&&(Ee?(Ee=A(Ee),M(Ee,this.S)):Ee=this.S),this.m!==null||this.O||(we.H=Ee,Ee=null),this.P)e:{for(var L=0,$=0;$<this.i.length;$++){t:{var Z=this.i[$];if("__data__"in Z.map&&(Z=Z.map.__data__,typeof Z=="string")){Z=Z.length;break t}Z=void 0}if(Z===void 0)break;if(L+=Z,4096<L){L=$;break e}if(L===4096||$===this.i.length-1){L=$+1;break e}}L=1e3}else L=1e3;L=xe(this,we,L),$=Kr(this.I),Yt($,"RID",g),Yt($,"CVER",22),this.D&&Yt($,"X-HTTP-Session-Id",this.D),de(this,$),Ee&&(this.O?L="headers="+encodeURIComponent(String(us(Ee)))+"&"+L:this.m&&sf($,this.m,Ee)),Eo(this.h,we),this.Ua&&Yt($,"TYPE","init"),this.P?(Yt($,"$req",L),Yt($,"SID","null"),we.T=!0,Ao(we,$,null)):Ao(we,$,L),this.G=2}}else this.G==3&&(g?re(this,g):this.i.length==0||tf(this.h)||re(this))};function re(g,L){var $;L?$=L.l:$=g.U++;const Z=Kr(g.I);Yt(Z,"SID",g.K),Yt(Z,"RID",$),Yt(Z,"AID",g.T),de(g,Z),g.m&&g.o&&sf(Z,g.m,g.o),$=new kr(g,g.j,$,g.B+1),g.m===null&&($.H=g.o),L&&(g.i=L.D.concat(g.i)),L=xe(g,$,1e3),$.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Eo(g.h,$),Ao($,Z,L)}function de(g,L){g.H&&R(g.H,function($,Z){Yt(L,Z,$)}),g.l&&gl({},function($,Z){Yt(L,Z,$)})}function xe(g,L,$){$=Math.min(g.i.length,$);var Z=g.l?h(g.l.Na,g.l,g):null;e:{var we=g.i;let Ee=-1;for(;;){const Ue=["count="+$];Ee==-1?0<$?(Ee=we[0].g,Ue.push("ofs="+Ee)):Ee=0:Ue.push("ofs="+Ee);let Zt=!0;for(let lr=0;lr<$;lr++){let Ht=we[lr].g;const cn=we[lr].map;if(Ht-=Ee,0>Ht)Ee=Math.max(0,we[lr].g-100),Zt=!1;else try{mm(cn,Ue,"req"+Ht+"_")}catch{Z&&Z(cn)}}if(Zt){Z=Ue.join("&");break e}}}return g=g.i.splice(0,$),L.D=g,Z}function Ie(g){if(!g.g&&!g.u){g.Y=1;var L=g.Fa;oe||K(),Y||(oe(),Y=!0),le.add(L,g),g.v=0}}function Le(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=ai(h(g.Fa,g),Xt(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,lt(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=ai(h(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qn(10),hs(this),lt(this))};function Xe(g){g.A!=null&&(o.clearTimeout(g.A),g.A=null)}function lt(g){g.g=new kr(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var L=Kr(g.qa);Yt(L,"RID","rpc"),Yt(L,"SID",g.K),Yt(L,"AID",g.T),Yt(L,"CI",g.F?"0":"1"),!g.F&&g.ja&&Yt(L,"TO",g.ja),Yt(L,"TYPE","xmlhttp"),de(g,L),g.m&&g.o&&sf(L,g.m,g.o),g.L&&(g.g.I=g.L);var $=g.g;g=g.ia,$.L=1,$.v=vl(Kr(L)),$.m=null,$.P=!0,pl($,g)}t.Za=function(){this.C!=null&&(this.C=null,hs(this),Le(this),qn(19))};function _t(g){g.C!=null&&(o.clearTimeout(g.C),g.C=null)}function It(g,L){var $=null;if(g.g==L){_t(g),Xe(g),g.g=null;var Z=2}else if(ma(g.h,L))$=L.D,Nd(g.h,L),Z=1;else return;if(g.G!=0){if(L.o)if(Z==1){$=L.m?L.m.length:0,L=Date.now()-L.F;var we=g.B;Z=Tr(),vt(Z,new ss(Z,$)),T(g)}else Ie(g);else if(we=L.s,we==3||we==0&&0<L.X||!(Z==1&&B(g,L)||Z==2&&Le(g)))switch($&&0<$.length&&(L=g.h,L.i=L.i.concat($)),we){case 1:dn(g,5);break;case 4:dn(g,10);break;case 3:dn(g,6);break;default:dn(g,2)}}}function Xt(g,L){let $=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||($*=2),$*L}function dn(g,L){if(g.j.info("Error code "+L),L==2){var $=h(g.fb,g),Z=g.Xa;const we=!Z;Z=new Cn(Z||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||yl(Z,"https"),vl(Z),we?hm(Z.toString(),$):pm(Z.toString(),$)}else qn(2);g.G=0,g.l&&g.l.sa(L),ar(g),cf(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),qn(2)):(this.j.info("Failed to ping google.com"),qn(1))};function ar(g){if(g.G=0,g.ka=[],g.l){const L=ir(g.h);(L.length!=0||g.i.length!=0)&&(v(g.ka,L),v(g.ka,g.i),g.h.i.length=0,x(g.i),g.i.length=0),g.l.ra()}}function bn(g,L,$){var Z=$ instanceof Cn?Kr($):new Cn($);if(Z.g!="")L&&(Z.g=L+"."+Z.g),_c(Z,Z.s);else{var we=o.location;Z=we.protocol,L=L?L+"."+we.hostname:we.hostname,we=+we.port;var Ee=new Cn(null);Z&&yl(Ee,Z),L&&(Ee.g=L),we&&_c(Ee,we),$&&(Ee.l=$),Z=Ee}return $=g.D,L=g.ya,$&&L&&Yt(Z,$,L),Yt(Z,"VER",g.la),de(g,Z),Z}function yr(g,L,$){if(L&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return L=g.Ca&&!g.pa?new Tn(new Ac({eb:$})):new Tn(g.pa),L.Ha(g.J),L}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sr(){}t=sr.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function vr(){}vr.prototype.g=function(g,L){return new or(g,L)};function or(g,L){st.call(this),this.g=new ds(L),this.l=g,this.h=L&&L.messageUrlParams||null,g=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(g?g["X-WebChannel-Content-Type"]=L.messageContentType:g={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(g?g["X-WebChannel-Client-Profile"]=L.va:g={"X-WebChannel-Client-Profile":L.va}),this.g.S=g,(g=L&&L.Sb)&&!w(g)&&(this.g.m=g),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!w(L)&&(this.g.D=L,g=this.h,g!==null&&L in g&&(g=this.h,L in g&&delete g[L])),this.j=new ms(this)}b(or,st),or.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},or.prototype.close=function(){Pc(this.g)},or.prototype.o=function(g){var L=this.g;if(typeof g=="string"){var $={};$.__data__=g,g=$}else this.u&&($={},$.__data__=Lt(g),g=$);L.i.push(new Zu(L.Ya++,g)),L.G==3&&T(L)},or.prototype.N=function(){this.g.l=null,delete this.j,Pc(this.g),delete this.g,or.aa.N.call(this)};function ya(g){$t.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var L=g.__sm__;if(L){e:{for(const $ in L){g=$;break e}g=void 0}(this.i=g)&&(g=this.i,L=L!==null&&g in L?L[g]:void 0),this.data=L}else this.data=g}b(ya,$t);function ps(){mt.call(this),this.status=1}b(ps,mt);function ms(g){this.g=g}b(ms,sr),ms.prototype.ua=function(){vt(this.g,"a")},ms.prototype.ta=function(g){vt(this.g,new ya(g))},ms.prototype.sa=function(g){vt(this.g,new ps)},ms.prototype.ra=function(){vt(this.g,"b")},vr.prototype.createWebChannel=vr.prototype.g,or.prototype.send=or.prototype.o,or.prototype.open=or.prototype.m,or.prototype.close=or.prototype.close,u$=function(){return new vr},c$=function(){return Tr()},l$=Wt,oA={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ri.NO_ERROR=0,Ri.TIMEOUT=8,Ri.HTTP_ERROR=6,j1=Ri,Ia.COMPLETE="complete",o$=Ia,Tt.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",st.prototype.listen=st.prototype.K,og=Tt,Tn.prototype.listenOnce=Tn.prototype.L,Tn.prototype.getLastError=Tn.prototype.Ka,Tn.prototype.getLastErrorCode=Tn.prototype.Ba,Tn.prototype.getStatus=Tn.prototype.Z,Tn.prototype.getResponseJson=Tn.prototype.Oa,Tn.prototype.getResponseText=Tn.prototype.oa,Tn.prototype.send=Tn.prototype.ea,Tn.prototype.setWithCredentials=Tn.prototype.Ha,s$=Tn}).apply(typeof O0<"u"?O0:typeof self<"u"?self:typeof window<"u"?window:{});const yC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Gi.UNAUTHENTICATED=new Gi(null),Gi.GOOGLE_CREDENTIALS=new Gi("google-credentials-uid"),Gi.FIRST_PARTY=new Gi("first-party-uid"),Gi.MOCK_USER=new Gi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fp="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new EP("@firebase/firestore");function Fm(){return Zf.logLevel}function ct(t,...e){if(Zf.logLevel<=tn.DEBUG){const n=e.map(FP);Zf.debug(`Firestore (${Fp}): ${t}`,...n)}}function ac(t,...e){if(Zf.logLevel<=tn.ERROR){const n=e.map(FP);Zf.error(`Firestore (${Fp}): ${t}`,...n)}}function Qh(t,...e){if(Zf.logLevel<=tn.WARN){const n=e.map(FP);Zf.warn(`Firestore (${Fp}): ${t}`,...n)}}function FP(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t="Unexpected state"){const e=`FIRESTORE (${Fp}) INTERNAL ASSERTION FAILED: `+t;throw ac(e),new Error(e)}function En(t,e){t||kt()}function Rt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ye extends mc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ote{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Gi.UNAUTHENTICATED))}shutdown(){}}class lte{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cte{constructor(e){this.t=e,this.currentUser=Gi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){En(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Wl;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Wl,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Wl)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(En(typeof r.accessToken=="string"),new f$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return En(e===null||typeof e=="string"),new Gi(e)}}class ute{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Gi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fte{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ute(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Gi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dte{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hte{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){En(this.o===void 0);const r=a=>{a.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,ct("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(En(typeof n.token=="string"),this.R=n.token,new dte(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pte(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=pte(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function un(t,e){return t<e?-1:t>e?1:0}function Jh(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ye(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ye(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ye(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ye(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zn.fromMillis(Date.now())}static fromDate(e){return zn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new zn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?un(this.nanoseconds,e.nanoseconds):un(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ot(e)}static min(){return new Ot(new zn(0,0))}static max(){return new Ot(new zn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n,r){n===void 0?n=0:n>e.length&&kt(),r===void 0?r=e.length-n:r>e.length-n&&kt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return uy.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof uy?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),s=n.get(i);if(a<s)return-1;if(a>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Vn extends uy{construct(e,n,r){return new Vn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ye(Me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Vn(n)}static emptyPath(){return new Vn([])}}const mte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pi extends uy{construct(e,n,r){return new Pi(e,n,r)}static isValidIdentifier(e){return mte.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pi(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ye(Me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Ye(Me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ye(Me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new Ye(Me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pi(n)}static emptyPath(){return new Pi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Vn.fromString(e))}static fromName(e){return new gt(Vn.fromString(e).popFirst(5))}static empty(){return new gt(Vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Vn(e.slice()))}}function gte(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ot.fromTimestamp(r===1e9?new zn(n+1,0):new zn(n,r));return new Iu(i,gt.empty(),e)}function yte(t){return new Iu(t.readTime,t.key,-1)}class Iu{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Iu(Ot.min(),gt.empty(),-1)}static max(){return new Iu(Ot.max(),gt.empty(),-1)}}function vte(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=gt.comparator(t.documentKey,e.documentKey),n!==0?n:un(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xv(t){if(t.code!==Me.FAILED_PRECONDITION||t.message!==bte)throw t;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&kt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $e((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $e?n:$e.resolve(n)}catch(n){return $e.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$e.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$e.reject(n)}static resolve(e){return new $e((n,r)=>{n(e)})}static reject(e){return new $e((n,r)=>{r(e)})}static waitFor(e){return new $e((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(e){let n=$e.resolve(!1);for(const r of e)n=n.next(i=>i?$e.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new $e((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++o,o===a&&r(s)},u=>i(u))}})}static doWhile(e,n){return new $e((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function wte(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wv(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}$P.oe=-1;function b2(t){return t==null}function Pb(t){return t===0&&1/t==-1/0}function _te(t){return typeof t=="number"&&Number.isInteger(t)&&!Pb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hd(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function h$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){this.comparator=e,this.root=n||Ei.EMPTY}insert(e,n){return new gr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ei.BLACK,null,null))}remove(e){return new gr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ei.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new R0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new R0(this.root,e,this.comparator,!1)}getReverseIterator(){return new R0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new R0(this.root,e,this.comparator,!0)}}class R0{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ei{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Ei.RED,this.left=i??Ei.EMPTY,this.right=a??Ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Ei(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ei.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ei.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw kt();const e=this.left.check();if(e!==this.right.check())throw kt();return e+(this.isRed()?0:1)}}Ei.EMPTY=null,Ei.RED=!0,Ei.BLACK=!1;Ei.EMPTY=new class{constructor(){this.size=0}get key(){throw kt()}get value(){throw kt()}get color(){throw kt()}get left(){throw kt()}get right(){throw kt()}copy(e,n,r,i,a){return this}insert(e,n,r){return new Ei(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.comparator=e,this.data=new gr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bC(this.data.getIterator())}getIteratorFrom(e){return new bC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ii)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ii(this.comparator);return n.data=e,n}}class bC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.fields=e,e.sort(Pi.comparator)}static empty(){return new Ya([])}unionWith(e){let n=new Ii(Pi.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ya(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new p$("Invalid base64 string: "+a):a}}(e);return new ji(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new ji(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return un(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ji.EMPTY_BYTE_STRING=new ji("");const Ste=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cu(t){if(En(!!t),typeof t=="string"){let e=0;const n=Ste.exec(t);if(En(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mr(t.seconds),nanos:Mr(t.nanos)}}function Mr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ed(t){return typeof t=="string"?ji.fromBase64String(t):ji.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function VP(t){const e=t.mapValue.fields.__previous_value__;return BP(e)?VP(e):e}function fy(t){const e=Cu(t.mapValue.fields.__local_write_time__.timestampValue);return new zn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ate{constructor(e,n,r,i,a,s,o,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c}}class dy{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new dy("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof dy&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0={mapValue:{}};function td(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?BP(t)?4:Ete(t)?9007199254740991:Nte(t)?10:11:kt()}function rl(t,e){if(t===e)return!0;const n=td(t);if(n!==td(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fy(t).isEqual(fy(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Cu(i.timestampValue),o=Cu(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return ed(i.bytesValue).isEqual(ed(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Mr(i.geoPointValue.latitude)===Mr(a.geoPointValue.latitude)&&Mr(i.geoPointValue.longitude)===Mr(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Mr(i.integerValue)===Mr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Mr(i.doubleValue),o=Mr(a.doubleValue);return s===o?Pb(s)===Pb(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Jh(t.arrayValue.values||[],e.arrayValue.values||[],rl);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(vC(s)!==vC(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!rl(s[l],o[l])))return!1;return!0}(t,e);default:return kt()}}function hy(t,e){return(t.values||[]).find(n=>rl(n,e))!==void 0}function Zh(t,e){if(t===e)return 0;const n=td(t),r=td(e);if(n!==r)return un(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return un(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=Mr(a.integerValue||a.doubleValue),l=Mr(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return xC(t.timestampValue,e.timestampValue);case 4:return xC(fy(t),fy(e));case 5:return un(t.stringValue,e.stringValue);case 6:return function(a,s){const o=ed(a),l=ed(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=un(o[c],l[c]);if(u!==0)return u}return un(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=un(Mr(a.latitude),Mr(s.latitude));return o!==0?o:un(Mr(a.longitude),Mr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return wC(t.arrayValue,e.arrayValue);case 10:return function(a,s){var o,l,c,u;const f=a.fields||{},h=s.fields||{},p=(o=f.value)===null||o===void 0?void 0:o.arrayValue,b=(l=h.value)===null||l===void 0?void 0:l.arrayValue,x=un(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=b==null?void 0:b.values)===null||u===void 0?void 0:u.length)||0);return x!==0?x:wC(p,b)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===M0.mapValue&&s===M0.mapValue)return 0;if(a===M0.mapValue)return 1;if(s===M0.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=un(l[f],u[f]);if(h!==0)return h;const p=Zh(o[l[f]],c[u[f]]);if(p!==0)return p}return un(l.length,u.length)}(t.mapValue,e.mapValue);default:throw kt()}}function xC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return un(t,e);const n=Cu(t),r=Cu(e),i=un(n.seconds,r.seconds);return i!==0?i:un(n.nanos,r.nanos)}function wC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Zh(n[i],r[i]);if(a)return a}return un(n.length,r.length)}function ep(t){return lA(t)}function lA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Cu(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ed(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return gt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=lA(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${lA(n.fields[s])}`;return i+"}"}(t.mapValue):kt()}function _C(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cA(t){return!!t&&"integerValue"in t}function UP(t){return!!t&&"arrayValue"in t}function SC(t){return!!t&&"nullValue"in t}function AC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function O1(t){return!!t&&"mapValue"in t}function Nte(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Pg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return hd(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pg(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pg(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ete(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.value=e}static empty(){return new wa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!O1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pg(n)}setAll(e){let n=Pi.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=Pg(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());O1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rl(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];O1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){hd(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new wa(Pg(this.value))}}function m$(t){const e=[];return hd(t.fields,(n,r)=>{const i=new Pi([n]);if(O1(r)){const a=m$(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Ya(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Yi(e,0,Ot.min(),Ot.min(),Ot.min(),wa.empty(),0)}static newFoundDocument(e,n,r,i){return new Yi(e,1,n,Ot.min(),r,i,0)}static newNoDocument(e,n){return new Yi(e,2,n,Ot.min(),Ot.min(),wa.empty(),0)}static newUnknownDocument(e,n){return new Yi(e,3,n,Ot.min(),Ot.min(),wa.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n){this.position=e,this.inclusive=n}}function NC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=gt.comparator(gt.fromName(s.referenceValue),n.key):r=Zh(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function EC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rl(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n="asc"){this.field=e,this.dir=n}}function Pte(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${}class Hr extends g${constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new kte(e,n,r):n==="array-contains"?new jte(e,r):n==="in"?new Ote(e,r):n==="not-in"?new Rte(e,r):n==="array-contains-any"?new Mte(e,r):new Hr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ite(e,r):new Cte(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zh(n,this.value)):n!==null&&td(this.value)===td(n)&&this.matchesComparison(Zh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return kt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ho extends g${constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ho(e,n)}matches(e){return y$(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function y$(t){return t.op==="and"}function v$(t){return Tte(t)&&y$(t)}function Tte(t){for(const e of t.filters)if(e instanceof ho)return!1;return!0}function uA(t){if(t instanceof Hr)return t.field.canonicalString()+t.op.toString()+ep(t.value);if(v$(t))return t.filters.map(e=>uA(e)).join(",");{const e=t.filters.map(n=>uA(n)).join(",");return`${t.op}(${e})`}}function b$(t,e){return t instanceof Hr?function(r,i){return i instanceof Hr&&r.op===i.op&&r.field.isEqual(i.field)&&rl(r.value,i.value)}(t,e):t instanceof ho?function(r,i){return i instanceof ho&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&b$(s,i.filters[o]),!0):!1}(t,e):void kt()}function x$(t){return t instanceof Hr?function(n){return`${n.field.canonicalString()} ${n.op} ${ep(n.value)}`}(t):t instanceof ho?function(n){return n.op.toString()+" {"+n.getFilters().map(x$).join(" ,")+"}"}(t):"Filter"}class kte extends Hr{constructor(e,n,r){super(e,n,r),this.key=gt.fromName(r.referenceValue)}matches(e){const n=gt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ite extends Hr{constructor(e,n){super(e,"in",n),this.keys=w$("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Cte extends Hr{constructor(e,n){super(e,"not-in",n),this.keys=w$("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function w$(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>gt.fromName(r.referenceValue))}class jte extends Hr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return UP(n)&&hy(n.arrayValue,this.value)}}class Ote extends Hr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hy(this.value.arrayValue,n)}}class Rte extends Hr{constructor(e,n){super(e,"not-in",n)}matches(e){if(hy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!hy(this.value.arrayValue,n)}}class Mte extends Hr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!UP(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hy(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lte{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.ue=null}}function PC(t,e=null,n=[],r=[],i=null,a=null,s=null){return new Lte(t,e,n,r,i,a,s)}function zP(t){const e=Rt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>uA(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),b2(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ep(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ep(r)).join(",")),e.ue=n}return e.ue}function qP(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Pte(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!b$(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!EC(t.startAt,e.startAt)&&EC(t.endAt,e.endAt)}function fA(t){return gt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Dte(t,e,n,r,i,a,s,o){return new pd(t,e,n,r,i,a,s,o)}function x2(t){return new pd(t)}function TC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _$(t){return t.collectionGroup!==null}function Tg(t){const e=Rt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Ii(Pi.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new py(a,r))}),n.has(Pi.keyField().canonicalString())||e.ce.push(new py(Pi.keyField(),r))}return e.ce}function Qo(t){const e=Rt(t);return e.le||(e.le=Fte(e,Tg(t))),e.le}function Fte(t,e){if(t.limitType==="F")return PC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new py(i.field,a)});const n=t.endAt?new Tb(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Tb(t.startAt.position,t.startAt.inclusive):null;return PC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dA(t,e){const n=t.filters.concat([e]);return new pd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function kb(t,e,n){return new pd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function w2(t,e){return qP(Qo(t),Qo(e))&&t.limitType===e.limitType}function S$(t){return`${zP(Qo(t))}|lt:${t.limitType}`}function Hd(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>x$(i)).join(", ")}]`),b2(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ep(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ep(i)).join(",")),`Target(${r})`}(Qo(t))}; limitType=${t.limitType})`}function _2(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):gt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Tg(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,l){const c=NC(s,o,l);return s.inclusive?c<=0:c<0}(r.startAt,Tg(r),i)||r.endAt&&!function(s,o,l){const c=NC(s,o,l);return s.inclusive?c>=0:c>0}(r.endAt,Tg(r),i))}(t,e)}function $te(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function A$(t){return(e,n)=>{let r=!1;for(const i of Tg(t)){const a=Bte(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function Bte(t,e,n){const r=t.field.isKeyField()?gt.comparator(e.key,n.key):function(a,s,o){const l=s.data.field(a),c=o.data.field(a);return l!==null&&c!==null?Zh(l,c):kt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return kt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hd(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return h$(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vte=new gr(gt.comparator);function sc(){return Vte}const N$=new gr(gt.comparator);function lg(...t){let e=N$;for(const n of t)e=e.insert(n.key,n);return e}function E$(t){let e=N$;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function If(){return kg()}function P$(){return kg()}function kg(){return new $p(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ute=new gr(gt.comparator),zte=new Ii(gt.comparator);function Qt(...t){let e=zte;for(const n of t)e=e.add(n);return e}const qte=new Ii(un);function Wte(){return qte}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pb(e)?"-0":e}}function T$(t){return{integerValue:""+t}}function Hte(t,e){return _te(e)?T$(e):WP(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this._=void 0}}function Gte(t,e,n){return t instanceof my?function(i,a){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&BP(a)&&(a=VP(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}}(n,e):t instanceof gy?I$(t,e):t instanceof yy?C$(t,e):function(i,a){const s=k$(i,a),o=kC(s)+kC(i.Pe);return cA(s)&&cA(i.Pe)?T$(o):WP(i.serializer,o)}(t,e)}function Kte(t,e,n){return t instanceof gy?I$(t,e):t instanceof yy?C$(t,e):n}function k$(t,e){return t instanceof Ib?function(r){return cA(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class my extends S2{}class gy extends S2{constructor(e){super(),this.elements=e}}function I$(t,e){const n=j$(e);for(const r of t.elements)n.some(i=>rl(i,r))||n.push(r);return{arrayValue:{values:n}}}class yy extends S2{constructor(e){super(),this.elements=e}}function C$(t,e){let n=j$(e);for(const r of t.elements)n=n.filter(i=>!rl(i,r));return{arrayValue:{values:n}}}class Ib extends S2{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function kC(t){return Mr(t.integerValue||t.doubleValue)}function j$(t){return UP(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yte{constructor(e,n){this.field=e,this.transform=n}}function Xte(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof gy&&i instanceof gy||r instanceof yy&&i instanceof yy?Jh(r.elements,i.elements,rl):r instanceof Ib&&i instanceof Ib?rl(r.Pe,i.Pe):r instanceof my&&i instanceof my}(t.transform,e.transform)}class Qte{constructor(e,n){this.version=e,this.transformResults=n}}class da{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new da}static exists(e){return new da(void 0,e)}static updateTime(e){return new da(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function R1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class A2{}function O$(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new N2(t.key,da.none()):new _v(t.key,t.data,da.none());{const n=t.data,r=wa.empty();let i=new Ii(Pi.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new qu(t.key,r,new Ya(i.toArray()),da.none())}}function Jte(t,e,n){t instanceof _v?function(i,a,s){const o=i.value.clone(),l=CC(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof qu?function(i,a,s){if(!R1(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=CC(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(R$(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ig(t,e,n,r){return t instanceof _v?function(a,s,o,l){if(!R1(a.precondition,s))return o;const c=a.value.clone(),u=jC(a.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof qu?function(a,s,o,l){if(!R1(a.precondition,s))return o;const c=jC(a.fieldTransforms,l,s),u=s.data;return u.setAll(R$(a)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(a,s,o){return R1(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function Zte(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=k$(r.transform,i||null);a!=null&&(n===null&&(n=wa.empty()),n.set(r.field,a))}return n||null}function IC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Jh(r,i,(a,s)=>Xte(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _v extends A2{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qu extends A2{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function R$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function CC(t,e,n){const r=new Map;En(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,Kte(s,o,n[i]))}return r}function jC(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,Gte(a,s,e))}return r}class N2 extends A2{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ene extends A2{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tne{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Jte(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ig(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ig(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=P$();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=O$(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ot.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qt())}isEqual(e){return this.batchId===e.batchId&&Jh(this.mutations,e.mutations,(n,r)=>IC(n,r))&&Jh(this.baseMutations,e.baseMutations,(n,r)=>IC(n,r))}}class HP{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){En(e.mutations.length===r.length);let i=function(){return Ute}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new HP(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rne{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zr,an;function ine(t){switch(t){default:return kt();case Me.CANCELLED:case Me.UNKNOWN:case Me.DEADLINE_EXCEEDED:case Me.RESOURCE_EXHAUSTED:case Me.INTERNAL:case Me.UNAVAILABLE:case Me.UNAUTHENTICATED:return!1;case Me.INVALID_ARGUMENT:case Me.NOT_FOUND:case Me.ALREADY_EXISTS:case Me.PERMISSION_DENIED:case Me.FAILED_PRECONDITION:case Me.ABORTED:case Me.OUT_OF_RANGE:case Me.UNIMPLEMENTED:case Me.DATA_LOSS:return!0}}function M$(t){if(t===void 0)return ac("GRPC error has no .code"),Me.UNKNOWN;switch(t){case zr.OK:return Me.OK;case zr.CANCELLED:return Me.CANCELLED;case zr.UNKNOWN:return Me.UNKNOWN;case zr.DEADLINE_EXCEEDED:return Me.DEADLINE_EXCEEDED;case zr.RESOURCE_EXHAUSTED:return Me.RESOURCE_EXHAUSTED;case zr.INTERNAL:return Me.INTERNAL;case zr.UNAVAILABLE:return Me.UNAVAILABLE;case zr.UNAUTHENTICATED:return Me.UNAUTHENTICATED;case zr.INVALID_ARGUMENT:return Me.INVALID_ARGUMENT;case zr.NOT_FOUND:return Me.NOT_FOUND;case zr.ALREADY_EXISTS:return Me.ALREADY_EXISTS;case zr.PERMISSION_DENIED:return Me.PERMISSION_DENIED;case zr.FAILED_PRECONDITION:return Me.FAILED_PRECONDITION;case zr.ABORTED:return Me.ABORTED;case zr.OUT_OF_RANGE:return Me.OUT_OF_RANGE;case zr.UNIMPLEMENTED:return Me.UNIMPLEMENTED;case zr.DATA_LOSS:return Me.DATA_LOSS;default:return kt()}}(an=zr||(zr={}))[an.OK=0]="OK",an[an.CANCELLED=1]="CANCELLED",an[an.UNKNOWN=2]="UNKNOWN",an[an.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",an[an.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",an[an.NOT_FOUND=5]="NOT_FOUND",an[an.ALREADY_EXISTS=6]="ALREADY_EXISTS",an[an.PERMISSION_DENIED=7]="PERMISSION_DENIED",an[an.UNAUTHENTICATED=16]="UNAUTHENTICATED",an[an.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",an[an.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",an[an.ABORTED=10]="ABORTED",an[an.OUT_OF_RANGE=11]="OUT_OF_RANGE",an[an.UNIMPLEMENTED=12]="UNIMPLEMENTED",an[an.INTERNAL=13]="INTERNAL",an[an.UNAVAILABLE=14]="UNAVAILABLE",an[an.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ane(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sne=new $f([4294967295,4294967295],0);function OC(t){const e=ane().encode(t),n=new a$;return n.update(e),new Uint8Array(n.digest())}function RC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new $f([n,r],0),new $f([i,a],0)]}class GP{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new cg(`Invalid padding: ${n}`);if(r<0)throw new cg(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new cg(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new cg(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=$f.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply($f.fromNumber(r)));return i.compare(sne)===1&&(i=new $f([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=OC(e),[r,i]=RC(n);for(let a=0;a<this.hashCount;a++){const s=this.Ee(r,i,a);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new GP(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.Ie===0)return;const n=OC(e),[r,i]=RC(n);for(let a=0;a<this.hashCount;a++){const s=this.Ee(r,i,a);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class cg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Sv.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new E2(Ot.min(),i,new gr(un),sc(),Qt())}}class Sv{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sv(r,n,Qt(),Qt(),Qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class L${constructor(e,n){this.targetId=e,this.me=n}}class D${constructor(e,n,r=ji.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class MC{constructor(){this.fe=0,this.ge=DC(),this.pe=ji.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Qt(),n=Qt(),r=Qt();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:kt()}}),new Sv(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=DC()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,En(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class one{constructor(e){this.Le=e,this.Be=new Map,this.ke=sc(),this.qe=LC(),this.Qe=new gr(un)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:kt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const a=i.target;if(fA(a))if(r===0){const s=new gt(a.path);this.Ue(n,s,Yi.newNoDocument(s,Ot.min()))}else En(r===1);else{const s=this.Ye(n);if(s!==r){const o=this.Ze(e),l=o?this.Xe(o,e,s):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=ed(r).toUint8Array()}catch(l){if(l instanceof p$)return Qh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new GP(s,i,a)}catch(l){return Qh(l instanceof cg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Le.tt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.Ue(n,a,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((a,s)=>{const o=this.Je(s);if(o){if(a.current&&fA(o.target)){const l=new gt(o.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Yi.newNoDocument(l,e))}a.be&&(n.set(s,a.ve()),a.Ce())}});let r=Qt();this.qe.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.ke.forEach((a,s)=>s.setReadTime(e));const i=new E2(e,n,this.Qe,this.ke,r);return this.ke=sc(),this.qe=LC(),this.Qe=new gr(un),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new MC,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ii(un),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ct("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new MC),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function LC(){return new gr(gt.comparator)}function DC(){return new gr(gt.comparator)}const lne={asc:"ASCENDING",desc:"DESCENDING"},cne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},une={and:"AND",or:"OR"};class fne{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hA(t,e){return t.useProto3Json||b2(e)?e:{value:e}}function Cb(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function F$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dne(t,e){return Cb(t,e.toTimestamp())}function Jo(t){return En(!!t),Ot.fromTimestamp(function(n){const r=Cu(n);return new zn(r.seconds,r.nanos)}(t))}function KP(t,e){return pA(t,e).canonicalString()}function pA(t,e){const n=function(i){return new Vn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $$(t){const e=Vn.fromString(t);return En(q$(e)),e}function mA(t,e){return KP(t.databaseId,e.path)}function k5(t,e){const n=$$(e);if(n.get(1)!==t.databaseId.projectId)throw new Ye(Me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ye(Me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new gt(V$(n))}function B$(t,e){return KP(t.databaseId,e)}function hne(t){const e=$$(t);return e.length===4?Vn.emptyPath():V$(e)}function gA(t){return new Vn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function V$(t){return En(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function FC(t,e,n){return{name:mA(t,e),fields:n.value.mapValue.fields}}function pne(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:kt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(En(u===void 0||typeof u=="string"),ji.fromBase64String(u||"")):(En(u===void 0||u instanceof Buffer||u instanceof Uint8Array),ji.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(c){const u=c.code===void 0?Me.UNKNOWN:M$(c.code);return new Ye(u,c.message||"")}(s);n=new D$(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=k5(t,r.document.name),a=Jo(r.document.updateTime),s=r.document.createTime?Jo(r.document.createTime):Ot.min(),o=new wa({mapValue:{fields:r.document.fields}}),l=Yi.newFoundDocument(i,a,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new M1(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=k5(t,r.document),a=r.readTime?Jo(r.readTime):Ot.min(),s=Yi.newNoDocument(i,a),o=r.removedTargetIds||[];n=new M1([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=k5(t,r.document),a=r.removedTargetIds||[];n=new M1([],a,i,null)}else{if(!("filter"in e))return kt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new rne(i,a),o=r.targetId;n=new L$(o,s)}}return n}function mne(t,e){let n;if(e instanceof _v)n={update:FC(t,e.key,e.value)};else if(e instanceof N2)n={delete:mA(t,e.key)};else if(e instanceof qu)n={update:FC(t,e.key,e.data),updateMask:Ane(e.fieldMask)};else{if(!(e instanceof ene))return kt();n={verify:mA(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof my)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof gy)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof yy)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ib)return{fieldPath:s.field.canonicalString(),increment:o.Pe};throw kt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:dne(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:kt()}(t,e.precondition)),n}function gne(t,e){return t&&t.length>0?(En(e!==void 0),t.map(n=>function(i,a){let s=i.updateTime?Jo(i.updateTime):Jo(a);return s.isEqual(Ot.min())&&(s=Jo(a)),new Qte(s,i.transformResults||[])}(n,e))):[]}function yne(t,e){return{documents:[B$(t,e.path)]}}function vne(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=B$(t,i);const a=function(c){if(c.length!==0)return z$(ho.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Gd(h.field),direction:wne(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=hA(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function bne(t){let e=hne(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){En(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];n.where&&(a=function(f){const h=U$(f);return h instanceof ho&&v$(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(b){return new py(Kd(b.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(h))}(n.orderBy));let o=null;n.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,b2(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new Tb(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new Tb(p,h)}(n.endAt)),Dte(e,i,s,a,o,"F",l,c)}function xne(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return kt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function U$(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Kd(n.unaryFilter.field);return Hr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Kd(n.unaryFilter.field);return Hr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Kd(n.unaryFilter.field);return Hr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Kd(n.unaryFilter.field);return Hr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return kt()}}(t):t.fieldFilter!==void 0?function(n){return Hr.create(Kd(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return kt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ho.create(n.compositeFilter.filters.map(r=>U$(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return kt()}}(n.compositeFilter.op))}(t):kt()}function wne(t){return lne[t]}function _ne(t){return cne[t]}function Sne(t){return une[t]}function Gd(t){return{fieldPath:t.canonicalString()}}function Kd(t){return Pi.fromServerFormat(t.fieldPath)}function z$(t){return t instanceof Hr?function(n){if(n.op==="=="){if(AC(n.value))return{unaryFilter:{field:Gd(n.field),op:"IS_NAN"}};if(SC(n.value))return{unaryFilter:{field:Gd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(AC(n.value))return{unaryFilter:{field:Gd(n.field),op:"IS_NOT_NAN"}};if(SC(n.value))return{unaryFilter:{field:Gd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gd(n.field),op:_ne(n.op),value:n.value}}}(t):t instanceof ho?function(n){const r=n.getFilters().map(i=>z$(i));return r.length===1?r[0]:{compositeFilter:{op:Sne(n.op),filters:r}}}(t):kt()}function Ane(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function q$(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n,r,i,a=Ot.min(),s=Ot.min(),o=ji.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new cu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nne{constructor(e){this.ct=e}}function Ene(t){const e=bne({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pne{constructor(){this.un=new Tne}addToCollectionParentIndex(e,n){return this.un.add(n),$e.resolve()}getCollectionParents(e,n){return $e.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return $e.resolve()}deleteFieldIndex(e,n){return $e.resolve()}deleteAllFieldIndexes(e){return $e.resolve()}createTargetIndexes(e,n){return $e.resolve()}getDocumentsMatchingTarget(e,n){return $e.resolve(null)}getIndexType(e,n){return $e.resolve(0)}getFieldIndexes(e,n){return $e.resolve([])}getNextCollectionGroupToUpdate(e){return $e.resolve(null)}getMinOffset(e,n){return $e.resolve(Iu.min())}getMinOffsetFromCollectionGroup(e,n){return $e.resolve(Iu.min())}updateCollectionGroup(e,n,r){return $e.resolve()}updateIndexEntries(e,n){return $e.resolve()}}class Tne{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ii(Vn.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ii(Vn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new tp(0)}static kn(){return new tp(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kne{constructor(){this.changes=new $p(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$e.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ine{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cne{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ig(r.mutation,i,Ya.empty(),zn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qt()){const i=If();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=lg();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=If();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qt()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=sc();const s=kg(),o=function(){return kg()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof qu)?a=a.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Ig(u.mutation,c,u.mutation.getFieldMask(),zn.now())):s.set(c.key,Ya.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>{var f;return o.set(c,new Ine(u,(f=s.get(c))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(e,n){const r=kg();let i=new gr((s,o)=>s-o),a=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Ya.empty();u=o.applyToLocalView(c,u),r.set(l,u);const f=(i.get(o.batchId)||Qt()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=P$();u.forEach(h=>{if(!a.has(h)){const p=O$(n.get(h),r.get(h));p!==null&&f.set(h,p),a=a.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return $e.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_$(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):$e.resolve(If());let o=-1,l=a;return s.next(c=>$e.forEach(c,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),a.get(u)?$e.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,Qt())).next(u=>({batchId:o,changes:E$(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new gt(n)).next(r=>{let i=lg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=lg();return this.indexManager.getCollectionParents(e,a).next(o=>$e.forEach(o,l=>{const c=function(f,h){return new pd(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Yi.newInvalidDocument(u)))});let o=lg();return s.forEach((l,c)=>{const u=a.get(l);u!==void 0&&Ig(u.mutation,c,Ya.empty(),zn.now()),_2(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jne{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return $e.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jo(i.createTime)}}(n)),$e.resolve()}getNamedQuery(e,n){return $e.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Ene(i.bundledQuery),readTime:Jo(i.readTime)}}(n)),$e.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class One{constructor(){this.overlays=new gr(gt.comparator),this.Ir=new Map}getOverlay(e,n){return $e.resolve(this.overlays.get(n))}getOverlays(e,n){const r=If();return $e.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.ht(e,n,a)}),$e.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),$e.resolve()}getOverlaysForCollection(e,n,r){const i=If(),a=n.length+1,s=new gt(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $e.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new gr((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=a.get(c.largestBatchId);u===null&&(u=If(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=If(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=i)););return $e.resolve(o)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new nne(n,r));let a=this.Ir.get(n);a===void 0&&(a=Qt(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rne{constructor(){this.sessionToken=ji.EMPTY_BYTE_STRING}getSessionToken(e){return $e.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$e.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(){this.Tr=new Ii(ci.Er),this.dr=new Ii(ci.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ci(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ci(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new gt(new Vn([])),r=new ci(n,e),i=new ci(n,e+1),a=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),a.push(s.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new gt(new Vn([])),r=new ci(n,e),i=new ci(n,e+1);let a=Qt();return this.dr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new ci(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ci{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return gt.comparator(e.key,n.key)||un(e.wr,n.wr)}static Ar(e,n){return un(e.wr,n.wr)||gt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mne{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ii(ci.Er)}checkEmpty(e){return $e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new tne(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.br=this.br.add(new ci(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return $e.resolve(s)}lookupMutationBatch(e,n){return $e.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),a=i<0?0:i;return $e.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return $e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ci(n,0),i=new ci(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],s=>{const o=this.Dr(s.wr);a.push(o)}),$e.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ii(un);return n.forEach(i=>{const a=new ci(i,0),s=new ci(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],o=>{r=r.add(o.wr)})}),$e.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;gt.isDocumentKey(a)||(a=a.child(""));const s=new ci(new gt(a),0);let o=new Ii(un);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.wr)),!0)},s),$e.resolve(this.Cr(o))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){En(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return $e.forEach(n.mutations,i=>{const a=new ci(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ci(n,0),i=this.br.firstAfterOrEqual(r);return $e.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$e.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lne{constructor(e){this.Mr=e,this.docs=function(){return new gr(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $e.resolve(r?r.document.mutableCopy():Yi.newInvalidDocument(n))}getEntries(e,n){let r=sc();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Yi.newInvalidDocument(i))}),$e.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=sc();const s=n.path,o=new gt(s.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||vte(yte(u),r)<=0||(i.has(u.key)||_2(n,u))&&(a=a.insert(u.key,u.mutableCopy()))}return $e.resolve(a)}getAllFromCollectionGroup(e,n,r,i){kt()}Or(e,n){return $e.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Dne(this)}getSize(e){return $e.resolve(this.size)}}class Dne extends kne{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),$e.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fne{constructor(e){this.persistence=e,this.Nr=new $p(n=>zP(n),qP),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.Lr=0,this.Br=new YP,this.targetCount=0,this.kr=tp.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),$e.resolve()}getLastRemoteSnapshotVersion(e){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $e.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),$e.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new tp(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,$e.resolve()}updateTargetData(e,n){return this.Kn(n),$e.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,$e.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Nr.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),$e.waitFor(a).next(()=>i)}getTargetCount(e){return $e.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return $e.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),$e.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),$e.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),$e.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return $e.resolve(r)}containsKey(e,n){return $e.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ne{constructor(e,n){this.qr={},this.overlays={},this.Qr=new $P(0),this.Kr=!1,this.Kr=!0,this.$r=new Rne,this.referenceDelegate=e(this),this.Ur=new Fne(this),this.indexManager=new Pne,this.remoteDocumentCache=function(i){return new Lne(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Nne(n),this.Gr=new jne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new One,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Mne(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ct("MemoryPersistence","Starting transaction:",e);const i=new Bne(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,n){return $e.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Bne extends xte{constructor(e){super(),this.currentSequenceNumber=e}}class XP{constructor(e){this.persistence=e,this.Jr=new YP,this.Yr=null}static Zr(e){return new XP(e)}get Xr(){if(this.Yr)return this.Yr;throw kt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),$e.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),$e.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),$e.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.Xr,r=>{const i=gt.fromPath(r);return this.ei(e,i).next(a=>{a||n.removeEntry(i,Ot.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return $e.or([()=>$e.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Qt(),i=Qt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new QP(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Une{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return AQ()?8:wte(na())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Yi(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Zi(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new Vne;return this.Xi(e,n,s).next(o=>{if(a.result=o,this.zi)return this.es(e,n,s,o.size)})}).next(()=>a.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Fm()<=tn.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",Hd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),$e.resolve()):(Fm()<=tn.DEBUG&&ct("QueryEngine","Query:",Hd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Fm()<=tn.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",Hd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qo(n))):$e.resolve())}Yi(e,n){if(TC(n))return $e.resolve(null);let r=Qo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=kb(n,null,"F"),r=Qo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=Qt(...a);return this.Ji.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,o);return this.ns(n,c,s,l.readTime)?this.Yi(e,kb(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return TC(n)||i.isEqual(Ot.min())?$e.resolve(null):this.Ji.getDocuments(e,r).next(a=>{const s=this.ts(n,a);return this.ns(n,s,r,i)?$e.resolve(null):(Fm()<=tn.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hd(n)),this.rs(e,s,n,gte(i,-1)).next(o=>o))})}ts(e,n){let r=new Ii(A$(e));return n.forEach((i,a)=>{_2(e,a)&&(r=r.add(a))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,n,r){return Fm()<=tn.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",Hd(n)),this.Ji.getDocumentsMatchingQuery(e,n,Iu.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zne{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new gr(un),this._s=new $p(a=>zP(a),qP),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cne(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function qne(t,e,n,r){return new zne(t,e,n,r)}async function W$(t,e){const n=Rt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=Qt();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:o}))})})}function Wne(t,e){const n=Rt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const f=c.batch,h=f.keys();let p=$e.resolve();return h.forEach(b=>{p=p.next(()=>u.getEntry(l,b)).next(x=>{const v=c.docVersions.get(b);En(v!==null),x.version.compareTo(v)<0&&(f.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),u.addEntry(x)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Qt();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function H$(t){const e=Rt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Hne(t,e){const n=Rt(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;o.push(n.Ur.removeMatchingKeys(a,u.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(a,u.addedDocuments,f)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(ji.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(f,p),function(x,v,y){return x.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,p,u)&&o.push(n.Ur.updateTargetData(a,p))});let l=sc(),c=Qt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,u))}),o.push(Gne(a,s,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(Ot.min())){const u=n.Ur.getLastRemoteSnapshotVersion(a).next(f=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(u)}return $e.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(n.os=i,a))}function Gne(t,e,n){let r=Qt(),i=Qt();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=sc();return n.forEach((o,l)=>{const c=a.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Ot.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):ct("LocalStore","Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function Kne(t,e){const n=Rt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Yne(t,e){const n=Rt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(a=>a?(i=a,$e.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new cu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function yA(t,e,n){const r=Rt(t),i=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!wv(s))throw s;ct("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function $C(t,e,n){const r=Rt(t);let i=Ot.min(),a=Qt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=Rt(l),h=f._s.get(u);return h!==void 0?$e.resolve(f.os.get(h)):f.Ur.getTargetData(c,u)}(r,s,Qo(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Ot.min(),n?a:Qt())).next(o=>(Xne(r,$te(e),o),{documents:o,Ts:a})))}function Xne(t,e,n){let r=t.us.get(e)||Ot.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.us.set(e,r)}class BC{constructor(){this.activeTargetIds=Wte()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qne{constructor(){this.so=new BC,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new BC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jne{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ct("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ct("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L0=null;function I5(){return L0===null?L0=function(){return 268435456+Math.round(2147483648*Math.random())}():L0++,"0x"+L0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ere{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="WebChannelConnection";class tre extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(n,r,i,a,s){const o=I5(),l=this.xo(n,r.toUriEncodedString());ct("RestConnection",`Sending RPC '${n}' ${o}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,a,s),this.No(n,l,c,i).then(u=>(ct("RestConnection",`Received RPC '${n}' ${o}: `,u),u),u=>{throw Qh("RestConnection",`RPC '${n}' ${o} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(n,r,i,a,s,o){return this.Mo(n,r,i,a,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fp}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,s)=>n[s]=a),i&&i.headers.forEach((a,s)=>n[s]=a)}xo(n,r){const i=Zne[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const a=I5();return new Promise((s,o)=>{const l=new s$;l.setWithCredentials(!0),l.listenOnce(o$.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case j1.NO_ERROR:const u=l.getResponseJson();ct(Bi,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(u)),s(u);break;case j1.TIMEOUT:ct(Bi,`RPC '${e}' ${a} timed out`),o(new Ye(Me.DEADLINE_EXCEEDED,"Request time out"));break;case j1.HTTP_ERROR:const f=l.getStatus();if(ct(Bi,`RPC '${e}' ${a} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const b=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(Me).indexOf(y)>=0?y:Me.UNKNOWN}(p.status);o(new Ye(b,p.message))}else o(new Ye(Me.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new Ye(Me.UNAVAILABLE,"Connection failed."));break;default:kt()}}finally{ct(Bi,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(i);ct(Bi,`RPC '${e}' ${a} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=I5(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=u$(),o=c$(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=a.join("");ct(Bi,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=s.createWebChannel(u,l);let h=!1,p=!1;const b=new ere({Io:v=>{p?ct(Bi,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(ct(Bi,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ct(Bi,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},To:()=>f.close()}),x=(v,y,w)=>{v.listen(y,S=>{try{w(S)}catch(E){setTimeout(()=>{throw E},0)}})};return x(f,og.EventType.OPEN,()=>{p||(ct(Bi,`RPC '${e}' stream ${i} transport opened.`),b.yo())}),x(f,og.EventType.CLOSE,()=>{p||(p=!0,ct(Bi,`RPC '${e}' stream ${i} transport closed`),b.So())}),x(f,og.EventType.ERROR,v=>{p||(p=!0,Qh(Bi,`RPC '${e}' stream ${i} transport errored:`,v),b.So(new Ye(Me.UNAVAILABLE,"The operation could not be completed")))}),x(f,og.EventType.MESSAGE,v=>{var y;if(!p){const w=v.data[0];En(!!w);const S=w,E=S.error||((y=S[0])===null||y===void 0?void 0:y.error);if(E){ct(Bi,`RPC '${e}' stream ${i} received error:`,E);const P=E.status;let R=function(N){const M=zr[N];if(M!==void 0)return M$(M)}(P),I=E.message;R===void 0&&(R=Me.INTERNAL,I="Unknown error status: "+P+" with message "+E.message),p=!0,b.So(new Ye(R,I)),f.close()}else ct(Bi,`RPC '${e}' stream ${i} received:`,w),b.bo(w)}}),x(o,l$.STAT_EVENT,v=>{v.stat===oA.PROXY?ct(Bi,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===oA.NOPROXY&&ct(Bi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function C5(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(t){return new fne(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e,n,r=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ct("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e,n,r,i,a,s,o,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new G$(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Me.RESOURCE_EXHAUSTED?(ac(n.toString()),ac("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Ye(Me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ct("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ct("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nre extends K${constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=pne(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ot.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Ot.min():s.readTime?Jo(s.readTime):Ot.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=gA(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=fA(l)?{documents:yne(a,l)}:{query:vne(a,l)._t},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=F$(a,s.resumeToken);const c=hA(a,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(Ot.min())>0){o.readTime=Cb(a,s.snapshotVersion.toTimestamp());const c=hA(a,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=xne(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=gA(this.serializer),n.removeTarget=e,this.a_(n)}}class rre extends K${constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return En(!!e.streamToken),this.lastStreamToken=e.streamToken,En(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){En(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=gne(e.writeResults,e.commitTime),r=Jo(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=gA(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>mne(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ire extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ye(Me.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Mo(e,pA(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ye(Me.UNKNOWN,a.toString())})}Lo(e,n,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Lo(e,pA(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ye(Me.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class are{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ac(n),this.D_=!1):ct("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sre{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(s=>{r.enqueueAndForget(async()=>{md(this)&&(ct("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Rt(l);c.L_.add(4),await Av(c),c.q_.set("Unknown"),c.L_.delete(4),await T2(c)}(this))})}),this.q_=new are(r,i)}}async function T2(t){if(md(t))for(const e of t.B_)await e(!0)}async function Av(t){for(const e of t.B_)await e(!1)}function Y$(t,e){const n=Rt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),tT(n)?eT(n):Bp(n).r_()&&ZP(n,e))}function JP(t,e){const n=Rt(t),r=Bp(n);n.N_.delete(e),r.r_()&&X$(n,e),n.N_.size===0&&(r.r_()?r.o_():md(n)&&n.q_.set("Unknown"))}function ZP(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ot.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bp(t).A_(e)}function X$(t,e){t.Q_.xe(e),Bp(t).R_(e)}function eT(t){t.Q_=new one({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Bp(t).start(),t.q_.v_()}function tT(t){return md(t)&&!Bp(t).n_()&&t.N_.size>0}function md(t){return Rt(t).L_.size===0}function Q$(t){t.Q_=void 0}async function ore(t){t.q_.set("Online")}async function lre(t){t.N_.forEach((e,n)=>{ZP(t,e)})}async function cre(t,e){Q$(t),tT(t)?(t.q_.M_(e),eT(t)):t.q_.set("Unknown")}async function ure(t,e,n){if(t.q_.set("Online"),e instanceof D$&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(r){ct("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jb(t,r)}else if(e instanceof M1?t.Q_.Ke(e):e instanceof L$?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ot.min()))try{const r=await H$(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.Q_.rt(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.N_.get(c);u&&a.N_.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=a.N_.get(l);if(!u)return;a.N_.set(l,u.withResumeToken(ji.EMPTY_BYTE_STRING,u.snapshotVersion)),X$(a,l);const f=new cu(u.target,l,c,u.sequenceNumber);ZP(a,f)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){ct("RemoteStore","Failed to raise snapshot:",r),await jb(t,r)}}async function jb(t,e,n){if(!wv(e))throw e;t.L_.add(1),await Av(t),t.q_.set("Offline"),n||(n=()=>H$(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ct("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await T2(t)})}function J$(t,e){return e().catch(n=>jb(t,n,e))}async function k2(t){const e=Rt(t),n=ju(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;fre(e);)try{const i=await Kne(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,dre(e,i)}catch(i){await jb(e,i)}Z$(e)&&e9(e)}function fre(t){return md(t)&&t.O_.length<10}function dre(t,e){t.O_.push(e);const n=ju(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Z$(t){return md(t)&&!ju(t).n_()&&t.O_.length>0}function e9(t){ju(t).start()}async function hre(t){ju(t).p_()}async function pre(t){const e=ju(t);for(const n of t.O_)e.m_(n.mutations)}async function mre(t,e,n){const r=t.O_.shift(),i=HP.from(r,e,n);await J$(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await k2(t)}async function gre(t,e){e&&ju(t).V_&&await async function(r,i){if(function(s){return ine(s)&&s!==Me.ABORTED}(i.code)){const a=r.O_.shift();ju(r).s_(),await J$(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await k2(r)}}(t,e),Z$(t)&&e9(t)}async function UC(t,e){const n=Rt(t);n.asyncQueue.verifyOperationInProgress(),ct("RemoteStore","RemoteStore received new credentials");const r=md(n);n.L_.add(3),await Av(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await T2(n)}async function yre(t,e){const n=Rt(t);e?(n.L_.delete(2),await T2(n)):e||(n.L_.add(2),await Av(n),n.q_.set("Unknown"))}function Bp(t){return t.K_||(t.K_=function(n,r,i){const a=Rt(n);return a.w_(),new nre(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:ore.bind(null,t),Ro:lre.bind(null,t),mo:cre.bind(null,t),d_:ure.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),tT(t)?eT(t):t.q_.set("Unknown")):(await t.K_.stop(),Q$(t))})),t.K_}function ju(t){return t.U_||(t.U_=function(n,r,i){const a=Rt(n);return a.w_(),new rre(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:hre.bind(null,t),mo:gre.bind(null,t),f_:pre.bind(null,t),g_:mre.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await k2(t)):(await t.U_.stop(),t.O_.length>0&&(ct("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Wl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new nT(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ye(Me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rT(t,e){if(ac("AsyncQueue",`${e}: ${t}`),wv(t))return new Ye(Me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this.comparator=e?(n,r)=>e(n,r)||gt.comparator(n.key,r.key):(n,r)=>gt.comparator(n.key,r.key),this.keyedMap=lg(),this.sortedSet=new gr(this.comparator)}static emptySet(e){return new kh(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof kh)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new kh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(){this.W_=new gr(gt.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):kt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class np{constructor(e,n,r,i,a,s,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new np(e,n,kh.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&w2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vre{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class bre{constructor(){this.queries=qC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Rt(n),a=i.queries;i.queries=qC(),a.forEach((s,o)=>{for(const l of o.j_)l.onError(r)})})(this,new Ye(Me.ABORTED,"Firestore shutting down"))}}function qC(){return new $p(t=>S$(t),w2)}async function iT(t,e){const n=Rt(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.H_()&&e.J_()&&(r=2):(a=new vre,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=rT(s,`Initialization of query '${Hd(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&sT(n)}async function aT(t,e){const n=Rt(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.j_.indexOf(e);s>=0&&(a.j_.splice(s,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xre(t,e){const n=Rt(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.j_)o.X_(i)&&(r=!0);s.z_=i}}r&&sT(n)}function wre(t,e,n){const r=Rt(t),i=r.queries.get(e);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(e)}function sT(t){t.Y_.forEach(e=>{e.next()})}var vA,WC;(WC=vA||(vA={})).ea="default",WC.Cache="cache";class oT{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new np(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=np.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==vA.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e){this.key=e}}class n9{constructor(e){this.key=e}}class _re{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Qt(),this.mutatedKeys=Qt(),this.Aa=A$(e),this.Ra=new kh(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new zC,i=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),p=_2(this.query,f)?f:null,b=!!h&&this.mutatedKeys.has(h.key),x=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?b!==x&&(r.track({type:3,doc:p}),v=!0):this.ga(h,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.Aa(p,l)>0||c&&this.Aa(p,c)<0)&&(o=!0)):!h&&p?(r.track({type:0,doc:p}),v=!0):h&&!p&&(r.track({type:1,doc:h}),v=!0,(l||c)&&(o=!0)),v&&(p?(s=s.add(p),a=x?a.add(u):a.delete(u)):(s=s.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),a=a.delete(u.key),r.track({type:1,doc:u})}return{Ra:s,fa:r,ns:o,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((u,f)=>function(p,b){const x=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return kt()}};return x(p)-x(b)}(u.type,f.type)||this.Aa(u.doc,f.doc)),this.pa(r),i=i!=null&&i;const o=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,s.length!==0||c?{snapshot:new np(this.query,e.Ra,a,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new zC,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Qt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new n9(r))}),this.da.forEach(r=>{e.has(r)||n.push(new t9(r))}),n}ba(e){this.Ta=e.Ts,this.da=Qt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return np.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Sre{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Are{constructor(e){this.key=e,this.va=!1}}class Nre{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new $p(o=>S$(o),w2),this.Ma=new Map,this.xa=new Set,this.Oa=new gr(gt.comparator),this.Na=new Map,this.La=new YP,this.Ba={},this.ka=new Map,this.qa=tp.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Ere(t,e,n=!0){const r=l9(t);let i;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await r9(r,e,n,!0),i}async function Pre(t,e){const n=l9(t);await r9(n,e,!0,!1)}async function r9(t,e,n,r){const i=await Yne(t.localStore,Qo(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await Tre(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&Y$(t.remoteStore,i),o}async function Tre(t,e,n,r,i){t.Ka=(f,h,p)=>async function(x,v,y,w){let S=v.view.ma(y);S.ns&&(S=await $C(x.localStore,v.query,!1).then(({documents:I})=>v.view.ma(I,S)));const E=w&&w.targetChanges.get(v.targetId),P=w&&w.targetMismatches.get(v.targetId)!=null,R=v.view.applyChanges(S,x.isPrimaryClient,E,P);return GC(x,v.targetId,R.wa),R.snapshot}(t,f,h,p);const a=await $C(t.localStore,e,!0),s=new _re(e,a.Ts),o=s.ma(a.documents),l=Sv.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(o,t.isPrimaryClient,l);GC(t,n,c.wa);const u=new Sre(e,n,s);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function kre(t,e,n){const r=Rt(t),i=r.Fa.get(e),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter(s=>!w2(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await yA(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&JP(r.remoteStore,i.targetId),bA(r,i.targetId)}).catch(xv)):(bA(r,i.targetId),await yA(r.localStore,i.targetId,!0))}async function Ire(t,e){const n=Rt(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),JP(n.remoteStore,r.targetId))}async function Cre(t,e,n){const r=Fre(t);try{const i=await function(s,o){const l=Rt(s),c=zn.now(),u=o.reduce((p,b)=>p.add(b.key),Qt());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let b=sc(),x=Qt();return l.cs.getEntries(p,u).next(v=>{b=v,b.forEach((y,w)=>{w.isValidDocument()||(x=x.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,b)).next(v=>{f=v;const y=[];for(const w of o){const S=Zte(w,f.get(w.key).overlayedDocument);S!=null&&y.push(new qu(w.key,S,m$(S.value.mapValue),da.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,y,o)}).next(v=>{h=v;const y=v.applyToLocalDocumentSet(f,x);return l.documentOverlayCache.saveOverlays(p,v.batchId,y)})}).then(()=>({batchId:h.batchId,changes:E$(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let c=s.Ba[s.currentUser.toKey()];c||(c=new gr(un)),c=c.insert(o,l),s.Ba[s.currentUser.toKey()]=c}(r,i.batchId,n),await Nv(r,i.changes),await k2(r.remoteStore)}catch(i){const a=rT(i,"Failed to persist write");n.reject(a)}}async function i9(t,e){const n=Rt(t);try{const r=await Hne(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Na.get(a);s&&(En(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?En(s.va):i.removedDocuments.size>0&&(En(s.va),s.va=!1))}),await Nv(n,r,e)}catch(r){await xv(r)}}function HC(t,e,n){const r=Rt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((a,s)=>{const o=s.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=Rt(s);l.onlineState=o;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.j_)h.Z_(o)&&(c=!0)}),c&&sT(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jre(t,e,n){const r=Rt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),a=i&&i.key;if(a){let s=new gr(gt.comparator);s=s.insert(a,Yi.newNoDocument(a,Ot.min()));const o=Qt().add(a),l=new E2(Ot.min(),new Map,new gr(un),s,o);await i9(r,l),r.Oa=r.Oa.remove(a),r.Na.delete(e),lT(r)}else await yA(r.localStore,e,!1).then(()=>bA(r,e,n)).catch(xv)}async function Ore(t,e){const n=Rt(t),r=e.batch.batchId;try{const i=await Wne(n.localStore,e);s9(n,r,null),a9(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nv(n,i)}catch(i){await xv(i)}}async function Rre(t,e,n){const r=Rt(t);try{const i=await function(s,o){const l=Rt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(En(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);s9(r,e,n),a9(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nv(r,i)}catch(i){await xv(i)}}function a9(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function s9(t,e,n){const r=Rt(t);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function bA(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||o9(t,r)})}function o9(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(JP(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),lT(t))}function GC(t,e,n){for(const r of n)r instanceof t9?(t.La.addReference(r.key,e),Mre(t,r)):r instanceof n9?(ct("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||o9(t,r.key)):kt()}function Mre(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ct("SyncEngine","New document in limbo: "+n),t.xa.add(r),lT(t))}function lT(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new gt(Vn.fromString(e)),r=t.qa.next();t.Na.set(r,new Are(n)),t.Oa=t.Oa.insert(n,r),Y$(t.remoteStore,new cu(Qo(x2(n.path)),r,"TargetPurposeLimboResolution",$P.oe))}}async function Nv(t,e,n){const r=Rt(t),i=[],a=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((o,l)=>{s.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=QP.Wi(l.targetId,c);a.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,c){const u=Rt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$e.forEach(c,h=>$e.forEach(h.$i,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>$e.forEach(h.Ui,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!wv(f))throw f;ct("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.os.get(h),b=p.snapshotVersion,x=p.withLastLimboFreeSnapshotVersion(b);u.os=u.os.insert(h,x)}}}(r.localStore,a))}async function Lre(t,e){const n=Rt(t);if(!n.currentUser.isEqual(e)){ct("SyncEngine","User change. New user:",e.toKey());const r=await W$(n.localStore,e);n.currentUser=e,function(a,s){a.ka.forEach(o=>{o.forEach(l=>{l.reject(new Ye(Me.CANCELLED,s))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nv(n,r.hs)}}function Dre(t,e){const n=Rt(t),r=n.Na.get(e);if(r&&r.va)return Qt().add(r.key);{let i=Qt();const a=n.Ma.get(e);if(!a)return i;for(const s of a){const o=n.Fa.get(s);i=i.unionWith(o.view.Va)}return i}}function l9(t){const e=Rt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=i9.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jre.bind(null,e),e.Ca.d_=xre.bind(null,e.eventManager),e.Ca.$a=wre.bind(null,e.eventManager),e}function Fre(t){const e=Rt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ore.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rre.bind(null,e),e}class Ob{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=P2(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return qne(this.persistence,new Une,e.initialUser,this.serializer)}Ga(e){return new $ne(XP.Zr,this.serializer)}Wa(e){return new Qne}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ob.provider={build:()=>new Ob};class xA{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lre.bind(null,this.syncEngine),await yre(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bre}()}createDatastore(e){const n=P2(e.databaseInfo.databaseId),r=function(a){return new tre(a)}(e.databaseInfo);return function(a,s,o,l){return new ire(a,s,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new sre(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>HC(this.syncEngine,n,0),function(){return VC.D()?new VC:new Jne}())}createSyncEngine(e,n){return function(i,a,s,o,l,c,u){const f=new Nre(i,a,s,o,l,c);return u&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Rt(i);ct("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Av(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}xA.provider={build:()=>new xA};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ac("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $re{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Gi.UNAUTHENTICATED,this.clientId=d$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{ct("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ct("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=rT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function j5(t,e){t.asyncQueue.verifyOperationInProgress(),ct("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await W$(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function KC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Bre(t);ct("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>UC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>UC(e.remoteStore,i)),t._onlineComponents=e}async function Bre(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ct("FirestoreClient","Using user provided OfflineComponentProvider");try{await j5(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Me.FAILED_PRECONDITION||i.code===Me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Qh("Error using user provided cache. Falling back to memory cache: "+n),await j5(t,new Ob)}}else ct("FirestoreClient","Using default OfflineComponentProvider"),await j5(t,new Ob);return t._offlineComponents}async function c9(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ct("FirestoreClient","Using user provided OnlineComponentProvider"),await KC(t,t._uninitializedComponentsProvider._online)):(ct("FirestoreClient","Using default OnlineComponentProvider"),await KC(t,new xA))),t._onlineComponents}function Vre(t){return c9(t).then(e=>e.syncEngine)}async function Rb(t){const e=await c9(t),n=e.eventManager;return n.onListen=Ere.bind(null,e.syncEngine),n.onUnlisten=kre.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Pre.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Ire.bind(null,e.syncEngine),n}function Ure(t,e,n={}){const r=new Wl;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const u=new cT({next:h=>{u.Za(),s.enqueueAndForget(()=>aT(a,f));const p=h.docs.has(o);!p&&h.fromCache?c.reject(new Ye(Me.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new Ye(Me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new oT(x2(o.path),u,{includeMetadataChanges:!0,_a:!0});return iT(a,f)}(await Rb(t),t.asyncQueue,e,n,r)),r.promise}function zre(t,e,n={}){const r=new Wl;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const u=new cT({next:h=>{u.Za(),s.enqueueAndForget(()=>aT(a,f)),h.fromCache&&l.source==="server"?c.reject(new Ye(Me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new oT(o,u,{includeMetadataChanges:!0,_a:!0});return iT(a,f)}(await Rb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(t,e,n){if(!n)throw new Ye(Me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qre(t,e,n,r){if(e===!0&&r===!0)throw new Ye(Me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function XC(t){if(!gt.isDocumentKey(t))throw new Ye(Me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function QC(t){if(gt.isDocumentKey(t))throw new Ye(Me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function I2(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":kt()}function Zi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ye(Me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=I2(t);throw new Ye(Me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ye(Me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ye(Me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qre("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=u9((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ye(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ye(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ye(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ev{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JC({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ye(Me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ye(Me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JC(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ote;switch(r.type){case"firstParty":return new fte(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ye(Me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=YC.get(n);r&&(ct("ComponentProvider","Removing Datastore"),YC.delete(n),r.terminate())}(this),Promise.resolve()}}function Wre(t,e,n,r={}){var i;const a=(t=Zi(t,Ev))._getSettings(),s=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==s&&Qh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=Gi.MOCK_USER;else{o=yQ(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Ye(Me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Gi(c)}t._authCredentials=new lte(new f$(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ul(this.firestore,e,this._query)}}class ea{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ea(this.firestore,e,this._key)}}class Nu extends ul{constructor(e,n,r){super(e,n,x2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ea(this.firestore,null,new gt(e))}withConverter(e){return new Nu(this.firestore,e,this._path)}}function Er(t,e,...n){if(t=Nr(t),uT("collection","path",e),t instanceof Ev){const r=Vn.fromString(e,...n);return QC(r),new Nu(t,null,r)}{if(!(t instanceof ea||t instanceof Nu))throw new Ye(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vn.fromString(e,...n));return QC(r),new Nu(t.firestore,null,r)}}function fT(t,e){if(t=Zi(t,Ev),uT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ye(Me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ul(t,null,function(r){return new pd(Vn.emptyPath(),r)}(e))}function yn(t,e,...n){if(t=Nr(t),arguments.length===1&&(e=d$.newId()),uT("doc","path",e),t instanceof Ev){const r=Vn.fromString(e,...n);return XC(r),new ea(t,null,new gt(r))}{if(!(t instanceof ea||t instanceof Nu))throw new Ye(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vn.fromString(e,...n));return XC(r),new ea(t.firestore,t instanceof Nu?t.converter:null,new gt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new G$(this,"async_queue_retry"),this.Vu=()=>{const r=C5();r&&ct("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=C5();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=C5();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Wl;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!wv(e))throw e;ct("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw ac("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=nT.createAndSchedule(this,e,n,r,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&kt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function ej(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class il extends Ev{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ZC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ZC(e),this._firestoreClient=void 0,await e}}}function Hre(t,e){const n=typeof t=="object"?t:_F(),r=typeof t=="string"?t:"(default)",i=TP(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=mQ("firestore");a&&Wre(i,...a)}return i}function Pv(t){if(t._terminated)throw new Ye(Me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Gre(t),t._firestoreClient}function Gre(t){var e,n,r;const i=t._freezeSettings(),a=function(o,l,c,u){return new Ate(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u9(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new $re(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rp(ji.fromBase64String(e))}catch(n){throw new Ye(Me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new rp(ji.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ye(Me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ye(Me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ye(Me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return un(this._lat,e._lat)||un(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kre=/^__.*__$/;class Yre{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qu(e,this.data,this.fieldMask,n,this.fieldTransforms):new _v(e,this.data,n,this.fieldTransforms)}}class f9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function d9(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw kt()}}class pT{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new pT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Mb(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(d9(this.Cu)&&Kre.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Xre{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||P2(e)}Qu(e,n,r,i=!1){return new pT({Cu:e,methodName:n,qu:r,path:Pi.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kv(t){const e=t._freezeSettings(),n=P2(t._databaseId);return new Xre(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mT(t,e,n,r,i,a={}){const s=t.Qu(a.merge||a.mergeFields?2:0,e,n,i);yT("Data must be an object, but it was:",s,r);const o=m9(r,s);let l,c;if(a.merge)l=new Ya(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const u=[];for(const f of a.mergeFields){const h=wA(e,f,n);if(!s.contains(h))throw new Ye(Me.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);y9(u,h)||u.push(h)}l=new Ya(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new Yre(new wa(o),l,c)}class j2 extends C2{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof j2}}class gT extends C2{_toFieldTransform(e){return new Yte(e.path,new my)}isEqual(e){return e instanceof gT}}function h9(t,e,n,r){const i=t.Qu(1,e,n);yT("Data must be an object, but it was:",i,r);const a=[],s=wa.empty();hd(r,(l,c)=>{const u=vT(e,l,n);c=Nr(c);const f=i.Nu(u);if(c instanceof j2)a.push(u);else{const h=Iv(c,f);h!=null&&(a.push(u),s.set(u,h))}});const o=new Ya(a);return new f9(s,o,i.fieldTransforms)}function p9(t,e,n,r,i,a){const s=t.Qu(1,e,n),o=[wA(e,r,n)],l=[i];if(a.length%2!=0)throw new Ye(Me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)o.push(wA(e,a[h])),l.push(a[h+1]);const c=[],u=wa.empty();for(let h=o.length-1;h>=0;--h)if(!y9(c,o[h])){const p=o[h];let b=l[h];b=Nr(b);const x=s.Nu(p);if(b instanceof j2)c.push(p);else{const v=Iv(b,x);v!=null&&(c.push(p),u.set(p,v))}}const f=new Ya(c);return new f9(u,f,s.fieldTransforms)}function Qre(t,e,n,r=!1){return Iv(n,t.Qu(r?4:3,e))}function Iv(t,e){if(g9(t=Nr(t)))return yT("Unsupported field value:",e,t),m9(t,e);if(t instanceof C2)return function(r,i){if(!d9(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=Iv(o,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Nr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Hte(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=zn.fromDate(r);return{timestampValue:Cb(i.serializer,a)}}if(r instanceof zn){const a=new zn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cb(i.serializer,a)}}if(r instanceof dT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof rp)return{bytesValue:F$(i.serializer,r._byteString)};if(r instanceof ea){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:KP(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof hT)return function(s,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return WP(o.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${I2(r)}`)}(t,e)}function m9(t,e){const n={};return h$(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hd(t,(r,i)=>{const a=Iv(i,e.Mu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function g9(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zn||t instanceof dT||t instanceof rp||t instanceof ea||t instanceof C2||t instanceof hT)}function yT(t,e,n){if(!g9(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=I2(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function wA(t,e,n){if((e=Nr(e))instanceof Tv)return e._internalPath;if(typeof e=="string")return vT(t,e);throw Mb("Field path arguments must be of type string or ",t,!1,void 0,n)}const Jre=new RegExp("[~\\*/\\[\\]]");function vT(t,e,n){if(e.search(Jre)>=0)throw Mb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tv(...e.split("."))._internalPath}catch{throw Mb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mb(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Ye(Me.INVALID_ARGUMENT,o+t+l)}function y9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ea(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Zre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(O2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Zre extends v9{data(){return super.data()}}function O2(t,e){return typeof e=="string"?vT(t,e):e instanceof Tv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ye(Me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bT{}class xT extends bT{}function mi(t,e,...n){let r=[];e instanceof bT&&r.push(e),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof wT).length,o=a.filter(l=>l instanceof R2).length;if(s>1||s>0&&o>0)throw new Ye(Me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class R2 extends xT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new R2(e,n,r)}_apply(e){const n=this._parse(e);return x9(e._query,n),new ul(e.firestore,e.converter,dA(e._query,n))}_parse(e){const n=kv(e.firestore);return function(a,s,o,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ye(Me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){nj(f,u);const p=[];for(const b of f)p.push(tj(l,a,b));h={arrayValue:{values:p}}}else h=tj(l,a,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||nj(f,u),h=Qre(o,s,f,u==="in"||u==="not-in");return Hr.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function pr(t,e,n){const r=e,i=O2("where",t);return R2._create(i,r,n)}class wT extends bT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wT(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ho.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)x9(s,l),s=dA(s,l)}(e._query,n),new ul(e.firestore,e.converter,dA(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _T extends xT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new _T(e,n)}_apply(e){const n=function(i,a,s){if(i.startAt!==null)throw new Ye(Me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ye(Me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new py(a,s)}(e._query,this._field,this._direction);return new ul(e.firestore,e.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new pd(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function gd(t,e="asc"){const n=e,r=O2("orderBy",t);return _T._create(r,n)}class ST extends xT{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ST(e,n,r)}_apply(e){return new ul(e.firestore,e.converter,kb(e._query,this._limit,this._limitType))}}function eie(t){return ST._create("limit",t,"F")}function tj(t,e,n){if(typeof(n=Nr(n))=="string"){if(n==="")throw new Ye(Me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_$(e)&&n.indexOf("/")!==-1)throw new Ye(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Vn.fromString(n));if(!gt.isDocumentKey(r))throw new Ye(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _C(t,new gt(r))}if(n instanceof ea)return _C(t,n._key);throw new Ye(Me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${I2(n)}.`)}function nj(t,e){if(!Array.isArray(t)||t.length===0)throw new Ye(Me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function x9(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ye(Me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ye(Me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class tie{convertValue(e,n="none"){switch(td(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ed(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw kt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return hd(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Mr(s.doubleValue));return new hT(a)}convertGeoPoint(e){return new dT(Mr(e.latitude),Mr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=VP(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fy(e));default:return null}}convertTimestamp(e){const n=Cu(e);return new zn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Vn.fromString(e);En(q$(r));const i=new dy(r.get(1),r.get(3)),a=new gt(r.popFirst(5));return i.isEqual(n)||ac(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class w9 extends v9{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new L1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(O2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class L1 extends w9{data(e={}){return super.data(e)}}class _9{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ug(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new L1(this._firestore,this._userDataWriter,r.key,r,new ug(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ye(Me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new L1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new ug(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new L1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new ug(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:nie(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nie(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return kt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(t){t=Zi(t,ea);const e=Zi(t.firestore,il);return Ure(Pv(e),t._key).then(n=>S9(e,t,n))}class NT extends tie{constructor(e){super(),this.firestore=e}convertBytes(e){return new rp(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ea(this.firestore,null,n)}}function Vp(t){t=Zi(t,ul);const e=Zi(t.firestore,il),n=Pv(e),r=new NT(e);return b9(t._query),zre(n,t._query).then(i=>new _9(e,r,t,i))}function ET(t,e,n){t=Zi(t,ea);const r=Zi(t.firestore,il),i=AT(t.converter,e,n);return Cv(r,[mT(kv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,da.none())])}function Pa(t,e,n,...r){t=Zi(t,ea);const i=Zi(t.firestore,il),a=kv(i);let s;return s=typeof(e=Nr(e))=="string"||e instanceof Tv?p9(a,"updateDoc",t._key,e,n,r):h9(a,"updateDoc",t._key,e),Cv(i,[s.toMutation(t._key,da.exists(!0))])}function PT(t){return Cv(Zi(t.firestore,il),[new N2(t._key,da.none())])}function Up(t,e){const n=Zi(t.firestore,il),r=yn(t),i=AT(t.converter,e);return Cv(n,[mT(kv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,da.exists(!1))]).then(()=>r)}function Bs(t,...e){var n,r,i;t=Nr(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||ej(e[s])||(a=e[s],s++);const o={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(ej(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,u;if(t instanceof ea)c=Zi(t.firestore,il),u=x2(t._key.path),l={next:f=>{e[s]&&e[s](S9(c,t,f))},error:e[s+1],complete:e[s+2]};else{const f=Zi(t,ul);c=Zi(f.firestore,il),u=f._query;const h=new NT(c);l={next:p=>{e[s]&&e[s](new _9(c,h,f,p))},error:e[s+1],complete:e[s+2]},b9(t._query)}return function(h,p,b,x){const v=new cT(x),y=new oT(p,v,b);return h.asyncQueue.enqueueAndForget(async()=>iT(await Rb(h),y)),()=>{v.Za(),h.asyncQueue.enqueueAndForget(async()=>aT(await Rb(h),y))}}(Pv(c),u,o,l)}function Cv(t,e){return function(r,i){const a=new Wl;return r.asyncQueue.enqueueAndForget(async()=>Cre(await Vre(r),i,a)),a.promise}(Pv(t),e)}function S9(t,e,n){const r=n.docs.get(e._key),i=new NT(t);return new w9(t,i,e._key,r,new ug(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rie{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=kv(e)}set(e,n,r){this._verifyNotCommitted();const i=O5(e,this._firestore),a=AT(i.converter,n,r),s=mT(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,da.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=O5(e,this._firestore);let s;return s=typeof(n=Nr(n))=="string"||n instanceof Tv?p9(this._dataReader,"WriteBatch.update",a._key,n,r,i):h9(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,da.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=O5(e,this._firestore);return this._mutations=this._mutations.concat(new N2(n._key,da.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ye(Me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function O5(t,e){if((t=Nr(t)).firestore!==e)throw new Ye(Me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function rr(){return new gT("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iie(t){return Pv(t=Zi(t,il)),new rie(t,e=>Cv(t,e))}(function(e,n=!0){(function(i){Fp=i})(Lp),Yh(new Xf("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new il(new cte(r.getProvider("auth-internal")),new hte(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ye(Me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dy(c.options.projectId,u)}(s,i),s);return a=Object.assign({useFetchStreams:n},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Au(yC,"4.7.3",e),Au(yC,"4.7.3","esm2017")})();const aie={apiKey:"AIzaSyAUoBd0RUQgHCmC5gVh3CcAU6rNgjW00nw",authDomain:"leaseease-updated.firebaseapp.com",projectId:"leaseease-updated",storageBucket:"leaseease-updated.firebasestorage.app",messagingSenderId:"608675835471",appId:"1:608675835471:web:6e1ee6d75c1eed7a39c43a"},A9=GI().length?GI()[0]:wF(aie),jv=ate(A9),yt=Hre(A9),sie=async({email:t,password:e,fullName:n,phone:r,countryCode:i,role:a="landlord"})=>{const{user:s}=await VZ(jv,t,e);return await qZ(s,{displayName:n}),await ET(yn(yt,"users",s.uid),{uid:s.uid,email:t,fullName:n,phone:r||"",countryCode:i||"NG",role:a,createdAt:rr(),updatedAt:rr()}),s},oie=(t,e)=>UZ(jv,t,e),lie=()=>KZ(jv),N9=t=>BZ(jv,t),cie=t=>GZ(jv,t),E9=async t=>{const e=await al(yn(yt,"users",t));return e.exists()?e.data():null},uie=(t,e)=>Pa(yn(yt,"users",t),{...e,updatedAt:rr()}),P9=(t,e)=>Up(Er(yt,"users",t,"properties"),{...e,ownerId:t,createdAt:rr(),updatedAt:rr()}),fie=(t,e)=>PT(yn(yt,"users",t,"properties",e)),Ov=(t,e)=>Bs(mi(Er(yt,"users",t,"properties"),gd("createdAt","desc")),n=>e(n.docs.map(r=>({id:r.id,...r.data()})))),T9=(t,e,n)=>Bs(mi(Er(yt,"users",t,"properties",e,"payments"),gd("paidDate","desc")),r=>n(r.docs.map(i=>({id:i.id,...i.data()})))),k9=(t,e)=>Bs(mi(fT(yt,"payments"),pr("tenantId","==",t)),n=>{const r=n.docs.map(i=>({id:i.id,...i.data()}));r.sort((i,a)=>{var s,o,l,c;return(((o=(s=a.paidDate)==null?void 0:s.toMillis)==null?void 0:o.call(s))||0)-(((c=(l=i.paidDate)==null?void 0:l.toMillis)==null?void 0:c.call(l))||0)}),e(r)},n=>console.error("Error subscribing to payments:",n)),I9=(t,e)=>Up(Er(yt,"users",t,"reminders"),{...e,createdAt:rr(),status:"pending"}),_A=(t,e,n)=>Pa(yn(yt,"users",t,"reminders",e),n),C9=(t,e)=>PT(yn(yt,"users",t,"reminders",e)),zp=(t,e)=>Bs(mi(Er(yt,"users",t,"reminders"),gd("dueDate","asc")),n=>e(n.docs.map(r=>({id:r.id,...r.data()})))),die=(t,e,n)=>Up(Er(yt,"users",t,"properties",e,"maintenance"),{...n,createdAt:rr(),status:"open"}),hie=(t,e,n,r)=>Pa(yn(yt,"users",t,"properties",e,"maintenance",n),r),pie=(t,e,n)=>Bs(mi(Er(yt,"users",t,"properties",e,"maintenance"),gd("createdAt","desc")),r=>n(r.docs.map(i=>({id:i.id,...i.data()})))),mie=(t,e,n)=>Up(Er(yt,"users",t,"properties",e,"units"),{...n,landlordId:t,createdAt:rr(),updatedAt:rr()}),uh=(t,e,n,r)=>Pa(yn(yt,"users",t,"properties",e,"units",n),{...r,updatedAt:rr()}),j9=(t,e,n)=>Bs(mi(Er(yt,"users",t,"properties",e,"units"),gd("createdAt","desc")),r=>n(r.docs.map(i=>({id:i.id,...i.data()})))),gie=(t,e)=>Bs(mi(fT(yt,"units"),pr("landlordId","==",t),pr("status","==","pending_approval")),n=>e(n.size)),yie=(t,e)=>Bs(mi(fT(yt,"units"),pr("landlordId","==",t),pr("status","==","pending_approval")),n=>e(n.docs.map(r=>{const a=r.ref.path.split("/")[3];return{id:r.id,propertyId:a,...r.data()}}))),vie=async(t,e,n,r={})=>{if(!n||n.length===0)return[];const i=iie(yt),a=Er(yt,"users",t,"properties",e,"units"),s=rr(),o=[];for(const l of n){const c=yn(a);o.push(c),i.set(c,{...r,name:l,status:"vacant",landlordId:t,createdAt:s,updatedAt:s})}return await i.commit(),o.map(l=>l.id)},bie=async(t,e)=>(await Vp(mi(Er(yt,"users",t,"properties",e,"units"),pr("status","==","vacant")))).docs.map(r=>({id:r.id,...r.data()})).sort((r,i)=>(r.name||"").localeCompare(i.name||"")),xie=async(t,e,n,r)=>{const i=yn(yt,"users",t,"properties",e,"units",n),a=await al(i);if(!a.exists())throw new Error("Unit not found.");const s=a.data();if(s.status!=="vacant")throw new Error("Unit is no longer available.");await Pa(i,{status:"pending_approval",pendingTenantId:r.uid,pendingTenantName:r.displayName||"",pendingTenantEmail:r.email||"",pendingRequestedAt:rr(),updatedAt:rr()}),await Up(Er(yt,"users",t,"notifications"),{type:"unit_request",propertyId:e,unitId:n,unitName:s.name||n,tenantId:r.uid,tenantName:r.displayName||"",tenantEmail:r.email||"",createdAt:rr(),read:!1})},O9=(t,e)=>Bs(mi(Er(yt,"users",t,"notifications"),gd("createdAt","desc"),eie(50)),n=>e(n.docs.map(r=>({id:r.id,...r.data()})))),SA=(t,e)=>Pa(yn(yt,"users",t,"notifications",e),{read:!0}),wie=(t,e)=>PT(yn(yt,"users",t,"notifications",e)),_ie=(t,e)=>Bs(mi(Er(yt,"users",t,"notifications"),pr("read","==",!1)),n=>e(n.size)),R9=U.createContext(null);function Sie({children:t}){const[e,n]=U.useState(null),[r,i]=U.useState(null),[a,s]=U.useState(!0);U.useEffect(()=>cie(async c=>{if(n(c),c){const u=await E9(c.uid);if(i(u),u!=null&&u.countryCode)try{localStorage.setItem("leaseease_locale",JSON.stringify({countryCode:u.countryCode}))}catch{}}else i(null);s(!1)}),[]);const o=()=>lie();return d.jsx(R9.Provider,{value:{user:e,profile:r,loading:a,logout:o},children:t})}const Pr=()=>{const t=U.useContext(R9);if(!t)throw new Error("useAuth must be inside AuthProvider");return t},TT=[{code:"AF",name:"Afghanistan",currency:"AFN",currencyName:"Afghan Afghani",symbol:"",locale:"fa-AF"},{code:"AL",name:"Albania",currency:"ALL",currencyName:"Albanian Lek",symbol:"L",locale:"sq-AL"},{code:"DZ",name:"Algeria",currency:"DZD",currencyName:"Algerian Dinar",symbol:".",locale:"ar-DZ"},{code:"AO",name:"Angola",currency:"AOA",currencyName:"Angolan Kwanza",symbol:"Kz",locale:"pt-AO"},{code:"AR",name:"Argentina",currency:"ARS",currencyName:"Argentine Peso",symbol:"$",locale:"es-AR"},{code:"AM",name:"Armenia",currency:"AMD",currencyName:"Armenian Dram",symbol:"",locale:"hy-AM"},{code:"AU",name:"Australia",currency:"AUD",currencyName:"Australian Dollar",symbol:"A$",locale:"en-AU"},{code:"AT",name:"Austria",currency:"EUR",currencyName:"Euro",symbol:"",locale:"de-AT"},{code:"AZ",name:"Azerbaijan",currency:"AZN",currencyName:"Azerbaijani Manat",symbol:"",locale:"az-AZ"},{code:"BH",name:"Bahrain",currency:"BHD",currencyName:"Bahraini Dinar",symbol:"..",locale:"ar-BH"},{code:"BD",name:"Bangladesh",currency:"BDT",currencyName:"Bangladeshi Taka",symbol:"",locale:"bn-BD"},{code:"BY",name:"Belarus",currency:"BYN",currencyName:"Belarusian Ruble",symbol:"Br",locale:"be-BY"},{code:"BE",name:"Belgium",currency:"EUR",currencyName:"Euro",symbol:"",locale:"nl-BE"},{code:"BJ",name:"Benin",currency:"XOF",currencyName:"West African CFA Franc",symbol:"Fr",locale:"fr-BJ"},{code:"BO",name:"Bolivia",currency:"BOB",currencyName:"Bolivian Boliviano",symbol:"Bs.",locale:"es-BO"},{code:"BA",name:"Bosnia and Herzegovina",currency:"BAM",currencyName:"Bosnian Mark",symbol:"KM",locale:"bs-BA"},{code:"BW",name:"Botswana",currency:"BWP",currencyName:"Botswana Pula",symbol:"P",locale:"en-BW"},{code:"BR",name:"Brazil",currency:"BRL",currencyName:"Brazilian Real",symbol:"R$",locale:"pt-BR"},{code:"BN",name:"Brunei",currency:"BND",currencyName:"Brunei Dollar",symbol:"B$",locale:"ms-BN"},{code:"BG",name:"Bulgaria",currency:"BGN",currencyName:"Bulgarian Lev",symbol:"",locale:"bg-BG"},{code:"BF",name:"Burkina Faso",currency:"XOF",currencyName:"West African CFA Franc",symbol:"Fr",locale:"fr-BF"},{code:"BI",name:"Burundi",currency:"BIF",currencyName:"Burundian Franc",symbol:"Fr",locale:"fr-BI"},{code:"CV",name:"Cabo Verde",currency:"CVE",currencyName:"Cape Verdean Escudo",symbol:"$",locale:"pt-CV"},{code:"KH",name:"Cambodia",currency:"KHR",currencyName:"Cambodian Riel",symbol:"",locale:"km-KH"},{code:"CM",name:"Cameroon",currency:"XAF",currencyName:"Central African CFA",symbol:"Fr",locale:"fr-CM"},{code:"CA",name:"Canada",currency:"CAD",currencyName:"Canadian Dollar",symbol:"C$",locale:"en-CA"},{code:"CF",name:"Central African Rep.",currency:"XAF",currencyName:"Central African CFA",symbol:"Fr",locale:"fr-CF"},{code:"TD",name:"Chad",currency:"XAF",currencyName:"Central African CFA",symbol:"Fr",locale:"fr-TD"},{code:"CL",name:"Chile",currency:"CLP",currencyName:"Chilean Peso",symbol:"$",locale:"es-CL"},{code:"CN",name:"China",currency:"CNY",currencyName:"Chinese Yuan",symbol:"",locale:"zh-CN"},{code:"CO",name:"Colombia",currency:"COP",currencyName:"Colombian Peso",symbol:"$",locale:"es-CO"},{code:"CD",name:"Congo (DRC)",currency:"CDF",currencyName:"Congolese Franc",symbol:"Fr",locale:"fr-CD"},{code:"CR",name:"Costa Rica",currency:"CRC",currencyName:"Costa Rican Coln",symbol:"",locale:"es-CR"},{code:"CI",name:"Cte d'Ivoire",currency:"XOF",currencyName:"West African CFA Franc",symbol:"Fr",locale:"fr-CI"},{code:"HR",name:"Croatia",currency:"EUR",currencyName:"Euro",symbol:"",locale:"hr-HR"},{code:"CU",name:"Cuba",currency:"CUP",currencyName:"Cuban Peso",symbol:"$",locale:"es-CU"},{code:"CY",name:"Cyprus",currency:"EUR",currencyName:"Euro",symbol:"",locale:"el-CY"},{code:"CZ",name:"Czechia",currency:"CZK",currencyName:"Czech Koruna",symbol:"K",locale:"cs-CZ"},{code:"DK",name:"Denmark",currency:"DKK",currencyName:"Danish Krone",symbol:"kr",locale:"da-DK"},{code:"DJ",name:"Djibouti",currency:"DJF",currencyName:"Djiboutian Franc",symbol:"Fr",locale:"fr-DJ"},{code:"DO",name:"Dominican Republic",currency:"DOP",currencyName:"Dominican Peso",symbol:"RD$",locale:"es-DO"},{code:"EC",name:"Ecuador",currency:"USD",currencyName:"US Dollar",symbol:"$",locale:"es-EC"},{code:"EG",name:"Egypt",currency:"EGP",currencyName:"Egyptian Pound",symbol:"E",locale:"ar-EG"},{code:"SV",name:"El Salvador",currency:"USD",currencyName:"US Dollar",symbol:"$",locale:"es-SV"},{code:"GQ",name:"Equatorial Guinea",currency:"XAF",currencyName:"Central African CFA",symbol:"Fr",locale:"es-GQ"},{code:"ER",name:"Eritrea",currency:"ERN",currencyName:"Eritrean Nakfa",symbol:"Nfk",locale:"ti-ER"},{code:"EE",name:"Estonia",currency:"EUR",currencyName:"Euro",symbol:"",locale:"et-EE"},{code:"SZ",name:"Eswatini",currency:"SZL",currencyName:"Swazi Lilangeni",symbol:"L",locale:"en-SZ"},{code:"ET",name:"Ethiopia",currency:"ETB",currencyName:"Ethiopian Birr",symbol:"Br",locale:"am-ET"},{code:"FJ",name:"Fiji",currency:"FJD",currencyName:"Fijian Dollar",symbol:"FJ$",locale:"en-FJ"},{code:"FI",name:"Finland",currency:"EUR",currencyName:"Euro",symbol:"",locale:"fi-FI"},{code:"FR",name:"France",currency:"EUR",currencyName:"Euro",symbol:"",locale:"fr-FR"},{code:"GA",name:"Gabon",currency:"XAF",currencyName:"Central African CFA",symbol:"Fr",locale:"fr-GA"},{code:"GM",name:"Gambia",currency:"GMD",currencyName:"Gambian Dalasi",symbol:"D",locale:"en-GM"},{code:"GE",name:"Georgia",currency:"GEL",currencyName:"Georgian Lari",symbol:"",locale:"ka-GE"},{code:"DE",name:"Germany",currency:"EUR",currencyName:"Euro",symbol:"",locale:"de-DE"},{code:"GH",name:"Ghana",currency:"GHS",currencyName:"Ghanaian Cedi",symbol:"",locale:"en-GH"},{code:"GR",name:"Greece",currency:"EUR",currencyName:"Euro",symbol:"",locale:"el-GR"},{code:"GT",name:"Guatemala",currency:"GTQ",currencyName:"Guatemalan Quetzal",symbol:"Q",locale:"es-GT"},{code:"GN",name:"Guinea",currency:"GNF",currencyName:"Guinean Franc",symbol:"Fr",locale:"fr-GN"},{code:"GW",name:"Guinea-Bissau",currency:"XOF",currencyName:"West African CFA Franc",symbol:"Fr",locale:"pt-GW"},{code:"GY",name:"Guyana",currency:"GYD",currencyName:"Guyanese Dollar",symbol:"G$",locale:"en-GY"},{code:"HT",name:"Haiti",currency:"HTG",currencyName:"Haitian Gourde",symbol:"G",locale:"fr-HT"},{code:"HN",name:"Honduras",currency:"HNL",currencyName:"Honduran Lempira",symbol:"L",locale:"es-HN"},{code:"HK",name:"Hong Kong",currency:"HKD",currencyName:"Hong Kong Dollar",symbol:"HK$",locale:"zh-HK"},{code:"HU",name:"Hungary",currency:"HUF",currencyName:"Hungarian Forint",symbol:"Ft",locale:"hu-HU"},{code:"IS",name:"Iceland",currency:"ISK",currencyName:"Icelandic Krna",symbol:"kr",locale:"is-IS"},{code:"IN",name:"India",currency:"INR",currencyName:"Indian Rupee",symbol:"",locale:"en-IN"},{code:"ID",name:"Indonesia",currency:"IDR",currencyName:"Indonesian Rupiah",symbol:"Rp",locale:"id-ID"},{code:"IR",name:"Iran",currency:"IRR",currencyName:"Iranian Rial",symbol:"",locale:"fa-IR"},{code:"IQ",name:"Iraq",currency:"IQD",currencyName:"Iraqi Dinar",symbol:".",locale:"ar-IQ"},{code:"IE",name:"Ireland",currency:"EUR",currencyName:"Euro",symbol:"",locale:"en-IE"},{code:"IL",name:"Israel",currency:"ILS",currencyName:"Israeli New Shekel",symbol:"",locale:"he-IL"},{code:"IT",name:"Italy",currency:"EUR",currencyName:"Euro",symbol:"",locale:"it-IT"},{code:"JM",name:"Jamaica",currency:"JMD",currencyName:"Jamaican Dollar",symbol:"J$",locale:"en-JM"},{code:"JP",name:"Japan",currency:"JPY",currencyName:"Japanese Yen",symbol:"",locale:"ja-JP"},{code:"JO",name:"Jordan",currency:"JOD",currencyName:"Jordanian Dinar",symbol:"JD",locale:"ar-JO"},{code:"KZ",name:"Kazakhstan",currency:"KZT",currencyName:"Kazakhstani Tenge",symbol:"",locale:"kk-KZ"},{code:"KE",name:"Kenya",currency:"KES",currencyName:"Kenyan Shilling",symbol:"Ksh",locale:"en-KE"},{code:"KW",name:"Kuwait",currency:"KWD",currencyName:"Kuwaiti Dinar",symbol:"KD",locale:"ar-KW"},{code:"KG",name:"Kyrgyzstan",currency:"KGS",currencyName:"Kyrgystani Som",symbol:"",locale:"ky-KG"},{code:"LA",name:"Laos",currency:"LAK",currencyName:"Lao Kip",symbol:"",locale:"lo-LA"},{code:"LV",name:"Latvia",currency:"EUR",currencyName:"Euro",symbol:"",locale:"lv-LV"},{code:"LB",name:"Lebanon",currency:"LBP",currencyName:"Lebanese Pound",symbol:"L",locale:"ar-LB"},{code:"LS",name:"Lesotho",currency:"LSL",currencyName:"Lesotho Loti",symbol:"L",locale:"en-LS"},{code:"LR",name:"Liberia",currency:"LRD",currencyName:"Liberian Dollar",symbol:"L$",locale:"en-LR"},{code:"LY",name:"Libya",currency:"LYD",currencyName:"Libyan Dinar",symbol:"LD",locale:"ar-LY"},{code:"LI",name:"Liechtenstein",currency:"CHF",currencyName:"Swiss Franc",symbol:"Fr",locale:"de-LI"},{code:"LT",name:"Lithuania",currency:"EUR",currencyName:"Euro",symbol:"",locale:"lt-LT"},{code:"LU",name:"Luxembourg",currency:"EUR",currencyName:"Euro",symbol:"",locale:"fr-LU"},{code:"MO",name:"Macao",currency:"MOP",currencyName:"Macanese Pataca",symbol:"P",locale:"zh-MO"},{code:"MG",name:"Madagascar",currency:"MGA",currencyName:"Malagasy Ariary",symbol:"Ar",locale:"mg-MG"},{code:"MW",name:"Malawi",currency:"MWK",currencyName:"Malawian Kwacha",symbol:"MK",locale:"en-MW"},{code:"MY",name:"Malaysia",currency:"MYR",currencyName:"Malaysian Ringgit",symbol:"RM",locale:"ms-MY"},{code:"MV",name:"Maldives",currency:"MVR",currencyName:"Maldivian Rufiyaa",symbol:"Rf",locale:"dv-MV"},{code:"ML",name:"Mali",currency:"XOF",currencyName:"West African CFA Franc",symbol:"Fr",locale:"fr-ML"},{code:"MT",name:"Malta",currency:"EUR",currencyName:"Euro",symbol:"",locale:"mt-MT"},{code:"MR",name:"Mauritania",currency:"MRU",currencyName:"Mauritanian Ouguiya",symbol:"UM",locale:"ar-MR"},{code:"MU",name:"Mauritius",currency:"MUR",currencyName:"Mauritian Rupee",symbol:"Rs",locale:"en-MU"},{code:"MX",name:"Mexico",currency:"MXN",currencyName:"Mexican Peso",symbol:"$",locale:"es-MX"},{code:"MD",name:"Moldova",currency:"MDL",currencyName:"Moldovan Leu",symbol:"L",locale:"ro-MD"},{code:"MC",name:"Monaco",currency:"EUR",currencyName:"Euro",symbol:"",locale:"fr-MC"},{code:"MN",name:"Mongolia",currency:"MNT",currencyName:"Mongolian Tgrg",symbol:"",locale:"mn-MN"},{code:"ME",name:"Montenegro",currency:"EUR",currencyName:"Euro",symbol:"",locale:"sr-ME"},{code:"MA",name:"Morocco",currency:"MAD",currencyName:"Moroccan Dirham",symbol:"MAD",locale:"ar-MA"},{code:"MZ",name:"Mozambique",currency:"MZN",currencyName:"Mozambican Metical",symbol:"MT",locale:"pt-MZ"},{code:"MM",name:"Myanmar",currency:"MMK",currencyName:"Myanmar Kyat",symbol:"K",locale:"my-MM"},{code:"NA",name:"Namibia",currency:"NAD",currencyName:"Namibian Dollar",symbol:"N$",locale:"en-NA"},{code:"NP",name:"Nepal",currency:"NPR",currencyName:"Nepalese Rupee",symbol:"Rs",locale:"ne-NP"},{code:"NL",name:"Netherlands",currency:"EUR",currencyName:"Euro",symbol:"",locale:"nl-NL"},{code:"NZ",name:"New Zealand",currency:"NZD",currencyName:"New Zealand Dollar",symbol:"NZ$",locale:"en-NZ"},{code:"NI",name:"Nicaragua",currency:"NIO",currencyName:"Nicaraguan Crdoba",symbol:"C$",locale:"es-NI"},{code:"NE",name:"Niger",currency:"XOF",currencyName:"West African CFA Franc",symbol:"Fr",locale:"fr-NE"},{code:"NG",name:"Nigeria",currency:"NGN",currencyName:"Nigerian Naira",symbol:"",locale:"en-NG"},{code:"NO",name:"Norway",currency:"NOK",currencyName:"Norwegian Krone",symbol:"kr",locale:"no-NO"},{code:"OM",name:"Oman",currency:"OMR",currencyName:"Omani Rial",symbol:"R.O",locale:"ar-OM"},{code:"PK",name:"Pakistan",currency:"PKR",currencyName:"Pakistani Rupee",symbol:"Rs",locale:"ur-PK"},{code:"PA",name:"Panama",currency:"PAB",currencyName:"Panamanian Balboa",symbol:"B/.",locale:"es-PA"},{code:"PG",name:"Papua New Guinea",currency:"PGK",currencyName:"Papua New Guinean Kina",symbol:"K",locale:"en-PG"},{code:"PY",name:"Paraguay",currency:"PYG",currencyName:"Paraguayan Guaran",symbol:"",locale:"es-PY"},{code:"PE",name:"Peru",currency:"PEN",currencyName:"Peruvian Sol",symbol:"S/.",locale:"es-PE"},{code:"PH",name:"Philippines",currency:"PHP",currencyName:"Philippine Peso",symbol:"",locale:"en-PH"},{code:"PL",name:"Poland",currency:"PLN",currencyName:"Polish Zoty",symbol:"z",locale:"pl-PL"},{code:"PT",name:"Portugal",currency:"EUR",currencyName:"Euro",symbol:"",locale:"pt-PT"},{code:"QA",name:"Qatar",currency:"QAR",currencyName:"Qatari Riyal",symbol:"QR",locale:"ar-QA"},{code:"RO",name:"Romania",currency:"RON",currencyName:"Romanian Leu",symbol:"lei",locale:"ro-RO"},{code:"RU",name:"Russia",currency:"RUB",currencyName:"Russian Ruble",symbol:"",locale:"ru-RU"},{code:"RW",name:"Rwanda",currency:"RWF",currencyName:"Rwandan Franc",symbol:"Fr",locale:"rw-RW"},{code:"SA",name:"Saudi Arabia",currency:"SAR",currencyName:"Saudi Riyal",symbol:"SR",locale:"ar-SA"},{code:"SN",name:"Senegal",currency:"XOF",currencyName:"West African CFA Franc",symbol:"Fr",locale:"fr-SN"},{code:"RS",name:"Serbia",currency:"RSD",currencyName:"Serbian Dinar",symbol:"din",locale:"sr-RS"},{code:"SL",name:"Sierra Leone",currency:"SLL",currencyName:"Sierra Leonean Leone",symbol:"Le",locale:"en-SL"},{code:"SG",name:"Singapore",currency:"SGD",currencyName:"Singapore Dollar",symbol:"S$",locale:"en-SG"},{code:"SK",name:"Slovakia",currency:"EUR",currencyName:"Euro",symbol:"",locale:"sk-SK"},{code:"SI",name:"Slovenia",currency:"EUR",currencyName:"Euro",symbol:"",locale:"sl-SI"},{code:"SO",name:"Somalia",currency:"SOS",currencyName:"Somali Shilling",symbol:"Sh",locale:"so-SO"},{code:"ZA",name:"South Africa",currency:"ZAR",currencyName:"South African Rand",symbol:"R",locale:"en-ZA"},{code:"SS",name:"South Sudan",currency:"SSP",currencyName:"South Sudanese Pound",symbol:"",locale:"en-SS"},{code:"ES",name:"Spain",currency:"EUR",currencyName:"Euro",symbol:"",locale:"es-ES"},{code:"LK",name:"Sri Lanka",currency:"LKR",currencyName:"Sri Lankan Rupee",symbol:"Rs",locale:"si-LK"},{code:"SD",name:"Sudan",currency:"SDG",currencyName:"Sudanese Pound",symbol:".",locale:"ar-SD"},{code:"SE",name:"Sweden",currency:"SEK",currencyName:"Swedish Krona",symbol:"kr",locale:"sv-SE"},{code:"CH",name:"Switzerland",currency:"CHF",currencyName:"Swiss Franc",symbol:"Fr",locale:"de-CH"},{code:"SY",name:"Syria",currency:"SYP",currencyName:"Syrian Pound",symbol:"",locale:"ar-SY"},{code:"TW",name:"Taiwan",currency:"TWD",currencyName:"New Taiwan Dollar",symbol:"NT$",locale:"zh-TW"},{code:"TJ",name:"Tajikistan",currency:"TJS",currencyName:"Tajikistani Somoni",symbol:"SM",locale:"tg-TJ"},{code:"TZ",name:"Tanzania",currency:"TZS",currencyName:"Tanzanian Shilling",symbol:"Sh",locale:"sw-TZ"},{code:"TH",name:"Thailand",currency:"THB",currencyName:"Thai Baht",symbol:"",locale:"th-TH"},{code:"TL",name:"Timor-Leste",currency:"USD",currencyName:"US Dollar",symbol:"$",locale:"pt-TL"},{code:"TG",name:"Togo",currency:"XOF",currencyName:"West African CFA Franc",symbol:"Fr",locale:"fr-TG"},{code:"TT",name:"Trinidad and Tobago",currency:"TTD",currencyName:"Trinidad Dollar",symbol:"TT$",locale:"en-TT"},{code:"TN",name:"Tunisia",currency:"TND",currencyName:"Tunisian Dinar",symbol:"DT",locale:"ar-TN"},{code:"TR",name:"Turkey",currency:"TRY",currencyName:"Turkish Lira",symbol:"",locale:"tr-TR"},{code:"TM",name:"Turkmenistan",currency:"TMT",currencyName:"Turkmenistani Manat",symbol:"T",locale:"tk-TM"},{code:"UG",name:"Uganda",currency:"UGX",currencyName:"Ugandan Shilling",symbol:"Sh",locale:"en-UG"},{code:"UA",name:"Ukraine",currency:"UAH",currencyName:"Ukrainian Hryvnia",symbol:"",locale:"uk-UA"},{code:"AE",name:"United Arab Emirates",currency:"AED",currencyName:"UAE Dirham",symbol:"AED",locale:"ar-AE"},{code:"GB",name:"United Kingdom",currency:"GBP",currencyName:"British Pound",symbol:"",locale:"en-GB"},{code:"US",name:"United States",currency:"USD",currencyName:"US Dollar",symbol:"$",locale:"en-US"},{code:"UY",name:"Uruguay",currency:"UYU",currencyName:"Uruguayan Peso",symbol:"$U",locale:"es-UY"},{code:"UZ",name:"Uzbekistan",currency:"UZS",currencyName:"Uzbekistani Som",symbol:"",locale:"uz-UZ"},{code:"VE",name:"Venezuela",currency:"VES",currencyName:"Venezuelan Bolvar",symbol:"Bs.S",locale:"es-VE"},{code:"VN",name:"Vietnam",currency:"VND",currencyName:"Vietnamese ng",symbol:"",locale:"vi-VN"},{code:"YE",name:"Yemen",currency:"YER",currencyName:"Yemeni Rial",symbol:"",locale:"ar-YE"},{code:"ZM",name:"Zambia",currency:"ZMW",currencyName:"Zambian Kwacha",symbol:"ZK",locale:"en-ZM"},{code:"ZW",name:"Zimbabwe",currency:"ZWL",currencyName:"Zimbabwean Dollar",symbol:"Z$",locale:"en-ZW"}];function nd(t){return t?t.toUpperCase().split("").map(e=>String.fromCodePoint(e.charCodeAt(0)+127397)).join(""):""}function D0(t){return TT.find(e=>e.code===t)||null}function rj(t,e="USD",n="en-US"){if(t==null||isNaN(t))return"";try{return new Intl.NumberFormat(n,{style:"currency",currency:e,minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}catch{const r=TT.find(i=>i.currency===e);return`${(r==null?void 0:r.symbol)??""}${Number(t).toLocaleString()}`}}const M9=U.createContext(null),ij="leaseease_locale",aj={countryCode:"NG"};function Aie({children:t}){const[e,n]=U.useState(()=>{try{const o=localStorage.getItem(ij);if(o){const l=JSON.parse(o);if(D0(l.countryCode))return l.countryCode}}catch{}return aj.countryCode}),r=D0(e)??D0(aj.countryCode);U.useEffect(()=>{localStorage.setItem(ij,JSON.stringify({countryCode:e}))},[e]);const i=U.useCallback(o=>rj(o,r.currency,r.locale),[r]),a=U.useCallback((o,l="monthly")=>{if(!o&&o!==0)return"";const c={daily:"day",weekly:"week",monthly:"month",yearly:"year"};return`${rj(o,r.currency,r.locale)}/${c[l]??"month"}`},[r]),s=U.useCallback(o=>{D0(o)&&n(o)},[]);return d.jsx(M9.Provider,{value:{countryCode:e,country:r,currency:r.currency,currencyName:r.currencyName,currencySymbol:r.symbol,locale:r.locale,fmt:i,fmtRent:a,changeCountry:s,countries:TT},children:t})}function gi(){const t=U.useContext(M9);if(!t)throw new Error("useLocale must be inside LocaleProvider");return t}const kT=U.createContext({});function IT(t){const e=U.useRef(null);return e.current===null&&(e.current=t()),e.current}const M2=U.createContext(null),CT=U.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Nie extends U.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Eie({children:t,isPresent:e}){const n=U.useId(),r=U.useRef(null),i=U.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=U.useContext(CT);return U.useInsertionEffect(()=>{const{width:s,height:o,top:l,left:c}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return a&&(u.nonce=a),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),d.jsx(Nie,{isPresent:e,childRef:r,sizeRef:i,children:U.cloneElement(t,{ref:r})})}const Pie=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:s})=>{const o=IT(Tie),l=U.useId(),c=U.useCallback(f=>{o.set(f,!0);for(const h of o.values())if(!h)return;r&&r()},[o,r]),u=U.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c,register:f=>(o.set(f,!1),()=>o.delete(f))}),a?[Math.random(),c]:[n,c]);return U.useMemo(()=>{o.forEach((f,h)=>o.set(h,!1))},[n]),U.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),s==="popLayout"&&(t=d.jsx(Eie,{isPresent:n,children:t})),d.jsx(M2.Provider,{value:u,children:t})};function Tie(){return new Map}function L9(t=!0){const e=U.useContext(M2);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=U.useId();U.useEffect(()=>{t&&i(a)},[t]);const s=U.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,s]:[!0]}const F0=t=>t.key||"";function sj(t){const e=[];return U.Children.forEach(t,n=>{U.isValidElement(n)&&e.push(n)}),e}const jT=typeof window<"u",D9=jT?U.useLayoutEffect:U.useEffect,po=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1})=>{const[o,l]=L9(s),c=U.useMemo(()=>sj(t),[t]),u=s&&!o?[]:c.map(F0),f=U.useRef(!0),h=U.useRef(c),p=IT(()=>new Map),[b,x]=U.useState(c),[v,y]=U.useState(c);D9(()=>{f.current=!1,h.current=c;for(let E=0;E<v.length;E++){const P=F0(v[E]);u.includes(P)?p.delete(P):p.get(P)!==!0&&p.set(P,!1)}},[v,u.length,u.join("-")]);const w=[];if(c!==b){let E=[...c];for(let P=0;P<v.length;P++){const R=v[P],I=F0(R);u.includes(I)||(E.splice(P,0,R),w.push(R))}a==="wait"&&w.length&&(E=w),y(sj(E)),x(c);return}const{forceRender:S}=U.useContext(kT);return d.jsx(d.Fragment,{children:v.map(E=>{const P=F0(E),R=s&&!o?!1:c===v||u.includes(P),I=()=>{if(p.has(P))p.set(P,!0);else return;let A=!0;p.forEach(N=>{N||(A=!1)}),A&&(S==null||S(),y(h.current),s&&(l==null||l()),r&&r())};return d.jsx(Pie,{isPresent:R,initial:!f.current||n?void 0:!1,custom:R?void 0:e,presenceAffectsLayout:i,mode:a,onExitComplete:R?void 0:I,children:E},P)})})},Za=t=>t;let F9=Za;function OT(t){let e;return()=>(e===void 0&&(e=t()),e)}const ip=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Hl=t=>t*1e3,Gl=t=>t/1e3,kie={useManualTiming:!1};function Iie(t){let e=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function o(c){a.has(c)&&(l.schedule(c),t()),c(s)}const l={schedule:(c,u=!1,f=!1)=>{const p=f&&r?e:n;return u&&a.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),a.delete(c)},process:c=>{if(s=c,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(o),e.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const $0=["read","resolveKeyframes","update","preRender","render","postRender"],Cie=40;function $9(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=$0.reduce((y,w)=>(y[w]=Iie(a),y),{}),{read:o,resolveKeyframes:l,update:c,preRender:u,render:f,postRender:h}=s,p=()=>{const y=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,Cie),1),i.timestamp=y,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),f.process(i),h.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(p))},b=()=>{n=!0,r=!0,i.isProcessing||t(p)};return{schedule:$0.reduce((y,w)=>{const S=s[w];return y[w]=(E,P=!1,R=!1)=>(n||b(),S.schedule(E,P,R)),y},{}),cancel:y=>{for(let w=0;w<$0.length;w++)s[$0[w]].cancel(y)},state:i,steps:s}}const{schedule:Qn,cancel:Ou,state:Ni,steps:R5}=$9(typeof requestAnimationFrame<"u"?requestAnimationFrame:Za,!0),B9=U.createContext({strict:!1}),oj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ap={};for(const t in oj)ap[t]={isEnabled:e=>oj[t].some(n=>!!e[n])};function jie(t){for(const e in t)ap[e]={...ap[e],...t[e]}}const Oie=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Lb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Oie.has(t)}let V9=t=>!Lb(t);function Rie(t){t&&(V9=e=>e.startsWith("on")?!Lb(e):t(e))}try{Rie(require("@emotion/is-prop-valid").default)}catch{}function Mie(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(V9(i)||n===!0&&Lb(i)||!e&&!Lb(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Lie(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const L2=U.createContext({});function vy(t){return typeof t=="string"||Array.isArray(t)}function D2(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const RT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],MT=["initial",...RT];function F2(t){return D2(t.animate)||MT.some(e=>vy(t[e]))}function U9(t){return!!(F2(t)||t.variants)}function Die(t,e){if(F2(t)){const{initial:n,animate:r}=t;return{initial:n===!1||vy(n)?n:void 0,animate:vy(r)?r:void 0}}return t.inherit!==!1?e:{}}function Fie(t){const{initial:e,animate:n}=Die(t,U.useContext(L2));return U.useMemo(()=>({initial:e,animate:n}),[lj(e),lj(n)])}function lj(t){return Array.isArray(t)?t.join(" "):t}const $ie=Symbol.for("motionComponentSymbol");function fh(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Bie(t,e,n){return U.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):fh(n)&&(n.current=r))},[e])}const LT=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Vie="framerAppearId",z9="data-"+LT(Vie),{schedule:DT}=$9(queueMicrotask,!1),q9=U.createContext({});function Uie(t,e,n,r,i){var a,s;const{visualElement:o}=U.useContext(L2),l=U.useContext(B9),c=U.useContext(M2),u=U.useContext(CT).reducedMotion,f=U.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=f.current,p=U.useContext(q9);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&zie(f.current,n,i,p);const b=U.useRef(!1);U.useInsertionEffect(()=>{h&&b.current&&h.update(n,c)});const x=n[z9],v=U.useRef(!!x&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,x))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,x)));return D9(()=>{h&&(b.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),DT.render(h.render),v.current&&h.animationState&&h.animationState.animateChanges())}),U.useEffect(()=>{h&&(!v.current&&h.animationState&&h.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,x)}),v.current=!1))}),h}function zie(t,e,n,r){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:W9(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&fh(o),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function W9(t){if(t)return t.options.allowProjection!==!1?t.projection:W9(t.parent)}function qie({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,s;t&&jie(t);function o(c,u){let f;const h={...U.useContext(CT),...c,layoutId:Wie(c)},{isStatic:p}=h,b=Fie(c),x=r(c,p);if(!p&&jT){Hie();const v=Gie(h);f=v.MeasureLayout,b.visualElement=Uie(i,x,h,e,v.ProjectionNode)}return d.jsxs(L2.Provider,{value:b,children:[f&&b.visualElement?d.jsx(f,{visualElement:b.visualElement,...h}):null,n(i,c,Bie(x,b.visualElement,u),x,p,b.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(s=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&s!==void 0?s:""})`}`;const l=U.forwardRef(o);return l[$ie]=i,l}function Wie({layoutId:t}){const e=U.useContext(kT).id;return e&&t!==void 0?e+"-"+t:t}function Hie(t,e){U.useContext(B9).strict}function Gie(t){const{drag:e,layout:n}=ap;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Kie=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function FT(t){return typeof t!="string"||t.includes("-")?!1:!!(Kie.indexOf(t)>-1||/[A-Z]/u.test(t))}function cj(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function $T(t,e,n,r){if(typeof e=="function"){const[i,a]=cj(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=cj(r);e=e(n!==void 0?n:t.custom,i,a)}return e}const AA=t=>Array.isArray(t),Yie=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Xie=t=>AA(t)?t[t.length-1]||0:t,Ji=t=>!!(t&&t.getVelocity);function D1(t){const e=Ji(t)?t.get():t;return Yie(e)?e.toValue():e}function Qie({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,a){const s={latestValues:Jie(r,i,a,t),renderState:e()};return n&&(s.onMount=o=>n({props:r,current:o,...s}),s.onUpdate=o=>n(o)),s}const H9=t=>(e,n)=>{const r=U.useContext(L2),i=U.useContext(M2),a=()=>Qie(t,e,r,i);return n?a():IT(a)};function Jie(t,e,n,r){const i={},a=r(t,{});for(const h in a)i[h]=D1(a[h]);let{initial:s,animate:o}=t;const l=F2(t),c=U9(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),o===void 0&&(o=e.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const f=u?o:s;if(f&&typeof f!="boolean"&&!D2(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const b=$T(t,h[p]);if(b){const{transitionEnd:x,transition:v,...y}=b;for(const w in y){let S=y[w];if(Array.isArray(S)){const E=u?S.length-1:0;S=S[E]}S!==null&&(i[w]=S)}for(const w in x)i[w]=x[w]}}}return i}const qp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yd=new Set(qp),G9=t=>e=>typeof e=="string"&&e.startsWith(t),K9=G9("--"),Zie=G9("var(--"),BT=t=>Zie(t)?eae.test(t.split("/*")[0].trim()):!1,eae=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Y9=(t,e)=>e&&typeof t=="number"?e.transform(t):t,oc=(t,e,n)=>n>e?e:n<t?t:n,Wp={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},by={...Wp,transform:t=>oc(0,1,t)},B0={...Wp,default:1},Rv=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Gc=Rv("deg"),Zo=Rv("%"),At=Rv("px"),tae=Rv("vh"),nae=Rv("vw"),uj={...Zo,parse:t=>Zo.parse(t)/100,transform:t=>Zo.transform(t*100)},rae={borderWidth:At,borderTopWidth:At,borderRightWidth:At,borderBottomWidth:At,borderLeftWidth:At,borderRadius:At,radius:At,borderTopLeftRadius:At,borderTopRightRadius:At,borderBottomRightRadius:At,borderBottomLeftRadius:At,width:At,maxWidth:At,height:At,maxHeight:At,top:At,right:At,bottom:At,left:At,padding:At,paddingTop:At,paddingRight:At,paddingBottom:At,paddingLeft:At,margin:At,marginTop:At,marginRight:At,marginBottom:At,marginLeft:At,backgroundPositionX:At,backgroundPositionY:At},iae={rotate:Gc,rotateX:Gc,rotateY:Gc,rotateZ:Gc,scale:B0,scaleX:B0,scaleY:B0,scaleZ:B0,skew:Gc,skewX:Gc,skewY:Gc,distance:At,translateX:At,translateY:At,translateZ:At,x:At,y:At,z:At,perspective:At,transformPerspective:At,opacity:by,originX:uj,originY:uj,originZ:At},fj={...Wp,transform:Math.round},VT={...rae,...iae,zIndex:fj,size:At,fillOpacity:by,strokeOpacity:by,numOctaves:fj},aae={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sae=qp.length;function oae(t,e,n){let r="",i=!0;for(let a=0;a<sae;a++){const s=qp[a],o=t[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const c=Y9(o,VT[s]);if(!l){i=!1;const u=aae[s]||s;r+=`${u}(${c}) `}n&&(e[s]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function UT(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let s=!1,o=!1;for(const l in e){const c=e[l];if(yd.has(l)){s=!0;continue}else if(K9(l)){i[l]=c;continue}else{const u=Y9(c,VT[l]);l.startsWith("origin")?(o=!0,a[l]=u):r[l]=u}}if(e.transform||(s||n?r.transform=oae(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=a;r.transformOrigin=`${l} ${c} ${u}`}}const lae={offset:"stroke-dashoffset",array:"stroke-dasharray"},cae={offset:"strokeDashoffset",array:"strokeDasharray"};function uae(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?lae:cae;t[a.offset]=At.transform(-r);const s=At.transform(e),o=At.transform(n);t[a.array]=`${s} ${o}`}function dj(t,e,n){return typeof t=="string"?t:At.transform(e+n*t)}function fae(t,e,n){const r=dj(e,t.x,t.width),i=dj(n,t.y,t.height);return`${r} ${i}`}function zT(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},u,f){if(UT(t,c,f),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p,dimensions:b}=t;h.transform&&(b&&(p.transform=h.transform),delete h.transform),b&&(i!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=fae(b,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&uae(h,s,o,l,!1)}const qT=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),X9=()=>({...qT(),attrs:{}}),WT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Q9(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const J9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Z9(t,e,n,r){Q9(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(J9.has(i)?i:LT(i),e.attrs[i])}const Db={};function dae(t){Object.assign(Db,t)}function eB(t,{layout:e,layoutId:n}){return yd.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Db[t]||t==="opacity")}function HT(t,e,n){var r;const{style:i}=t,a={};for(const s in i)(Ji(i[s])||e.style&&Ji(e.style[s])||eB(s,t)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[s]=i[s]);return a}function tB(t,e,n){const r=HT(t,e,n);for(const i in t)if(Ji(t[i])||Ji(e[i])){const a=qp.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function hae(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const hj=["x","y","width","height","cx","cy","r"],pae={useVisualState:H9({scrapeMotionValuesFromProps:tB,createRenderState:X9,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const o in i)if(yd.has(o)){a=!0;break}}if(!a)return;let s=!e;if(e)for(let o=0;o<hj.length;o++){const l=hj[o];t[l]!==e[l]&&(s=!0)}s&&Qn.read(()=>{hae(n,r),Qn.render(()=>{zT(r,i,WT(n.tagName),t.transformTemplate),Z9(n,r)})})}})},mae={useVisualState:H9({scrapeMotionValuesFromProps:HT,createRenderState:qT})};function nB(t,e,n){for(const r in e)!Ji(e[r])&&!eB(r,n)&&(t[r]=e[r])}function gae({transformTemplate:t},e){return U.useMemo(()=>{const n=qT();return UT(n,e,t),Object.assign({},n.vars,n.style)},[e])}function yae(t,e){const n=t.style||{},r={};return nB(r,n,t),Object.assign(r,gae(t,e)),r}function vae(t,e){const n={},r=yae(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function bae(t,e,n,r){const i=U.useMemo(()=>{const a=X9();return zT(a,e,WT(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};nB(a,t.style,t),i.style={...a,...i.style}}return i}function xae(t=!1){return(n,r,i,{latestValues:a},s)=>{const l=(FT(n)?bae:vae)(r,a,s,n),c=Mie(r,typeof n=="string",t),u=n!==U.Fragment?{...c,...l,ref:i}:{},{children:f}=r,h=U.useMemo(()=>Ji(f)?f.get():f,[f]);return U.createElement(n,{...u,children:h})}}function wae(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...FT(r)?pae:mae,preloadedFeatures:t,useRender:xae(i),createVisualElement:e,Component:r};return qie(s)}}function rB(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function $2(t,e,n){const r=t.getProps();return $T(r,e,n!==void 0?n:r.custom,t)}const _ae=OT(()=>window.ScrollTimeline!==void 0);class Sae{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(_ae()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Aae extends Sae{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function GT(t,e){return t?t[e]||t.default||t:void 0}const NA=2e4;function iB(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<NA;)e+=n,r=t.next(e);return e>=NA?1/0:e}function KT(t){return typeof t=="function"}function pj(t,e){t.timeline=e,t.onfinish=null}const YT=t=>Array.isArray(t)&&typeof t[0]=="number",Nae={linearEasing:void 0};function Eae(t,e){const n=OT(t);return()=>{var r;return(r=Nae[e])!==null&&r!==void 0?r:n()}}const Fb=Eae(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),aB=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=t(ip(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function sB(t){return!!(typeof t=="function"&&Fb()||!t||typeof t=="string"&&(t in EA||Fb())||YT(t)||Array.isArray(t)&&t.every(sB))}const fg=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,EA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fg([0,.65,.55,1]),circOut:fg([.55,0,1,.45]),backIn:fg([.31,.01,.66,-.59]),backOut:fg([.33,1.53,.69,.99])};function oB(t,e){if(t)return typeof t=="function"&&Fb()?aB(t,e):YT(t)?fg(t):Array.isArray(t)?t.map(n=>oB(n,e)||EA.easeOut):EA[t]}const Zs={x:!1,y:!1};function lB(){return Zs.x||Zs.y}function Pae(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function cB(t,e){const n=Pae(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function mj(t){return e=>{e.pointerType==="touch"||lB()||t(e)}}function Tae(t,e,n={}){const[r,i,a]=cB(t,n),s=mj(o=>{const{target:l}=o,c=e(o);if(typeof c!="function"||!l)return;const u=mj(f=>{c(f),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return r.forEach(o=>{o.addEventListener("pointerenter",s,i)}),a}const uB=(t,e)=>e?t===e?!0:uB(t,e.parentElement):!1,XT=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,kae=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Iae(t){return kae.has(t.tagName)||t.tabIndex!==-1}const dg=new WeakSet;function gj(t){return e=>{e.key==="Enter"&&t(e)}}function M5(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Cae=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=gj(()=>{if(dg.has(n))return;M5(n,"down");const i=gj(()=>{M5(n,"up")}),a=()=>M5(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function yj(t){return XT(t)&&!lB()}function jae(t,e,n={}){const[r,i,a]=cB(t,n),s=o=>{const l=o.currentTarget;if(!yj(o)||dg.has(l))return;dg.add(l);const c=e(o),u=(p,b)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!yj(p)||!dg.has(l))&&(dg.delete(l),typeof c=="function"&&c(p,{success:b}))},f=p=>{u(p,n.useGlobalTarget||uB(l,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return r.forEach(o=>{!Iae(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",s,i),o.addEventListener("focus",c=>Cae(c,i),i)}),a}function Oae(t){return t==="x"||t==="y"?Zs[t]?null:(Zs[t]=!0,()=>{Zs[t]=!1}):Zs.x||Zs.y?null:(Zs.x=Zs.y=!0,()=>{Zs.x=Zs.y=!1})}const fB=new Set(["width","height","top","left","right","bottom",...qp]);let F1;function Rae(){F1=void 0}const el={now:()=>(F1===void 0&&el.set(Ni.isProcessing||kie.useManualTiming?Ni.timestamp:performance.now()),F1),set:t=>{F1=t,queueMicrotask(Rae)}};function QT(t,e){t.indexOf(e)===-1&&t.push(e)}function JT(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ZT{constructor(){this.subscriptions=[]}add(e){return QT(this.subscriptions,e),()=>JT(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function dB(t,e){return e?t*(1e3/e):0}const vj=30,Mae=t=>!isNaN(parseFloat(t));class Lae{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=el.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=el.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Mae(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ZT);const r=this.events[e].add(n);return e==="change"?()=>{r(),Qn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=el.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>vj)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,vj);return dB(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xy(t,e){return new Lae(t,e)}function Dae(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,xy(n))}function Fae(t,e){const n=$2(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const s in a){const o=Xie(a[s]);Dae(t,s,o)}}function $ae(t){return!!(Ji(t)&&t.add)}function PA(t,e){const n=t.getValue("willChange");if($ae(n))return n.add(e)}function hB(t){return t.props[z9]}const pB=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Bae=1e-7,Vae=12;function Uae(t,e,n,r,i){let a,s,o=0;do s=e+(n-e)/2,a=pB(s,r,i)-t,a>0?n=s:e=s;while(Math.abs(a)>Bae&&++o<Vae);return s}function Mv(t,e,n,r){if(t===e&&n===r)return Za;const i=a=>Uae(a,0,1,t,n);return a=>a===0||a===1?a:pB(i(a),e,r)}const mB=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,gB=t=>e=>1-t(1-e),yB=Mv(.33,1.53,.69,.99),e4=gB(yB),vB=mB(e4),bB=t=>(t*=2)<1?.5*e4(t):.5*(2-Math.pow(2,-10*(t-1))),t4=t=>1-Math.sin(Math.acos(t)),xB=gB(t4),wB=mB(t4),_B=t=>/^0[^.\s]+$/u.test(t);function zae(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||_B(t):!0}const Cg=t=>Math.round(t*1e5)/1e5,n4=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qae(t){return t==null}const Wae=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,r4=(t,e)=>n=>!!(typeof n=="string"&&Wae.test(n)&&n.startsWith(t)||e&&!qae(n)&&Object.prototype.hasOwnProperty.call(n,e)),SB=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,s,o]=r.match(n4);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},Hae=t=>oc(0,255,t),L5={...Wp,transform:t=>Math.round(Hae(t))},Cf={test:r4("rgb","red"),parse:SB("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+L5.transform(t)+", "+L5.transform(e)+", "+L5.transform(n)+", "+Cg(by.transform(r))+")"};function Gae(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const TA={test:r4("#"),parse:Gae,transform:Cf.transform},dh={test:r4("hsl","hue"),parse:SB("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Zo.transform(Cg(e))+", "+Zo.transform(Cg(n))+", "+Cg(by.transform(r))+")"},Wi={test:t=>Cf.test(t)||TA.test(t)||dh.test(t),parse:t=>Cf.test(t)?Cf.parse(t):dh.test(t)?dh.parse(t):TA.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Cf.transform(t):dh.transform(t)},Kae=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Yae(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(n4))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Kae))===null||n===void 0?void 0:n.length)||0)>0}const AB="number",NB="color",Xae="var",Qae="var(",bj="${}",Jae=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wy(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const o=e.replace(Jae,l=>(Wi.test(l)?(r.color.push(a),i.push(NB),n.push(Wi.parse(l))):l.startsWith(Qae)?(r.var.push(a),i.push(Xae),n.push(l)):(r.number.push(a),i.push(AB),n.push(parseFloat(l))),++a,bj)).split(bj);return{values:n,split:o,indexes:r,types:i}}function EB(t){return wy(t).values}function PB(t){const{split:e,types:n}=wy(t),r=e.length;return i=>{let a="";for(let s=0;s<r;s++)if(a+=e[s],i[s]!==void 0){const o=n[s];o===AB?a+=Cg(i[s]):o===NB?a+=Wi.transform(i[s]):a+=i[s]}return a}}const Zae=t=>typeof t=="number"?0:t;function ese(t){const e=EB(t);return PB(t)(e.map(Zae))}const Ru={test:Yae,parse:EB,createTransformer:PB,getAnimatableNone:ese},tse=new Set(["brightness","contrast","saturate","opacity"]);function nse(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(n4)||[];if(!r)return t;const i=n.replace(r,"");let a=tse.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const rse=/\b([a-z-]*)\(.*?\)/gu,kA={...Ru,getAnimatableNone:t=>{const e=t.match(rse);return e?e.map(nse).join(" "):t}},ise={...VT,color:Wi,backgroundColor:Wi,outlineColor:Wi,fill:Wi,stroke:Wi,borderColor:Wi,borderTopColor:Wi,borderRightColor:Wi,borderBottomColor:Wi,borderLeftColor:Wi,filter:kA,WebkitFilter:kA},i4=t=>ise[t];function TB(t,e){let n=i4(t);return n!==kA&&(n=Ru),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const ase=new Set(["auto","none","0"]);function sse(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!ase.has(a)&&wy(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=TB(n,i)}const xj=t=>t===Wp||t===At,wj=(t,e)=>parseFloat(t.split(", ")[e]),_j=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return wj(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?wj(a[1],t):0}},ose=new Set(["x","y","z"]),lse=qp.filter(t=>!ose.has(t));function cse(t){const e=[];return lse.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const sp={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:_j(4,13),y:_j(5,14)};sp.translateX=sp.x;sp.translateY=sp.y;const Bf=new Set;let IA=!1,CA=!1;function kB(){if(CA){const t=Array.from(Bf).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=cse(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,s])=>{var o;(o=r.getValue(a))===null||o===void 0||o.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}CA=!1,IA=!1,Bf.forEach(t=>t.complete()),Bf.clear()}function IB(){Bf.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(CA=!0)})}function use(){IB(),kB()}class a4{constructor(e,n,r,i,a,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Bf.add(this),IA||(IA=!0,Qn.read(IB),Qn.resolveKeyframes(kB))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Bf.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Bf.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const CB=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),fse=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dse(t){const e=fse.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function jB(t,e,n=1){const[r,i]=dse(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const s=a.trim();return CB(s)?parseFloat(s):s}return BT(i)?jB(i,e,n+1):i}const OB=t=>e=>e.test(t),hse={test:t=>t==="auto",parse:t=>t},RB=[Wp,At,Zo,Gc,nae,tae,hse],Sj=t=>RB.find(OB(t));class MB extends a4{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),BT(c))){const u=jB(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!fB.has(r)||e.length!==2)return;const[i,a]=e,s=Sj(i),o=Sj(a);if(s!==o)if(xj(s)&&xj(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)zae(e[i])&&r.push(i);r.length&&sse(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sp[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=sp[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const Aj=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ru.test(t)||t==="0")&&!t.startsWith("url("));function pse(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function mse(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],s=Aj(i,e),o=Aj(a,e);return!s||!o?!1:pse(t)||(n==="spring"||KT(n))&&r}const gse=t=>t!==null;function B2(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(gse),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const yse=40;class LB{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=el.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:s,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>yse?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&use(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=el.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:s,onComplete:o,onUpdate:l,isGenerator:c}=this.options;if(!c&&!mse(e,r,i,a))if(s)this.options.duration=0;else{l&&l(B2(e,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const fr=(t,e,n)=>t+(e-t)*n;function D5(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function vse({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,s=0;if(!e)i=a=s=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=D5(l,o,t+1/3),a=D5(l,o,t),s=D5(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}function $b(t,e){return n=>n>0?e:t}const F5=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},bse=[TA,Cf,dh],xse=t=>bse.find(e=>e.test(t));function Nj(t){const e=xse(t);if(!e)return!1;let n=e.parse(t);return e===dh&&(n=vse(n)),n}const Ej=(t,e)=>{const n=Nj(t),r=Nj(e);if(!n||!r)return $b(t,e);const i={...n};return a=>(i.red=F5(n.red,r.red,a),i.green=F5(n.green,r.green,a),i.blue=F5(n.blue,r.blue,a),i.alpha=fr(n.alpha,r.alpha,a),Cf.transform(i))},wse=(t,e)=>n=>e(t(n)),Lv=(...t)=>t.reduce(wse),jA=new Set(["none","hidden"]);function _se(t,e){return jA.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Sse(t,e){return n=>fr(t,e,n)}function s4(t){return typeof t=="number"?Sse:typeof t=="string"?BT(t)?$b:Wi.test(t)?Ej:Ese:Array.isArray(t)?DB:typeof t=="object"?Wi.test(t)?Ej:Ase:$b}function DB(t,e){const n=[...t],r=n.length,i=t.map((a,s)=>s4(a)(a,e[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}}function Ase(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=s4(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function Nse(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const s=e.types[a],o=t.indexes[s][i[s]],l=(n=t.values[o])!==null&&n!==void 0?n:0;r[a]=l,i[s]++}return r}const Ese=(t,e)=>{const n=Ru.createTransformer(e),r=wy(t),i=wy(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?jA.has(t)&&!i.values.length||jA.has(e)&&!r.values.length?_se(t,e):Lv(DB(Nse(r,i),i.values),n):$b(t,e)};function FB(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?fr(t,e,n):s4(t)(t,e)}const Pse=5;function $B(t,e,n){const r=Math.max(e-Pse,0);return dB(n-t(r),e-r)}const _r={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$5=.001;function Tse({duration:t=_r.duration,bounce:e=_r.bounce,velocity:n=_r.velocity,mass:r=_r.mass}){let i,a,s=1-e;s=oc(_r.minDamping,_r.maxDamping,s),t=oc(_r.minDuration,_r.maxDuration,Gl(t)),s<1?(i=c=>{const u=c*s,f=u*t,h=u-n,p=OA(c,s),b=Math.exp(-f);return $5-h/p*b},a=c=>{const f=c*s*t,h=f*n+n,p=Math.pow(s,2)*Math.pow(c,2)*t,b=Math.exp(-f),x=OA(Math.pow(c,2),s);return(-i(c)+$5>0?-1:1)*((h-p)*b)/x}):(i=c=>{const u=Math.exp(-c*t),f=(c-n)*t+1;return-$5+u*f},a=c=>{const u=Math.exp(-c*t),f=(n-c)*(t*t);return u*f});const o=5/t,l=Ise(i,a,o);if(t=Hl(t),isNaN(l))return{stiffness:_r.stiffness,damping:_r.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const kse=12;function Ise(t,e,n){let r=n;for(let i=1;i<kse;i++)r=r-t(r)/e(r);return r}function OA(t,e){return t*Math.sqrt(1-e*e)}const Cse=["duration","bounce"],jse=["stiffness","damping","mass"];function Pj(t,e){return e.some(n=>t[n]!==void 0)}function Ose(t){let e={velocity:_r.velocity,stiffness:_r.stiffness,damping:_r.damping,mass:_r.mass,isResolvedFromDuration:!1,...t};if(!Pj(t,jse)&&Pj(t,Cse))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*oc(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:_r.mass,stiffness:i,damping:a}}else{const n=Tse(t);e={...e,...n,mass:_r.mass},e.isResolvedFromDuration=!0}return e}function BB(t=_r.visualDuration,e=_r.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:p}=Ose({...n,velocity:-Gl(n.velocity||0)}),b=h||0,x=c/(2*Math.sqrt(l*u)),v=s-a,y=Gl(Math.sqrt(l/u)),w=Math.abs(v)<5;r||(r=w?_r.restSpeed.granular:_r.restSpeed.default),i||(i=w?_r.restDelta.granular:_r.restDelta.default);let S;if(x<1){const P=OA(y,x);S=R=>{const I=Math.exp(-x*y*R);return s-I*((b+x*y*v)/P*Math.sin(P*R)+v*Math.cos(P*R))}}else if(x===1)S=P=>s-Math.exp(-y*P)*(v+(b+y*v)*P);else{const P=y*Math.sqrt(x*x-1);S=R=>{const I=Math.exp(-x*y*R),A=Math.min(P*R,300);return s-I*((b+x*y*v)*Math.sinh(A)+P*v*Math.cosh(A))/P}}const E={calculatedDuration:p&&f||null,next:P=>{const R=S(P);if(p)o.done=P>=f;else{let I=0;x<1&&(I=P===0?Hl(b):$B(S,P,R));const A=Math.abs(I)<=r,N=Math.abs(s-R)<=i;o.done=A&&N}return o.value=o.done?s:R,o},toString:()=>{const P=Math.min(iB(E),NA),R=aB(I=>E.next(P*I).value,P,30);return P+"ms "+R}};return E}function Tj({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=t[0],h={done:!1,value:f},p=A=>o!==void 0&&A<o||l!==void 0&&A>l,b=A=>o===void 0?l:l===void 0||Math.abs(o-A)<Math.abs(l-A)?o:l;let x=n*e;const v=f+x,y=s===void 0?v:s(v);y!==v&&(x=y-f);const w=A=>-x*Math.exp(-A/r),S=A=>y+w(A),E=A=>{const N=w(A),M=S(A);h.done=Math.abs(N)<=c,h.value=h.done?y:M};let P,R;const I=A=>{p(h.value)&&(P=A,R=BB({keyframes:[h.value,b(h.value)],velocity:$B(S,A,h.value),damping:i,stiffness:a,restDelta:c,restSpeed:u}))};return I(0),{calculatedDuration:null,next:A=>{let N=!1;return!R&&P===void 0&&(N=!0,E(A),I(A)),P!==void 0&&A>=P?R.next(A-P):(!N&&E(A),h)}}}const Rse=Mv(.42,0,1,1),Mse=Mv(0,0,.58,1),VB=Mv(.42,0,.58,1),Lse=t=>Array.isArray(t)&&typeof t[0]!="number",Dse={linear:Za,easeIn:Rse,easeInOut:VB,easeOut:Mse,circIn:t4,circInOut:wB,circOut:xB,backIn:e4,backInOut:vB,backOut:yB,anticipate:bB},kj=t=>{if(YT(t)){F9(t.length===4);const[e,n,r,i]=t;return Mv(e,n,r,i)}else if(typeof t=="string")return Dse[t];return t};function Fse(t,e,n){const r=[],i=n||FB,a=t.length-1;for(let s=0;s<a;s++){let o=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||Za:e;o=Lv(l,o)}r.push(o)}return r}function $se(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(F9(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Fse(e,r,i),l=o.length,c=u=>{if(s&&u<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(u<t[f+1]);f++);const h=ip(t[f],t[f+1],u);return o[f](h)};return n?u=>c(oc(t[0],t[a-1],u)):c}function Bse(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ip(0,e,r);t.push(fr(n,1,i))}}function Vse(t){const e=[0];return Bse(e,t.length-1),e}function Use(t,e){return t.map(n=>n*e)}function zse(t,e){return t.map(()=>e||VB).splice(0,t.length-1)}function Bb({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Lse(r)?r.map(kj):kj(r),a={done:!1,value:e[0]},s=Use(n&&n.length===e.length?n:Vse(e),t),o=$se(s,e,{ease:Array.isArray(i)?i:zse(e,i)});return{calculatedDuration:t,next:l=>(a.value=o(l),a.done=l>=t,a)}}const qse=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Qn.update(e,!0),stop:()=>Ou(e),now:()=>Ni.isProcessing?Ni.timestamp:el.now()}},Wse={decay:Tj,inertia:Tj,tween:Bb,keyframes:Bb,spring:BB},Hse=t=>t/100;class o4 extends LB{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,s=(i==null?void 0:i.KeyframeResolver)||a4,o=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new s(a,o,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=this.options,o=KT(n)?n:Wse[n]||Bb;let l,c;o!==Bb&&typeof e[0]!="number"&&(l=Lv(Hse,FB(e[0],e[1])),e=[0,100]);const u=o({...this.options,keyframes:e});a==="mirror"&&(c=o({...this.options,keyframes:[...e].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=iB(u));const{calculatedDuration:f}=u,h=f+i,p=h*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:f}=r;if(this.startTime===null)return a.next(0);const{delay:h,repeat:p,repeatType:b,repeatDelay:x,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const y=this.currentTime-h*(this.speed>=0?1:-1),w=this.speed>=0?y<0:y>u;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let S=this.currentTime,E=a;if(p){const A=Math.min(this.currentTime,u)/f;let N=Math.floor(A),M=A%1;!M&&A>=1&&(M=1),M===1&&N--,N=Math.min(N,p+1),!!(N%2)&&(b==="reverse"?(M=1-M,x&&(M-=x/f)):b==="mirror"&&(E=s)),S=oc(0,1,M)*f}const P=w?{done:!1,value:l[0]}:E.next(S);o&&(P.value=o(P.value));let{done:R}=P;!w&&c!==null&&(R=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return I&&i!==void 0&&(P.value=B2(l,this.options,i)),v&&v(P.value),I&&this.finish(),P}get duration(){const{resolved:e}=this;return e?Gl(e.calculatedDuration):0}get time(){return Gl(this.currentTime)}set time(e){e=Hl(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Gl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=qse,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Gse=new Set(["opacity","clipPath","filter","transform"]);function Kse(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=oB(o,i);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}const Yse=OT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Vb=10,Xse=2e4;function Qse(t){return KT(t.type)||t.type==="spring"||!sB(t.ease)}function Jse(t,e){const n=new o4({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<Xse;)r=n.sample(a),i.push(r.value),a+=Vb;return{times:void 0,keyframes:i,duration:a-Vb,ease:"linear"}}const UB={anticipate:bB,backInOut:vB,circInOut:wB};function Zse(t){return t in UB}class Ij extends LB{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new MB(a,(s,o)=>this.onKeyframesResolved(s,o),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:a,type:s,motionValue:o,name:l,startTime:c}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof a=="string"&&Fb()&&Zse(a)&&(a=UB[a]),Qse(this.options)){const{onComplete:f,onUpdate:h,motionValue:p,element:b,...x}=this.options,v=Jse(e,x);e=v.keyframes,e.length===1&&(e[1]=e[0]),r=v.duration,i=v.times,a=v.ease,s="keyframes"}const u=Kse(o.owner.current,l,e,{...this.options,duration:r,times:i,ease:a});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(pj(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:f}=this.options;o.set(B2(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:s,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Gl(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Gl(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Hl(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Za;const{animation:r}=n;pj(r,e)}return Za}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:s,times:o}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:f,element:h,...p}=this.options,b=new o4({...p,keyframes:r,duration:i,type:a,ease:s,times:o,isGenerator:!0}),x=Hl(this.time);c.setWithVelocity(b.sample(x-Vb).value,b.sample(x).value,Vb)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:s,type:o}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Yse()&&r&&Gse.has(r)&&!l&&!c&&!i&&a!=="mirror"&&s!==0&&o!=="inertia"}}const eoe={type:"spring",stiffness:500,damping:25,restSpeed:10},toe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),noe={type:"keyframes",duration:.8},roe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ioe=(t,{keyframes:e})=>e.length>2?noe:yd.has(t)?t.startsWith("scale")?toe(e[1]):eoe:roe;function aoe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const l4=(t,e,n,r={},i,a)=>s=>{const o=GT(r,t)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Hl(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:h=>{e.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:a?void 0:i};aoe(o)||(u={...u,...ioe(t,u)}),u.duration&&(u.duration=Hl(u.duration)),u.repeatDelay&&(u.repeatDelay=Hl(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),f&&!a&&e.get()!==void 0){const h=B2(u.keyframes,o);if(h!==void 0)return Qn.update(()=>{u.onUpdate(h),u.onComplete()}),new Aae([])}return!a&&Ij.supports(u)?new Ij(u):new o4(u)};function soe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function zB(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(s=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const h=t.getValue(f,(a=t.latestValues[f])!==null&&a!==void 0?a:null),p=l[f];if(p===void 0||u&&soe(u,f))continue;const b={delay:n,...GT(s||{},f)};let x=!1;if(window.MotionHandoffAnimation){const y=hB(t);if(y){const w=window.MotionHandoffAnimation(y,f,Qn);w!==null&&(b.startTime=w,x=!0)}}PA(t,f),h.start(l4(f,h,p,t.shouldReduceMotion&&fB.has(f)?{type:!1}:b,t,x));const v=h.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{Qn.update(()=>{o&&Fae(t,o)})}),c}function RA(t,e,n={}){var r;const i=$2(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const s=i?()=>Promise.all(zB(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=a;return ooe(t,e,u+c,f,h,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function ooe(t,e,n=0,r=0,i=1,a){const s=[],o=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(t.variantChildren).sort(loe).forEach((c,u)=>{c.notify("AnimationStart",e),s.push(RA(c,e,{...a,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function loe(t,e){return t.sortNodePosition(e)}function coe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>RA(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=RA(t,e,n);else{const i=typeof e=="function"?$2(t,e,n.custom):e;r=Promise.all(zB(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const uoe=MT.length;function qB(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?qB(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<uoe;n++){const r=MT[n],i=t.props[r];(vy(i)||i===!1)&&(e[r]=i)}return e}const foe=[...RT].reverse(),doe=RT.length;function hoe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>coe(t,n,r)))}function poe(t){let e=hoe(t),n=Cj(),r=!0;const i=l=>(c,u)=>{var f;const h=$2(t,u,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:b,...x}=h;c={...c,...x,...b}}return c};function a(l){e=l(t)}function s(l){const{props:c}=t,u=qB(t.parent)||{},f=[],h=new Set;let p={},b=1/0;for(let v=0;v<doe;v++){const y=foe[v],w=n[y],S=c[y]!==void 0?c[y]:u[y],E=vy(S),P=y===l?w.isActive:null;P===!1&&(b=v);let R=S===u[y]&&S!==c[y]&&E;if(R&&r&&t.manuallyAnimateOnMount&&(R=!1),w.protectedKeys={...p},!w.isActive&&P===null||!S&&!w.prevProp||D2(S)||typeof S=="boolean")continue;const I=moe(w.prevProp,S);let A=I||y===l&&w.isActive&&!R&&E||v>b&&E,N=!1;const M=Array.isArray(S)?S:[S];let k=M.reduce(i(y),{});P===!1&&(k={});const{prevResolvedValues:j={}}=w,C={...j,...k},V=oe=>{A=!0,h.has(oe)&&(N=!0,h.delete(oe)),w.needsAnimating[oe]=!0;const Y=t.getValue(oe);Y&&(Y.liveStyle=!1)};for(const oe in C){const Y=k[oe],le=j[oe];if(p.hasOwnProperty(oe))continue;let K=!1;AA(Y)&&AA(le)?K=!rB(Y,le):K=Y!==le,K?Y!=null?V(oe):h.add(oe):Y!==void 0&&h.has(oe)?V(oe):w.protectedKeys[oe]=!0}w.prevProp=S,w.prevResolvedValues=k,w.isActive&&(p={...p,...k}),r&&t.blockInitialAnimation&&(A=!1),A&&(!(R&&I)||N)&&f.push(...M.map(oe=>({animation:oe,options:{type:y}})))}if(h.size){const v={};h.forEach(y=>{const w=t.getBaseTarget(y),S=t.getValue(y);S&&(S.liveStyle=!0),v[y]=w??null}),f.push({animation:v})}let x=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(f):Promise.resolve()}function o(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const f=s(l);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Cj(),r=!0}}}function moe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!rB(e,t):!1}function pf(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Cj(){return{animate:pf(!0),whileInView:pf(),whileHover:pf(),whileTap:pf(),whileDrag:pf(),whileFocus:pf(),exit:pf()}}class Wu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class goe extends Wu{constructor(e){super(e),e.animationState||(e.animationState=poe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();D2(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let yoe=0;class voe extends Wu{constructor(){super(...arguments),this.id=yoe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const boe={animation:{Feature:goe},exit:{Feature:voe}};function _y(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Dv(t){return{point:{x:t.pageX,y:t.pageY}}}const xoe=t=>e=>XT(e)&&t(e,Dv(e));function jg(t,e,n,r){return _y(t,e,xoe(n),r)}const jj=(t,e)=>Math.abs(t-e);function woe(t,e){const n=jj(t.x,e.x),r=jj(t.y,e.y);return Math.sqrt(n**2+r**2)}class WB{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=V5(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=woe(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:b}=f,{timestamp:x}=Ni;this.history.push({...b,timestamp:x});const{onStart:v,onMove:y}=this.handlers;h||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=B5(h,this.transformPagePoint),Qn.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:b,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=V5(f.type==="pointercancel"?this.lastMoveEventInfo:B5(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,v),b&&b(f,v)},!XT(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Dv(e),o=B5(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=Ni;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,V5(o,this.history)),this.removeListeners=Lv(jg(this.contextWindow,"pointermove",this.handlePointerMove),jg(this.contextWindow,"pointerup",this.handlePointerUp),jg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ou(this.updatePoint)}}function B5(t,e){return e?{point:e(t.point)}:t}function Oj(t,e){return{x:t.x-e.x,y:t.y-e.y}}function V5({point:t},e){return{point:t,delta:Oj(t,HB(e)),offset:Oj(t,_oe(e)),velocity:Soe(e,.1)}}function _oe(t){return t[0]}function HB(t){return t[t.length-1]}function Soe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=HB(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Hl(e)));)n--;if(!r)return{x:0,y:0};const a=Gl(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}const GB=1e-4,Aoe=1-GB,Noe=1+GB,KB=.01,Eoe=0-KB,Poe=0+KB;function ts(t){return t.max-t.min}function Toe(t,e,n){return Math.abs(t-e)<=n}function Rj(t,e,n,r=.5){t.origin=r,t.originPoint=fr(e.min,e.max,t.origin),t.scale=ts(n)/ts(e),t.translate=fr(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Aoe&&t.scale<=Noe||isNaN(t.scale))&&(t.scale=1),(t.translate>=Eoe&&t.translate<=Poe||isNaN(t.translate))&&(t.translate=0)}function Og(t,e,n,r){Rj(t.x,e.x,n.x,r?r.originX:void 0),Rj(t.y,e.y,n.y,r?r.originY:void 0)}function Mj(t,e,n){t.min=n.min+e.min,t.max=t.min+ts(e)}function koe(t,e,n){Mj(t.x,e.x,n.x),Mj(t.y,e.y,n.y)}function Lj(t,e,n){t.min=e.min-n.min,t.max=t.min+ts(e)}function Rg(t,e,n){Lj(t.x,e.x,n.x),Lj(t.y,e.y,n.y)}function Ioe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?fr(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?fr(n,t,r.max):Math.min(t,n)),t}function Dj(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Coe(t,{top:e,left:n,bottom:r,right:i}){return{x:Dj(t.x,n,i),y:Dj(t.y,e,r)}}function Fj(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function joe(t,e){return{x:Fj(t.x,e.x),y:Fj(t.y,e.y)}}function Ooe(t,e){let n=.5;const r=ts(t),i=ts(e);return i>r?n=ip(e.min,e.max-r,t.min):r>i&&(n=ip(t.min,t.max-i,e.min)),oc(0,1,n)}function Roe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const MA=.35;function Moe(t=MA){return t===!1?t=0:t===!0&&(t=MA),{x:$j(t,"left","right"),y:$j(t,"top","bottom")}}function $j(t,e,n){return{min:Bj(t,e),max:Bj(t,n)}}function Bj(t,e){return typeof t=="number"?t:t[e]||0}const Vj=()=>({translate:0,scale:1,origin:0,originPoint:0}),hh=()=>({x:Vj(),y:Vj()}),Uj=()=>({min:0,max:0}),Rr=()=>({x:Uj(),y:Uj()});function Ss(t){return[t("x"),t("y")]}function YB({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Loe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Doe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function U5(t){return t===void 0||t===1}function LA({scale:t,scaleX:e,scaleY:n}){return!U5(t)||!U5(e)||!U5(n)}function bf(t){return LA(t)||XB(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function XB(t){return zj(t.x)||zj(t.y)}function zj(t){return t&&t!=="0%"}function Ub(t,e,n){const r=t-n,i=e*r;return n+i}function qj(t,e,n,r,i){return i!==void 0&&(t=Ub(t,i,r)),Ub(t,n,r)+e}function DA(t,e=0,n=1,r,i){t.min=qj(t.min,e,n,r,i),t.max=qj(t.max,e,n,r,i)}function QB(t,{x:e,y:n}){DA(t.x,e.translate,e.scale,e.originPoint),DA(t.y,n.translate,n.scale,n.originPoint)}const Wj=.999999999999,Hj=1.0000000000001;function Foe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&mh(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,QB(t,s)),r&&bf(a.latestValues)&&mh(t,a.latestValues))}e.x<Hj&&e.x>Wj&&(e.x=1),e.y<Hj&&e.y>Wj&&(e.y=1)}function ph(t,e){t.min=t.min+e,t.max=t.max+e}function Gj(t,e,n,r,i=.5){const a=fr(t.min,t.max,i);DA(t,e,n,a,r)}function mh(t,e){Gj(t.x,e.x,e.scaleX,e.scale,e.originX),Gj(t.y,e.y,e.scaleY,e.scale,e.originY)}function JB(t,e){return YB(Doe(t.getBoundingClientRect(),e))}function $oe(t,e,n){const r=JB(t,n),{scroll:i}=e;return i&&(ph(r.x,i.offset.x),ph(r.y,i.offset.y)),r}const ZB=({current:t})=>t?t.ownerDocument.defaultView:null,Boe=new WeakMap;class Voe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Dv(u).point)},a=(u,f)=>{const{drag:h,dragPropagation:p,onDragStart:b}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Oae(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ss(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Zo.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const S=w.layout.layoutBox[v];S&&(y=ts(S)*(parseFloat(y)/100))}}this.originPoint[v]=y}),b&&Qn.postRender(()=>b(u,f)),PA(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},s=(u,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:b,onDrag:x}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=f;if(p&&this.currentDirection===null){this.currentDirection=Uoe(v),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),x&&x(u,f)},o=(u,f)=>this.stop(u,f),l=()=>Ss(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new WB(e,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:ZB(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Qn.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!V0(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=Ioe(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&fh(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Coe(i.layoutBox,n):this.constraints=!1,this.elastic=Moe(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ss(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Roe(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!fh(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=$oe(r,i.root,this.visualElement.getTransformPagePoint());let s=joe(i.layout.layoutBox,a);if(n){const o=n(Loe(s));this.hasMutatedConstraints=!!o,o&&(s=YB(o))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Ss(u=>{if(!V0(u,n,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,b={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(u,b)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return PA(this.visualElement,e),r.start(l4(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ss(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ss(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ss(n=>{const{drag:r}=this.getProps();if(!V0(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(e[n]-fr(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!fh(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ss(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();i[s]=Ooe({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ss(s=>{if(!V0(s,e,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(fr(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;Boe.set(this.visualElement,this);const e=this.visualElement.current,n=jg(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();fh(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Qn.read(r);const s=_y(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ss(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=MA,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function V0(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Uoe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class zoe extends Wu{constructor(e){super(e),this.removeGroupControls=Za,this.removeListeners=Za,this.controls=new Voe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Za}unmount(){this.removeGroupControls(),this.removeListeners()}}const Kj=t=>(e,n)=>{t&&Qn.postRender(()=>t(e,n))};class qoe extends Wu{constructor(){super(...arguments),this.removePointerDownListener=Za}onPointerDown(e){this.session=new WB(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ZB(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Kj(e),onStart:Kj(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&Qn.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=jg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Yj(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $m={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(At.test(t))t=parseFloat(t);else return t;const n=Yj(t,e.target.x),r=Yj(t,e.target.y);return`${n}% ${r}%`}},Woe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ru.parse(t);if(i.length>5)return r;const a=Ru.createTransformer(t),s=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=o,i[1+s]/=l;const c=fr(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),a(i)}};class Hoe extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;dae(Goe),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),$1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||Qn.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),DT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function eV(t){const[e,n]=L9(),r=U.useContext(kT);return d.jsx(Hoe,{...t,layoutGroup:r,switchLayoutGroup:U.useContext(q9),isPresent:e,safeToRemove:n})}const Goe={borderRadius:{...$m,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$m,borderTopRightRadius:$m,borderBottomLeftRadius:$m,borderBottomRightRadius:$m,boxShadow:Woe};function Koe(t,e,n){const r=Ji(t)?t:xy(t);return r.start(l4("",r,e,n)),r.animation}function Yoe(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Xoe=(t,e)=>t.depth-e.depth;class Qoe{constructor(){this.children=[],this.isDirty=!1}add(e){QT(this.children,e),this.isDirty=!0}remove(e){JT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Xoe),this.isDirty=!1,this.children.forEach(e)}}function Joe(t,e){const n=el.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Ou(r),t(a-e))};return Qn.read(r,!0),()=>Ou(r)}const tV=["TopLeft","TopRight","BottomLeft","BottomRight"],Zoe=tV.length,Xj=t=>typeof t=="string"?parseFloat(t):t,Qj=t=>typeof t=="number"||At.test(t);function ele(t,e,n,r,i,a){i?(t.opacity=fr(0,n.opacity!==void 0?n.opacity:1,tle(r)),t.opacityExit=fr(e.opacity!==void 0?e.opacity:1,0,nle(r))):a&&(t.opacity=fr(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Zoe;s++){const o=`border${tV[s]}Radius`;let l=Jj(e,o),c=Jj(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Qj(l)===Qj(c)?(t[o]=Math.max(fr(Xj(l),Xj(c),r),0),(Zo.test(c)||Zo.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=fr(e.rotate||0,n.rotate||0,r))}function Jj(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const tle=nV(0,.5,xB),nle=nV(.5,.95,Za);function nV(t,e,n){return r=>r<t?0:r>e?1:n(ip(t,e,r))}function Zj(t,e){t.min=e.min,t.max=e.max}function bs(t,e){Zj(t.x,e.x),Zj(t.y,e.y)}function eO(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function tO(t,e,n,r,i){return t-=e,t=Ub(t,1/n,r),i!==void 0&&(t=Ub(t,1/i,r)),t}function rle(t,e=0,n=1,r=.5,i,a=t,s=t){if(Zo.test(e)&&(e=parseFloat(e),e=fr(s.min,s.max,e/100)-s.min),typeof e!="number")return;let o=fr(a.min,a.max,r);t===a&&(o-=e),t.min=tO(t.min,e,n,o,i),t.max=tO(t.max,e,n,o,i)}function nO(t,e,[n,r,i],a,s){rle(t,e[n],e[r],e[i],e.scale,a,s)}const ile=["x","scaleX","originX"],ale=["y","scaleY","originY"];function rO(t,e,n,r){nO(t.x,e,ile,n?n.x:void 0,r?r.x:void 0),nO(t.y,e,ale,n?n.y:void 0,r?r.y:void 0)}function iO(t){return t.translate===0&&t.scale===1}function rV(t){return iO(t.x)&&iO(t.y)}function aO(t,e){return t.min===e.min&&t.max===e.max}function sle(t,e){return aO(t.x,e.x)&&aO(t.y,e.y)}function sO(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function iV(t,e){return sO(t.x,e.x)&&sO(t.y,e.y)}function oO(t){return ts(t.x)/ts(t.y)}function lO(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ole{constructor(){this.members=[]}add(e){QT(this.members,e),e.scheduleRender()}remove(e){if(JT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lle(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((i||a||s)&&(r=`translate3d(${i}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:p,skewY:b}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),b&&(r+=`skewY(${b}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const xf={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},hg=typeof window<"u"&&window.MotionDebug!==void 0,z5=["","X","Y","Z"],cle={visibility:"hidden"},cO=1e3;let ule=0;function q5(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function aV(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=hB(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Qn,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&aV(r)}function sV({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=e==null?void 0:e()){this.id=ule++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,hg&&(xf.totalNodes=xf.resolvedTargetDeltas=xf.recalculatedProjection=0),this.nodes.forEach(hle),this.nodes.forEach(vle),this.nodes.forEach(ble),this.nodes.forEach(ple),hg&&window.MotionDebug.record(xf)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Qoe)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new ZT),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Yoe(s),this.instance=s;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Joe(h,250),$1.hasAnimatedSinceResize&&($1.hasAnimatedSinceResize=!1,this.nodes.forEach(fO))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||Ale,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=u.getProps(),w=!this.targetLayout||!iV(this.targetLayout,b)||p,S=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,S);const E={...GT(x,"layout"),onPlay:v,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else h||fO(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ou(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xle),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&aV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uO);return}this.isUpdating||this.nodes.forEach(gle),this.isUpdating=!1,this.nodes.forEach(yle),this.nodes.forEach(fle),this.nodes.forEach(dle),this.clearAllSnapshots();const o=el.now();Ni.delta=oc(0,1e3/60,o-Ni.timestamp),Ni.timestamp=o,Ni.isProcessing=!0,R5.update.process(Ni),R5.preRender.process(Ni),R5.render.process(Ni),Ni.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,DT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mle),this.sharedNodes.forEach(wle)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Rr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!rV(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&(o||bf(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),Nle(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:o}=this.options;if(!o)return Rr();const l=o.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(Ele))){const{scroll:u}=this.root;u&&(ph(l.x,u.offset.x),ph(l.y,u.offset.y))}return l}removeElementScroll(s){var o;const l=Rr();if(bs(l,s),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&bs(l,s),ph(l.x,f.offset.x),ph(l.y,f.offset.y))}return l}applyTransform(s,o=!1){const l=Rr();bs(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&mh(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),bf(u.latestValues)&&mh(l,u.latestValues)}return bf(this.latestValues)&&mh(l,this.latestValues),l}removeTransform(s){const o=Rr();bs(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!bf(c.latestValues))continue;LA(c.latestValues)&&c.updateSnapshot();const u=Rr(),f=c.measurePageBox();bs(u,f),rO(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return bf(this.latestValues)&&rO(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ni.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Ni.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rr(),this.relativeTargetOrigin=Rr(),Rg(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),bs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Rr(),this.targetWithTransforms=Rr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),koe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bs(this.target,this.layout.layoutBox),QB(this.target,this.targetDelta)):bs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rr(),this.relativeTargetOrigin=Rr(),Rg(this.relativeTargetOrigin,this.target,p.target),bs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}hg&&xf.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||LA(this.parent.latestValues)||XB(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ni.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;bs(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;Foe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Rr());const{target:b}=o;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(eO(this.prevProjectionDelta.x,this.projectionDelta.x),eO(this.prevProjectionDelta.y,this.projectionDelta.y)),Og(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!lO(this.projectionDelta.x,this.prevProjectionDelta.x)||!lO(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),hg&&xf.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=hh(),this.projectionDelta=hh(),this.projectionDeltaWithTransform=hh()}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=hh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Rr(),p=l?l.source:void 0,b=this.layout?this.layout.source:void 0,x=p!==b,v=this.getStack(),y=!v||v.members.length<=1,w=!!(x&&!y&&this.options.crossfade===!0&&!this.path.some(Sle));this.animationProgress=0;let S;this.mixTargetDelta=E=>{const P=E/1e3;dO(f.x,s.x,P),dO(f.y,s.y,P),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rg(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_le(this.relativeTarget,this.relativeTargetOrigin,h,P),S&&sle(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Rr()),bs(S,this.relativeTarget)),x&&(this.animationValues=u,ele(u,c,this.latestValues,P,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ou(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qn.update(()=>{$1.hasAnimatedSinceResize=!0,this.currentAnimation=Koe(0,cO,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&oV(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Rr();const f=ts(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=ts(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}bs(o,l),mh(o,u),Og(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new ole),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&q5("z",s,c,this.animationValues);for(let u=0;u<z5.length;u++)q5(`rotate${z5[u]}`,s,c,this.animationValues),q5(`skew${z5[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return cle;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=D1(s==null?void 0:s.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=D1(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!bf(this.latestValues)&&(x.transform=u?u({},""):"none",this.hasProjected=!1),x}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=lle(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:p,y:b}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${b.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in Db){if(h[x]===void 0)continue;const{correct:v,applyTo:y}=Db[x],w=c.transform==="none"?h[x]:v(h[x],f);if(y){const S=y.length;for(let E=0;E<S;E++)c[y[E]]=w}else c[x]=w}return this.options.layoutId&&(c.pointerEvents=f===this?D1(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(uO),this.root.sharedNodes.clear()}}}function fle(t){t.updateLayout()}function dle(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,s=n.source!==t.layout.source;a==="size"?Ss(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],p=ts(h);h.min=r[f].min,h.max=h.min+p}):oV(a,n.layoutBox,r)&&Ss(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],p=ts(r[f]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const o=hh();Og(o,r,n.layoutBox);const l=hh();s?Og(l,t.applyTransform(i,!0),n.measuredBox):Og(l,r,n.layoutBox);const c=!rV(o);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const b=Rr();Rg(b,n.layoutBox,h.layoutBox);const x=Rr();Rg(x,r,p.layoutBox),iV(b,x)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=b,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function hle(t){hg&&xf.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ple(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function mle(t){t.clearSnapshot()}function uO(t){t.clearMeasurements()}function gle(t){t.isLayoutDirty=!1}function yle(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fO(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function vle(t){t.resolveTargetDelta()}function ble(t){t.calcProjection()}function xle(t){t.resetSkewAndRotation()}function wle(t){t.removeLeadSnapshot()}function dO(t,e,n){t.translate=fr(e.translate,0,n),t.scale=fr(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function hO(t,e,n,r){t.min=fr(e.min,n.min,r),t.max=fr(e.max,n.max,r)}function _le(t,e,n,r){hO(t.x,e.x,n.x,r),hO(t.y,e.y,n.y,r)}function Sle(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Ale={duration:.45,ease:[.4,0,.1,1]},pO=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),mO=pO("applewebkit/")&&!pO("chrome/")?Math.round:Za;function gO(t){t.min=mO(t.min),t.max=mO(t.max)}function Nle(t){gO(t.x),gO(t.y)}function oV(t,e,n){return t==="position"||t==="preserve-aspect"&&!Toe(oO(e),oO(n),.2)}function Ele(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Ple=sV({attachResizeListener:(t,e)=>_y(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),W5={current:void 0},lV=sV({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!W5.current){const t=new Ple({});t.mount(window),t.setOptions({layoutScroll:!0}),W5.current=t}return W5.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Tle={pan:{Feature:qoe},drag:{Feature:zoe,ProjectionNode:lV,MeasureLayout:eV}};function yO(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Qn.postRender(()=>a(e,Dv(e)))}class kle extends Wu{mount(){const{current:e}=this.node;e&&(this.unmount=Tae(e,n=>(yO(this.node,n,"Start"),r=>yO(this.node,r,"End"))))}unmount(){}}class Ile extends Wu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lv(_y(this.node.current,"focus",()=>this.onFocus()),_y(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vO(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Qn.postRender(()=>a(e,Dv(e)))}class Cle extends Wu{mount(){const{current:e}=this.node;e&&(this.unmount=jae(e,n=>(vO(this.node,n,"Start"),(r,{success:i})=>vO(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const FA=new WeakMap,H5=new WeakMap,jle=t=>{const e=FA.get(t.target);e&&e(t)},Ole=t=>{t.forEach(jle)};function Rle({root:t,...e}){const n=t||document;H5.has(n)||H5.set(n,{});const r=H5.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Ole,{root:t,...e})),r[i]}function Mle(t,e,n){const r=Rle(e);return FA.set(t,n),r.observe(t),()=>{FA.delete(t),r.unobserve(t)}}const Lle={some:0,all:1};class Dle extends Wu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Lle[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return Mle(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Fle(e,n))&&this.startObserver()}unmount(){}}function Fle({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const $le={inView:{Feature:Dle},tap:{Feature:Cle},focus:{Feature:Ile},hover:{Feature:kle}},Ble={layout:{ProjectionNode:lV,MeasureLayout:eV}},$A={current:null},cV={current:!1};function Vle(){if(cV.current=!0,!!jT)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>$A.current=t.matches;t.addListener(e),e()}else $A.current=!1}const Ule=[...RB,Wi,Ru],zle=t=>Ule.find(OB(t)),bO=new WeakMap;function qle(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Ji(i))t.addValue(r,i);else if(Ji(a))t.addValue(r,xy(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,xy(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const xO=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Wle{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=a4,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=el.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Qn.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=s;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=F2(n),this.isVariantNode=U9(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const b=h[p];l[p]!==void 0&&Ji(b)&&b.set(l[p],!1)}}mount(e){this.current=e,bO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),cV.current||Vle(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$A.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){bO.delete(this.current),this.projection&&this.projection.unmount(),Ou(this.notifyUpdate),Ou(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=yd.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Qn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ap){const n=ap[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<xO.length;r++){const i=xO[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=e[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=qle(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=xy(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(CB(i)||_B(i))?i=parseFloat(i):!zle(i)&&Ru.test(n)&&(i=TB(e,n)),this.setBaseTarget(e,Ji(i)?i.get():i)),Ji(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=$T(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Ji(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ZT),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class uV extends Wle{constructor(){super(...arguments),this.KeyframeResolver=MB}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ji(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Hle(t){return window.getComputedStyle(t)}class Gle extends uV{constructor(){super(...arguments),this.type="html",this.renderInstance=Q9}readValueFromInstance(e,n){if(yd.has(n)){const r=i4(n);return r&&r.default||0}else{const r=Hle(e),i=(K9(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return JB(e,n)}build(e,n,r){UT(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return HT(e,n,r)}}class Kle extends uV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(yd.has(n)){const r=i4(n);return r&&r.default||0}return n=J9.has(n)?n:LT(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return tB(e,n,r)}build(e,n,r){zT(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){Z9(e,n,r,i)}mount(e){this.isSVGTag=WT(e.tagName),super.mount(e)}}const Yle=(t,e)=>FT(t)?new Kle(e):new Gle(e,{allowProjection:t!==U.Fragment}),Xle=wae({...boe,...$le,...Tle,...Ble},Yle),Ge=Lie(Xle);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qle={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jle=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),at=(t,e)=>{const n=U.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>U.createElement("svg",{ref:u,...Qle,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${Jle(t)}`,o].join(" "),...c},[...e.map(([f,h])=>U.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=at("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=at("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=at("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=at("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=at("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zle=at("Bath",[["path",{d:"M9 6 6.5 3.5a1.5 1.5 0 0 0-1-.5C4.683 3 4 3.683 4 4.5V17a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"1r8yf5"}],["line",{x1:"10",x2:"8",y1:"5",y2:"7",key:"h5g8z4"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"7",x2:"7",y1:"19",y2:"21",key:"16jp00"}],["line",{x1:"17",x2:"17",y1:"19",y2:"21",key:"1pxrnk"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ece=at("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tce=at("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=at("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=at("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=at("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=at("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=at("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=at("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=at("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nce=at("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=at("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=at("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=at("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=at("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=at("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=at("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=at("DoorOpen",[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=at("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rce=at("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ice=at("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ace=at("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sce=at("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=at("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=at("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=at("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=at("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=at("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=at("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oce=at("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=at("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lce=at("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=at("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=at("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=at("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cce=at("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=at("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uce=at("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12v0c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"bpx1uq"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11v0c-.11.7-.72 1.22-1.43 1.22H17",key:"1pd0s7"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98v0C9.52 4.9 9 5.52 9 6.23V7",key:"zq5xbz"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fce=at("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=at("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=at("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dce=at("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=at("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=at("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hce=at("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=at("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=at("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pce=at("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=at("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=at("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=at("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=at("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=at("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mce=at("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=at("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gce=at("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=at("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=at("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yce=at("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);async function v4({tenantId:t,landlordId:e,propertyId:n,unitId:r,tenantName:i="",tenantEmail:a="",unitName:s="",propertyName:o="",rentAmount:l,billingCycle:c="monthly",currency:u="NGN",...f}){await b4(e,n,r);const h={tenantId:t||null,landlordId:e,propertyId:n,unitId:r,tenantName:i,tenantEmail:a,unitName:s,propertyName:o,rentAmount:Number(l)||0,billingCycle:c,currency:u,status:"active",startDate:rr(),endDate:null,closedAt:null,invoiceSchedulingEnabled:!0,nextInvoiceDate:wce(c),createdAt:rr(),updatedAt:rr(),...f};return{id:(await Up(Er(yt,"tenancies"),h)).id,...h}}async function vce(t){await Pa(yn(yt,"tenancies",t),{status:"former",endDate:rr(),closedAt:rr(),invoiceSchedulingEnabled:!1,updatedAt:rr()})}async function b4(t,e,n){const r=await Vp(mi(Er(yt,"tenancies"),pr("landlordId","==",t),pr("propertyId","==",e),pr("unitId","==",n)));for(const i of r.docs)i.data().status==="active"&&await vce(i.id)}async function bce(t,e,n){const i=(await Vp(mi(Er(yt,"tenancies"),pr("landlordId","==",t),pr("propertyId","==",e),pr("unitId","==",n)))).docs.find(a=>a.data().status==="active");return i?{id:i.id,...i.data()}:null}function xce(t,e,n){return Bs(mi(Er(yt,"tenancies"),pr("landlordId","==",t),gd("createdAt","desc")),r=>e(r.docs.map(i=>({id:i.id,...i.data()}))),r=>{console.error("Error in subscribeTenancies:",r),n&&n(r)})}function x4(t,e){return Bs(mi(Er(yt,"tenancies"),pr("tenantId","==",t)),n=>{e(n.docs.map(r=>({id:r.id,...r.data()})))},n=>console.error("Error in subscribeTenantTenancies:",n))}function wce(t){const e=new Date;switch(t){case"yearly":return zn.fromDate(new Date(e.getFullYear()+1,e.getMonth(),1));case"weekly":return zn.fromDate(new Date(e.getTime()+7*864e5));case"daily":return zn.fromDate(new Date(e.getTime()+864e5));case"monthly":default:return zn.fromDate(new Date(e.getFullYear(),e.getMonth()+1,1))}}function _ce(t){return(t||"invite").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function Sce(t){return`${window.location.origin}/join/${t}`}async function Ace({landlordUid:t,propertyId:e,unitId:n=null,unitName:r="",propertyName:i}){n&&await Nce(e,n);const a=_ce(i),s=crypto.randomUUID().split("-")[0].substring(0,6),o=`${a}-${s}`,l=new Date,c=new Date(l.getTime()+24*60*60*1e3);return await ET(yn(yt,"inviteTokens",o),{token:o,landlordUid:t,propertyId:e,unitId:n,unitName:r||"",propertyName:i||"",createdAt:zn.fromDate(l),expiresAt:zn.fromDate(c),status:"pending",acceptedBy:null}),{token:o,link:Sce(o),expiresAt:c}}async function bV(t){var i,a;if(!t)return{data:null,valid:!1,reason:"not_found"};const e=await al(yn(yt,"inviteTokens",t));if(!e.exists())return{data:null,valid:!1,reason:"not_found"};const n=e.data();if(n.status==="accepted")return{data:n,valid:!1,reason:"already_used"};if(n.status==="expired")return{data:n,valid:!1,reason:"expired"};const r=((a=(i=n.expiresAt)==null?void 0:i.toDate)==null?void 0:a.call(i))??new Date(n.expiresAt);if(new Date>r)return await Pa(yn(yt,"inviteTokens",t),{status:"expired"}),{data:n,valid:!1,reason:"expired"};if(n.unitId){const s=yn(yt,"users",n.landlordUid,"properties",n.propertyId,"units",n.unitId),o=await al(s);if(o.exists()){const l=o.data();if(l.status==="occupied"&&l.tenantId)return{data:n,valid:!1,reason:"unit_occupied"}}}return{data:n,valid:!0,reason:"ok"}}async function xV(t,e){const{data:n,valid:r,reason:i}=await bV(t);if(!r)throw new Error(i);const{landlordUid:a,propertyId:s,unitId:o,unitName:l,propertyName:c}=n,u=yn(yt,"users",a,"properties",s,"units",o),f=await al(u),h=f.exists()?f.data():{};return await b4(a,s,o),await uh(a,s,o,{tenantId:e.uid,tenantName:e.displayName||"",tenantEmail:e.email||"",status:"occupied"}),await v4({tenantId:e.uid,landlordId:a,propertyId:s,unitId:o,tenantName:e.displayName||"",tenantEmail:e.email||"",unitName:l||h.unitName||"",propertyName:c||"",rentAmount:h.rentAmount||0,billingCycle:h.billingCycle||"monthly",currency:h.currency||"NGN"}),await Pa(yn(yt,"inviteTokens",t),{status:"accepted",acceptedBy:e.uid,acceptedAt:zn.now()}),{propertyId:s,unitId:o,landlordUid:a}}async function Nce(t,e){try{const n=mi(Er(yt,"inviteTokens"),pr("propertyId","==",t),pr("unitId","==",e),pr("status","==","pending")),r=await Vp(n);await Promise.all(r.docs.map(i=>Pa(i.ref,{status:"expired"})))}catch(n){console.warn("revokePendingTokensForUnit query failed (add composite index):",n.message)}}function nn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ds(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Ece(t,e){const n=nn(t);return isNaN(e)?Ds(t,NaN):(n.setDate(n.getDate()+e),n)}function Pce(t,e){const n=nn(t);if(isNaN(e))return Ds(t,NaN);if(!e)return n;const r=n.getDate(),i=Ds(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const a=i.getDate();return r>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function Tce(t,e){const n=+nn(t);return Ds(t,n+e)}const wV=6048e5,kce=864e5,Ice=36e5,U0=43200,SO=1440;function Cce(t,e){return Tce(t,e*Ice)}let jce={};function $v(){return jce}function Sy(t,e){var o,l,c,u;const n=$v(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=nn(t),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function zb(t){return Sy(t,{weekStartsOn:1})}function _V(t){const e=nn(t),n=e.getFullYear(),r=Ds(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=zb(r),a=Ds(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const s=zb(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function AO(t){const e=nn(t);return e.setHours(0,0,0,0),e}function qb(t){const e=nn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function SV(t,e){const n=AO(t),r=AO(e),i=+n-qb(n),a=+r-qb(r);return Math.round((i-a)/kce)}function Oce(t){const e=_V(t),n=Ds(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),zb(n)}function B1(t,e){const n=nn(t),r=nn(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function Rce(t){return Ds(t,Date.now())}function Mce(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Lce(t){if(!Mce(t)&&typeof t!="number")return!1;const e=nn(t);return!isNaN(Number(e))}function Dce(t,e){const n=nn(t),r=nn(e),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function Gp(t,e){const n=nn(t),r=nn(e),i=NO(n,r),a=Math.abs(SV(n,r));n.setDate(n.getDate()-i*a);const s=+(NO(n,r)===-i),o=i*(a-s);return o===0?0:o}function NO(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function Fce(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function $ce(t,e){return+nn(t)-+nn(e)}function Bce(t){const e=nn(t);return e.setHours(23,59,59,999),e}function Vce(t){const e=nn(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Uce(t){const e=nn(t);return+Bce(e)==+Vce(e)}function zce(t,e){const n=nn(t),r=nn(e),i=B1(n,r),a=Math.abs(Dce(n,r));let s;if(a<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*a);let o=B1(n,r)===-i;Uce(nn(t))&&a===1&&B1(t,r)===1&&(o=!1),s=i*(a-Number(o))}return s===0?0:s}function qce(t,e,n){const r=$ce(t,e)/1e3;return Fce(n==null?void 0:n.roundingMethod)(r)}function Wce(t){const e=nn(t),n=Ds(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Hce={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Gce=(t,e,n)=>{let r;const i=Hce[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function K5(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Kce={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Yce={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Xce={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Qce={date:K5({formats:Kce,defaultWidth:"full"}),time:K5({formats:Yce,defaultWidth:"full"}),dateTime:K5({formats:Xce,defaultWidth:"full"})},Jce={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Zce=(t,e,n,r)=>Jce[t];function Bm(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const eue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},iue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},aue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sue=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},oue={ordinalNumber:sue,era:Bm({values:eue,defaultWidth:"wide"}),quarter:Bm({values:tue,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Bm({values:nue,defaultWidth:"wide"}),day:Bm({values:rue,defaultWidth:"wide"}),dayPeriod:Bm({values:iue,defaultWidth:"wide",formattingValues:aue,defaultFormattingWidth:"wide"})};function Vm(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?cue(o,f=>f.test(s)):lue(o,f=>f.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function lue(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function cue(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function uue(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const fue=/^(\d+)(th|st|nd|rd)?/i,due=/\d+/i,hue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pue={any:[/^b/i,/^(a|c)/i]},mue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gue={any:[/1/i,/2/i,/3/i,/4/i]},yue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_ue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Sue={ordinalNumber:uue({matchPattern:fue,parsePattern:due,valueCallback:t=>parseInt(t,10)}),era:Vm({matchPatterns:hue,defaultMatchWidth:"wide",parsePatterns:pue,defaultParseWidth:"any"}),quarter:Vm({matchPatterns:mue,defaultMatchWidth:"wide",parsePatterns:gue,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Vm({matchPatterns:yue,defaultMatchWidth:"wide",parsePatterns:vue,defaultParseWidth:"any"}),day:Vm({matchPatterns:bue,defaultMatchWidth:"wide",parsePatterns:xue,defaultParseWidth:"any"}),dayPeriod:Vm({matchPatterns:wue,defaultMatchWidth:"any",parsePatterns:_ue,defaultParseWidth:"any"})},AV={code:"en-US",formatDistance:Gce,formatLong:Qce,formatRelative:Zce,localize:oue,match:Sue,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Aue(t){const e=nn(t);return SV(e,Wce(e))+1}function Nue(t){const e=nn(t),n=+zb(e)-+Oce(e);return Math.round(n/wV)+1}function NV(t,e){var u,f,h,p;const n=nn(t),r=n.getFullYear(),i=$v(),a=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=Ds(t,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const o=Sy(s,e),l=Ds(t,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const c=Sy(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Eue(t,e){var o,l,c,u;const n=$v(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=NV(t,e),a=Ds(t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Sy(a,e)}function Pue(t,e){const n=nn(t),r=+Sy(n,e)-+Eue(n,e);return Math.round(r/wV)+1}function Sn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const zc={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Sn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Sn(n+1,2)},d(t,e){return Sn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Sn(t.getHours()%12||12,e.length)},H(t,e){return Sn(t.getHours(),e.length)},m(t,e){return Sn(t.getMinutes(),e.length)},s(t,e){return Sn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Sn(i,e.length)}},Dd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},EO={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return zc.y(t,e)},Y:function(t,e,n,r){const i=NV(t,r),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return Sn(s,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):Sn(a,e.length)},R:function(t,e){const n=_V(t);return Sn(n,e.length)},u:function(t,e){const n=t.getFullYear();return Sn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Sn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Sn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return zc.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Sn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Pue(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Sn(i,e.length)},I:function(t,e,n){const r=Nue(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Sn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):zc.d(t,e)},D:function(t,e,n){const r=Aue(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Sn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Sn(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Sn(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Sn(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Dd.noon:r===0?i=Dd.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Dd.evening:r>=12?i=Dd.afternoon:r>=4?i=Dd.morning:i=Dd.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return zc.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):zc.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Sn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Sn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):zc.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):zc.s(t,e)},S:function(t,e){return zc.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return TO(r);case"XXXX":case"XX":return wf(r);case"XXXXX":case"XXX":default:return wf(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return TO(r);case"xxxx":case"xx":return wf(r);case"xxxxx":case"xxx":default:return wf(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+PO(r,":");case"OOOO":default:return"GMT"+wf(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+PO(r,":");case"zzzz":default:return"GMT"+wf(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Sn(r,e.length)},T:function(t,e,n){const r=t.getTime();return Sn(r,e.length)}};function PO(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+Sn(a,2)}function TO(t,e){return t%60===0?(t>0?"-":"+")+Sn(Math.abs(t)/60,2):wf(t,e)}function wf(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Sn(Math.trunc(r/60),2),a=Sn(r%60,2);return n+i+e+a}const kO=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},EV=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Tue=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return kO(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",kO(r,e)).replace("{{time}}",EV(i,e))},kue={p:EV,P:Tue},Iue=/^D+$/,Cue=/^Y+$/,jue=["D","DD","YY","YYYY"];function Oue(t){return Iue.test(t)}function Rue(t){return Cue.test(t)}function Mue(t,e,n){const r=Lue(t,e,n);if(console.warn(r),jue.includes(t))throw new RangeError(r)}function Lue(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Due=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Fue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$ue=/^'([^]*?)'?$/,Bue=/''/g,Vue=/[a-zA-Z]/;function pi(t,e,n){var u,f,h,p;const r=$v(),i=r.locale??AV,a=r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,s=r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,o=nn(t);if(!Lce(o))throw new RangeError("Invalid time value");let l=e.match(Fue).map(b=>{const x=b[0];if(x==="p"||x==="P"){const v=kue[x];return v(b,i.formatLong)}return b}).join("").match(Due).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const x=b[0];if(x==="'")return{isToken:!1,value:Uue(b)};if(EO[x])return{isToken:!0,value:b};if(x.match(Vue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(b=>{if(!b.isToken)return b.value;const x=b.value;(Rue(x)||Oue(x))&&Mue(x,e,String(t));const v=EO[x[0]];return v(o,x,i.localize,c)}).join("")}function Uue(t){const e=t.match($ue);return e?e[1].replace(Bue,"'"):t}function zue(t,e,n){const r=$v(),i=(n==null?void 0:n.locale)??r.locale??AV,a=2520,s=B1(t,e);if(isNaN(s))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:s});let l,c;s>0?(l=nn(e),c=nn(t)):(l=nn(t),c=nn(e));const u=qce(c,l),f=(qb(c)-qb(l))/1e3,h=Math.round((u-f)/60);let p;if(h<2)return n!=null&&n.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,o):u<10?i.formatDistance("lessThanXSeconds",10,o):u<20?i.formatDistance("lessThanXSeconds",20,o):u<40?i.formatDistance("halfAMinute",0,o):u<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):h===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",h,o);if(h<45)return i.formatDistance("xMinutes",h,o);if(h<90)return i.formatDistance("aboutXHours",1,o);if(h<SO){const b=Math.round(h/60);return i.formatDistance("aboutXHours",b,o)}else{if(h<a)return i.formatDistance("xDays",1,o);if(h<U0){const b=Math.round(h/SO);return i.formatDistance("xDays",b,o)}else if(h<U0*2)return p=Math.round(h/U0),i.formatDistance("aboutXMonths",p,o)}if(p=zce(c,l),p<12){const b=Math.round(h/U0);return i.formatDistance("xMonths",b,o)}else{const b=p%12,x=Math.trunc(p/12);return b<3?i.formatDistance("aboutXYears",x,o):b<9?i.formatDistance("overXYears",x,o):i.formatDistance("almostXYears",x+1,o)}}function IO(t,e){return zue(t,Rce(t),e)}function que(t,e){const n=nn(t),r=nn(e);return n.getTime()>r.getTime()}function Mu(t){return+nn(t)<Date.now()}function Wue(t,e){return Pce(t,-e)}function Hue(t,e){return Cce(t,-48)}const qA="leaseease_pending_invite";function z0(t){sessionStorage.setItem(qA,t)}function PV(){const t=sessionStorage.getItem(qA);return sessionStorage.removeItem(qA),t}function Gue(){var y;const{token:t}=tF(),{user:e}=Pr(),n=yo(),[r,i]=U.useState("loading"),[a,s]=U.useState(null),[o,l]=U.useState(null),[c,u]=U.useState([]),[f,h]=U.useState(!1),[p,b]=U.useState(null);U.useEffect(()=>{(async()=>{var w,S;try{const{data:E,valid:P,reason:R}=await bV(t);if(P){s(E);const I=((S=(w=E.expiresAt)==null?void 0:w.toDate)==null?void 0:S.call(w))??new Date(E.expiresAt);if(l(I),E.unitId)i("valid");else{i("picking"),h(!0);try{const A=await bie(E.landlordUid,E.propertyId);u(A)}catch{Qe.error("Could not load available units.")}finally{h(!1)}}}else i(R==="already_used"?"used":R==="expired"?"expired":R==="unit_occupied"?"occupied":"error"),s(E)}catch{i("error")}})()},[t]);const x=async()=>{if(!e){z0(t),n(`/register?invite=${t}`,{replace:!0});return}if(e.uid===(a==null?void 0:a.landlordUid)){Qe.error("You can't accept your own invite.");return}i("accepting");try{await xV(t,e),i("done"),Qe.success("You've been added to the unit!")}catch(w){Qe.error("Failed to accept invite: "+w.message),i("valid")}},v=async()=>{if(!e){z0(t),n(`/register?invite=${t}`,{replace:!0});return}if(p){if(e.uid===(a==null?void 0:a.landlordUid)){Qe.error("You can't request your own unit.");return}i("submitting");try{await xie(a.landlordUid,a.propertyId,p,e);const w=c.find(S=>S.id===p);s(S=>({...S,unitName:(w==null?void 0:w.name)||p})),i("pending_approval"),Qe.success("Request sent to your landlord!")}catch(w){Qe.error(w.message||"Failed to submit. Please try again."),i("picking")}}};return r==="done"?d.jsx(Tl,{children:d.jsxs(Ge.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"flex flex-col items-center text-center gap-4",children:[d.jsx("div",{className:"w-20 h-20 rounded-full bg-sage/15 flex items-center justify-center",children:d.jsx(ao,{size:36,className:"text-sage"})}),d.jsx("h2",{className:"font-display text-ink text-2xl font-semibold",children:"You're in!"}),d.jsxs("p",{className:"font-body text-stone-500 text-sm max-w-xs",children:["You've been assigned to ",d.jsx("strong",{children:a==null?void 0:a.unitName})," at ",d.jsx("strong",{children:a==null?void 0:a.propertyName}),"."]}),d.jsxs("button",{onClick:()=>n("/tenant"),className:"btn-primary mt-2",children:[d.jsx(jh,{size:16})," Go to My Homes"]})]})}):r==="pending_approval"?d.jsx(Tl,{children:d.jsxs(Ge.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"flex flex-col items-center text-center gap-4 max-w-sm",children:[d.jsx("div",{className:"w-20 h-20 rounded-full bg-sage/15 flex items-center justify-center",children:d.jsx(tce,{size:36,className:"text-sage"})}),d.jsx("h2",{className:"font-display text-ink text-2xl font-semibold",children:"Request Sent!"}),d.jsxs("p",{className:"font-body text-stone-500 text-sm",children:["Your request for ",d.jsx("strong",{children:a==null?void 0:a.unitName})," at ",d.jsx("strong",{children:a==null?void 0:a.propertyName})," has been sent to your landlord. You'll be notified once they confirm."]}),d.jsxs("div",{className:"w-full p-4 rounded-xl bg-sage/8 border border-sage/20 text-left",children:[d.jsx("p",{className:"font-body text-xs text-sage font-semibold uppercase tracking-wider mb-1",children:"What happens next?"}),d.jsx("p",{className:"font-body text-xs text-stone-500",children:"Your landlord will review and approve your request. Once approved, you'll see the unit in your Homes dashboard."})]}),d.jsxs("button",{onClick:()=>n("/tenant"),className:"btn-primary mt-2 w-full justify-center",children:[d.jsx(jh,{size:16})," Go to My Homes"]})]})}):r==="picking"||r==="submitting"?d.jsx(Tl,{children:d.jsxs(Ge.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},className:"w-full max-w-md space-y-5",children:[d.jsxs("div",{className:"card overflow-hidden",children:[d.jsxs("div",{className:"bg-gradient-to-br from-ink to-ink/90 p-6 relative",children:[d.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"radial-gradient(circle at 1px 1px, #F5F0E8 1px, transparent 0)",backgroundSize:"20px 20px"}}),d.jsxs("div",{className:"relative flex items-center gap-4",children:[d.jsx("div",{className:"w-14 h-14 rounded-2xl bg-sage/20 border border-sage/30 flex items-center justify-center flex-shrink-0",children:d.jsx(mo,{size:24,className:"text-sage"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-body text-stone-400 text-xs uppercase tracking-wider mb-0.5",children:"Building Portal"}),d.jsx("h2",{className:"font-display text-cream text-xl font-semibold",children:a==null?void 0:a.propertyName}),d.jsx("p",{className:"font-body text-stone-400 text-sm",children:"Select your unit to request access"})]})]})]}),o&&d.jsxs("div",{className:"px-5 py-3 flex items-center gap-2",children:[d.jsx(Ih,{size:13,className:"text-stone-400 flex-shrink-0"}),d.jsxs("span",{className:"font-body text-xs text-stone-400",children:["Invite expires ",IO(o,{addSuffix:!0})]})]})]}),e&&d.jsxs("p",{className:"font-body text-sm text-stone-500 text-center",children:["Requesting as ",d.jsx("strong",{className:"text-ink",children:e.email})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-3",children:"Available Units"}),f?d.jsx("div",{className:"flex items-center justify-center py-10",children:d.jsx(pg,{size:28,className:"text-sage animate-spin"})}):c.length===0?d.jsxs("div",{className:"card p-6 text-center",children:[d.jsx(Kl,{size:28,className:"text-stone-300 mx-auto mb-2"}),d.jsx("p",{className:"font-body text-sm text-stone-400",children:"No vacant units available right now."}),d.jsx("p",{className:"font-body text-xs text-stone-300 mt-1",children:"Contact your landlord directly."})]}):d.jsx("div",{className:"grid grid-cols-2 gap-3",children:d.jsx(po,{children:c.map((w,S)=>{var P;const E=p===w.id;return d.jsxs(Ge.button,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:S*.04},type:"button",onClick:()=>b(E?null:w.id),className:`relative text-left p-4 rounded-2xl border-2 transition-all ${E?"border-sage bg-sage/8 shadow-md":"border-stone-200 bg-white hover:border-stone-300 hover:shadow-sm"}`,children:[E&&d.jsx("div",{className:"absolute top-2.5 right-2.5 w-5 h-5 rounded-full bg-sage flex items-center justify-center",children:d.jsx(ao,{size:11,className:"text-white"})}),d.jsx("div",{className:`w-9 h-9 rounded-xl flex items-center justify-center mb-2.5 ${E?"bg-sage/20":"bg-stone-100"}`,children:d.jsx(Kl,{size:17,className:E?"text-sage":"text-stone-400"})}),d.jsx("p",{className:`font-body text-sm font-semibold ${E?"text-ink":"text-stone-700"}`,children:w.name}),w.rentAmount>0&&d.jsxs("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:[(P=w.rentAmount)==null?void 0:P.toLocaleString()," / ",w.billingCycle||"mo"]})]},w.id)})})})]}),d.jsx("button",{onClick:v,disabled:!p||r==="submitting"||!e,className:"btn-primary w-full py-3 justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:r==="submitting"?d.jsxs(d.Fragment,{children:[d.jsx(pg,{size:16,className:"animate-spin"})," Sending Request"]}):e?d.jsxs(d.Fragment,{children:[d.jsx(vd,{size:16})," Request to Join",p?`  ${(y=c.find(w=>w.id===p))==null?void 0:y.name}`:""]}):d.jsxs(d.Fragment,{children:[d.jsx(sl,{size:16})," Sign In / Sign Up to Continue"]})}),!e&&d.jsxs("p",{className:"font-body text-xs text-stone-400 text-center",children:["Already have an account?"," ",d.jsx(In,{to:`/login?invite=${t}`,onClick:()=>z0(t),className:"text-sage font-medium hover:underline",children:"Sign in"})]})]})}):r==="occupied"?d.jsx(Tl,{children:d.jsx(q0,{icon:mce,iconClass:"text-amber",title:"Unit Already Taken",message:`${a!=null&&a.unitName?`"${a.unitName}" at `:""}${(a==null?void 0:a.propertyName)||"this property"} already has a tenant assigned. Contact your landlord if you believe this is an error.`})}):r==="expired"?d.jsx(Tl,{children:d.jsx(q0,{icon:Ih,iconClass:"text-amber",title:"Link Expired",message:"This invite link has expired (links are valid for 24 hours). Please ask your landlord to send a new one."})}):r==="used"?d.jsx(Tl,{children:d.jsx(q0,{icon:ao,iconClass:"text-sage",title:"Already Accepted",message:"This invite has already been used. If you think this is a mistake, contact your landlord.",action:e?d.jsxs("button",{onClick:()=>n("/tenant"),className:"btn-primary mt-2",children:[d.jsx(jh,{size:15})," My Homes"]}):null})}):r==="error"?d.jsx(Tl,{children:d.jsx(q0,{icon:op,iconClass:"text-rust",title:"Invalid Link",message:"This invite link doesn't exist or has been revoked. Please ask your landlord for a new invite."})}):r==="loading"?d.jsxs(Tl,{children:[d.jsx(pg,{size:32,className:"text-sage animate-spin"}),d.jsx("p",{className:"font-body text-sm text-stone-400 mt-4",children:"Checking your invite"})]}):d.jsx(Tl,{children:d.jsxs(Ge.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},className:"w-full max-w-sm space-y-5",children:[d.jsxs("div",{className:"card overflow-hidden",children:[d.jsxs("div",{className:"bg-gradient-to-br from-ink to-ink/90 p-6 relative",children:[d.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"radial-gradient(circle at 1px 1px, #F5F0E8 1px, transparent 0)",backgroundSize:"20px 20px"}}),d.jsxs("div",{className:"relative flex items-center gap-4",children:[d.jsx("div",{className:"w-14 h-14 rounded-2xl bg-sage/20 border border-sage/30 flex items-center justify-center flex-shrink-0",children:d.jsx(Kl,{size:24,className:"text-sage"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-body text-stone-400 text-xs uppercase tracking-wider mb-0.5",children:"Unit Invite"}),d.jsx("h2",{className:"font-display text-cream text-xl font-semibold",children:a==null?void 0:a.unitName}),d.jsx("p",{className:"font-body text-stone-400 text-sm",children:a==null?void 0:a.propertyName})]})]})]}),d.jsxs("div",{className:"px-5 py-4 flex items-center gap-2",children:[d.jsx(Ih,{size:13,className:"text-stone-400 flex-shrink-0"}),d.jsx("span",{className:"font-body text-xs text-stone-400",children:o?`Expires ${IO(o,{addSuffix:!0})}`:""})]})]}),e?d.jsxs("p",{className:"font-body text-sm text-stone-500 text-center",children:["Accepting as ",d.jsx("strong",{className:"text-ink",children:e.email})]}):d.jsx("p",{className:"font-body text-sm text-stone-500 text-center",children:"You'll need to sign in or create an account to accept this invite."}),d.jsx("button",{onClick:x,disabled:r==="accepting",className:"btn-primary w-full",children:r==="accepting"?d.jsxs(d.Fragment,{children:[d.jsx(pg,{size:16,className:"animate-spin"})," Accepting"]}):e?d.jsxs(d.Fragment,{children:[d.jsx(ao,{size:16})," Accept & Join Unit"]}):d.jsxs(d.Fragment,{children:[d.jsx(sl,{size:16})," Sign In / Sign Up to Accept"]})}),!e&&d.jsxs("p",{className:"font-body text-xs text-stone-400 text-center",children:["Already have an account?"," ",d.jsx(In,{to:`/login?invite=${t}`,onClick:()=>z0(t),className:"text-sage font-medium hover:underline",children:"Sign in"})]})]})})}function Tl({children:t}){return d.jsxs("div",{className:"min-h-screen bg-stone-50 flex flex-col items-center justify-center p-6",children:[d.jsxs("div",{className:"mb-8 flex items-center gap-3",children:[d.jsx("div",{className:"w-9 h-9 rounded-xl bg-sage flex items-center justify-center shadow-sm",children:d.jsx(sl,{size:17,className:"text-cream"})}),d.jsx("span",{className:"font-display font-semibold text-ink text-xl",children:"LeaseEase"})]}),t]})}function q0({icon:t,iconClass:e,title:n,message:r,action:i}){return d.jsxs(Ge.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"card p-8 max-w-sm w-full flex flex-col items-center text-center gap-3",children:[d.jsx("div",{className:"w-16 h-16 rounded-2xl bg-stone-100 flex items-center justify-center",children:d.jsx(t,{size:28,className:e})}),d.jsx("h2",{className:"font-display text-ink text-xl font-semibold",children:n}),d.jsx("p",{className:"font-body text-stone-500 text-sm",children:r}),i]})}function WA({id:t,label:e,value:n,onChange:r,placeholder:i="Enter password",autoComplete:a="off",required:s=!1}){const[o,l]=U.useState(!1);return d.jsxs("div",{children:[d.jsx("label",{htmlFor:t,className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:e}),d.jsxs("div",{className:"relative",children:[d.jsx(lce,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none","aria-hidden":"true"}),d.jsx("input",{id:t,type:o?"text":"password",className:"input-base pl-10 pr-10",placeholder:i,value:n,onChange:r,autoComplete:a,required:s,"aria-label":e}),d.jsx("button",{type:"button",onClick:()=>l(c=>!c),"aria-label":o?"Hide password":"Show password",className:"absolute right-3.5 top-1/2 -translate-y-1/2 text-stone-400 hover:text-stone-600 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sage rounded",children:o?d.jsx(rce,{size:16}):d.jsx(ice,{size:16})})]})]})}function Kue(){const t=yo(),[e,n]=U.useState({email:"",password:""}),[r,i]=U.useState(!1),[a,s]=U.useState(""),o=c=>u=>n(f=>({...f,[c]:u.target.value})),l=async c=>{if(c.preventDefault(),!e.email||!e.password){s("Please fill in all fields.");return}i(!0),s("");try{const u=await oie(e.email.trim().toLowerCase(),e.password),f=await E9(u.user.uid),h=(f==null?void 0:f.role)||"landlord",p=PV();if(p&&h==="tenant")try{await xV(p,u.user),Qe.success("Welcome back! You've been added to your unit."),t("/tenant");return}catch(b){console.warn("Pending invite accept failed:",b.message)}Qe.success("Welcome back!"),t(h==="tenant"?"/tenant":"/dashboard")}catch(u){const f=u.code==="auth/user-not-found"?"No account found with this email.":u.code==="auth/wrong-password"?"Incorrect password. Please try again.":u.code==="auth/invalid-email"?"Please enter a valid email address.":u.code==="auth/too-many-requests"?"Too many attempts. Please wait a moment.":u.code==="auth/invalid-credential"?"Invalid email or password.":"Sign in failed. Please try again.";s(f)}finally{i(!1)}};return d.jsxs("div",{className:"min-h-dvh bg-cream flex",children:[d.jsxs("div",{className:"hidden lg:flex w-[48%] bg-ink relative overflow-hidden flex-col justify-between p-12",children:[d.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"radial-gradient(circle at 1px 1px, #F5F0E8 1px, transparent 0)",backgroundSize:"32px 32px"}}),d.jsx("div",{className:"absolute top-1/4 -left-20 w-80 h-80 rounded-full bg-sage/20 blur-3xl"}),d.jsx("div",{className:"absolute bottom-1/4 right-0 w-64 h-64 rounded-full bg-amber/15 blur-3xl"}),d.jsxs("div",{className:"relative flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-sage flex items-center justify-center",children:d.jsx(sl,{size:18,className:"text-cream"})}),d.jsx("span",{className:"font-display font-semibold text-cream text-xl",children:"LeaseEase"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("p",{className:"font-body text-sage text-sm font-medium tracking-widest uppercase mb-4",children:"Smart Property Management"}),d.jsxs("h1",{className:"font-display text-cream text-4xl leading-tight mb-6",children:["Every property,",d.jsx("br",{}),d.jsx("em",{className:"text-sage",children:"perfectly"})," managed."]}),d.jsx("p",{className:"font-body text-stone-400 text-base leading-relaxed max-w-sm",children:"Track rent payments, manage tenants, set automated reminders, and monitor maintenance  all in one elegant platform."}),d.jsx("div",{className:"flex flex-wrap gap-2 mt-8",children:["Rent Tracking","Push Reminders","Tenant Portal","Analytics"].map(c=>d.jsx("span",{className:"px-3 py-1.5 rounded-full border border-stone-700 text-stone-400 font-body text-xs",children:c},c))})]}),d.jsx("div",{className:"relative font-body text-xs text-stone-600",children:" 2026 LeaseEase  Trusted by property managers"})]}),d.jsx("div",{className:"flex-1 flex items-center justify-center p-6 sm:p-12",children:d.jsxs(Ge.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.35,ease:"easeOut"},className:"w-full max-w-md",children:[d.jsxs("div",{className:"lg:hidden flex items-center gap-2 mb-8",children:[d.jsx("div",{className:"w-9 h-9 rounded-xl bg-sage flex items-center justify-center",children:d.jsx(sl,{size:16,className:"text-cream"})}),d.jsx("span",{className:"font-display font-semibold text-ink text-xl",children:"LeaseEase"})]}),d.jsx("h2",{className:"font-display text-ink text-3xl font-semibold mb-1",children:"Welcome back"}),d.jsx("p",{className:"font-body text-stone-400 text-sm mb-8",children:"Sign in to your property dashboard"}),a&&d.jsxs(Ge.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},className:"flex items-center gap-2 bg-rust/8 border border-rust/20 text-rust rounded-xl p-3.5 mb-6 text-sm font-body",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-rust flex-shrink-0"}),a]}),d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:"Email Address"}),d.jsxs("div",{className:"relative",children:[d.jsx(lc,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400"}),d.jsx("input",{type:"email",className:"input-base pl-10",placeholder:"you@example.com",value:e.email,onChange:o("email"),autoComplete:"email"})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[d.jsx("label",{className:"font-body text-xs font-semibold text-stone-500 uppercase tracking-wider",children:"Password"}),d.jsx(In,{to:"/forgot-password",className:"font-body text-xs text-forgot hover:text-forgot-hover transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-forgot rounded",children:"Forgot password?"})]}),d.jsx(WA,{id:"login-password",value:e.password,onChange:o("password"),placeholder:"Your password",autoComplete:"current-password",required:!0})]}),d.jsx("button",{type:"submit",disabled:r,className:"btn-primary w-full mt-2 py-3 text-sm flex items-center justify-center gap-2",children:r?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:["Sign In ",d.jsx(Xa,{size:16})]})})]}),d.jsxs("p",{className:"text-center font-body text-sm text-stone-400 mt-6",children:["Don't have an account?"," ",d.jsx(In,{to:"/register",className:"text-sage font-semibold hover:text-sage-light transition-colors",children:"Create one to get started"})]})]})})]})}function Yue(){const t=yo(),{countries:e,changeCountry:n,country:r}=gi(),[i,a]=U.useState({fullName:"",email:"",phone:"",password:"",confirm:"",countryCode:r.code,accountType:"landlord"}),[s,o]=U.useState(!1),[l,c]=U.useState(""),u=y=>w=>a(S=>({...S,[y]:w.target.value})),f=y=>{const w=y.target.value;a(S=>({...S,countryCode:w})),n(w)},h=/[A-Z]/.test(i.password)&&/[0-9]/.test(i.password),p=i.confirm===""||i.password===i.confirm,b=!s&&i.password.length>=8&&h&&i.confirm.length>=8&&i.password===i.confirm,x=async y=>{var A;y.preventDefault();const{fullName:w,email:S,password:E,confirm:P,countryCode:R,accountType:I}=i;if(!w||!S||!E){c("All required fields must be filled.");return}if(!R){c("Please select your country.");return}if(E.length<8||!/[A-Z]/.test(E)||!/[0-9]/.test(E)){c("Password must be at least 8 characters and include an uppercase letter and a number.");return}if(E!==P){c("Passwords do not match.");return}o(!0),c("");try{await sie({...i,email:S.trim().toLowerCase(),countryCode:R,role:I==="tenant"?"tenant":"landlord"}),n(R);const N=PV();if(N&&I==="tenant")try{const{user:M}=await getProfile?{user:{uid:(A=await getProfile(i.email))==null?void 0:A.uid}}:{};Qe.success("Account created! Complete your unit invite to finish setup."),t(`/invite/${N}`);return}catch{}Qe.success("Account created! Welcome to LeaseEase."),t(I==="tenant"?"/tenant":"/onboarding")}catch(N){console.error("Registration error:",N);const M=N.code==="auth/email-already-in-use"?"This email is already registered.":N.code==="auth/invalid-email"?"Please enter a valid email.":N.code==="auth/weak-password"?"Password must be at least 8 characters and include an uppercase letter and a number.":N.code==="auth/operation-not-allowed"?"Email/password sign-up is not enabled. Contact support.":N.message||"Registration failed. Please try again.";c(M)}finally{o(!1)}},v=e.find(y=>y.code===i.countryCode);return d.jsx("div",{className:"min-h-dvh bg-cream flex items-center justify-center p-6 sm:p-12",children:d.jsxs(Ge.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.35,ease:"easeOut"},className:"w-full max-w-lg",children:[d.jsxs(In,{to:"/login",className:"inline-flex items-center gap-1.5 text-sm font-body text-stone-400 hover:text-ink transition-colors mb-8",children:[d.jsx(u4,{size:15})," Back to sign in"]}),d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-sage flex items-center justify-center",children:d.jsx(sl,{size:18,className:"text-cream"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"font-display text-ink text-2xl font-semibold",children:"Create your account"}),d.jsx("p",{className:"font-body text-stone-400 text-xs mt-0.5",children:"Start managing your properties in minutes"})]})]}),d.jsxs("div",{className:"card p-6 sm:p-8",children:[l&&d.jsxs(Ge.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},className:"flex items-center gap-2 bg-rust/8 border border-rust/20 text-rust rounded-xl p-3.5 mb-6 text-sm font-body",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-rust flex-shrink-0"}),l]}),d.jsxs("form",{onSubmit:x,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:"I am a *"}),d.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"landlord",label:"Landlord / Manager",helper:"Manage properties and tenants"},{value:"tenant",label:"Tenant",helper:"Pay rent and view history"}].map(y=>d.jsxs("button",{type:"button",onClick:()=>a(w=>({...w,accountType:y.value})),className:`flex flex-col items-start px-3 py-2 rounded-xl border text-left transition-colors ${i.accountType===y.value?"border-sage bg-sage/10 text-ink":"border-stone-200 bg-stone-50 text-stone-500 hover:border-stone-300"}`,children:[d.jsx("span",{className:"font-body text-sm font-medium",children:y.label}),d.jsx("span",{className:"font-body text-xs text-stone-400 mt-0.5",children:y.helper})]},y.value))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:"Full Name *"}),d.jsxs("div",{className:"relative",children:[d.jsx(cc,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{type:"text",className:"input-base pl-10",placeholder:"John Doe",value:i.fullName,onChange:u("fullName"),autoComplete:"name",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:"Email Address *"}),d.jsxs("div",{className:"relative",children:[d.jsx(lc,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{type:"email",className:"input-base pl-10",placeholder:"john@example.com",value:i.email,onChange:u("email"),autoComplete:"email",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:"Country & Currency *"}),d.jsxs("div",{className:"relative",children:[d.jsx(VA,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none z-10"}),d.jsx("select",{className:"input-base pl-10 appearance-none",value:i.countryCode,onChange:f,required:!0,children:e.map(y=>d.jsxs("option",{value:y.code,children:[nd(y.code)," ",y.name,"  ",y.currency," (",y.symbol,")"]},y.code))})]}),v&&d.jsxs("p",{className:"font-body text-xs text-stone-400 mt-1.5",children:[nd(v.code)," Prices will show in ",d.jsxs("strong",{className:"text-sage",children:[v.currencyName," (",v.symbol,")"]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:"Phone "}),d.jsxs("div",{className:"relative",children:[d.jsx(pV,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{type:"tel",className:"input-base pl-10",placeholder:"+1 555 000 0000",value:i.phone,onChange:u("phone"),autoComplete:"tel"})]})]}),d.jsx(WA,{id:"reg-password",label:"Password *",value:i.password,onChange:u("password"),placeholder:"Min. 8 characters",autoComplete:"new-password",required:!0}),i.password.length>0&&!h&&d.jsxs("p",{className:"mt-1.5 font-body text-xs text-rust flex items-center gap-1",children:[d.jsx("span",{className:"w-1 h-1 rounded-full bg-rust inline-block flex-shrink-0"}),"Password must be at least 8 characters and include an uppercase letter and a number."]}),d.jsxs("div",{children:[d.jsx(WA,{id:"reg-confirm",label:"Confirm Password *",value:i.confirm,onChange:u("confirm"),placeholder:"Min. 8 characters",autoComplete:"new-password",required:!0}),!p&&d.jsxs("p",{className:"mt-1.5 font-body text-xs text-rust flex items-center gap-1",children:[d.jsx("span",{className:"w-1 h-1 rounded-full bg-rust inline-block flex-shrink-0"}),"Passwords do not match."]})]}),d.jsx("div",{className:"pt-2",children:d.jsx("button",{type:"submit",disabled:!b,className:"btn-primary w-full py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:s?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"Create Account"}),d.jsx(Xa,{size:16})]})})})]}),d.jsxs("p",{className:"text-center font-body text-sm text-stone-400 mt-5",children:["Already have an account?"," ",d.jsx(In,{to:"/login",className:"text-sage font-semibold hover:text-sage-light transition-colors",children:"Sign in"})]})]})]})})}function Xue(){const[t,e]=U.useState(""),[n,r]=U.useState(!1),[i,a]=U.useState(!1),[s,o]=U.useState(""),l=async c=>{if(c.preventDefault(),!t){o("Please enter your email address.");return}r(!0),o("");try{await N9(t.trim().toLowerCase()),a(!0)}catch(u){const f=u.code==="auth/user-not-found"?"No account found with this email.":u.code==="auth/invalid-email"?"Please enter a valid email address.":"Failed to send reset email. Please try again.";o(f)}finally{r(!1)}};return d.jsx("div",{className:"min-h-dvh bg-cream flex items-center justify-center p-6 sm:p-12",children:d.jsxs(Ge.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.35,ease:"easeOut"},className:"w-full max-w-md",children:[d.jsxs(In,{to:"/login",className:"inline-flex items-center gap-1.5 text-sm font-body text-stone-400 hover:text-ink transition-colors mb-8",children:[d.jsx(u4,{size:15})," Back to sign in"]}),d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-sage flex items-center justify-center",children:d.jsx(sl,{size:18,className:"text-cream"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"font-display text-ink text-2xl font-semibold",children:"Reset your password"}),d.jsx("p",{className:"font-body text-stone-400 text-xs mt-0.5",children:"We'll send a reset link to your email"})]})]}),d.jsx("div",{className:"card p-6 sm:p-8",children:i?d.jsxs(Ge.div,{initial:{opacity:0,scale:.97},animate:{opacity:1,scale:1},className:"text-center py-4",children:[d.jsx("div",{className:"w-14 h-14 rounded-full bg-sage/10 flex items-center justify-center mx-auto mb-4",children:d.jsx(lc,{size:24,className:"text-sage"})}),d.jsx("h2",{className:"font-display text-ink text-xl font-semibold mb-2",children:"Check your inbox"}),d.jsxs("p",{className:"font-body text-stone-400 text-sm leading-relaxed mb-6",children:["We sent a password reset link to ",d.jsx("span",{className:"font-semibold text-ink",children:t}),". Check your spam folder if you don't see it."]}),d.jsxs(In,{to:"/login",className:"btn-primary w-full flex items-center justify-center gap-2",children:["Back to Sign In ",d.jsx(Xa,{size:16})]})]}):d.jsxs(d.Fragment,{children:[s&&d.jsxs(Ge.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},className:"flex items-center gap-2 bg-rust/8 border border-rust/20 text-rust rounded-xl p-3.5 mb-6 text-sm font-body",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-rust flex-shrink-0"}),s]}),d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:"Email Address"}),d.jsxs("div",{className:"relative",children:[d.jsx(lc,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400"}),d.jsx("input",{type:"email",className:"input-base pl-10",placeholder:"you@example.com",value:t,onChange:c=>e(c.target.value),autoComplete:"email",required:!0})]})]}),d.jsx("button",{type:"submit",disabled:n,className:"btn-primary w-full py-3",children:n?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"Send Reset Link"}),d.jsx(Xa,{size:16})]})})]}),d.jsxs("p",{className:"text-center font-body text-sm text-stone-400 mt-5",children:["Remembered it?"," ",d.jsx(In,{to:"/login",className:"text-sage font-semibold hover:text-sage-light transition-colors",children:"Sign in"})]})]})})]})})}function TV(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=TV(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ln(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=TV(t))&&(r&&(r+=" "),r+=e);return r}var Que=Array.isArray,Ta=Que,Jue=typeof h0=="object"&&h0&&h0.Object===Object&&h0,kV=Jue,Zue=kV,efe=typeof self=="object"&&self&&self.Object===Object&&self,tfe=Zue||efe||Function("return this")(),fl=tfe,nfe=fl,rfe=nfe.Symbol,Bv=rfe,CO=Bv,IV=Object.prototype,ife=IV.hasOwnProperty,afe=IV.toString,Um=CO?CO.toStringTag:void 0;function sfe(t){var e=ife.call(t,Um),n=t[Um];try{t[Um]=void 0;var r=!0}catch{}var i=afe.call(t);return r&&(e?t[Um]=n:delete t[Um]),i}var ofe=sfe,lfe=Object.prototype,cfe=lfe.toString;function ufe(t){return cfe.call(t)}var ffe=ufe,jO=Bv,dfe=ofe,hfe=ffe,pfe="[object Null]",mfe="[object Undefined]",OO=jO?jO.toStringTag:void 0;function gfe(t){return t==null?t===void 0?mfe:pfe:OO&&OO in Object(t)?dfe(t):hfe(t)}var yc=gfe;function yfe(t){return t!=null&&typeof t=="object"}var vc=yfe,vfe=yc,bfe=vc,xfe="[object Symbol]";function wfe(t){return typeof t=="symbol"||bfe(t)&&vfe(t)==xfe}var Kp=wfe,_fe=Ta,Sfe=Kp,Afe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nfe=/^\w*$/;function Efe(t,e){if(_fe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Sfe(t)?!0:Nfe.test(t)||!Afe.test(t)||e!=null&&t in Object(e)}var w4=Efe;function Pfe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Hu=Pfe;const Yp=Ln(Hu);var Tfe=yc,kfe=Hu,Ife="[object AsyncFunction]",Cfe="[object Function]",jfe="[object GeneratorFunction]",Ofe="[object Proxy]";function Rfe(t){if(!kfe(t))return!1;var e=Tfe(t);return e==Cfe||e==jfe||e==Ife||e==Ofe}var _4=Rfe;const Ut=Ln(_4);var Mfe=fl,Lfe=Mfe["__core-js_shared__"],Dfe=Lfe,Y5=Dfe,RO=function(){var t=/[^.]+$/.exec(Y5&&Y5.keys&&Y5.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Ffe(t){return!!RO&&RO in t}var $fe=Ffe,Bfe=Function.prototype,Vfe=Bfe.toString;function Ufe(t){if(t!=null){try{return Vfe.call(t)}catch{}try{return t+""}catch{}}return""}var CV=Ufe,zfe=_4,qfe=$fe,Wfe=Hu,Hfe=CV,Gfe=/[\\^$.*+?()[\]{}|]/g,Kfe=/^\[object .+?Constructor\]$/,Yfe=Function.prototype,Xfe=Object.prototype,Qfe=Yfe.toString,Jfe=Xfe.hasOwnProperty,Zfe=RegExp("^"+Qfe.call(Jfe).replace(Gfe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ede(t){if(!Wfe(t)||qfe(t))return!1;var e=zfe(t)?Zfe:Kfe;return e.test(Hfe(t))}var tde=ede;function nde(t,e){return t==null?void 0:t[e]}var rde=nde,ide=tde,ade=rde;function sde(t,e){var n=ade(t,e);return ide(n)?n:void 0}var bd=sde,ode=bd,lde=ode(Object,"create"),z2=lde,MO=z2;function cde(){this.__data__=MO?MO(null):{},this.size=0}var ude=cde;function fde(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var dde=fde,hde=z2,pde="__lodash_hash_undefined__",mde=Object.prototype,gde=mde.hasOwnProperty;function yde(t){var e=this.__data__;if(hde){var n=e[t];return n===pde?void 0:n}return gde.call(e,t)?e[t]:void 0}var vde=yde,bde=z2,xde=Object.prototype,wde=xde.hasOwnProperty;function _de(t){var e=this.__data__;return bde?e[t]!==void 0:wde.call(e,t)}var Sde=_de,Ade=z2,Nde="__lodash_hash_undefined__";function Ede(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ade&&e===void 0?Nde:e,this}var Pde=Ede,Tde=ude,kde=dde,Ide=vde,Cde=Sde,jde=Pde;function Xp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xp.prototype.clear=Tde;Xp.prototype.delete=kde;Xp.prototype.get=Ide;Xp.prototype.has=Cde;Xp.prototype.set=jde;var Ode=Xp;function Rde(){this.__data__=[],this.size=0}var Mde=Rde;function Lde(t,e){return t===e||t!==t&&e!==e}var S4=Lde,Dde=S4;function Fde(t,e){for(var n=t.length;n--;)if(Dde(t[n][0],e))return n;return-1}var q2=Fde,$de=q2,Bde=Array.prototype,Vde=Bde.splice;function Ude(t){var e=this.__data__,n=$de(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Vde.call(e,n,1),--this.size,!0}var zde=Ude,qde=q2;function Wde(t){var e=this.__data__,n=qde(e,t);return n<0?void 0:e[n][1]}var Hde=Wde,Gde=q2;function Kde(t){return Gde(this.__data__,t)>-1}var Yde=Kde,Xde=q2;function Qde(t,e){var n=this.__data__,r=Xde(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Jde=Qde,Zde=Mde,ehe=zde,the=Hde,nhe=Yde,rhe=Jde;function Qp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qp.prototype.clear=Zde;Qp.prototype.delete=ehe;Qp.prototype.get=the;Qp.prototype.has=nhe;Qp.prototype.set=rhe;var W2=Qp,ihe=bd,ahe=fl,she=ihe(ahe,"Map"),A4=she,LO=Ode,ohe=W2,lhe=A4;function che(){this.size=0,this.__data__={hash:new LO,map:new(lhe||ohe),string:new LO}}var uhe=che;function fhe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var dhe=fhe,hhe=dhe;function phe(t,e){var n=t.__data__;return hhe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var H2=phe,mhe=H2;function ghe(t){var e=mhe(this,t).delete(t);return this.size-=e?1:0,e}var yhe=ghe,vhe=H2;function bhe(t){return vhe(this,t).get(t)}var xhe=bhe,whe=H2;function _he(t){return whe(this,t).has(t)}var She=_he,Ahe=H2;function Nhe(t,e){var n=Ahe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Ehe=Nhe,Phe=uhe,The=yhe,khe=xhe,Ihe=She,Che=Ehe;function Jp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Jp.prototype.clear=Phe;Jp.prototype.delete=The;Jp.prototype.get=khe;Jp.prototype.has=Ihe;Jp.prototype.set=Che;var N4=Jp,jV=N4,jhe="Expected a function";function E4(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(jhe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(E4.Cache||jV),n}E4.Cache=jV;var OV=E4;const Ohe=Ln(OV);var Rhe=OV,Mhe=500;function Lhe(t){var e=Rhe(t,function(r){return n.size===Mhe&&n.clear(),r}),n=e.cache;return e}var Dhe=Lhe,Fhe=Dhe,$he=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bhe=/\\(\\)?/g,Vhe=Fhe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace($he,function(n,r,i,a){e.push(i?a.replace(Bhe,"$1"):r||n)}),e}),Uhe=Vhe;function zhe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var P4=zhe,DO=Bv,qhe=P4,Whe=Ta,Hhe=Kp,FO=DO?DO.prototype:void 0,$O=FO?FO.toString:void 0;function RV(t){if(typeof t=="string")return t;if(Whe(t))return qhe(t,RV)+"";if(Hhe(t))return $O?$O.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Ghe=RV,Khe=Ghe;function Yhe(t){return t==null?"":Khe(t)}var MV=Yhe,Xhe=Ta,Qhe=w4,Jhe=Uhe,Zhe=MV;function epe(t,e){return Xhe(t)?t:Qhe(t,e)?[t]:Jhe(Zhe(t))}var LV=epe,tpe=Kp;function npe(t){if(typeof t=="string"||tpe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var G2=npe,rpe=LV,ipe=G2;function ape(t,e){e=rpe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[ipe(e[n++])];return n&&n==r?t:void 0}var T4=ape,spe=T4;function ope(t,e,n){var r=t==null?void 0:spe(t,e);return r===void 0?n:r}var DV=ope;const Os=Ln(DV);function lpe(t){return t==null}var cpe=lpe;const Jt=Ln(cpe);var upe=yc,fpe=Ta,dpe=vc,hpe="[object String]";function ppe(t){return typeof t=="string"||!fpe(t)&&dpe(t)&&upe(t)==hpe}var mpe=ppe;const rd=Ln(mpe);var FV={exports:{}},Pn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k4=Symbol.for("react.element"),I4=Symbol.for("react.portal"),K2=Symbol.for("react.fragment"),Y2=Symbol.for("react.strict_mode"),X2=Symbol.for("react.profiler"),Q2=Symbol.for("react.provider"),J2=Symbol.for("react.context"),gpe=Symbol.for("react.server_context"),Z2=Symbol.for("react.forward_ref"),ew=Symbol.for("react.suspense"),tw=Symbol.for("react.suspense_list"),nw=Symbol.for("react.memo"),rw=Symbol.for("react.lazy"),ype=Symbol.for("react.offscreen"),$V;$V=Symbol.for("react.module.reference");function Vs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case k4:switch(t=t.type,t){case K2:case X2:case Y2:case ew:case tw:return t;default:switch(t=t&&t.$$typeof,t){case gpe:case J2:case Z2:case rw:case nw:case Q2:return t;default:return e}}case I4:return e}}}Pn.ContextConsumer=J2;Pn.ContextProvider=Q2;Pn.Element=k4;Pn.ForwardRef=Z2;Pn.Fragment=K2;Pn.Lazy=rw;Pn.Memo=nw;Pn.Portal=I4;Pn.Profiler=X2;Pn.StrictMode=Y2;Pn.Suspense=ew;Pn.SuspenseList=tw;Pn.isAsyncMode=function(){return!1};Pn.isConcurrentMode=function(){return!1};Pn.isContextConsumer=function(t){return Vs(t)===J2};Pn.isContextProvider=function(t){return Vs(t)===Q2};Pn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===k4};Pn.isForwardRef=function(t){return Vs(t)===Z2};Pn.isFragment=function(t){return Vs(t)===K2};Pn.isLazy=function(t){return Vs(t)===rw};Pn.isMemo=function(t){return Vs(t)===nw};Pn.isPortal=function(t){return Vs(t)===I4};Pn.isProfiler=function(t){return Vs(t)===X2};Pn.isStrictMode=function(t){return Vs(t)===Y2};Pn.isSuspense=function(t){return Vs(t)===ew};Pn.isSuspenseList=function(t){return Vs(t)===tw};Pn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===K2||t===X2||t===Y2||t===ew||t===tw||t===ype||typeof t=="object"&&t!==null&&(t.$$typeof===rw||t.$$typeof===nw||t.$$typeof===Q2||t.$$typeof===J2||t.$$typeof===Z2||t.$$typeof===$V||t.getModuleId!==void 0)};Pn.typeOf=Vs;FV.exports=Pn;var vpe=FV.exports,bpe=yc,xpe=vc,wpe="[object Number]";function _pe(t){return typeof t=="number"||xpe(t)&&bpe(t)==wpe}var BV=_pe;const Spe=Ln(BV);var Ape=BV;function Npe(t){return Ape(t)&&t!=+t}var Epe=Npe;const Zp=Ln(Epe);var so=function(e){return e===0?0:e>0?1:-1},jf=function(e){return rd(e)&&e.indexOf("%")===e.length-1},ze=function(e){return Spe(e)&&!Zp(e)},Ppe=function(e){return Jt(e)},ri=function(e){return ze(e)||rd(e)},Tpe=0,Vv=function(e){var n=++Tpe;return"".concat(e||"").concat(n)},id=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ze(e)&&!rd(e))return r;var a;if(jf(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Zp(a)&&(a=r),i&&a>n&&(a=n),a},au=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},kpe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Es=function(e,n){return ze(e)&&ze(n)?function(r){return e+r*(n-e)}:function(){return n}};function Wb(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Os(r,e))===n})}var Ipe=function(e,n){return ze(e)&&ze(n)?e-n:rd(e)&&rd(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Oh(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function HA(t){"@babel/helpers - typeof";return HA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HA(t)}var Cpe=["viewBox","children"],jpe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],BO=["points","pathLength"],X5={svg:Cpe,polygon:BO,polyline:BO},C4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Hb=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(U.isValidElement(e)&&(r=e.props),!Yp(r))return null;var i={};return Object.keys(r).forEach(function(a){C4.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},Ope=function(e,n,r){return function(i){return e(n,r,i),null}},Gb=function(e,n,r){if(!Yp(e)||HA(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];C4.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=Ope(s,n,r))}),i},Rpe=["children"],Mpe=["children"];function VO(t,e){if(t==null)return{};var n=Lpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GA(t){"@babel/helpers - typeof";return GA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GA(t)}var UO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Yl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},zO=null,Q5=null,j4=function t(e){if(e===zO&&Array.isArray(Q5))return Q5;var n=[];return U.Children.forEach(e,function(r){Jt(r)||(vpe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Q5=n,zO=e,n};function co(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Yl(i)}):r=[Yl(e)],j4(t).forEach(function(i){var a=Os(i,"type.displayName")||Os(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Ha(t,e){var n=co(t,e);return n&&n[0]}var qO=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ze(r)||r<=0||!ze(i)||i<=0)},Dpe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Fpe=function(e){return e&&e.type&&rd(e.type)&&Dpe.indexOf(e.type)>=0},$pe=function(e){return e&&GA(e)==="object"&&"clipDot"in e},Bpe=function(e,n,r,i){var a,s=(a=X5==null?void 0:X5[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Ut(e)&&(i&&s.includes(n)||jpe.includes(n))||r&&C4.includes(n)},Gt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(U.isValidElement(e)&&(i=e.props),!Yp(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;Bpe((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},KA=function t(e,n){if(e===n)return!0;var r=U.Children.count(e);if(r!==U.Children.count(n))return!1;if(r===0)return!0;if(r===1)return WO(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!WO(a,s))return!1}return!0},WO=function(e,n){if(Jt(e)&&Jt(n))return!0;if(!Jt(e)&&!Jt(n)){var r=e.props||{},i=r.children,a=VO(r,Rpe),s=n.props||{},o=s.children,l=VO(s,Mpe);return i&&o?Oh(a,l)&&KA(i,o):!i&&!o?Oh(a,l):!1}return!1},HO=function(e,n){var r=[],i={};return j4(e).forEach(function(a,s){if(Fpe(a))r.push(a);else if(a){var o=Yl(a.type),l=n[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var f=c(a,o,s);r.push(f),i[o]=!0}}}),r},Vpe=function(e){var n=e&&e.type;return n&&UO[n]?UO[n]:null},Upe=function(e,n){return j4(n).indexOf(e)},zpe=["children","width","height","viewBox","className","style","title","desc"];function YA(){return YA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YA.apply(this,arguments)}function qpe(t,e){if(t==null)return{};var n=Wpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function XA(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,c=qpe(t,zpe),u=i||{width:n,height:r,x:0,y:0},f=ln("recharts-surface",a);return ge.createElement("svg",YA({},Gt(c,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),ge.createElement("title",null,o),ge.createElement("desc",null,l),e)}var Hpe=["children","className"];function QA(){return QA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QA.apply(this,arguments)}function Gpe(t,e){if(t==null)return{};var n=Kpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var dr=ge.forwardRef(function(t,e){var n=t.children,r=t.className,i=Gpe(t,Hpe),a=ln("recharts-layer",r);return ge.createElement("g",QA({className:a},Gt(i,!0),{ref:e}),n)}),Xl=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Ype(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var Xpe=Ype,Qpe=Xpe;function Jpe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Qpe(t,e,n)}var Zpe=Jpe,eme="\\ud800-\\udfff",tme="\\u0300-\\u036f",nme="\\ufe20-\\ufe2f",rme="\\u20d0-\\u20ff",ime=tme+nme+rme,ame="\\ufe0e\\ufe0f",sme="\\u200d",ome=RegExp("["+sme+eme+ime+ame+"]");function lme(t){return ome.test(t)}var VV=lme;function cme(t){return t.split("")}var ume=cme,UV="\\ud800-\\udfff",fme="\\u0300-\\u036f",dme="\\ufe20-\\ufe2f",hme="\\u20d0-\\u20ff",pme=fme+dme+hme,mme="\\ufe0e\\ufe0f",gme="["+UV+"]",JA="["+pme+"]",ZA="\\ud83c[\\udffb-\\udfff]",yme="(?:"+JA+"|"+ZA+")",zV="[^"+UV+"]",qV="(?:\\ud83c[\\udde6-\\uddff]){2}",WV="[\\ud800-\\udbff][\\udc00-\\udfff]",vme="\\u200d",HV=yme+"?",GV="["+mme+"]?",bme="(?:"+vme+"(?:"+[zV,qV,WV].join("|")+")"+GV+HV+")*",xme=GV+HV+bme,wme="(?:"+[zV+JA+"?",JA,qV,WV,gme].join("|")+")",_me=RegExp(ZA+"(?="+ZA+")|"+wme+xme,"g");function Sme(t){return t.match(_me)||[]}var Ame=Sme,Nme=ume,Eme=VV,Pme=Ame;function Tme(t){return Eme(t)?Pme(t):Nme(t)}var kme=Tme,Ime=Zpe,Cme=VV,jme=kme,Ome=MV;function Rme(t){return function(e){e=Ome(e);var n=Cme(e)?jme(e):void 0,r=n?n[0]:e.charAt(0),i=n?Ime(n,1).join(""):e.slice(1);return r[t]()+i}}var Mme=Rme,Lme=Mme,Dme=Lme("toUpperCase"),Fme=Dme;const iw=Ln(Fme);function Bn(t){return function(){return t}}const KV=Math.cos,Kb=Math.sin,vo=Math.sqrt,Yb=Math.PI,aw=2*Yb,eN=Math.PI,tN=2*eN,_f=1e-6,$me=tN-_f;function YV(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Bme(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return YV;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Vme{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?YV:Bme(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,c=i-n,u=s-e,f=o-n,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>_f)if(!(Math.abs(f*l-c*u)>_f)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,b=i-o,x=l*l+c*c,v=p*p+b*b,y=Math.sqrt(x),w=Math.sqrt(h),S=a*Math.tan((eN-Math.acos((x+h-v)/(2*y*w)))/2),E=S/w,P=S/y;Math.abs(E-1)>_f&&this._append`L${e+E*u},${n+E*f}`,this._append`A${a},${a},0,0,${+(f*p>u*b)},${this._x1=e+P*l},${this._y1=n+P*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,u=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>_f||Math.abs(this._y1-u)>_f)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%tN+tN),h>$me?this._append`A${r},${r},0,1,${f},${e-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:h>_f&&this._append`A${r},${r},0,${+(h>=eN)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function O4(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Vme(e)}function R4(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function XV(t){this._context=t}XV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function sw(t){return new XV(t)}function QV(t){return t[0]}function JV(t){return t[1]}function ZV(t,e){var n=Bn(!0),r=null,i=sw,a=null,s=O4(o);t=typeof t=="function"?t:t===void 0?QV:Bn(t),e=typeof e=="function"?e:e===void 0?JV:Bn(e);function o(l){var c,u=(l=R4(l)).length,f,h=!1,p;for(r==null&&(a=i(p=s())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,c,l),+e(f,c,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Bn(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Bn(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Bn(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function W0(t,e,n){var r=null,i=Bn(!0),a=null,s=sw,o=null,l=O4(c);t=typeof t=="function"?t:t===void 0?QV:Bn(+t),e=typeof e=="function"?e:Bn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?JV:Bn(+n);function c(f){var h,p,b,x=(f=R4(f)).length,v,y=!1,w,S=new Array(x),E=new Array(x);for(a==null&&(o=s(w=l())),h=0;h<=x;++h){if(!(h<x&&i(v=f[h],h,f))===y)if(y=!y)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=h-1;b>=p;--b)o.point(S[b],E[b]);o.lineEnd(),o.areaEnd()}y&&(S[h]=+t(v,h,f),E[h]=+e(v,h,f),o.point(r?+r(v,h,f):S[h],n?+n(v,h,f):E[h]))}if(w)return o=null,w+""||null}function u(){return ZV().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Bn(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Bn(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Bn(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Bn(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Bn(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Bn(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Bn(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class eU{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Ume(t){return new eU(t,!0)}function zme(t){return new eU(t,!1)}const M4={draw(t,e){const n=vo(e/Yb);t.moveTo(n,0),t.arc(0,0,n,0,aw)}},qme={draw(t,e){const n=vo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},tU=vo(1/3),Wme=tU*2,Hme={draw(t,e){const n=vo(e/Wme),r=n*tU;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Gme={draw(t,e){const n=vo(e),r=-n/2;t.rect(r,r,n,n)}},Kme=.8908130915292852,nU=Kb(Yb/10)/Kb(7*Yb/10),Yme=Kb(aw/10)*nU,Xme=-KV(aw/10)*nU,Qme={draw(t,e){const n=vo(e*Kme),r=Yme*n,i=Xme*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=aw*a/5,o=KV(s),l=Kb(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},J5=vo(3),Jme={draw(t,e){const n=-vo(e/(J5*3));t.moveTo(0,n*2),t.lineTo(-J5*n,-n),t.lineTo(J5*n,-n),t.closePath()}},xs=-.5,ws=vo(3)/2,nN=1/vo(12),Zme=(nN/2+1)*3,ege={draw(t,e){const n=vo(e/Zme),r=n/2,i=n*nN,a=r,s=n*nN+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(xs*r-ws*i,ws*r+xs*i),t.lineTo(xs*a-ws*s,ws*a+xs*s),t.lineTo(xs*o-ws*l,ws*o+xs*l),t.lineTo(xs*r+ws*i,xs*i-ws*r),t.lineTo(xs*a+ws*s,xs*s-ws*a),t.lineTo(xs*o+ws*l,xs*l-ws*o),t.closePath()}};function tge(t,e){let n=null,r=O4(i);t=typeof t=="function"?t:Bn(t||M4),e=typeof e=="function"?e:Bn(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Bn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Bn(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Xb(){}function Qb(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function rU(t){this._context=t}rU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nge(t){return new rU(t)}function iU(t){this._context=t}iU.prototype={areaStart:Xb,areaEnd:Xb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Qb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rge(t){return new iU(t)}function aU(t){this._context=t}aU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Qb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ige(t){return new aU(t)}function sU(t){this._context=t}sU.prototype={areaStart:Xb,areaEnd:Xb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function age(t){return new sU(t)}function GO(t){return t<0?-1:1}function KO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(GO(a)+GO(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function YO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Z5(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function Jb(t){this._context=t}Jb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Z5(this,this._t0,YO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Z5(this,YO(this,n=KO(this,t,e)),n);break;default:Z5(this,this._t0,n=KO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function oU(t){this._context=new lU(t)}(oU.prototype=Object.create(Jb.prototype)).point=function(t,e){Jb.prototype.point.call(this,e,t)};function lU(t){this._context=t}lU.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function sge(t){return new Jb(t)}function oge(t){return new oU(t)}function cU(t){this._context=t}cU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=XO(t),i=XO(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function XO(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function lge(t){return new cU(t)}function ow(t,e){this._context=t,this._t=e}ow.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function cge(t){return new ow(t,.5)}function uge(t){return new ow(t,0)}function fge(t){return new ow(t,1)}function lp(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function rN(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function dge(t,e){return t[e]}function hge(t){const e=[];return e.key=t,e}function pge(){var t=Bn([]),e=rN,n=lp,r=dge;function i(a){var s=Array.from(t.apply(this,arguments),hge),o,l=s.length,c=-1,u;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(f,s[o].key,c,a)]).data=f;for(o=0,u=R4(e(s));o<l;++o)s[u[o]].index=o;return n(s,u),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Bn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Bn(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?rN:typeof a=="function"?a:Bn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??lp,i):n},i}function mge(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}lp(t,e)}}function gge(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}lp(t,e)}}function yge(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var u=t[e[o]],f=u[r][1]||0,h=u[r-1][1]||0,p=(f-h)/2,b=0;b<o;++b){var x=t[e[b]],v=x[r][1]||0,y=x[r-1][1]||0;p+=v-y}l+=f,c+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,lp(t,e)}}function Ay(t){"@babel/helpers - typeof";return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ay(t)}var vge=["type","size","sizeType"];function iN(){return iN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iN.apply(this,arguments)}function QO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(n),!0).forEach(function(r){bge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bge(t,e,n){return e=xge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xge(t){var e=wge(t,"string");return Ay(e)=="symbol"?e:e+""}function wge(t,e){if(Ay(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ay(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ge(t,e){if(t==null)return{};var n=Sge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var uU={symbolCircle:M4,symbolCross:qme,symbolDiamond:Hme,symbolSquare:Gme,symbolStar:Qme,symbolTriangle:Jme,symbolWye:ege},Age=Math.PI/180,Nge=function(e){var n="symbol".concat(iw(e));return uU[n]||M4},Ege=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Age;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Pge=function(e,n){uU["symbol".concat(iw(e))]=n},L4=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=_ge(e,vge),c=JO(JO({},l),{},{type:r,size:a,sizeType:o}),u=function(){var v=Nge(r),y=tge().type(v).size(Ege(a,o,r));return y()},f=c.className,h=c.cx,p=c.cy,b=Gt(c,!0);return h===+h&&p===+p&&a===+a?ge.createElement("path",iN({},b,{className:ln("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};L4.registerSymbol=Pge;function cp(t){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(t)}function aN(){return aN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aN.apply(this,arguments)}function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){Ny(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ige(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dU(r.key),r)}}function Cge(t,e,n){return e&&Ige(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jge(t,e,n){return e=Zb(e),Oge(t,fU()?Reflect.construct(e,n||[],Zb(t).constructor):e.apply(t,n))}function Oge(t,e){if(e&&(cp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rge(t)}function Rge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fU=function(){return!!t})()}function Zb(t){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zb(t)}function Mge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sN(t,e)}function sN(t,e){return sN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sN(t,e)}function Ny(t,e,n){return e=dU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dU(t){var e=Lge(t,"string");return cp(e)=="symbol"?e:e+""}function Lge(t,e){if(cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _s=32,D4=function(t){function e(){return kge(this,e),jge(this,e,arguments)}return Mge(e,t),Cge(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=_s/2,s=_s/6,o=_s/3,l=r.inactive?i:r.color;if(r.type==="plainline")return ge.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:_s,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return ge.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(_s,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return ge.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(_s/8,"h").concat(_s,"v").concat(_s*3/4,"h").concat(-_s,"z"),className:"recharts-legend-icon"});if(ge.isValidElement(r.legendIcon)){var c=Tge({},r);return delete c.legendIcon,ge.cloneElement(r.legendIcon,c)}return ge.createElement(L4,{fill:l,cx:a,cy:a,size:_s,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:_s,height:_s},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,b){var x=p.formatter||l,v=ln(Ny(Ny({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Ut(p.value)?null:p.value;Xl(!Ut(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?c:p.color;return ge.createElement("li",aN({className:v,style:f,key:"legend-item-".concat(b)},Gb(r.props,p,b)),ge.createElement(XA,{width:s,height:s,viewBox:u,style:h},r.renderIcon(p)),ge.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},x?x(y,p,b):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return ge.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(U.PureComponent);Ny(D4,"displayName","Legend");Ny(D4,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Dge=W2;function Fge(){this.__data__=new Dge,this.size=0}var $ge=Fge;function Bge(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Vge=Bge;function Uge(t){return this.__data__.get(t)}var zge=Uge;function qge(t){return this.__data__.has(t)}var Wge=qge,Hge=W2,Gge=A4,Kge=N4,Yge=200;function Xge(t,e){var n=this.__data__;if(n instanceof Hge){var r=n.__data__;if(!Gge||r.length<Yge-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Kge(r)}return n.set(t,e),this.size=n.size,this}var Qge=Xge,Jge=W2,Zge=$ge,eye=Vge,tye=zge,nye=Wge,rye=Qge;function em(t){var e=this.__data__=new Jge(t);this.size=e.size}em.prototype.clear=Zge;em.prototype.delete=eye;em.prototype.get=tye;em.prototype.has=nye;em.prototype.set=rye;var hU=em,iye="__lodash_hash_undefined__";function aye(t){return this.__data__.set(t,iye),this}var sye=aye;function oye(t){return this.__data__.has(t)}var lye=oye,cye=N4,uye=sye,fye=lye;function ex(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new cye;++e<n;)this.add(t[e])}ex.prototype.add=ex.prototype.push=uye;ex.prototype.has=fye;var pU=ex;function dye(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var mU=dye;function hye(t,e){return t.has(e)}var gU=hye,pye=pU,mye=mU,gye=gU,yye=1,vye=2;function bye(t,e,n,r,i,a){var s=n&yye,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,p=n&vye?new pye:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var b=t[f],x=e[f];if(r)var v=s?r(x,b,f,e,t,a):r(b,x,f,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!mye(e,function(y,w){if(!gye(p,w)&&(b===y||i(b,y,n,r,a)))return p.push(w)})){h=!1;break}}else if(!(b===x||i(b,x,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var yU=bye,xye=fl,wye=xye.Uint8Array,_ye=wye;function Sye(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Aye=Sye;function Nye(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var F4=Nye,e6=Bv,t6=_ye,Eye=S4,Pye=yU,Tye=Aye,kye=F4,Iye=1,Cye=2,jye="[object Boolean]",Oye="[object Date]",Rye="[object Error]",Mye="[object Map]",Lye="[object Number]",Dye="[object RegExp]",Fye="[object Set]",$ye="[object String]",Bye="[object Symbol]",Vye="[object ArrayBuffer]",Uye="[object DataView]",n6=e6?e6.prototype:void 0,e_=n6?n6.valueOf:void 0;function zye(t,e,n,r,i,a,s){switch(n){case Uye:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Vye:return!(t.byteLength!=e.byteLength||!a(new t6(t),new t6(e)));case jye:case Oye:case Lye:return Eye(+t,+e);case Rye:return t.name==e.name&&t.message==e.message;case Dye:case $ye:return t==e+"";case Mye:var o=Tye;case Fye:var l=r&Iye;if(o||(o=kye),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=Cye,s.set(t,e);var u=Pye(o(t),o(e),r,i,a,s);return s.delete(t),u;case Bye:if(e_)return e_.call(t)==e_.call(e)}return!1}var qye=zye;function Wye(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var vU=Wye,Hye=vU,Gye=Ta;function Kye(t,e,n){var r=e(t);return Gye(t)?r:Hye(r,n(t))}var Yye=Kye;function Xye(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var Qye=Xye;function Jye(){return[]}var Zye=Jye,eve=Qye,tve=Zye,nve=Object.prototype,rve=nve.propertyIsEnumerable,r6=Object.getOwnPropertySymbols,ive=r6?function(t){return t==null?[]:(t=Object(t),eve(r6(t),function(e){return rve.call(t,e)}))}:tve,ave=ive;function sve(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var ove=sve,lve=yc,cve=vc,uve="[object Arguments]";function fve(t){return cve(t)&&lve(t)==uve}var dve=fve,i6=dve,hve=vc,bU=Object.prototype,pve=bU.hasOwnProperty,mve=bU.propertyIsEnumerable,gve=i6(function(){return arguments}())?i6:function(t){return hve(t)&&pve.call(t,"callee")&&!mve.call(t,"callee")},$4=gve,tx={exports:{}};function yve(){return!1}var vve=yve;tx.exports;(function(t,e){var n=fl,r=vve,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(tx,tx.exports);var xU=tx.exports,bve=9007199254740991,xve=/^(?:0|[1-9]\d*)$/;function wve(t,e){var n=typeof t;return e=e??bve,!!e&&(n=="number"||n!="symbol"&&xve.test(t))&&t>-1&&t%1==0&&t<e}var B4=wve,_ve=9007199254740991;function Sve(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=_ve}var V4=Sve,Ave=yc,Nve=V4,Eve=vc,Pve="[object Arguments]",Tve="[object Array]",kve="[object Boolean]",Ive="[object Date]",Cve="[object Error]",jve="[object Function]",Ove="[object Map]",Rve="[object Number]",Mve="[object Object]",Lve="[object RegExp]",Dve="[object Set]",Fve="[object String]",$ve="[object WeakMap]",Bve="[object ArrayBuffer]",Vve="[object DataView]",Uve="[object Float32Array]",zve="[object Float64Array]",qve="[object Int8Array]",Wve="[object Int16Array]",Hve="[object Int32Array]",Gve="[object Uint8Array]",Kve="[object Uint8ClampedArray]",Yve="[object Uint16Array]",Xve="[object Uint32Array]",Gn={};Gn[Uve]=Gn[zve]=Gn[qve]=Gn[Wve]=Gn[Hve]=Gn[Gve]=Gn[Kve]=Gn[Yve]=Gn[Xve]=!0;Gn[Pve]=Gn[Tve]=Gn[Bve]=Gn[kve]=Gn[Vve]=Gn[Ive]=Gn[Cve]=Gn[jve]=Gn[Ove]=Gn[Rve]=Gn[Mve]=Gn[Lve]=Gn[Dve]=Gn[Fve]=Gn[$ve]=!1;function Qve(t){return Eve(t)&&Nve(t.length)&&!!Gn[Ave(t)]}var Jve=Qve;function Zve(t){return function(e){return t(e)}}var wU=Zve,nx={exports:{}};nx.exports;(function(t,e){var n=kV,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(nx,nx.exports);var e0e=nx.exports,t0e=Jve,n0e=wU,a6=e0e,s6=a6&&a6.isTypedArray,r0e=s6?n0e(s6):t0e,_U=r0e,i0e=ove,a0e=$4,s0e=Ta,o0e=xU,l0e=B4,c0e=_U,u0e=Object.prototype,f0e=u0e.hasOwnProperty;function d0e(t,e){var n=s0e(t),r=!n&&a0e(t),i=!n&&!r&&o0e(t),a=!n&&!r&&!i&&c0e(t),s=n||r||i||a,o=s?i0e(t.length,String):[],l=o.length;for(var c in t)(e||f0e.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||l0e(c,l)))&&o.push(c);return o}var h0e=d0e,p0e=Object.prototype;function m0e(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||p0e;return t===n}var g0e=m0e;function y0e(t,e){return function(n){return t(e(n))}}var SU=y0e,v0e=SU,b0e=v0e(Object.keys,Object),x0e=b0e,w0e=g0e,_0e=x0e,S0e=Object.prototype,A0e=S0e.hasOwnProperty;function N0e(t){if(!w0e(t))return _0e(t);var e=[];for(var n in Object(t))A0e.call(t,n)&&n!="constructor"&&e.push(n);return e}var E0e=N0e,P0e=_4,T0e=V4;function k0e(t){return t!=null&&T0e(t.length)&&!P0e(t)}var Uv=k0e,I0e=h0e,C0e=E0e,j0e=Uv;function O0e(t){return j0e(t)?I0e(t):C0e(t)}var lw=O0e,R0e=Yye,M0e=ave,L0e=lw;function D0e(t){return R0e(t,L0e,M0e)}var F0e=D0e,o6=F0e,$0e=1,B0e=Object.prototype,V0e=B0e.hasOwnProperty;function U0e(t,e,n,r,i,a){var s=n&$0e,o=o6(t),l=o.length,c=o6(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in e:V0e.call(e,h)))return!1}var p=a.get(t),b=a.get(e);if(p&&b)return p==e&&b==t;var x=!0;a.set(t,e),a.set(e,t);for(var v=s;++f<l;){h=o[f];var y=t[h],w=e[h];if(r)var S=s?r(w,y,h,e,t,a):r(y,w,h,t,e,a);if(!(S===void 0?y===w||i(y,w,n,r,a):S)){x=!1;break}v||(v=h=="constructor")}if(x&&!v){var E=t.constructor,P=e.constructor;E!=P&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof P=="function"&&P instanceof P)&&(x=!1)}return a.delete(t),a.delete(e),x}var z0e=U0e,q0e=bd,W0e=fl,H0e=q0e(W0e,"DataView"),G0e=H0e,K0e=bd,Y0e=fl,X0e=K0e(Y0e,"Promise"),Q0e=X0e,J0e=bd,Z0e=fl,e1e=J0e(Z0e,"Set"),AU=e1e,t1e=bd,n1e=fl,r1e=t1e(n1e,"WeakMap"),i1e=r1e,oN=G0e,lN=A4,cN=Q0e,uN=AU,fN=i1e,NU=yc,tm=CV,l6="[object Map]",a1e="[object Object]",c6="[object Promise]",u6="[object Set]",f6="[object WeakMap]",d6="[object DataView]",s1e=tm(oN),o1e=tm(lN),l1e=tm(cN),c1e=tm(uN),u1e=tm(fN),Sf=NU;(oN&&Sf(new oN(new ArrayBuffer(1)))!=d6||lN&&Sf(new lN)!=l6||cN&&Sf(cN.resolve())!=c6||uN&&Sf(new uN)!=u6||fN&&Sf(new fN)!=f6)&&(Sf=function(t){var e=NU(t),n=e==a1e?t.constructor:void 0,r=n?tm(n):"";if(r)switch(r){case s1e:return d6;case o1e:return l6;case l1e:return c6;case c1e:return u6;case u1e:return f6}return e});var f1e=Sf,t_=hU,d1e=yU,h1e=qye,p1e=z0e,h6=f1e,p6=Ta,m6=xU,m1e=_U,g1e=1,g6="[object Arguments]",y6="[object Array]",H0="[object Object]",y1e=Object.prototype,v6=y1e.hasOwnProperty;function v1e(t,e,n,r,i,a){var s=p6(t),o=p6(e),l=s?y6:h6(t),c=o?y6:h6(e);l=l==g6?H0:l,c=c==g6?H0:c;var u=l==H0,f=c==H0,h=l==c;if(h&&m6(t)){if(!m6(e))return!1;s=!0,u=!1}if(h&&!u)return a||(a=new t_),s||m1e(t)?d1e(t,e,n,r,i,a):h1e(t,e,l,n,r,i,a);if(!(n&g1e)){var p=u&&v6.call(t,"__wrapped__"),b=f&&v6.call(e,"__wrapped__");if(p||b){var x=p?t.value():t,v=b?e.value():e;return a||(a=new t_),i(x,v,n,r,a)}}return h?(a||(a=new t_),p1e(t,e,n,r,i,a)):!1}var b1e=v1e,x1e=b1e,b6=vc;function EU(t,e,n,r,i){return t===e?!0:t==null||e==null||!b6(t)&&!b6(e)?t!==t&&e!==e:x1e(t,e,n,r,EU,i)}var U4=EU,w1e=hU,_1e=U4,S1e=1,A1e=2;function N1e(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var l=o[0],c=t[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in t))return!1}else{var f=new w1e;if(r)var h=r(c,u,l,t,e,f);if(!(h===void 0?_1e(u,c,S1e|A1e,r,f):h))return!1}}return!0}var E1e=N1e,P1e=Hu;function T1e(t){return t===t&&!P1e(t)}var PU=T1e,k1e=PU,I1e=lw;function C1e(t){for(var e=I1e(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,k1e(i)]}return e}var j1e=C1e;function O1e(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var TU=O1e,R1e=E1e,M1e=j1e,L1e=TU;function D1e(t){var e=M1e(t);return e.length==1&&e[0][2]?L1e(e[0][0],e[0][1]):function(n){return n===t||R1e(n,t,e)}}var F1e=D1e;function $1e(t,e){return t!=null&&e in Object(t)}var B1e=$1e,V1e=LV,U1e=$4,z1e=Ta,q1e=B4,W1e=V4,H1e=G2;function G1e(t,e,n){e=V1e(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=H1e(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&W1e(i)&&q1e(s,i)&&(z1e(t)||U1e(t)))}var K1e=G1e,Y1e=B1e,X1e=K1e;function Q1e(t,e){return t!=null&&X1e(t,e,Y1e)}var J1e=Q1e,Z1e=U4,ebe=DV,tbe=J1e,nbe=w4,rbe=PU,ibe=TU,abe=G2,sbe=1,obe=2;function lbe(t,e){return nbe(t)&&rbe(e)?ibe(abe(t),e):function(n){var r=ebe(n,t);return r===void 0&&r===e?tbe(n,t):Z1e(e,r,sbe|obe)}}var cbe=lbe;function ube(t){return t}var nm=ube;function fbe(t){return function(e){return e==null?void 0:e[t]}}var dbe=fbe,hbe=T4;function pbe(t){return function(e){return hbe(e,t)}}var mbe=pbe,gbe=dbe,ybe=mbe,vbe=w4,bbe=G2;function xbe(t){return vbe(t)?gbe(bbe(t)):ybe(t)}var wbe=xbe,_be=F1e,Sbe=cbe,Abe=nm,Nbe=Ta,Ebe=wbe;function Pbe(t){return typeof t=="function"?t:t==null?Abe:typeof t=="object"?Nbe(t)?Sbe(t[0],t[1]):_be(t):Ebe(t)}var Gu=Pbe;function Tbe(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var kU=Tbe;function kbe(t){return t!==t}var Ibe=kbe;function Cbe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var jbe=Cbe,Obe=kU,Rbe=Ibe,Mbe=jbe;function Lbe(t,e,n){return e===e?Mbe(t,e,n):Obe(t,Rbe,n)}var Dbe=Lbe,Fbe=Dbe;function $be(t,e){var n=t==null?0:t.length;return!!n&&Fbe(t,e,0)>-1}var Bbe=$be;function Vbe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Ube=Vbe;function zbe(){}var qbe=zbe,n_=AU,Wbe=qbe,Hbe=F4,Gbe=1/0,Kbe=n_&&1/Hbe(new n_([,-0]))[1]==Gbe?function(t){return new n_(t)}:Wbe,Ybe=Kbe,Xbe=pU,Qbe=Bbe,Jbe=Ube,Zbe=gU,exe=Ybe,txe=F4,nxe=200;function rxe(t,e,n){var r=-1,i=Qbe,a=t.length,s=!0,o=[],l=o;if(n)s=!1,i=Jbe;else if(a>=nxe){var c=e?null:exe(t);if(c)return txe(c);s=!1,i=Zbe,l=new Xbe}else l=e?[]:o;e:for(;++r<a;){var u=t[r],f=e?e(u):u;if(u=n||u!==0?u:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),o.push(u)}else i(l,f,n)||(l!==o&&l.push(f),o.push(u))}return o}var ixe=rxe,axe=Gu,sxe=ixe;function oxe(t,e){return t&&t.length?sxe(t,axe(e)):[]}var lxe=oxe;const x6=Ln(lxe);function IU(t,e,n){return e===!0?x6(t,n):Ut(e)?x6(t,e):t}function up(t){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},up(t)}var cxe=["ref"];function w6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w6(Object(n),!0).forEach(function(r){cw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jU(r.key),r)}}function fxe(t,e,n){return e&&_6(t.prototype,e),n&&_6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dxe(t,e,n){return e=rx(e),hxe(t,CU()?Reflect.construct(e,n||[],rx(t).constructor):e.apply(t,n))}function hxe(t,e){if(e&&(up(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pxe(t)}function pxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CU=function(){return!!t})()}function rx(t){return rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rx(t)}function mxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dN(t,e)}function dN(t,e){return dN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dN(t,e)}function cw(t,e,n){return e=jU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jU(t){var e=gxe(t,"string");return up(e)=="symbol"?e:e+""}function gxe(t,e){if(up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yxe(t,e){if(t==null)return{};var n=vxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bxe(t){return t.value}function xxe(t,e){if(ge.isValidElement(t))return ge.cloneElement(t,e);if(typeof t=="function")return ge.createElement(t,e);e.ref;var n=yxe(e,cxe);return ge.createElement(D4,n)}var S6=1,Rh=function(t){function e(){var n;uxe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=dxe(this,e,[].concat(i)),cw(n,"lastBoundingBox",{width:-1,height:-1}),n}return mxe(e,t),fxe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>S6||Math.abs(i.height-this.lastBoundingBox.height)>S6)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?kl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var b=this.getBBoxSnapshot();h={top:((u||0)-b.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return kl(kl({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=kl(kl({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return ge.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},xxe(a,kl(kl({},this.props),{},{payload:IU(u,c,bxe)})))}}],[{key:"getWithHeight",value:function(r,i){var a=kl(kl({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&ze(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(U.PureComponent);cw(Rh,"displayName","Legend");cw(Rh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var A6=Bv,wxe=$4,_xe=Ta,N6=A6?A6.isConcatSpreadable:void 0;function Sxe(t){return _xe(t)||wxe(t)||!!(N6&&t&&t[N6])}var Axe=Sxe,Nxe=vU,Exe=Axe;function OU(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=Exe),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?OU(o,e-1,n,r,i):Nxe(i,o):r||(i[i.length]=o)}return i}var RU=OU;function Pxe(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[t?o:++i];if(n(a[l],l,a)===!1)break}return e}}var Txe=Pxe,kxe=Txe,Ixe=kxe(),Cxe=Ixe,jxe=Cxe,Oxe=lw;function Rxe(t,e){return t&&jxe(t,e,Oxe)}var MU=Rxe,Mxe=Uv;function Lxe(t,e){return function(n,r){if(n==null)return n;if(!Mxe(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var Dxe=Lxe,Fxe=MU,$xe=Dxe,Bxe=$xe(Fxe),z4=Bxe,Vxe=z4,Uxe=Uv;function zxe(t,e){var n=-1,r=Uxe(t)?Array(t.length):[];return Vxe(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var LU=zxe;function qxe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Wxe=qxe,E6=Kp;function Hxe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=E6(t),s=e!==void 0,o=e===null,l=e===e,c=E6(e);if(!o&&!c&&!a&&t>e||a&&s&&l&&!o&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!l)return-1}return 0}var Gxe=Hxe,Kxe=Gxe;function Yxe(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var l=Kxe(i[r],a[r]);if(l){if(r>=o)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var Xxe=Yxe,r_=P4,Qxe=T4,Jxe=Gu,Zxe=LU,e2e=Wxe,t2e=wU,n2e=Xxe,r2e=nm,i2e=Ta;function a2e(t,e,n){e.length?e=r_(e,function(a){return i2e(a)?function(s){return Qxe(s,a.length===1?a[0]:a)}:a}):e=[r2e];var r=-1;e=r_(e,t2e(Jxe));var i=Zxe(t,function(a,s,o){var l=r_(e,function(c){return c(a)});return{criteria:l,index:++r,value:a}});return e2e(i,function(a,s){return n2e(a,s,n)})}var s2e=a2e;function o2e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var l2e=o2e,c2e=l2e,P6=Math.max;function u2e(t,e,n){return e=P6(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=P6(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),c2e(t,this,o)}}var f2e=u2e;function d2e(t){return function(){return t}}var h2e=d2e,p2e=bd,m2e=function(){try{var t=p2e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),DU=m2e,g2e=h2e,T6=DU,y2e=nm,v2e=T6?function(t,e){return T6(t,"toString",{configurable:!0,enumerable:!1,value:g2e(e),writable:!0})}:y2e,b2e=v2e,x2e=800,w2e=16,_2e=Date.now;function S2e(t){var e=0,n=0;return function(){var r=_2e(),i=w2e-(r-n);if(n=r,i>0){if(++e>=x2e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var A2e=S2e,N2e=b2e,E2e=A2e,P2e=E2e(N2e),T2e=P2e,k2e=nm,I2e=f2e,C2e=T2e;function j2e(t,e){return C2e(I2e(t,e,k2e),t+"")}var O2e=j2e,R2e=S4,M2e=Uv,L2e=B4,D2e=Hu;function F2e(t,e,n){if(!D2e(n))return!1;var r=typeof e;return(r=="number"?M2e(n)&&L2e(e,n.length):r=="string"&&e in n)?R2e(n[e],t):!1}var uw=F2e,$2e=RU,B2e=s2e,V2e=O2e,k6=uw,U2e=V2e(function(t,e){if(t==null)return[];var n=e.length;return n>1&&k6(t,e[0],e[1])?e=[]:n>2&&k6(e[0],e[1],e[2])&&(e=[e[0]]),B2e(t,$2e(e,1),[])}),z2e=U2e;const q4=Ln(z2e);function Ey(t){"@babel/helpers - typeof";return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}function hN(){return hN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hN.apply(this,arguments)}function q2e(t,e){return K2e(t)||G2e(t,e)||H2e(t,e)||W2e()}function W2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H2e(t,e){if(t){if(typeof t=="string")return I6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I6(t,e)}}function I6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function K2e(t){if(Array.isArray(t))return t}function C6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C6(Object(n),!0).forEach(function(r){Y2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y2e(t,e,n){return e=X2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X2e(t){var e=Q2e(t,"string");return Ey(e)=="symbol"?e:e+""}function Q2e(t,e){if(Ey(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ey(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J2e(t){return Array.isArray(t)&&ri(t[0])&&ri(t[1])?t.join(" ~ "):t}var Z2e=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,b=e.labelClassName,x=e.label,v=e.labelFormatter,y=e.accessibilityLayer,w=y===void 0?!1:y,S=function(){if(u&&u.length){var j={padding:0,margin:0},C=(h?q4(u,h):u).map(function(V,X){if(V.type==="none")return null;var ne=i_({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},o),oe=V.formatter||f||J2e,Y=V.value,le=V.name,K=Y,H=le;if(oe&&K!=null&&H!=null){var F=oe(Y,le,V,X,u);if(Array.isArray(F)){var q=q2e(F,2);K=q[0],H=q[1]}else K=F}return ge.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:ne},ri(H)?ge.createElement("span",{className:"recharts-tooltip-item-name"},H):null,ri(H)?ge.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ge.createElement("span",{className:"recharts-tooltip-item-value"},K),ge.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return ge.createElement("ul",{className:"recharts-tooltip-item-list",style:j},C)}return null},E=i_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),P=i_({margin:0},c),R=!Jt(x),I=R?x:"",A=ln("recharts-default-tooltip",p),N=ln("recharts-tooltip-label",b);R&&v&&u!==void 0&&u!==null&&(I=v(x,u));var M=w?{role:"status","aria-live":"assertive"}:{};return ge.createElement("div",hN({className:A,style:E},M),ge.createElement("p",{className:N,style:P},ge.isValidElement(I)?I:"".concat(I)),S())};function Py(t){"@babel/helpers - typeof";return Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Py(t)}function G0(t,e,n){return e=ewe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ewe(t){var e=twe(t,"string");return Py(e)=="symbol"?e:e+""}function twe(t,e){if(Py(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Py(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zm="recharts-tooltip-wrapper",nwe={visibility:"hidden"};function rwe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ln(zm,G0(G0(G0(G0({},"".concat(zm,"-right"),ze(n)&&e&&ze(e.x)&&n>=e.x),"".concat(zm,"-left"),ze(n)&&e&&ze(e.x)&&n<e.x),"".concat(zm,"-bottom"),ze(r)&&e&&ze(e.y)&&r>=e.y),"".concat(zm,"-top"),ze(r)&&e&&ze(e.y)&&r<e.y))}function j6(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&ze(a[r]))return a[r];var u=n[r]-o-i,f=n[r]+i;if(e[r])return s[r]?u:f;if(s[r]){var h=u,p=l[r];return h<p?Math.max(f,l[r]):Math.max(u,l[r])}var b=f+o,x=l[r]+c;return b>x?Math.max(u,l[r]):Math.max(f,l[r])}function iwe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function awe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,u,f;return s.height>0&&s.width>0&&n?(u=j6({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=j6({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=iwe({translateX:u,translateY:f,useTranslate3d:o})):c=nwe,{cssProperties:c,cssClasses:rwe({translateX:u,translateY:f,coordinate:n})}}function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}function O6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O6(Object(n),!0).forEach(function(r){mN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function swe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function owe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$U(r.key),r)}}function lwe(t,e,n){return e&&owe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cwe(t,e,n){return e=ix(e),uwe(t,FU()?Reflect.construct(e,n||[],ix(t).constructor):e.apply(t,n))}function uwe(t,e){if(e&&(fp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fwe(t)}function fwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FU=function(){return!!t})()}function ix(t){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ix(t)}function dwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pN(t,e)}function pN(t,e){return pN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pN(t,e)}function mN(t,e,n){return e=$U(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $U(t){var e=hwe(t,"string");return fp(e)=="symbol"?e:e+""}function hwe(t,e){if(fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var M6=1,pwe=function(t){function e(){var n;swe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=cwe(this,e,[].concat(i)),mN(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),mN(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return dwe(e,t),lwe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>M6||Math.abs(r.height-this.state.lastBoundingBox.height)>M6)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,b=i.position,x=i.reverseDirection,v=i.useTranslate3d,y=i.viewBox,w=i.wrapperStyle,S=awe({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:p,position:b,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),E=S.cssClasses,P=S.cssProperties,R=R6(R6({transition:h&&a?"transform ".concat(o,"ms ").concat(l):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return ge.createElement("div",{tabIndex:-1,className:E,style:R,ref:function(A){r.wrapperNode=A}},c)}}])}(U.PureComponent),mwe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},rm={isSsr:mwe()};function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function L6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L6(Object(n),!0).forEach(function(r){W4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ywe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VU(r.key),r)}}function vwe(t,e,n){return e&&ywe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bwe(t,e,n){return e=ax(e),xwe(t,BU()?Reflect.construct(e,n||[],ax(t).constructor):e.apply(t,n))}function xwe(t,e){if(e&&(dp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wwe(t)}function wwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BU=function(){return!!t})()}function ax(t){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ax(t)}function _we(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gN(t,e)}function gN(t,e){return gN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gN(t,e)}function W4(t,e,n){return e=VU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VU(t){var e=Swe(t,"string");return dp(e)=="symbol"?e:e+""}function Swe(t,e){if(dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Awe(t){return t.dataKey}function Nwe(t,e){return ge.isValidElement(t)?ge.cloneElement(t,e):typeof t=="function"?ge.createElement(t,e):ge.createElement(Z2e,e)}var Bo=function(t){function e(){return gwe(this,e),bwe(this,e,arguments)}return _we(e,t),vwe(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,b=i.payload,x=i.payloadUniqBy,v=i.position,y=i.reverseDirection,w=i.useTranslate3d,S=i.viewBox,E=i.wrapperStyle,P=b??[];f&&P.length&&(P=IU(b.filter(function(I){return I.value!=null&&(I.hide!==!0||r.props.includeHidden)}),x,Awe));var R=P.length>0;return ge.createElement(pwe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:a,coordinate:u,hasPayload:R,offset:p,position:v,reverseDirection:y,useTranslate3d:w,viewBox:S,wrapperStyle:E},Nwe(c,D6(D6({},this.props),{},{payload:P})))}}])}(U.PureComponent);W4(Bo,"displayName","Tooltip");W4(Bo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!rm.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ewe=fl,Pwe=function(){return Ewe.Date.now()},Twe=Pwe,kwe=/\s/;function Iwe(t){for(var e=t.length;e--&&kwe.test(t.charAt(e)););return e}var Cwe=Iwe,jwe=Cwe,Owe=/^\s+/;function Rwe(t){return t&&t.slice(0,jwe(t)+1).replace(Owe,"")}var Mwe=Rwe,Lwe=Mwe,F6=Hu,Dwe=Kp,$6=NaN,Fwe=/^[-+]0x[0-9a-f]+$/i,$we=/^0b[01]+$/i,Bwe=/^0o[0-7]+$/i,Vwe=parseInt;function Uwe(t){if(typeof t=="number")return t;if(Dwe(t))return $6;if(F6(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=F6(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Lwe(t);var n=$we.test(t);return n||Bwe.test(t)?Vwe(t.slice(2),n?2:8):Fwe.test(t)?$6:+t}var UU=Uwe,zwe=Hu,a_=Twe,B6=UU,qwe="Expected a function",Wwe=Math.max,Hwe=Math.min;function Gwe(t,e,n){var r,i,a,s,o,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(qwe);e=B6(e)||0,zwe(n)&&(u=!!n.leading,f="maxWait"in n,a=f?Wwe(B6(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function p(R){var I=r,A=i;return r=i=void 0,c=R,s=t.apply(A,I),s}function b(R){return c=R,o=setTimeout(y,e),u?p(R):s}function x(R){var I=R-l,A=R-c,N=e-I;return f?Hwe(N,a-A):N}function v(R){var I=R-l,A=R-c;return l===void 0||I>=e||I<0||f&&A>=a}function y(){var R=a_();if(v(R))return w(R);o=setTimeout(y,x(R))}function w(R){return o=void 0,h&&r?p(R):(r=i=void 0,s)}function S(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function E(){return o===void 0?s:w(a_())}function P(){var R=a_(),I=v(R);if(r=arguments,i=this,l=R,I){if(o===void 0)return b(l);if(f)return clearTimeout(o),o=setTimeout(y,e),p(l)}return o===void 0&&(o=setTimeout(y,e)),s}return P.cancel=S,P.flush=E,P}var Kwe=Gwe,Ywe=Kwe,Xwe=Hu,Qwe="Expected a function";function Jwe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Qwe);return Xwe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ywe(t,e,{leading:r,maxWait:e,trailing:i})}var Zwe=Jwe;const zU=Ln(Zwe);function Ty(t){"@babel/helpers - typeof";return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(t)}function V6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V6(Object(n),!0).forEach(function(r){e5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e5e(t,e,n){return e=t5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t5e(t){var e=n5e(t,"string");return Ty(e)=="symbol"?e:e+""}function n5e(t,e){if(Ty(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ty(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r5e(t,e){return o5e(t)||s5e(t,e)||a5e(t,e)||i5e()}function i5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a5e(t,e){if(t){if(typeof t=="string")return U6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U6(t,e)}}function U6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s5e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function o5e(t){if(Array.isArray(t))return t}var l5e=U.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,p=t.children,b=t.debounce,x=b===void 0?0:b,v=t.id,y=t.className,w=t.onResize,S=t.style,E=S===void 0?{}:S,P=U.useRef(null),R=U.useRef();R.current=w,U.useImperativeHandle(e,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var I=U.useState({containerWidth:i.width,containerHeight:i.height}),A=r5e(I,2),N=A[0],M=A[1],k=U.useCallback(function(C,V){M(function(X){var ne=Math.round(C),oe=Math.round(V);return X.containerWidth===ne&&X.containerHeight===oe?X:{containerWidth:ne,containerHeight:oe}})},[]);U.useEffect(function(){var C=function(le){var K,H=le[0].contentRect,F=H.width,q=H.height;k(F,q),(K=R.current)===null||K===void 0||K.call(R,F,q)};x>0&&(C=zU(C,x,{trailing:!0,leading:!1}));var V=new ResizeObserver(C),X=P.current.getBoundingClientRect(),ne=X.width,oe=X.height;return k(ne,oe),V.observe(P.current),function(){V.disconnect()}},[k,x]);var j=U.useMemo(function(){var C=N.containerWidth,V=N.containerHeight;if(C<0||V<0)return null;Xl(jf(s)||jf(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Xl(!n||n>0,"The aspect(%s) must be greater than zero.",n);var X=jf(s)?C:s,ne=jf(l)?V:l;n&&n>0&&(X?ne=X/n:ne&&(X=ne*n),h&&ne>h&&(ne=h)),Xl(X>0||ne>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,ne,s,l,u,f,n);var oe=!Array.isArray(p)&&Yl(p.type).endsWith("Chart");return ge.Children.map(p,function(Y){return ge.isValidElement(Y)?U.cloneElement(Y,K0({width:X,height:ne},oe?{style:K0({height:"100%",width:"100%",maxHeight:ne,maxWidth:X},Y.props.style)}:{})):Y})},[n,p,l,h,f,u,N,s]);return ge.createElement("div",{id:v?"".concat(v):void 0,className:ln("recharts-responsive-container",y),style:K0(K0({},E),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:P},j)}),qU=function(e){return null};qU.displayName="Cell";function ky(t){"@babel/helpers - typeof";return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ky(t)}function z6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z6(Object(n),!0).forEach(function(r){c5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c5e(t,e,n){return e=u5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u5e(t){var e=f5e(t,"string");return ky(e)=="symbol"?e:e+""}function f5e(t,e){if(ky(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ky(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fd={widthCache:{},cacheCount:0},d5e=2e3,h5e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},q6="recharts_measurement_span";function p5e(t){var e=yN({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Mg=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||rm.isSsr)return{width:0,height:0};var r=p5e(n),i=JSON.stringify({text:e,copyStyle:r});if(Fd.widthCache[i])return Fd.widthCache[i];try{var a=document.getElementById(q6);a||(a=document.createElement("span"),a.setAttribute("id",q6),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=yN(yN({},h5e),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return Fd.widthCache[i]=l,++Fd.cacheCount>d5e&&(Fd.cacheCount=0,Fd.widthCache={}),l}catch{return{width:0,height:0}}},m5e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Iy(t){"@babel/helpers - typeof";return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iy(t)}function sx(t,e){return b5e(t)||v5e(t,e)||y5e(t,e)||g5e()}function g5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y5e(t,e){if(t){if(typeof t=="string")return W6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W6(t,e)}}function W6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v5e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function b5e(t){if(Array.isArray(t))return t}function x5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_5e(r.key),r)}}function w5e(t,e,n){return e&&H6(t.prototype,e),n&&H6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _5e(t){var e=S5e(t,"string");return Iy(e)=="symbol"?e:e+""}function S5e(t,e){if(Iy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Iy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var G6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,K6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,A5e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,N5e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,WU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},E5e=Object.keys(WU),gh="NaN";function P5e(t,e){return t*WU[e]}var Y0=function(){function t(e,n){x5e(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!A5e.test(n)&&(this.num=NaN,this.unit=""),E5e.includes(n)&&(this.num=P5e(e,n),this.unit="px")}return w5e(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=N5e.exec(n))!==null&&r!==void 0?r:[],a=sx(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function HU(t){if(t.includes(gh))return gh;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=G6.exec(e))!==null&&n!==void 0?n:[],i=sx(r,4),a=i[1],s=i[2],o=i[3],l=Y0.parse(a??""),c=Y0.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return gh;e=e.replace(G6,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=K6.exec(e))!==null&&f!==void 0?f:[],p=sx(h,4),b=p[1],x=p[2],v=p[3],y=Y0.parse(b??""),w=Y0.parse(v??""),S=x==="+"?y.add(w):y.subtract(w);if(S.isNaN())return gh;e=e.replace(K6,S.toString())}return e}var Y6=/\(([^()]*)\)/;function T5e(t){for(var e=t;e.includes("(");){var n=Y6.exec(e),r=sx(n,2),i=r[1];e=e.replace(Y6,HU(i))}return e}function k5e(t){var e=t.replace(/\s+/g,"");return e=T5e(e),e=HU(e),e}function I5e(t){try{return k5e(t)}catch{return gh}}function s_(t){var e=I5e(t.slice(5,-1));return e===gh?"":e}var C5e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],j5e=["dx","dy","angle","className","breakAll"];function vN(){return vN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vN.apply(this,arguments)}function X6(t,e){if(t==null)return{};var n=O5e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function O5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Q6(t,e){return D5e(t)||L5e(t,e)||M5e(t,e)||R5e()}function R5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M5e(t,e){if(t){if(typeof t=="string")return J6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J6(t,e)}}function J6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function L5e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function D5e(t){if(Array.isArray(t))return t}var GU=/[ \f\n\r\t\v\u2028\u2029]+/,KU=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Jt(n)||(r?a=n.toString().split(""):a=n.toString().split(GU));var s=a.map(function(l){return{word:l,width:Mg(l,i).width}}),o=r?0:Mg("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},F5e=function(e,n,r,i,a){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=ze(s),f=o,h=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce(function(ne,oe){var Y=oe.word,le=oe.width,K=ne[ne.length-1];if(K&&(i==null||a||K.width+le+r<Number(i)))K.words.push(Y),K.width+=le+r;else{var H={words:[Y],width:le};ne.push(H)}return ne},[])},p=h(n),b=function(X){return X.reduce(function(ne,oe){return ne.width>oe.width?ne:oe})};if(!u)return p;for(var x="",v=function(X){var ne=f.slice(0,X),oe=KU({breakAll:c,style:l,children:ne+x}).wordsWithComputedWidth,Y=h(oe),le=Y.length>s||b(Y).width>Number(i);return[le,Y]},y=0,w=f.length-1,S=0,E;y<=w&&S<=f.length-1;){var P=Math.floor((y+w)/2),R=P-1,I=v(R),A=Q6(I,2),N=A[0],M=A[1],k=v(P),j=Q6(k,1),C=j[0];if(!N&&!C&&(y=P+1),N&&C&&(w=P-1),!N&&C){E=M;break}S++}return E||p},Z6=function(e){var n=Jt(e)?[]:e.toString().split(GU);return[{words:n}]},$5e=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!rm.isSsr){var l,c,u=KU({breakAll:s,children:i,style:a});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return Z6(i);return F5e({breakAll:s,children:i,maxLines:o,style:a},l,c,n,r)}return Z6(i)},eR="#808080",ox=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,h=e.textAnchor,p=h===void 0?"start":h,b=e.verticalAnchor,x=b===void 0?"end":b,v=e.fill,y=v===void 0?eR:v,w=X6(e,C5e),S=U.useMemo(function(){return $5e({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),E=w.dx,P=w.dy,R=w.angle,I=w.className,A=w.breakAll,N=X6(w,j5e);if(!ri(r)||!ri(a))return null;var M=r+(ze(E)?E:0),k=a+(ze(P)?P:0),j;switch(x){case"start":j=s_("calc(".concat(c,")"));break;case"middle":j=s_("calc(".concat((S.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:j=s_("calc(".concat(S.length-1," * -").concat(o,")"));break}var C=[];if(f){var V=S[0].width,X=w.width;C.push("scale(".concat((ze(X)?X/V:1)/V,")"))}return R&&C.push("rotate(".concat(R,", ").concat(M,", ").concat(k,")")),C.length&&(N.transform=C.join(" ")),ge.createElement("text",vN({},Gt(N,!0),{x:M,y:k,className:ln("recharts-text",I),textAnchor:p,fill:y.includes("url")?eR:y}),S.map(function(ne,oe){var Y=ne.words.join(A?"":" ");return ge.createElement("tspan",{x:M,dy:oe===0?j:o,key:"".concat(Y,"-").concat(oe)},Y)}))};function Eu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function B5e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function H4(t){let e,n,r;t.length!==2?(e=Eu,n=(o,l)=>Eu(t(o),l),r=(o,l)=>t(o)-l):(e=t===Eu||t===B5e?t:V5e,n=t,r=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=i(o,l,c,u-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function V5e(){return 0}function YU(t){return t===null?NaN:+t}function*U5e(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const z5e=H4(Eu),zv=z5e.right;H4(YU).center;class tR extends Map{constructor(e,n=H5e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(nR(this,e))}has(e){return super.has(nR(this,e))}set(e,n){return super.set(q5e(this,e),n)}delete(e){return super.delete(W5e(this,e))}}function nR({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function q5e({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function W5e({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function H5e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function G5e(t=Eu){if(t===Eu)return XU;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function XU(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const K5e=Math.sqrt(50),Y5e=Math.sqrt(10),X5e=Math.sqrt(2);function lx(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=K5e?10:a>=Y5e?5:a>=X5e?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?lx(t,e,n*2):[o,l,c]}function bN(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?lx(e,t,n):lx(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function xN(t,e,n){return e=+e,t=+t,n=+n,lx(t,e,n)[2]}function wN(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?xN(e,t,n):xN(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function rR(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function iR(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function QU(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?XU:G5e(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*f/l+h)),b=Math.min(r,Math.floor(e+(l-c)*f/l+h));QU(t,e,p,b,i)}const a=t[e];let s=n,o=r;for(qm(t,n,e),i(t[r],a)>0&&qm(t,n,r);s<o;){for(qm(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?qm(t,n,o):(++o,qm(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function qm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Q5e(t,e,n){if(t=Float64Array.from(U5e(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return iR(t);if(e>=1)return rR(t);var r,i=(r-1)*e,a=Math.floor(i),s=rR(QU(t,a).subarray(0,a+1)),o=iR(t.subarray(a+1));return s+(o-s)*(i-a)}}function J5e(t,e,n=YU){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function Z5e(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Us(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function bc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const _N=Symbol("implicit");function G4(){var t=new tR,e=[],n=[],r=_N;function i(a){let s=t.get(a);if(s===void 0){if(r!==_N)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new tR;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return G4(e,n).unknown(r)},Us.apply(i,arguments),i}function Cy(){var t=G4().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var h=e().length,p=i<r,b=p?i:r,x=p?r:i;a=(x-b)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),b+=(x-b-a*(h-l))*u,s=a*(1-l),o&&(b=Math.round(b),s=Math.round(s));var v=Z5e(h).map(function(y){return b+a*y});return n(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},t.copy=function(){return Cy(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},Us.apply(f(),arguments)}function JU(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return JU(e())},t}function Lg(){return JU(Cy.apply(null,arguments).paddingInner(1))}function K4(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ZU(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function qv(){}var jy=.7,cx=1/jy,Mh="\\s*([+-]?\\d+)\\s*",Oy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",e_e=/^#([0-9a-f]{3,8})$/,t_e=new RegExp(`^rgb\\(${Mh},${Mh},${Mh}\\)$`),n_e=new RegExp(`^rgb\\(${tl},${tl},${tl}\\)$`),r_e=new RegExp(`^rgba\\(${Mh},${Mh},${Mh},${Oy}\\)$`),i_e=new RegExp(`^rgba\\(${tl},${tl},${tl},${Oy}\\)$`),a_e=new RegExp(`^hsl\\(${Oy},${tl},${tl}\\)$`),s_e=new RegExp(`^hsla\\(${Oy},${tl},${tl},${Oy}\\)$`),aR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};K4(qv,Ry,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:sR,formatHex:sR,formatHex8:o_e,formatHsl:l_e,formatRgb:oR,toString:oR});function sR(){return this.rgb().formatHex()}function o_e(){return this.rgb().formatHex8()}function l_e(){return ez(this).formatHsl()}function oR(){return this.rgb().formatRgb()}function Ry(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=e_e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?lR(e):n===3?new Sa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?X0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?X0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=t_e.exec(t))?new Sa(e[1],e[2],e[3],1):(e=n_e.exec(t))?new Sa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=r_e.exec(t))?X0(e[1],e[2],e[3],e[4]):(e=i_e.exec(t))?X0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=a_e.exec(t))?fR(e[1],e[2]/100,e[3]/100,1):(e=s_e.exec(t))?fR(e[1],e[2]/100,e[3]/100,e[4]):aR.hasOwnProperty(t)?lR(aR[t]):t==="transparent"?new Sa(NaN,NaN,NaN,0):null}function lR(t){return new Sa(t>>16&255,t>>8&255,t&255,1)}function X0(t,e,n,r){return r<=0&&(t=e=n=NaN),new Sa(t,e,n,r)}function c_e(t){return t instanceof qv||(t=Ry(t)),t?(t=t.rgb(),new Sa(t.r,t.g,t.b,t.opacity)):new Sa}function SN(t,e,n,r){return arguments.length===1?c_e(t):new Sa(t,e,n,r??1)}function Sa(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}K4(Sa,SN,ZU(qv,{brighter(t){return t=t==null?cx:Math.pow(cx,t),new Sa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jy:Math.pow(jy,t),new Sa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Sa(Uf(this.r),Uf(this.g),Uf(this.b),ux(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cR,formatHex:cR,formatHex8:u_e,formatRgb:uR,toString:uR}));function cR(){return`#${Of(this.r)}${Of(this.g)}${Of(this.b)}`}function u_e(){return`#${Of(this.r)}${Of(this.g)}${Of(this.b)}${Of((isNaN(this.opacity)?1:this.opacity)*255)}`}function uR(){const t=ux(this.opacity);return`${t===1?"rgb(":"rgba("}${Uf(this.r)}, ${Uf(this.g)}, ${Uf(this.b)}${t===1?")":`, ${t})`}`}function ux(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Uf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Of(t){return t=Uf(t),(t<16?"0":"")+t.toString(16)}function fR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new io(t,e,n,r)}function ez(t){if(t instanceof io)return new io(t.h,t.s,t.l,t.opacity);if(t instanceof qv||(t=Ry(t)),!t)return new io;if(t instanceof io)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new io(s,o,l,t.opacity)}function f_e(t,e,n,r){return arguments.length===1?ez(t):new io(t,e,n,r??1)}function io(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}K4(io,f_e,ZU(qv,{brighter(t){return t=t==null?cx:Math.pow(cx,t),new io(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jy:Math.pow(jy,t),new io(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Sa(o_(t>=240?t-240:t+120,i,r),o_(t,i,r),o_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new io(dR(this.h),Q0(this.s),Q0(this.l),ux(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ux(this.opacity);return`${t===1?"hsl(":"hsla("}${dR(this.h)}, ${Q0(this.s)*100}%, ${Q0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function dR(t){return t=(t||0)%360,t<0?t+360:t}function Q0(t){return Math.max(0,Math.min(1,t||0))}function o_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Y4=t=>()=>t;function d_e(t,e){return function(n){return t+n*e}}function h_e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function p_e(t){return(t=+t)==1?tz:function(e,n){return n-e?h_e(e,n,t):Y4(isNaN(e)?n:e)}}function tz(t,e){var n=e-t;return n?d_e(t,n):Y4(isNaN(t)?e:t)}const hR=function t(e){var n=p_e(e);function r(i,a){var s=n((i=SN(i)).r,(a=SN(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=tz(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function m_e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function g_e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function y_e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=im(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function v_e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function fx(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function b_e(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=im(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var AN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,l_=new RegExp(AN.source,"g");function x_e(t){return function(){return t}}function w_e(t){return function(e){return t(e)+""}}function __e(t,e){var n=AN.lastIndex=l_.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=AN.exec(t))&&(i=l_.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:fx(r,i)})),n=l_.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?w_e(l[0].x):x_e(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function im(t,e){var n=typeof e,r;return e==null||n==="boolean"?Y4(e):(n==="number"?fx:n==="string"?(r=Ry(e))?(e=r,hR):__e:e instanceof Ry?hR:e instanceof Date?v_e:g_e(e)?m_e:Array.isArray(e)?y_e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?b_e:fx)(t,e)}function X4(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function S_e(t,e){e===void 0&&(e=t,t=im);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function A_e(t){return function(){return t}}function dx(t){return+t}var pR=[0,1];function ua(t){return t}function NN(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:A_e(isNaN(e)?NaN:.5)}function N_e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function E_e(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=NN(i,r),a=n(s,a)):(r=NN(r,i),a=n(a,s)),function(o){return a(r(o))}}function P_e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=NN(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=zv(t,o,1,r)-1;return a[l](i[l](o))}}function Wv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function fw(){var t=pR,e=pR,n=im,r,i,a,s=ua,o,l,c;function u(){var h=Math.min(t.length,e.length);return s!==ua&&(s=N_e(t[0],t[h-1])),o=h>2?P_e:E_e,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((c||(c=o(e,t.map(r),fx)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,dx),u()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=X4,u()},f.clamp=function(h){return arguments.length?(s=h?!0:ua,u()):s!==ua},f.interpolate=function(h){return arguments.length?(n=h,u()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return r=h,i=p,u()}}function Q4(){return fw()(ua,ua)}function T_e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function hx(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function hp(t){return t=hx(Math.abs(t)),t?t[1]:NaN}function k_e(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function I_e(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var C_e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function My(t){if(!(e=C_e.exec(t)))throw new Error("invalid format: "+t);var e;return new J4({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}My.prototype=J4.prototype;function J4(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}J4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function j_e(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var px;function O_e(t,e){var n=hx(t,e);if(!n)return px=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(px=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+hx(t,Math.max(0,e+a-1))[0]}function mR(t,e){var n=hx(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const gR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:T_e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>mR(t*100,e),r:mR,s:O_e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function yR(t){return t}var vR=Array.prototype.map,bR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function R_e(t){var e=t.grouping===void 0||t.thousands===void 0?yR:k_e(vR.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?yR:I_e(vR.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f,h){f=My(f);var p=f.fill,b=f.align,x=f.sign,v=f.symbol,y=f.zero,w=f.width,S=f.comma,E=f.precision,P=f.trim,R=f.type;R==="n"?(S=!0,R="g"):gR[R]||(E===void 0&&(E=12),P=!0,R="g"),(y||p==="0"&&b==="=")&&(y=!0,p="0",b="=");var I=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():""),A=(v==="$"?r:/[%p]/.test(R)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),N=gR[R],M=/[defgprs%]/.test(R);E=E===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function k(j){var C=I,V=A,X,ne,oe;if(R==="c")V=N(j)+V,j="";else{j=+j;var Y=j<0||1/j<0;if(j=isNaN(j)?l:N(Math.abs(j),E),P&&(j=j_e(j)),Y&&+j==0&&x!=="+"&&(Y=!1),C=(Y?x==="("?x:o:x==="-"||x==="("?"":x)+C,V=(R==="s"&&!isNaN(j)&&px!==void 0?bR[8+px/3]:"")+V+(Y&&x==="("?")":""),M){for(X=-1,ne=j.length;++X<ne;)if(oe=j.charCodeAt(X),48>oe||oe>57){V=(oe===46?i+j.slice(X+1):j.slice(X))+V,j=j.slice(0,X);break}}}S&&!y&&(j=e(j,1/0));var le=C.length+j.length+V.length,K=le<w?new Array(w-le+1).join(p):"";switch(S&&y&&(j=e(K+j,K.length?w-V.length:1/0),K=""),b){case"<":j=C+j+V+K;break;case"=":j=C+K+j+V;break;case"^":j=K.slice(0,le=K.length>>1)+C+j+V+K.slice(le);break;default:j=K+C+j+V;break}return a(j)}return k.toString=function(){return f+""},k}function u(f,h){var p=Math.max(-8,Math.min(8,Math.floor(hp(h)/3)))*3,b=Math.pow(10,-p),x=c((f=My(f),f.type="f",f),{suffix:bR[8+p/3]});return function(v){return x(b*v)}}return{format:c,formatPrefix:u}}var J0,Z4,nz;M_e({thousands:",",grouping:[3],currency:["$",""]});function M_e(t){return J0=R_e(t),Z4=J0.format,nz=J0.formatPrefix,J0}function L_e(t){return Math.max(0,-hp(Math.abs(t)))}function D_e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hp(e)/3)))*3-hp(Math.abs(t)))}function F_e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,hp(e)-hp(t))+1}function rz(t,e,n,r){var i=wN(t,e,n),a;switch(r=My(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=D_e(i,s))&&(r.precision=a),nz(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=F_e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=L_e(i))&&(r.precision=a-(r.type==="%")*2);break}}return Z4(r)}function Ku(t){var e=t.domain;return t.ticks=function(n){var r=e();return bN(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return rz(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=xN(s,o,n),c===l)return r[i]=s,r[a]=o,e(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function mx(){var t=Q4();return t.copy=function(){return Wv(t,mx())},Us.apply(t,arguments),Ku(t)}function iz(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,dx),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return iz(t).unknown(e)},t=arguments.length?Array.from(t,dx):[0,1],Ku(n)}function az(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function xR(t){return Math.log(t)}function wR(t){return Math.exp(t)}function $_e(t){return-Math.log(-t)}function B_e(t){return-Math.exp(-t)}function V_e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function U_e(t){return t===10?V_e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function z_e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function _R(t){return(e,n)=>-t(-e,n)}function ek(t){const e=t(xR,wR),n=e.domain;let r=10,i,a;function s(){return i=z_e(r),a=U_e(r),n()[0]<0?(i=_R(i),a=_R(a),t($_e,B_e)):t(xR,wR),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=i(c),p=i(u),b,x;const v=o==null?10:+o;let y=[];if(!(r%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(b=1;b<r;++b)if(x=h<0?b/a(-h):b*a(h),!(x<c)){if(x>u)break;y.push(x)}}else for(;h<=p;++h)for(b=r-1;b>=1;--b)if(x=h>0?b/a(-h):b*a(h),!(x<c)){if(x>u)break;y.push(x)}y.length*2<v&&(y=bN(c,u,v))}else y=bN(h,p,Math.min(p-h,v)).map(a);return f?y.reverse():y},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=My(l)).precision==null&&(l.trim=!0),l=Z4(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},e.nice=()=>n(az(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function sz(){const t=ek(fw()).domain([1,10]);return t.copy=()=>Wv(t,sz()).base(t.base()),Us.apply(t,arguments),t}function SR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function AR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function tk(t){var e=1,n=t(SR(e),AR(e));return n.constant=function(r){return arguments.length?t(SR(e=+r),AR(e)):e},Ku(n)}function oz(){var t=tk(fw());return t.copy=function(){return Wv(t,oz()).constant(t.constant())},Us.apply(t,arguments)}function NR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function q_e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function W_e(t){return t<0?-t*t:t*t}function nk(t){var e=t(ua,ua),n=1;function r(){return n===1?t(ua,ua):n===.5?t(q_e,W_e):t(NR(n),NR(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ku(e)}function rk(){var t=nk(fw());return t.copy=function(){return Wv(t,rk()).exponent(t.exponent())},Us.apply(t,arguments),t}function H_e(){return rk.apply(null,arguments).exponent(.5)}function ER(t){return Math.sign(t)*t*t}function G_e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function lz(){var t=Q4(),e=[0,1],n=!1,r;function i(a){var s=G_e(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(ER(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,dx)).map(ER)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return lz(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Us.apply(i,arguments),Ku(i)}function cz(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=J5e(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[zv(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Eu),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return cz().domain(t).range(e).unknown(r)},Us.apply(a,arguments)}function uz(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[zv(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return uz().domain([t,e]).range(i).unknown(a)},Us.apply(Ku(s),arguments)}function fz(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[zv(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return fz().domain(t).range(e).unknown(n)},Us.apply(i,arguments)}const c_=new Date,u_=new Date;function ii(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>ii(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(c_.setTime(+a),u_.setTime(+s),t(c_),t(u_),Math.floor(n(c_,u_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const gx=ii(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);gx.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ii(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):gx);gx.range;const Bl=1e3,Ts=Bl*60,Vl=Ts*60,uc=Vl*24,ik=uc*7,PR=uc*30,f_=uc*365,Rf=ii(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Bl)},(t,e)=>(e-t)/Bl,t=>t.getUTCSeconds());Rf.range;const ak=ii(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bl)},(t,e)=>{t.setTime(+t+e*Ts)},(t,e)=>(e-t)/Ts,t=>t.getMinutes());ak.range;const sk=ii(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ts)},(t,e)=>(e-t)/Ts,t=>t.getUTCMinutes());sk.range;const ok=ii(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bl-t.getMinutes()*Ts)},(t,e)=>{t.setTime(+t+e*Vl)},(t,e)=>(e-t)/Vl,t=>t.getHours());ok.range;const lk=ii(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Vl)},(t,e)=>(e-t)/Vl,t=>t.getUTCHours());lk.range;const Hv=ii(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ts)/uc,t=>t.getDate()-1);Hv.range;const dw=ii(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/uc,t=>t.getUTCDate()-1);dw.range;const dz=ii(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/uc,t=>Math.floor(t/uc));dz.range;function xd(t){return ii(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ts)/ik)}const hw=xd(0),yx=xd(1),K_e=xd(2),Y_e=xd(3),pp=xd(4),X_e=xd(5),Q_e=xd(6);hw.range;yx.range;K_e.range;Y_e.range;pp.range;X_e.range;Q_e.range;function wd(t){return ii(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/ik)}const pw=wd(0),vx=wd(1),J_e=wd(2),Z_e=wd(3),mp=wd(4),eSe=wd(5),tSe=wd(6);pw.range;vx.range;J_e.range;Z_e.range;mp.range;eSe.range;tSe.range;const ck=ii(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());ck.range;const uk=ii(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());uk.range;const fc=ii(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());fc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ii(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});fc.range;const dc=ii(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());dc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ii(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});dc.range;function hz(t,e,n,r,i,a){const s=[[Rf,1,Bl],[Rf,5,5*Bl],[Rf,15,15*Bl],[Rf,30,30*Bl],[a,1,Ts],[a,5,5*Ts],[a,15,15*Ts],[a,30,30*Ts],[i,1,Vl],[i,3,3*Vl],[i,6,6*Vl],[i,12,12*Vl],[r,1,uc],[r,2,2*uc],[n,1,ik],[e,1,PR],[e,3,3*PR],[t,1,f_]];function o(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),b=p?p.range(c,+u+1):[];return h?b.reverse():b}function l(c,u,f){const h=Math.abs(u-c)/f,p=H4(([,,v])=>v).right(s,h);if(p===s.length)return t.every(wN(c/f_,u/f_,f));if(p===0)return gx.every(Math.max(wN(c,u,f),1));const[b,x]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return b.every(x)}return[o,l]}const[nSe,rSe]=hz(dc,uk,pw,dz,lk,sk),[iSe,aSe]=hz(fc,ck,hw,Hv,ok,ak);function d_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function h_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function sSe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=Hm(i),u=Gm(i),f=Hm(a),h=Gm(a),p=Hm(s),b=Gm(s),x=Hm(o),v=Gm(o),y=Hm(l),w=Gm(l),S={a:oe,A:Y,b:le,B:K,c:null,d:OR,e:OR,f:kSe,g:$Se,G:VSe,H:ESe,I:PSe,j:TSe,L:pz,m:ISe,M:CSe,p:H,q:F,Q:LR,s:DR,S:jSe,u:OSe,U:RSe,V:MSe,w:LSe,W:DSe,x:null,X:null,y:FSe,Y:BSe,Z:USe,"%":MR},E={a:q,A:ee,b:se,B:ce,c:null,d:RR,e:RR,f:HSe,g:nAe,G:iAe,H:zSe,I:qSe,j:WSe,L:gz,m:GSe,M:KSe,p:fe,q:ye,Q:LR,s:DR,S:YSe,u:XSe,U:QSe,V:JSe,w:ZSe,W:eAe,x:null,X:null,y:tAe,Y:rAe,Z:aAe,"%":MR},P={a:M,A:k,b:j,B:C,c:V,d:CR,e:CR,f:_Se,g:IR,G:kR,H:jR,I:jR,j:vSe,L:wSe,m:ySe,M:bSe,p:N,q:gSe,Q:ASe,s:NSe,S:xSe,u:fSe,U:dSe,V:hSe,w:uSe,W:pSe,x:X,X:ne,y:IR,Y:kR,Z:mSe,"%":SSe};S.x=R(n,S),S.X=R(r,S),S.c=R(e,S),E.x=R(n,E),E.X=R(r,E),E.c=R(e,E);function R(ue,be){return function(Se){var me=[],Re=-1,Pe=0,J=ue.length,he,Fe,qe;for(Se instanceof Date||(Se=new Date(+Se));++Re<J;)ue.charCodeAt(Re)===37&&(me.push(ue.slice(Pe,Re)),(Fe=TR[he=ue.charAt(++Re)])!=null?he=ue.charAt(++Re):Fe=he==="e"?" ":"0",(qe=be[he])&&(he=qe(Se,Fe)),me.push(he),Pe=Re+1);return me.push(ue.slice(Pe,Re)),me.join("")}}function I(ue,be){return function(Se){var me=Wm(1900,void 0,1),Re=A(me,ue,Se+="",0),Pe,J;if(Re!=Se.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(be&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Pe=h_(Wm(me.y,0,1)),J=Pe.getUTCDay(),Pe=J>4||J===0?vx.ceil(Pe):vx(Pe),Pe=dw.offset(Pe,(me.V-1)*7),me.y=Pe.getUTCFullYear(),me.m=Pe.getUTCMonth(),me.d=Pe.getUTCDate()+(me.w+6)%7):(Pe=d_(Wm(me.y,0,1)),J=Pe.getDay(),Pe=J>4||J===0?yx.ceil(Pe):yx(Pe),Pe=Hv.offset(Pe,(me.V-1)*7),me.y=Pe.getFullYear(),me.m=Pe.getMonth(),me.d=Pe.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),J="Z"in me?h_(Wm(me.y,0,1)).getUTCDay():d_(Wm(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(J+5)%7:me.w+me.U*7-(J+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,h_(me)):d_(me)}}function A(ue,be,Se,me){for(var Re=0,Pe=be.length,J=Se.length,he,Fe;Re<Pe;){if(me>=J)return-1;if(he=be.charCodeAt(Re++),he===37){if(he=be.charAt(Re++),Fe=P[he in TR?be.charAt(Re++):he],!Fe||(me=Fe(ue,Se,me))<0)return-1}else if(he!=Se.charCodeAt(me++))return-1}return me}function N(ue,be,Se){var me=c.exec(be.slice(Se));return me?(ue.p=u.get(me[0].toLowerCase()),Se+me[0].length):-1}function M(ue,be,Se){var me=p.exec(be.slice(Se));return me?(ue.w=b.get(me[0].toLowerCase()),Se+me[0].length):-1}function k(ue,be,Se){var me=f.exec(be.slice(Se));return me?(ue.w=h.get(me[0].toLowerCase()),Se+me[0].length):-1}function j(ue,be,Se){var me=y.exec(be.slice(Se));return me?(ue.m=w.get(me[0].toLowerCase()),Se+me[0].length):-1}function C(ue,be,Se){var me=x.exec(be.slice(Se));return me?(ue.m=v.get(me[0].toLowerCase()),Se+me[0].length):-1}function V(ue,be,Se){return A(ue,e,be,Se)}function X(ue,be,Se){return A(ue,n,be,Se)}function ne(ue,be,Se){return A(ue,r,be,Se)}function oe(ue){return s[ue.getDay()]}function Y(ue){return a[ue.getDay()]}function le(ue){return l[ue.getMonth()]}function K(ue){return o[ue.getMonth()]}function H(ue){return i[+(ue.getHours()>=12)]}function F(ue){return 1+~~(ue.getMonth()/3)}function q(ue){return s[ue.getUTCDay()]}function ee(ue){return a[ue.getUTCDay()]}function se(ue){return l[ue.getUTCMonth()]}function ce(ue){return o[ue.getUTCMonth()]}function fe(ue){return i[+(ue.getUTCHours()>=12)]}function ye(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var be=R(ue+="",S);return be.toString=function(){return ue},be},parse:function(ue){var be=I(ue+="",!1);return be.toString=function(){return ue},be},utcFormat:function(ue){var be=R(ue+="",E);return be.toString=function(){return ue},be},utcParse:function(ue){var be=I(ue+="",!0);return be.toString=function(){return ue},be}}}var TR={"-":"",_:" ",0:"0"},yi=/^\s*\d+/,oSe=/^%/,lSe=/[\\^$*+?|[\]().{}]/g;function fn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function cSe(t){return t.replace(lSe,"\\$&")}function Hm(t){return new RegExp("^(?:"+t.map(cSe).join("|")+")","i")}function Gm(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function uSe(t,e,n){var r=yi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function fSe(t,e,n){var r=yi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function dSe(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function hSe(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function pSe(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function kR(t,e,n){var r=yi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function IR(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function mSe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function gSe(t,e,n){var r=yi.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function ySe(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function CR(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function vSe(t,e,n){var r=yi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function jR(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function bSe(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function xSe(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function wSe(t,e,n){var r=yi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function _Se(t,e,n){var r=yi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function SSe(t,e,n){var r=oSe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ASe(t,e,n){var r=yi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function NSe(t,e,n){var r=yi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function OR(t,e){return fn(t.getDate(),e,2)}function ESe(t,e){return fn(t.getHours(),e,2)}function PSe(t,e){return fn(t.getHours()%12||12,e,2)}function TSe(t,e){return fn(1+Hv.count(fc(t),t),e,3)}function pz(t,e){return fn(t.getMilliseconds(),e,3)}function kSe(t,e){return pz(t,e)+"000"}function ISe(t,e){return fn(t.getMonth()+1,e,2)}function CSe(t,e){return fn(t.getMinutes(),e,2)}function jSe(t,e){return fn(t.getSeconds(),e,2)}function OSe(t){var e=t.getDay();return e===0?7:e}function RSe(t,e){return fn(hw.count(fc(t)-1,t),e,2)}function mz(t){var e=t.getDay();return e>=4||e===0?pp(t):pp.ceil(t)}function MSe(t,e){return t=mz(t),fn(pp.count(fc(t),t)+(fc(t).getDay()===4),e,2)}function LSe(t){return t.getDay()}function DSe(t,e){return fn(yx.count(fc(t)-1,t),e,2)}function FSe(t,e){return fn(t.getFullYear()%100,e,2)}function $Se(t,e){return t=mz(t),fn(t.getFullYear()%100,e,2)}function BSe(t,e){return fn(t.getFullYear()%1e4,e,4)}function VSe(t,e){var n=t.getDay();return t=n>=4||n===0?pp(t):pp.ceil(t),fn(t.getFullYear()%1e4,e,4)}function USe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+fn(e/60|0,"0",2)+fn(e%60,"0",2)}function RR(t,e){return fn(t.getUTCDate(),e,2)}function zSe(t,e){return fn(t.getUTCHours(),e,2)}function qSe(t,e){return fn(t.getUTCHours()%12||12,e,2)}function WSe(t,e){return fn(1+dw.count(dc(t),t),e,3)}function gz(t,e){return fn(t.getUTCMilliseconds(),e,3)}function HSe(t,e){return gz(t,e)+"000"}function GSe(t,e){return fn(t.getUTCMonth()+1,e,2)}function KSe(t,e){return fn(t.getUTCMinutes(),e,2)}function YSe(t,e){return fn(t.getUTCSeconds(),e,2)}function XSe(t){var e=t.getUTCDay();return e===0?7:e}function QSe(t,e){return fn(pw.count(dc(t)-1,t),e,2)}function yz(t){var e=t.getUTCDay();return e>=4||e===0?mp(t):mp.ceil(t)}function JSe(t,e){return t=yz(t),fn(mp.count(dc(t),t)+(dc(t).getUTCDay()===4),e,2)}function ZSe(t){return t.getUTCDay()}function eAe(t,e){return fn(vx.count(dc(t)-1,t),e,2)}function tAe(t,e){return fn(t.getUTCFullYear()%100,e,2)}function nAe(t,e){return t=yz(t),fn(t.getUTCFullYear()%100,e,2)}function rAe(t,e){return fn(t.getUTCFullYear()%1e4,e,4)}function iAe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?mp(t):mp.ceil(t),fn(t.getUTCFullYear()%1e4,e,4)}function aAe(){return"+0000"}function MR(){return"%"}function LR(t){return+t}function DR(t){return Math.floor(+t/1e3)}var $d,vz,bz;sAe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sAe(t){return $d=sSe(t),vz=$d.format,$d.parse,bz=$d.utcFormat,$d.utcParse,$d}function oAe(t){return new Date(t)}function lAe(t){return t instanceof Date?+t:+new Date(+t)}function fk(t,e,n,r,i,a,s,o,l,c){var u=Q4(),f=u.invert,h=u.domain,p=c(".%L"),b=c(":%S"),x=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),w=c("%b %d"),S=c("%B"),E=c("%Y");function P(R){return(l(R)<R?p:o(R)<R?b:s(R)<R?x:a(R)<R?v:r(R)<R?i(R)<R?y:w:n(R)<R?S:E)(R)}return u.invert=function(R){return new Date(f(R))},u.domain=function(R){return arguments.length?h(Array.from(R,lAe)):h().map(oAe)},u.ticks=function(R){var I=h();return t(I[0],I[I.length-1],R??10)},u.tickFormat=function(R,I){return I==null?P:c(I)},u.nice=function(R){var I=h();return(!R||typeof R.range!="function")&&(R=e(I[0],I[I.length-1],R??10)),R?h(az(I,R)):u},u.copy=function(){return Wv(u,fk(t,e,n,r,i,a,s,o,l,c))},u}function cAe(){return Us.apply(fk(iSe,aSe,fc,ck,hw,Hv,ok,ak,Rf,vz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function uAe(){return Us.apply(fk(nSe,rSe,dc,uk,pw,dw,lk,sk,Rf,bz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function mw(){var t=0,e=1,n,r,i,a,s=ua,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(h){var p,b;return arguments.length?([p,b]=h,s=f(p,b),c):[s(0),s(1)]}}return c.range=u(im),c.rangeRound=u(X4),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function Yu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function xz(){var t=Ku(mw()(ua));return t.copy=function(){return Yu(t,xz())},bc.apply(t,arguments)}function wz(){var t=ek(mw()).domain([1,10]);return t.copy=function(){return Yu(t,wz()).base(t.base())},bc.apply(t,arguments)}function _z(){var t=tk(mw());return t.copy=function(){return Yu(t,_z()).constant(t.constant())},bc.apply(t,arguments)}function dk(){var t=nk(mw());return t.copy=function(){return Yu(t,dk()).exponent(t.exponent())},bc.apply(t,arguments)}function fAe(){return dk.apply(null,arguments).exponent(.5)}function Sz(){var t=[],e=ua;function n(r){if(r!=null&&!isNaN(r=+r))return e((zv(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Eu),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Q5e(t,a/r))},n.copy=function(){return Sz(e).domain(t)},bc.apply(n,arguments)}function gw(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,c=ua,u,f=!1,h;function p(x){return isNaN(x=+x)?h:(x=.5+((x=+u(x))-a)*(r*x<r*a?o:l),c(f?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([t,e,n]=x,i=u(t=+t),a=u(e=+e),s=u(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(x){return arguments.length?(f=!!x,p):f},p.interpolator=function(x){return arguments.length?(c=x,p):c};function b(x){return function(v){var y,w,S;return arguments.length?([y,w,S]=v,c=S_e(x,[y,w,S]),p):[c(0),c(.5),c(1)]}}return p.range=b(im),p.rangeRound=b(X4),p.unknown=function(x){return arguments.length?(h=x,p):h},function(x){return u=x,i=x(t),a=x(e),s=x(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function Az(){var t=Ku(gw()(ua));return t.copy=function(){return Yu(t,Az())},bc.apply(t,arguments)}function Nz(){var t=ek(gw()).domain([.1,1,10]);return t.copy=function(){return Yu(t,Nz()).base(t.base())},bc.apply(t,arguments)}function Ez(){var t=tk(gw());return t.copy=function(){return Yu(t,Ez()).constant(t.constant())},bc.apply(t,arguments)}function hk(){var t=nk(gw());return t.copy=function(){return Yu(t,hk()).exponent(t.exponent())},bc.apply(t,arguments)}function dAe(){return hk.apply(null,arguments).exponent(.5)}const FR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Cy,scaleDiverging:Az,scaleDivergingLog:Nz,scaleDivergingPow:hk,scaleDivergingSqrt:dAe,scaleDivergingSymlog:Ez,scaleIdentity:iz,scaleImplicit:_N,scaleLinear:mx,scaleLog:sz,scaleOrdinal:G4,scalePoint:Lg,scalePow:rk,scaleQuantile:cz,scaleQuantize:uz,scaleRadial:lz,scaleSequential:xz,scaleSequentialLog:wz,scaleSequentialPow:dk,scaleSequentialQuantile:Sz,scaleSequentialSqrt:fAe,scaleSequentialSymlog:_z,scaleSqrt:H_e,scaleSymlog:oz,scaleThreshold:fz,scaleTime:cAe,scaleUtc:uAe,tickFormat:rz},Symbol.toStringTag,{value:"Module"}));var hAe=Kp;function pAe(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(o===void 0?s===s&&!hAe(s):n(s,o)))var o=s,l=a}return l}var Pz=pAe;function mAe(t,e){return t>e}var gAe=mAe,yAe=Pz,vAe=gAe,bAe=nm;function xAe(t){return t&&t.length?yAe(t,bAe,vAe):void 0}var wAe=xAe;const uu=Ln(wAe);function _Ae(t,e){return t<e}var SAe=_Ae,AAe=Pz,NAe=SAe,EAe=nm;function PAe(t){return t&&t.length?AAe(t,EAe,NAe):void 0}var TAe=PAe;const yw=Ln(TAe);var kAe=P4,IAe=Gu,CAe=LU,jAe=Ta;function OAe(t,e){var n=jAe(t)?kAe:CAe;return n(t,IAe(e))}var RAe=OAe,MAe=RU,LAe=RAe;function DAe(t,e){return MAe(LAe(t,e),1)}var FAe=DAe;const $Ae=Ln(FAe);var BAe=U4;function VAe(t,e){return BAe(t,e)}var UAe=VAe;const Ly=Ln(UAe);var am=1e9,zAe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},mk,nr=!0,Fs="[DecimalError] ",zf=Fs+"Invalid argument: ",pk=Fs+"Exponent out of range: ",sm=Math.floor,Af=Math.pow,qAe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ga,ui=1e7,Kn=7,Tz=9007199254740991,bx=sm(Tz/Kn),et={};et.absoluteValue=et.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};et.comparedTo=et.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};et.decimalPlaces=et.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Kn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};et.dividedBy=et.div=function(t){return Ql(this,new this.constructor(t))};et.dividedToIntegerBy=et.idiv=function(t){var e=this,n=e.constructor;return Mn(Ql(e,new n(t),0,1),n.precision)};et.equals=et.eq=function(t){return!this.cmp(t)};et.exponent=function(){return Gr(this)};et.greaterThan=et.gt=function(t){return this.cmp(t)>0};et.greaterThanOrEqualTo=et.gte=function(t){return this.cmp(t)>=0};et.isInteger=et.isint=function(){return this.e>this.d.length-2};et.isNegative=et.isneg=function(){return this.s<0};et.isPositive=et.ispos=function(){return this.s>0};et.isZero=function(){return this.s===0};et.lessThan=et.lt=function(t){return this.cmp(t)<0};et.lessThanOrEqualTo=et.lte=function(t){return this.cmp(t)<1};et.logarithm=et.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ga))throw Error(Fs+"NaN");if(n.s<1)throw Error(Fs+(n.s?"NaN":"-Infinity"));return n.eq(Ga)?new r(0):(nr=!1,e=Ql(Dy(n,a),Dy(t,a),a),nr=!0,Mn(e,i))};et.minus=et.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Cz(e,t):kz(e,(t.s=-t.s,t))};et.modulo=et.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Fs+"NaN");return n.s?(nr=!1,e=Ql(n,t,0,1).times(t),nr=!0,n.minus(e)):Mn(new r(n),i)};et.naturalExponential=et.exp=function(){return Iz(this)};et.naturalLogarithm=et.ln=function(){return Dy(this)};et.negated=et.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};et.plus=et.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?kz(e,t):Cz(e,(t.s=-t.s,t))};et.precision=et.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(zf+t);if(e=Gr(i)+1,r=i.d.length-1,n=r*Kn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};et.squareRoot=et.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Fs+"NaN")}for(t=Gr(o),nr=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=qo(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=sm((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Ql(o,a,s+2)).times(.5),qo(a.d).slice(0,s)===(e=qo(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Mn(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return nr=!0,Mn(r,n)};et.times=et.mul=function(t){var e,n,r,i,a,s,o,l,c,u=this,f=u.constructor,h=u.d,p=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,n=u.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+p[r]*h[i-r-1]+e,a[i--]=o%ui|0,e=o/ui|0;a[i]=(a[i]+e)%ui|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,nr?Mn(t,f.precision):t};et.toDecimalPlaces=et.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ol(t,0,am),e===void 0?e=r.rounding:ol(e,0,8),Mn(n,t+Gr(n)+1,e))};et.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ad(r,!0):(ol(t,0,am),e===void 0?e=i.rounding:ol(e,0,8),r=Mn(new i(r),t+1,e),n=ad(r,!0,t+1)),n};et.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?ad(i):(ol(t,0,am),e===void 0?e=a.rounding:ol(e,0,8),r=Mn(new a(i),t+Gr(i)+1,e),n=ad(r.abs(),!1,t+Gr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};et.toInteger=et.toint=function(){var t=this,e=t.constructor;return Mn(new e(t),Gr(t)+1,e.rounding)};et.toNumber=function(){return+this};et.toPower=et.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Ga);if(o=new l(o),!o.s){if(t.s<1)throw Error(Fs+"Infinity");return o}if(o.eq(Ga))return o;if(r=l.precision,t.eq(Ga))return Mn(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=u<0?-u:u)<=Tz){for(i=new l(Ga),e=Math.ceil(r/Kn+4),nr=!1;n%2&&(i=i.times(o),BR(i.d,e)),n=sm(n/2),n!==0;)o=o.times(o),BR(o.d,e);return nr=!0,t.s<0?new l(Ga).div(i):Mn(i,r)}}else if(a<0)throw Error(Fs+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,nr=!1,i=t.times(Dy(o,r+c)),nr=!0,i=Iz(i),i.s=a,i};et.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Gr(i),r=ad(i,n<=a.toExpNeg||n>=a.toExpPos)):(ol(t,1,am),e===void 0?e=a.rounding:ol(e,0,8),i=Mn(new a(i),t,e),n=Gr(i),r=ad(i,t<=n||n<=a.toExpNeg,t)),r};et.toSignificantDigits=et.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ol(t,1,am),e===void 0?e=r.rounding:ol(e,0,8)),Mn(new r(n),t,e)};et.toString=et.valueOf=et.val=et.toJSON=et[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Gr(t),n=t.constructor;return ad(t,e<=n.toExpNeg||e>=n.toExpPos)};function kz(t,e){var n,r,i,a,s,o,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),nr?Mn(e,f):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(f/Kn),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/ui|0,l[a]%=ui;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,nr?Mn(e,f):e}function ol(t,e,n){if(t!==~~t||t<e||t>n)throw Error(zf+t)}function qo(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Kn-r.length,n&&(a+=Qc(n)),a+=r;s=t[e],r=s+"",n=Kn-r.length,n&&(a+=Qc(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ql=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%ui|0,s=a/ui|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*ui+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,u,f,h,p,b,x,v,y,w,S,E,P,R,I,A,N=r.constructor,M=r.s==i.s?1:-1,k=r.d,j=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(Fs+"Division by zero");for(l=r.e-i.e,I=j.length,P=k.length,p=new N(M),b=p.d=[],c=0;j[c]==(k[c]||0);)++c;if(j[c]>(k[c]||0)&&--l,a==null?w=a=N.precision:s?w=a+(Gr(r)-Gr(i))+1:w=a,w<0)return new N(0);if(w=w/Kn+2|0,c=0,I==1)for(u=0,j=j[0],w++;(c<P||u)&&w--;c++)S=u*ui+(k[c]||0),b[c]=S/j|0,u=S%j|0;else{for(u=ui/(j[0]+1)|0,u>1&&(j=t(j,u),k=t(k,u),I=j.length,P=k.length),E=I,x=k.slice(0,I),v=x.length;v<I;)x[v++]=0;A=j.slice(),A.unshift(0),R=j[0],j[1]>=ui/2&&++R;do u=0,o=e(j,x,I,v),o<0?(y=x[0],I!=v&&(y=y*ui+(x[1]||0)),u=y/R|0,u>1?(u>=ui&&(u=ui-1),f=t(j,u),h=f.length,v=x.length,o=e(f,x,h,v),o==1&&(u--,n(f,I<h?A:j,h))):(u==0&&(o=u=1),f=j.slice()),h=f.length,h<v&&f.unshift(0),n(x,f,v),o==-1&&(v=x.length,o=e(j,x,I,v),o<1&&(u++,n(x,I<v?A:j,v))),v=x.length):o===0&&(u++,x=[0]),b[c++]=u,o&&x[0]?x[v++]=k[E]||0:(x=[k[E]],v=1);while((E++<P||x[0]!==void 0)&&w--)}return b[0]||b.shift(),p.e=l,Mn(p,s?a+Gr(p)+1:a)}}();function Iz(t,e){var n,r,i,a,s,o,l=0,c=0,u=t.constructor,f=u.precision;if(Gr(t)>16)throw Error(pk+Gr(t));if(!t.s)return new u(Ga);for(nr=!1,o=f,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(Af(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new u(Ga),u.precision=o;;){if(i=Mn(i.times(t),o),n=n.times(++l),s=a.plus(Ql(i,n,o)),qo(s.d).slice(0,o)===qo(a.d).slice(0,o)){for(;c--;)a=Mn(a.times(a),o);return u.precision=f,e==null?(nr=!0,Mn(a,f)):a}a=s}}function Gr(t){for(var e=t.e*Kn,n=t.d[0];n>=10;n/=10)e++;return e}function p_(t,e,n){if(e>t.LN10.sd())throw nr=!0,n&&(t.precision=n),Error(Fs+"LN10 precision limit exceeded");return Mn(new t(t.LN10),e)}function Qc(t){for(var e="";t--;)e+="0";return e}function Dy(t,e){var n,r,i,a,s,o,l,c,u,f=1,h=10,p=t,b=p.d,x=p.constructor,v=x.precision;if(p.s<1)throw Error(Fs+(p.s?"NaN":"-Infinity"));if(p.eq(Ga))return new x(0);if(e==null?(nr=!1,c=v):c=e,p.eq(10))return e==null&&(nr=!0),p_(x,c);if(c+=h,x.precision=c,n=qo(b),r=n.charAt(0),a=Gr(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=qo(p.d),r=n.charAt(0),f++;a=Gr(p),r>1?(p=new x("0."+n),a++):p=new x(r+"."+n.slice(1))}else return l=p_(x,c+2,v).times(a+""),p=Dy(new x(r+"."+n.slice(1)),c-h).plus(l),x.precision=v,e==null?(nr=!0,Mn(p,v)):p;for(o=s=p=Ql(p.minus(Ga),p.plus(Ga),c),u=Mn(p.times(p),c),i=3;;){if(s=Mn(s.times(u),c),l=o.plus(Ql(s,new x(i),c)),qo(l.d).slice(0,c)===qo(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(p_(x,c+2,v).times(a+""))),o=Ql(o,new x(f),c),x.precision=v,e==null?(nr=!0,Mn(o,v)):o;o=l,i+=2}}function $R(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=sm(n/Kn),t.d=[],r=(n+1)%Kn,n<0&&(r+=Kn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Kn;r<i;)t.d.push(+e.slice(r,r+=Kn));e=e.slice(r),r=Kn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),nr&&(t.e>bx||t.e<-bx))throw Error(pk+n)}else t.s=0,t.e=0,t.d=[0];return t}function Mn(t,e,n){var r,i,a,s,o,l,c,u,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Kn,i=e,c=f[u=0];else{if(u=Math.ceil((r+1)/Kn),a=f.length,u>=a)return t;for(c=a=f[u],s=1;a>=10;a/=10)s++;r%=Kn,i=r-Kn+s}if(n!==void 0&&(a=Af(10,s-i-1),o=c/a%10|0,l=e<0||f[u+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/Af(10,s-i):0:f[u-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=Gr(t),f.length=1,e=e-a-1,f[0]=Af(10,(Kn-e%Kn)%Kn),t.e=sm(-e/Kn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=u,a=1,u--):(f.length=u+1,a=Af(10,Kn-r),f[u]=i>0?(c/Af(10,s-i)%Af(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==ui&&(f[0]=1,++t.e);break}else{if(f[u]+=a,f[u]!=ui)break;f[u--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(nr&&(t.e>bx||t.e<-bx))throw Error(pk+Gr(t));return t}function Cz(t,e){var n,r,i,a,s,o,l,c,u,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),nr?Mn(e,p):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(u=s<0,u?(n=l,s=-s,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(p/Kn),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}s=0}for(u&&(n=l,l=f,f=n,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=ui-1;--l[a],l[i]+=ui}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,nr?Mn(e,p):e):new h(0)}function ad(t,e,n){var r,i=Gr(t),a=qo(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Qc(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Qc(-i-1)+a,n&&(r=n-s)>0&&(a+=Qc(r))):i>=s?(a+=Qc(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Qc(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Qc(r))),t.s<0?"-"+a:a}function BR(t,e){if(t.length>e)return t.length=e,!0}function jz(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(zf+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return $R(s,a.toString())}else if(typeof a!="string")throw Error(zf+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,qAe.test(a))$R(s,a);else throw Error(zf+a)}if(i.prototype=et,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=jz,i.config=i.set=WAe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function WAe(t){if(!t||typeof t!="object")throw Error(Fs+"Object expected");var e,n,r,i=["precision",1,am,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(sm(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(zf+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(zf+n+": "+r);return this}var mk=jz(zAe);Ga=new mk(1);const kn=mk;function HAe(t){return XAe(t)||YAe(t)||KAe(t)||GAe()}function GAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KAe(t,e){if(t){if(typeof t=="string")return EN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EN(t,e)}}function YAe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function XAe(t){if(Array.isArray(t))return EN(t)}function EN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var QAe=function(e){return e},Oz={},Rz=function(e){return e===Oz},VR=function(e){return function n(){return arguments.length===0||arguments.length===1&&Rz(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},JAe=function t(e,n){return e===1?n:VR(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==Oz}).length;return s>=e?n.apply(void 0,i):t(e-s,VR(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(f){return Rz(f)?l.shift():f});return n.apply(void 0,HAe(u).concat(l))}))})},vw=function(e){return JAe(e.length,e)},PN=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},ZAe=vw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),eNe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return QAe;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},TN=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Mz=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,l){return o===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function tNe(t){var e;return t===0?e=1:e=Math.floor(new kn(t).abs().log(10).toNumber())+1,e}function nNe(t,e,n){for(var r=new kn(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var rNe=vw(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),iNe=vw(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),aNe=vw(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const bw={rangeStep:nNe,getDigitCount:tNe,interpolateNumber:rNe,uninterpolateNumber:iNe,uninterpolateTruncation:aNe};function kN(t){return lNe(t)||oNe(t)||Lz(t)||sNe()}function sNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oNe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function lNe(t){if(Array.isArray(t))return IN(t)}function Fy(t,e){return fNe(t)||uNe(t,e)||Lz(t,e)||cNe()}function cNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lz(t,e){if(t){if(typeof t=="string")return IN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IN(t,e)}}function IN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uNe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function fNe(t){if(Array.isArray(t))return t}function Dz(t){var e=Fy(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function Fz(t,e,n){if(t.lte(0))return new kn(0);var r=bw.getDigitCount(t.toNumber()),i=new kn(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new kn(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?l:new kn(Math.ceil(l))}function dNe(t,e,n){var r=1,i=new kn(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new kn(10).pow(bw.getDigitCount(t)-1),i=new kn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new kn(Math.floor(t)))}else t===0?i=new kn(Math.floor((e-1)/2)):n||(i=new kn(Math.floor(t)));var s=Math.floor((e-1)/2),o=eNe(ZAe(function(l){return i.add(new kn(l-s).mul(r)).toNumber()}),PN);return o(0,e)}function $z(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new kn(0),tickMin:new kn(0),tickMax:new kn(0)};var a=Fz(new kn(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new kn(0):(s=new kn(t).add(e).div(2),s=s.sub(new kn(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new kn(e).sub(s).div(a).toNumber()),c=o+l+1;return c>n?$z(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:a,tickMin:s.sub(new kn(o).mul(a)),tickMax:s.add(new kn(l).mul(a))})}function hNe(t){var e=Fy(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=Dz([n,r]),l=Fy(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(kN(PN(0,i-1).map(function(){return 1/0}))):[].concat(kN(PN(0,i-1).map(function(){return-1/0})),[u]);return n>r?TN(f):f}if(c===u)return dNe(c,i,a);var h=$z(c,u,s,a),p=h.step,b=h.tickMin,x=h.tickMax,v=bw.rangeStep(b,x.add(new kn(.1).mul(p)),p);return n>r?TN(v):v}function pNe(t,e){var n=Fy(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Dz([r,i]),o=Fy(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),f=Fz(new kn(c).sub(l).div(u-1),a,0),h=[].concat(kN(bw.rangeStep(new kn(l),new kn(c).sub(new kn(.99).mul(f)),f)),[c]);return r>i?TN(h):h}var mNe=Mz(hNe),gNe=Mz(pNe),yNe="Invariant failed";function sd(t,e){throw new Error(yNe)}var vNe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}function xx(){return xx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xx.apply(this,arguments)}function bNe(t,e){return SNe(t)||_Ne(t,e)||wNe(t,e)||xNe()}function xNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wNe(t,e){if(t){if(typeof t=="string")return UR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UR(t,e)}}function UR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _Ne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function SNe(t){if(Array.isArray(t))return t}function ANe(t,e){if(t==null)return{};var n=NNe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ENe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Uz(r.key),r)}}function TNe(t,e,n){return e&&PNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kNe(t,e,n){return e=wx(e),INe(t,Bz()?Reflect.construct(e,n||[],wx(t).constructor):e.apply(t,n))}function INe(t,e){if(e&&(gp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CNe(t)}function CNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bz=function(){return!!t})()}function wx(t){return wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wx(t)}function jNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CN(t,e)}function CN(t,e){return CN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CN(t,e)}function Vz(t,e,n){return e=Uz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uz(t){var e=ONe(t,"string");return gp(e)=="symbol"?e:e+""}function ONe(t,e){if(gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xw=function(t){function e(){return ENe(this,e),kNe(this,e,arguments)}return jNe(e,t),TNe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,f=r.yAxis,h=ANe(r,vNe),p=Gt(h,!1);this.props.direction==="x"&&u.type!=="number"&&sd();var b=l.map(function(x){var v=c(x,o),y=v.x,w=v.y,S=v.value,E=v.errorVal;if(!E)return null;var P=[],R,I;if(Array.isArray(E)){var A=bNe(E,2);R=A[0],I=A[1]}else R=I=E;if(a==="vertical"){var N=u.scale,M=w+i,k=M+s,j=M-s,C=N(S-R),V=N(S+I);P.push({x1:V,y1:k,x2:V,y2:j}),P.push({x1:C,y1:M,x2:V,y2:M}),P.push({x1:C,y1:k,x2:C,y2:j})}else if(a==="horizontal"){var X=f.scale,ne=y+i,oe=ne-s,Y=ne+s,le=X(S-R),K=X(S+I);P.push({x1:oe,y1:K,x2:Y,y2:K}),P.push({x1:ne,y1:le,x2:ne,y2:K}),P.push({x1:oe,y1:le,x2:Y,y2:le})}return ge.createElement(dr,xx({className:"recharts-errorBar",key:"bar-".concat(P.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},p),P.map(function(H){return ge.createElement("line",xx({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return ge.createElement(dr,{className:"recharts-errorBars"},b)}}])}(ge.Component);Vz(xw,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Vz(xw,"displayName","ErrorBar");function $y(t){"@babel/helpers - typeof";return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$y(t)}function zR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(n),!0).forEach(function(r){RNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RNe(t,e,n){return e=MNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MNe(t){var e=LNe(t,"string");return $y(e)=="symbol"?e:e+""}function LNe(t,e){if($y(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($y(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zz=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Ha(n,Rh);if(!s)return null;var o=Rh.defaultProps,l=o!==void 0?mf(mf({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(r||[]).reduce(function(u,f){var h=f.item,p=f.props,b=p.sectors||p.data||[];return u.concat(b.map(function(x){return{type:s.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):c=(r||[]).map(function(u){var f=u.item,h=f.type.defaultProps,p=h!==void 0?mf(mf({},h),f.props):{},b=p.dataKey,x=p.name,v=p.legendType,y=p.hide;return{inactive:y,dataKey:b,type:l.iconType||v||"square",color:gk(f),value:x||b,payload:p}}),mf(mf(mf({},l),Rh.getWithHeight(s,i)),{},{payload:c,item:s})};function By(t){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(t)}function qR(t){return BNe(t)||$Ne(t)||FNe(t)||DNe()}function DNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FNe(t,e){if(t){if(typeof t=="string")return jN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jN(t,e)}}function $Ne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BNe(t){if(Array.isArray(t))return jN(t)}function jN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(n),!0).forEach(function(r){Lh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lh(t,e,n){return e=VNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VNe(t){var e=UNe(t,"string");return By(e)=="symbol"?e:e+""}function UNe(t,e){if(By(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(By(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ns(t,e,n){return Jt(t)||Jt(e)?n:ri(e)?Os(t,e,n):Ut(e)?e(t):n}function Dg(t,e,n,r){var i=$Ae(t,function(o){return ns(o,e)});if(n==="number"){var a=i.filter(function(o){return ze(o)||parseFloat(o)});return a.length?[yw(a),uu(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!Jt(o)}):i;return s.map(function(o){return ri(o)||o instanceof Date?o:""})}var zNe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,f=i[c].coordinate,h=c>=o-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(so(f-u)!==so(h-f)){var b=[];if(so(h-f)===so(l[1]-l[0])){p=h;var x=f+l[1]-l[0];b[0]=Math.min(x,(x+u)/2),b[1]=Math.max(x,(x+u)/2)}else{p=u;var v=h+l[1]-l[0];b[0]=Math.min(f,(v+f)/2),b[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>y[0]&&e<=y[1]||e>=b[0]&&e<=b[1]){s=i[c].index;break}}else{var w=Math.min(u,h),S=Math.max(u,h);if(e>(w+f)/2&&e<=(S+f)/2){s=i[c].index;break}}}else for(var E=0;E<o;E++)if(E===0&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E>0&&E<o-1&&e>(r[E].coordinate+r[E-1].coordinate)/2&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E===o-1&&e>(r[E].coordinate+r[E-1].coordinate)/2){s=r[E].index;break}return s},gk=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ar(Ar({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},qNe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var u=a[o[l]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var b=u[f[h]],x=b.items,v=b.cateAxisId,y=x.filter(function(I){return Yl(I.type).indexOf("Bar")>=0});if(y&&y.length){var w=y[0].type.defaultProps,S=w!==void 0?Ar(Ar({},w),y[0].props):y[0].props,E=S.barSize,P=S[v];s[P]||(s[P]=[]);var R=Jt(E)?n:E;s[P].push({item:y[0],stackList:y.slice(1),barSize:Jt(R)?void 0:id(R,r,0)})}}return s},WNe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=id(n,i,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/l,b=s.reduce(function(E,P){return E+P.barSize||0},0);b+=(l-1)*c,b>=i&&(b-=(l-1)*c,c=0),b>=i&&p>0&&(h=!0,p*=.9,b=l*p);var x=(i-b)/2>>0,v={offset:x-c,size:0};u=s.reduce(function(E,P){var R={item:P.item,position:{offset:v.offset+v.size+c,size:h?p:P.barSize}},I=[].concat(qR(E),[R]);return v=I[I.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(A){I.push({item:A,position:v})}),I},f)}else{var y=id(r,i,0,!0);i-2*y-(l-1)*c<=0&&(c=0);var w=(i-2*y-(l-1)*c)/l;w>1&&(w>>=0);var S=o===+o?Math.min(w,o):w;u=s.reduce(function(E,P,R){var I=[].concat(qR(E),[{item:P.item,position:{offset:y+(w+c)*R+(w-S)/2,size:S}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(A){I.push({item:A,position:I[I.length-1].position})}),I},f)}return u},HNe=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,l=s-(o.left||0)-(o.right||0),c=zz({children:a,legendWidth:l});if(c){var u=i||{},f=u.width,h=u.height,p=c.align,b=c.verticalAlign,x=c.layout;if((x==="vertical"||x==="horizontal"&&b==="middle")&&p!=="center"&&ze(e[p]))return Ar(Ar({},e),{},Lh({},p,e[p]+(f||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&b!=="middle"&&ze(e[b]))return Ar(Ar({},e),{},Lh({},b,e[b]+(h||0)))}return e},GNe=function(e,n,r){return Jt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},qz=function(e,n,r,i,a){var s=n.props.children,o=co(s,xw).filter(function(c){return GNe(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=ns(u,r);if(Jt(f))return c;var h=Array.isArray(f)?[yw(f),uu(f)]:[f,f],p=l.reduce(function(b,x){var v=ns(u,x,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),w=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,b[0]),Math.max(w,b[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},KNe=function(e,n,r,i,a){var s=n.map(function(o){return qz(e,o,r,a,i)}).filter(function(o){return!Jt(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},Wz=function(e,n,r,i,a){var s=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&qz(e,l,c,i)||Dg(e,c,r,a)});if(r==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},Hz=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Gz=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate});return a||o.push(n),s||o.push(r),o},Ul=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?so(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return u.filter(function(f){return!Zp(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:a?a[f]:f,index:h,offset:c}})},m_=new WeakMap,Z0=function(e,n){if(typeof n!="function")return e;m_.has(e)||m_.set(e,new WeakMap);var r=m_.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},YNe=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Cy(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:mx(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Lg(),realScaleType:"point"}:a==="category"?{scale:Cy(),realScaleType:"band"}:{scale:mx(),realScaleType:"linear"};if(rd(i)){var l="scale".concat(iw(i));return{scale:(FR[l]||Lg)(),realScaleType:FR[l]?l:"point"}}return Ut(i)?{scale:i}:{scale:Lg(),realScaleType:"point"}},HR=1e-4,XNe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-HR,s=Math.max(i[0],i[1])+HR,o=e(n[0]),l=e(n[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([n[0],n[r-1]])}},QNe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},JNe=function(e,n){if(!n||n.length!==2||!ze(n[0])||!ze(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!ze(e[0])||e[0]<r)&&(a[0]=r),(!ze(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},ZNe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var l=Zp(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1])}},eEe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=Zp(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},tEe={sign:ZNe,expand:mge,none:lp,silhouette:gge,wiggle:yge,positive:eEe},nEe=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=tEe[r],s=pge().keys(i).value(function(o,l){return+ns(o,l,0)}).order(rN).offset(a);return s(e)},rEe=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,l={},c=o.reduce(function(f,h){var p,b=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Ar(Ar({},h.type.defaultProps),h.props):h.props,x=b.stackId,v=b.hide;if(v)return f;var y=b[r],w=f[y]||{hasStack:!1,stackGroups:{}};if(ri(x)){var S=w.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(h),w.hasStack=!0,w.stackGroups[x]=S}else w.stackGroups[Vv("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Ar(Ar({},f),{},Lh({},y,w))},l),u={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var b={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,v){var y=p.stackGroups[v];return Ar(Ar({},x),{},Lh({},v,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:nEe(e,y.items,a)}))},b)}return Ar(Ar({},f),{},Lh({},h,p))},u)},iEe=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=mNe(c,a,o);return e.domain([yw(u),uu(u)]),{niceTicks:u}}if(a&&i==="number"){var f=e.domain(),h=gNe(f,a,o);return{niceTicks:h}}return null};function GR(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Jt(i[e.dataKey])){var o=Wb(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=ns(i,Jt(s)?e.dataKey:s);return Jt(l)?null:e.scale(l)}var KR=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=ns(s,n.dataKey,n.domain[o]);return Jt(l)?null:n.scale(l)-a/2+i},aEe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},sEe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ar(Ar({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(ri(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},oEe=function(e){return e.reduce(function(n,r){return[yw(r.concat([n[0]]).filter(ze)),uu(r.concat([n[1]]).filter(ze))]},[1/0,-1/0])},Kz=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(c,u){var f=oEe(u.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},YR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ON=function(e,n,r){if(Ut(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ze(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(YR.test(e[0])){var a=+YR.exec(e[0])[1];i[0]=n[0]-a}else Ut(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ze(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(XR.test(e[1])){var s=+XR.exec(e[1])[1];i[1]=n[1]+s}else Ut(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},_x=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=q4(n,function(f){return f.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},QR=function(e,n,r){return!e||!e.length||Ly(e,Os(r,"type.defaultProps.domain"))?n:e},Yz=function(e,n){var r=e.type.defaultProps?Ar(Ar({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return Ar(Ar({},Gt(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:gk(e),value:ns(n,i),type:l,payload:n,chartType:c,hide:u})};function Vy(t){"@babel/helpers - typeof";return Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vy(t)}function JR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JR(Object(n),!0).forEach(function(r){lEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lEe(t,e,n){return e=cEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cEe(t){var e=uEe(t,"string");return Vy(e)=="symbol"?e:e+""}function uEe(t,e){if(Vy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sx=Math.PI/180,fEe=function(e){return e*180/Math.PI},Ti=function(e,n,r,i){return{x:e+Math.cos(-Sx*i)*r,y:n+Math.sin(-Sx*i)*r}},dEe=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},hEe=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=dEe({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(r-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:fEe(c),angleInRadian:c}},pEe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},mEe=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},eM=function(e,n){var r=e.x,i=e.y,a=hEe({x:r,y:i},n),s=a.radius,o=a.angle,l=n.innerRadius,c=n.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=pEe(n),f=u.startAngle,h=u.endAngle,p=o,b;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;b=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;b=p>=h&&p<=f}return b?ZR(ZR({},n),{},{radius:s,angle:mEe(p,n)}):null};function Uy(t){"@babel/helpers - typeof";return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uy(t)}var gEe=["offset"];function yEe(t){return wEe(t)||xEe(t)||bEe(t)||vEe()}function vEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bEe(t,e){if(t){if(typeof t=="string")return RN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RN(t,e)}}function xEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wEe(t){if(Array.isArray(t))return RN(t)}function RN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _Ee(t,e){if(t==null)return{};var n=SEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ei(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(n),!0).forEach(function(r){AEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AEe(t,e,n){return e=NEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NEe(t){var e=EEe(t,"string");return Uy(e)=="symbol"?e:e+""}function EEe(t,e){if(Uy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zy(){return zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zy.apply(this,arguments)}var PEe=function(e){var n=e.value,r=e.formatter,i=Jt(e.children)?n:e.children;return Ut(r)?r(i):i},TEe=function(e,n){var r=so(n-e),i=Math.min(Math.abs(n-e),360);return r*i},kEe=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,b=l.endAngle,x=l.clockWise,v=(f+h)/2,y=TEe(p,b),w=y>=0?1:-1,S,E;i==="insideStart"?(S=p+w*s,E=x):i==="insideEnd"?(S=b-w*s,E=!x):i==="end"&&(S=b+w*s,E=x),E=y<=0?E:!E;var P=Ti(c,u,v,S),R=Ti(c,u,v,S+(E?1:-1)*359),I="M".concat(P.x,",").concat(P.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(E?0:1,`,
    `).concat(R.x,",").concat(R.y),A=Jt(e.id)?Vv("recharts-radial-line-"):e.id;return ge.createElement("text",zy({},r,{dominantBaseline:"central",className:ln("recharts-radial-bar-label",o)}),ge.createElement("defs",null,ge.createElement("path",{id:A,d:I})),ge.createElement("textPath",{xlinkHref:"#".concat(A)},n))},IEe=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,f=a.endAngle,h=(u+f)/2;if(i==="outside"){var p=Ti(s,o,c+r,h),b=p.x,x=p.y;return{x:b,y:x,textAnchor:b>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,y=Ti(s,o,v,h),w=y.x,S=y.y;return{x:w,y:S,textAnchor:"middle",verticalAnchor:"middle"}},CEe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,h=f*i,p=f>0?"end":"start",b=f>0?"start":"end",x=c>=0?1:-1,v=x*i,y=x>0?"end":"start",w=x>0?"start":"end";if(a==="top"){var S={x:o+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return ei(ei({},S),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var E={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:b};return ei(ei({},E),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(a==="left"){var P={x:o-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return ei(ei({},P),r?{width:Math.max(P.x-r.x,0),height:u}:{})}if(a==="right"){var R={x:o+c+v,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return ei(ei({},R),r?{width:Math.max(r.x+r.width-R.x,0),height:u}:{})}var I=r?{width:c,height:u}:{};return a==="insideLeft"?ei({x:o+v,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},I):a==="insideRight"?ei({x:o+c-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},I):a==="insideTop"?ei({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:b},I):a==="insideBottom"?ei({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},I):a==="insideTopLeft"?ei({x:o+v,y:l+h,textAnchor:w,verticalAnchor:b},I):a==="insideTopRight"?ei({x:o+c-v,y:l+h,textAnchor:y,verticalAnchor:b},I):a==="insideBottomLeft"?ei({x:o+v,y:l+u-h,textAnchor:w,verticalAnchor:p},I):a==="insideBottomRight"?ei({x:o+c-v,y:l+u-h,textAnchor:y,verticalAnchor:p},I):Yp(a)&&(ze(a.x)||jf(a.x))&&(ze(a.y)||jf(a.y))?ei({x:o+id(a.x,c),y:l+id(a.y,u),textAnchor:"end",verticalAnchor:"end"},I):ei({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},I)},jEe=function(e){return"cx"in e&&ze(e.cx)};function Xi(t){var e=t.offset,n=e===void 0?5:e,r=_Ee(t,gEe),i=ei({offset:n},r),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,h=i.textBreakAll;if(!a||Jt(o)&&Jt(l)&&!U.isValidElement(c)&&!Ut(c))return null;if(U.isValidElement(c))return U.cloneElement(c,i);var p;if(Ut(c)){if(p=U.createElement(c,i),U.isValidElement(p))return p}else p=PEe(i);var b=jEe(a),x=Gt(i,!0);if(b&&(s==="insideStart"||s==="insideEnd"||s==="end"))return kEe(i,p,x);var v=b?IEe(i):CEe(i);return ge.createElement(ox,zy({className:ln("recharts-label",f)},x,v,{breakAll:h}),p)}Xi.displayName="Label";var Xz=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,h=e.y,p=e.top,b=e.left,x=e.width,v=e.height,y=e.clockWise,w=e.labelViewBox;if(w)return w;if(ze(x)&&ze(v)){if(ze(f)&&ze(h))return{x:f,y:h,width:x,height:v};if(ze(p)&&ze(b))return{x:p,y:b,width:x,height:v}}return ze(f)&&ze(h)?{x:f,y:h,width:0,height:0}:ze(n)&&ze(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:y}:e.viewBox?e.viewBox:{}},OEe=function(e,n){return e?e===!0?ge.createElement(Xi,{key:"label-implicit",viewBox:n}):ri(e)?ge.createElement(Xi,{key:"label-implicit",viewBox:n,value:e}):U.isValidElement(e)?e.type===Xi?U.cloneElement(e,{key:"label-implicit",viewBox:n}):ge.createElement(Xi,{key:"label-implicit",content:e,viewBox:n}):Ut(e)?ge.createElement(Xi,{key:"label-implicit",content:e,viewBox:n}):Yp(e)?ge.createElement(Xi,zy({viewBox:n},e,{key:"label-implicit"})):null:null},REe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=Xz(e),s=co(i,Xi).map(function(l,c){return U.cloneElement(l,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return s;var o=OEe(e.label,n||a);return[o].concat(yEe(s))};Xi.parseViewBox=Xz;Xi.renderCallByParent=REe;function MEe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var LEe=MEe;const DEe=Ln(LEe);function qy(t){"@babel/helpers - typeof";return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qy(t)}var FEe=["valueAccessor"],$Ee=["data","dataKey","clockWise","id","textBreakAll"];function BEe(t){return qEe(t)||zEe(t)||UEe(t)||VEe()}function VEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UEe(t,e){if(t){if(typeof t=="string")return MN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MN(t,e)}}function zEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qEe(t){if(Array.isArray(t))return MN(t)}function MN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ax(){return Ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ax.apply(this,arguments)}function nM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(n),!0).forEach(function(r){WEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WEe(t,e,n){return e=HEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HEe(t){var e=GEe(t,"string");return qy(e)=="symbol"?e:e+""}function GEe(t,e){if(qy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iM(t,e){if(t==null)return{};var n=KEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var YEe=function(e){return Array.isArray(e.value)?DEe(e.value):e.value};function Pu(t){var e=t.valueAccessor,n=e===void 0?YEe:e,r=iM(t,FEe),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,c=iM(r,$Ee);return!i||!i.length?null:ge.createElement(dr,{className:"recharts-label-list"},i.map(function(u,f){var h=Jt(a)?n(u,f):ns(u&&u.payload,a),p=Jt(o)?{}:{id:"".concat(o,"-").concat(f)};return ge.createElement(Xi,Ax({},Gt(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Xi.parseViewBox(Jt(s)?u:rM(rM({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Pu.displayName="LabelList";function XEe(t,e){return t?t===!0?ge.createElement(Pu,{key:"labelList-implicit",data:e}):ge.isValidElement(t)||Ut(t)?ge.createElement(Pu,{key:"labelList-implicit",data:e,content:t}):Yp(t)?ge.createElement(Pu,Ax({data:e},t,{key:"labelList-implicit"})):null:null}function QEe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=co(r,Pu).map(function(s,o){return U.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=XEe(t.label,e);return[a].concat(BEe(i))}Pu.renderCallByParent=QEe;function Wy(t){"@babel/helpers - typeof";return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(t)}function LN(){return LN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LN.apply(this,arguments)}function aM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aM(Object(n),!0).forEach(function(r){JEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JEe(t,e,n){return e=ZEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZEe(t){var e=ePe(t,"string");return Wy(e)=="symbol"?e:e+""}function ePe(t,e){if(Wy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tPe=function(e,n){var r=so(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},e1=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+i,f=Math.asin(l/u)/Sx,h=c?a:a+s*f,p=Ti(n,r,u,h),b=Ti(n,r,i,h),x=c?a-s*f:a,v=Ti(n,r,u*Math.cos(f*Sx),x);return{center:p,circleTangency:b,lineTangency:v,theta:f}},Qz=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=tPe(s,o),c=s+l,u=Ti(n,r,a,s),f=Ti(n,r,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Ti(n,r,i,s),b=Ti(n,r,i,c);h+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},nPe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=so(u-c),h=e1({cx:n,cy:r,radius:a,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,b=h.lineTangency,x=h.theta,v=e1({cx:n,cy:r,radius:a,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),y=v.circleTangency,w=v.lineTangency,S=v.theta,E=l?Math.abs(c-u):Math.abs(c-u)-x-S;if(E<0)return o?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):Qz({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var P="M ".concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(E>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var R=e1({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),I=R.circleTangency,A=R.lineTangency,N=R.theta,M=e1({cx:n,cy:r,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=M.circleTangency,j=M.lineTangency,C=M.theta,V=l?Math.abs(c-u):Math.abs(c-u)-N-C;if(V<0&&s===0)return"".concat(P,"L").concat(n,",").concat(r,"Z");P+="L".concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(V>180),",").concat(+(f>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else P+="L".concat(n,",").concat(r,"Z");return P},rPe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Jz=function(e){var n=sM(sM({},rPe),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,f=n.endAngle,h=n.className;if(s<a||u===f)return null;var p=ln("recharts-sector",h),b=s-a,x=id(o,b,0,!0),v;return x>0&&Math.abs(u-f)<360?v=nPe({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(x,b/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):v=Qz({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:f}),ge.createElement("path",LN({},Gt(n,!0),{className:p,d:v,role:"img"}))};function Hy(t){"@babel/helpers - typeof";return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hy(t)}function DN(){return DN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DN.apply(this,arguments)}function oM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(n),!0).forEach(function(r){iPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iPe(t,e,n){return e=aPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aPe(t){var e=sPe(t,"string");return Hy(e)=="symbol"?e:e+""}function sPe(t,e){if(Hy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cM={curveBasisClosed:rge,curveBasisOpen:ige,curveBasis:nge,curveBumpX:Ume,curveBumpY:zme,curveLinearClosed:age,curveLinear:sw,curveMonotoneX:sge,curveMonotoneY:oge,curveNatural:lge,curveStep:cge,curveStepAfter:fge,curveStepBefore:uge},t1=function(e){return e.x===+e.x&&e.y===+e.y},Km=function(e){return e.x},Ym=function(e){return e.y},oPe=function(e,n){if(Ut(e))return e;var r="curve".concat(iw(e));return(r==="curveMonotone"||r==="curveBump")&&n?cM["".concat(r).concat(n==="vertical"?"Y":"X")]:cM[r]||sw},lPe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=oPe(r,o),f=c?a.filter(function(x){return t1(x)}):a,h;if(Array.isArray(s)){var p=c?s.filter(function(x){return t1(x)}):s,b=f.map(function(x,v){return lM(lM({},x),{},{base:p[v]})});return o==="vertical"?h=W0().y(Ym).x1(Km).x0(function(x){return x.base.x}):h=W0().x(Km).y1(Ym).y0(function(x){return x.base.y}),h.defined(t1).curve(u),h(b)}return o==="vertical"&&ze(s)?h=W0().y(Ym).x1(Km).x0(s):ze(s)?h=W0().x(Km).y1(Ym).y0(s):h=ZV().x(Km).y(Ym),h.defined(t1).curve(u),h(f)},Fg=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?lPe(e):i;return U.createElement("path",DN({},Gt(e,!1),Hb(e),{className:ln("recharts-curve",n),d:s,ref:a}))},Zz={exports:{}},cPe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",uPe=cPe,fPe=uPe;function eq(){}function tq(){}tq.resetWarningCache=eq;var dPe=function(){function t(r,i,a,s,o,l){if(l!==fPe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:tq,resetWarningCache:eq};return n.PropTypes=n,n};Zz.exports=dPe();var hPe=Zz.exports;const gn=Ln(hPe),{getOwnPropertyNames:pPe,getOwnPropertySymbols:mPe}=Object,{hasOwnProperty:gPe}=Object.prototype;function g_(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function n1(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);const l=t(n,r,i);return a.delete(n),a.delete(r),l}}function yPe(t){return t!=null?t[Symbol.toStringTag]:void 0}function uM(t){return pPe(t).concat(mPe(t))}const vPe=Object.hasOwn||((t,e)=>gPe.call(t,e));function _d(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const bPe="__v",xPe="__o",wPe="_owner",{getOwnPropertyDescriptor:fM,keys:dM}=Object;function _Pe(t,e){return t.byteLength===e.byteLength&&Nx(new Uint8Array(t),new Uint8Array(e))}function SPe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function APe(t,e){return t.byteLength===e.byteLength&&Nx(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function NPe(t,e){return _d(t.getTime(),e.getTime())}function EPe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function PPe(t,e){return t===e}function hM(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let s,o,l=0;for(;(s=a.next())&&!s.done;){const c=e.entries();let u=!1,f=0;for(;(o=c.next())&&!o.done;){if(i[f]){f++;continue}const h=s.value,p=o.value;if(n.equals(h[0],p[0],l,f,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}const TPe=_d;function kPe(t,e,n){const r=dM(t);let i=r.length;if(dM(e).length!==i)return!1;for(;i-- >0;)if(!nq(t,e,n,r[i]))return!1;return!0}function Xm(t,e,n){const r=uM(t);let i=r.length;if(uM(e).length!==i)return!1;let a,s,o;for(;i-- >0;)if(a=r[i],!nq(t,e,n,a)||(s=fM(t,a),o=fM(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function IPe(t,e){return _d(t.valueOf(),e.valueOf())}function CPe(t,e){return t.source===e.source&&t.flags===e.flags}function pM(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let s,o;for(;(s=a.next())&&!s.done;){const l=e.values();let c=!1,u=0;for(;(o=l.next())&&!o.done;){if(!i[u]&&n.equals(s.value,o.value,s.value,o.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function Nx(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function jPe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function nq(t,e,n,r){return(r===wPe||r===xPe||r===bPe)&&(t.$$typeof||e.$$typeof)?!0:vPe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const OPe="[object ArrayBuffer]",RPe="[object Arguments]",MPe="[object Boolean]",LPe="[object DataView]",DPe="[object Date]",FPe="[object Error]",$Pe="[object Map]",BPe="[object Number]",VPe="[object Object]",UPe="[object RegExp]",zPe="[object Set]",qPe="[object String]",WPe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},HPe="[object URL]",GPe=Object.prototype.toString;function KPe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:b}){return function(v,y,w){if(v===y)return!0;if(v==null||y==null)return!1;const S=typeof v;if(S!==typeof y)return!1;if(S!=="object")return S==="number"?o(v,y,w):S==="function"?a(v,y,w):!1;const E=v.constructor;if(E!==y.constructor)return!1;if(E===Object)return l(v,y,w);if(Array.isArray(v))return e(v,y,w);if(E===Date)return r(v,y,w);if(E===RegExp)return u(v,y,w);if(E===Map)return s(v,y,w);if(E===Set)return f(v,y,w);const P=GPe.call(v);if(P===DPe)return r(v,y,w);if(P===UPe)return u(v,y,w);if(P===$Pe)return s(v,y,w);if(P===zPe)return f(v,y,w);if(P===VPe)return typeof v.then!="function"&&typeof y.then!="function"&&l(v,y,w);if(P===HPe)return p(v,y,w);if(P===FPe)return i(v,y,w);if(P===RPe)return l(v,y,w);if(WPe[P])return h(v,y,w);if(P===OPe)return t(v,y,w);if(P===LPe)return n(v,y,w);if(P===MPe||P===BPe||P===qPe)return c(v,y,w);if(b){let R=b[P];if(!R){const I=yPe(v);I&&(R=b[I])}if(R)return R(v,y,w)}return!1}}function YPe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:_Pe,areArraysEqual:n?Xm:SPe,areDataViewsEqual:APe,areDatesEqual:NPe,areErrorsEqual:EPe,areFunctionsEqual:PPe,areMapsEqual:n?g_(hM,Xm):hM,areNumbersEqual:TPe,areObjectsEqual:n?Xm:kPe,arePrimitiveWrappersEqual:IPe,areRegExpsEqual:CPe,areSetsEqual:n?g_(pM,Xm):pM,areTypedArraysEqual:n?g_(Nx,Xm):Nx,areUrlsEqual:jPe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=n1(r.areArraysEqual),a=n1(r.areMapsEqual),s=n1(r.areObjectsEqual),o=n1(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:o})}return r}function XPe(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function QPe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(o,l){const{cache:c=t?new WeakMap:void 0,meta:u}=n();return e(o,l,{cache:c,equals:r,meta:u,strict:i})};if(t)return function(o,l){return e(o,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(o,l){return e(o,l,a)}}const JPe=Xu();Xu({strict:!0});Xu({circular:!0});Xu({circular:!0,strict:!0});Xu({createInternalComparator:()=>_d});Xu({strict:!0,createInternalComparator:()=>_d});Xu({circular:!0,createInternalComparator:()=>_d});Xu({circular:!0,createInternalComparator:()=>_d,strict:!0});function Xu(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=YPe(t),s=KPe(a),o=n?n(s):XPe(s);return QPe({circular:e,comparator:s,createState:r,equals:o,strict:i})}function ZPe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function mM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):ZPe(i)};requestAnimationFrame(r)}function FN(t){"@babel/helpers - typeof";return FN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FN(t)}function eTe(t){return iTe(t)||rTe(t)||nTe(t)||tTe()}function tTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nTe(t,e){if(t){if(typeof t=="string")return gM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gM(t,e)}}function gM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iTe(t){if(Array.isArray(t))return t}function aTe(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=eTe(s),l=o[0],c=o.slice(1);if(typeof l=="number"){mM(i.bind(null,c),l);return}i(l),mM(i.bind(null,c));return}FN(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Gy(t){"@babel/helpers - typeof";return Gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gy(t)}function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){rq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rq(t,e,n){return e=sTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sTe(t){var e=oTe(t,"string");return Gy(e)==="symbol"?e:String(e)}function oTe(t,e){if(Gy(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lTe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},cTe=function(e){return e},uTe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},$g=function(e,n){return Object.keys(n).reduce(function(r,i){return vM(vM({},r),{},rq({},i,e(i,n[i])))},{})},bM=function(e,n,r){return e.map(function(i){return"".concat(uTe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function fTe(t,e){return pTe(t)||hTe(t,e)||iq(t,e)||dTe()}function dTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function pTe(t){if(Array.isArray(t))return t}function mTe(t){return vTe(t)||yTe(t)||iq(t)||gTe()}function gTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iq(t,e){if(t){if(typeof t=="string")return $N(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $N(t,e)}}function yTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vTe(t){if(Array.isArray(t))return $N(t)}function $N(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ex=1e-4,aq=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},sq=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},xM=function(e,n){return function(r){var i=aq(e,n);return sq(i,r)}},bTe=function(e,n){return function(r){var i=aq(e,n),a=[].concat(mTe(i.map(function(s,o){return s*o}).slice(1)),[0]);return sq(a,r)}},wM=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=fTe(c,4);i=u[0],a=u[1],s=u[2],o=u[3]}}}var f=xM(i,s),h=xM(a,o),p=bTe(i,s),b=function(y){return y>1?1:y<0?0:y},x=function(y){for(var w=y>1?1:y,S=w,E=0;E<8;++E){var P=f(S)-w,R=p(S);if(Math.abs(P-w)<Ex||R<Ex)return h(S);S=b(S-P/R)}return h(S)};return x.isStepper=!1,x},xTe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(u,f,h){var p=-(u-f)*r,b=h*a,x=h+(p-b)*o/1e3,v=h*o/1e3+u;return Math.abs(v-f)<Ex&&Math.abs(x)<Ex?[f,0]:[v,x]};return l.isStepper=!0,l.dt=o,l},wTe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wM(i);case"spring":return xTe();default:if(i.split("(")[0]==="cubic-bezier")return wM(i)}return typeof i=="function"?i:null};function Ky(t){"@babel/helpers - typeof";return Ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ky(t)}function _M(t){return ATe(t)||STe(t)||oq(t)||_Te()}function _Te(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function STe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ATe(t){if(Array.isArray(t))return VN(t)}function SM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(n),!0).forEach(function(r){BN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BN(t,e,n){return e=NTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NTe(t){var e=ETe(t,"string");return Ky(e)==="symbol"?e:String(e)}function ETe(t,e){if(Ky(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ky(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PTe(t,e){return ITe(t)||kTe(t,e)||oq(t,e)||TTe()}function TTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oq(t,e){if(t){if(typeof t=="string")return VN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VN(t,e)}}function VN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function ITe(t){if(Array.isArray(t))return t}var Px=function(e,n,r){return e+(n-e)*r},UN=function(e){var n=e.from,r=e.to;return n!==r},CTe=function t(e,n,r){var i=$g(function(a,s){if(UN(s)){var o=e(s.from,s.to,s.velocity),l=PTe(o,2),c=l[0],u=l[1];return Si(Si({},s),{},{from:c,velocity:u})}return s},n);return r<1?$g(function(a,s){return UN(s)?Si(Si({},s),{},{velocity:Px(s.velocity,i[a].velocity,r),from:Px(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const jTe=function(t,e,n,r,i){var a=lTe(t,e),s=a.reduce(function(v,y){return Si(Si({},v),{},BN({},y,[t[y],e[y]]))},{}),o=a.reduce(function(v,y){return Si(Si({},v),{},BN({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return $g(function(y,w){return w.from},o)},p=function(){return!Object.values(o).filter(UN).length},b=function(y){c||(c=y);var w=y-c,S=w/n.dt;o=CTe(n,o,S),i(Si(Si(Si({},t),e),h())),c=y,p()||(l=requestAnimationFrame(f))},x=function(y){u||(u=y);var w=(y-u)/r,S=$g(function(P,R){return Px.apply(void 0,_M(R).concat([n(w)]))},s);if(i(Si(Si(Si({},t),e),S)),w<1)l=requestAnimationFrame(f);else{var E=$g(function(P,R){return Px.apply(void 0,_M(R).concat([n(1)]))},s);i(Si(Si(Si({},t),e),E))}};return f=n.isStepper?b:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}var OTe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function RTe(t,e){if(t==null)return{};var n=MTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MTe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function y_(t){return $Te(t)||FTe(t)||DTe(t)||LTe()}function LTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DTe(t,e){if(t){if(typeof t=="string")return zN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zN(t,e)}}function FTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Te(t){if(Array.isArray(t))return zN(t)}function zN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AM(Object(n),!0).forEach(function(r){mg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mg(t,e,n){return e=lq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lq(r.key),r)}}function UTe(t,e,n){return e&&VTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lq(t){var e=zTe(t,"string");return yp(e)==="symbol"?e:String(e)}function zTe(t,e){if(yp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qN(t,e)}function qN(t,e){return qN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qN(t,e)}function WTe(t){var e=HTe();return function(){var r=Tx(t),i;if(e){var a=Tx(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return WN(this,i)}}function WN(t,e){if(e&&(yp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HN(t)}function HN(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HTe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tx(t){return Tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tx(t)}var hc=function(t){qTe(n,t);var e=WTe(n);function n(r,i){var a;BTe(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(HN(a)),a.changeStyle=a.changeStyle.bind(HN(a)),!o||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:u}),WN(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof h=="function")return a.state={style:c},WN(a);a.state={style:l?mg({},l,c):c}}else a.state={style:{}};return a}return UTe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,f=a.from,h=this.state.style;if(o){if(!s){var p={style:l?mg({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(JPe(i.to,u)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=b||c?f:i.to;if(this.state&&h){var v={style:l?mg({},l,x):x};(l&&h[l]!==x||!l&&h!==x)&&this.setState(v)}this.runAnimation(Qs(Qs({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=jTe(s,o,wTe(c),l,this.changeStyle),b=function(){a.stopJSAnimation=p()};this.manager.start([h,u,b,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],u=c.style,f=c.duration,h=f===void 0?0:f,p=function(x,v,y){if(y===0)return x;var w=v.duration,S=v.easing,E=S===void 0?"ease":S,P=v.style,R=v.properties,I=v.onAnimationEnd,A=y>0?s[y-1]:v,N=R||Object.keys(P);if(typeof E=="function"||E==="spring")return[].concat(y_(x),[a.runJSAnimation.bind(a,{from:A.style,to:P,duration:w,easing:E}),w]);var M=bM(N,w,E),k=Qs(Qs(Qs({},A.style),P),{},{transition:M});return[].concat(y_(x),[k,w,I]).filter(cTe)};return this.manager.start([l].concat(y_(s.reduce(p,[u,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=aTe());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var x=o?mg({},o,l):l,v=bM(Object.keys(x),s,c);b.start([u,a,Qs(Qs({},x),{},{transition:v}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=RTe(i,OTe),c=U.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!o||c===0||s<=0)return a;var f=function(p){var b=p.props,x=b.style,v=x===void 0?{}:x,y=b.className,w=U.cloneElement(p,Qs(Qs({},l),{},{style:Qs(Qs({},v),u),className:y}));return w};return c===1?f(U.Children.only(a)):ge.createElement("div",null,U.Children.map(a,function(h){return f(h)}))}}]),n}(U.PureComponent);hc.displayName="Animate";hc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};hc.propTypes={from:gn.oneOfType([gn.object,gn.string]),to:gn.oneOfType([gn.object,gn.string]),attributeName:gn.string,duration:gn.number,begin:gn.number,easing:gn.oneOfType([gn.string,gn.func]),steps:gn.arrayOf(gn.shape({duration:gn.number.isRequired,style:gn.object.isRequired,easing:gn.oneOfType([gn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),gn.func]),properties:gn.arrayOf("string"),onAnimationEnd:gn.func})),children:gn.oneOfType([gn.node,gn.func]),isActive:gn.bool,canBegin:gn.bool,onAnimationEnd:gn.func,shouldReAnimate:gn.bool,onAnimationStart:gn.func,onAnimationReStart:gn.func};function Yy(t){"@babel/helpers - typeof";return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yy(t)}function kx(){return kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kx.apply(this,arguments)}function GTe(t,e){return QTe(t)||XTe(t,e)||YTe(t,e)||KTe()}function KTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YTe(t,e){if(t){if(typeof t=="string")return NM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NM(t,e)}}function NM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function QTe(t){if(Array.isArray(t))return t}function EM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(n),!0).forEach(function(r){JTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JTe(t,e,n){return e=ZTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZTe(t){var e=e4e(t,"string");return Yy(e)=="symbol"?e:e+""}function e4e(t,e){if(Yy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TM=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>s?s:a[h];u="M".concat(e,",").concat(n+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),u+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*f[1])),u+="L ".concat(e+r,",").concat(n+i-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),u+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*f[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var b=Math.min(s,a);u="M ".concat(e,",").concat(n+o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e+l*b,",").concat(n,`
            L `).concat(e+r-l*b,",").concat(n,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*b,`
            L `).concat(e+r,",").concat(n+i-o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e+r-l*b,",").concat(n+i,`
            L `).concat(e+l*b,",").concat(n+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*b," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},t4e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),u=Math.max(a,a+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=c&&r<=u&&i>=f&&i<=h}return!1},n4e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yk=function(e){var n=PM(PM({},n4e),e),r=U.useRef(),i=U.useState(-1),a=GTe(i,2),s=a[0],o=a[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&o(E)}catch{}},[]);var l=n.x,c=n.y,u=n.width,f=n.height,h=n.radius,p=n.className,b=n.animationEasing,x=n.animationDuration,v=n.animationBegin,y=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var S=ln("recharts-rectangle",p);return w?ge.createElement(hc,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:x,animationEasing:b,isActive:w},function(E){var P=E.width,R=E.height,I=E.x,A=E.y;return ge.createElement(hc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,isActive:y,easing:b},ge.createElement("path",kx({},Gt(n,!0),{className:S,d:TM(I,A,P,R,h),ref:r})))}):ge.createElement("path",kx({},Gt(n,!0),{className:S,d:TM(l,c,u,f,h)}))};function GN(){return GN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GN.apply(this,arguments)}var vk=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=ln("recharts-dot",a);return n===+n&&r===+r&&i===+i?U.createElement("circle",GN({},Gt(e,!1),Hb(e),{className:s,cx:n,cy:r,r:i})):null};function Xy(t){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xy(t)}var r4e=["x","y","top","left","width","height","className"];function KN(){return KN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KN.apply(this,arguments)}function kM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i4e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(n),!0).forEach(function(r){a4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a4e(t,e,n){return e=s4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s4e(t){var e=o4e(t,"string");return Xy(e)=="symbol"?e:e+""}function o4e(t,e){if(Xy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l4e(t,e){if(t==null)return{};var n=c4e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function c4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var u4e=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},f4e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,h=e.height,p=h===void 0?0:h,b=e.className,x=l4e(e,r4e),v=i4e({x:r,y:a,top:o,left:c,width:f,height:p},x);return!ze(r)||!ze(a)||!ze(f)||!ze(p)||!ze(o)||!ze(c)?null:ge.createElement("path",KN({},Gt(v,!0),{className:ln("recharts-cross",b),d:u4e(r,a,f,p,o,c)}))},d4e=SU,h4e=d4e(Object.getPrototypeOf,Object),p4e=h4e,m4e=yc,g4e=p4e,y4e=vc,v4e="[object Object]",b4e=Function.prototype,x4e=Object.prototype,cq=b4e.toString,w4e=x4e.hasOwnProperty,_4e=cq.call(Object);function S4e(t){if(!y4e(t)||m4e(t)!=v4e)return!1;var e=g4e(t);if(e===null)return!0;var n=w4e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&cq.call(n)==_4e}var A4e=S4e;const N4e=Ln(A4e);var E4e=yc,P4e=vc,T4e="[object Boolean]";function k4e(t){return t===!0||t===!1||P4e(t)&&E4e(t)==T4e}var I4e=k4e;const C4e=Ln(I4e);function Qy(t){"@babel/helpers - typeof";return Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qy(t)}function Ix(){return Ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ix.apply(this,arguments)}function j4e(t,e){return L4e(t)||M4e(t,e)||R4e(t,e)||O4e()}function O4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R4e(t,e){if(t){if(typeof t=="string")return IM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IM(t,e)}}function IM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function M4e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function L4e(t){if(Array.isArray(t))return t}function CM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(n),!0).forEach(function(r){D4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D4e(t,e,n){return e=F4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F4e(t){var e=$4e(t,"string");return Qy(e)=="symbol"?e:e+""}function $4e(t,e){if(Qy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OM=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},B4e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},V4e=function(e){var n=jM(jM({},B4e),e),r=U.useRef(),i=U.useState(-1),a=j4e(i,2),s=a[0],o=a[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&o(S)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,b=n.animationEasing,x=n.animationDuration,v=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var w=ln("recharts-trapezoid",p);return y?ge.createElement(hc,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:x,animationEasing:b,isActive:y},function(S){var E=S.upperWidth,P=S.lowerWidth,R=S.height,I=S.x,A=S.y;return ge.createElement(hc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,easing:b},ge.createElement("path",Ix({},Gt(n,!0),{className:w,d:OM(I,A,E,P,R),ref:r})))}):ge.createElement("g",null,ge.createElement("path",Ix({},Gt(n,!0),{className:w,d:OM(l,c,u,f,h)})))},U4e=["option","shapeType","propTransformer","activeClassName","isActive"];function Jy(t){"@babel/helpers - typeof";return Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jy(t)}function z4e(t,e){if(t==null)return{};var n=q4e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function q4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(n),!0).forEach(function(r){W4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W4e(t,e,n){return e=H4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H4e(t){var e=G4e(t,"string");return Jy(e)=="symbol"?e:e+""}function G4e(t,e){if(Jy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K4e(t,e){return Cx(Cx({},e),t)}function Y4e(t,e){return t==="symbols"}function MM(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return ge.createElement(yk,n);case"trapezoid":return ge.createElement(V4e,n);case"sector":return ge.createElement(Jz,n);case"symbols":if(Y4e(e))return ge.createElement(L4,n);break;default:return null}}function X4e(t){return U.isValidElement(t)?t.props:t}function Q4e(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?K4e:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=z4e(t,U4e),c;if(U.isValidElement(e))c=U.cloneElement(e,Cx(Cx({},l),X4e(e)));else if(Ut(e))c=e(l);else if(N4e(e)&&!C4e(e)){var u=i(e,l);c=ge.createElement(MM,{shapeType:n,elementProps:u})}else{var f=l;c=ge.createElement(MM,{shapeType:n,elementProps:f})}return o?ge.createElement(dr,{className:s},c):c}function ww(t,e){return e!=null&&"trapezoids"in t.props}function _w(t,e){return e!=null&&"sectors"in t.props}function Zy(t,e){return e!=null&&"points"in t.props}function J4e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function Z4e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function eke(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function tke(t,e){var n;return ww(t,e)?n=J4e:_w(t,e)?n=Z4e:Zy(t,e)&&(n=eke),n}function nke(t,e){var n;return ww(t,e)?n="trapezoids":_w(t,e)?n="sectors":Zy(t,e)&&(n="points"),n}function rke(t,e){if(ww(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(_w(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Zy(t,e)?e.payload:{}}function ike(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=nke(n,e),a=rke(n,e),s=r.filter(function(l,c){var u=Ly(a,l),f=n.props[i].filter(function(b){var x=tke(n,e);return x(b,e)}),h=n.props[i].indexOf(f[f.length-1]),p=c===h;return u&&p}),o=r.indexOf(s[s.length-1]);return o}var ake=Math.ceil,ske=Math.max;function oke(t,e,n,r){for(var i=-1,a=ske(ake((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var lke=oke,cke=UU,LM=1/0,uke=17976931348623157e292;function fke(t){if(!t)return t===0?t:0;if(t=cke(t),t===LM||t===-LM){var e=t<0?-1:1;return e*uke}return t===t?t:0}var uq=fke,dke=lke,hke=uw,v_=uq;function pke(t){return function(e,n,r){return r&&typeof r!="number"&&hke(e,n,r)&&(n=r=void 0),e=v_(e),n===void 0?(n=e,e=0):n=v_(n),r=r===void 0?e<n?1:-1:v_(r),dke(e,n,r,t)}}var mke=pke,gke=mke,yke=gke(),vke=yke;const jx=Ln(vke);function ev(t){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ev(t)}function DM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(n),!0).forEach(function(r){fq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fq(t,e,n){return e=bke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bke(t){var e=xke(t,"string");return ev(e)=="symbol"?e:e+""}function xke(t,e){if(ev(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ev(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wke=["Webkit","Moz","O","ms"],_ke=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=wke.reduce(function(a,s){return FM(FM({},a),{},fq({},s+r,n))},{});return i[e]=n,i};function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}function Ox(){return Ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ox.apply(this,arguments)}function $M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(n),!0).forEach(function(r){qa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ske(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hq(r.key),r)}}function Ake(t,e,n){return e&&BM(t.prototype,e),n&&BM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nke(t,e,n){return e=Rx(e),Eke(t,dq()?Reflect.construct(e,n||[],Rx(t).constructor):e.apply(t,n))}function Eke(t,e){if(e&&(vp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pke(t)}function Pke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dq=function(){return!!t})()}function Rx(t){return Rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rx(t)}function Tke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YN(t,e)}function YN(t,e){return YN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YN(t,e)}function qa(t,e,n){return e=hq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hq(t){var e=kke(t,"string");return vp(e)=="symbol"?e:e+""}function kke(t,e){if(vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ike=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Lg().domain(jx(0,l)).range([a,a+s-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},VM=function(e){return e.changedTouches&&!!e.changedTouches.length},bp=function(t){function e(n){var r;return Ske(this,e),r=Nke(this,e,[n]),qa(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),qa(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),qa(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),qa(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),qa(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),qa(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),qa(r,"handleSlideDragStart",function(i){var a=VM(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Tke(e,t),Ake(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(s,f),b=e.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:b===u?u:b-b%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=ns(a[r],o,r);return Ut(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,b=l.onChange,x=r.pageX-a;x>0?x=Math.min(x,c+u-f-o,c+u-f-s):x<0&&(x=Math.max(x,c-s,c-o));var v=this.getIndex({startX:s+x,endX:o+x});(v.startIndex!==h||v.endIndex!==p)&&b&&b(v),this.setState({startX:s+x,endX:o+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=VM(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,b=u.onChange,x=u.gap,v=u.data,y={startX:this.state.startX,endX:this.state.endX},w=r.pageX-a;w>0?w=Math.min(w,f+h-p-c):w<0&&(w=Math.max(w,f-c)),y[s]=c+w;var S=this.getIndex(y),E=S.startIndex,P=S.endIndex,R=function(){var A=v.length-1;return s==="startX"&&(o>l?E%x===0:P%x===0)||o<l&&P===A||s==="endX"&&(o>l?P%x===0:E%x===0)||o>l&&P===A};this.setState(qa(qa({},s,c+w),"brushMoveStartX",r.pageX),function(){b&&R()&&b(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[i],f=o.indexOf(u);if(f!==-1){var h=f+r;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(qa({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.fill,c=r.stroke;return ge.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.data,c=r.children,u=r.padding,f=U.Children.only(c);return f?ge.cloneElement(f,{x:i,y:a,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,b=l.data,x=l.startIndex,v=l.endIndex,y=Math.max(r,this.props.x),w=b_(b_({},Gt(this.props,!1)),{},{x:y,y:c,width:u,height:f}),S=p||"Min value: ".concat((a=b[x])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=b[v])===null||s===void 0?void 0:s.name);return ge.createElement(dr,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),o.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return ge.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,f=u.startX,h=u.endX,p=5,b={pointerEvents:"none",fill:c};return ge.createElement(dr,{className:"recharts-brush-texts"},ge.createElement(ox,Ox({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},b),this.getTextOfTick(i)),ge.createElement(ox,Ox({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:s+o/2},b),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,l=r.y,c=r.width,u=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,b=h.endX,x=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!ze(o)||!ze(l)||!ze(c)||!ze(u)||c<=0||u<=0)return null;var S=ln("recharts-brush",a),E=ge.Children.count(s)===1,P=_ke("userSelect","none");return ge.createElement(dr,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(p,b),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(b,"endX"),(x||v||y||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,l=r.stroke,c=Math.floor(a+o/2)-1;return ge.createElement(ge.Fragment,null,ge.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),ge.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),ge.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return ge.isValidElement(r)?a=ge.cloneElement(r,i):Ut(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,f=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return b_({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?Ike({data:a,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);r[l]>i?o=l:s=l}return i>=r[o]?o:s}}])}(U.PureComponent);qa(bp,"displayName","Brush");qa(bp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Cke=z4;function jke(t,e){var n;return Cke(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var Oke=jke,Rke=mU,Mke=Gu,Lke=Oke,Dke=Ta,Fke=uw;function $ke(t,e,n){var r=Dke(t)?Rke:Lke;return n&&Fke(t,e,n)&&(e=void 0),r(t,Mke(e))}var Bke=$ke;const Vke=Ln(Bke);var nl=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},UM=DU;function Uke(t,e,n){e=="__proto__"&&UM?UM(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var zke=Uke,qke=zke,Wke=MU,Hke=Gu;function Gke(t,e){var n={};return e=Hke(e),Wke(t,function(r,i,a){qke(n,i,e(r,i,a))}),n}var Kke=Gke;const Yke=Ln(Kke);function Xke(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Qke=Xke,Jke=z4;function Zke(t,e){var n=!0;return Jke(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var e3e=Zke,t3e=Qke,n3e=e3e,r3e=Gu,i3e=Ta,a3e=uw;function s3e(t,e,n){var r=i3e(t)?t3e:n3e;return n&&a3e(t,e,n)&&(e=void 0),r(t,r3e(e))}var o3e=s3e;const pq=Ln(o3e);var l3e=["x","y"];function tv(t){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tv(t)}function XN(){return XN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XN.apply(this,arguments)}function zM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zM(Object(n),!0).forEach(function(r){c3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c3e(t,e,n){return e=u3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u3e(t){var e=f3e(t,"string");return tv(e)=="symbol"?e:e+""}function f3e(t,e){if(tv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d3e(t,e){if(t==null)return{};var n=h3e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function h3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function p3e(t,e){var n=t.x,r=t.y,i=d3e(t,l3e),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Qm(Qm(Qm(Qm(Qm({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function qM(t){return ge.createElement(Q4e,XN({shapeType:"rectangle",propTransformer:p3e,activeClassName:"recharts-active-bar"},t))}var m3e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=ze(r)||Ppe(r);return a?e(r,i):(a||sd(),n)}},g3e=["value","background"],mq;function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function y3e(t,e){if(t==null)return{};var n=v3e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function v3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mx(){return Mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mx.apply(this,arguments)}function WM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WM(Object(n),!0).forEach(function(r){fu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yq(r.key),r)}}function x3e(t,e,n){return e&&HM(t.prototype,e),n&&HM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function w3e(t,e,n){return e=Lx(e),_3e(t,gq()?Reflect.construct(e,n||[],Lx(t).constructor):e.apply(t,n))}function _3e(t,e){if(e&&(xp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S3e(t)}function S3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gq=function(){return!!t})()}function Lx(t){return Lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lx(t)}function A3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QN(t,e)}function QN(t,e){return QN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QN(t,e)}function fu(t,e,n){return e=yq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yq(t){var e=N3e(t,"string");return xp(e)=="symbol"?e:e+""}function N3e(t,e){if(xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gv=function(t){function e(){var n;b3e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=w3e(this,e,[].concat(i)),fu(n,"state",{isAnimationFinished:!1}),fu(n,"id",Vv("recharts-bar-")),fu(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),fu(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return A3e(e,t),x3e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,u=Gt(this.props,!1);return r&&r.map(function(f,h){var p=h===l,b=p?c:s,x=qr(qr(qr({},u),f),{},{isActive:p,option:b,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ge.createElement(dr,Mx({className:"recharts-bar-rectangle"},Gb(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),ge.createElement(qM,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state.prevData;return ge.createElement(hc,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var b=p.t,x=a.map(function(v,y){var w=h&&h[y];if(w){var S=Es(w.x,v.x),E=Es(w.y,v.y),P=Es(w.width,v.width),R=Es(w.height,v.height);return qr(qr({},v),{},{x:S(b),y:E(b),width:P(b),height:R(b)})}if(s==="horizontal"){var I=Es(0,v.height),A=I(b);return qr(qr({},v),{},{y:v.y+v.height-A,height:A})}var N=Es(0,v.width),M=N(b);return qr(qr({},v),{},{width:M})});return ge.createElement(dr,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Ly(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=Gt(this.props.background,!1);return a.map(function(c,u){c.value;var f=c.background,h=y3e(c,g3e);if(!f)return null;var p=qr(qr(qr(qr(qr({},h),{},{fill:"#eee"},f),l),Gb(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return ge.createElement(qM,Mx({key:"background-bar-".concat(u),option:r.props.background,isActive:u===o},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=co(u,xw);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(v,y){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:ns(v,y)}},b={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ge.createElement(dr,b,f.map(function(x){return ge.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,l=r.yAxis,c=r.left,u=r.top,f=r.width,h=r.height,p=r.isAnimationActive,b=r.background,x=r.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,y=ln("recharts-bar",s),w=o&&o.allowDataOverflow,S=l&&l.allowDataOverflow,E=w||S,P=Jt(x)?this.id:x;return ge.createElement(dr,{className:y},w||S?ge.createElement("defs",null,ge.createElement("clipPath",{id:"clipPath-".concat(P)},ge.createElement("rect",{x:w?c:c-f/2,y:S?u:u-h/2,width:w?f:f*2,height:S?h:h*2}))):null,ge.createElement(dr,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(P,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,P),(!p||v)&&Pu.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(U.PureComponent);mq=Gv;fu(Gv,"displayName","Bar");fu(Gv,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!rm.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});fu(Gv,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,h=t.offset,p=QNe(r,n);if(!p)return null;var b=e.layout,x=n.type.defaultProps,v=x!==void 0?qr(qr({},x),n.props):n.props,y=v.dataKey,w=v.children,S=v.minPointSize,E=b==="horizontal"?s:a,P=c?E.scale.domain():null,R=aEe({numericAxis:E}),I=co(w,qU),A=f.map(function(N,M){var k,j,C,V,X,ne;c?k=JNe(c[u+M],P):(k=ns(N,y),Array.isArray(k)||(k=[R,k]));var oe=m3e(S,mq.defaultProps.minPointSize)(k[1],M);if(b==="horizontal"){var Y,le=[s.scale(k[0]),s.scale(k[1])],K=le[0],H=le[1];j=KR({axis:a,ticks:o,bandSize:i,offset:p.offset,entry:N,index:M}),C=(Y=H??K)!==null&&Y!==void 0?Y:void 0,V=p.size;var F=K-H;if(X=Number.isNaN(F)?0:F,ne={x:j,y:s.y,width:V,height:s.height},Math.abs(oe)>0&&Math.abs(X)<Math.abs(oe)){var q=so(X||oe)*(Math.abs(oe)-Math.abs(X));C-=q,X+=q}}else{var ee=[a.scale(k[0]),a.scale(k[1])],se=ee[0],ce=ee[1];if(j=se,C=KR({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:N,index:M}),V=ce-se,X=p.size,ne={x:a.x,y:C,width:a.width,height:X},Math.abs(oe)>0&&Math.abs(V)<Math.abs(oe)){var fe=so(V||oe)*(Math.abs(oe)-Math.abs(V));V+=fe}}return qr(qr(qr({},N),{},{x:j,y:C,width:V,height:X,value:c?k:k[1],payload:N,background:ne},I&&I[M]&&I[M].props),{},{tooltipPayload:[Yz(n,N)],tooltipPosition:{x:j+V/2,y:C+X/2}})});return qr({data:A,layout:b},h)});function nv(t){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nv(t)}function E3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vq(r.key),r)}}function P3e(t,e,n){return e&&GM(t.prototype,e),n&&GM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function KM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function no(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(n),!0).forEach(function(r){Sw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sw(t,e,n){return e=vq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vq(t){var e=T3e(t,"string");return nv(e)=="symbol"?e:e+""}function T3e(t,e){if(nv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var k3e=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!Ha(c,Gv);return u.reduce(function(p,b){var x=n[b],v=x.orientation,y=x.domain,w=x.padding,S=w===void 0?{}:w,E=x.mirror,P=x.reversed,R="".concat(v).concat(E?"Mirror":""),I,A,N,M,k;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var j=y[1]-y[0],C=1/0,V=x.categoricalDomain.sort(Ipe);if(V.forEach(function(ee,se){se>0&&(C=Math.min((ee||0)-(V[se-1]||0),C))}),Number.isFinite(C)){var X=C/j,ne=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(I=X*ne/2),x.padding==="no-gap"){var oe=id(e.barCategoryGap,X*ne),Y=X*ne/2;I=Y-oe-(Y-oe)/ne*oe}}}i==="xAxis"?A=[r.left+(S.left||0)+(I||0),r.left+r.width-(S.right||0)-(I||0)]:i==="yAxis"?A=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(I||0),r.top+r.height-(S.bottom||0)-(I||0)]:A=x.range,P&&(A=[A[1],A[0]]);var le=YNe(x,a,h),K=le.scale,H=le.realScaleType;K.domain(y).range(A),XNe(K);var F=iEe(K,no(no({},x),{},{realScaleType:H}));i==="xAxis"?(k=v==="top"&&!E||v==="bottom"&&E,N=r.left,M=f[R]-k*x.height):i==="yAxis"&&(k=v==="left"&&!E||v==="right"&&E,N=f[R]-k*x.width,M=r.top);var q=no(no(no({},x),F),{},{realScaleType:H,x:N,y:M,scale:K,width:i==="xAxis"?r.width:x.width,height:i==="yAxis"?r.height:x.height});return q.bandSize=_x(q,F),!x.hide&&i==="xAxis"?f[R]+=(k?-1:1)*q.height:x.hide||(f[R]+=(k?-1:1)*q.width),no(no({},p),{},Sw({},b,q))},{})},bq=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},I3e=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return bq({x:n,y:r},{x:i,y:a})},xq=function(){function t(e){E3e(this,t),this.scale=e}return P3e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Sw(xq,"EPS",1e-4);var bk=function(e){var n=Object.keys(e).reduce(function(r,i){return no(no({},r),{},Sw({},i,xq.create(e[i])))},{});return no(no({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return Yke(i,function(l,c){return n[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return pq(i,function(a,s){return n[s].isInRange(a)})}})};function C3e(t){return(t%180+180)%180}var j3e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=C3e(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},O3e=Gu,R3e=Uv,M3e=lw;function L3e(t){return function(e,n,r){var i=Object(e);if(!R3e(e)){var a=O3e(n);e=M3e(e),n=function(o){return a(i[o],o,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var D3e=L3e,F3e=uq;function $3e(t){var e=F3e(t),n=e%1;return e===e?n?e-n:e:0}var B3e=$3e,V3e=kU,U3e=Gu,z3e=B3e,q3e=Math.max;function W3e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:z3e(n);return i<0&&(i=q3e(r+i,0)),V3e(t,U3e(e),i)}var H3e=W3e,G3e=D3e,K3e=H3e,Y3e=G3e(K3e),X3e=Y3e;const Q3e=Ln(X3e);var J3e=Ohe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),xk=U.createContext(void 0),wk=U.createContext(void 0),wq=U.createContext(void 0),_q=U.createContext({}),Sq=U.createContext(void 0),Aq=U.createContext(0),Nq=U.createContext(0),YM=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,u=J3e(a);return ge.createElement(xk.Provider,{value:r},ge.createElement(wk.Provider,{value:i},ge.createElement(_q.Provider,{value:a},ge.createElement(wq.Provider,{value:u},ge.createElement(Sq.Provider,{value:s},ge.createElement(Aq.Provider,{value:c},ge.createElement(Nq.Provider,{value:l},o)))))))},Z3e=function(){return U.useContext(Sq)},Eq=function(e){var n=U.useContext(xk);n==null&&sd();var r=n[e];return r==null&&sd(),r},eIe=function(){var e=U.useContext(xk);return au(e)},tIe=function(){var e=U.useContext(wk),n=Q3e(e,function(r){return pq(r.domain,Number.isFinite)});return n||au(e)},Pq=function(e){var n=U.useContext(wk);n==null&&sd();var r=n[e];return r==null&&sd(),r},nIe=function(){var e=U.useContext(wq);return e},rIe=function(){return U.useContext(_q)},_k=function(){return U.useContext(Nq)},Sk=function(){return U.useContext(Aq)};function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function iIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kq(r.key),r)}}function sIe(t,e,n){return e&&aIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oIe(t,e,n){return e=Dx(e),lIe(t,Tq()?Reflect.construct(e,n||[],Dx(t).constructor):e.apply(t,n))}function lIe(t,e){if(e&&(wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cIe(t)}function cIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tq=function(){return!!t})()}function Dx(t){return Dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dx(t)}function uIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JN(t,e)}function JN(t,e){return JN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JN(t,e)}function XM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XM(Object(n),!0).forEach(function(r){Ak(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ak(t,e,n){return e=kq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kq(t){var e=fIe(t,"string");return wp(e)=="symbol"?e:e+""}function fIe(t,e){if(wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dIe(t,e){return gIe(t)||mIe(t,e)||pIe(t,e)||hIe()}function hIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pIe(t,e){if(t){if(typeof t=="string")return JM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JM(t,e)}}function JM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function gIe(t){if(Array.isArray(t))return t}function ZN(){return ZN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZN.apply(this,arguments)}var yIe=function(e,n){var r;return ge.isValidElement(e)?r=ge.cloneElement(e,n):Ut(e)?r=e(n):r=ge.createElement("line",ZN({},n,{className:"recharts-reference-line-line"})),r},vIe=function(e,n,r,i,a,s,o,l,c){var u=a.x,f=a.y,h=a.width,p=a.height;if(r){var b=c.y,x=e.y.apply(b,{position:s});if(nl(c,"discard")&&!e.y.isInRange(x))return null;var v=[{x:u+h,y:x},{x:u,y:x}];return l==="left"?v.reverse():v}if(n){var y=c.x,w=e.x.apply(y,{position:s});if(nl(c,"discard")&&!e.x.isInRange(w))return null;var S=[{x:w,y:f+p},{x:w,y:f}];return o==="top"?S.reverse():S}if(i){var E=c.segment,P=E.map(function(R){return e.apply(R,{position:s})});return nl(c,"discard")&&Vke(P,function(R){return!e.isInRange(R)})?null:P}return null};function bIe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=Z3e(),u=Eq(i),f=Pq(a),h=nIe();if(!c||!h)return null;Xl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=bk({x:u.scale,y:f.scale}),b=ri(e),x=ri(n),v=r&&r.length===2,y=vIe(p,b,x,v,h,t.position,u.orientation,f.orientation,t);if(!y)return null;var w=dIe(y,2),S=w[0],E=S.x,P=S.y,R=w[1],I=R.x,A=R.y,N=nl(t,"hidden")?"url(#".concat(c,")"):void 0,M=QM(QM({clipPath:N},Gt(t,!0)),{},{x1:E,y1:P,x2:I,y2:A});return ge.createElement(dr,{className:ln("recharts-reference-line",o)},yIe(s,M),Xi.renderCallByParent(t,I3e({x1:E,y1:P,x2:I,y2:A})))}var Nk=function(t){function e(){return iIe(this,e),oIe(this,e,arguments)}return uIe(e,t),sIe(e,[{key:"render",value:function(){return ge.createElement(bIe,this.props)}}])}(ge.Component);Ak(Nk,"displayName","ReferenceLine");Ak(Nk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function eE(){return eE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eE.apply(this,arguments)}function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function ZM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZM(Object(n),!0).forEach(function(r){Aw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cq(r.key),r)}}function _Ie(t,e,n){return e&&wIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SIe(t,e,n){return e=Fx(e),AIe(t,Iq()?Reflect.construct(e,n||[],Fx(t).constructor):e.apply(t,n))}function AIe(t,e){if(e&&(_p(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NIe(t)}function NIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Iq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iq=function(){return!!t})()}function Fx(t){return Fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fx(t)}function EIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tE(t,e)}function tE(t,e){return tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tE(t,e)}function Aw(t,e,n){return e=Cq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cq(t){var e=PIe(t,"string");return _p(e)=="symbol"?e:e+""}function PIe(t,e){if(_p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var TIe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=bk({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return nl(e,"discard")&&!s.isInRange(o)?null:o},Nw=function(t){function e(){return xIe(this,e),SIe(this,e,arguments)}return EIe(e,t),_Ie(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,l=r.clipPathId,c=ri(i),u=ri(a);if(Xl(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=TIe(this.props);if(!f)return null;var h=f.x,p=f.y,b=this.props,x=b.shape,v=b.className,y=nl(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=eL(eL({clipPath:y},Gt(this.props,!0)),{},{cx:h,cy:p});return ge.createElement(dr,{className:ln("recharts-reference-dot",v)},e.renderDot(x,w),Xi.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(ge.Component);Aw(Nw,"displayName","ReferenceDot");Aw(Nw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Aw(Nw,"renderDot",function(t,e){var n;return ge.isValidElement(t)?n=ge.cloneElement(t,e):Ut(t)?n=t(e):n=ge.createElement(vk,eE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function nE(){return nE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nE.apply(this,arguments)}function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function tL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tL(Object(n),!0).forEach(function(r){Ew(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oq(r.key),r)}}function CIe(t,e,n){return e&&IIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jIe(t,e,n){return e=$x(e),OIe(t,jq()?Reflect.construct(e,n||[],$x(t).constructor):e.apply(t,n))}function OIe(t,e){if(e&&(Sp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RIe(t)}function RIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jq=function(){return!!t})()}function $x(t){return $x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$x(t)}function MIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rE(t,e)}function rE(t,e){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rE(t,e)}function Ew(t,e,n){return e=Oq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oq(t){var e=LIe(t,"string");return Sp(e)=="symbol"?e:e+""}function LIe(t,e){if(Sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var DIe=function(e,n,r,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var h=bk({x:u.scale,y:f.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},b={x:n?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return nl(a,"discard")&&(!h.isInRange(p)||!h.isInRange(b))?null:bq(p,b)},Pw=function(t){function e(){return kIe(this,e),jIe(this,e,arguments)}return MIe(e,t),CIe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;Xl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ri(i),h=ri(a),p=ri(s),b=ri(o),x=this.props.shape;if(!f&&!h&&!p&&!b&&!x)return null;var v=DIe(f,h,p,b,this.props);if(!v&&!x)return null;var y=nl(this.props,"hidden")?"url(#".concat(u,")"):void 0;return ge.createElement(dr,{className:ln("recharts-reference-area",l)},e.renderRect(x,nL(nL({clipPath:y},Gt(this.props,!0)),v)),Xi.renderCallByParent(this.props,v))}}])}(ge.Component);Ew(Pw,"displayName","ReferenceArea");Ew(Pw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ew(Pw,"renderRect",function(t,e){var n;return ge.isValidElement(t)?n=ge.cloneElement(t,e):Ut(t)?n=t(e):n=ge.createElement(yk,nE({},e,{className:"recharts-reference-area-rect"})),n});function Rq(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function FIe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return j3e(r,n)}function $Ie(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function Bx(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function BIe(t,e){return Rq(t,e+1)}function VIe(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,l=0,c=1,u=s,f=function(){var b=r==null?void 0:r[l];if(b===void 0)return{v:Rq(r,c)};var x=l,v,y=function(){return v===void 0&&(v=n(b,x)),v},w=b.coordinate,S=l===0||Bx(t,w,y,u,o);S||(l=0,u=s,c+=1),S&&(u=w+t*(y()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function rv(t){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rv(t)}function rL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rL(Object(n),!0).forEach(function(r){UIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UIe(t,e,n){return e=zIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zIe(t){var e=qIe(t,"string");return rv(e)=="symbol"?e:e+""}function qIe(t,e){if(rv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WIe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,l=e.end,c=function(h){var p=a[h],b,x=function(){return b===void 0&&(b=n(p,h)),b};if(h===s-1){var v=t*(p.coordinate+t*x()/2-l);a[h]=p=Hi(Hi({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else a[h]=p=Hi(Hi({},p),{},{tickCoord:p.coordinate});var y=Bx(t,p.tickCoord,x,o,l);y&&(l=p.tickCoord-t*(x()/2+i),a[h]=Hi(Hi({},p),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}function HIe(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,l=e.start,c=e.end;if(a){var u=r[o-1],f=n(u,o-1),h=t*(u.coordinate+t*f/2-c);s[o-1]=u=Hi(Hi({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var p=Bx(t,u.tickCoord,function(){return f},l,c);p&&(c=u.tickCoord-t*(f/2+i),s[o-1]=Hi(Hi({},u),{},{isShow:!0}))}for(var b=a?o-1:o,x=function(w){var S=s[w],E,P=function(){return E===void 0&&(E=n(S,w)),E};if(w===0){var R=t*(S.coordinate-t*P()/2-l);s[w]=S=Hi(Hi({},S),{},{tickCoord:R<0?S.coordinate-R*t:S.coordinate})}else s[w]=S=Hi(Hi({},S),{},{tickCoord:S.coordinate});var I=Bx(t,S.tickCoord,P,l,c);I&&(l=S.tickCoord+t*(P()/2+i),s[w]=Hi(Hi({},S),{},{isShow:!0}))},v=0;v<b;v++)x(v);return s}function Ek(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ze(l)||rm.isSsr)return BIe(i,typeof l=="number"&&ze(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",b=u&&p==="width"?Mg(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=function(S,E){var P=Ut(c)?c(S.value,E):S.value;return p==="width"?FIe(Mg(P,{fontSize:e,letterSpacing:n}),b,f):Mg(P,{fontSize:e,letterSpacing:n})[p]},v=i.length>=2?so(i[1].coordinate-i[0].coordinate):1,y=$Ie(a,v,p);return l==="equidistantPreserveStart"?VIe(v,y,x,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=HIe(v,y,x,i,s,l==="preserveStartEnd"):h=WIe(v,y,x,i,s),h.filter(function(w){return w.isShow}))}var GIe=["viewBox"],KIe=["viewBox"],YIe=["ticks"];function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function yh(){return yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yh.apply(this,arguments)}function iL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iL(Object(n),!0).forEach(function(r){Pk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x_(t,e){if(t==null)return{};var n=XIe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function QIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lq(r.key),r)}}function JIe(t,e,n){return e&&aL(t.prototype,e),n&&aL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZIe(t,e,n){return e=Vx(e),eCe(t,Mq()?Reflect.construct(e,n||[],Vx(t).constructor):e.apply(t,n))}function eCe(t,e){if(e&&(Ap(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tCe(t)}function tCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mq=function(){return!!t})()}function Vx(t){return Vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vx(t)}function nCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iE(t,e)}function iE(t,e){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iE(t,e)}function Pk(t,e,n){return e=Lq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lq(t){var e=rCe(t,"string");return Ap(e)=="symbol"?e:e+""}function rCe(t,e){if(Ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var om=function(t){function e(n){var r;return QIe(this,e),r=ZIe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return nCe(e,t),JIe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=x_(r,GIe),o=this.props,l=o.viewBox,c=x_(o,KIe);return!Oh(a,l)||!Oh(s,c)||!Oh(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,h=i.tickMargin,p,b,x,v,y,w,S=f?-1:1,E=r.tickSize||u,P=ze(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=b=r.coordinate,v=s+ +!f*l,x=v-S*E,w=x-S*h,y=P;break;case"left":x=v=r.coordinate,b=a+ +!f*o,p=b-S*E,y=p-S*h,w=P;break;case"right":x=v=r.coordinate,b=a+ +f*o,p=b+S*E,y=p+S*h,w=P;break;default:p=b=r.coordinate,v=s+ +f*l,x=v+S*E,w=x+S*h,y=P;break}return{line:{x1:p,y1:x,x2:b,y2:v},tick:{x:y,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,f=Zr(Zr(Zr({},Gt(this.props,!1)),Gt(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Zr(Zr({},f),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=Zr(Zr({},f),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+o})}return ge.createElement("line",yh({},f,{className:ln("recharts-cartesian-axis-line",Os(u,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,h=o.unit,p=Ek(Zr(Zr({},this.props),{},{ticks:r}),i,a),b=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),v=Gt(this.props,!1),y=Gt(u,!1),w=Zr(Zr({},v),{},{fill:"none"},Gt(l,!1)),S=p.map(function(E,P){var R=s.getTickLineCoord(E),I=R.line,A=R.tick,N=Zr(Zr(Zr(Zr({textAnchor:b,verticalAnchor:x},v),{},{stroke:"none",fill:c},y),A),{},{index:P,payload:E,visibleTicksCount:p.length,tickFormatter:f});return ge.createElement(dr,yh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},Gb(s.props,E,P)),l&&ge.createElement("line",yh({},w,I,{className:ln("recharts-cartesian-axis-tick-line",Os(l,"className"))})),u&&e.renderTickItem(u,N,"".concat(Ut(f)?f(E.value,P):E.value).concat(h||"")))});return ge.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,h=f.ticks,p=x_(f,YIe),b=h;return Ut(l)&&(b=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!b||!b.length?null:ge.createElement(dr,{className:ln("recharts-cartesian-axis",c),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),Xi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,o=ln(i.className,"recharts-cartesian-axis-tick-value");return ge.isValidElement(r)?s=ge.cloneElement(r,Zr(Zr({},i),{},{className:o})):Ut(r)?s=r(Zr(Zr({},i),{},{className:o})):s=ge.createElement(ox,yh({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(U.Component);Pk(om,"displayName","CartesianAxis");Pk(om,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var iCe=["x1","y1","x2","y2","key"],aCe=["offset"];function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function sL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sL(Object(n),!0).forEach(function(r){sCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sCe(t,e,n){return e=oCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oCe(t){var e=lCe(t,"string");return od(e)=="symbol"?e:e+""}function lCe(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mf(){return Mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mf.apply(this,arguments)}function oL(t,e){if(t==null)return{};var n=cCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var uCe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return ge.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Dq(t,e){var n;if(ge.isValidElement(t))n=ge.cloneElement(t,e);else if(Ut(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=oL(e,iCe),c=Gt(l,!1);c.offset;var u=oL(c,aCe);n=ge.createElement("line",Mf({},u,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function fCe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Qi(Qi({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return Dq(i,c)});return ge.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function dCe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Qi(Qi({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return Dq(i,c)});return ge.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function hCe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var b=!u[p+1],x=b?i+s-h:u[p+1]-h;if(x<=0)return null;var v=p%e.length;return ge.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:x,width:a,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ge.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function pCe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var b=!u[p+1],x=b?a+o-h:u[p+1]-h;if(x<=0)return null;var v=p%r.length;return ge.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:x,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ge.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var mCe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return Gz(Ek(Qi(Qi(Qi({},om.defaultProps),r),{},{ticks:Ul(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},gCe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return Gz(Ek(Qi(Qi(Qi({},om.defaultProps),r),{},{ticks:Ul(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},Bd={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Fq(t){var e,n,r,i,a,s,o=_k(),l=Sk(),c=rIe(),u=Qi(Qi({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Bd.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Bd.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Bd.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Bd.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Bd.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Bd.verticalFill,x:ze(t.x)?t.x:c.left,y:ze(t.y)?t.y:c.top,width:ze(t.width)?t.width:c.width,height:ze(t.height)?t.height:c.height}),f=u.x,h=u.y,p=u.width,b=u.height,x=u.syncWithTicks,v=u.horizontalValues,y=u.verticalValues,w=eIe(),S=tIe();if(!ze(p)||p<=0||!ze(b)||b<=0||!ze(f)||f!==+f||!ze(h)||h!==+h)return null;var E=u.verticalCoordinatesGenerator||mCe,P=u.horizontalCoordinatesGenerator||gCe,R=u.horizontalPoints,I=u.verticalPoints;if((!R||!R.length)&&Ut(P)){var A=v&&v.length,N=P({yAxis:S?Qi(Qi({},S),{},{ticks:A?v:S.ticks}):void 0,width:o,height:l,offset:c},A?!0:x);Xl(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(od(N),"]")),Array.isArray(N)&&(R=N)}if((!I||!I.length)&&Ut(E)){var M=y&&y.length,k=E({xAxis:w?Qi(Qi({},w),{},{ticks:M?y:w.ticks}):void 0,width:o,height:l,offset:c},M?!0:x);Xl(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(od(k),"]")),Array.isArray(k)&&(I=k)}return ge.createElement("g",{className:"recharts-cartesian-grid"},ge.createElement(uCe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),ge.createElement(fCe,Mf({},u,{offset:c,horizontalPoints:R,xAxis:w,yAxis:S})),ge.createElement(dCe,Mf({},u,{offset:c,verticalPoints:I,xAxis:w,yAxis:S})),ge.createElement(hCe,Mf({},u,{horizontalPoints:R})),ge.createElement(pCe,Mf({},u,{verticalPoints:I})))}Fq.displayName="CartesianGrid";var yCe=["layout","type","stroke","connectNulls","isRange","ref"],vCe=["key"],$q;function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function Bq(t,e){if(t==null)return{};var n=bCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lf(){return Lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lf.apply(this,arguments)}function lL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lL(Object(n),!0).forEach(function(r){Wo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Uq(r.key),r)}}function wCe(t,e,n){return e&&cL(t.prototype,e),n&&cL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Ce(t,e,n){return e=Ux(e),SCe(t,Vq()?Reflect.construct(e,n||[],Ux(t).constructor):e.apply(t,n))}function SCe(t,e){if(e&&(Np(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ACe(t)}function ACe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vq=function(){return!!t})()}function Ux(t){return Ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ux(t)}function NCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aE(t,e)}function aE(t,e){return aE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aE(t,e)}function Wo(t,e,n){return e=Uq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uq(t){var e=ECe(t,"string");return Np(e)=="symbol"?e:e+""}function ECe(t,e){if(Np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qu=function(t){function e(){var n;xCe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=_Ce(this,e,[].concat(i)),Wo(n,"state",{isAnimationFinished:!0}),Wo(n,"id",Vv("recharts-area-")),Wo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ut(s)&&s()}),Wo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ut(s)&&s()}),n}return NCe(e,t),wCe(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,h=Gt(this.props,!1),p=Gt(c,!0),b=u.map(function(v,y){var w=Kc(Kc(Kc({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:u});return e.renderDotItem(c,w)}),x={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return ge.createElement(dr,Lf({className:"recharts-area-dots"},x),b)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].x,c=s[s.length-1].x,u=r*Math.abs(l-c),f=uu(s.map(function(h){return h.y||0}));return ze(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(uu(a.map(function(h){return h.y||0})),f)),ze(f)?ge.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].y,c=s[s.length-1].y,u=r*Math.abs(l-c),f=uu(s.map(function(h){return h.x||0}));return ze(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(uu(a.map(function(h){return h.x||0})),f)),ze(f)?ge.createElement("rect",{x:0,y:l<c?l:l-u,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var o=this.props,l=o.layout,c=o.type,u=o.stroke,f=o.connectNulls,h=o.isRange;o.ref;var p=Bq(o,yCe);return ge.createElement(dr,{clipPath:a?"url(#clipPath-".concat(s,")"):null},ge.createElement(Fg,Lf({},Gt(p,!0),{points:r,connectNulls:f,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&ge.createElement(Fg,Lf({},Gt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:r})),u!=="none"&&h&&ge.createElement(Fg,Lf({},Gt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,b=this.state,x=b.prevPoints,v=b.prevBaseLine;return ge.createElement(hc,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var w=y.t;if(x){var S=x.length/o.length,E=o.map(function(A,N){var M=Math.floor(N*S);if(x[M]){var k=x[M],j=Es(k.x,A.x),C=Es(k.y,A.y);return Kc(Kc({},A),{},{x:j(w),y:C(w)})}return A}),P;if(ze(l)&&typeof l=="number"){var R=Es(v,l);P=R(w)}else if(Jt(l)||Zp(l)){var I=Es(v,0);P=I(w)}else P=l.map(function(A,N){var M=Math.floor(N*S);if(v[M]){var k=v[M],j=Es(k.x,A.x),C=Es(k.y,A.y);return Kc(Kc({},A),{},{x:j(w),y:C(w)})}return A});return a.renderAreaStatically(E,P,r,i)}return ge.createElement(dr,null,ge.createElement("defs",null,ge.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(w))),ge.createElement(dr,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,o=a.baseLine,l=a.isAnimationActive,c=this.state,u=c.prevPoints,f=c.prevBaseLine,h=c.totalLength;return l&&s&&s.length&&(!u&&h>0||!Ly(u,s)||!Ly(f,o))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.top,u=i.left,f=i.xAxis,h=i.yAxis,p=i.width,b=i.height,x=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var y=this.state.isAnimationFinished,w=o.length===1,S=ln("recharts-area",l),E=f&&f.allowDataOverflow,P=h&&h.allowDataOverflow,R=E||P,I=Jt(v)?this.id:v,A=(r=Gt(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=A.r,M=N===void 0?3:N,k=A.strokeWidth,j=k===void 0?2:k,C=$pe(s)?s:{},V=C.clipDot,X=V===void 0?!0:V,ne=M*2+j;return ge.createElement(dr,{className:S},E||P?ge.createElement("defs",null,ge.createElement("clipPath",{id:"clipPath-".concat(I)},ge.createElement("rect",{x:E?u:u-p/2,y:P?c:c-b/2,width:E?p:p*2,height:P?b:b*2})),!X&&ge.createElement("clipPath",{id:"clipPath-dots-".concat(I)},ge.createElement("rect",{x:u-ne/2,y:c-ne/2,width:p+ne,height:b+ne}))):null,w?null:this.renderArea(R,I),(s||w)&&this.renderDots(R,X,I),(!x||y)&&Pu.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(U.PureComponent);$q=Qu;Wo(Qu,"displayName","Area");Wo(Qu,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!rm.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Wo(Qu,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,o=s??a;if(ze(o)&&typeof o=="number")return o;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return o==="dataMin"?f:o==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]});Wo(Qu,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,h=t.offset,p=e.layout,b=c&&c.length,x=$q.getBaseValue(e,n,r,i),v=p==="horizontal",y=!1,w=f.map(function(E,P){var R;b?R=c[u+P]:(R=ns(E,l),Array.isArray(R)?y=!0:R=[x,R]);var I=R[1]==null||b&&ns(E,l)==null;return v?{x:GR({axis:r,ticks:a,bandSize:o,entry:E,index:P}),y:I?null:i.scale(R[1]),value:R,payload:E}:{x:I?null:r.scale(R[1]),y:GR({axis:i,ticks:s,bandSize:o,entry:E,index:P}),value:R,payload:E}}),S;return b||y?S=w.map(function(E){var P=Array.isArray(E.value)?E.value[0]:null;return v?{x:E.x,y:P!=null&&E.y!=null?i.scale(P):null}:{x:P!=null?r.scale(P):null,y:E.y}}):S=v?i.scale(x):r.scale(x),Kc({points:w,baseLine:S,layout:p,isRange:y},h)});Wo(Qu,"renderDotItem",function(t,e){var n;if(ge.isValidElement(t))n=ge.cloneElement(t,e);else if(Ut(t))n=t(e);else{var r=ln("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=Bq(e,vCe);n=ge.createElement(vk,Lf({},a,{key:i,className:r}))}return n});function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}function PCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wq(r.key),r)}}function kCe(t,e,n){return e&&TCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ICe(t,e,n){return e=zx(e),CCe(t,zq()?Reflect.construct(e,n||[],zx(t).constructor):e.apply(t,n))}function CCe(t,e){if(e&&(Ep(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jCe(t)}function jCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zq=function(){return!!t})()}function zx(t){return zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zx(t)}function OCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sE(t,e)}function sE(t,e){return sE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sE(t,e)}function qq(t,e,n){return e=Wq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wq(t){var e=RCe(t,"string");return Ep(e)=="symbol"?e:e+""}function RCe(t,e){if(Ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function oE(){return oE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oE.apply(this,arguments)}function MCe(t){var e=t.xAxisId,n=_k(),r=Sk(),i=Eq(e);return i==null?null:U.createElement(om,oE({},i,{className:ln("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Ul(s,!0)}}))}var Tw=function(t){function e(){return PCe(this,e),ICe(this,e,arguments)}return OCe(e,t),kCe(e,[{key:"render",value:function(){return U.createElement(MCe,this.props)}}])}(U.Component);qq(Tw,"displayName","XAxis");qq(Tw,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function LCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kq(r.key),r)}}function FCe(t,e,n){return e&&DCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Ce(t,e,n){return e=qx(e),BCe(t,Hq()?Reflect.construct(e,n||[],qx(t).constructor):e.apply(t,n))}function BCe(t,e){if(e&&(Pp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VCe(t)}function VCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hq=function(){return!!t})()}function qx(t){return qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qx(t)}function UCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lE(t,e)}function lE(t,e){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lE(t,e)}function Gq(t,e,n){return e=Kq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kq(t){var e=zCe(t,"string");return Pp(e)=="symbol"?e:e+""}function zCe(t,e){if(Pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function cE(){return cE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cE.apply(this,arguments)}var qCe=function(e){var n=e.yAxisId,r=_k(),i=Sk(),a=Pq(n);return a==null?null:U.createElement(om,cE({},a,{className:ln("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return Ul(o,!0)}}))},kw=function(t){function e(){return LCe(this,e),$Ce(this,e,arguments)}return UCe(e,t),FCe(e,[{key:"render",value:function(){return U.createElement(qCe,this.props)}}])}(U.Component);Gq(kw,"displayName","YAxis");Gq(kw,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function uL(t){return KCe(t)||GCe(t)||HCe(t)||WCe()}function WCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HCe(t,e){if(t){if(typeof t=="string")return uE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uE(t,e)}}function GCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KCe(t){if(Array.isArray(t))return uE(t)}function uE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fE=function(e,n,r,i,a){var s=co(e,Nk),o=co(e,Nw),l=[].concat(uL(s),uL(o)),c=co(e,Pw),u="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(x,v){if(v.props[u]===r&&nl(v.props,"extendDomain")&&ze(v.props[f])){var y=v.props[f];return[Math.min(x[0],y),Math.max(x[1],y)]}return x},h)),c.length){var p="".concat(f,"1"),b="".concat(f,"2");h=c.reduce(function(x,v){if(v.props[u]===r&&nl(v.props,"extendDomain")&&ze(v.props[p])&&ze(v.props[b])){var y=v.props[p],w=v.props[b];return[Math.min(x[0],y,w),Math.max(x[1],y,w)]}return x},h)}return a&&a.length&&(h=a.reduce(function(x,v){return ze(v)?[Math.min(x[0],v),Math.max(x[1],v)]:x},h)),h},Yq={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||l,h),b=n?n+c:c;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],p]:l._events[b].push(p):(l._events[b]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,b=new Array(p);h<p;h++)b[h]=f[h].fn;return b},o.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,h,p,b){var x=n?n+c:c;if(!this._events[x])return!1;var v=this._events[x],y=arguments.length,w,S;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,h),!0;case 5:return v.fn.call(v.context,u,f,h,p),!0;case 6:return v.fn.call(v.context,u,f,h,p,b),!0}for(S=1,w=new Array(y-1);S<y;S++)w[S-1]=arguments[S];v.fn.apply(v.context,w)}else{var E=v.length,P;for(S=0;S<E;S++)switch(v[S].once&&this.removeListener(c,v[S].fn,void 0,!0),y){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,u);break;case 3:v[S].fn.call(v[S].context,u,f);break;case 4:v[S].fn.call(v[S].context,u,f,h);break;default:if(!w)for(P=1,w=new Array(y-1);P<y;P++)w[P-1]=arguments[P];v[S].fn.apply(v[S].context,w)}}return!0},o.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,h){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var b=this._events[p];if(b.fn)b.fn===u&&(!h||b.once)&&(!f||b.context===f)&&s(this,p);else{for(var x=0,v=[],y=b.length;x<y;x++)(b[x].fn!==u||h&&!b[x].once||f&&b[x].context!==f)&&v.push(b[x]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(Yq);var YCe=Yq.exports;const XCe=Ln(YCe);var w_=new XCe,__="recharts.syncMouseEvents";function iv(t){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iv(t)}function QCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xq(r.key),r)}}function ZCe(t,e,n){return e&&JCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function S_(t,e,n){return e=Xq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xq(t){var e=eje(t,"string");return iv(e)=="symbol"?e:e+""}function eje(t,e){if(iv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tje=function(){function t(){QCe(this,t),S_(this,"activeIndex",0),S_(this,"coordinateList",[]),S_(this,"layout","horizontal")}return ZCe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,l=n.layout,c=l===void 0?null:l,u=n.offset,f=u===void 0?null:u,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function nje(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ze(r)&&ze(i))return!0}return!1}function rje(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Qq(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=Ti(e,n,r,i),o=Ti(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function ije(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,h=Ti(o,l,c,f),p=Ti(o,l,u,f);r=h.x,i=h.y,a=p.x,s=p.y}else return Qq(e);return[{x:r,y:i},{x:a,y:s}]}function av(t){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},av(t)}function fL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fL(Object(n),!0).forEach(function(r){aje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aje(t,e,n){return e=sje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sje(t){var e=oje(t,"string");return av(e)=="symbol"?e:e+""}function oje(t,e){if(av(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(av(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lje(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var b,x=Fg;if(h==="ScatterChart")b=s,x=f4e;else if(h==="BarChart")b=rje(f,s,l,u),x=yk;else if(f==="radial"){var v=Qq(s),y=v.cx,w=v.cy,S=v.radius,E=v.startAngle,P=v.endAngle;b={cx:y,cy:w,startAngle:E,endAngle:P,innerRadius:S,outerRadius:S},x=Jz}else b={points:ije(f,s,l)},x=Fg;var R=r1(r1(r1(r1({stroke:"#ccc",pointerEvents:"none"},l),b),Gt(p,!1)),{},{payload:o,payloadIndex:c,className:ln("recharts-tooltip-cursor",p.className)});return U.isValidElement(p)?U.cloneElement(p,R):U.createElement(x,R)}var cje=["item"],uje=["children","className","width","height","style","compact","title","desc"];function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function vh(){return vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vh.apply(this,arguments)}function dL(t,e){return hje(t)||dje(t,e)||Zq(t,e)||fje()}function fje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dje(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function hje(t){if(Array.isArray(t))return t}function hL(t,e){if(t==null)return{};var n=pje(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gje(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eW(r.key),r)}}function yje(t,e,n){return e&&gje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vje(t,e,n){return e=Wx(e),bje(t,Jq()?Reflect.construct(e,n||[],Wx(t).constructor):e.apply(t,n))}function bje(t,e){if(e&&(Tp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xje(t)}function xje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jq=function(){return!!t})()}function Wx(t){return Wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wx(t)}function wje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dE(t,e)}function dE(t,e){return dE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dE(t,e)}function kp(t){return Aje(t)||Sje(t)||Zq(t)||_je()}function _je(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zq(t,e){if(t){if(typeof t=="string")return hE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hE(t,e)}}function Sje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Aje(t){if(Array.isArray(t))return hE(t)}function hE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pL(Object(n),!0).forEach(function(r){St(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function St(t,e,n){return e=eW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eW(t){var e=Nje(t,"string");return Tp(e)=="symbol"?e:e+""}function Nje(t,e){if(Tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eje={xAxis:["bottom","top"],yAxis:["left","right"]},Pje={width:"100%",height:"100%"},tW={x:0,y:0};function i1(t){return t}var Tje=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},kje=function(e,n,r,i){var a=n.find(function(u){return u&&u.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return ke(ke(ke({},i),Ti(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return ke(ke(ke({},i),Ti(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return tW},Iw=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(kp(o),kp(c)):o},[]);return s.length>0?s:e&&e.length&&ze(i)&&ze(a)?e.slice(i,a+1):[]};function nW(t){return t==="number"?[0,"auto"]:void 0}var pE=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=Iw(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=Wb(p,s.dataKey,i)}else h=f&&f[r]||o[r];return h?[].concat(kp(l),[Yz(c,h)]):l},[])},mL=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=Tje(a,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=zNe(s,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=pE(e,n,u,f),p=kje(r,o,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Ije=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,f=e.children,h=e.stackOffset,p=Hz(u,a);return r.reduce(function(b,x){var v,y=x.type.defaultProps!==void 0?ke(ke({},x.type.defaultProps),x.props):x.props,w=y.type,S=y.dataKey,E=y.allowDataOverflow,P=y.allowDuplicatedCategory,R=y.scale,I=y.ticks,A=y.includeHidden,N=y[s];if(b[N])return b;var M=Iw(e.data,{graphicalItems:i.filter(function(F){var q,ee=s in F.props?F.props[s]:(q=F.type.defaultProps)===null||q===void 0?void 0:q[s];return ee===N}),dataStartIndex:l,dataEndIndex:c}),k=M.length,j,C,V;nje(y.domain,E,w)&&(j=ON(y.domain,null,E),p&&(w==="number"||R!=="auto")&&(V=Dg(M,S,"category")));var X=nW(w);if(!j||j.length===0){var ne,oe=(ne=y.domain)!==null&&ne!==void 0?ne:X;if(S){if(j=Dg(M,S,w),w==="category"&&p){var Y=kpe(j);P&&Y?(C=j,j=jx(0,k)):P||(j=QR(oe,j,x).reduce(function(F,q){return F.indexOf(q)>=0?F:[].concat(kp(F),[q])},[]))}else if(w==="category")P?j=j.filter(function(F){return F!==""&&!Jt(F)}):j=QR(oe,j,x).reduce(function(F,q){return F.indexOf(q)>=0||q===""||Jt(q)?F:[].concat(kp(F),[q])},[]);else if(w==="number"){var le=KNe(M,i.filter(function(F){var q,ee,se=s in F.props?F.props[s]:(q=F.type.defaultProps)===null||q===void 0?void 0:q[s],ce="hide"in F.props?F.props.hide:(ee=F.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return se===N&&(A||!ce)}),S,a,u);le&&(j=le)}p&&(w==="number"||R!=="auto")&&(V=Dg(M,S,"category"))}else p?j=jx(0,k):o&&o[N]&&o[N].hasStack&&w==="number"?j=h==="expand"?[0,1]:Kz(o[N].stackGroups,l,c):j=Wz(M,i.filter(function(F){var q=s in F.props?F.props[s]:F.type.defaultProps[s],ee="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return q===N&&(A||!ee)}),w,u,!0);if(w==="number")j=fE(f,j,N,a,I),oe&&(j=ON(oe,j,E));else if(w==="category"&&oe){var K=oe,H=j.every(function(F){return K.indexOf(F)>=0});H&&(j=K)}}return ke(ke({},b),{},St({},N,ke(ke({},y),{},{axisType:a,domain:j,categoricalDomain:V,duplicateDomain:C,originalDomain:(v=y.domain)!==null&&v!==void 0?v:X,isCategorical:p,layout:u})))},{})},Cje=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,f=e.children,h=Iw(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=h.length,b=Hz(u,a),x=-1;return r.reduce(function(v,y){var w=y.type.defaultProps!==void 0?ke(ke({},y.type.defaultProps),y.props):y.props,S=w[s],E=nW("number");if(!v[S]){x++;var P;return b?P=jx(0,p):o&&o[S]&&o[S].hasStack?(P=Kz(o[S].stackGroups,l,c),P=fE(f,P,S,a)):(P=ON(E,Wz(h,r.filter(function(R){var I,A,N=s in R.props?R.props[s]:(I=R.type.defaultProps)===null||I===void 0?void 0:I[s],M="hide"in R.props?R.props.hide:(A=R.type.defaultProps)===null||A===void 0?void 0:A.hide;return N===S&&!M}),"number",u),i.defaultProps.allowDataOverflow),P=fE(f,P,S,a)),ke(ke({},v),{},St({},S,ke(ke({axisType:a},i.defaultProps),{},{hide:!0,orientation:Os(Eje,"".concat(a,".").concat(x%2),null),domain:P,originalDomain:E,isCategorical:b,layout:u})))}return v},{})},jje=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,f="".concat(i,"Id"),h=co(u,a),p={};return h&&h.length?p=Ije(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=Cje(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},Oje=function(e){var n=au(e),r=Ul(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:q4(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:_x(n,r)}},gL=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ha(n,bp),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},Rje=function(e){return!e||!e.length?!1:e.some(function(n){var r=Yl(n&&n.type);return r&&r.indexOf("Bar")>=0})},yL=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Mje=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,u=r.height,f=r.children,h=r.margin||{},p=Ha(f,bp),b=Ha(f,Rh),x=Object.keys(l).reduce(function(P,R){var I=l[R],A=I.orientation;return!I.mirror&&!I.hide?ke(ke({},P),{},St({},A,P[A]+I.width)):P},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(P,R){var I=s[R],A=I.orientation;return!I.mirror&&!I.hide?ke(ke({},P),{},St({},A,Os(P,"".concat(A))+I.height)):P},{top:h.top||0,bottom:h.bottom||0}),y=ke(ke({},v),x),w=y.bottom;p&&(y.bottom+=p.props.height||bp.defaultProps.height),b&&n&&(y=HNe(y,i,r,n));var S=c-y.left-y.right,E=u-y.top-y.bottom;return ke(ke({brushBottom:w},y),{},{width:Math.max(S,0),height:Math.max(E,0)})},Lje=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Dje=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,h=function(y,w){var S=w.graphicalItems,E=w.stackGroups,P=w.offset,R=w.updateId,I=w.dataStartIndex,A=w.dataEndIndex,N=y.barSize,M=y.layout,k=y.barGap,j=y.barCategoryGap,C=y.maxBarSize,V=yL(M),X=V.numericAxisName,ne=V.cateAxisName,oe=Rje(S),Y=[];return S.forEach(function(le,K){var H=Iw(y.data,{graphicalItems:[le],dataStartIndex:I,dataEndIndex:A}),F=le.type.defaultProps!==void 0?ke(ke({},le.type.defaultProps),le.props):le.props,q=F.dataKey,ee=F.maxBarSize,se=F["".concat(X,"Id")],ce=F["".concat(ne,"Id")],fe={},ye=l.reduce(function(We,Je){var rt=w["".concat(Je.axisType,"Map")],zt=F["".concat(Je.axisType,"Id")];rt&&rt[zt]||Je.axisType==="zAxis"||sd();var Ct=rt[zt];return ke(ke({},We),{},St(St({},Je.axisType,Ct),"".concat(Je.axisType,"Ticks"),Ul(Ct)))},fe),ue=ye[ne],be=ye["".concat(ne,"Ticks")],Se=E&&E[se]&&E[se].hasStack&&sEe(le,E[se].stackGroups),me=Yl(le.type).indexOf("Bar")>=0,Re=_x(ue,be),Pe=[],J=oe&&qNe({barSize:N,stackGroups:E,totalSize:Lje(ye,ne)});if(me){var he,Fe,qe=Jt(ee)?C:ee,je=(he=(Fe=_x(ue,be,!0))!==null&&Fe!==void 0?Fe:qe)!==null&&he!==void 0?he:0;Pe=WNe({barGap:k,barCategoryGap:j,bandSize:je!==Re?je:Re,sizeList:J[ce],maxBarSize:qe}),je!==Re&&(Pe=Pe.map(function(We){return ke(ke({},We),{},{position:ke(ke({},We.position),{},{offset:We.position.offset-je/2})})}))}var Ke=le&&le.type&&le.type.getComposedData;Ke&&Y.push({props:ke(ke({},Ke(ke(ke({},ye),{},{displayedData:H,props:y,dataKey:q,item:le,bandSize:Re,barPosition:Pe,offset:P,stackedData:Se,layout:M,dataStartIndex:I,dataEndIndex:A}))),{},St(St(St({key:le.key||"item-".concat(K)},X,ye[X]),ne,ye[ne]),"animationId",R)),childIndex:Upe(le,y.children),item:le})}),Y},p=function(y,w){var S=y.props,E=y.dataStartIndex,P=y.dataEndIndex,R=y.updateId;if(!qO({props:S}))return null;var I=S.children,A=S.layout,N=S.stackOffset,M=S.data,k=S.reverseStackOrder,j=yL(A),C=j.numericAxisName,V=j.cateAxisName,X=co(I,r),ne=rEe(M,X,"".concat(C,"Id"),"".concat(V,"Id"),N,k),oe=l.reduce(function(F,q){var ee="".concat(q.axisType,"Map");return ke(ke({},F),{},St({},ee,jje(S,ke(ke({},q),{},{graphicalItems:X,stackGroups:q.axisType===C&&ne,dataStartIndex:E,dataEndIndex:P}))))},{}),Y=Mje(ke(ke({},oe),{},{props:S,graphicalItems:X}),w==null?void 0:w.legendBBox);Object.keys(oe).forEach(function(F){oe[F]=u(S,oe[F],Y,F.replace("Map",""),n)});var le=oe["".concat(V,"Map")],K=Oje(le),H=h(S,ke(ke({},oe),{},{dataStartIndex:E,dataEndIndex:P,updateId:R,graphicalItems:X,stackGroups:ne,offset:Y}));return ke(ke({formattedGraphicalItems:H,graphicalItems:X,offset:Y,stackGroups:ne},K),oe)},b=function(v){function y(w){var S,E,P;return mje(this,y),P=vje(this,y,[w]),St(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),St(P,"accessibilityManager",new tje),St(P,"handleLegendBBoxUpdate",function(R){if(R){var I=P.state,A=I.dataStartIndex,N=I.dataEndIndex,M=I.updateId;P.setState(ke({legendBBox:R},p({props:P.props,dataStartIndex:A,dataEndIndex:N,updateId:M},ke(ke({},P.state),{},{legendBBox:R}))))}}),St(P,"handleReceiveSyncEvent",function(R,I,A){if(P.props.syncId===R){if(A===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(I)}}),St(P,"handleBrushChange",function(R){var I=R.startIndex,A=R.endIndex;if(I!==P.state.dataStartIndex||A!==P.state.dataEndIndex){var N=P.state.updateId;P.setState(function(){return ke({dataStartIndex:I,dataEndIndex:A},p({props:P.props,dataStartIndex:I,dataEndIndex:A,updateId:N},P.state))}),P.triggerSyncEvent({dataStartIndex:I,dataEndIndex:A})}}),St(P,"handleMouseEnter",function(R){var I=P.getMouseInfo(R);if(I){var A=ke(ke({},I),{},{isTooltipActive:!0});P.setState(A),P.triggerSyncEvent(A);var N=P.props.onMouseEnter;Ut(N)&&N(A,R)}}),St(P,"triggeredAfterMouseMove",function(R){var I=P.getMouseInfo(R),A=I?ke(ke({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(A),P.triggerSyncEvent(A);var N=P.props.onMouseMove;Ut(N)&&N(A,R)}),St(P,"handleItemMouseEnter",function(R){P.setState(function(){return{isTooltipActive:!0,activeItem:R,activePayload:R.tooltipPayload,activeCoordinate:R.tooltipPosition||{x:R.cx,y:R.cy}}})}),St(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),St(P,"handleMouseMove",function(R){R.persist(),P.throttleTriggeredAfterMouseMove(R)}),St(P,"handleMouseLeave",function(R){P.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};P.setState(I),P.triggerSyncEvent(I);var A=P.props.onMouseLeave;Ut(A)&&A(I,R)}),St(P,"handleOuterEvent",function(R){var I=Vpe(R),A=Os(P.props,"".concat(I));if(I&&Ut(A)){var N,M;/.*touch.*/i.test(I)?M=P.getMouseInfo(R.changedTouches[0]):M=P.getMouseInfo(R),A((N=M)!==null&&N!==void 0?N:{},R)}}),St(P,"handleClick",function(R){var I=P.getMouseInfo(R);if(I){var A=ke(ke({},I),{},{isTooltipActive:!0});P.setState(A),P.triggerSyncEvent(A);var N=P.props.onClick;Ut(N)&&N(A,R)}}),St(P,"handleMouseDown",function(R){var I=P.props.onMouseDown;if(Ut(I)){var A=P.getMouseInfo(R);I(A,R)}}),St(P,"handleMouseUp",function(R){var I=P.props.onMouseUp;if(Ut(I)){var A=P.getMouseInfo(R);I(A,R)}}),St(P,"handleTouchMove",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(R.changedTouches[0])}),St(P,"handleTouchStart",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&P.handleMouseDown(R.changedTouches[0])}),St(P,"handleTouchEnd",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&P.handleMouseUp(R.changedTouches[0])}),St(P,"handleDoubleClick",function(R){var I=P.props.onDoubleClick;if(Ut(I)){var A=P.getMouseInfo(R);I(A,R)}}),St(P,"handleContextMenu",function(R){var I=P.props.onContextMenu;if(Ut(I)){var A=P.getMouseInfo(R);I(A,R)}}),St(P,"triggerSyncEvent",function(R){P.props.syncId!==void 0&&w_.emit(__,P.props.syncId,R,P.eventEmitterSymbol)}),St(P,"applySyncEvent",function(R){var I=P.props,A=I.layout,N=I.syncMethod,M=P.state.updateId,k=R.dataStartIndex,j=R.dataEndIndex;if(R.dataStartIndex!==void 0||R.dataEndIndex!==void 0)P.setState(ke({dataStartIndex:k,dataEndIndex:j},p({props:P.props,dataStartIndex:k,dataEndIndex:j,updateId:M},P.state)));else if(R.activeTooltipIndex!==void 0){var C=R.chartX,V=R.chartY,X=R.activeTooltipIndex,ne=P.state,oe=ne.offset,Y=ne.tooltipTicks;if(!oe)return;if(typeof N=="function")X=N(Y,R);else if(N==="value"){X=-1;for(var le=0;le<Y.length;le++)if(Y[le].value===R.activeLabel){X=le;break}}var K=ke(ke({},oe),{},{x:oe.left,y:oe.top}),H=Math.min(C,K.x+K.width),F=Math.min(V,K.y+K.height),q=Y[X]&&Y[X].value,ee=pE(P.state,P.props.data,X),se=Y[X]?{x:A==="horizontal"?Y[X].coordinate:H,y:A==="horizontal"?F:Y[X].coordinate}:tW;P.setState(ke(ke({},R),{},{activeLabel:q,activeCoordinate:se,activePayload:ee,activeTooltipIndex:X}))}else P.setState(R)}),St(P,"renderCursor",function(R){var I,A=P.state,N=A.isTooltipActive,M=A.activeCoordinate,k=A.activePayload,j=A.offset,C=A.activeTooltipIndex,V=A.tooltipAxisBandSize,X=P.getTooltipEventType(),ne=(I=R.props.active)!==null&&I!==void 0?I:N,oe=P.props.layout,Y=R.key||"_recharts-cursor";return ge.createElement(lje,{key:Y,activeCoordinate:M,activePayload:k,activeTooltipIndex:C,chartName:n,element:R,isActive:ne,layout:oe,offset:j,tooltipAxisBandSize:V,tooltipEventType:X})}),St(P,"renderPolarAxis",function(R,I,A){var N=Os(R,"type.axisType"),M=Os(P.state,"".concat(N,"Map")),k=R.type.defaultProps,j=k!==void 0?ke(ke({},k),R.props):R.props,C=M&&M[j["".concat(N,"Id")]];return U.cloneElement(R,ke(ke({},C),{},{className:ln(N,C.className),key:R.key||"".concat(I,"-").concat(A),ticks:Ul(C,!0)}))}),St(P,"renderPolarGrid",function(R){var I=R.props,A=I.radialLines,N=I.polarAngles,M=I.polarRadius,k=P.state,j=k.radiusAxisMap,C=k.angleAxisMap,V=au(j),X=au(C),ne=X.cx,oe=X.cy,Y=X.innerRadius,le=X.outerRadius;return U.cloneElement(R,{polarAngles:Array.isArray(N)?N:Ul(X,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(M)?M:Ul(V,!0).map(function(K){return K.coordinate}),cx:ne,cy:oe,innerRadius:Y,outerRadius:le,key:R.key||"polar-grid",radialLines:A})}),St(P,"renderLegend",function(){var R=P.state.formattedGraphicalItems,I=P.props,A=I.children,N=I.width,M=I.height,k=P.props.margin||{},j=N-(k.left||0)-(k.right||0),C=zz({children:A,formattedGraphicalItems:R,legendWidth:j,legendContent:c});if(!C)return null;var V=C.item,X=hL(C,cje);return U.cloneElement(V,ke(ke({},X),{},{chartWidth:N,chartHeight:M,margin:k,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),St(P,"renderTooltip",function(){var R,I=P.props,A=I.children,N=I.accessibilityLayer,M=Ha(A,Bo);if(!M)return null;var k=P.state,j=k.isTooltipActive,C=k.activeCoordinate,V=k.activePayload,X=k.activeLabel,ne=k.offset,oe=(R=M.props.active)!==null&&R!==void 0?R:j;return U.cloneElement(M,{viewBox:ke(ke({},ne),{},{x:ne.left,y:ne.top}),active:oe,label:X,payload:oe?V:[],coordinate:C,accessibilityLayer:N})}),St(P,"renderBrush",function(R){var I=P.props,A=I.margin,N=I.data,M=P.state,k=M.offset,j=M.dataStartIndex,C=M.dataEndIndex,V=M.updateId;return U.cloneElement(R,{key:R.key||"_recharts-brush",onChange:Z0(P.handleBrushChange,R.props.onChange),data:N,x:ze(R.props.x)?R.props.x:k.left,y:ze(R.props.y)?R.props.y:k.top+k.height+k.brushBottom-(A.bottom||0),width:ze(R.props.width)?R.props.width:k.width,startIndex:j,endIndex:C,updateId:"brush-".concat(V)})}),St(P,"renderReferenceElement",function(R,I,A){if(!R)return null;var N=P,M=N.clipPathId,k=P.state,j=k.xAxisMap,C=k.yAxisMap,V=k.offset,X=R.type.defaultProps||{},ne=R.props,oe=ne.xAxisId,Y=oe===void 0?X.xAxisId:oe,le=ne.yAxisId,K=le===void 0?X.yAxisId:le;return U.cloneElement(R,{key:R.key||"".concat(I,"-").concat(A),xAxis:j[Y],yAxis:C[K],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:M})}),St(P,"renderActivePoints",function(R){var I=R.item,A=R.activePoint,N=R.basePoint,M=R.childIndex,k=R.isRange,j=[],C=I.props.key,V=I.item.type.defaultProps!==void 0?ke(ke({},I.item.type.defaultProps),I.item.props):I.item.props,X=V.activeDot,ne=V.dataKey,oe=ke(ke({index:M,dataKey:ne,cx:A.x,cy:A.y,r:4,fill:gk(I.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Gt(X,!1)),Hb(X));return j.push(y.renderActiveDot(X,oe,"".concat(C,"-activePoint-").concat(M))),N?j.push(y.renderActiveDot(X,ke(ke({},oe),{},{cx:N.x,cy:N.y}),"".concat(C,"-basePoint-").concat(M))):k&&j.push(null),j}),St(P,"renderGraphicChild",function(R,I,A){var N=P.filterFormatItem(R,I,A);if(!N)return null;var M=P.getTooltipEventType(),k=P.state,j=k.isTooltipActive,C=k.tooltipAxis,V=k.activeTooltipIndex,X=k.activeLabel,ne=P.props.children,oe=Ha(ne,Bo),Y=N.props,le=Y.points,K=Y.isRange,H=Y.baseLine,F=N.item.type.defaultProps!==void 0?ke(ke({},N.item.type.defaultProps),N.item.props):N.item.props,q=F.activeDot,ee=F.hide,se=F.activeBar,ce=F.activeShape,fe=!!(!ee&&j&&oe&&(q||se||ce)),ye={};M!=="axis"&&oe&&oe.props.trigger==="click"?ye={onClick:Z0(P.handleItemMouseEnter,R.props.onClick)}:M!=="axis"&&(ye={onMouseLeave:Z0(P.handleItemMouseLeave,R.props.onMouseLeave),onMouseEnter:Z0(P.handleItemMouseEnter,R.props.onMouseEnter)});var ue=U.cloneElement(R,ke(ke({},N.props),ye));function be(Je){return typeof C.dataKey=="function"?C.dataKey(Je.payload):null}if(fe)if(V>=0){var Se,me;if(C.dataKey&&!C.allowDuplicatedCategory){var Re=typeof C.dataKey=="function"?be:"payload.".concat(C.dataKey.toString());Se=Wb(le,Re,X),me=K&&H&&Wb(H,Re,X)}else Se=le==null?void 0:le[V],me=K&&H&&H[V];if(ce||se){var Pe=R.props.activeIndex!==void 0?R.props.activeIndex:V;return[U.cloneElement(R,ke(ke(ke({},N.props),ye),{},{activeIndex:Pe})),null,null]}if(!Jt(Se))return[ue].concat(kp(P.renderActivePoints({item:N,activePoint:Se,basePoint:me,childIndex:V,isRange:K})))}else{var J,he=(J=P.getItemByXY(P.state.activeCoordinate))!==null&&J!==void 0?J:{graphicalItem:ue},Fe=he.graphicalItem,qe=Fe.item,je=qe===void 0?R:qe,Ke=Fe.childIndex,We=ke(ke(ke({},N.props),ye),{},{activeIndex:Ke});return[U.cloneElement(je,We),null,null]}return K?[ue,null,null]:[ue,null]}),St(P,"renderCustomized",function(R,I,A){return U.cloneElement(R,ke(ke({key:"recharts-customized-".concat(A)},P.props),P.state))}),St(P,"renderMap",{CartesianGrid:{handler:i1,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:i1},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:i1},YAxis:{handler:i1},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((S=w.id)!==null&&S!==void 0?S:Vv("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=zU(P.triggeredAfterMouseMove,(E=w.throttleDelay)!==null&&E!==void 0?E:1e3/60),P.state={},P}return wje(y,v),yje(y,[{key:"componentDidMount",value:function(){var S,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,E=S.children,P=S.data,R=S.height,I=S.layout,A=Ha(E,Bo);if(A){var N=A.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,k=pE(this.state,P,N,M),j=this.state.tooltipTicks[N].coordinate,C=(this.state.offset.top+R)/2,V=I==="horizontal",X=V?{x:j,y:C}:{y:j,x:C},ne=this.state.formattedGraphicalItems.find(function(Y){var le=Y.item;return le.type.name==="Scatter"});ne&&(X=ke(ke({},X),ne.props.points[N].tooltipPosition),k=ne.props.points[N].tooltipPayload);var oe={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:M,activePayload:k,activeCoordinate:X};this.setState(oe),this.renderCursor(A),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var P,R;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0}})}return null}},{key:"componentDidUpdate",value:function(S){KA([Ha(S.children,Bo)],[Ha(this.props.children,Bo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Ha(this.props.children,Bo);if(S&&typeof S.props.shared=="boolean"){var E=S.props.shared?"axis":"item";return o.indexOf(E)>=0?E:a}return a}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var E=this.container,P=E.getBoundingClientRect(),R=m5e(P),I={chartX:Math.round(S.pageX-R.left),chartY:Math.round(S.pageY-R.top)},A=P.width/E.offsetWidth||1,N=this.inRange(I.chartX,I.chartY,A);if(!N)return null;var M=this.state,k=M.xAxisMap,j=M.yAxisMap,C=this.getTooltipEventType(),V=mL(this.state,this.props.data,this.props.layout,N);if(C!=="axis"&&k&&j){var X=au(k).scale,ne=au(j).scale,oe=X&&X.invert?X.invert(I.chartX):null,Y=ne&&ne.invert?ne.invert(I.chartY):null;return ke(ke({},I),{},{xValue:oe,yValue:Y},V)}return V?ke(ke({},I),V):null}},{key:"inRange",value:function(S,E){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,R=this.props.layout,I=S/P,A=E/P;if(R==="horizontal"||R==="vertical"){var N=this.state.offset,M=I>=N.left&&I<=N.left+N.width&&A>=N.top&&A<=N.top+N.height;return M?{x:I,y:A}:null}var k=this.state,j=k.angleAxisMap,C=k.radiusAxisMap;if(j&&C){var V=au(j);return eM({x:I,y:A},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,E=this.getTooltipEventType(),P=Ha(S,Bo),R={};P&&E==="axis"&&(P.props.trigger==="click"?R={onClick:this.handleClick}:R={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var I=Hb(this.props,this.handleOuterEvent);return ke(ke({},I),R)}},{key:"addListener",value:function(){w_.on(__,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){w_.removeListener(__,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,E,P){for(var R=this.state.formattedGraphicalItems,I=0,A=R.length;I<A;I++){var N=R[I];if(N.item===S||N.props.key===S.key||E===Yl(N.item.type)&&P===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,E=this.state.offset,P=E.left,R=E.top,I=E.height,A=E.width;return ge.createElement("defs",null,ge.createElement("clipPath",{id:S},ge.createElement("rect",{x:P,y:R,height:I,width:A})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(E,P){var R=dL(P,2),I=R[0],A=R[1];return ke(ke({},E),{},St({},I,A.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(E,P){var R=dL(P,2),I=R[0],A=R[1];return ke(ke({},E),{},St({},I,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[S])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(S){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[S])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(S){var E=this.state,P=E.formattedGraphicalItems,R=E.activeItem;if(P&&P.length)for(var I=0,A=P.length;I<A;I++){var N=P[I],M=N.props,k=N.item,j=k.type.defaultProps!==void 0?ke(ke({},k.type.defaultProps),k.props):k.props,C=Yl(k.type);if(C==="Bar"){var V=(M.data||[]).find(function(Y){return t4e(S,Y)});if(V)return{graphicalItem:N,payload:V}}else if(C==="RadialBar"){var X=(M.data||[]).find(function(Y){return eM(S,Y)});if(X)return{graphicalItem:N,payload:X}}else if(ww(N,R)||_w(N,R)||Zy(N,R)){var ne=ike({graphicalItem:N,activeTooltipItem:R,itemData:j.data}),oe=j.activeIndex===void 0?ne:j.activeIndex;return{graphicalItem:ke(ke({},N),{},{childIndex:oe}),payload:Zy(N,R)?j.data[ne]:N.props.data[ne]}}}return null}},{key:"render",value:function(){var S=this;if(!qO(this))return null;var E=this.props,P=E.children,R=E.className,I=E.width,A=E.height,N=E.style,M=E.compact,k=E.title,j=E.desc,C=hL(E,uje),V=Gt(C,!1);if(M)return ge.createElement(YM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ge.createElement(XA,vh({},V,{width:I,height:A,title:k,desc:j}),this.renderClipPath(),HO(P,this.renderMap)));if(this.props.accessibilityLayer){var X,ne;V.tabIndex=(X=this.props.tabIndex)!==null&&X!==void 0?X:0,V.role=(ne=this.props.role)!==null&&ne!==void 0?ne:"application",V.onKeyDown=function(Y){S.accessibilityManager.keyboardEvent(Y)},V.onFocus=function(){S.accessibilityManager.focus()}}var oe=this.parseEventsOfWrapper();return ge.createElement(YM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ge.createElement("div",vh({className:ln("recharts-wrapper",R),style:ke({position:"relative",cursor:"default",width:I,height:A},N)},oe,{ref:function(le){S.container=le}}),ge.createElement(XA,vh({},V,{width:I,height:A,title:k,desc:j,style:Pje}),this.renderClipPath(),HO(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(U.Component);St(b,"displayName",n),St(b,"defaultProps",ke({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),St(b,"getDerivedStateFromProps",function(v,y){var w=v.dataKey,S=v.data,E=v.children,P=v.width,R=v.height,I=v.layout,A=v.stackOffset,N=v.margin,M=y.dataStartIndex,k=y.dataEndIndex;if(y.updateId===void 0){var j=gL(v);return ke(ke(ke({},j),{},{updateId:0},p(ke(ke({props:v},j),{},{updateId:0}),y)),{},{prevDataKey:w,prevData:S,prevWidth:P,prevHeight:R,prevLayout:I,prevStackOffset:A,prevMargin:N,prevChildren:E})}if(w!==y.prevDataKey||S!==y.prevData||P!==y.prevWidth||R!==y.prevHeight||I!==y.prevLayout||A!==y.prevStackOffset||!Oh(N,y.prevMargin)){var C=gL(v),V={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},X=ke(ke({},mL(y,S,I)),{},{updateId:y.updateId+1}),ne=ke(ke(ke({},C),V),X);return ke(ke(ke({},ne),p(ke({props:v},ne),y)),{},{prevDataKey:w,prevData:S,prevWidth:P,prevHeight:R,prevLayout:I,prevStackOffset:A,prevMargin:N,prevChildren:E})}if(!KA(E,y.prevChildren)){var oe,Y,le,K,H=Ha(E,bp),F=H&&(oe=(Y=H.props)===null||Y===void 0?void 0:Y.startIndex)!==null&&oe!==void 0?oe:M,q=H&&(le=(K=H.props)===null||K===void 0?void 0:K.endIndex)!==null&&le!==void 0?le:k,ee=F!==M||q!==k,se=!Jt(S),ce=se&&!ee?y.updateId:y.updateId+1;return ke(ke({updateId:ce},p(ke(ke({props:v},y),{},{updateId:ce,dataStartIndex:F,dataEndIndex:q}),y)),{},{prevChildren:E,dataStartIndex:F,dataEndIndex:q})}return null}),St(b,"renderActiveDot",function(v,y,w){var S;return U.isValidElement(v)?S=U.cloneElement(v,y):Ut(v)?S=v(y):S=ge.createElement(vk,y),ge.createElement(dr,{className:"recharts-active-dot",key:w},S)});var x=U.forwardRef(function(y,w){return ge.createElement(b,vh({},y,{ref:w}))});return x.displayName=b.displayName,x},Fje=Dje({chartName:"AreaChart",GraphicalChild:Qu,axisComponents:[{axisType:"xAxis",AxisComp:Tw},{axisType:"yAxis",AxisComp:kw}],formatAxisMap:k3e});const $je={occupied:{label:"Occupied",cls:"badge-sage"},vacant:{label:"Vacant",cls:"badge-amber"},maintenance:{label:"Maintenance",cls:"badge-rust"},paid:{label:"Paid",cls:"badge-sage"},pending:{label:"Pending",cls:"badge-amber"},late:{label:"Late",cls:"badge-rust"},open:{label:"Open",cls:"badge-rust"},"in-progress":{label:"In Progress",cls:"badge-amber"},resolved:{label:"Resolved",cls:"badge-sage"}};function rW({status:t,className:e=""}){const n=$je[t]||{label:t||"Unknown",cls:"badge-stone"};return d.jsx("span",{className:`${n.cls} ${e}`,children:n.label})}function Bje(t){if(!t)return"";const e=[];return t.buildingName&&e.push(t.buildingName),t.unitNumber&&e.push(`Unit ${t.unitNumber}`),t.floor!=null&&t.floor!==""&&e.push(`Floor ${t.floor}`),e.length===0?t.name||"":e.join(" - ")}function Tk(t){if(!t)return"";const e=[];return t.unitNumber&&e.push(`Unit ${t.unitNumber}`),t.floor!=null&&t.floor!==""&&e.push(`Floor ${t.floor}`),e.length>0?e.join(", "):t.name||""}function iW({property:t,onDelete:e,showDelete:n}){const{fmtRent:r}=gi(),{user:i}=Pr(),[a,s]=U.useState(0),[o,l]=U.useState(0);return U.useEffect(()=>!i||!(t!=null&&t.id)?void 0:j9(i.uid,t.id,u=>{s(u.length),l(u.filter(f=>f.status==="occupied").length)}),[i,t==null?void 0:t.id]),d.jsxs("div",{className:"card-hover group relative overflow-hidden",children:[d.jsx("div",{className:`absolute top-0 left-0 right-0 h-0.5 ${t.status==="occupied"?"bg-sage":t.status==="vacant"?"bg-amber":"bg-rust"}`}),d.jsxs(In,{to:`/properties/${t.id}`,className:"block p-5",children:[d.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[d.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[d.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 ${t.status==="occupied"?"bg-sage/10":t.status==="vacant"?"bg-amber/10":"bg-rust/10"}`,children:d.jsx(mo,{size:18,className:t.status==="occupied"?"text-sage":t.status==="vacant"?"text-amber":"text-rust"})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:"font-body font-semibold text-ink text-sm truncate",children:t.name}),t.unitNumber&&d.jsxs("p",{className:"font-body text-xs text-sage font-medium flex items-center gap-1 mt-0.5",children:[d.jsx(Vf,{size:10})," ",Tk(t)]}),d.jsxs("p",{className:"font-body text-xs text-stone-400 flex items-center gap-1 mt-0.5 truncate",children:[d.jsx(Hp,{size:11})," ",t.address]})]})]}),d.jsx(rW,{status:t.status})]}),d.jsxs("div",{className:"flex items-center gap-4 py-3 border-t border-b border-stone-100 my-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-body text-xs text-stone-400",children:"Rent"}),d.jsx("p",{className:"font-display font-semibold text-ink mt-0.5",children:r(t.monthlyRent,t.rentType)})]}),t.bedrooms>0&&d.jsxs("div",{className:"flex items-center gap-1 text-stone-400",children:[d.jsx(ece,{size:13}),d.jsx("span",{className:"font-body text-xs",children:t.bedrooms})]}),t.bathrooms>0&&d.jsxs("div",{className:"flex items-center gap-1 text-stone-400",children:[d.jsx(Zle,{size:13}),d.jsx("span",{className:"font-body text-xs",children:t.bathrooms})]})]}),d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Kl,{size:13,className:"text-stone-400"}),d.jsx("span",{className:"font-body text-xs text-stone-500",children:a>0?`${a} unit${a!==1?"s":""}  ${o} occupied`:"No units added yet"})]}),a>0&&d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-body font-semibold bg-sage/10 text-sage",children:[o,"/",a]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"font-body text-xs text-stone-400",children:t.tenantName?`Tenant: ${t.tenantName}`:"No tenant assigned"}),d.jsx(vd,{size:14,className:"text-stone-300 group-hover:text-sage transition-colors"})]})]}),d.jsxs("div",{className:"px-5 pb-4 pt-0 flex gap-2",children:[d.jsxs(In,{to:`/properties/${t.id}?tab=units`,className:"flex-1 flex items-center justify-center gap-1.5 py-2 rounded-xl border border-stone-200 hover:border-sage/30 hover:bg-sage/5 text-stone-500 hover:text-sage font-body text-xs font-medium transition-all",children:[d.jsx(Kl,{size:13})," Manage Units"]}),d.jsxs(In,{to:`/properties/${t.id}?tab=units&action=add`,className:"flex items-center justify-center gap-1 px-3 py-2 rounded-xl bg-sage/10 hover:bg-sage/20 text-sage font-body text-xs font-semibold transition-all",children:[d.jsx(js,{size:12})," Add Unit"]})]}),n&&e&&d.jsx("button",{onClick:c=>{c.preventDefault(),e()},className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 p-1.5 rounded-lg bg-rust/10 text-rust hover:bg-rust/20 transition-all",children:d.jsx(Fv,{size:13})})]})}const Mo=t=>{if(!t)return null;if(typeof t.toDate=="function")return t.toDate();const e=new Date(t);return isNaN(e.getTime())?null:e},A_=(t,e)=>{if(typeof e!="function")return t||0;try{return e(t)}catch(n){return console.error("Format error:",n,t),t||0}},Vd=(t=0)=>({initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:t,duration:.4}}),Vje=(t,e)=>{try{return Array.from({length:6},(r,i)=>Wue(new Date,5-i)).map(r=>{const i=(t||[]).filter(a=>a&&a.status==="occupied").reduce((a,s)=>a+Number(s.monthlyRent||0),0)*(.8+Math.random()*.4);return{month:pi(r,"MMM"),revenue:isNaN(i)?0:i}})}catch(n){return console.error("Chart data error:",n),[]}};function Uje(){const{user:t,profile:e}=Pr(),{fmt:n,country:r}=gi(),[i,a]=U.useState([]),[s,o]=U.useState([]),[l,c]=U.useState([]),[u,f]=U.useState([]),[h,p]=U.useState(!1),[b,x]=U.useState(!0);U.useEffect(()=>{if(!t)return;const N=Ov(t.uid,C=>{a(C),x(!1)}),M=zp(t.uid,o),k=yie(t.uid,c),j=O9(t.uid,f);return console.log("Dashboard: Subscribed to all feeds for",t.uid),()=>{N(),M(),k(),j()}},[t]);const v=async N=>{p(!0);try{await uh(t.uid,N.propertyId,N.id,{status:"occupied",tenantId:N.pendingTenantId,tenantName:N.pendingTenantName||"",tenantEmail:N.pendingTenantEmail||"",welcomeMessageSent:!0,welcomeMessageDate:rr(),pendingTenantId:null,pendingTenantName:null,pendingTenantEmail:null,pendingRequestedAt:null}),await v4({tenantId:N.pendingTenantId,landlordId:t.uid,propertyId:N.propertyId,unitId:N.id,tenantName:N.pendingTenantName||"",tenantEmail:N.pendingTenantEmail||"",unitName:N.unitName||N.name||"",propertyName:N.propertyName||"",rentAmount:N.rentAmount||0,billingCycle:N.billingCycle||"monthly",currency:(r==null?void 0:r.currency)||"NGN",welcomeMessageSent:!0,welcomeMessageDate:new Date}),Dr.success(`${N.pendingTenantName||"Tenant"} approved!`)}catch(M){console.error(M),Dr.error("Failed to approve request.")}finally{p(!1)}},y=(i||[]).filter(N=>N&&N.status==="occupied").length,w=(u||[]).filter(N=>!N.read).length;(i||[]).filter(N=>N&&N.status==="vacant").length;const S=(i||[]).filter(N=>N&&N.status==="occupied").reduce((N,M)=>N+Number(M.monthlyRent||0),0),E=(s||[]).filter(N=>{const M=Mo(N.dueDate);return M?!Mu(M)&&Gp(M,new Date)<=5&&N.status!=="paid":!1}),P=(s||[]).filter(N=>{const M=Mo(N.dueDate);return M?Mu(M)&&N.status!=="paid":!1}),R=Vje(i),I=((e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||"there").split(" ")[0],A=[{label:"Total Properties",value:(i||[]).length,icon:mo,color:"text-sage",bg:"bg-sage/10",change:null},{label:"Occupied",value:y,icon:gce,color:"text-sage",bg:"bg-sage/10",change:(i||[]).length>0?`${Math.round(y/i.length*100)}% occupancy`:"0%"},{label:"Monthly Revenue",value:A_(S,n),icon:gV,color:"text-amber",bg:"bg-amber/10",change:`${y} active leases`},{label:"Urgent Reminders",value:E.length+P.length,icon:op,color:"text-rust",bg:"bg-rust/10",change:P.length>0?`${P.length} overdue`:"All current"}];return d.jsx("div",{className:"space-y-8",children:b?d.jsx("div",{className:"flex items-center justify-center h-48",children:d.jsx("div",{className:"w-7 h-7 border-2 border-sage border-t-transparent rounded-full animate-spin"})}):d.jsxs(d.Fragment,{children:[d.jsxs(Ge.div,{...Vd(0),className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-body text-stone-400 text-sm font-medium",children:pi(new Date,"EEEE, MMMM d, yyyy")}),d.jsxs("h1",{className:"font-display text-ink text-3xl font-semibold mt-0.5",children:["Good ",new Date().getHours()<12?"morning":new Date().getHours()<17?"afternoon":"evening",","," ",d.jsx("em",{children:I})]})]}),d.jsxs("button",{onClick:()=>{var N;return(N=document.getElementById("recent-activity"))==null?void 0:N.scrollIntoView({behavior:"smooth"})},className:"relative p-3 rounded-2xl bg-white border border-stone-100 shadow-sm hover:border-sage/30 hover:bg-stone-50 transition-all group",children:[d.jsx(Is,{size:20,className:"text-stone-400 group-hover:text-sage transition-colors"}),w>0&&d.jsx("span",{className:"absolute top-2 right-2 w-4 h-4 rounded-full bg-sage text-cream text-[9px] font-bold flex items-center justify-center animate-pulse border-2 border-white",children:w>9?"9+":w})]})]}),l.length>0&&d.jsxs(Ge.div,{...Vd(0),className:"rounded-2xl border-2 border-amber/30 bg-amber/5 p-5",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx("div",{className:"w-8 h-8 rounded-xl bg-amber/15 flex items-center justify-center flex-shrink-0",children:d.jsx(cc,{size:15,className:"text-amber"})}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("p",{className:"font-body text-sm font-semibold text-ink",children:["Action Required  ",l.length," New Join Request",l.length!==1?"s":""]}),d.jsx("p",{className:"font-body text-xs text-stone-400",children:"Tenants waiting for your approval"})]})]}),d.jsx("div",{className:"space-y-2",children:l.map(N=>d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 bg-white rounded-xl border border-amber/20 px-4 py-3",children:[d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:"font-body text-sm font-semibold text-ink truncate",children:N.pendingTenantName||"Unknown Tenant"}),d.jsxs("p",{className:"font-body text-xs text-stone-500",children:[N.propertyName&&d.jsx("span",{className:"font-medium",children:N.propertyName}),N.propertyName&&(N.unitName||N.name)&&" (",(N.unitName||N.name)&&d.jsx("span",{children:N.unitName||N.name}),N.propertyName&&(N.unitName||N.name)&&")",N.pendingTenantEmail&&d.jsxs("span",{className:"ml-1 text-stone-400",children:[" ",N.pendingTenantEmail]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[d.jsxs(In,{to:`/properties/${N.propertyId}?tab=units`,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-xs font-body font-medium bg-white border border-stone-200 text-stone-500 hover:border-ink/30 hover:text-ink transition-all",children:[d.jsx(p4,{size:12})," View Property"]}),d.jsxs("button",{onClick:()=>v(N),disabled:h,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-xs font-body font-medium bg-sage text-cream hover:bg-sage/90 transition-all disabled:opacity-50",children:[d.jsx(yV,{size:12})," Approve"]})]})]},N.id))})]}),d.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:A.map(({label:N,value:M,icon:k,color:j,bg:C,change:V},X)=>d.jsxs(Ge.div,{...Vd(X*.06),className:"stat-card",children:[d.jsx("div",{className:`w-10 h-10 rounded-xl ${C} flex items-center justify-center`,children:d.jsx(k,{size:18,className:j})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-display text-ink text-2xl font-semibold",children:M}),d.jsx("div",{className:"font-body text-stone-400 text-xs mt-0.5",children:N})]}),V&&d.jsx("div",{className:"font-body text-xs text-stone-300 border-t border-stone-100 pt-2 mt-auto",children:V})]},N))}),d.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[d.jsxs(Ge.div,{...Vd(.2),className:"lg:col-span-2 card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"font-display text-ink text-lg font-semibold",children:"Revenue Overview"}),d.jsx("p",{className:"font-body text-stone-400 text-xs mt-0.5",children:"Last 6 months  Estimated"})]}),d.jsx("span",{className:"badge-sage",children:"Live"})]}),d.jsx(l5e,{width:"100%",height:200,children:d.jsxs(Fje,{data:R,children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"revGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#4A7C59",stopOpacity:.15}),d.jsx("stop",{offset:"95%",stopColor:"#4A7C59",stopOpacity:0})]})}),d.jsx(Fq,{strokeDasharray:"3 3",stroke:"#EDE5D4",vertical:!1}),d.jsx(Tw,{dataKey:"month",tick:{fontFamily:"DM Sans",fontSize:11,fill:"#A89272"},axisLine:!1,tickLine:!1}),d.jsx(kw,{tick:{fontFamily:"DM Sans",fontSize:11,fill:"#A89272"},axisLine:!1,tickLine:!1,tickFormatter:N=>A_(N,n)}),d.jsx(Bo,{contentStyle:{background:"#1A1612",border:"none",borderRadius:10,fontFamily:"DM Sans",fontSize:12,color:"#F5F0E8"},formatter:N=>[A_(N,n),"Revenue"]}),d.jsx(Qu,{type:"monotone",dataKey:"revenue",stroke:"#4A7C59",strokeWidth:2,fill:"url(#revGrad)"})]})})]}),d.jsxs(Ge.div,{id:"recent-activity",...Vd(.25),className:"card p-0 overflow-hidden flex flex-col scroll-mt-8",children:[d.jsxs("div",{className:"p-6 pb-4 flex items-center justify-between border-b border-stone-100",children:[d.jsx("h2",{className:"font-display text-ink text-lg font-semibold",children:"Recent Activity"}),d.jsx("span",{className:"badge-stone",children:u.length})]}),d.jsx("div",{className:"flex-1 max-h-[400px] overflow-y-auto custom-scrollbar",children:u.length===0&&E.length===0&&P.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-6 text-center",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-sage/10 flex items-center justify-center mb-3",children:d.jsx(Is,{size:20,className:"text-sage"})}),d.jsx("p",{className:"font-body text-sm text-stone-500 font-medium",children:"No recent activity"}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-1",children:"We'll alert you here when things happen."})]}):d.jsx("div",{className:"divide-y divide-stone-100",children:[...u.map(N=>({...N,feedType:"notification"})),...P.map(N=>({...N,feedType:"reminder",overdue:!0})),...E.map(N=>({...N,feedType:"reminder",overdue:!1}))].sort((N,M)=>{const k=Mo(N.createdAt)||Mo(N.dueDate)||new Date(0);return(Mo(M.createdAt)||Mo(M.dueDate)||new Date(0))-k}).slice(0,15).map(N=>d.jsx("div",{className:`p-4 hover:bg-stone-50 transition-colors ${!N.read&&N.feedType==="notification"?"bg-sage/5":""}`,children:d.jsxs("div",{className:"flex gap-4",children:[d.jsx("div",{className:`w-9 h-9 rounded-xl flex-shrink-0 flex items-center justify-center ${N.feedType==="notification"?N.type==="unit_request"?"bg-amber/10 text-amber":"bg-sage/10 text-sage":N.overdue?"bg-rust/10 text-rust":"bg-amber/10 text-amber"}`,children:N.feedType==="notification"?N.type==="unit_request"?d.jsx(cc,{size:16}):d.jsx(Is,{size:16}):d.jsx(op,{size:16})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-start justify-between gap-2",children:[d.jsx("p",{className:"font-body text-sm text-ink leading-snug",children:N.feedType==="notification"?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"font-semibold",children:N.tenantName})," "," ",N.type==="unit_request"?"requested to join":"sent a notification"," "," ",d.jsx("span",{className:"font-semibold",children:N.unitName})]}):d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"font-semibold",children:N.tenantName})," "," ","payment is ",N.overdue?"overdue":"due soon"]})}),N.feedType==="notification"&&!N.read&&d.jsx("button",{onClick:()=>SA(t.uid,N.id),className:"w-2 h-2 rounded-full bg-sage flex-shrink-0 mt-1.5",title:"Mark as read"})]}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx("span",{className:"font-body text-[11px] text-stone-400",children:N.feedType==="notification"?Mo(N.createdAt)?pi(Mo(N.createdAt),"MMM d, h:mm a"):"Recently":Mo(N.dueDate)?`Due ${pi(Mo(N.dueDate),"MMM d")}`:"Invalid date"}),N.feedType==="notification"&&d.jsx(In,{to:`/properties/${N.propertyId}?tab=units`,className:"text-[11px] font-semibold text-sage hover:underline",children:"View Request"})]})]})]})},N.id))})}),d.jsx("div",{className:"p-4 bg-stone-50 border-t border-stone-100",children:d.jsxs(In,{to:"/notifications",className:"w-full btn-ghost text-xs justify-center py-2",children:["View full history ",d.jsx(Xa,{size:13,className:"ml-1"})]})})]})]}),d.jsxs(Ge.div,{...Vd(.3),children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"font-display text-ink text-xl font-semibold",children:"Your Properties"}),d.jsxs(In,{to:"/properties",className:"btn-ghost text-sm",children:["View all ",d.jsx(vd,{size:14})]})]}),i.length===0?d.jsxs("div",{className:"card p-12 flex flex-col items-center text-center border-2 border-dashed border-stone-200",children:[d.jsx("div",{className:"w-16 h-16 rounded-2xl bg-sage/10 flex items-center justify-center mb-4",children:d.jsx(mo,{size:28,className:"text-sage"})}),d.jsx("h3",{className:"font-display text-ink text-xl font-semibold mb-2",children:"Add your first property"}),d.jsx("p",{className:"font-body text-stone-400 text-sm mb-6 max-w-xs",children:"Start tracking rent, tenants, and maintenance by adding a property."}),d.jsxs(In,{to:"/properties",className:"btn-primary",children:[d.jsx(js,{size:16})," Add Property"]})]}):d.jsx("div",{className:"grid md:grid-cols-2 xl:grid-cols-3 gap-4",children:i.slice(0,6).map(N=>d.jsx(iW,{property:N},N.id))})]})]})})}function Ip({isOpen:t,onClose:e,title:n,children:r,size:i="md"}){U.useEffect(()=>{const s=o=>{o.key==="Escape"&&e()};return t&&window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[t,e]),U.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]);const a=i==="lg"?"max-w-2xl":i==="sm"?"max-w-sm":"max-w-lg";return d.jsx(po,{children:t&&d.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4",children:[d.jsx(Ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-ink/50 backdrop-blur-sm",onClick:e}),d.jsxs(Ge.div,{initial:{opacity:0,y:24,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:16,scale:.98},transition:{type:"spring",damping:28,stiffness:360},className:`relative w-full ${a} bg-white rounded-t-2xl sm:rounded-2xl shadow-deep z-10 max-h-[92vh] overflow-y-auto`,children:[d.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-stone-100 sticky top-0 bg-white rounded-t-2xl z-10",children:[d.jsx("h2",{className:"font-display text-ink text-xl font-semibold",children:n}),d.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-stone-100 text-stone-400 hover:text-ink transition-colors",children:d.jsx(U2,{size:18})})]}),d.jsx("div",{className:"px-6 py-5",children:r})]})]})})}const Rs={free:{id:"free",name:"Free",price:0,period:null,maxProperties:2,badge:"FREE",badgeColor:"bg-stone-100 text-stone-500",description:"Get started with basic property management.",features:[{label:"Up to 2 properties",included:!0},{label:"Basic property management",included:!0},{label:"Tenant invitations",included:!0},{label:"Analytics & charts",included:!1},{label:"Automated reminders",included:!1},{label:"PDF invoice generation",included:!1},{label:"Multi-building management",included:!1},{label:"Advanced analytics",included:!1}],featureFlags:{analytics:!1,automatedReminders:!1,pdfInvoices:!1,multiBuilding:!1,advancedAnalytics:!1}},pro:{id:"pro",name:"Pro",price:7,period:"month",maxProperties:20,badge:"PRO",badgeColor:"bg-sage/15 text-sage",popular:!0,description:"For growing landlords who need more power.",features:[{label:"Up to 20 properties",included:!0},{label:"Basic property management",included:!0},{label:"Tenant invitations",included:!0},{label:"Analytics & charts",included:!0},{label:"Automated reminders",included:!0},{label:"PDF invoice generation",included:!0},{label:"Multi-building management",included:!1},{label:"Advanced analytics",included:!1}],featureFlags:{analytics:!0,automatedReminders:!0,pdfInvoices:!0,multiBuilding:!1,advancedAnalytics:!1}},business:{id:"business",name:"Business",price:20,period:"month",maxProperties:1/0,badge:"BIZ",badgeColor:"bg-amber/15 text-amber",description:"For professional property managers at scale.",features:[{label:"Unlimited properties",included:!0},{label:"Basic property management",included:!0},{label:"Tenant invitations",included:!0},{label:"Analytics & charts",included:!0},{label:"Automated reminders",included:!0},{label:"PDF invoice generation",included:!0},{label:"Multi-building management",included:!0},{label:"Advanced analytics",included:!0}],featureFlags:{analytics:!0,automatedReminders:!0,pdfInvoices:!0,multiBuilding:!0,advancedAnalytics:!0}}},Dh=["free","pro","business"];async function kk(t){var i;const e=await al(yn(yt,"users",t));if(!e.exists())return Rs.free;const r=((i=e.data().subscription)==null?void 0:i.planId)||"free";return Rs[r]||Rs.free}async function zje(t,e){if(!Rs[e])throw new Error(`Invalid plan: ${e}`);await Pa(yn(yt,"users",t),{subscription:{planId:e,updatedAt:rr()}})}async function qje(t,e){const n=await kk(t);return e<n.maxProperties}function Wje(t){const e=Dh.indexOf(t);return e<0||e>=Dh.length-1?null:Rs[Dh[e+1]]}const Hje=["Apartment","House","Studio","Duplex","Commercial","Other"],Gje=["All","Occupied","Vacant","Maintenance"];function Kje(){const{user:t}=Pr(),e=yo(),[n,r]=U.useState([]),[i,a]=U.useState(!0),[s,o]=U.useState(""),[l,c]=U.useState("All"),[u,f]=U.useState("all"),[h,p]=U.useState(!1),[b,x]=U.useState(!1),v={name:"",address:"",type:"Apartment",description:""},[y,w]=U.useState(v);U.useEffect(()=>t?Ov(t.uid,N=>{r(N),a(!1)}):void 0,[t]);const S=A=>N=>w(M=>({...M,[A]:N.target.value})),E=[...new Set(n.filter(A=>A.buildingName).map(A=>A.buildingName))].sort(),P=n.filter(A=>{var j,C,V;const N=!s||((j=A.name)==null?void 0:j.toLowerCase().includes(s.toLowerCase()))||((C=A.address)==null?void 0:C.toLowerCase().includes(s.toLowerCase()))||A.unitNumber&&A.unitNumber.toLowerCase().includes(s.toLowerCase()),M=l==="All"||((V=A.status)==null?void 0:V.toLowerCase())===l.toLowerCase(),k=u==="all"||u==="standalone"&&!A.buildingName||A.buildingName===u;return N&&M&&k}),R=async A=>{if(A.preventDefault(),!y.name||!y.address){Qe.error("Name and address are required.");return}x(!0);try{const N=await P9(t.uid,{name:y.name,address:y.address,type:y.type,description:y.description,status:"vacant"});Qe.success("Property created!"),p(!1),w(v),e(`/properties/${N.id}/success`,{state:{propertyId:N.id,propertyName:y.name}})}catch{Qe.error("Failed to add property.")}finally{x(!1)}},I=async(A,N)=>{if(confirm(`Delete "${N}"? This cannot be undone.`))try{await fie(t.uid,A),Qe.success("Property deleted.")}catch{Qe.error("Failed to delete.")}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs(Ge.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"font-display text-ink text-3xl font-semibold",children:"Properties"}),d.jsxs("p",{className:"font-body text-stone-400 text-sm mt-0.5",children:[n.length," total  ",n.filter(A=>A.status==="occupied").length," occupied"]})]}),d.jsxs("button",{onClick:async()=>{if(!await qje(t.uid,n.length)){const N=await kk(t.uid),M=Wje(N.id);Qe.error(`You've reached the ${N.maxProperties}-property limit on the ${N.name} plan.${M?` Upgrade to ${M.name} for more.`:""}`,{duration:4e3});return}p(!0)},className:"btn-primary",children:[d.jsx(js,{size:16})," Add Property"]})]}),d.jsxs(Ge.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(m4,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400"}),d.jsx("input",{className:"input-base pl-10",placeholder:"Search by name, address, or unit number",value:s,onChange:A=>o(A.target.value)})]}),d.jsx("div",{className:"flex gap-2 flex-shrink-0",children:Gje.map(A=>d.jsx("button",{onClick:()=>c(A),className:`px-4 py-2 rounded-xl text-sm font-body font-medium border transition-all ${l===A?"bg-sage/10 text-sage border-sage/30":"bg-white text-stone-500 border-stone-200 hover:border-stone-300"}`,children:A},A))})]}),E.length>0&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(mo,{size:14,className:"text-stone-400"}),d.jsxs("select",{className:"text-sm font-body border border-stone-200 rounded-lg px-3 py-1.5 bg-white text-stone-500 focus:outline-none focus:border-sage transition-colors",value:u,onChange:A=>f(A.target.value),children:[d.jsx("option",{value:"all",children:"All Buildings"}),d.jsx("option",{value:"standalone",children:"Standalone Properties"}),E.map(A=>d.jsx("option",{value:A,children:A},A))]})]})]}),i?d.jsx("div",{className:"grid md:grid-cols-2 xl:grid-cols-3 gap-4",children:[1,2,3].map(A=>d.jsx("div",{className:"card h-52 bg-gradient-to-r from-stone-100 to-stone-50 animate-pulse"},A))}):P.length===0?d.jsxs("div",{className:"card p-16 flex flex-col items-center text-center border-2 border-dashed border-stone-200",children:[d.jsx(mo,{size:40,className:"text-stone-300 mb-3"}),d.jsx("p",{className:"font-body font-medium text-stone-500",children:s||l!=="All"?"No properties match your search":"No properties yet"}),d.jsx("p",{className:"font-body text-xs text-stone-300 mt-1",children:!s&&l==="All"&&'Click "Add Property" to get started'})]}):d.jsx("div",{className:"grid md:grid-cols-2 xl:grid-cols-3 gap-4",children:d.jsx(po,{children:P.map((A,N)=>d.jsx(Ge.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:N*.05},exit:{opacity:0,scale:.97},children:d.jsx(iW,{property:A,onDelete:()=>I(A.id,A.name),showDelete:!0})},A.id))})}),d.jsx(Ip,{isOpen:h,onClose:()=>p(!1),title:"Add Property",size:"md",children:d.jsxs("form",{onSubmit:R,className:"space-y-4",children:[d.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[d.jsx(a1,{label:"Property / Building Name *",children:d.jsx("input",{className:"input-base",placeholder:"e.g. Sunset Court",value:y.name,onChange:S("name"),required:!0,autoFocus:!0})}),d.jsx(a1,{label:"Property Type",children:d.jsx("select",{className:"input-base",value:y.type,onChange:S("type"),children:Hje.map(A=>d.jsx("option",{children:A},A))})})]}),d.jsx(a1,{label:"Address *",children:d.jsxs("div",{className:"relative",children:[d.jsx(Hp,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-9",placeholder:"Full street address",value:y.address,onChange:S("address"),required:!0})]})}),d.jsx(a1,{label:"Description (optional)",children:d.jsx("textarea",{className:"input-base min-h-[72px] resize-none",placeholder:"Any notes about this property",value:y.description,onChange:S("description")})}),d.jsxs("div",{className:"flex gap-3 pt-2 justify-end",children:[d.jsx("button",{type:"button",onClick:()=>p(!1),className:"btn-secondary",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:b,className:"btn-primary",children:b?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(vd,{size:15})," Next: Set Up Units"]})})]})]})})]})}function a1({label:t,children:e,className:n=""}){return d.jsxs("div",{className:n,children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:t}),e]})}async function Yje(t){await Pa(yn(yt,"invoices",t),{status:"cancelled",updatedAt:rr()})}async function Xje(t,e){const r=(await Vp(mi(Er(yt,"invoices"),pr("landlordId","==",t),pr("tenancyId","==",e)))).docs.filter(a=>["draft","sent"].includes(a.data().status)),i=r.map(a=>Yje(a.id));return await Promise.all(i),r.length}const Qje="modulepreload",Jje=function(t){return"/"+t},vL={},N_=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=Jje(l),l in vL)return;vL[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Qje,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};function An(t){"@babel/helpers - typeof";return An=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},An(t)}var go=Uint8Array,Qa=Uint16Array,Ik=Int32Array,Ck=new go([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),jk=new go([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),bL=new go([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),aW=function(t,e){for(var n=new Qa(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new Ik(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},sW=aW(Ck,2),Zje=sW.b,mE=sW.r;Zje[28]=258,mE[258]=28;var eOe=aW(jk,0),xL=eOe.r,gE=new Qa(32768);for(var Yn=0;Yn<32768;++Yn){var qc=(Yn&43690)>>1|(Yn&21845)<<1;qc=(qc&52428)>>2|(qc&13107)<<2,qc=(qc&61680)>>4|(qc&3855)<<4,gE[Yn]=((qc&65280)>>8|(qc&255)<<8)>>1}var Bg=function(t,e,n){for(var r=t.length,i=0,a=new Qa(e);i<r;++i)t[i]&&++a[t[i]-1];var s=new Qa(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(n){o=new Qa(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],f=s[t[i]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)o[gE[f]>>l]=c}else for(o=new Qa(r),i=0;i<r;++i)t[i]&&(o[i]=gE[s[t[i]-1]++]>>15-t[i]);return o},ld=new go(288);for(var Yn=0;Yn<144;++Yn)ld[Yn]=8;for(var Yn=144;Yn<256;++Yn)ld[Yn]=9;for(var Yn=256;Yn<280;++Yn)ld[Yn]=7;for(var Yn=280;Yn<288;++Yn)ld[Yn]=8;var Hx=new go(32);for(var Yn=0;Yn<32;++Yn)Hx[Yn]=5;var tOe=Bg(ld,9,0),nOe=Bg(Hx,5,0),oW=function(t){return(t+7)/8|0},rOe=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new go(t.subarray(e,n))},Il=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Jm=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},E_=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:cW,l:0};if(i==1){var s=new go(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(P,R){return P.f-R.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,u=1,f=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=n[n[c].f<n[f].f?c++:f++],l=n[c!=u&&n[c].f<n[f].f?c++:f++],n[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=a[0].s,r=1;r<i;++r)a[r].s>h&&(h=a[r].s);var p=new Qa(h+1),b=yE(n[u-1],p,0);if(b>e){var r=0,x=0,v=b-e,y=1<<v;for(a.sort(function(R,I){return p[I.s]-p[R.s]||R.f-I.f});r<i;++r){var w=a[r].s;if(p[w]>e)x+=y-(1<<b-p[w]),p[w]=e;else break}for(x>>=v;x>0;){var S=a[r].s;p[S]<e?x-=1<<e-p[S]++-1:++r}for(;r>=0&&x;--r){var E=a[r].s;p[E]==e&&(--p[E],++x)}b=e}return{t:new go(p),l:b}},yE=function(t,e,n){return t.s==-1?Math.max(yE(t.l,e,n+1),yE(t.r,e,n+1)):e[t.s]=n},wL=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Qa(++e),r=0,i=t[0],a=1,s=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[o]}return{c:n.subarray(0,r),n:e}},Zm=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},lW=function(t,e,n){var r=n.length,i=oW(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},_L=function(t,e,n,r,i,a,s,o,l,c,u){Il(e,u++,n),++i[256];for(var f=E_(i,15),h=f.t,p=f.l,b=E_(a,15),x=b.t,v=b.l,y=wL(h),w=y.c,S=y.n,E=wL(x),P=E.c,R=E.n,I=new Qa(19),A=0;A<w.length;++A)++I[w[A]&31];for(var A=0;A<P.length;++A)++I[P[A]&31];for(var N=E_(I,7),M=N.t,k=N.l,j=19;j>4&&!M[bL[j-1]];--j);var C=c+5<<3,V=Zm(i,ld)+Zm(a,Hx)+s,X=Zm(i,h)+Zm(a,x)+s+14+3*j+Zm(I,M)+2*I[16]+3*I[17]+7*I[18];if(l>=0&&C<=V&&C<=X)return lW(e,u,t.subarray(l,l+c));var ne,oe,Y,le;if(Il(e,u,1+(X<V)),u+=2,X<V){ne=Bg(h,p,0),oe=h,Y=Bg(x,v,0),le=x;var K=Bg(M,k,0);Il(e,u,S-257),Il(e,u+5,R-1),Il(e,u+10,j-4),u+=14;for(var A=0;A<j;++A)Il(e,u+3*A,M[bL[A]]);u+=3*j;for(var H=[w,P],F=0;F<2;++F)for(var q=H[F],A=0;A<q.length;++A){var ee=q[A]&31;Il(e,u,K[ee]),u+=M[ee],ee>15&&(Il(e,u,q[A]>>5&127),u+=q[A]>>12)}}else ne=tOe,oe=ld,Y=nOe,le=Hx;for(var A=0;A<o;++A){var se=r[A];if(se>255){var ee=se>>18&31;Jm(e,u,ne[ee+257]),u+=oe[ee+257],ee>7&&(Il(e,u,se>>23&31),u+=Ck[ee]);var ce=se&31;Jm(e,u,Y[ce]),u+=le[ce],ce>3&&(Jm(e,u,se>>5&8191),u+=jk[ce])}else Jm(e,u,ne[se]),u+=oe[se]}return Jm(e,u,ne[256]),u+oe[256]},iOe=new Ik([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),cW=new go(0),aOe=function(t,e,n,r,i,a){var s=a.z||t.length,o=new go(r+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(r,o.length-i),c=a.l,u=(a.r||0)&7;if(e){u&&(l[0]=a.r>>3);for(var f=iOe[e-1],h=f>>13,p=f&8191,b=(1<<n)-1,x=a.p||new Qa(32768),v=a.h||new Qa(b+1),y=Math.ceil(n/3),w=2*y,S=function(Pe){return(t[Pe]^t[Pe+1]<<y^t[Pe+2]<<w)&b},E=new Ik(25e3),P=new Qa(288),R=new Qa(32),I=0,A=0,N=a.i||0,M=0,k=a.w||0,j=0;N+2<s;++N){var C=S(N),V=N&32767,X=v[C];if(x[V]=X,v[C]=V,k<=N){var ne=s-N;if((I>7e3||M>24576)&&(ne>423||!c)){u=_L(t,l,0,E,P,R,A,M,j,N-j,u),M=I=A=0,j=N;for(var oe=0;oe<286;++oe)P[oe]=0;for(var oe=0;oe<30;++oe)R[oe]=0}var Y=2,le=0,K=p,H=V-X&32767;if(ne>2&&C==S(N-H))for(var F=Math.min(h,ne)-1,q=Math.min(32767,N),ee=Math.min(258,ne);H<=q&&--K&&V!=X;){if(t[N+Y]==t[N+Y-H]){for(var se=0;se<ee&&t[N+se]==t[N+se-H];++se);if(se>Y){if(Y=se,le=H,se>F)break;for(var ce=Math.min(H,se-2),fe=0,oe=0;oe<ce;++oe){var ye=N-H+oe&32767,ue=x[ye],be=ye-ue&32767;be>fe&&(fe=be,X=ye)}}}V=X,X=x[V],H+=V-X&32767}if(le){E[M++]=268435456|mE[Y]<<18|xL[le];var Se=mE[Y]&31,me=xL[le]&31;A+=Ck[Se]+jk[me],++P[257+Se],++R[me],k=N+Y,++I}else E[M++]=t[N],++P[t[N]]}}for(N=Math.max(N,k);N<s;++N)E[M++]=t[N],++P[t[N]];u=_L(t,l,c,E,P,R,A,M,j,N-j,u),c||(a.r=u&7|l[u/8|0]<<3,u-=7,a.h=v,a.p=x,a.i=N,a.w=k)}else{for(var N=a.w||0;N<s+c;N+=65535){var Re=N+65535;Re>=s&&(l[u/8|0]=c,Re=s),u=lW(l,u+1,t.subarray(N,Re))}a.i=s}return rOe(o,0,r+oW(u)+i)},uW=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},sOe=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new go(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return aOe(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},fW=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},oOe=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=uW();i.p(e.dictionary),fW(t,2,i.d())}};function vE(t,e){e||(e={});var n=uW();n.p(t);var r=sOe(t,e,e.dictionary?6:2,4);return oOe(r,e),fW(r,r.length-4,n.d()),r}var lOe=typeof TextDecoder<"u"&&new TextDecoder,cOe=0;try{lOe.decode(cW,{stream:!0}),cOe=1}catch{}function uOe(t){if(Array.isArray(t))return t}function fOe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function SL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function dOe(t,e){if(t){if(typeof t=="string")return SL(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SL(t,e):void 0}}function hOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AL(t,e){return uOe(t)||fOe(t,e)||dOe(t,e)||hOe()}function NL(t,e="utf8"){return new TextDecoder(e).decode(t)}const pOe=new TextEncoder;function mOe(t){return pOe.encode(t)}const gOe=1024*8,yOe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),P_={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Ok{constructor(e=gOe,n={}){_n(this,"buffer");_n(this,"byteLength");_n(this,"byteOffset");_n(this,"length");_n(this,"offset");_n(this,"lastWrittenByte");_n(this,"littleEndian");_n(this,"_data");_n(this,"_mark");_n(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof Ok)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=P_[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===yOe&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const l=new P_[n](o.buffer);return this.offset+=r,l.reverse(),l}const s=new P_[n](a);return this.offset+=r,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return NL(this.readBytes(e))}decodeText(e=1,n="utf8"){return NL(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(mOe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function lm(t){let e=t.length;for(;--e>=0;)t[e]=0}const vOe=3,bOe=258,dW=29,xOe=256,wOe=xOe+1+dW,hW=30,_Oe=512,SOe=new Array((wOe+2)*2);lm(SOe);const AOe=new Array(hW*2);lm(AOe);const NOe=new Array(_Oe);lm(NOe);const EOe=new Array(bOe-vOe+1);lm(EOe);const POe=new Array(dW);lm(POe);const TOe=new Array(hW);lm(TOe);const kOe=(t,e,n,r)=>{let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var bE=kOe;const IOe=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},COe=new Uint32Array(IOe()),jOe=(t,e,n,r)=>{const i=COe,a=r+n;t^=-1;for(let s=r;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var Lo=jOe,xE={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},pW={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const OOe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var ROe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)OOe(n,r)&&(t[r]=n[r])}}return t},MOe=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,a=t.length;r<a;r++){let s=t[r];n.set(s,i),i+=s.length}return n},mW={assign:ROe,flattenChunks:MOe};let gW=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{gW=!1}const sv=new Uint8Array(256);for(let t=0;t<256;t++)sv[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;sv[254]=sv[254]=1;var LOe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,a,s=t.length,o=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),a=0,i=0;a<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|n&63):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|n&63):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|n&63);return e};const DOe=(t,e)=>{if(e<65534&&t.subarray&&gW)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var FOe=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){a[i++]=s;continue}let o=sv[s];if(o>4){a[i++]=65533,r+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&r<n;)s=s<<6|t[r++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return DOe(a,i)},$Oe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+sv[t[n]]>e?n:e},wE={string2buf:LOe,buf2string:FOe,utf8border:$Oe};function BOe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var VOe=BOe;const s1=16209,UOe=16191;var zOe=function(e,n){let r,i,a,s,o,l,c,u,f,h,p,b,x,v,y,w,S,E,P,R,I,A,N,M;const k=e.state;r=e.next_in,N=e.input,i=r+(e.avail_in-5),a=e.next_out,M=e.output,s=a-(n-e.avail_out),o=a+(e.avail_out-257),l=k.dmax,c=k.wsize,u=k.whave,f=k.wnext,h=k.window,p=k.hold,b=k.bits,x=k.lencode,v=k.distcode,y=(1<<k.lenbits)-1,w=(1<<k.distbits)-1;e:do{b<15&&(p+=N[r++]<<b,b+=8,p+=N[r++]<<b,b+=8),S=x[p&y];t:for(;;){if(E=S>>>24,p>>>=E,b-=E,E=S>>>16&255,E===0)M[a++]=S&65535;else if(E&16){P=S&65535,E&=15,E&&(b<E&&(p+=N[r++]<<b,b+=8),P+=p&(1<<E)-1,p>>>=E,b-=E),b<15&&(p+=N[r++]<<b,b+=8,p+=N[r++]<<b,b+=8),S=v[p&w];n:for(;;){if(E=S>>>24,p>>>=E,b-=E,E=S>>>16&255,E&16){if(R=S&65535,E&=15,b<E&&(p+=N[r++]<<b,b+=8,b<E&&(p+=N[r++]<<b,b+=8)),R+=p&(1<<E)-1,R>l){e.msg="invalid distance too far back",k.mode=s1;break e}if(p>>>=E,b-=E,E=a-s,R>E){if(E=R-E,E>u&&k.sane){e.msg="invalid distance too far back",k.mode=s1;break e}if(I=0,A=h,f===0){if(I+=c-E,E<P){P-=E;do M[a++]=h[I++];while(--E);I=a-R,A=M}}else if(f<E){if(I+=c+f-E,E-=f,E<P){P-=E;do M[a++]=h[I++];while(--E);if(I=0,f<P){E=f,P-=E;do M[a++]=h[I++];while(--E);I=a-R,A=M}}}else if(I+=f-E,E<P){P-=E;do M[a++]=h[I++];while(--E);I=a-R,A=M}for(;P>2;)M[a++]=A[I++],M[a++]=A[I++],M[a++]=A[I++],P-=3;P&&(M[a++]=A[I++],P>1&&(M[a++]=A[I++]))}else{I=a-R;do M[a++]=M[I++],M[a++]=M[I++],M[a++]=M[I++],P-=3;while(P>2);P&&(M[a++]=M[I++],P>1&&(M[a++]=M[I++]))}}else if(E&64){e.msg="invalid distance code",k.mode=s1;break e}else{S=v[(S&65535)+(p&(1<<E)-1)];continue n}break}}else if(E&64)if(E&32){k.mode=UOe;break e}else{e.msg="invalid literal/length code",k.mode=s1;break e}else{S=x[(S&65535)+(p&(1<<E)-1)];continue t}break}}while(r<i&&a<o);P=b>>3,r-=P,b-=P<<3,p&=(1<<b)-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=a<o?257+(o-a):257-(a-o),k.hold=p,k.bits=b};const Ud=15,EL=852,PL=592,TL=0,T_=1,kL=2,qOe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),WOe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),HOe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),GOe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),KOe=(t,e,n,r,i,a,s,o)=>{const l=o.bits;let c=0,u=0,f=0,h=0,p=0,b=0,x=0,v=0,y=0,w=0,S,E,P,R,I,A=null,N;const M=new Uint16Array(Ud+1),k=new Uint16Array(Ud+1);let j=null,C,V,X;for(c=0;c<=Ud;c++)M[c]=0;for(u=0;u<r;u++)M[e[n+u]]++;for(p=l,h=Ud;h>=1&&M[h]===0;h--);if(p>h&&(p=h),h===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<h&&M[f]===0;f++);for(p<f&&(p=f),v=1,c=1;c<=Ud;c++)if(v<<=1,v-=M[c],v<0)return-1;if(v>0&&(t===TL||h!==1))return-1;for(k[1]=0,c=1;c<Ud;c++)k[c+1]=k[c]+M[c];for(u=0;u<r;u++)e[n+u]!==0&&(s[k[e[n+u]]++]=u);if(t===TL?(A=j=s,N=20):t===T_?(A=qOe,j=WOe,N=257):(A=HOe,j=GOe,N=0),w=0,u=0,c=f,I=a,b=p,x=0,P=-1,y=1<<p,R=y-1,t===T_&&y>EL||t===kL&&y>PL)return 1;for(;;){C=c-x,s[u]+1<N?(V=0,X=s[u]):s[u]>=N?(V=j[s[u]-N],X=A[s[u]-N]):(V=96,X=0),S=1<<c-x,E=1<<b,f=E;do E-=S,i[I+(w>>x)+E]=C<<24|V<<16|X|0;while(E!==0);for(S=1<<c-1;w&S;)S>>=1;if(S!==0?(w&=S-1,w+=S):w=0,u++,--M[c]===0){if(c===h)break;c=e[n+s[u]]}if(c>p&&(w&R)!==P){for(x===0&&(x=p),I+=f,b=c-x,v=1<<b;b+x<h&&(v-=M[b+x],!(v<=0));)b++,v<<=1;if(y+=1<<b,t===T_&&y>EL||t===kL&&y>PL)return 1;P=w&R,i[P]=p<<24|b<<16|I-a|0}}return w!==0&&(i[I+w]=c-x<<24|64<<16|0),o.bits=p,0};var Vg=KOe;const YOe=0,yW=1,vW=2,{Z_FINISH:IL,Z_BLOCK:XOe,Z_TREES:o1,Z_OK:cd,Z_STREAM_END:QOe,Z_NEED_DICT:JOe,Z_STREAM_ERROR:$s,Z_DATA_ERROR:bW,Z_MEM_ERROR:xW,Z_BUF_ERROR:ZOe,Z_DEFLATED:CL}=pW,Cw=16180,jL=16181,OL=16182,RL=16183,ML=16184,LL=16185,DL=16186,FL=16187,$L=16188,BL=16189,Gx=16190,Cl=16191,k_=16192,VL=16193,I_=16194,UL=16195,zL=16196,qL=16197,WL=16198,l1=16199,c1=16200,HL=16201,GL=16202,KL=16203,YL=16204,XL=16205,C_=16206,QL=16207,JL=16208,er=16209,wW=16210,_W=16211,e6e=852,t6e=592,n6e=15,r6e=n6e,ZL=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function i6e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Sd=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Cw||e.mode>_W?1:0},SW=t=>{if(Sd(t))return $s;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Cw,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(e6e),e.distcode=e.distdyn=new Int32Array(t6e),e.sane=1,e.back=-1,cd},AW=t=>{if(Sd(t))return $s;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,SW(t)},NW=(t,e)=>{let n;if(Sd(t))return $s;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?$s:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,AW(t))},EW=(t,e)=>{if(!t)return $s;const n=new i6e;t.state=n,n.strm=t,n.window=null,n.mode=Cw;const r=NW(t,e);return r!==cd&&(t.state=null),r},a6e=t=>EW(t,r6e);let eD=!0,j_,O_;const s6e=t=>{if(eD){j_=new Int32Array(512),O_=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Vg(yW,t.lens,0,288,j_,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Vg(vW,t.lens,0,32,O_,0,t.work,{bits:5}),eD=!1}t.lencode=j_,t.lenbits=9,t.distcode=O_,t.distbits=5},PW=(t,e,n,r)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(e.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(e.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(e.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},o6e=(t,e)=>{let n,r,i,a,s,o,l,c,u,f,h,p,b,x,v=0,y,w,S,E,P,R,I,A;const N=new Uint8Array(4);let M,k;const j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Sd(t)||!t.output||!t.input&&t.avail_in!==0)return $s;n=t.state,n.mode===Cl&&(n.mode=k_),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,r=t.input,o=t.avail_in,c=n.hold,u=n.bits,f=o,h=l,A=cd;e:for(;;)switch(n.mode){case Cw:if(n.wrap===0){n.mode=k_;break}for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,N[0]=c&255,N[1]=c>>>8&255,n.check=Lo(n.check,N,2,0),c=0,u=0,n.mode=jL;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=er;break}if((c&15)!==CL){t.msg="unknown compression method",n.mode=er;break}if(c>>>=4,u-=4,I=(c&15)+8,n.wbits===0&&(n.wbits=I),I>15||I>n.wbits){t.msg="invalid window size",n.mode=er;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=c&512?BL:Cl,c=0,u=0;break;case jL:for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==CL){t.msg="unknown compression method",n.mode=er;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=er;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(N[0]=c&255,N[1]=c>>>8&255,n.check=Lo(n.check,N,2,0)),c=0,u=0,n.mode=OL;case OL:for(;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(N[0]=c&255,N[1]=c>>>8&255,N[2]=c>>>16&255,N[3]=c>>>24&255,n.check=Lo(n.check,N,4,0)),c=0,u=0,n.mode=RL;case RL:for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(N[0]=c&255,N[1]=c>>>8&255,n.check=Lo(n.check,N,2,0)),c=0,u=0,n.mode=ML;case ML:if(n.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(N[0]=c&255,N[1]=c>>>8&255,n.check=Lo(n.check,N,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=LL;case LL:if(n.flags&1024&&(p=n.length,p>o&&(p=o),p&&(n.head&&(I=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+p),I)),n.flags&512&&n.wrap&4&&(n.check=Lo(n.check,r,p,a)),o-=p,a+=p,n.length-=p),n.length))break e;n.length=0,n.mode=DL;case DL:if(n.flags&2048){if(o===0)break e;p=0;do I=r[a+p++],n.head&&I&&n.length<65536&&(n.head.name+=String.fromCharCode(I));while(I&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=Lo(n.check,r,p,a)),o-=p,a+=p,I)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=FL;case FL:if(n.flags&4096){if(o===0)break e;p=0;do I=r[a+p++],n.head&&I&&n.length<65536&&(n.head.comment+=String.fromCharCode(I));while(I&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=Lo(n.check,r,p,a)),o-=p,a+=p,I)break e}else n.head&&(n.head.comment=null);n.mode=$L;case $L:if(n.flags&512){for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.wrap&4&&c!==(n.check&65535)){t.msg="header crc mismatch",n.mode=er;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Cl;break;case BL:for(;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}t.adler=n.check=ZL(c),c=0,u=0,n.mode=Gx;case Gx:if(n.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=c,n.bits=u,JOe;t.adler=n.check=1,n.mode=Cl;case Cl:if(e===XOe||e===o1)break e;case k_:if(n.last){c>>>=u&7,u-=u&7,n.mode=C_;break}for(;u<3;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=VL;break;case 1:if(s6e(n),n.mode=l1,e===o1){c>>>=2,u-=2;break e}break;case 2:n.mode=zL;break;case 3:t.msg="invalid block type",n.mode=er}c>>>=2,u-=2;break;case VL:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=er;break}if(n.length=c&65535,c=0,u=0,n.mode=I_,e===o1)break e;case I_:n.mode=UL;case UL:if(p=n.length,p){if(p>o&&(p=o),p>l&&(p=l),p===0)break e;i.set(r.subarray(a,a+p),s),o-=p,a+=p,l-=p,s+=p,n.length-=p;break}n.mode=Cl;break;case zL:for(;u<14;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=er;break}n.have=0,n.mode=qL;case qL:for(;n.have<n.ncode;){for(;u<3;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.lens[j[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[j[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M={bits:n.lenbits},A=Vg(YOe,n.lens,0,19,n.lencode,0,n.work,M),n.lenbits=M.bits,A){t.msg="invalid code lengths set",n.mode=er;break}n.have=0,n.mode=WL;case WL:for(;n.have<n.nlen+n.ndist;){for(;v=n.lencode[c&(1<<n.lenbits)-1],y=v>>>24,w=v>>>16&255,S=v&65535,!(y<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(S<16)c>>>=y,u-=y,n.lens[n.have++]=S;else{if(S===16){for(k=y+2;u<k;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(c>>>=y,u-=y,n.have===0){t.msg="invalid bit length repeat",n.mode=er;break}I=n.lens[n.have-1],p=3+(c&3),c>>>=2,u-=2}else if(S===17){for(k=y+3;u<k;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=y,u-=y,I=0,p=3+(c&7),c>>>=3,u-=3}else{for(k=y+7;u<k;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=y,u-=y,I=0,p=11+(c&127),c>>>=7,u-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=er;break}for(;p--;)n.lens[n.have++]=I}}if(n.mode===er)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=er;break}if(n.lenbits=9,M={bits:n.lenbits},A=Vg(yW,n.lens,0,n.nlen,n.lencode,0,n.work,M),n.lenbits=M.bits,A){t.msg="invalid literal/lengths set",n.mode=er;break}if(n.distbits=6,n.distcode=n.distdyn,M={bits:n.distbits},A=Vg(vW,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,M),n.distbits=M.bits,A){t.msg="invalid distances set",n.mode=er;break}if(n.mode=l1,e===o1)break e;case l1:n.mode=c1;case c1:if(o>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=c,n.bits=u,zOe(t,h),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,r=t.input,o=t.avail_in,c=n.hold,u=n.bits,n.mode===Cl&&(n.back=-1);break}for(n.back=0;v=n.lencode[c&(1<<n.lenbits)-1],y=v>>>24,w=v>>>16&255,S=v&65535,!(y<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(w&&!(w&240)){for(E=y,P=w,R=S;v=n.lencode[R+((c&(1<<E+P)-1)>>E)],y=v>>>24,w=v>>>16&255,S=v&65535,!(E+y<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=E,u-=E,n.back+=E}if(c>>>=y,u-=y,n.back+=y,n.length=S,w===0){n.mode=XL;break}if(w&32){n.back=-1,n.mode=Cl;break}if(w&64){t.msg="invalid literal/length code",n.mode=er;break}n.extra=w&15,n.mode=HL;case HL:if(n.extra){for(k=n.extra;u<k;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=GL;case GL:for(;v=n.distcode[c&(1<<n.distbits)-1],y=v>>>24,w=v>>>16&255,S=v&65535,!(y<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(!(w&240)){for(E=y,P=w,R=S;v=n.distcode[R+((c&(1<<E+P)-1)>>E)],y=v>>>24,w=v>>>16&255,S=v&65535,!(E+y<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=E,u-=E,n.back+=E}if(c>>>=y,u-=y,n.back+=y,w&64){t.msg="invalid distance code",n.mode=er;break}n.offset=S,n.extra=w&15,n.mode=KL;case KL:if(n.extra){for(k=n.extra;u<k;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=er;break}n.mode=YL;case YL:if(l===0)break e;if(p=h-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=er;break}p>n.wnext?(p-=n.wnext,b=n.wsize-p):b=n.wnext-p,p>n.length&&(p=n.length),x=n.window}else x=i,b=s-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do i[s++]=x[b++];while(--p);n.length===0&&(n.mode=c1);break;case XL:if(l===0)break e;i[s++]=n.length,l--,n.mode=c1;break;case C_:if(n.wrap){for(;u<32;){if(o===0)break e;o--,c|=r[a++]<<u,u+=8}if(h-=l,t.total_out+=h,n.total+=h,n.wrap&4&&h&&(t.adler=n.check=n.flags?Lo(n.check,i,h,s-h):bE(n.check,i,h,s-h)),h=l,n.wrap&4&&(n.flags?c:ZL(c))!==n.check){t.msg="incorrect data check",n.mode=er;break}c=0,u=0}n.mode=QL;case QL:if(n.wrap&&n.flags){for(;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.wrap&4&&c!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=er;break}c=0,u=0}n.mode=JL;case JL:A=QOe;break e;case er:A=bW;break e;case wW:return xW;case _W:default:return $s}return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=c,n.bits=u,(n.wsize||h!==t.avail_out&&n.mode<er&&(n.mode<C_||e!==IL))&&PW(t,t.output,t.next_out,h-t.avail_out),f-=t.avail_in,h-=t.avail_out,t.total_in+=f,t.total_out+=h,n.total+=h,n.wrap&4&&h&&(t.adler=n.check=n.flags?Lo(n.check,i,h,t.next_out-h):bE(n.check,i,h,t.next_out-h)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Cl?128:0)+(n.mode===l1||n.mode===I_?256:0),(f===0&&h===0||e===IL)&&A===cd&&(A=ZOe),A},l6e=t=>{if(Sd(t))return $s;let e=t.state;return e.window&&(e.window=null),t.state=null,cd},c6e=(t,e)=>{if(Sd(t))return $s;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,cd):$s},u6e=(t,e)=>{const n=e.length;let r,i,a;return Sd(t)||(r=t.state,r.wrap!==0&&r.mode!==Gx)?$s:r.mode===Gx&&(i=1,i=bE(i,e,n,0),i!==r.check)?bW:(a=PW(t,e,n,n),a?(r.mode=wW,xW):(r.havedict=1,cd))};var f6e=AW,d6e=NW,h6e=SW,p6e=a6e,m6e=EW,g6e=o6e,y6e=l6e,v6e=c6e,b6e=u6e,x6e="pako inflate (from Nodeca project)",Rl={inflateReset:f6e,inflateReset2:d6e,inflateResetKeep:h6e,inflateInit:p6e,inflateInit2:m6e,inflate:g6e,inflateEnd:y6e,inflateGetHeader:v6e,inflateSetDictionary:b6e,inflateInfo:x6e};function w6e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var _6e=w6e;const TW=Object.prototype.toString,{Z_NO_FLUSH:S6e,Z_FINISH:A6e,Z_OK:ov,Z_STREAM_END:R_,Z_NEED_DICT:M_,Z_STREAM_ERROR:N6e,Z_DATA_ERROR:tD,Z_MEM_ERROR:E6e}=pW;function Kv(t){this.options=mW.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new VOe,this.strm.avail_out=0;let n=Rl.inflateInit2(this.strm,e.windowBits);if(n!==ov)throw new Error(xE[n]);if(this.header=new _6e,Rl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=wE.string2buf(e.dictionary):TW.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Rl.inflateSetDictionary(this.strm,e.dictionary),n!==ov)))throw new Error(xE[n])}Kv.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?A6e:S6e,TW.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=Rl.inflate(n,s),a===M_&&i&&(a=Rl.inflateSetDictionary(n,i),a===ov?a=Rl.inflate(n,s):a===tD&&(a=M_));n.avail_in>0&&a===R_&&n.state.wrap>0&&t[n.next_in]!==0;)Rl.inflateReset(n),a=Rl.inflate(n,s);switch(a){case N6e:case tD:case M_:case E6e:return this.onEnd(a),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||a===R_))if(this.options.to==="string"){let l=wE.utf8border(n.output,n.next_out),c=n.next_out-l,u=wE.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===ov&&o===0)){if(a===R_)return a=Rl.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Kv.prototype.onData=function(t){this.chunks.push(t)};Kv.prototype.onEnd=function(t){t===ov&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=mW.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function P6e(t,e){const n=new Kv(e);if(n.push(t),n.err)throw n.msg||xE[n.err];return n.result}var T6e=Kv,k6e=P6e,I6e={Inflate:T6e,inflate:k6e};const{Inflate:C6e,inflate:j6e}=I6e;var nD=C6e,O6e=j6e;const kW=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;kW[t]=e}const rD=4294967295;function R6e(t,e,n){let r=t;for(let i=0;i<n;i++)r=kW[(r^e[i])&255]^r>>>8;return r}function M6e(t,e){return(R6e(rD,t,e)^rD)>>>0}function iD(t,e,n){const r=t.readUint32(),i=M6e(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function IW(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function CW(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function jW(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function OW(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(n[a]>>1)&255;for(;a<r;a++)e[a]=t[a]+(e[a-i]+n[a]>>1)&255}}function RW(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+n[a]&255;for(;a<r;a++)e[a]=t[a]+L6e(e[a-i],n[a],n[a-i])&255}}function L6e(t,e,n){const r=t+e-n,i=Math.abs(r-t),a=Math.abs(r-e),s=Math.abs(r-n);return i<=a&&i<=s?t:a<=s?e:n}function D6e(t,e,n,r,i,a){switch(t){case 0:IW(e,n,i);break;case 1:CW(e,n,i,a);break;case 2:jW(e,n,r,i);break;case 3:OW(e,n,r,i,a);break;case 4:RW(e,n,r,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const F6e=new Uint16Array([255]),$6e=new Uint8Array(F6e.buffer),B6e=$6e[0]===255;function V6e(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(r*n*o);let c=0;for(let u=0;u<7;u++){const f=s[u],h=Math.ceil((n-f.x)/f.xStep),p=Math.ceil((r-f.y)/f.yStep);if(h<=0||p<=0)continue;const b=h*o,x=new Uint8Array(b);for(let v=0;v<p;v++){const y=e[c++],w=e.subarray(c,c+b);c+=b;const S=new Uint8Array(b);D6e(y,w,S,x,b,o),x.set(S);for(let E=0;E<h;E++){const P=f.x+E*f.xStep,R=f.y+v*f.yStep;if(!(P>=n||R>=r))for(let I=0;I<o;I++)l[(R*n+P)*o+I]=S[E*o+I]}}}if(a===16){const u=new Uint16Array(l.buffer);if(B6e)for(let f=0;f<u.length;f++)u[f]=U6e(u[f]);return u}else return l}function U6e(t){return(t&255)<<8|t>>8&255}const z6e=new Uint16Array([255]),q6e=new Uint8Array(z6e.buffer),W6e=q6e[0]===255,H6e=new Uint8Array(0);function aD(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*n),l=new Uint8Array(r*o);let c=H6e,u=0,f,h;for(let p=0;p<r;p++){switch(f=e.subarray(u+1,u+1+o),h=l.subarray(p*o,(p+1)*o),e[u]){case 0:IW(f,h,o);break;case 1:CW(f,h,o,s);break;case 2:jW(f,h,c,o);break;case 3:OW(f,h,c,o,s);break;case 4:RW(f,h,c,o,s);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=h,u+=o+1}if(a===16){const p=new Uint16Array(l.buffer);if(W6e)for(let b=0;b<p.length;b++)p[b]=G6e(p[b]);return p}else return l}function G6e(t){return(t&255)<<8|t>>8&255}const V1=Uint8Array.of(137,80,78,71,13,10,26,10);function sD(t){if(!K6e(t.readBytes(V1.length)))throw new Error("wrong PNG signature")}function K6e(t){if(t.length<V1.length)return!1;for(let e=0;e<V1.length;e++)if(t[e]!==V1[e])return!1;return!0}const Y6e="tEXt",X6e=0,MW=new TextDecoder("latin1");function Q6e(t){if(Z6e(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const J6e=/^[\u0000-\u00FF]*$/;function Z6e(t){if(!J6e.test(t))throw new Error("invalid latin1 text")}function eRe(t,e,n){const r=LW(e);t[r]=tRe(e,n-r.length-1)}function LW(t){for(t.mark();t.readByte()!==X6e;);const e=t.offset;t.reset();const n=MW.decode(t.readBytes(e-t.offset-1));return t.skip(1),Q6e(n),n}function tRe(t,e){return MW.decode(t.readBytes(e))}const za={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},L_={UNKNOWN:-1,DEFLATE:0},oD={UNKNOWN:-1,ADAPTIVE:0},D_={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},u1={NONE:0,BACKGROUND:1,PREVIOUS:2},F_={SOURCE:0,OVER:1};class nRe extends Ok{constructor(n,r={}){super(n);_n(this,"_checkCrc");_n(this,"_inflator");_n(this,"_png");_n(this,"_apng");_n(this,"_end");_n(this,"_hasPalette");_n(this,"_palette");_n(this,"_hasTransparency");_n(this,"_transparency");_n(this,"_compressionMethod");_n(this,"_filterMethod");_n(this,"_interlaceMethod");_n(this,"_colorType");_n(this,"_isAnimated");_n(this,"_numberOfFrames");_n(this,"_numberOfPlays");_n(this,"_frames");_n(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new nD,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=L_.UNKNOWN,this._filterMethod=oD.UNKNOWN,this._interlaceMethod=D_.UNKNOWN,this._colorType=za.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(sD(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(sD(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case Y6e:eRe(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?iD(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?iD(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=rRe(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case za.GREYSCALE:i=1;break;case za.TRUECOLOUR:i=3;break;case za.INDEXED_COLOUR:i=1;break;case za.GREYSCALE_ALPHA:i=2;break;case za.TRUECOLOUR_ALPHA:i=4;break;case za.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==L_.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<r;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case za.GREYSCALE:case za.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case za.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case za.UNKNOWN:case za.GREYSCALE_ALPHA:case za.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=LW(this),i=this.readUint8();if(i!==L_.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:O6e(a)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=aD({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const a=this._apng.frames.at(n-1);this.disposeFrame(i,a,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case u1.NONE:break;case u1.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*n.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case u1.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,a=(s,o)=>{const l=((s+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,c=(s*r.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case F_.SOURCE:for(let s=0;s<r.height;s++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++)n.data[l+u]=r.data[c+u]}break;case F_.OVER:for(let s=0;s<r.height;s++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++){const f=r.data[c+this._png.channels-1]/i,h=u%(this._png.channels-1)===0?1:r.data[c+u],p=Math.floor(f*h+(1-f)*n.data[l+u]);n.data[l+u]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==oD.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===D_.NO_INTERLACE)this._png.data=aD({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===D_.ADAM7)this._png.data=V6e({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:u1.NONE,blendOp:F_.SOURCE,data:n}),this._inflator=new nD,this._writingDataChunks=!1}}function rRe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var lD;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(lD||(lD={}));function iRe(t,e){return new nRe(t,e).decode()}var Pt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function $_(){Pt.console&&typeof Pt.console.log=="function"&&Pt.console.log.apply(Pt.console,arguments)}var Rn={log:$_,warn:function(t){Pt.console&&(typeof Pt.console.warn=="function"?Pt.console.warn.apply(Pt.console,arguments):$_.call(null,arguments))},error:function(t){Pt.console&&(typeof Pt.console.error=="function"?Pt.console.error.apply(Pt.console,arguments):$_(t))}};function B_(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Nf(r.response,e,n)},r.onerror=function(){Rn.error("could not download file")},r.send()}function cD(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function f1(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Nf=Pt.saveAs||((typeof window>"u"?"undefined":An(window))!=="object"||window!==Pt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Pt.URL||Pt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?cD(i.href)?B_(t,e,n):f1(i,i.target="_blank"):f1(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){f1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(cD(t))B_(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){f1(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:An(a)!=="object"&&(Rn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return B_(t,e,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(Pt.HTMLElement)||Pt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":An(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},o.readAsDataURL(t)}else{var l=Pt.URL||Pt.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function DW(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var U1=Pt.atob.bind(Pt),uD=Pt.btoa.bind(Pt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function V_(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=Vi(n,r,i,a,e[0],7,-680876936),a=Vi(a,n,r,i,e[1],12,-389564586),i=Vi(i,a,n,r,e[2],17,606105819),r=Vi(r,i,a,n,e[3],22,-1044525330),n=Vi(n,r,i,a,e[4],7,-176418897),a=Vi(a,n,r,i,e[5],12,1200080426),i=Vi(i,a,n,r,e[6],17,-1473231341),r=Vi(r,i,a,n,e[7],22,-45705983),n=Vi(n,r,i,a,e[8],7,1770035416),a=Vi(a,n,r,i,e[9],12,-1958414417),i=Vi(i,a,n,r,e[10],17,-42063),r=Vi(r,i,a,n,e[11],22,-1990404162),n=Vi(n,r,i,a,e[12],7,1804603682),a=Vi(a,n,r,i,e[13],12,-40341101),i=Vi(i,a,n,r,e[14],17,-1502002290),n=Ui(n,r=Vi(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Ui(a,n,r,i,e[6],9,-1069501632),i=Ui(i,a,n,r,e[11],14,643717713),r=Ui(r,i,a,n,e[0],20,-373897302),n=Ui(n,r,i,a,e[5],5,-701558691),a=Ui(a,n,r,i,e[10],9,38016083),i=Ui(i,a,n,r,e[15],14,-660478335),r=Ui(r,i,a,n,e[4],20,-405537848),n=Ui(n,r,i,a,e[9],5,568446438),a=Ui(a,n,r,i,e[14],9,-1019803690),i=Ui(i,a,n,r,e[3],14,-187363961),r=Ui(r,i,a,n,e[8],20,1163531501),n=Ui(n,r,i,a,e[13],5,-1444681467),a=Ui(a,n,r,i,e[2],9,-51403784),i=Ui(i,a,n,r,e[7],14,1735328473),n=zi(n,r=Ui(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=zi(a,n,r,i,e[8],11,-2022574463),i=zi(i,a,n,r,e[11],16,1839030562),r=zi(r,i,a,n,e[14],23,-35309556),n=zi(n,r,i,a,e[1],4,-1530992060),a=zi(a,n,r,i,e[4],11,1272893353),i=zi(i,a,n,r,e[7],16,-155497632),r=zi(r,i,a,n,e[10],23,-1094730640),n=zi(n,r,i,a,e[13],4,681279174),a=zi(a,n,r,i,e[0],11,-358537222),i=zi(i,a,n,r,e[3],16,-722521979),r=zi(r,i,a,n,e[6],23,76029189),n=zi(n,r,i,a,e[9],4,-640364487),a=zi(a,n,r,i,e[12],11,-421815835),i=zi(i,a,n,r,e[15],16,530742520),n=qi(n,r=zi(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=qi(a,n,r,i,e[7],10,1126891415),i=qi(i,a,n,r,e[14],15,-1416354905),r=qi(r,i,a,n,e[5],21,-57434055),n=qi(n,r,i,a,e[12],6,1700485571),a=qi(a,n,r,i,e[3],10,-1894986606),i=qi(i,a,n,r,e[10],15,-1051523),r=qi(r,i,a,n,e[1],21,-2054922799),n=qi(n,r,i,a,e[8],6,1873313359),a=qi(a,n,r,i,e[15],10,-30611744),i=qi(i,a,n,r,e[6],15,-1560198380),r=qi(r,i,a,n,e[13],21,1309151649),n=qi(n,r,i,a,e[4],6,-145523070),a=qi(a,n,r,i,e[11],10,-1120210379),i=qi(i,a,n,r,e[2],15,718787259),r=qi(r,i,a,n,e[9],21,-343485551),t[0]=du(n,t[0]),t[1]=du(r,t[1]),t[2]=du(i,t[2]),t[3]=du(a,t[3])}function jw(t,e,n,r,i,a){return e=du(du(e,t),du(r,a)),du(e<<i|e>>>32-i,n)}function Vi(t,e,n,r,i,a,s){return jw(e&n|~e&r,t,e,i,a,s)}function Ui(t,e,n,r,i,a,s){return jw(e&r|n&~r,t,e,i,a,s)}function zi(t,e,n,r,i,a,s){return jw(e^n^r,t,e,i,a,s)}function qi(t,e,n,r,i,a,s){return jw(n^(e|~r),t,e,i,a,s)}function FW(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)V_(r,aRe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(V_(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,V_(r,i),r}function aRe(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var fD="0123456789abcdef".split("");function sRe(t){for(var e="",n=0;n<4;n++)e+=fD[t>>8*n+4&15]+fD[t>>8*n&15];return e}function oRe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function _E(t){return FW(t).map(oRe).join("")}var lRe=function(t){for(var e=0;e<t.length;e++)t[e]=sRe(t[e]);return t.join("")}(FW("hello"))!="5d41402abc4b2a76b9719d911017c592";function du(t,e){if(lRe){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function SE(t,e){var n,r,i,a;if(t!==n){for(var s=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}n=t,r=o}else o=r;var f=e.length,h=0,p=0,b="";for(l=0;l<f;l++)p=(p+(u=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=u,s=o[(o[h]+o[p])%256],b+=String.fromCharCode(e.charCodeAt(l)^s);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var dD={print:4,modify:8,copy:16,"annot-forms":32};function Yd(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(dD.perm!==void 0)throw new Error("Invalid permission: "+o);i+=dD[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=_E(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=SE(this.encryptionKey,this.padding)}function Xd(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function hD(t){if(An(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var s=e[n][a];try{s[0].apply(t,r)}catch(o){Pt.console&&Rn.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Kx(t){if(!(this instanceof Kx))return new Kx(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function $W(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ef(t,e,n,r,i){if(!(this instanceof Ef))return new Ef(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,$W.call(this,r,i)}function bh(t,e,n,r,i){if(!(this instanceof bh))return new bh(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,$W.call(this,r,i)}function ht(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,c="S",u=null;An(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,a=t.compress||t.compressPdf||a,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=hD;var b="1.3",x=p.__private__.getPdfVersion=function(){return b};p.__private__.setPdfVersion=function(T){b=T};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return v};var y=p.__private__.getPageFormat=function(T){return v[T]};i=i||"a4";var w="compat",S="advanced",E=w;function P(){this.saveGraphicsState(),J(new bt(Nt,0,0,-Nt,0,hs()*Nt).toString()+" cm"),this.setFontSize(this.getFontSize()/Nt),c="n",E=S}function R(){this.restoreGraphicsState(),c="S",E=w}var I=p.__private__.combineFontStyleAndFontWeight=function(T,B){if(T=="bold"&&B=="normal"||T=="bold"&&B==400||T=="normal"&&B=="italic"||T=="bold"&&B=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return B&&(T=B==400||B==="normal"?T==="italic"?"italic":"normal":B!=700&&B!=="bold"||T!=="normal"?(B==700?"bold":B)+""+T:"bold"),T};p.advancedAPI=function(T){var B=E===w;return B&&P.call(this),typeof T!="function"||(T(this),B&&R.call(this)),this},p.compatAPI=function(T){var B=E===S;return B&&R.call(this),typeof T!="function"||(T(this),B&&P.call(this)),this},p.isAdvancedAPI=function(){return E===S};var A,N=function(T){if(E!==S)throw new Error(T+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=p.roundToPrecision=p.__private__.roundToPrecision=function(T,B){var re=e||B;if(isNaN(T)||isNaN(re))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return T.toFixed(re).replace(/0+$/,"")};A=p.hpf=p.__private__.hpf=typeof l=="number"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return M(T,l)}:l==="smart"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return M(T,T>-1&&T<1?16:5)}:function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return M(T,16)};var k=p.f2=p.__private__.f2=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f2");return M(T,2)},j=p.__private__.f3=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f3");return M(T,3)},C=p.scale=p.__private__.scale=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.scale");return E===w?T*Nt:E===S?T:void 0},V=function(T){return C(function(B){return E===w?hs()-B:E===S?B:void 0}(T))};p.__private__.setPrecision=p.setPrecision=function(T){typeof parseInt(T,10)=="number"&&(e=parseInt(T,10))};var X,ne="00000000000000000000000000000000",oe=p.__private__.getFileId=function(){return ne},Y=p.__private__.setFileId=function(T){return ne=T!==void 0&&/^[a-fA-F0-9]{32}$/.test(T)?T.toUpperCase():ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Cn=new Yd(u.userPermissions,u.userPassword,u.ownerPassword,ne)),ne};p.setFileId=function(T){return Y(T),this},p.getFileId=function(){return oe()};var le=p.__private__.convertDateToPDFDate=function(T){var B=T.getTimezoneOffset(),re=B<0?"+":"-",de=Math.floor(Math.abs(B/60)),xe=Math.abs(B%60),Ie=[re,ee(de),"'",ee(xe),"'"].join("");return["D:",T.getFullYear(),ee(T.getMonth()+1),ee(T.getDate()),ee(T.getHours()),ee(T.getMinutes()),ee(T.getSeconds()),Ie].join("")},K=p.__private__.convertPDFDateToDate=function(T){var B=parseInt(T.substr(2,4),10),re=parseInt(T.substr(6,2),10)-1,de=parseInt(T.substr(8,2),10),xe=parseInt(T.substr(10,2),10),Ie=parseInt(T.substr(12,2),10),Le=parseInt(T.substr(14,2),10);return new Date(B,re,de,xe,Ie,Le,0)},H=p.__private__.setCreationDate=function(T){var B;if(T===void 0&&(T=new Date),T instanceof Date)B=le(T);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(T))throw new Error("Invalid argument passed to jsPDF.setCreationDate");B=T}return X=B},F=p.__private__.getCreationDate=function(T){var B=X;return T==="jsDate"&&(B=K(X)),B};p.setCreationDate=function(T){return H(T),this},p.getCreationDate=function(T){return F(T)};var q,ee=p.__private__.padd2=function(T){return("0"+parseInt(T)).slice(-2)},se=p.__private__.padd2Hex=function(T){return("00"+(T=T.toString())).substr(T.length)},ce=0,fe=[],ye=[],ue=0,be=[],Se=[],me=!1,Re=ye;p.__private__.setCustomOutputDestination=function(T){me=!0,Re=T};var Pe=function(T){me||(Re=T)};p.__private__.resetCustomOutputDestination=function(){me=!1,Re=ye};var J=p.__private__.out=function(T){return T=T.toString(),ue+=T.length+1,Re.push(T),Re},he=p.__private__.write=function(T){return J(arguments.length===1?T.toString():Array.prototype.join.call(arguments," "))},Fe=p.__private__.getArrayBuffer=function(T){for(var B=T.length,re=new ArrayBuffer(B),de=new Uint8Array(re);B--;)de[B]=T.charCodeAt(B);return re},qe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return qe};var je=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(T){return je=E===S?T/Nt:T,this};var Ke,We=p.__private__.getFontSize=p.getFontSize=function(){return E===w?je:je*Nt},Je=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(T){return Je=T,this},p.__private__.getR2L=p.getR2L=function(){return Je};var rt,zt=p.__private__.setZoomMode=function(T){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(T))Ke=T;else if(isNaN(T)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(T)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+T+'" is not recognized.');Ke=T}else Ke=parseInt(T,10)};p.__private__.getZoomMode=function(){return Ke};var Ct,st=p.__private__.setPageMode=function(T){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(T)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+T+'" is not recognized.');rt=T};p.__private__.getPageMode=function(){return rt};var vt=p.__private__.setLayoutMode=function(T){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(T)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+T+'" is not recognized.');Ct=T};p.__private__.getLayoutMode=function(){return Ct},p.__private__.setDisplayMode=p.setDisplayMode=function(T,B,re){return zt(T),vt(B),st(re),this};var Mt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(T){if(Object.keys(Mt).indexOf(T)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Mt[T]},p.__private__.getDocumentProperties=function(){return Mt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(T){for(var B in Mt)Mt.hasOwnProperty(B)&&T[B]&&(Mt[B]=T[B]);return this},p.__private__.setDocumentProperty=function(T,B){if(Object.keys(Mt).indexOf(T)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Mt[T]=B};var tt,Nt,ot,vn,qt,Ft={},Lt={},Dn=[],pt={},hn={},xt={},Tt={},pn=null,$t=0,mt=[],Wt=new hD(p),wo=t.hotfixes||[],Tr={},as={},Oi=[],bt=function T(B,re,de,xe,Ie,Le){if(!(this instanceof T))return new T(B,re,de,xe,Ie,Le);isNaN(B)&&(B=1),isNaN(re)&&(re=0),isNaN(de)&&(de=0),isNaN(xe)&&(xe=1),isNaN(Ie)&&(Ie=0),isNaN(Le)&&(Le=0),this._matrix=[B,re,de,xe,Ie,Le]};Object.defineProperty(bt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(bt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(bt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(bt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(bt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(bt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(bt.prototype,"a",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(bt.prototype,"b",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(bt.prototype,"c",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(bt.prototype,"d",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(bt.prototype,"e",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(bt.prototype,"f",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(bt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(bt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(bt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(bt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),bt.prototype.join=function(T){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(A).join(T)},bt.prototype.multiply=function(T){var B=T.sx*this.sx+T.shy*this.shx,re=T.sx*this.shy+T.shy*this.sy,de=T.shx*this.sx+T.sy*this.shx,xe=T.shx*this.shy+T.sy*this.sy,Ie=T.tx*this.sx+T.ty*this.shx+this.tx,Le=T.tx*this.shy+T.ty*this.sy+this.ty;return new bt(B,re,de,xe,Ie,Le)},bt.prototype.decompose=function(){var T=this.sx,B=this.shy,re=this.shx,de=this.sy,xe=this.tx,Ie=this.ty,Le=Math.sqrt(T*T+B*B),Xe=(T/=Le)*re+(B/=Le)*de;re-=T*Xe,de-=B*Xe;var lt=Math.sqrt(re*re+de*de);return Xe/=lt,T*(de/=lt)<B*(re/=lt)&&(T=-T,B=-B,Xe=-Xe,Le=-Le),{scale:new bt(Le,0,0,lt,0,0),translate:new bt(1,0,0,1,xe,Ie),rotate:new bt(T,B,-B,T,0,0),skew:new bt(1,0,Xe,1,0,0)}},bt.prototype.toString=function(T){return this.join(" ")},bt.prototype.inversed=function(){var T=this.sx,B=this.shy,re=this.shx,de=this.sy,xe=this.tx,Ie=this.ty,Le=1/(T*de-B*re),Xe=de*Le,lt=-B*Le,_t=-re*Le,It=T*Le;return new bt(Xe,lt,_t,It,-Xe*xe-_t*Ie,-lt*xe-It*Ie)},bt.prototype.applyToPoint=function(T){var B=T.x*this.sx+T.y*this.shx+this.tx,re=T.x*this.shy+T.y*this.sy+this.ty;return new fs(B,re)},bt.prototype.applyToRectangle=function(T){var B=this.applyToPoint(T),re=this.applyToPoint(new fs(T.x+T.w,T.y+T.h));return new Ec(B.x,B.y,re.x-B.x,re.y-B.y)},bt.prototype.clone=function(){var T=this.sx,B=this.shy,re=this.shx,de=this.sy,xe=this.tx,Ie=this.ty;return new bt(T,B,re,de,xe,Ie)},p.Matrix=bt;var qn=p.matrixMult=function(T,B){return B.multiply(T)},ss=new bt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=ss;var ai=function(T,B){if(!hn[T]){var re=(B instanceof Ef?"Sh":"P")+(Object.keys(pt).length+1).toString(10);B.id=re,hn[T]=re,pt[re]=B,Wt.publish("addPattern",B)}};p.ShadingPattern=Ef,p.TilingPattern=bh,p.addShadingPattern=function(T,B){return N("addShadingPattern()"),ai(T,B),this},p.beginTilingPattern=function(T){N("beginTilingPattern()"),ko(T.boundingBox[0],T.boundingBox[1],T.boundingBox[2]-T.boundingBox[0],T.boundingBox[3]-T.boundingBox[1],T.matrix)},p.endTilingPattern=function(T,B){N("endTilingPattern()"),B.stream=Se[q].join(`
`),ai(T,B),Wt.publish("endTilingPattern",B),Oi.pop().restore()};var si,Jn=p.__private__.newObject=function(){var T=Ur();return Zn(T,!0),T},Ur=p.__private__.newObjectDeferred=function(){return ce++,fe[ce]=function(){return ue},ce},Zn=function(T,B){return B=typeof B=="boolean"&&B,fe[T]=ue,B&&J(T+" 0 obj"),T},hl=p.__private__.newAdditionalObject=function(){var T={objId:Ur(),content:""};return be.push(T),T},_o=Ur(),Ri=Ur(),Ia=p.__private__.decodeColorString=function(T){var B=T.split(" ");if(B.length!==2||B[1]!=="g"&&B[1]!=="G")B.length!==5||B[4]!=="k"&&B[4]!=="K"||(B=[(1-B[0])*(1-B[3]),(1-B[1])*(1-B[3]),(1-B[2])*(1-B[3]),"r"]);else{var re=parseFloat(B[0]);B=[re,re,re,"r"]}for(var de="#",xe=0;xe<3;xe++)de+=("0"+Math.floor(255*parseFloat(B[xe])).toString(16)).slice(-2);return de},ra=p.__private__.encodeColorString=function(T){var B;typeof T=="string"&&(T={ch1:T});var re=T.ch1,de=T.ch2,xe=T.ch3,Ie=T.ch4,Le=T.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof re=="string"&&re.charAt(0)!=="#"){var Xe=new DW(re);if(Xe.ok)re=Xe.toHex();else if(!/^\d*\.?\d*$/.test(re))throw new Error('Invalid color "'+re+'" passed to jsPDF.encodeColorString.')}if(typeof re=="string"&&/^#[0-9A-Fa-f]{3}$/.test(re)&&(re="#"+re[1]+re[1]+re[2]+re[2]+re[3]+re[3]),typeof re=="string"&&/^#[0-9A-Fa-f]{6}$/.test(re)){var lt=parseInt(re.substr(1),16);re=lt>>16&255,de=lt>>8&255,xe=255&lt}if(de===void 0||Ie===void 0&&re===de&&de===xe)B=typeof re=="string"?re+" "+Le[0]:T.precision===2?k(re/255)+" "+Le[0]:j(re/255)+" "+Le[0];else if(Ie===void 0||An(Ie)==="object"){if(Ie&&!isNaN(Ie.a)&&Ie.a===0)return["1.","1.","1.",Le[1]].join(" ");B=typeof re=="string"?[re,de,xe,Le[1]].join(" "):T.precision===2?[k(re/255),k(de/255),k(xe/255),Le[1]].join(" "):[j(re/255),j(de/255),j(xe/255),Le[1]].join(" ")}else B=typeof re=="string"?[re,de,xe,Ie,Le[2]].join(" "):T.precision===2?[k(re),k(de),k(xe),k(Ie),Le[2]].join(" "):[j(re),j(de),j(xe),j(Ie),Le[2]].join(" ");return B},Mi=p.__private__.getFilters=function(){return s},kr=p.__private__.putStream=function(T){var B=(T=T||{}).data||"",re=T.filters||Mi(),de=T.alreadyAppliedFilters||[],xe=T.addLength1||!1,Ie=B.length,Le=T.objectId,Xe=function(yr){return yr};if(u!==null&&Le===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Xe=Cn.encryptor(Le,0));var lt={};re===!0&&(re=["FlateEncode"]);var _t=T.additionalKeyValues||[],It=(lt=ht.API.processDataByFilters!==void 0?ht.API.processDataByFilters(B,re):{data:B,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(lt.data.length!==0&&(_t.push({key:"Length",value:lt.data.length}),xe===!0&&_t.push({key:"Length1",value:Ie})),It.length!=0)if(It.split("/").length-1==1)_t.push({key:"Filter",value:It});else{_t.push({key:"Filter",value:"["+It+"]"});for(var Xt=0;Xt<_t.length;Xt+=1)if(_t[Xt].key==="DecodeParms"){for(var dn=[],ar=0;ar<lt.reverseChain.split("/").length-1;ar+=1)dn.push("null");dn.push(_t[Xt].value),_t[Xt].value="["+dn.join(" ")+"]"}}J("<<");for(var bn=0;bn<_t.length;bn++)J("/"+_t[bn].key+" "+_t[bn].value);J(">>"),lt.data.length!==0&&(J("stream"),J(Xe(lt.data)),J("endstream"))},So=p.__private__.putPage=function(T){var B=T.number,re=T.data,de=T.objId,xe=T.contentsObjId;Zn(de,!0),J("<</Type /Page"),J("/Parent "+T.rootDictionaryObjId+" 0 R"),J("/Resources "+T.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(A(T.mediaBox.bottomLeftX))+" "+parseFloat(A(T.mediaBox.bottomLeftY))+" "+A(T.mediaBox.topRightX)+" "+A(T.mediaBox.topRightY)+"]"),T.cropBox!==null&&J("/CropBox ["+A(T.cropBox.bottomLeftX)+" "+A(T.cropBox.bottomLeftY)+" "+A(T.cropBox.topRightX)+" "+A(T.cropBox.topRightY)+"]"),T.bleedBox!==null&&J("/BleedBox ["+A(T.bleedBox.bottomLeftX)+" "+A(T.bleedBox.bottomLeftY)+" "+A(T.bleedBox.topRightX)+" "+A(T.bleedBox.topRightY)+"]"),T.trimBox!==null&&J("/TrimBox ["+A(T.trimBox.bottomLeftX)+" "+A(T.trimBox.bottomLeftY)+" "+A(T.trimBox.topRightX)+" "+A(T.trimBox.topRightY)+"]"),T.artBox!==null&&J("/ArtBox ["+A(T.artBox.bottomLeftX)+" "+A(T.artBox.bottomLeftY)+" "+A(T.artBox.topRightX)+" "+A(T.artBox.topRightY)+"]"),typeof T.userUnit=="number"&&T.userUnit!==1&&J("/UserUnit "+T.userUnit),Wt.publish("putPage",{objId:de,pageContext:mt[B],pageNumber:B,page:re}),J("/Contents "+xe+" 0 R"),J(">>"),J("endobj");var Ie=re.join(`
`);return E===S&&(Ie+=`
Q`),Zn(xe,!0),kr({data:Ie,filters:Mi(),objectId:xe}),J("endobj"),de},Ca=p.__private__.putPages=function(){var T,B,re=[];for(T=1;T<=$t;T++)mt[T].objId=Ur(),mt[T].contentsObjId=Ur();for(T=1;T<=$t;T++)re.push(So({number:T,data:Se[T],objId:mt[T].objId,contentsObjId:mt[T].contentsObjId,mediaBox:mt[T].mediaBox,cropBox:mt[T].cropBox,bleedBox:mt[T].bleedBox,trimBox:mt[T].trimBox,artBox:mt[T].artBox,userUnit:mt[T].userUnit,rootDictionaryObjId:_o,resourceDictionaryObjId:Ri}));Zn(_o,!0),J("<</Type /Pages");var de="/Kids [";for(B=0;B<$t;B++)de+=re[B]+" 0 R ";J(de+"]"),J("/Count "+$t),J(">>"),J("endobj"),Wt.publish("postPutPages")},zs=function(T){Wt.publish("putFont",{font:T,out:J,newObject:Jn,putStream:kr}),T.isAlreadyPutted!==!0&&(T.objectNumber=Jn(),J("<<"),J("/Type /Font"),J("/BaseFont /"+Xd(T.postScriptName)),J("/Subtype /Type1"),typeof T.encoding=="string"&&J("/Encoding /"+T.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},Ao=function(T){T.objectNumber=Jn();var B=[];B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Form"}),B.push({key:"BBox",value:"["+[A(T.x),A(T.y),A(T.x+T.width),A(T.y+T.height)].join(" ")+"]"}),B.push({key:"Matrix",value:"["+T.matrix.toString()+"]"});var re=T.pages[1].join(`
`);kr({data:re,additionalKeyValues:B,objectId:T.objectNumber}),J("endobj")},pl=function(T,B){B||(B=21);var re=Jn(),de=function(Le,Xe){var lt,_t=[],It=1/(Xe-1);for(lt=0;lt<1;lt+=It)_t.push(lt);if(_t.push(1),Le[0].offset!=0){var Xt={offset:0,color:Le[0].color};Le.unshift(Xt)}if(Le[Le.length-1].offset!=1){var dn={offset:1,color:Le[Le.length-1].color};Le.push(dn)}for(var ar="",bn=0,yr=0;yr<_t.length;yr++){for(lt=_t[yr];lt>Le[bn+1].offset;)bn++;var sr=Le[bn].offset,vr=(lt-sr)/(Le[bn+1].offset-sr),or=Le[bn].color,ya=Le[bn+1].color;ar+=se(Math.round((1-vr)*or[0]+vr*ya[0]).toString(16))+se(Math.round((1-vr)*or[1]+vr*ya[1]).toString(16))+se(Math.round((1-vr)*or[2]+vr*ya[2]).toString(16))}return ar.trim()}(T.colors,B),xe=[];xe.push({key:"FunctionType",value:"0"}),xe.push({key:"Domain",value:"[0.0 1.0]"}),xe.push({key:"Size",value:"["+B+"]"}),xe.push({key:"BitsPerSample",value:"8"}),xe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),kr({data:de,additionalKeyValues:xe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:re}),J("endobj"),T.objectNumber=Jn(),J("<< /ShadingType "+T.type),J("/ColorSpace /DeviceRGB");var Ie="/Coords ["+A(parseFloat(T.coords[0]))+" "+A(parseFloat(T.coords[1]))+" ";T.type===2?Ie+=A(parseFloat(T.coords[2]))+" "+A(parseFloat(T.coords[3])):Ie+=A(parseFloat(T.coords[2]))+" "+A(parseFloat(T.coords[3]))+" "+A(parseFloat(T.coords[4]))+" "+A(parseFloat(T.coords[5])),J(Ie+="]"),T.matrix&&J("/Matrix ["+T.matrix.toString()+"]"),J("/Function "+re+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},ml=function(T,B){var re=Ur(),de=Jn();B.push({resourcesOid:re,objectOid:de}),T.objectNumber=de;var xe=[];xe.push({key:"Type",value:"/Pattern"}),xe.push({key:"PatternType",value:"1"}),xe.push({key:"PaintType",value:"1"}),xe.push({key:"TilingType",value:"1"}),xe.push({key:"BBox",value:"["+T.boundingBox.map(A).join(" ")+"]"}),xe.push({key:"XStep",value:A(T.xStep)}),xe.push({key:"YStep",value:A(T.yStep)}),xe.push({key:"Resources",value:re+" 0 R"}),T.matrix&&xe.push({key:"Matrix",value:"["+T.matrix.toString()+"]"}),kr({data:T.stream,additionalKeyValues:xe,objectId:T.objectNumber}),J("endobj")},cm=function(T){for(var B in T.objectNumber=Jn(),J("<<"),T)switch(B){case"opacity":J("/ca "+k(T[B]));break;case"stroke-opacity":J("/CA "+k(T[B]))}J(">>"),J("endobj")},No=function(T){Zn(T.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var B in J("/Font <<"),Ft)Ft.hasOwnProperty(B)&&(f===!1||f===!0&&h.hasOwnProperty(B))&&J("/"+B+" "+Ft[B].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(pt).length>0){for(var B in J("/Shading <<"),pt)pt.hasOwnProperty(B)&&pt[B]instanceof Ef&&pt[B].objectNumber>=0&&J("/"+B+" "+pt[B].objectNumber+" 0 R");Wt.publish("putShadingPatternDict"),J(">>")}}(),function(B){if(Object.keys(pt).length>0){for(var re in J("/Pattern <<"),pt)pt.hasOwnProperty(re)&&pt[re]instanceof p.TilingPattern&&pt[re].objectNumber>=0&&pt[re].objectNumber<B&&J("/"+re+" "+pt[re].objectNumber+" 0 R");Wt.publish("putTilingPatternDict"),J(">>")}}(T.objectOid),function(){if(Object.keys(xt).length>0){var B;for(B in J("/ExtGState <<"),xt)xt.hasOwnProperty(B)&&xt[B].objectNumber>=0&&J("/"+B+" "+xt[B].objectNumber+" 0 R");Wt.publish("putGStateDict"),J(">>")}}(),function(){for(var B in J("/XObject <<"),Tr)Tr.hasOwnProperty(B)&&Tr[B].objectNumber>=0&&J("/"+B+" "+Tr[B].objectNumber+" 0 R");Wt.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},Ju=function(T){Lt[T.fontName]=Lt[T.fontName]||{},Lt[T.fontName][T.fontStyle]=T.id},xc=function(T,B,re,de,xe){var Ie={id:"F"+(Object.keys(Ft).length+1).toString(10),postScriptName:T,fontName:B,fontStyle:re,encoding:de,isStandardFont:xe||!1,metadata:{}};return Wt.publish("addFont",{font:Ie,instance:this}),Ft[Ie.id]=Ie,Ju(Ie),Ie.id},oi=p.__private__.pdfEscape=p.pdfEscape=function(T,B){return function(re,de){var xe,Ie,Le,Xe,lt,_t,It,Xt,dn;if(Le=(de=de||{}).sourceEncoding||"Unicode",lt=de.outputEncoding,(de.autoencode||lt)&&Ft[tt].metadata&&Ft[tt].metadata[Le]&&Ft[tt].metadata[Le].encoding&&(Xe=Ft[tt].metadata[Le].encoding,!lt&&Ft[tt].encoding&&(lt=Ft[tt].encoding),!lt&&Xe.codePages&&(lt=Xe.codePages[0]),typeof lt=="string"&&(lt=Xe[lt]),lt)){for(It=!1,_t=[],xe=0,Ie=re.length;xe<Ie;xe++)(Xt=lt[re.charCodeAt(xe)])?_t.push(String.fromCharCode(Xt)):_t.push(re[xe]),_t[xe].charCodeAt(0)>>8&&(It=!0);re=_t.join("")}for(xe=re.length;It===void 0&&xe!==0;)re.charCodeAt(xe-1)>>8&&(It=!0),xe--;if(!It)return re;for(_t=de.noBOM?[]:[254,255],xe=0,Ie=re.length;xe<Ie;xe++){if((dn=(Xt=re.charCodeAt(xe))>>8)>>8)throw new Error("Character at position "+xe+" of string '"+re+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");_t.push(dn),_t.push(Xt-(dn<<8))}return String.fromCharCode.apply(void 0,_t)}(T,B).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ja=p.__private__.beginPage=function(T){Se[++$t]=[],mt[$t]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(T[0]),topRightY:Number(T[1])}},ef($t),Pe(Se[q])},wc=function(T,B){var re,de,xe;switch(n=B||n,typeof T=="string"&&(re=y(T.toLowerCase()),Array.isArray(re)&&(de=re[0],xe=re[1])),Array.isArray(T)&&(de=T[0]*Nt,xe=T[1]*Nt),isNaN(de)&&(de=i[0],xe=i[1]),(de>14400||xe>14400)&&(Rn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),xe=Math.min(14400,xe)),i=[de,xe],n.substr(0,1)){case"l":xe>de&&(i=[xe,de]);break;case"p":de>xe&&(i=[xe,de])}ja(i),wt(Sc),J(Ws),Tn!==0&&J(Tn+" J"),of!==0&&J(of+" j"),Wt.publish("addPage",{pageNumber:$t})},Zu=function(T){T>0&&T<=$t&&(Se.splice(T,1),mt.splice(T,1),$t--,q>$t&&(q=$t),this.setPage(q))},ef=function(T){T>0&&T<=$t&&(q=T)},tf=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Se.length-1},nf=function(T,B,re){var de,xe=void 0;return re=re||{},T=T!==void 0?T:Ft[tt].fontName,B=B!==void 0?B:Ft[tt].fontStyle,de=T.toLowerCase(),Lt[de]!==void 0&&Lt[de][B]!==void 0?xe=Lt[de][B]:Lt[T]!==void 0&&Lt[T][B]!==void 0?xe=Lt[T][B]:re.disableWarning===!1&&Rn.warn("Unable to look up font label for font '"+T+"', '"+B+"'. Refer to getFontList() for available fonts."),xe||re.noFallback||(xe=Lt.times[B])==null&&(xe=Lt.times.normal),xe},ma=p.__private__.putInfo=function(){var T=Jn(),B=function(de){return de};for(var re in u!==null&&(B=Cn.encryptor(T,0)),J("<<"),J("/Producer ("+oi(B("jsPDF "+ht.version))+")"),Mt)Mt.hasOwnProperty(re)&&Mt[re]&&J("/"+re.substr(0,1).toUpperCase()+re.substr(1)+" ("+oi(B(Mt[re]))+")");J("/CreationDate ("+oi(B(X))+")"),J(">>"),J("endobj")},Eo=p.__private__.putCatalog=function(T){var B=(T=T||{}).rootDictionaryObjId||_o;switch(Jn(),J("<<"),J("/Type /Catalog"),J("/Pages "+B+" 0 R"),Ke||(Ke="fullwidth"),Ke){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var re=""+Ke;re.substr(re.length-1)==="%"&&(Ke=parseInt(Ke)/100),typeof Ke=="number"&&J("/OpenAction [3 0 R /XYZ null null "+k(Ke)+"]")}switch(Ct||(Ct="continuous"),Ct){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}rt&&J("/PageMode /"+rt),Wt.publish("putCatalog"),J(">>"),J("endobj")},Nd=p.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(ce+1)),J("/Root "+ce+" 0 R"),J("/Info "+(ce-1)+" 0 R"),u!==null&&J("/Encrypt "+Cn.oid+" 0 R"),J("/ID [ <"+ne+"> <"+ne+"> ]"),J(">>")},ir=p.__private__.putHeader=function(){J("%PDF-"+b),J("%")},Ed=p.__private__.putXRef=function(){var T="0000000000";J("xref"),J("0 "+(ce+1)),J("0000000000 65535 f ");for(var B=1;B<=ce;B++)typeof fe[B]=="function"?J((T+fe[B]()).slice(-10)+" 00000 n "):fe[B]!==void 0?J((T+fe[B]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},os=p.__private__.buildDocument=function(){var T;ce=0,ue=0,ye=[],fe=[],be=[],_o=Ur(),Ri=Ur(),Pe(ye),Wt.publish("buildDocument"),ir(),Ca(),function(){Wt.publish("putAdditionalObjects");for(var re=0;re<be.length;re++){var de=be[re];Zn(de.objId,!0),J(de.content),J("endobj")}Wt.publish("postPutAdditionalObjects")}(),T=[],function(){for(var re in Ft)Ft.hasOwnProperty(re)&&(f===!1||f===!0&&h.hasOwnProperty(re))&&zs(Ft[re])}(),function(){var re;for(re in xt)xt.hasOwnProperty(re)&&cm(xt[re])}(),function(){for(var re in Tr)Tr.hasOwnProperty(re)&&Ao(Tr[re])}(),function(re){var de;for(de in pt)pt.hasOwnProperty(de)&&(pt[de]instanceof Ef?pl(pt[de]):pt[de]instanceof bh&&ml(pt[de],re))}(T),Wt.publish("putResources"),T.forEach(No),No({resourcesOid:Ri,objectOid:Number.MAX_SAFE_INTEGER}),Wt.publish("postPutResources"),u!==null&&(Cn.oid=Jn(),J("<<"),J("/Filter /Standard"),J("/V "+Cn.v),J("/R "+Cn.r),J("/U <"+Cn.toHexString(Cn.U)+">"),J("/O <"+Cn.toHexString(Cn.O)+">"),J("/P "+Cn.P),J(">>"),J("endobj")),ma(),Eo();var B=ue;return Ed(),Nd(),J("startxref"),J(""+B),J("%%EOF"),Pe(Se[q]),ye.join(`
`)},gl=p.__private__.getBlob=function(T){return new Blob([Fe(T)],{type:"application/pdf"})},rf=p.output=p.__private__.output=(si=function(T,B){switch(typeof(B=B||{})=="string"?B={filename:B}:B.filename=B.filename||"generated.pdf",T){case void 0:return os();case"save":p.save(B.filename);break;case"arraybuffer":return Fe(os());case"blob":return gl(os());case"bloburi":case"bloburl":if(Pt.URL!==void 0&&typeof Pt.URL.createObjectURL=="function")return Pt.URL&&Pt.URL.createObjectURL(gl(os()))||void 0;Rn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var re="",de=os();try{re=uD(de)}catch{re=uD(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+B.filename+";base64,"+re;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Pt)==="[object Window]"){var xe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ie=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';B.pdfObjectUrl&&(xe=B.pdfObjectUrl,Ie="");var Le='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+xe+'"'+Ie+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(B)+");<\/script></body></html>",Xe=Pt.open();return Xe!==null&&Xe.document.write(Le),Xe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Pt)==="[object Window]"){var lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(B.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+B.filename+'" width="500px" height="400px" /></body></html>',_t=Pt.open();if(_t!==null){_t.document.write(lt);var It=this;_t.document.documentElement.querySelector("#pdfViewer").onload=function(){_t.document.title=B.filename,_t.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(It.output("bloburl"))}}return _t}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Pt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",B)+'"></iframe></body></html>',dn=Pt.open();if(dn!==null&&(dn.document.write(Xt),dn.document.title=B.filename),dn||typeof safari>"u")return dn;break;case"datauri":case"dataurl":return Pt.document.location.href=this.output("datauristring",B);default:return null}},si.foo=function(){try{return si.apply(this,arguments)}catch(re){var T=re.stack||"";~T.indexOf(" at ")&&(T=T.split(" at ")[1]);var B="Error in function "+T.split(`
`)[0].split("<")[0]+": "+re.message;if(!Pt.console)throw new Error(B);Pt.console.error(B,re),Pt.alert&&alert(B)}},si.foo.bar=si,si.foo),ga=function(T){return Array.isArray(wo)===!0&&wo.indexOf(T)>-1};switch(r){case"pt":Nt=1;break;case"mm":Nt=72/25.4;break;case"cm":Nt=72/2.54;break;case"in":Nt=72;break;case"px":Nt=ga("px_scaling")==1?.75:96/72;break;case"pc":case"em":Nt=12;break;case"ex":Nt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Nt=r}var Cn=null;H(),Y();var Kr=p.__private__.getPageInfo=p.getPageInfo=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:mt[T].objId,pageNumber:T,pageContext:mt[T]}},yl=p.__private__.getPageInfoByObjId=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var B in mt)if(mt[B].objId===T)break;return Kr(B)},_c=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:mt[q].objId,pageNumber:q,pageContext:mt[q]}};p.addPage=function(){return wc.apply(this,arguments),this},p.setPage=function(){return ef.apply(this,arguments),Pe.call(this,Se[q]),this},p.insertPage=function(T){return this.addPage(),this.movePage(q,T),this},p.movePage=function(T,B){var re,de;if(T>B){re=Se[T],de=mt[T];for(var xe=T;xe>B;xe--)Se[xe]=Se[xe-1],mt[xe]=mt[xe-1];Se[B]=re,mt[B]=de,this.setPage(B)}else if(T<B){re=Se[T],de=mt[T];for(var Ie=T;Ie<B;Ie++)Se[Ie]=Se[Ie+1],mt[Ie]=mt[Ie+1];Se[B]=re,mt[B]=de,this.setPage(B)}return this},p.deletePage=function(){return Zu.apply(this,arguments),this},p.__private__.text=p.text=function(T,B,re,de,xe){var Ie,Le,Xe,lt,_t,It,Xt,dn,ar,bn=(de=de||{}).scope||this;if(typeof T=="number"&&typeof B=="number"&&(typeof re=="string"||Array.isArray(re))){var yr=re;re=B,B=T,T=yr}if(arguments[3]instanceof bt==0?(Xe=arguments[4],lt=arguments[5],An(Xt=arguments[3])==="object"&&Xt!==null||(typeof Xe=="string"&&(lt=Xe,Xe=null),typeof Xt=="string"&&(lt=Xt,Xt=null),typeof Xt=="number"&&(Xe=Xt,Xt=null),de={flags:Xt,angle:Xe,align:lt})):(N("The transform parameter of text() with a Matrix value"),ar=xe),isNaN(B)||isNaN(re)||T==null)throw new Error("Invalid arguments passed to jsPDF.text");if(T.length===0)return bn;var sr,vr="",or=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:To,ya=bn.internal.scaleFactor;function ps(mn){return mn=mn.split("	").join(Array(de.TabLen||9).join(" ")),oi(mn,Xt)}function ms(mn){for(var jn,Cr=mn.concat(),Yr=[],Sl=Cr.length;Sl--;)typeof(jn=Cr.shift())=="string"?Yr.push(jn):Array.isArray(mn)&&(jn.length===1||jn[1]===void 0&&jn[2]===void 0)?Yr.push(jn[0]):Yr.push([jn[0],jn[1],jn[2]]);return Yr}function g(mn,jn){var Cr;if(typeof mn=="string")Cr=jn(mn)[0];else if(Array.isArray(mn)){for(var Yr,Sl,Sm=mn.concat(),Rd=[],Xv=Sm.length;Xv--;)typeof(Yr=Sm.shift())=="string"?Rd.push(jn(Yr)[0]):Array.isArray(Yr)&&typeof Yr[0]=="string"&&(Sl=jn(Yr[0],Yr[1],Yr[2]),Rd.push([Sl[0],Sl[1],Sl[2]]));Cr=Rd}return Cr}var L=!1,$=!0;if(typeof T=="string")L=!0;else if(Array.isArray(T)){var Z=T.concat();Le=[];for(var we,Ee=Z.length;Ee--;)(typeof(we=Z.shift())!="string"||Array.isArray(we)&&typeof we[0]!="string")&&($=!1);L=$}if(L===!1)throw new Error('Type of text must be string or Array. "'+T+'" is not recognized.');typeof T=="string"&&(T=T.match(/[\r?\n]/)?T.split(/\r\n|\r|\n/g):[T]);var Ue=je/bn.internal.scaleFactor,Zt=Ue*(or-1);switch(de.baseline){case"bottom":re-=Zt;break;case"top":re+=Ue-Zt;break;case"hanging":re+=Ue-2*Zt;break;case"middle":re+=Ue/2-Zt}if((It=de.maxWidth||0)>0&&(typeof T=="string"?T=bn.splitTextToSize(T,It):Object.prototype.toString.call(T)==="[object Array]"&&(T=T.reduce(function(mn,jn){return mn.concat(bn.splitTextToSize(jn,It))},[]))),Ie={text:T,x:B,y:re,options:de,mutex:{pdfEscape:oi,activeFontKey:tt,fonts:Ft,activeFontSize:je}},Wt.publish("preProcessText",Ie),T=Ie.text,Xe=(de=Ie.options).angle,ar instanceof bt==0&&Xe&&typeof Xe=="number"){Xe*=Math.PI/180,de.rotationDirection===0&&(Xe=-Xe),E===S&&(Xe=-Xe);var lr=Math.cos(Xe),Ht=Math.sin(Xe);ar=new bt(lr,Ht,-Ht,lr,0,0)}else Xe&&Xe instanceof bt&&(ar=Xe);E!==S||ar||(ar=ss),(_t=de.charSpace||us)!==void 0&&(vr+=A(C(_t))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(dn=de.horizontalScale)!==void 0&&(vr+=A(100*dn)+` Tz
`),de.lang;var cn=-1,Fn=de.renderingMode!==void 0?de.renderingMode:de.stroke,Ra=bn.internal.getCurrentPageInfo().pageContext;switch(Fn){case 0:case!1:case"fill":cn=0;break;case 1:case!0:case"stroke":cn=1;break;case 2:case"fillThenStroke":cn=2;break;case 3:case"invisible":cn=3;break;case 4:case"fillAndAddForClipping":cn=4;break;case 5:case"strokeAndAddPathForClipping":cn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":cn=6;break;case 7:case"addToPathForClipping":cn=7}var Li=Ra.usedRenderingMode!==void 0?Ra.usedRenderingMode:-1;cn!==-1?vr+=cn+` Tr
`:Li!==-1&&(vr+=`0 Tr
`),cn!==-1&&(Ra.usedRenderingMode=cn),lt=de.align||"left";var bi,Hs=je*or,gm=bn.internal.pageSize.getWidth(),ym=Ft[tt];_t=de.charSpace||us,It=de.maxWidth||0,Xt=Object.assign({autoencode:!0,noBOM:!0},de.flags);var Tc=[],uf=function(mn){return bn.getStringUnitWidth(mn,{font:ym,charSpace:_t,fontSize:je,doKerning:!1})*je/ya};if(Object.prototype.toString.call(T)==="[object Array]"){var Ma;Le=ms(T),lt!=="left"&&(bi=Le.map(uf));var La,kc=0;if(lt==="right"){B-=bi[0],T=[],Ee=Le.length;for(var _l=0;_l<Ee;_l++)_l===0?(La=li(B),Ma=qs(re)):(La=C(kc-bi[_l]),Ma=-Hs),T.push([Le[_l],La,Ma]),kc=bi[_l]}else if(lt==="center"){B-=bi[0]/2,T=[],Ee=Le.length;for(var Ic=0;Ic<Ee;Ic++)Ic===0?(La=li(B),Ma=qs(re)):(La=C((kc-bi[Ic])/2),Ma=-Hs),T.push([Le[Ic],La,Ma]),kc=bi[Ic]}else if(lt==="left"){T=[],Ee=Le.length;for(var vm=0;vm<Ee;vm++)T.push(Le[vm])}else if(lt==="justify"&&ym.encoding==="Identity-H"){T=[],Ee=Le.length,It=It!==0?It:gm;for(var Od=0,Ir=0;Ir<Ee;Ir++)if(Ma=Ir===0?qs(re):-Hs,La=Ir===0?li(B):Od,Ir<Ee-1){var Yv=C((It-bi[Ir])/(Le[Ir].split(" ").length-1)),Co=Le[Ir].split(" ");T.push([Co[0]+" ",La,Ma]),Od=0;for(var jo=1;jo<Co.length;jo++){var bm=(uf(Co[jo-1]+" "+Co[jo])-uf(Co[jo]))*ya+Yv;jo==Co.length-1?T.push([Co[jo],bm,0]):T.push([Co[jo]+" ",bm,0]),Od-=bm}}else T.push([Le[Ir],La,Ma]);T.push(["",Od,0])}else{if(lt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(T=[],Ee=Le.length,It=It!==0?It:gm,Ir=0;Ir<Ee;Ir++){Ma=Ir===0?qs(re):-Hs,La=Ir===0?li(B):0;var xm=Le[Ir].split(" ").length-1,wm=xm>0?(It-bi[Ir])/xm:0;Ir<Ee-1?Tc.push(A(C(wm))):Tc.push(0),T.push([Le[Ir],La,Ma])}}}(typeof de.R2L=="boolean"?de.R2L:Je)===!0&&(T=g(T,function(mn,jn,Cr){return[mn.split("").reverse().join(""),jn,Cr]})),Ie={text:T,x:B,y:re,options:de,mutex:{pdfEscape:oi,activeFontKey:tt,fonts:Ft,activeFontSize:je}},Wt.publish("postProcessText",Ie),T=Ie.text,sr=Ie.mutex.isHex||!1;var _m=Ft[tt].encoding;_m!=="WinAnsiEncoding"&&_m!=="StandardEncoding"||(T=g(T,function(mn,jn,Cr){return[ps(mn),jn,Cr]})),Le=ms(T),T=[];for(var Cc,jc,Oc,ff=Array.isArray(Le[0])?1:0,Rc="",df=function(mn,jn,Cr){var Yr="";return Cr instanceof bt?(Cr=typeof de.angle=="number"?qn(Cr,new bt(1,0,0,1,mn,jn)):qn(new bt(1,0,0,1,mn,jn),Cr),E===S&&(Cr=qn(new bt(1,0,0,-1,0,0),Cr)),Yr=Cr.join(" ")+` Tm
`):Yr=A(mn)+" "+A(jn)+` Td
`,Yr},gs=0;gs<Le.length;gs++){switch(Rc="",ff){case 1:Oc=(sr?"<":"(")+Le[gs][0]+(sr?">":")"),Cc=parseFloat(Le[gs][1]),jc=parseFloat(Le[gs][2]);break;case 0:Oc=(sr?"<":"(")+Le[gs]+(sr?">":")"),Cc=li(B),jc=qs(re)}Tc!==void 0&&Tc[gs]!==void 0&&(Rc=Tc[gs]+` Tw
`),gs===0?T.push(Rc+df(Cc,jc,ar)+Oc):ff===0?T.push(Rc+Oc):ff===1&&T.push(Rc+df(Cc,jc,ar)+Oc)}T=ff===0?T.join(` Tj
T* `):T.join(` Tj
`),T+=` Tj
`;var Oo=`BT
/`;return Oo+=tt+" "+je+` Tf
`,Oo+=A(je*or)+` TL
`,Oo+=Oa+`
`,Oo+=vr,Oo+=T,J(Oo+="ET"),h[tt]=!0,bn};var Pd=p.__private__.clip=p.clip=function(T){return J(T==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Pd("evenodd")},p.__private__.discardPath=p.discardPath=function(){return J("n"),this};var Yt=p.__private__.isValidStyle=function(T){var B=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(T)!==-1&&(B=!0),B};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(T){return Yt(T)&&(c=T),this};var vl=p.__private__.getStyle=p.getStyle=function(T){var B=c;switch(T){case"D":case"S":B="S";break;case"F":B="f";break;case"FD":case"DF":B="B";break;case"f":case"f*":case"B":case"B*":B=T}return B},Po=p.close=function(){return J("h"),this};p.stroke=function(){return J("S"),this},p.fill=function(T){return ls("f",T),this},p.fillEvenOdd=function(T){return ls("f*",T),this},p.fillStroke=function(T){return ls("B",T),this},p.fillStrokeEvenOdd=function(T){return ls("B*",T),this};var ls=function(T,B){An(B)==="object"?um(B,T):J(T)},bl=function(T){T===null||E===S&&T===void 0||(T=vl(T),J(T))};function Td(T,B,re,de,xe){var Ie=new bh(B||this.boundingBox,re||this.xStep,de||this.yStep,this.gState,xe||this.matrix);Ie.stream=this.stream;var Le=T+"$$"+this.cloneIndex+++"$$";return ai(Le,Ie),Ie}var um=function(T,B){var re=hn[T.key],de=pt[re];if(de instanceof Ef)J("q"),J(fm(B)),de.gState&&p.setGState(de.gState),J(T.matrix.toString()+" cm"),J("/"+re+" sh"),J("Q");else if(de instanceof bh){var xe=new bt(1,0,0,-1,0,hs());T.matrix&&(xe=xe.multiply(T.matrix||ss),re=Td.call(de,T.key,T.boundingBox,T.xStep,T.yStep,xe).id),J("q"),J("/Pattern cs"),J("/"+re+" scn"),de.gState&&p.setGState(de.gState),J(B),J("Q")}},fm=function(T){switch(T){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},af=p.moveTo=function(T,B){return J(A(C(T))+" "+A(V(B))+" m"),this},kd=p.lineTo=function(T,B){return J(A(C(T))+" "+A(V(B))+" l"),this},vi=p.curveTo=function(T,B,re,de,xe,Ie){return J([A(C(T)),A(V(B)),A(C(re)),A(V(de)),A(C(xe)),A(V(Ie)),"c"].join(" ")),this};p.__private__.line=p.line=function(T,B,re,de,xe){if(isNaN(T)||isNaN(B)||isNaN(re)||isNaN(de)||!Yt(xe))throw new Error("Invalid arguments passed to jsPDF.line");return E===w?this.lines([[re-T,de-B]],T,B,[1,1],xe||"S"):this.lines([[re-T,de-B]],T,B,[1,1]).stroke()},p.__private__.lines=p.lines=function(T,B,re,de,xe,Ie){var Le,Xe,lt,_t,It,Xt,dn,ar,bn,yr,sr,vr;if(typeof T=="number"&&(vr=re,re=B,B=T,T=vr),de=de||[1,1],Ie=Ie||!1,isNaN(B)||isNaN(re)||!Array.isArray(T)||!Array.isArray(de)||!Yt(xe)||typeof Ie!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(af(B,re),Le=de[0],Xe=de[1],_t=T.length,yr=B,sr=re,lt=0;lt<_t;lt++)(It=T[lt]).length===2?(yr=It[0]*Le+yr,sr=It[1]*Xe+sr,kd(yr,sr)):(Xt=It[0]*Le+yr,dn=It[1]*Xe+sr,ar=It[2]*Le+yr,bn=It[3]*Xe+sr,yr=It[4]*Le+yr,sr=It[5]*Xe+sr,vi(Xt,dn,ar,bn,yr,sr));return Ie&&Po(),bl(xe),this},p.path=function(T){for(var B=0;B<T.length;B++){var re=T[B],de=re.c;switch(re.op){case"m":af(de[0],de[1]);break;case"l":kd(de[0],de[1]);break;case"c":vi.apply(this,de);break;case"h":Po()}}return this},p.__private__.rect=p.rect=function(T,B,re,de,xe){if(isNaN(T)||isNaN(B)||isNaN(re)||isNaN(de)||!Yt(xe))throw new Error("Invalid arguments passed to jsPDF.rect");return E===w&&(de=-de),J([A(C(T)),A(V(B)),A(C(re)),A(C(de)),"re"].join(" ")),bl(xe),this},p.__private__.triangle=p.triangle=function(T,B,re,de,xe,Ie,Le){if(isNaN(T)||isNaN(B)||isNaN(re)||isNaN(de)||isNaN(xe)||isNaN(Ie)||!Yt(Le))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[re-T,de-B],[xe-re,Ie-de],[T-xe,B-Ie]],T,B,[1,1],Le,!0),this},p.__private__.roundedRect=p.roundedRect=function(T,B,re,de,xe,Ie,Le){if(isNaN(T)||isNaN(B)||isNaN(re)||isNaN(de)||isNaN(xe)||isNaN(Ie)||!Yt(Le))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Xe=4/3*(Math.SQRT2-1);return xe=Math.min(xe,.5*re),Ie=Math.min(Ie,.5*de),this.lines([[re-2*xe,0],[xe*Xe,0,xe,Ie-Ie*Xe,xe,Ie],[0,de-2*Ie],[0,Ie*Xe,-xe*Xe,Ie,-xe,Ie],[2*xe-re,0],[-xe*Xe,0,-xe,-Ie*Xe,-xe,-Ie],[0,2*Ie-de],[0,-Ie*Xe,xe*Xe,-Ie,xe,-Ie]],T+xe,B,[1,1],Le,!0),this},p.__private__.ellipse=p.ellipse=function(T,B,re,de,xe){if(isNaN(T)||isNaN(B)||isNaN(re)||isNaN(de)||!Yt(xe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ie=4/3*(Math.SQRT2-1)*re,Le=4/3*(Math.SQRT2-1)*de;return af(T+re,B),vi(T+re,B-Le,T+Ie,B-de,T,B-de),vi(T-Ie,B-de,T-re,B-Le,T-re,B),vi(T-re,B+Le,T-Ie,B+de,T,B+de),vi(T+Ie,B+de,T+re,B+Le,T+re,B),bl(xe),this},p.__private__.circle=p.circle=function(T,B,re,de){if(isNaN(T)||isNaN(B)||isNaN(re)||!Yt(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(T,B,re,re,de)},p.setFont=function(T,B,re){return re&&(B=I(B,re)),tt=nf(T,B,{disableWarning:!1}),this};var cs=p.__private__.getFont=p.getFont=function(){return Ft[nf.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var T,B,re={};for(T in Lt)if(Lt.hasOwnProperty(T))for(B in re[T]=[],Lt[T])Lt[T].hasOwnProperty(B)&&re[T].push(B);return re},p.addFont=function(T,B,re,de,xe){var Ie=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ie.indexOf(arguments[3])!==-1?xe=arguments[3]:arguments[3]&&Ie.indexOf(arguments[3])==-1&&(re=I(re,de)),xc.call(this,T,B,re,xe=xe||"Identity-H")};var To,Sc=t.lineWidth||.200025,Id=p.__private__.getLineWidth=p.getLineWidth=function(){return Sc},wt=p.__private__.setLineWidth=p.setLineWidth=function(T){return Sc=T,J(A(C(T))+" w"),this};p.__private__.setLineDash=ht.API.setLineDash=ht.API.setLineDashPattern=function(T,B){if(T=T||[],B=B||0,isNaN(B)||!Array.isArray(T))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return T=T.map(function(re){return A(C(re))}).join(" "),B=A(C(B)),J("["+T+"] "+B+" d"),this};var dm=p.__private__.getLineHeight=p.getLineHeight=function(){return je*To};p.__private__.getLineHeight=p.getLineHeight=function(){return je*To};var hm=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(T){return typeof(T=T||1.15)=="number"&&(To=T),this},pm=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return To};hm(t.lineHeight);var li=p.__private__.getHorizontalCoordinate=function(T){return C(T)},qs=p.__private__.getVerticalCoordinate=function(T){return E===S?T:mt[q].mediaBox.topRightY-mt[q].mediaBox.bottomLeftY-C(T)},mm=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(T){return A(li(T))},Ac=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(T){return A(qs(T))},Ws=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Ia(Ws)},p.__private__.setStrokeColor=p.setDrawColor=function(T,B,re,de){return Ws=ra({ch1:T,ch2:B,ch3:re,ch4:de,pdfColorType:"draw",precision:2}),J(Ws),this};var Nc=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Ia(Nc)},p.__private__.setFillColor=p.setFillColor=function(T,B,re,de){return Nc=ra({ch1:T,ch2:B,ch3:re,ch4:de,pdfColorType:"fill",precision:2}),J(Nc),this};var Oa=t.textColor||"0 g",xl=p.__private__.getTextColor=p.getTextColor=function(){return Ia(Oa)};p.__private__.setTextColor=p.setTextColor=function(T,B,re,de){return Oa=ra({ch1:T,ch2:B,ch3:re,ch4:de,pdfColorType:"text",precision:3}),this};var us=t.charSpace,sf=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(us||0)};p.__private__.setCharSpace=p.setCharSpace=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return us=T,this};var Tn=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(T){var B=p.CapJoinStyles[T];if(B===void 0)throw new Error("Line cap style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Tn=B,J(B+" J"),this};var of=0;p.__private__.setLineJoin=p.setLineJoin=function(T){var B=p.CapJoinStyles[T];if(B===void 0)throw new Error("Line join style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return of=B,J(B+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(T){if(T=T||0,isNaN(T))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(A(C(T))+" M"),this},p.GState=Kx,p.setGState=function(T){(T=typeof T=="string"?xt[Tt[T]]:Cd(null,T)).equals(pn)||(J("/"+T.id+" gs"),pn=T)};var Cd=function(T,B){if(!T||!Tt[T]){var re=!1;for(var de in xt)if(xt.hasOwnProperty(de)&&xt[de].equals(B)){re=!0;break}if(re)B=xt[de];else{var xe="GS"+(Object.keys(xt).length+1).toString(10);xt[xe]=B,B.id=xe}return T&&(Tt[T]=B.id),Wt.publish("addGState",B),B}};p.addGState=function(T,B){return Cd(T,B),this},p.saveGraphicsState=function(){return J("q"),Dn.push({key:tt,size:je,color:Oa}),this},p.restoreGraphicsState=function(){J("Q");var T=Dn.pop();return tt=T.key,je=T.size,Oa=T.color,pn=null,this},p.setCurrentTransformationMatrix=function(T){return J(T.toString()+" cm"),this},p.comment=function(T){return J("#"+T),this};var fs=function(T,B){var re=T||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return re},set:function(Ie){isNaN(Ie)||(re=parseFloat(Ie))}});var de=B||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(Ie){isNaN(Ie)||(de=parseFloat(Ie))}});var xe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return xe},set:function(Ie){xe=Ie.toString()}}),this},Ec=function(T,B,re,de){fs.call(this,T,B),this.type="rect";var xe=re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return xe},set:function(Le){isNaN(Le)||(xe=parseFloat(Le))}});var Ie=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ie},set:function(Le){isNaN(Le)||(Ie=parseFloat(Le))}}),this},wl=function(){this.page=$t,this.currentPage=q,this.pages=Se.slice(0),this.pagesContext=mt.slice(0),this.x=ot,this.y=vn,this.matrix=qt,this.width=ia(q),this.height=jd(q),this.outputDestination=Re,this.id="",this.objectNumber=-1};wl.prototype.restore=function(){$t=this.page,q=this.currentPage,mt=this.pagesContext,Se=this.pages,ot=this.x,vn=this.y,qt=this.matrix,lf(q,this.width),aa(q,this.height),Re=this.outputDestination};var ko=function(T,B,re,de,xe){Oi.push(new wl),$t=q=0,Se=[],ot=T,vn=B,qt=xe,ja([re,de])};for(var Io in p.beginFormObject=function(T,B,re,de,xe){return ko(T,B,re,de,xe),this},p.endFormObject=function(T){return function(B){if(as[B])Oi.pop().restore();else{var re=new wl,de="Xo"+(Object.keys(Tr).length+1).toString(10);re.id=de,as[B]=de,Tr[de]=re,Wt.publish("addFormObject",re),Oi.pop().restore()}}(T),this},p.doFormObject=function(T,B){var re=Tr[as[T]];return J("q"),J(B.toString()+" cm"),J("/"+re.id+" Do"),J("Q"),this},p.getFormObject=function(T){var B=Tr[as[T]];return{x:B.x,y:B.y,width:B.width,height:B.height,matrix:B.matrix}},p.save=function(T,B){return T=T||"generated.pdf",(B=B||{}).returnPromise=B.returnPromise||!1,B.returnPromise===!1?(Nf(gl(os()),T),typeof Nf.unload=="function"&&Pt.setTimeout&&setTimeout(Nf.unload,911),this):new Promise(function(re,de){try{var xe=Nf(gl(os()),T);typeof Nf.unload=="function"&&Pt.setTimeout&&setTimeout(Nf.unload,911),re(xe)}catch(Ie){de(Ie.message)}})},ht.API)ht.API.hasOwnProperty(Io)&&(Io==="events"&&ht.API.events.length?function(T,B){var re,de,xe;for(xe=B.length-1;xe!==-1;xe--)re=B[xe][0],de=B[xe][1],T.subscribe.apply(T,[re].concat(typeof de=="function"?[de]:de))}(Wt,ht.API.events):p[Io]=ht.API[Io]);function ia(T){return mt[T].mediaBox.topRightX-mt[T].mediaBox.bottomLeftX}function lf(T,B){mt[T].mediaBox.topRightX=B+mt[T].mediaBox.bottomLeftX}function jd(T){return mt[T].mediaBox.topRightY-mt[T].mediaBox.bottomLeftY}function aa(T,B){mt[T].mediaBox.topRightY=B+mt[T].mediaBox.bottomLeftY}var ds=p.getPageWidth=function(T){return ia(T=T||q)/Nt},Pc=p.setPageWidth=function(T,B){lf(T,B*Nt)},hs=p.getPageHeight=function(T){return jd(T=T||q)/Nt},cf=p.setPageHeight=function(T,B){aa(T,B*Nt)};return p.internal={pdfEscape:oi,getStyle:vl,getFont:cs,getFontSize:We,getCharSpace:sf,getTextColor:xl,getLineHeight:dm,getLineHeightFactor:pm,getLineWidth:Id,write:he,getHorizontalCoordinate:li,getVerticalCoordinate:qs,getCoordinateString:mm,getVerticalCoordinateString:Ac,collections:{},newObject:Jn,newAdditionalObject:hl,newObjectDeferred:Ur,newObjectDeferredBegin:Zn,getFilters:Mi,putStream:kr,events:Wt,scaleFactor:Nt,pageSize:{getWidth:function(){return ds(q)},setWidth:function(T){Pc(q,T)},getHeight:function(){return hs(q)},setHeight:function(T){cf(q,T)}},encryptionOptions:u,encryption:Cn,getEncryptor:function(T){return u!==null?Cn.encryptor(T,0):function(B){return B}},output:rf,getNumberOfPages:tf,get pages(){return Se},out:J,f2:k,f3:j,getPageInfo:Kr,getPageInfoByObjId:yl,getCurrentPageInfo:_c,getPDFVersion:x,Point:fs,Rectangle:Ec,Matrix:bt,hasHotfix:ga},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return ds(q)},set:function(T){Pc(q,T)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return hs(q)},set:function(T){cf(q,T)},enumerable:!0,configurable:!0}),(function(T){for(var B=0,re=qe.length;B<re;B++){var de=xc.call(this,T[B][0],T[B][1],T[B][2],qe[B][3],!0);f===!1&&(h[de]=!0);var xe=T[B][0].split("-");Ju({id:de,fontName:xe[0],fontStyle:xe[1]||""})}Wt.publish("addFonts",{fonts:Ft,dictionary:Lt})}).call(p,qe),tt="F1",wc(i,n),Wt.publish("initialized"),p}Yd.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Yd.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Yd.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Yd.prototype.processOwnerPassword=function(t,e){return SE(_E(e).substr(0,5),t)},Yd.prototype.encryptor=function(t,e){var n=_E(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return SE(n,r)}},Kx.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||An(t)!==An(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ht.API={events:[]},ht.version="4.2.0";var wr=ht.API,Rk=1,Ad=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zd=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ud=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var n=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(n.length===1?"0"+n:n)})},jt=function(t){return t.toFixed(2)},Wc=function(t){return t.toFixed(5)};wr.__acroform__={};var ka=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},pD=function(t){return t*Rk},Fo=function(t){var e=new VW,n=it.internal.getHeight(t)||0,r=it.internal.getWidth(t)||0;return e.BBox=[0,0,Number(jt(r)),Number(jt(n))],e},cRe=wr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},uRe=wr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},fRe=wr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Fr=wr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return fRe(t,e-1)},$r=wr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return cRe(t,e-1)},Br=wr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return uRe(t,e-1)},dRe=wr.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(a+o)||0,l.upperRight_X=n(i+s)||0,l.upperRight_Y=r(a)||0,[Number(jt(l.lowerLeft_X)),Number(jt(l.lowerLeft_Y)),Number(jt(l.upperRight_X)),Number(jt(l.upperRight_Y))]},hRe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=AE(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+jt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Fo(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},AE=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(k){return k.split(`
`)}):i.map(function(k){return[k]});var a=n,s=it.internal.getHeight(t)||0;s=s<0?-s:s;var o=it.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(k,j,C){if(k+1<i.length){var V=j+" "+i[k+1][0];return d1(V,t,C).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var c,u,f=d1("3",t,a).height,h=t.multiline?s-a:(s-f)/2,p=h+=2,b=0,x=0,v=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+d1(e,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var y="",w=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var E=!1;if(i[S].length!==1&&v!==i[S].length-1){if((f+2)*(w+2)+2>s)continue e;y+=i[S][v],E=!0,x=S,S--}else{y=(y+=i[S][v]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var P=parseInt(S),R=l(P,y,a),I=S>=i.length-1;if(R&&!I){y+=" ",v=0;continue}if(R||I){if(I)x=P;else if(t.multiline&&(f+2)*(w+2)+2>s)continue e}else{if(!t.multiline||(f+2)*(w+2)+2>s)continue e;x=P}}for(var A="",N=b;N<=x;N++){var M=i[N];if(t.multiline){if(N===x){A+=M[v]+" ",v=(v+1)%M.length;continue}if(N===b){A+=M[M.length-1]+" ";continue}}A+=M[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,u=d1(A,t,a).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}e+=jt(c)+" "+jt(p)+` Td
`,e+="("+Ad(A)+`) Tj
`,e+=-jt(c)+` 0 Td
`,p=-(a+2),u=0,b=E?x:x+1,w++,y=""}break}return r.text=e,r.fontSize=a,r},d1=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},pRe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},mRe=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},gRe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(bo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(pRe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Rk=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new UW,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&mRe(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var o=r[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=dRe(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=it.createDefaultAppearanceStream(o),An(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=hRe(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var p=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var b=p[s];typeof b=="function"&&(b=b.call(i,o)),f+="/"+s+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=p)=="function"&&(b=b.call(i,o)),f+="/"+s+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&function(x,v){for(var y in x)if(x.hasOwnProperty(y)){var w=y,S=x[y];v.internal.newObjectDeferredBegin(S.objId,!0),An(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete x[w]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},BW=wr.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),An(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)==="/"?i+="/"+ud(t[a].substr(1)):(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Ad(r(t[a].toString()))+")")}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},U_=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Ad(r(t))+")"},Ho=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ho.prototype.toString=function(){return this.objId+" 0 R"},Ho.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ho.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:BW(i,this.objId,this.scope)}):i instanceof Ho?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var VW=function(){Ho.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};ka(VW,Ho);var UW=function(){Ho.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Ad(n(t))+")"}},set:function(n){t=n}})};ka(UW,Ho);var bo=function t(){Ho.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Fr(e,3)},set:function(y){y?this.F=$r(e,3):this.F=Br(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Yx)return;a="FieldObject"+t.FieldNum++}var y=function(w){return w};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Ad(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Rk:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Yx||this instanceof qf))return U_(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof di==0?U_(h,this.objId,this.scope):h},set:function(y){y=y.toString(),h=this instanceof di==0?y.substr(0,1)==="("?zd(y.substr(1,y.length-2)):zd(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof di==1?zd(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof di==1?"/"+ud(y):y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof di==0?U_(p,this.objId,this.scope):p},set:function(y){y=y.toString(),p=this instanceof di==0?y.substr(0,1)==="("?zd(y.substr(1,y.length-2)):zd(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof di==1?zd(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof di==1?"/"+ud(y):y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(y){y=!!y,x=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(y){b=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,1)},set:function(y){y?this.Ff=$r(this.Ff,1):this.Ff=Br(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,2)},set:function(y){y?this.Ff=$r(this.Ff,2):this.Ff=Br(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,3)},set:function(y){y?this.Ff=$r(this.Ff,3):this.Ff=Br(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');v=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(v){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};ka(bo,Ho);var Fh=function(){bo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return BW(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,c=[];l=s.exec(a);)c.push(l[o]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,18)},set:function(n){n?this.Ff=$r(this.Ff,18):this.Ff=Br(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=$r(this.Ff,19):this.Ff=Br(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,20)},set:function(n){n?(this.Ff=$r(this.Ff,20),e.sort()):this.Ff=Br(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,22)},set:function(n){n?this.Ff=$r(this.Ff,22):this.Ff=Br(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,23)},set:function(n){n?this.Ff=$r(this.Ff,23):this.Ff=Br(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,27)},set:function(n){n?this.Ff=$r(this.Ff,27):this.Ff=Br(this.Ff,27)}}),this.hasAppearanceStream=!1};ka(Fh,bo);var $h=function(){Fh.call(this),this.fontName="helvetica",this.combo=!1};ka($h,Fh);var Bh=function(){$h.call(this),this.combo=!0};ka(Bh,$h);var z1=function(){Bh.call(this),this.edit=!0};ka(z1,Bh);var di=function(){bo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,15)},set:function(n){n?this.Ff=$r(this.Ff,15):this.Ff=Br(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,16)},set:function(n){n?this.Ff=$r(this.Ff,16):this.Ff=Br(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,17)},set:function(n){n?this.Ff=$r(this.Ff,17):this.Ff=Br(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,26)},set:function(n){n?this.Ff=$r(this.Ff,26):this.Ff=Br(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Ad(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){An(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){var r=n==null?"":n.toString();r.substr(0,1)==="/"&&(r=r.substr(1)),t="/"+ud(r)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+ud(n)}})};ka(di,bo);var q1=function(){di.call(this),this.pushButton=!0};ka(q1,di);var Vh=function(){di.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ka(Vh,di);var Yx=function(){var t,e;bo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+Ad(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){An(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){var a=i==null?"":i.toString();a.substr(0,1)==="/"&&(a=a.substr(1)),n="/"+ud(a)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){var a=i==null?"":i.toString();a.substr(0,1)==="/"&&(a=a.substr(1)),n="/"+ud(a)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=it.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ka(Yx,bo),Vh.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Vh.prototype.createOption=function(t){var e=new Yx;return e.Parent=this,e.optionName=t,this.Kids.push(e),yRe.call(this.scope,e),e};var W1=function(){di.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=it.CheckBox.createAppearanceStream()};ka(W1,di);var qf=function(){bo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,13)},set:function(e){e?this.Ff=$r(this.Ff,13):this.Ff=Br(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,21)},set:function(e){e?this.Ff=$r(this.Ff,21):this.Ff=Br(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,23)},set:function(e){e?this.Ff=$r(this.Ff,23):this.Ff=Br(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,24)},set:function(e){e?this.Ff=$r(this.Ff,24):this.Ff=Br(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,25)},set:function(e){e?this.Ff=$r(this.Ff,25):this.Ff=Br(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,26)},set:function(e){e?this.Ff=$r(this.Ff,26):this.Ff=Br(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ka(qf,bo);var H1=function(){qf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,14)},set:function(t){t?this.Ff=$r(this.Ff,14):this.Ff=Br(this.Ff,14)}}),this.password=!0};ka(H1,qf);var it={CheckBox:{createAppearanceStream:function(){return{N:{On:it.CheckBox.YesNormal},D:{On:it.CheckBox.YesPushDown,Off:it.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Fo(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=AE(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+jt(it.internal.getWidth(t))+" "+jt(it.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+jt(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Fo(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=it.internal.getHeight(t),s=it.internal.getWidth(t),o=AE(t,t.caption);return i.push("1 g"),i.push("0 0 "+jt(s)+" "+jt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+jt(s-1)+" "+jt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+jt(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Fo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+jt(it.internal.getWidth(t))+" "+jt(it.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:it.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=it.RadioButton.Circle.YesNormal,e.D[t]=it.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Fo(t);e.scope=t.scope;var n=[],r=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=it.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Wc(it.internal.getWidth(t)/2)+" "+Wc(it.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Fo(t);e.scope=t.scope;var n=[],r=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*it.internal.Bezier_C).toFixed(5)),s=Number((r*it.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Wc(it.internal.getWidth(t)/2)+" "+Wc(it.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Wc(it.internal.getWidth(t)/2)+" "+Wc(it.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Fo(t);e.scope=t.scope;var n=[],r=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*it.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Wc(it.internal.getWidth(t)/2)+" "+Wc(it.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:it.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=it.RadioButton.Cross.YesNormal,e.D[t]=it.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Fo(t);e.scope=t.scope;var n=[],r=it.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+jt(it.internal.getWidth(t)-2)+" "+jt(it.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(jt(r.x1.x)+" "+jt(r.x1.y)+" m"),n.push(jt(r.x2.x)+" "+jt(r.x2.y)+" l"),n.push(jt(r.x4.x)+" "+jt(r.x4.y)+" m"),n.push(jt(r.x3.x)+" "+jt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Fo(t);e.scope=t.scope;var n=it.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+jt(it.internal.getWidth(t))+" "+jt(it.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+jt(it.internal.getWidth(t)-2)+" "+jt(it.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(jt(n.x1.x)+" "+jt(n.x1.y)+" m"),r.push(jt(n.x2.x)+" "+jt(n.x2.y)+" l"),r.push(jt(n.x4.x)+" "+jt(n.x4.y)+" m"),r.push(jt(n.x3.x)+" "+jt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Fo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+jt(it.internal.getWidth(t))+" "+jt(it.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};it.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=it.internal.getWidth(t),n=it.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},it.internal.getWidth=function(t){var e=0;return An(t)==="object"&&(e=pD(t.Rect[2])),e},it.internal.getHeight=function(t){var e=0;return An(t)==="object"&&(e=pD(t.Rect[3])),e};var yRe=wr.addField=function(t){if(gRe(this,t),!(t instanceof bo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};wr.AcroFormChoiceField=Fh,wr.AcroFormListBox=$h,wr.AcroFormComboBox=Bh,wr.AcroFormEditBox=z1,wr.AcroFormButton=di,wr.AcroFormPushButton=q1,wr.AcroFormRadioButton=Vh,wr.AcroFormCheckBox=W1,wr.AcroFormTextField=qf,wr.AcroFormPasswordField=H1,wr.AcroFormAppearance=it,wr.AcroForm={ChoiceField:Fh,ListBox:$h,ComboBox:Bh,EditBox:z1,Button:di,PushButton:q1,RadioButton:Vh,CheckBox:W1,TextField:qf,PasswordField:H1,Appearance:it},ht.AcroForm={ChoiceField:Fh,ListBox:$h,ComboBox:Bh,EditBox:z1,Button:di,PushButton:q1,RadioButton:Vh,CheckBox:W1,TextField:qf,PasswordField:H1,Appearance:it};ht.AcroForm;function zW(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(k,j){var C,V,X,ne,oe,Y=n;if((j=j||n)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(R(k))for(oe in r)for(X=r[oe],C=0;C<X.length;C+=1){for(ne=!0,V=0;V<X[C].length;V+=1)if(X[C][V]!==void 0&&X[C][V]!==k[V]){ne=!1;break}if(ne===!0){Y=oe;break}}else for(oe in r)for(X=r[oe],C=0;C<X.length;C+=1){for(ne=!0,V=0;V<X[C].length;V+=1)if(X[C][V]!==void 0&&X[C][V]!==k.charCodeAt(V)){ne=!1;break}if(ne===!0){Y=oe;break}}return Y===n&&j!==n&&(Y=j),Y},a=function k(j){for(var C=this.internal.write,V=this.internal.putStream,X=(0,this.internal.getFilters)();X.indexOf("FlateEncode")!==-1;)X.splice(X.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:j.width}),ne.push({key:"Height",value:j.height}),j.colorSpace===y.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===y.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)&&j.transparency.length>0){for(var oe="",Y=0,le=j.transparency.length;Y<le;Y++)oe+=j.transparency[Y]+" "+j.transparency[Y]+" ";ne.push({key:"Mask",value:"["+oe+"]"})}j.sMask!==void 0&&ne.push({key:"SMask",value:j.objectId+1+" 0 R"});var K=j.filter!==void 0?["/"+j.filter]:void 0;if(V({data:j.data,additionalKeyValues:ne,alreadyAppliedFilters:K,objectId:j.objectId}),C("endobj"),"sMask"in j&&j.sMask!==void 0){var H,F=(H=j.sMaskBitsPerComponent)!==null&&H!==void 0?H:j.bitsPerComponent,q={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:F,data:j.sMask};"filter"in j&&(q.decodeParameters="/Predictor ".concat(j.predictor," /Colors 1 /BitsPerComponent ").concat(F," /Columns ").concat(j.width),q.filter=j.filter),k.call(this,q)}if(j.colorSpace===y.INDEXED){var ee=this.internal.newObject();V({data:A(new Uint8Array(j.palette)),objectId:ee}),C("endobj")}},s=function(){var k=this.internal.collections[e+"images"];for(var j in k)a.call(this,k[j])},o=function(){var k,j=this.internal.collections[e+"images"],C=this.internal.write;for(var V in j)C("/I"+(k=j[V]).index,k.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var k=this.internal.collections[e+"images"];return l.call(this),k},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(k){return typeof t["process"+k.toUpperCase()]=="function"},h=function(k){return An(k)==="object"&&k.nodeType===1},p=function(k,j){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var C=""+k.getAttribute("src");if(C.indexOf("data:image/")===0)return U1(unescape(C).split("base64,").pop());var V=t.loadFile(C,!0);if(V!==void 0)return V}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var X;switch(j){case"PNG":X="image/png";break;case"WEBP":X="image/webp";break;default:X="image/jpeg"}return U1(k.toDataURL(X,1).split("base64,").pop())}},b=function(k){var j=this.internal.collections[e+"images"];if(j){for(var C in j)if(k===j[C].alias)return j[C]}},x=function(k,j,C){return k||j||(k=-96,j=-96),k<0&&(k=-1*C.width*72/k/this.internal.scaleFactor),j<0&&(j=-1*C.height*72/j/this.internal.scaleFactor),k===0&&(k=j*C.width/C.height),j===0&&(j=k*C.height/C.width),[k,j]},v=function(k,j,C,V,X,ne){var oe=x.call(this,C,V,X),Y=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,K=c.call(this);if(C=oe[0],V=oe[1],K[X.index]=X,ne){ne*=Math.PI/180;var H=Math.cos(ne),F=Math.sin(ne),q=function(se){return se.toFixed(4)},ee=[q(H),q(F),q(-1*F),q(H),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,Y(k),le(j+V),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([Y(C),"0","0",Y(V),"0","0","cm"].join(" "))):this.internal.write([Y(C),"0","0",Y(V),Y(k),le(j+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+X.index+" Do"),this.internal.write("Q")},y=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=t.__addimage__.sHashCode=function(k){var j,C,V=0;if(typeof k=="string")for(C=k.length,j=0;j<C;j++)V=(V<<5)-V+k.charCodeAt(j),V|=0;else if(R(k))for(C=k.byteLength/2,j=0;j<C;j++)V=(V<<5)-V+k[j],V|=0;return V},E=t.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var j=!0;return k.length===0&&(j=!1),k.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(j=!1),j},P=t.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var j=k.indexOf(",");return j<0?null:k.substring(0,j).trim().endsWith("base64")?k.substring(j+1):null};t.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var R=t.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},I=t.__addimage__.binaryStringToUint8Array=function(k){for(var j=k.length,C=new Uint8Array(j),V=0;V<j;V++)C[V]=k.charCodeAt(V);return C},A=t.__addimage__.arrayBufferToBinaryString=function(k){for(var j="",C=R(k)?k:new Uint8Array(k),V=0;V<C.length;V+=8192)j+=String.fromCharCode.apply(null,C.subarray(V,V+8192));return j};t.addImage=function(){var k,j,C,V,X,ne,oe,Y,le;if(typeof arguments[1]=="number"?(j=n,C=arguments[1],V=arguments[2],X=arguments[3],ne=arguments[4],oe=arguments[5],Y=arguments[6],le=arguments[7]):(j=arguments[1],C=arguments[2],V=arguments[3],X=arguments[4],ne=arguments[5],oe=arguments[6],Y=arguments[7],le=arguments[8]),An(k=arguments[0])==="object"&&!h(k)&&"imageData"in k){var K=k;k=K.imageData,j=K.format||j||n,C=K.x||C||0,V=K.y||V||0,X=K.w||K.width||X,ne=K.h||K.height||ne,oe=K.alias||oe,Y=K.compression||Y,le=K.rotation||K.angle||le}var H=this.internal.getFilters();if(Y===void 0&&H.indexOf("FlateEncode")!==-1&&(Y="SLOW"),isNaN(C)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var F=N.call(this,k,j,oe,Y);return v.call(this,C,V,X,ne,F,le),this};var N=function(k,j,C,V){var X,ne,oe;if(typeof k=="string"&&i(k)===n){k=unescape(k);var Y=M(k,!1);(Y!==""||(Y=t.loadFile(k,!0))!==void 0)&&(k=Y)}if(h(k)&&(k=p(k,j)),j=i(k,j),!f(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((oe=C)==null||oe.length===0)&&(C=function(le){return typeof le=="string"||R(le)?S(le):R(le.data)?S(le.data):null}(k)),(X=b.call(this,C))||(k instanceof Uint8Array||j==="RGBA"||(ne=k,k=I(k)),X=this["process"+j.toUpperCase()](k,u.call(this),C,function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in t.image_compression?le:w.NONE}(V),ne)),!X)throw new Error("An unknown error occurred whilst processing the image.");return X},M=t.__addimage__.convertBase64ToBinaryString=function(k,j){j=typeof j!="boolean"||j;var C,V="";if(typeof k=="string"){var X;C=(X=P(k))!==null&&X!==void 0?X:k;try{V=U1(C)}catch(ne){if(j)throw E(C)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};t.getImageProperties=function(k){var j,C,V="";if(h(k)&&(k=p(k)),typeof k=="string"&&i(k)===n&&((V=M(k,!1))===""&&(V=t.loadFile(k)||""),k=V),C=i(k),!f(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(k instanceof Uint8Array||(k=I(k)),!(j=this["process"+C.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=C,j}})(ht.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ht.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((r=c[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){r=c[h];var p=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(x.objId),w=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+p(y(r.contents))+")",a+=" /Popup "+v.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+p(y(w))+") >>",x.content=a;var S=x.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(a+=" /Open true"),a+=" >>",v.content=a,this.internal.write(x.objId,"0 R",v.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var E=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(b(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var P=this.annotations._nameMap[r.options.name];r.options.pageNumber=P.page,r.options.top=P.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var R=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+R+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+a)},options:s,type:"link"})},t.textWithLink=function(n,r,i,a){var s,o,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var u=this.splitTextToSize(n,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(n,r,i,a),i+=.2*c,a.align==="center"&&(r-=l/2),a.align==="right"&&(r-=l),this.link(r,i-c,o,s,a),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ht.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},o=t.__arabicParser__.isArabicEndLetter=function(x){return s(x)&&a(x)&&e[x.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(x){return s(x)&&i.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return s(x)&&a(x)&&e[x.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return s(x)&&a(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return s(x)&&a(x)&&e[x.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return s(x)&&a(x)&&e[x.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(x){var v=0,y=n,w="",S=0;for(v=0;v<x.length;v+=1)y[x.charCodeAt(v)]!==void 0?(S++,typeof(y=y[x.charCodeAt(v)])=="number"&&(w+=String.fromCharCode(y),y=n,S=0),v===x.length-1&&(y=n,w+=x.charAt(v-(S-1)),v-=S-1,S=0)):(y=n,w+=x.charAt(v-S),v-=S,S=0);return w};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&r[x.charCodeAt(0)]!==void 0};var h=t.__arabicParser__.getCorrectForm=function(x,v,y){return s(x)?a(x)===!1?-1:!c(x)||!s(v)&&!s(y)||!s(y)&&o(v)||o(x)&&!s(v)||o(x)&&l(v)||o(x)&&o(v)?0:u(x)&&s(v)&&!o(v)&&s(y)&&c(y)?3:o(x)||!s(y)?1:2:-1},p=function(x){var v=0,y=0,w=0,S="",E="",P="",R=(x=x||"").split("\\s+"),I=[];for(v=0;v<R.length;v+=1){for(I.push(""),y=0;y<R[v].length;y+=1)S=R[v][y],E=R[v][y-1],P=R[v][y+1],s(S)?(w=h(S,E,P),I[v]+=w!==-1?String.fromCharCode(e[S.charCodeAt(0)][w]):S):I[v]+=S;I[v]=f(I[v])}return I.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var x,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(v)){var w=0;for(y=[],w=0;w<v.length;w+=1)Array.isArray(v[w])?y.push([p(v[w][0]),v[w][1],v[w][2]]):y.push([p(v[w])]);x=y}else x=p(v);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",b])}(ht.API),ht.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ht.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(x){b=x}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,p=0,b=0,x=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,E){return S.concat(v.splitTextToSize(E,y))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)p<(x=this.getStringUnitWidth(l[w],{font:f})*u)&&(p=x);return p!==0&&(b=l.length),{w:p/=h,h:Math.max((b*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,f,h){if(r.call(this),!u)throw new Error("No data for PDF table.");var p,b,x,v,y=[],w=[],S=[],E={},P={},R=[],I=[],A=(h=h||{}).autoSize||!1,N=h.printHeaders!==!1,M=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,k=h.margins||Object.assign({width:this.getPageWidth()},e),j=typeof h.padding=="number"?h.padding:3,C=h.headerBackgroundColor||"#c8c8c8",V=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=C,this.internal.__cell__.headerTextColor=V,this.setFontSize(M),f==null)w=y=Object.keys(u[0]),S=y.map(function(){return"left"});else if(Array.isArray(f)&&An(f[0])==="object")for(y=f.map(function(K){return K.name}),w=f.map(function(K){return K.prompt||K.name||""}),S=f.map(function(K){return K.align||"left"}),p=0;p<f.length;p+=1)P[f[p].name]=.7499990551181103*f[p].width;else Array.isArray(f)&&typeof f[0]=="string"&&(w=y=f,S=y.map(function(){return"left"}));if(A||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<y.length;p+=1){for(E[v=y[p]]=u.map(function(K){return K[v]}),this.setFont(void 0,"bold"),R.push(this.getTextDimensions(w[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=E[v],this.setFont(void 0,"normal"),x=0;x<b.length;x+=1)R.push(this.getTextDimensions(b[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[v]=Math.max.apply(null,R)+j+j,R=[]}if(N){var X={};for(p=0;p<y.length;p+=1)X[y[p]]={},X[y[p]].text=w[p],X[y[p]].align=S[p];var ne=o.call(this,X,P);I=y.map(function(K){return new a(l,c,P[K],ne,X[K].text,void 0,X[K].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var oe=f.reduce(function(K,H){return K[H.name]=H.align,K},{});for(p=0;p<u.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:u[p]},this);var Y=o.call(this,u[p],P);for(x=0;x<y.length;x+=1){var le=u[p][y[x]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:x,data:le},this),s.call(this,new a(l,c,P[y[x]],Y,le,p+2,oe[y[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(p){var b=l[p];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,c[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+u+u},this).reduce(function(p,b){return Math.max(p,b)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(b)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),n=!1}}(ht.API);var qW={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},WW=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],NE=zW(WW),HW=[100,200,300,400,500,600,700,800,900],vRe=zW(HW);function z_(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return qW[a=a||"normal"]?a:"normal"}(t.style),r=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),i=function(a){return typeof NE[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function mD(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var bRe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},gD={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function yD(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function vD(t){return t.trimLeft()}function xRe(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function wRe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var qd,h1,bD,xD,wD,q_=["times"];function _D(t,e,n,r,i){var a=4,s=AD;switch(i){case ht.API.image_compression.FAST:a=1,s=SD;break;case ht.API.image_compression.MEDIUM:a=6,s=ND;break;case ht.API.image_compression.SLOW:a=9,s=ED}t=function(l,c,u,f){for(var h,p=l.length/c,b=new Uint8Array(l.length+p),x=[_Re,SD,AD,ND,ED],v=0;v<p;v+=1){var y=v*c,w=l.subarray(y,y+c);if(f)b.set(f(w,u,h),y+v);else{for(var S=x.length,E=[],P=0;P<S;P+=1)E[P]=x[P](w,u,h);var R=ARe(E.concat());b.set(E[R],y+v)}h=w}return b}(t,e,Math.ceil(n*r/8),s);var o=vE(t,{level:a});return ht.API.__addimage__.arrayBufferToBinaryString(o)}function _Re(t){var e=Array.apply([],t);return e.unshift(0),e}function SD(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var a=t[i-e]||0;r[i+1]=t[i]-a+256&255}return r}function AD(t,e,n){var r=t.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var s=n&&n[a]||0;i[a+1]=t[a]-s+256&255}return i}function ND(t,e,n){var r=t.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var s=t[a-e]||0,o=n&&n[a]||0;i[a+1]=t[a]+256-(s+o>>>1)&255}return i}function ED(t,e,n){var r=t.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var s=SRe(t[a-e]||0,n&&n[a]||0,n&&n[a-e]||0);i[a+1]=t[a]-s+256&255}return i}function SRe(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),a=Math.abs(t+e-n-n);return r<=i&&r<=a?t:i<=a?e:n}function ARe(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function W_(t,e,n){var r=e*n,i=Math.floor(r/8),a=16-(r-8*i+n),s=(1<<n)-1;return GW(t,i)>>a&s}function PD(t,e,n,r){var i=n*r,a=Math.floor(i/8),s=16-(i-8*a+r),o=(1<<r)-1,l=(e&o)<<s;(function(c,u,f){if(u+1<c.byteLength)c.setUint16(u,f,!1);else{var h=f>>8&255;c.setUint8(u,h)}})(t,a,GW(t,a)&~(o<<s)&65535|l)}function GW(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function NRe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;a&&(o=e,l=s,e+=3*s);var c=!0,u=[],f=0,h=null,p=0,b=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];f=t[e++]|t[e++]<<8,h=t[e++],1&x||(h=null),p=x>>2&7,e++;break;case 254:for(;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var v=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,E=t[e++],P=E>>6&1,R=1<<1+(7&E),I=o,A=l,N=!1;E>>7&&(N=!0,I=e,A=R,e+=3*R);var M=e;for(e++;;){var k;if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}u.push({x:v,y,width:w,height:S,has_local_palette:N,palette_offset:I,palette_size:A,data_offset:M,data_length:e-M,transparent_index:h,interlaced:!!P,delay:f,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return b},this.frameInfo=function(j){if(j<0||j>=u.length)throw new Error("Frame index out of range.");return u[j]},this.decodeAndBlitFrameBGRA=function(j,C){var V=this.frameInfo(j),X=V.width*V.height;if(X>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var ne=new Uint8Array(X);TD(t,V.data_offset,ne,X);var oe=V.palette_offset,Y=V.transparent_index;Y===null&&(Y=256);var le=V.width,K=n-le,H=le,F=4*(V.y*n+V.x),q=4*((V.y+V.height)*n+V.x),ee=F,se=4*K;V.interlaced===!0&&(se+=4*n*7);for(var ce=8,fe=0,ye=ne.length;fe<ye;++fe){var ue=ne[fe];if(H===0&&(H=le,(ee+=se)>=q&&(se=4*K+4*n*(ce-1),ee=F+(le+K)*(ce<<1),ce>>=1)),ue===Y)ee+=4;else{var be=t[oe+3*ue],Se=t[oe+3*ue+1],me=t[oe+3*ue+2];C[ee++]=me,C[ee++]=Se,C[ee++]=be,C[ee++]=255}--H}},this.decodeAndBlitFrameRGBA=function(j,C){var V=this.frameInfo(j),X=V.width*V.height;if(X>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var ne=new Uint8Array(X);TD(t,V.data_offset,ne,X);var oe=V.palette_offset,Y=V.transparent_index;Y===null&&(Y=256);var le=V.width,K=n-le,H=le,F=4*(V.y*n+V.x),q=4*((V.y+V.height)*n+V.x),ee=F,se=4*K;V.interlaced===!0&&(se+=4*n*7);for(var ce=8,fe=0,ye=ne.length;fe<ye;++fe){var ue=ne[fe];if(H===0&&(H=le,(ee+=se)>=q&&(se=4*K+4*n*(ce-1),ee=F+(le+K)*(ce<<1),ce>>=1)),ue===Y)ee+=4;else{var be=t[oe+3*ue],Se=t[oe+3*ue+1],me=t[oe+3*ue+2];C[ee++]=be,C[ee++]=Se,C[ee++]=me,C[ee++]=255}--H}}}function TD(t,e,n,r){for(var i=t[e++],a=1<<i,s=a+1,o=s+1,l=i+1,c=(1<<l)-1,u=0,f=0,h=0,p=t[e++],b=new Int32Array(4096),x=null;;){for(;u<16&&p!==0;)f|=t[e++]<<u,u+=8,p===1?p=t[e++]:--p;if(u<l)break;var v=f&c;if(f>>=l,u-=l,v!==a){if(v===s)break;for(var y=v<o?v:x,w=0,S=y;S>a;)S=b[S]>>8,++w;var E=S;if(h+w+(y!==v?1:0)>r)return void Rn.log("Warning, gif stream longer than expected.");n[h++]=E;var P=h+=w;for(y!==v&&(n[h++]=E),S=y;w--;)S=b[S],n[--P]=255&S,S>>=8;x!==null&&o<4096&&(b[o++]=x<<8|E,o>=c+1&&l<12&&(++l,c=c<<1|1)),x=v}else o=s+1,c=(1<<(l=i+1))-1,x=null}return h!==r&&Rn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function H_(t){var e,n,r,i,a,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),b=new Array(64),x=[],v=0,y=7,w=new Array(64),S=new Array(64),E=new Array(64),P=new Array(256),R=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(F,q){for(var ee=0,se=0,ce=new Array,fe=1;fe<=16;fe++){for(var ye=1;ye<=F[fe];ye++)ce[q[se]]=[],ce[q[se]][0]=ee,ce[q[se]][1]=fe,se++,ee++;ee*=2}return ce}function oe(F){for(var q=F[0],ee=F[1]-1;ee>=0;)q&1<<ee&&(v|=1<<y),ee--,--y<0&&(v==255?(Y(255),Y(0)):Y(v),y=7,v=0)}function Y(F){x.push(F)}function le(F){Y(F>>8&255),Y(255&F)}function K(F,q,ee,se,ce){for(var fe,ye=ce[0],ue=ce[240],be=function(je,Ke){var We,Je,rt,zt,Ct,st,vt,Mt,tt,Nt,ot=0;for(tt=0;tt<8;++tt){We=je[ot],Je=je[ot+1],rt=je[ot+2],zt=je[ot+3],Ct=je[ot+4],st=je[ot+5],vt=je[ot+6];var vn=We+(Mt=je[ot+7]),qt=We-Mt,Ft=Je+vt,Lt=Je-vt,Dn=rt+st,pt=rt-st,hn=zt+Ct,xt=zt-Ct,Tt=vn+hn,pn=vn-hn,$t=Ft+Dn,mt=Ft-Dn;je[ot]=Tt+$t,je[ot+4]=Tt-$t;var Wt=.707106781*(mt+pn);je[ot+2]=pn+Wt,je[ot+6]=pn-Wt;var wo=.382683433*((Tt=xt+pt)-(mt=Lt+qt)),Tr=.5411961*Tt+wo,as=1.306562965*mt+wo,Oi=.707106781*($t=pt+Lt),bt=qt+Oi,qn=qt-Oi;je[ot+5]=qn+Tr,je[ot+3]=qn-Tr,je[ot+1]=bt+as,je[ot+7]=bt-as,ot+=8}for(ot=0,tt=0;tt<8;++tt){We=je[ot],Je=je[ot+8],rt=je[ot+16],zt=je[ot+24],Ct=je[ot+32],st=je[ot+40],vt=je[ot+48];var ss=We+(Mt=je[ot+56]),ai=We-Mt,si=Je+vt,Jn=Je-vt,Ur=rt+st,Zn=rt-st,hl=zt+Ct,_o=zt-Ct,Ri=ss+hl,Ia=ss-hl,ra=si+Ur,Mi=si-Ur;je[ot]=Ri+ra,je[ot+32]=Ri-ra;var kr=.707106781*(Mi+Ia);je[ot+16]=Ia+kr,je[ot+48]=Ia-kr;var So=.382683433*((Ri=_o+Zn)-(Mi=Jn+ai)),Ca=.5411961*Ri+So,zs=1.306562965*Mi+So,Ao=.707106781*(ra=Zn+Jn),pl=ai+Ao,ml=ai-Ao;je[ot+40]=ml+Ca,je[ot+24]=ml-Ca,je[ot+8]=pl+zs,je[ot+56]=pl-zs,ot++}for(tt=0;tt<64;++tt)Nt=je[tt]*Ke[tt],p[tt]=Nt>0?Nt+.5|0:Nt-.5|0;return p}(F,q),Se=0;Se<64;++Se)b[I[Se]]=be[Se];var me=b[0]-ee;ee=b[0],me==0?oe(se[0]):(oe(se[h[fe=32767+me]]),oe(f[fe]));for(var Re=63;Re>0&&b[Re]==0;)Re--;if(Re==0)return oe(ye),ee;for(var Pe,J=1;J<=Re;){for(var he=J;b[J]==0&&J<=Re;)++J;var Fe=J-he;if(Fe>=16){Pe=Fe>>4;for(var qe=1;qe<=Pe;++qe)oe(ue);Fe&=15}fe=32767+b[J],oe(ce[(Fe<<4)+h[fe]]),oe(f[fe]),J++}return Re!=63&&oe(ye),ee}function H(F){F=Math.min(Math.max(F,1),100),a!=F&&(function(q){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var ce=s((ee[se]*q+50)/100);ce=Math.min(Math.max(ce,1),255),o[I[se]]=ce}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ye=0;ye<64;ye++){var ue=s((fe[ye]*q+50)/100);ue=Math.min(Math.max(ue,1),255),l[I[ye]]=ue}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Se=0,me=0;me<8;me++)for(var Re=0;Re<8;Re++)c[Se]=1/(o[I[Se]]*be[me]*be[Re]*8),u[Se]=1/(l[I[Se]]*be[me]*be[Re]*8),Se++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),a=F)}this.encode=function(F,q){q&&H(q),x=new Array,v=0,y=7,le(65496),le(65504),le(16),Y(74),Y(70),Y(73),Y(70),Y(0),Y(1),Y(1),Y(0),le(1),le(1),Y(0),Y(0),function(){le(65499),le(132),Y(0);for(var Je=0;Je<64;Je++)Y(o[Je]);Y(1);for(var rt=0;rt<64;rt++)Y(l[rt])}(),function(Je,rt){le(65472),le(17),Y(8),le(rt),le(Je),Y(3),Y(1),Y(17),Y(0),Y(2),Y(17),Y(1),Y(3),Y(17),Y(1)}(F.width,F.height),function(){le(65476),le(418),Y(0);for(var Je=0;Je<16;Je++)Y(A[Je+1]);for(var rt=0;rt<=11;rt++)Y(N[rt]);Y(16);for(var zt=0;zt<16;zt++)Y(M[zt+1]);for(var Ct=0;Ct<=161;Ct++)Y(k[Ct]);Y(1);for(var st=0;st<16;st++)Y(j[st+1]);for(var vt=0;vt<=11;vt++)Y(C[vt]);Y(17);for(var Mt=0;Mt<16;Mt++)Y(V[Mt+1]);for(var tt=0;tt<=161;tt++)Y(X[tt])}(),le(65498),le(12),Y(3),Y(1),Y(0),Y(2),Y(17),Y(3),Y(17),Y(0),Y(63),Y(0);var ee=0,se=0,ce=0;v=0,y=7,this.encode.displayName="_encode_";for(var fe,ye,ue,be,Se,me,Re,Pe,J,he=F.data,Fe=F.width,qe=F.height,je=4*Fe,Ke=0;Ke<qe;){for(fe=0;fe<je;){for(Se=je*Ke+fe,Re=-1,Pe=0,J=0;J<64;J++)me=Se+(Pe=J>>3)*je+(Re=4*(7&J)),Ke+Pe>=qe&&(me-=je*(Ke+1+Pe-qe)),fe+Re>=je&&(me-=fe+Re-je+4),ye=he[me++],ue=he[me++],be=he[me++],w[J]=(R[ye]+R[ue+256|0]+R[be+512|0]>>16)-128,S[J]=(R[ye+768|0]+R[ue+1024|0]+R[be+1280|0]>>16)-128,E[J]=(R[ye+1280|0]+R[ue+1536|0]+R[be+1792|0]>>16)-128;ee=K(w,c,ee,e,r),se=K(S,u,se,n,i),ce=K(E,u,ce,n,i),fe+=32}Ke+=8}if(y>=0){var We=[];We[1]=y+1,We[0]=(1<<y+1)-1,oe(We)}return le(65497),new Uint8Array(x)},t=t||50,function(){for(var F=String.fromCharCode,q=0;q<256;q++)P[q]=F(q)}(),e=ne(A,N),n=ne(j,C),r=ne(M,k),i=ne(V,X),function(){for(var F=1,q=2,ee=1;ee<=15;ee++){for(var se=F;se<q;se++)h[32767+se]=ee,f[32767+se]=[],f[32767+se][1]=ee,f[32767+se][0]=se;for(var ce=-(q-1);ce<=-F;ce++)h[32767+ce]=ee,f[32767+ce]=[],f[32767+ce][1]=ee,f[32767+ce][0]=q-1+ce;F<<=1,q<<=1}}(),function(){for(var F=0;F<256;F++)R[F]=19595*F,R[F+256|0]=38470*F,R[F+512|0]=7471*F+32768,R[F+768|0]=-11059*F,R[F+1024|0]=-21709*F,R[F+1280|0]=32768*F+8421375,R[F+1536|0]=-27439*F,R[F+1792|0]=-5329*F}(),H(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Js(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function kD(t){function e(N){if(!N)throw Error("assert :P")}function n(N,M,k){for(var j=0;4>j;j++)if(N[M+j]!=k.charCodeAt(j))return!0;return!1}function r(N,M,k,j,C){for(var V=0;V<C;V++)N[M+V]=k[j+V]}function i(N,M,k,j){for(var C=0;C<j;C++)N[M+C]=k}function a(N){return new Int32Array(N)}function s(N,M){for(var k=[],j=0;j<N;j++)k.push(new M);return k}function o(N,M){var k=[];return function j(C,V,X){for(var ne=X[V],oe=0;oe<ne&&(C.push(X.length>V+1?[]:new M),!(X.length<V+1));oe++)j(C[oe],V+1,X)}(k,0,N),k}var l=function(){var N=this;function M(m,_){for(var O=1<<_-1>>>0;m&O;)O>>>=1;return O?(m&O-1)+O:m}function k(m,_,O,D,z){e(!(D%O));do m[_+(D-=O)]=z;while(0<D)}function j(m,_,O,D,z){if(e(2328>=z),512>=z)var W=a(512);else if((W=a(z))==null)return 0;return function(G,Q,te,ie,pe,Ne){var ae,ve,_e=Q,Te=1<<te,Ae=a(16),Ce=a(16);for(e(pe!=0),e(ie!=null),e(G!=null),e(0<te),ve=0;ve<pe;++ve){if(15<ie[ve])return 0;++Ae[ie[ve]]}if(Ae[0]==pe)return 0;for(Ce[1]=0,ae=1;15>ae;++ae){if(Ae[ae]>1<<ae)return 0;Ce[ae+1]=Ce[ae]+Ae[ae]}for(ve=0;ve<pe;++ve)ae=ie[ve],0<ie[ve]&&(Ne[Ce[ae]++]=ve);if(Ce[15]==1)return(ie=new C).g=0,ie.value=Ne[0],k(G,_e,1,Te,ie),Te;var Oe,Be=-1,De=Te-1,dt=0,nt=1,Bt=1,ut=1<<te;for(ve=0,ae=1,pe=2;ae<=te;++ae,pe<<=1){if(nt+=Bt<<=1,0>(Bt-=Ae[ae]))return 0;for(;0<Ae[ae];--Ae[ae])(ie=new C).g=ae,ie.value=Ne[ve++],k(G,_e+dt,pe,ut,ie),dt=M(dt,ae)}for(ae=te+1,pe=2;15>=ae;++ae,pe<<=1){if(nt+=Bt<<=1,0>(Bt-=Ae[ae]))return 0;for(;0<Ae[ae];--Ae[ae]){if(ie=new C,(dt&De)!=Be){for(_e+=ut,Oe=1<<(Be=ae)-te;15>Be&&!(0>=(Oe-=Ae[Be]));)++Be,Oe<<=1;Te+=ut=1<<(Oe=Be-te),G[Q+(Be=dt&De)].g=Oe+te,G[Q+Be].value=_e-Q-Be}ie.g=ae-te,ie.value=Ne[ve++],k(G,_e+(dt>>te),pe,ut,ie),dt=M(dt,ae)}}return nt!=2*Ce[15]-1?0:Te}(m,_,O,D,z,W)}function C(){this.value=this.g=0}function V(){this.value=this.g=0}function X(){this.G=s(5,C),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(uf,V)}function ne(m,_,O,D){e(m!=null),e(_!=null),e(2147483648>D),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=_,m.pa=O,m.Jd=_,m.Yc=O+D,m.Zc=4<=D?O+D-4+1:O,ye(m)}function oe(m,_){for(var O=0;0<_--;)O|=be(m,128)<<_;return O}function Y(m,_){var O=oe(m,_);return ue(m)?-O:O}function le(m,_,O,D){var z,W=0;for(e(m!=null),e(_!=null),e(4294967288>D),m.Sb=D,m.Ra=0,m.u=0,m.h=0,4<D&&(D=4),z=0;z<D;++z)W+=_[O+z]<<8*z;m.Ra=W,m.bb=D,m.oa=_,m.pa=O}function K(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<kc-8>>>0,++m.bb,m.u-=8;se(m)&&(m.h=1,m.u=0)}function H(m,_){if(e(0<=_),!m.h&&_<=La){var O=ee(m)&Ma[_];return m.u+=_,K(m),O}return m.h=1,m.u=0}function F(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(m){return m.Ra>>>(m.u&kc-1)>>>0}function se(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>kc}function ce(m,_){m.u=_,m.h=se(m)}function fe(m){m.u>=_l&&(e(m.u>=_l),K(m))}function ye(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function ue(m){return oe(m,1)}function be(m,_){var O=m.Ca;0>m.b&&ye(m);var D=m.b,z=O*_>>>8,W=(m.I>>>D>z)+0;for(W?(O-=z,m.I-=z+1<<D>>>0):O=z+1,D=O,z=0;256<=D;)z+=8,D>>=8;return D=7^z+Ic[D],m.b-=D,m.Ca=(O<<D)-1,W}function Se(m,_,O){m[_+0]=O>>24&255,m[_+1]=O>>16&255,m[_+2]=O>>8&255,m[_+3]=255&O}function me(m,_){return m[_+0]|m[_+1]<<8}function Re(m,_){return me(m,_)|m[_+2]<<16}function Pe(m,_){return me(m,_)|me(m,_+2)<<16}function J(m,_){var O=1<<_;return e(m!=null),e(0<_),m.X=a(O),m.X==null?0:(m.Mb=32-_,m.Xa=_,1)}function he(m,_){e(m!=null),e(_!=null),e(m.Xa==_.Xa),r(_.X,0,m.X,0,1<<_.Xa)}function Fe(){this.X=[],this.Xa=this.Mb=0}function qe(m,_,O,D){e(O!=null),e(D!=null);var z=O[0],W=D[0];return z==0&&(z=(m*W+_/2)/_),W==0&&(W=(_*z+m/2)/m),0>=z||0>=W?0:(O[0]=z,D[0]=W,1)}function je(m,_){return m+(1<<_)-1>>>_}function Ke(m,_){return((4278255360&m)+(4278255360&_)>>>0&4278255360)+((16711935&m)+(16711935&_)>>>0&16711935)>>>0}function We(m,_){N[_]=function(O,D,z,W,G,Q,te){var ie;for(ie=0;ie<G;++ie){var pe=N[m](Q[te+ie-1],z,W+ie);Q[te+ie]=Ke(O[D+ie],pe)}}}function Je(){this.ud=this.hd=this.jd=0}function rt(m,_){return((4278124286&(m^_))>>>1)+(m&_)>>>0}function zt(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Ct(m,_){return zt(m+(m-_+.5>>1))}function st(m,_,O){return Math.abs(_-O)-Math.abs(m-O)}function vt(m,_,O,D,z,W,G){for(D=W[G-1],O=0;O<z;++O)W[G+O]=D=Ke(m[_+O],D)}function Mt(m,_,O,D,z){var W;for(W=0;W<O;++W){var G=m[_+W],Q=G>>8&255,te=16711935&(te=(te=16711935&G)+((Q<<16)+Q));D[z+W]=(4278255360&G)+te>>>0}}function tt(m,_){_.jd=255&m,_.hd=m>>8&255,_.ud=m>>16&255}function Nt(m,_,O,D,z,W){var G;for(G=0;G<D;++G){var Q=_[O+G],te=Q>>>8,ie=Q,pe=255&(pe=(pe=Q>>>16)+((m.jd<<24>>24)*(te<<24>>24)>>>5));ie=255&(ie=(ie+=(m.hd<<24>>24)*(te<<24>>24)>>>5)+((m.ud<<24>>24)*(pe<<24>>24)>>>5)),z[W+G]=(4278255360&Q)+(pe<<16)+ie}}function ot(m,_,O,D,z){N[_]=function(W,G,Q,te,ie,pe,Ne,ae,ve){for(te=Ne;te<ae;++te)for(Ne=0;Ne<ve;++Ne)ie[pe++]=z(Q[D(W[G++])])},N[m]=function(W,G,Q,te,ie,pe,Ne){var ae=8>>W.b,ve=W.Ea,_e=W.K[0],Te=W.w;if(8>ae)for(W=(1<<W.b)-1,Te=(1<<ae)-1;G<Q;++G){var Ae,Ce=0;for(Ae=0;Ae<ve;++Ae)Ae&W||(Ce=D(te[ie++])),pe[Ne++]=z(_e[Ce&Te]),Ce>>=ae}else N["VP8LMapColor"+O](te,ie,_e,Te,pe,Ne,G,Q,ve)}}function vn(m,_,O,D,z){for(O=_+O;_<O;){var W=m[_++];D[z++]=W>>16&255,D[z++]=W>>8&255,D[z++]=255&W}}function qt(m,_,O,D,z){for(O=_+O;_<O;){var W=m[_++];D[z++]=W>>16&255,D[z++]=W>>8&255,D[z++]=255&W,D[z++]=W>>24&255}}function Ft(m,_,O,D,z){for(O=_+O;_<O;){var W=(G=m[_++])>>16&240|G>>12&15,G=240&G|G>>28&15;D[z++]=W,D[z++]=G}}function Lt(m,_,O,D,z){for(O=_+O;_<O;){var W=(G=m[_++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;D[z++]=W,D[z++]=G}}function Dn(m,_,O,D,z){for(O=_+O;_<O;){var W=m[_++];D[z++]=255&W,D[z++]=W>>8&255,D[z++]=W>>16&255}}function pt(m,_,O,D,z,W){if(W==0)for(O=_+O;_<O;)Se(D,((W=m[_++])[0]>>24|W[1]>>8&65280|W[2]<<8&16711680|W[3]<<24)>>>0),z+=32;else r(D,z,m,_,O)}function hn(m,_){N[_][0]=N[m+"0"],N[_][1]=N[m+"1"],N[_][2]=N[m+"2"],N[_][3]=N[m+"3"],N[_][4]=N[m+"4"],N[_][5]=N[m+"5"],N[_][6]=N[m+"6"],N[_][7]=N[m+"7"],N[_][8]=N[m+"8"],N[_][9]=N[m+"9"],N[_][10]=N[m+"10"],N[_][11]=N[m+"11"],N[_][12]=N[m+"12"],N[_][13]=N[m+"13"],N[_][14]=N[m+"0"],N[_][15]=N[m+"0"]}function xt(m){return m==Mw||m==Lw||m==n0||m==Dw}function Tt(){this.eb=[],this.size=this.A=this.fb=0}function pn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function $t(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Tt,this.f.kb=new pn,this.sd=null}function mt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Wt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function wo(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Tr(m,_){var O=m.T,D=_.ba.f.RGBA,z=D.eb,W=D.fb+m.ka*D.A,G=vs[_.ba.S],Q=m.y,te=m.O,ie=m.f,pe=m.N,Ne=m.ea,ae=m.W,ve=_.cc,_e=_.dc,Te=_.Mc,Ae=_.Nc,Ce=m.ka,Oe=m.ka+m.T,Be=m.U,De=Be+1>>1;for(Ce==0?G(Q,te,null,null,ie,pe,Ne,ae,ie,pe,Ne,ae,z,W,null,null,Be):(G(_.ec,_.fc,Q,te,ve,_e,Te,Ae,ie,pe,Ne,ae,z,W-D.A,z,W,Be),++O);Ce+2<Oe;Ce+=2)ve=ie,_e=pe,Te=Ne,Ae=ae,pe+=m.Rc,ae+=m.Rc,W+=2*D.A,G(Q,(te+=2*m.fa)-m.fa,Q,te,ve,_e,Te,Ae,ie,pe,Ne,ae,z,W-D.A,z,W,Be);return te+=m.fa,m.j+Oe<m.o?(r(_.ec,_.fc,Q,te,Be),r(_.cc,_.dc,ie,pe,De),r(_.Mc,_.Nc,Ne,ae,De),O--):1&Oe||G(Q,te,null,null,ie,pe,Ne,ae,ie,pe,Ne,ae,z,W+D.A,null,null,Be),O}function as(m,_,O){var D=m.F,z=[m.J];if(D!=null){var W=m.U,G=_.ba.S,Q=G==t0||G==n0;_=_.ba.f.RGBA;var te=[0],ie=m.ka;te[0]=m.T,m.Kb&&(ie==0?--te[0]:(--ie,z[0]-=m.width),m.j+m.ka+m.T==m.o&&(te[0]=m.o-m.j-ie));var pe=_.eb;ie=_.fb+ie*_.A,m=Wk(D,z[0],m.width,W,te,pe,ie+(Q?0:3),_.A),e(O==te),m&&xt(G)&&Am(pe,ie,Q,W,te,_.A)}return 0}function Oi(m){var _=m.ma,O=_.ba.S,D=11>O,z=O==Zv||O==e0||O==t0||O==Rw||O==12||xt(O);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!gm(_.Oa,m,z?11:12))return 0;if(z&&xt(O)&&ms(),m.da)alert("todo:use_scaling");else{if(D){if(_.Ib=wo,m.Kb){if(O=m.U+1>>1,_.memory=a(m.U+2*O),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+m.U,_.Mc=_.cc,_.Nc=_.dc+O,_.Ib=Tr,ms()}}else alert("todo:EmitYUV");z&&(_.Jb=as,D&&ya())}if(D&&!o3){for(m=0;256>m;++m)vH[m]=89858*(m-128)+i0>>r0,wH[m]=-22014*(m-128)+i0,xH[m]=-45773*(m-128),bH[m]=113618*(m-128)+i0>>r0;for(m=Em;m<Bw;++m)_=76283*(m-16)+i0>>r0,_H[m-Em]=ma(_,255),SH[m-Em]=ma(_+8>>4,15);o3=1}return 1}function bt(m){var _=m.ma,O=m.U,D=m.T;return e(!(1&m.ka)),0>=O||0>=D?0:(O=_.Ib(m,_),_.Jb!=null&&_.Jb(m,_,O),_.Dc+=O,1)}function qn(m){m.ma.memory=null}function ss(m,_,O,D){return H(m,8)!=47?0:(_[0]=H(m,14)+1,O[0]=H(m,14)+1,D[0]=H(m,1),H(m,3)!=0?0:!m.h)}function ai(m,_){if(4>m)return m+1;var O=m-2>>1;return(2+(1&m)<<O)+H(_,O)+1}function si(m,_){return 120<_?_-120:1<=(O=((O=iH[_-1])>>4)*m+(8-(15&O)))?O:1;var O}function Jn(m,_,O){var D=ee(O),z=m[_+=255&D].g-8;return 0<z&&(ce(O,O.u+8),D=ee(O),_+=m[_].value,_+=D&(1<<z)-1),ce(O,O.u+m[_].g),m[_].value}function Ur(m,_,O){return O.g+=m.g,O.value+=m.value<<_>>>0,e(8>=O.g),m.g}function Zn(m,_,O){var D=m.xc;return e((_=D==0?0:m.vc[m.md*(O>>D)+(_>>D)])<m.Wb),m.Ya[_]}function hl(m,_,O,D){var z=m.ab,W=m.c*_,G=m.C;_=G+_;var Q=O,te=D;for(D=m.Ta,O=m.Ua;0<z--;){var ie=m.gc[z],pe=G,Ne=_,ae=Q,ve=te,_e=(te=D,Q=O,ie.Ea);switch(e(pe<Ne),e(Ne<=ie.nc),ie.hc){case 2:Ir(ae,ve,(Ne-pe)*_e,te,Q);break;case 0:var Te=pe,Ae=Ne,Ce=te,Oe=Q,Be=(ut=ie).Ea;Te==0&&(vm(ae,ve,null,null,1,Ce,Oe),vt(ae,ve+1,0,0,Be-1,Ce,Oe+1),ve+=Be,Oe+=Be,++Te);for(var De=1<<ut.b,dt=De-1,nt=je(Be,ut.b),Bt=ut.K,ut=ut.w+(Te>>ut.b)*nt;Te<Ae;){var en=Bt,Xr=ut,Vt=1;for(Od(ae,ve,Ce,Oe-Be,1,Ce,Oe);Vt<Be;){var ft=(Vt&~dt)+De;ft>Be&&(ft=Be),(0,xm[en[Xr++]>>8&15])(ae,ve+ +Vt,Ce,Oe+Vt-Be,ft-Vt,Ce,Oe+Vt),Vt=ft}ve+=Be,Oe+=Be,++Te&dt||(ut+=nt)}Ne!=ie.nc&&r(te,Q-_e,te,Q+(Ne-pe-1)*_e,_e);break;case 1:for(_e=ae,Ae=ve,Be=(ae=ie.Ea)-(Oe=ae&~(Ce=(ve=1<<ie.b)-1)),Te=je(ae,ie.b),De=ie.K,ie=ie.w+(pe>>ie.b)*Te;pe<Ne;){for(dt=De,nt=ie,Bt=new Je,ut=Ae+Oe,en=Ae+ae;Ae<ut;)tt(dt[nt++],Bt),wm(Bt,_e,Ae,ve,te,Q),Ae+=ve,Q+=ve;Ae<en&&(tt(dt[nt++],Bt),wm(Bt,_e,Ae,Be,te,Q),Ae+=Be,Q+=Be),++pe&Ce||(ie+=Te)}break;case 3:if(ae==te&&ve==Q&&0<ie.b){for(Ae=te,ae=_e=Q+(Ne-pe)*_e-(Oe=(Ne-pe)*je(ie.Ea,ie.b)),ve=te,Ce=Q,Te=[],Oe=(Be=Oe)-1;0<=Oe;--Oe)Te[Oe]=ve[Ce+Oe];for(Oe=Be-1;0<=Oe;--Oe)Ae[ae+Oe]=Te[Oe];Yv(ie,pe,Ne,te,_e,te,Q)}else Yv(ie,pe,Ne,ae,ve,te,Q)}Q=D,te=O}te!=O&&r(D,O,Q,te,W)}function _o(m,_){var O=m.V,D=m.Ba+m.c*m.C,z=_-m.C;if(e(_<=m.l.o),e(16>=z),0<z){var W=m.l,G=m.Ta,Q=m.Ua,te=W.width;if(hl(m,z,O,D),z=Q=[Q],e((O=m.C)<(D=_)),e(W.v<W.va),D>W.o&&(D=W.o),O<W.j){var ie=W.j-O;O=W.j,z[0]+=ie*te}if(O>=D?O=0:(z[0]+=4*W.v,W.ka=O-W.j,W.U=W.va-W.v,W.T=D-O,O=1),O){if(Q=Q[0],11>(O=m.ca).S){var pe=O.f.RGBA,Ne=(D=O.S,z=W.U,W=W.T,ie=pe.eb,pe.A),ae=W;for(pe=pe.fb+m.Ma*pe.A;0<ae--;){var ve=G,_e=Q,Te=z,Ae=ie,Ce=pe;switch(D){case Jv:_m(ve,_e,Te,Ae,Ce);break;case Zv:Cc(ve,_e,Te,Ae,Ce);break;case Mw:Cc(ve,_e,Te,Ae,Ce),Am(Ae,Ce,0,Te,1,0);break;case Jk:ff(ve,_e,Te,Ae,Ce);break;case e0:pt(ve,_e,Te,Ae,Ce,1);break;case Lw:pt(ve,_e,Te,Ae,Ce,1),Am(Ae,Ce,0,Te,1,0);break;case t0:pt(ve,_e,Te,Ae,Ce,0);break;case n0:pt(ve,_e,Te,Ae,Ce,0),Am(Ae,Ce,1,Te,1,0);break;case Rw:jc(ve,_e,Te,Ae,Ce);break;case Dw:jc(ve,_e,Te,Ae,Ce),qk(Ae,Ce,Te,1,0);break;case Zk:Oc(ve,_e,Te,Ae,Ce);break;default:e(0)}Q+=te,pe+=Ne}m.Ma+=W}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=O.height)}}m.C=_,e(m.C<=m.i)}function Ri(m){var _;if(0<m.ua)return 0;for(_=0;_<m.Wb;++_){var O=m.Ya[_].G,D=m.Ya[_].H;if(0<O[1][D[1]+0].g||0<O[2][D[2]+0].g||0<O[3][D[3]+0].g)return 0}return 1}function Ia(m,_,O,D,z,W){if(m.Z!=0){var G=m.qd,Q=m.rd;for(e(Lc[m.Z]!=null);_<O;++_)Lc[m.Z](G,Q,D,z,D,z,W),G=D,Q=z,z+=W;m.qd=G,m.rd=Q}}function ra(m,_){var O=m.l.ma,D=O.Z==0||O.Z==1?m.l.j:m.C;if(D=m.C<D?D:m.C,e(_<=m.l.o),_>D){var z=m.l.width,W=O.ca,G=O.tb+z*D,Q=m.V,te=m.Ba+m.c*D,ie=m.gc;e(m.ab==1),e(ie[0].hc==3),jo(ie[0],D,_,Q,te,W,G),Ia(O,D,_,W,G,z)}m.C=m.Ma=_}function Mi(m,_,O,D,z,W,G){var Q=m.$/D,te=m.$%D,ie=m.m,pe=m.s,Ne=O+m.$,ae=Ne;z=O+D*z;var ve=O+D*W,_e=280+pe.ua,Te=m.Pb?Q:16777216,Ae=0<pe.ua?pe.Wa:null,Ce=pe.wc,Oe=Ne<ve?Zn(pe,te,Q):null;e(m.C<W),e(ve<=z);var Be=!1;e:for(;;){for(;Be||Ne<ve;){var De=0;if(Q>=Te){var dt=Ne-O;e((Te=m).Pb),Te.wd=Te.m,Te.xd=dt,0<Te.s.ua&&he(Te.s.Wa,Te.s.vb),Te=Q+sH}if(te&Ce||(Oe=Zn(pe,te,Q)),e(Oe!=null),Oe.Qb&&(_[Ne]=Oe.qb,Be=!0),!Be)if(fe(ie),Oe.jc){De=ie,dt=_;var nt=Ne,Bt=Oe.pd[ee(De)&uf-1];e(Oe.jc),256>Bt.g?(ce(De,De.u+Bt.g),dt[nt]=Bt.value,De=0):(ce(De,De.u+Bt.g-256),e(256<=Bt.value),De=Bt.value),De==0&&(Be=!0)}else De=Jn(Oe.G[0],Oe.H[0],ie);if(ie.h)break;if(Be||256>De){if(!Be)if(Oe.nd)_[Ne]=(Oe.qb|De<<8)>>>0;else{if(fe(ie),Be=Jn(Oe.G[1],Oe.H[1],ie),fe(ie),dt=Jn(Oe.G[2],Oe.H[2],ie),nt=Jn(Oe.G[3],Oe.H[3],ie),ie.h)break;_[Ne]=(nt<<24|Be<<16|De<<8|dt)>>>0}if(Be=!1,++Ne,++te>=D&&(te=0,++Q,G!=null&&Q<=W&&!(Q%16)&&G(m,Q),Ae!=null))for(;ae<Ne;)De=_[ae++],Ae.X[(506832829*De&4294967295)>>>Ae.Mb]=De}else if(280>De){if(De=ai(De-256,ie),dt=Jn(Oe.G[4],Oe.H[4],ie),fe(ie),dt=si(D,dt=ai(dt,ie)),ie.h)break;if(Ne-O<dt||z-Ne<De)break e;for(nt=0;nt<De;++nt)_[Ne+nt]=_[Ne+nt-dt];for(Ne+=De,te+=De;te>=D;)te-=D,++Q,G!=null&&Q<=W&&!(Q%16)&&G(m,Q);if(e(Ne<=z),te&Ce&&(Oe=Zn(pe,te,Q)),Ae!=null)for(;ae<Ne;)De=_[ae++],Ae.X[(506832829*De&4294967295)>>>Ae.Mb]=De}else{if(!(De<_e))break e;for(Be=De-280,e(Ae!=null);ae<Ne;)De=_[ae++],Ae.X[(506832829*De&4294967295)>>>Ae.Mb]=De;De=Ne,e(!(Be>>>(dt=Ae).Xa)),_[De]=dt.X[Be],Be=!0}Be||e(ie.h==se(ie))}if(m.Pb&&ie.h&&Ne<z)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&he(m.s.vb,m.s.Wa);else{if(ie.h)break e;G!=null&&G(m,Q>W?W:Q),m.a=0,m.$=Ne-O}return 1}return m.a=3,0}function kr(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var _=m.Wa;_!=null&&(_.X=null),m.vb=null,e(m!=null)}function So(){var m=new _t;return m==null?null:(m.a=0,m.xb=n3,hn("Predictor","VP8LPredictors"),hn("Predictor","VP8LPredictors_C"),hn("PredictorAdd","VP8LPredictorsAdd"),hn("PredictorAdd","VP8LPredictorsAdd_C"),Ir=Mt,wm=Nt,_m=vn,Cc=qt,jc=Ft,Oc=Lt,ff=Dn,N.VP8LMapColor32b=Co,N.VP8LMapColor8b=bm,m)}function Ca(m,_,O,D,z){var W=1,G=[m],Q=[_],te=D.m,ie=D.s,pe=null,Ne=0;e:for(;;){if(O)for(;W&&H(te,1);){var ae=G,ve=Q,_e=D,Te=1,Ae=_e.m,Ce=_e.gc[_e.ab],Oe=H(Ae,2);if(_e.Oc&1<<Oe)W=0;else{switch(_e.Oc|=1<<Oe,Ce.hc=Oe,Ce.Ea=ae[0],Ce.nc=ve[0],Ce.K=[null],++_e.ab,e(4>=_e.ab),Oe){case 0:case 1:Ce.b=H(Ae,3)+2,Te=Ca(je(Ce.Ea,Ce.b),je(Ce.nc,Ce.b),0,_e,Ce.K),Ce.K=Ce.K[0];break;case 3:var Be,De=H(Ae,8)+1,dt=16<De?0:4<De?1:2<De?2:3;if(ae[0]=je(Ce.Ea,dt),Ce.b=dt,Be=Te=Ca(De,1,0,_e,Ce.K)){var nt,Bt=De,ut=Ce,en=1<<(8>>ut.b),Xr=a(en);if(Xr==null)Be=0;else{var Vt=ut.K[0],ft=ut.w;for(Xr[0]=ut.K[0][0],nt=1;nt<1*Bt;++nt)Xr[nt]=Ke(Vt[ft+nt],Xr[nt-1]);for(;nt<4*en;++nt)Xr[nt]=0;ut.K[0]=null,ut.K[0]=Xr,Be=1}}Te=Be;break;case 2:break;default:e(0)}W=Te}}if(G=G[0],Q=Q[0],W&&H(te,1)&&!(W=1<=(Ne=H(te,4))&&11>=Ne)){D.a=3;break e}var He;if(He=W)t:{var jr,Dt,rn,Wn=D,xi=G,sa=Q,br=Ne,Di=O,oa=Wn.m,Qr=Wn.s,sn=[null],xn=1,xr=0,wn=aH[br];n:for(;;){if(Di&&H(oa,1)){var wi=H(oa,3)+2,Ks=je(xi,wi),Or=je(sa,wi),va=Ks*Or;if(!Ca(Ks,Or,0,Wn,sn))break n;for(sn=sn[0],Qr.xc=wi,jr=0;jr<va;++jr){var On=sn[jr]>>8&65535;sn[jr]=On,On>=xn&&(xn=On+1)}}if(oa.h)break n;for(Dt=0;5>Dt;++Dt){var Jr=e3[Dt];!Dt&&0<br&&(Jr+=1<<br),xr<Jr&&(xr=Jr)}var Fa=s(xn*wn,C),la=xn,$a=s(la,X);if($a==null)var Ba=null;else e(65536>=la),Ba=$a;var ba=a(xr);if(Ba==null||ba==null||Fa==null){Wn.a=1;break n}var Va=Fa;for(jr=rn=0;jr<xn;++jr){var $n=Ba[jr],Ua=$n.G,Ys=$n.H,hf=0,Nl=1,_i=0;for(Dt=0;5>Dt;++Dt){Jr=e3[Dt],Ua[Dt]=Va,Ys[Dt]=rn,!Dt&&0<br&&(Jr+=1<<br);i:{var s0,Vw=Jr,o0=Wn,Pm=ba,EH=Va,PH=rn,Uw=0,Dc=o0.m,TH=H(Dc,1);if(i(Pm,0,0,Vw),TH){var kH=H(Dc,1)+1,IH=H(Dc,1),u3=H(Dc,IH==0?1:8);Pm[u3]=1,kH==2&&(Pm[u3=H(Dc,8)]=1);var l0=1}else{var f3=a(19),d3=H(Dc,4)+4;if(19<d3){o0.a=3;var c0=0;break i}for(s0=0;s0<d3;++s0)f3[rH[s0]]=H(Dc,3);var zw=void 0,Tm=void 0,h3=o0,CH=f3,u0=Vw,p3=Pm,qw=0,Fc=h3.m,m3=8,g3=s(128,C);r:for(;j(g3,0,7,CH,19);){if(H(Fc,1)){var jH=2+2*H(Fc,3);if((zw=2+H(Fc,jH))>u0)break r}else zw=u0;for(Tm=0;Tm<u0&&zw--;){fe(Fc);var y3=g3[0+(127&ee(Fc))];ce(Fc,Fc.u+y3.g);var Md=y3.value;if(16>Md)p3[Tm++]=Md,Md!=0&&(m3=Md);else{var OH=Md==16,v3=Md-16,RH=tH[v3],b3=H(Fc,eH[v3])+RH;if(Tm+b3>u0)break r;for(var MH=OH?m3:0;0<b3--;)p3[Tm++]=MH}}qw=1;break r}qw||(h3.a=3),l0=qw}(l0=l0&&!Dc.h)&&(Uw=j(EH,PH,8,Pm,Vw)),l0&&Uw!=0?c0=Uw:(o0.a=3,c0=0)}if(c0==0)break n;if(Nl&&nH[Dt]==1&&(Nl=Va[rn].g==0),hf+=Va[rn].g,rn+=c0,3>=Dt){var km,Ww=ba[0];for(km=1;km<Jr;++km)ba[km]>Ww&&(Ww=ba[km]);_i+=Ww}}if($n.nd=Nl,$n.Qb=0,Nl&&($n.qb=(Ua[3][Ys[3]+0].value<<24|Ua[1][Ys[1]+0].value<<16|Ua[2][Ys[2]+0].value)>>>0,hf==0&&256>Ua[0][Ys[0]+0].value&&($n.Qb=1,$n.qb+=Ua[0][Ys[0]+0].value<<8)),$n.jc=!$n.Qb&&6>_i,$n.jc){var f0,El=$n;for(f0=0;f0<uf;++f0){var $c=f0,Bc=El.pd[$c],d0=El.G[0][El.H[0]+$c];256<=d0.value?(Bc.g=d0.g+256,Bc.value=d0.value):(Bc.g=0,Bc.value=0,$c>>=Ur(d0,8,Bc),$c>>=Ur(El.G[1][El.H[1]+$c],16,Bc),$c>>=Ur(El.G[2][El.H[2]+$c],0,Bc),Ur(El.G[3][El.H[3]+$c],24,Bc))}}}Qr.vc=sn,Qr.Wb=xn,Qr.Ya=Ba,Qr.yc=Fa,He=1;break t}He=0}if(!(W=He)){D.a=3;break e}if(0<Ne){if(ie.ua=1<<Ne,!J(ie.Wa,Ne)){D.a=1,W=0;break e}}else ie.ua=0;var Hw=D,x3=G,LH=Q,Gw=Hw.s,Kw=Gw.xc;if(Hw.c=x3,Hw.i=LH,Gw.md=je(x3,Kw),Gw.wc=Kw==0?-1:(1<<Kw)-1,O){D.xb=hH;break e}if((pe=a(G*Q))==null){D.a=1,W=0;break e}W=(W=Mi(D,pe,0,G,Q,Q,null))&&!te.h;break e}return W?(z!=null?z[0]=pe:(e(pe==null),e(O)),D.$=0,O||kr(ie)):kr(ie),W}function zs(m,_){var O=m.c*m.i,D=O+_+16*_;return e(m.c<=_),m.V=a(D),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+O+_,1)}function Ao(m,_){var O=m.C,D=_-O,z=m.V,W=m.Ba+m.c*O;for(e(_<=m.l.o);0<D;){var G=16<D?16:D,Q=m.l.ma,te=m.l.width,ie=te*G,pe=Q.ca,Ne=Q.tb+te*O,ae=m.Ta,ve=m.Ua;hl(m,G,z,W),Hk(ae,ve,pe,Ne,ie),Ia(Q,O,O+G,pe,Ne,te),D-=G,z+=G*m.c,O+=G}e(O==_),m.C=m.Ma=_}function pl(){this.ub=this.yd=this.td=this.Rb=0}function ml(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function cm(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function No(){this.Yb=function(){var m=[];return function _(O,D,z){for(var W=z[D],G=0;G<W&&(O.push(z.length>D+1?[]:0),!(z.length<D+1));G++)_(O[G],D+1,z)}(m,0,[3,11]),m}()}function Ju(){this.jb=a(3),this.Wc=o([4,8],No),this.Xc=o([4,17],No)}function xc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function oi(){this.ld=this.La=this.dd=this.tc=0}function ja(){this.Na=this.la=0}function wc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Zu(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ef(){this.uc=this.M=this.Nb=0,this.wa=Array(new oi),this.Y=0,this.ya=Array(new Zu),this.aa=0,this.l=new Eo}function tf(){this.y=a(16),this.f=a(8),this.ea=a(8)}function nf(){this.cb=this.a=0,this.sc="",this.m=new F,this.Od=new pl,this.Kc=new ml,this.ed=new xc,this.Qa=new cm,this.Ic=this.$c=this.Aa=0,this.D=new ef,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,F),this.ia=0,this.pb=s(4,wc),this.Pa=new Ju,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new tf),this.Hd=0,this.rb=Array(new ja),this.sb=0,this.wa=Array(new oi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Zu),this.L=this.aa=0,this.gd=o([4,2],oi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ma(m,_){return 0>m?0:m>_?_:m}function Eo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Nd(){var m=new nf;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Nm||(Nm=gl)),m}function ir(m,_,O){return m.a==0&&(m.a=_,m.sc=O,m.cb=0),0}function Ed(m,_,O){return 3<=O&&m[_+0]==157&&m[_+1]==1&&m[_+2]==42}function os(m,_){if(m==null)return 0;if(m.a=0,m.sc="OK",_==null)return ir(m,2,"null VP8Io passed to VP8GetHeaders()");var O=_.data,D=_.w,z=_.ha;if(4>z)return ir(m,7,"Truncated header.");var W=O[D+0]|O[D+1]<<8|O[D+2]<<16,G=m.Od;if(G.Rb=!(1&W),G.td=W>>1&7,G.yd=W>>4&1,G.ub=W>>5,3<G.td)return ir(m,3,"Incorrect keyframe parameters.");if(!G.yd)return ir(m,4,"Frame not displayable.");D+=3,z-=3;var Q=m.Kc;if(G.Rb){if(7>z)return ir(m,7,"cannot parse picture header");if(!Ed(O,D,z))return ir(m,3,"Bad code word");Q.c=16383&(O[D+4]<<8|O[D+3]),Q.Td=O[D+4]>>6,Q.i=16383&(O[D+6]<<8|O[D+5]),Q.Ud=O[D+6]>>6,D+=7,z-=7,m.za=Q.c+15>>4,m.Ub=Q.i+15>>4,_.width=Q.c,_.height=Q.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((W=m.Pa).jb,0,255,W.jb.length),e((W=m.Qa)!=null),W.Cb=0,W.Bb=0,W.Fb=1,i(W.Zb,0,0,W.Zb.length),i(W.Lb,0,0,W.Lb)}if(G.ub>z)return ir(m,7,"bad partition length");ne(W=m.m,O,D,G.ub),D+=G.ub,z-=G.ub,G.Rb&&(Q.Ld=ue(W),Q.Kd=ue(W)),Q=m.Qa;var te,ie=m.Pa;if(e(W!=null),e(Q!=null),Q.Cb=ue(W),Q.Cb){if(Q.Bb=ue(W),ue(W)){for(Q.Fb=ue(W),te=0;4>te;++te)Q.Zb[te]=ue(W)?Y(W,7):0;for(te=0;4>te;++te)Q.Lb[te]=ue(W)?Y(W,6):0}if(Q.Bb)for(te=0;3>te;++te)ie.jb[te]=ue(W)?oe(W,8):255}else Q.Bb=0;if(W.Ka)return ir(m,3,"cannot parse segment header");if((Q=m.ed).zd=ue(W),Q.Tb=oe(W,6),Q.wb=oe(W,3),Q.Pc=ue(W),Q.Pc&&ue(W)){for(ie=0;4>ie;++ie)ue(W)&&(Q.vd[ie]=Y(W,6));for(ie=0;4>ie;++ie)ue(W)&&(Q.od[ie]=Y(W,6))}if(m.L=Q.Tb==0?0:Q.zd?1:2,W.Ka)return ir(m,3,"cannot parse filter header");var pe=z;if(z=te=D,D=te+pe,Q=pe,m.Xb=(1<<oe(m.m,2))-1,pe<3*(ie=m.Xb))O=7;else{for(te+=3*ie,Q-=3*ie,pe=0;pe<ie;++pe){var Ne=O[z+0]|O[z+1]<<8|O[z+2]<<16;Ne>Q&&(Ne=Q),ne(m.Jc[+pe],O,te,Ne),te+=Ne,Q-=Ne,z+=3}ne(m.Jc[+ie],O,te,Q),O=te<D?0:5}if(O!=0)return ir(m,O,"cannot parse partitions");for(O=oe(te=m.m,7),z=ue(te)?Y(te,4):0,D=ue(te)?Y(te,4):0,Q=ue(te)?Y(te,4):0,ie=ue(te)?Y(te,4):0,te=ue(te)?Y(te,4):0,pe=m.Qa,Ne=0;4>Ne;++Ne){if(pe.Cb){var ae=pe.Zb[Ne];pe.Fb||(ae+=O)}else{if(0<Ne){m.pb[Ne]=m.pb[0];continue}ae=O}var ve=m.pb[Ne];ve.Sc[0]=Fw[ma(ae+z,127)],ve.Sc[1]=$w[ma(ae+0,127)],ve.Eb[0]=2*Fw[ma(ae+D,127)],ve.Eb[1]=101581*$w[ma(ae+Q,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=Fw[ma(ae+ie,117)],ve.Qc[1]=$w[ma(ae+te,127)],ve.lc=ae+te}if(!G.Rb)return ir(m,4,"Not a key frame.");for(ue(W),G=m.Pa,O=0;4>O;++O){for(z=0;8>z;++z)for(D=0;3>D;++D)for(Q=0;11>Q;++Q)ie=be(W,fH[O][z][D][Q])?oe(W,8):cH[O][z][D][Q],G.Wc[O][z].Yb[D][Q]=ie;for(z=0;17>z;++z)G.Xc[O][z]=G.Wc[O][dH[z]]}return m.kc=ue(W),m.kc&&(m.Bd=oe(W,8)),m.cb=1}function gl(m,_,O,D,z,W,G){var Q=_[z].Yb[O];for(O=0;16>z;++z){if(!be(m,Q[O+0]))return z;for(;!be(m,Q[O+1]);)if(Q=_[++z].Yb[0],O=0,z==16)return 16;var te=_[z+1].Yb;if(be(m,Q[O+2])){var ie=m,pe=0;if(be(ie,(ae=Q)[(Ne=O)+3]))if(be(ie,ae[Ne+6])){for(Q=0,Ne=2*(pe=be(ie,ae[Ne+8]))+(ae=be(ie,ae[Ne+9+pe])),pe=0,ae=oH[Ne];ae[Q];++Q)pe+=pe+be(ie,ae[Q]);pe+=3+(8<<Ne)}else be(ie,ae[Ne+7])?(pe=7+2*be(ie,165),pe+=be(ie,145)):pe=5+be(ie,159);else pe=be(ie,ae[Ne+4])?3+be(ie,ae[Ne+5]):2;Q=te[2]}else pe=1,Q=te[1];te=G+lH[z],0>(ie=m).b&&ye(ie);var Ne,ae=ie.b,ve=(Ne=ie.Ca>>1)-(ie.I>>ae)>>31;--ie.b,ie.Ca+=ve,ie.Ca|=1,ie.I-=(Ne+1&ve)<<ae,W[te]=((pe^ve)-ve)*D[(0<z)+0]}return 16}function rf(m){var _=m.rb[m.sb-1];_.la=0,_.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function ga(m,_,O,D,z){z=m[_+O+32*D]+(z>>3),m[_+O+32*D]=-256&z?0>z?0:255:z}function Cn(m,_,O,D,z,W){ga(m,_,0,O,D+z),ga(m,_,1,O,D+W),ga(m,_,2,O,D-W),ga(m,_,3,O,D-z)}function Kr(m){return(20091*m>>16)+m}function yl(m,_,O,D){var z,W=0,G=a(16);for(z=0;4>z;++z){var Q=m[_+0]+m[_+8],te=m[_+0]-m[_+8],ie=(35468*m[_+4]>>16)-Kr(m[_+12]),pe=Kr(m[_+4])+(35468*m[_+12]>>16);G[W+0]=Q+pe,G[W+1]=te+ie,G[W+2]=te-ie,G[W+3]=Q-pe,W+=4,_++}for(z=W=0;4>z;++z)Q=(m=G[W+0]+4)+G[W+8],te=m-G[W+8],ie=(35468*G[W+4]>>16)-Kr(G[W+12]),ga(O,D,0,0,Q+(pe=Kr(G[W+4])+(35468*G[W+12]>>16))),ga(O,D,1,0,te+ie),ga(O,D,2,0,te-ie),ga(O,D,3,0,Q-pe),W++,D+=32}function _c(m,_,O,D){var z=m[_+0]+4,W=35468*m[_+4]>>16,G=Kr(m[_+4]),Q=35468*m[_+1]>>16;Cn(O,D,0,z+G,m=Kr(m[_+1]),Q),Cn(O,D,1,z+W,m,Q),Cn(O,D,2,z-W,m,Q),Cn(O,D,3,z-G,m,Q)}function Pd(m,_,O,D,z){yl(m,_,O,D),z&&yl(m,_+16,O,D+4)}function Yt(m,_,O,D){df(m,_+0,O,D,1),df(m,_+32,O,D+128,1)}function vl(m,_,O,D){var z;for(m=m[_+0]+4,z=0;4>z;++z)for(_=0;4>_;++_)ga(O,D,_,z,m)}function Po(m,_,O,D){m[_+0]&&mn(m,_+0,O,D),m[_+16]&&mn(m,_+16,O,D+4),m[_+32]&&mn(m,_+32,O,D+128),m[_+48]&&mn(m,_+48,O,D+128+4)}function ls(m,_,O,D){var z,W=a(16);for(z=0;4>z;++z){var G=m[_+0+z]+m[_+12+z],Q=m[_+4+z]+m[_+8+z],te=m[_+4+z]-m[_+8+z],ie=m[_+0+z]-m[_+12+z];W[0+z]=G+Q,W[8+z]=G-Q,W[4+z]=ie+te,W[12+z]=ie-te}for(z=0;4>z;++z)G=(m=W[0+4*z]+3)+W[3+4*z],Q=W[1+4*z]+W[2+4*z],te=W[1+4*z]-W[2+4*z],ie=m-W[3+4*z],O[D+0]=G+Q>>3,O[D+16]=ie+te>>3,O[D+32]=G-Q>>3,O[D+48]=ie-te>>3,D+=64}function bl(m,_,O){var D,z=_-32,W=Da,G=255-m[z-1];for(D=0;D<O;++D){var Q,te=W,ie=G+m[_-1];for(Q=0;Q<O;++Q)m[_+Q]=te[ie+m[z+Q]];_+=32}}function Td(m,_){bl(m,_,4)}function um(m,_){bl(m,_,8)}function fm(m,_){bl(m,_,16)}function af(m,_){var O;for(O=0;16>O;++O)r(m,_+32*O,m,_-32,16)}function kd(m,_){var O;for(O=16;0<O;--O)i(m,_,m[_-1],16),_+=32}function vi(m,_,O){var D;for(D=0;16>D;++D)i(_,O+32*D,m,16)}function cs(m,_){var O,D=16;for(O=0;16>O;++O)D+=m[_-1+32*O]+m[_+O-32];vi(D>>5,m,_)}function To(m,_){var O,D=8;for(O=0;16>O;++O)D+=m[_-1+32*O];vi(D>>4,m,_)}function Sc(m,_){var O,D=8;for(O=0;16>O;++O)D+=m[_+O-32];vi(D>>4,m,_)}function Id(m,_){vi(128,m,_)}function wt(m,_,O){return m+2*_+O+2>>2}function dm(m,_){var O,D=_-32;for(D=new Uint8Array([wt(m[D-1],m[D+0],m[D+1]),wt(m[D+0],m[D+1],m[D+2]),wt(m[D+1],m[D+2],m[D+3]),wt(m[D+2],m[D+3],m[D+4])]),O=0;4>O;++O)r(m,_+32*O,D,0,D.length)}function hm(m,_){var O=m[_-1],D=m[_-1+32],z=m[_-1+64],W=m[_-1+96];Se(m,_+0,16843009*wt(m[_-1-32],O,D)),Se(m,_+32,16843009*wt(O,D,z)),Se(m,_+64,16843009*wt(D,z,W)),Se(m,_+96,16843009*wt(z,W,W))}function pm(m,_){var O,D=4;for(O=0;4>O;++O)D+=m[_+O-32]+m[_-1+32*O];for(D>>=3,O=0;4>O;++O)i(m,_+32*O,D,4)}function li(m,_){var O=m[_-1+0],D=m[_-1+32],z=m[_-1+64],W=m[_-1-32],G=m[_+0-32],Q=m[_+1-32],te=m[_+2-32],ie=m[_+3-32];m[_+0+96]=wt(D,z,m[_-1+96]),m[_+1+96]=m[_+0+64]=wt(O,D,z),m[_+2+96]=m[_+1+64]=m[_+0+32]=wt(W,O,D),m[_+3+96]=m[_+2+64]=m[_+1+32]=m[_+0+0]=wt(G,W,O),m[_+3+64]=m[_+2+32]=m[_+1+0]=wt(Q,G,W),m[_+3+32]=m[_+2+0]=wt(te,Q,G),m[_+3+0]=wt(ie,te,Q)}function qs(m,_){var O=m[_+1-32],D=m[_+2-32],z=m[_+3-32],W=m[_+4-32],G=m[_+5-32],Q=m[_+6-32],te=m[_+7-32];m[_+0+0]=wt(m[_+0-32],O,D),m[_+1+0]=m[_+0+32]=wt(O,D,z),m[_+2+0]=m[_+1+32]=m[_+0+64]=wt(D,z,W),m[_+3+0]=m[_+2+32]=m[_+1+64]=m[_+0+96]=wt(z,W,G),m[_+3+32]=m[_+2+64]=m[_+1+96]=wt(W,G,Q),m[_+3+64]=m[_+2+96]=wt(G,Q,te),m[_+3+96]=wt(Q,te,te)}function mm(m,_){var O=m[_-1+0],D=m[_-1+32],z=m[_-1+64],W=m[_-1-32],G=m[_+0-32],Q=m[_+1-32],te=m[_+2-32],ie=m[_+3-32];m[_+0+0]=m[_+1+64]=W+G+1>>1,m[_+1+0]=m[_+2+64]=G+Q+1>>1,m[_+2+0]=m[_+3+64]=Q+te+1>>1,m[_+3+0]=te+ie+1>>1,m[_+0+96]=wt(z,D,O),m[_+0+64]=wt(D,O,W),m[_+0+32]=m[_+1+96]=wt(O,W,G),m[_+1+32]=m[_+2+96]=wt(W,G,Q),m[_+2+32]=m[_+3+96]=wt(G,Q,te),m[_+3+32]=wt(Q,te,ie)}function Ac(m,_){var O=m[_+0-32],D=m[_+1-32],z=m[_+2-32],W=m[_+3-32],G=m[_+4-32],Q=m[_+5-32],te=m[_+6-32],ie=m[_+7-32];m[_+0+0]=O+D+1>>1,m[_+1+0]=m[_+0+64]=D+z+1>>1,m[_+2+0]=m[_+1+64]=z+W+1>>1,m[_+3+0]=m[_+2+64]=W+G+1>>1,m[_+0+32]=wt(O,D,z),m[_+1+32]=m[_+0+96]=wt(D,z,W),m[_+2+32]=m[_+1+96]=wt(z,W,G),m[_+3+32]=m[_+2+96]=wt(W,G,Q),m[_+3+64]=wt(G,Q,te),m[_+3+96]=wt(Q,te,ie)}function Ws(m,_){var O=m[_-1+0],D=m[_-1+32],z=m[_-1+64],W=m[_-1+96];m[_+0+0]=O+D+1>>1,m[_+2+0]=m[_+0+32]=D+z+1>>1,m[_+2+32]=m[_+0+64]=z+W+1>>1,m[_+1+0]=wt(O,D,z),m[_+3+0]=m[_+1+32]=wt(D,z,W),m[_+3+32]=m[_+1+64]=wt(z,W,W),m[_+3+64]=m[_+2+64]=m[_+0+96]=m[_+1+96]=m[_+2+96]=m[_+3+96]=W}function Nc(m,_){var O=m[_-1+0],D=m[_-1+32],z=m[_-1+64],W=m[_-1+96],G=m[_-1-32],Q=m[_+0-32],te=m[_+1-32],ie=m[_+2-32];m[_+0+0]=m[_+2+32]=O+G+1>>1,m[_+0+32]=m[_+2+64]=D+O+1>>1,m[_+0+64]=m[_+2+96]=z+D+1>>1,m[_+0+96]=W+z+1>>1,m[_+3+0]=wt(Q,te,ie),m[_+2+0]=wt(G,Q,te),m[_+1+0]=m[_+3+32]=wt(O,G,Q),m[_+1+32]=m[_+3+64]=wt(D,O,G),m[_+1+64]=m[_+3+96]=wt(z,D,O),m[_+1+96]=wt(W,z,D)}function Oa(m,_){var O;for(O=0;8>O;++O)r(m,_+32*O,m,_-32,8)}function xl(m,_){var O;for(O=0;8>O;++O)i(m,_,m[_-1],8),_+=32}function us(m,_,O){var D;for(D=0;8>D;++D)i(_,O+32*D,m,8)}function sf(m,_){var O,D=8;for(O=0;8>O;++O)D+=m[_+O-32]+m[_-1+32*O];us(D>>4,m,_)}function Tn(m,_){var O,D=4;for(O=0;8>O;++O)D+=m[_+O-32];us(D>>3,m,_)}function of(m,_){var O,D=4;for(O=0;8>O;++O)D+=m[_-1+32*O];us(D>>3,m,_)}function Cd(m,_){us(128,m,_)}function fs(m,_,O){var D=m[_-O],z=m[_+0],W=3*(z-D)+Ow[1020+m[_-2*O]-m[_+O]],G=Qv[112+(W+4>>3)];m[_-O]=Da[255+D+Qv[112+(W+3>>3)]],m[_+0]=Da[255+z-G]}function Ec(m,_,O,D){var z=m[_+0],W=m[_+O];return ys[255+m[_-2*O]-m[_-O]]>D||ys[255+W-z]>D}function wl(m,_,O,D){return 4*ys[255+m[_-O]-m[_+0]]+ys[255+m[_-2*O]-m[_+O]]<=D}function ko(m,_,O,D,z){var W=m[_-3*O],G=m[_-2*O],Q=m[_-O],te=m[_+0],ie=m[_+O],pe=m[_+2*O],Ne=m[_+3*O];return 4*ys[255+Q-te]+ys[255+G-ie]>D?0:ys[255+m[_-4*O]-W]<=z&&ys[255+W-G]<=z&&ys[255+G-Q]<=z&&ys[255+Ne-pe]<=z&&ys[255+pe-ie]<=z&&ys[255+ie-te]<=z}function Io(m,_,O,D){var z=2*D+1;for(D=0;16>D;++D)wl(m,_+D,O,z)&&fs(m,_+D,O)}function ia(m,_,O,D){var z=2*D+1;for(D=0;16>D;++D)wl(m,_+D*O,1,z)&&fs(m,_+D*O,1)}function lf(m,_,O,D){var z;for(z=3;0<z;--z)Io(m,_+=4*O,O,D)}function jd(m,_,O,D){var z;for(z=3;0<z;--z)ia(m,_+=4,O,D)}function aa(m,_,O,D,z,W,G,Q){for(W=2*W+1;0<z--;){if(ko(m,_,O,W,G))if(Ec(m,_,O,Q))fs(m,_,O);else{var te=m,ie=_,pe=O,Ne=te[ie-2*pe],ae=te[ie-pe],ve=te[ie+0],_e=te[ie+pe],Te=te[ie+2*pe],Ae=27*(Oe=Ow[1020+3*(ve-ae)+Ow[1020+Ne-_e]])+63>>7,Ce=18*Oe+63>>7,Oe=9*Oe+63>>7;te[ie-3*pe]=Da[255+te[ie-3*pe]+Oe],te[ie-2*pe]=Da[255+Ne+Ce],te[ie-pe]=Da[255+ae+Ae],te[ie+0]=Da[255+ve-Ae],te[ie+pe]=Da[255+_e-Ce],te[ie+2*pe]=Da[255+Te-Oe]}_+=D}}function ds(m,_,O,D,z,W,G,Q){for(W=2*W+1;0<z--;){if(ko(m,_,O,W,G))if(Ec(m,_,O,Q))fs(m,_,O);else{var te=m,ie=_,pe=O,Ne=te[ie-pe],ae=te[ie+0],ve=te[ie+pe],_e=Qv[112+(4+(Te=3*(ae-Ne))>>3)],Te=Qv[112+(Te+3>>3)],Ae=_e+1>>1;te[ie-2*pe]=Da[255+te[ie-2*pe]+Ae],te[ie-pe]=Da[255+Ne+Te],te[ie+0]=Da[255+ae-_e],te[ie+pe]=Da[255+ve-Ae]}_+=D}}function Pc(m,_,O,D,z,W){aa(m,_,O,1,16,D,z,W)}function hs(m,_,O,D,z,W){aa(m,_,1,O,16,D,z,W)}function cf(m,_,O,D,z,W){var G;for(G=3;0<G;--G)ds(m,_+=4*O,O,1,16,D,z,W)}function T(m,_,O,D,z,W){var G;for(G=3;0<G;--G)ds(m,_+=4,1,O,16,D,z,W)}function B(m,_,O,D,z,W,G,Q){aa(m,_,z,1,8,W,G,Q),aa(O,D,z,1,8,W,G,Q)}function re(m,_,O,D,z,W,G,Q){aa(m,_,1,z,8,W,G,Q),aa(O,D,1,z,8,W,G,Q)}function de(m,_,O,D,z,W,G,Q){ds(m,_+4*z,z,1,8,W,G,Q),ds(O,D+4*z,z,1,8,W,G,Q)}function xe(m,_,O,D,z,W,G,Q){ds(m,_+4,1,z,8,W,G,Q),ds(O,D+4,1,z,8,W,G,Q)}function Ie(){this.ba=new $t,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Wt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Le(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Xe(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function lt(){this.ua=0,this.Wa=new Fe,this.vb=new Fe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new X,this.yc=new C}function _t(){this.xb=this.a=0,this.l=new Eo,this.ca=new $t,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new lt,this.ab=0,this.gc=s(4,Xe),this.Oc=0}function It(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Eo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Xt(m,_,O,D,z,W,G){for(m=m==null?0:m[_+0],_=0;_<G;++_)z[W+_]=m+O[D+_]&255,m=z[W+_]}function dn(m,_,O,D,z,W,G){var Q;if(m==null)Xt(null,null,O,D,z,W,G);else for(Q=0;Q<G;++Q)z[W+Q]=m[_+Q]+O[D+Q]&255}function ar(m,_,O,D,z,W,G){if(m==null)Xt(null,null,O,D,z,W,G);else{var Q,te=m[_+0],ie=te,pe=te;for(Q=0;Q<G;++Q)ie=pe+(te=m[_+Q])-ie,pe=O[D+Q]+(-256&ie?0>ie?0:255:ie)&255,ie=te,z[W+Q]=pe}}function bn(m,_,O,D){var z=_.width,W=_.o;if(e(m!=null&&_!=null),0>O||0>=D||O+D>W)return null;if(!m.Cc){if(m.ga==null){var G;if(m.ga=new It,(G=m.ga==null)||(G=_.width*_.o,e(m.Gb.length==0),m.Gb=a(G),m.Uc=0,m.Gb==null?G=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,G=1),G=!G),!G){G=m.ga;var Q=m.Fa,te=m.P,ie=m.qc,pe=m.mb,Ne=m.nb,ae=te+1,ve=ie-1,_e=G.l;if(e(Q!=null&&pe!=null&&_!=null),Lc[0]=null,Lc[1]=Xt,Lc[2]=dn,Lc[3]=ar,G.ca=pe,G.tb=Ne,G.c=_.width,G.i=_.height,e(0<G.c&&0<G.i),1>=ie)_=0;else if(G.$a=3&Q[te+0],G.Z=Q[te+0]>>2&3,G.Lc=Q[te+0]>>4&3,te=Q[te+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||te)_=0;else if(_e.put=bt,_e.ac=Oi,_e.bc=qn,_e.ma=G,_e.width=_.width,_e.height=_.height,_e.Da=_.Da,_e.v=_.v,_e.va=_.va,_e.j=_.j,_e.o=_.o,G.$a)e:{e(G.$a==1),_=So();t:for(;;){if(_==null){_=0;break e}if(e(G!=null),G.mc=_,_.c=G.c,_.i=G.i,_.l=G.l,_.l.ma=G,_.l.width=G.c,_.l.height=G.i,_.a=0,le(_.m,Q,ae,ve),!Ca(G.c,G.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Ri(_.s)?(G.ic=1,Q=_.c*_.i,_.Ta=null,_.Ua=0,_.V=a(Q),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(G.ic=0,_=zs(_,G.c)),!_))break t;_=1;break e}G.mc=null,_=0}else _=ve>=G.c*G.i;G=!_}if(G)return null;m.ga.Lc!=1?m.Ga=0:D=W-O}e(m.ga!=null),e(O+D<=W);e:{if(_=(Q=m.ga).c,W=Q.l.o,Q.$a==0){if(ae=m.rc,ve=m.Vc,_e=m.Fa,te=m.P+1+O*_,ie=m.mb,pe=m.nb+O*_,e(te<=m.P+m.qc),Q.Z!=0)for(e(Lc[Q.Z]!=null),G=0;G<D;++G)Lc[Q.Z](ae,ve,_e,te,ie,pe,_),ae=ie,ve=pe,pe+=_,te+=_;else for(G=0;G<D;++G)r(ie,pe,_e,te,_),ae=ie,ve=pe,pe+=_,te+=_;m.rc=ae,m.Vc=ve}else{if(e(Q.mc!=null),_=O+D,e((G=Q.mc)!=null),e(_<=G.i),G.C>=_)_=1;else if(Q.ic||ya(),Q.ic){Q=G.V,ae=G.Ba,ve=G.c;var Te=G.i,Ae=(_e=1,te=G.$/ve,ie=G.$%ve,pe=G.m,Ne=G.s,G.$),Ce=ve*Te,Oe=ve*_,Be=Ne.wc,De=Ae<Oe?Zn(Ne,ie,te):null;e(Ae<=Ce),e(_<=Te),e(Ri(Ne));t:for(;;){for(;!pe.h&&Ae<Oe;){if(ie&Be||(De=Zn(Ne,ie,te)),e(De!=null),fe(pe),256>(Te=Jn(De.G[0],De.H[0],pe)))Q[ae+Ae]=Te,++Ae,++ie>=ve&&(ie=0,++te<=_&&!(te%16)&&ra(G,te));else{if(!(280>Te)){_e=0;break t}Te=ai(Te-256,pe);var dt,nt=Jn(De.G[4],De.H[4],pe);if(fe(pe),!(Ae>=(nt=si(ve,nt=ai(nt,pe)))&&Ce-Ae>=Te)){_e=0;break t}for(dt=0;dt<Te;++dt)Q[ae+Ae+dt]=Q[ae+Ae+dt-nt];for(Ae+=Te,ie+=Te;ie>=ve;)ie-=ve,++te<=_&&!(te%16)&&ra(G,te);Ae<Oe&&ie&Be&&(De=Zn(Ne,ie,te))}e(pe.h==se(pe))}ra(G,te>_?_:te);break t}!_e||pe.h&&Ae<Ce?(_e=0,G.a=pe.h?5:3):G.$=Ae,_=_e}else _=Mi(G,G.V,G.Ba,G.c,G.i,_,Ao);if(!_){D=0;break e}}O+D>=W&&(m.Cc=1),D=1}if(!D)return null;if(m.Cc&&((D=m.ga)!=null&&(D.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+O*z}function yr(m,_,O,D,z,W){for(;0<z--;){var G,Q=m,te=_+(O?1:0),ie=m,pe=_+(O?0:3);for(G=0;G<D;++G){var Ne=ie[pe+4*G];Ne!=255&&(Ne*=32897,Q[te+4*G+0]=Q[te+4*G+0]*Ne>>23,Q[te+4*G+1]=Q[te+4*G+1]*Ne>>23,Q[te+4*G+2]=Q[te+4*G+2]*Ne>>23)}_+=W}}function sr(m,_,O,D,z){for(;0<D--;){var W;for(W=0;W<O;++W){var G=m[_+2*W+0],Q=15&(ie=m[_+2*W+1]),te=4369*Q,ie=(240&ie|ie>>4)*te>>16;m[_+2*W+0]=(240&G|G>>4)*te>>16&240|(15&G|G<<4)*te>>16>>4&15,m[_+2*W+1]=240&ie|Q}_+=z}}function vr(m,_,O,D,z,W,G,Q){var te,ie,pe=255;for(ie=0;ie<z;++ie){for(te=0;te<D;++te){var Ne=m[_+te];W[G+4*te]=Ne,pe&=Ne}_+=O,G+=Q}return pe!=255}function or(m,_,O,D,z){var W;for(W=0;W<z;++W)O[D+W]=m[_+W]>>8}function ya(){Am=yr,qk=sr,Wk=vr,Hk=or}function ps(m,_,O){N[m]=function(D,z,W,G,Q,te,ie,pe,Ne,ae,ve,_e,Te,Ae,Ce,Oe,Be){var De,dt=Be-1>>1,nt=Q[te+0]|ie[pe+0]<<16,Bt=Ne[ae+0]|ve[_e+0]<<16;e(D!=null);var ut=3*nt+Bt+131074>>2;for(_(D[z+0],255&ut,ut>>16,Te,Ae),W!=null&&(ut=3*Bt+nt+131074>>2,_(W[G+0],255&ut,ut>>16,Ce,Oe)),De=1;De<=dt;++De){var en=Q[te+De]|ie[pe+De]<<16,Xr=Ne[ae+De]|ve[_e+De]<<16,Vt=nt+en+Bt+Xr+524296,ft=Vt+2*(en+Bt)>>3;ut=ft+nt>>1,nt=(Vt=Vt+2*(nt+Xr)>>3)+en>>1,_(D[z+2*De-1],255&ut,ut>>16,Te,Ae+(2*De-1)*O),_(D[z+2*De-0],255&nt,nt>>16,Te,Ae+(2*De-0)*O),W!=null&&(ut=Vt+Bt>>1,nt=ft+Xr>>1,_(W[G+2*De-1],255&ut,ut>>16,Ce,Oe+(2*De-1)*O),_(W[G+2*De+0],255&nt,nt>>16,Ce,Oe+(2*De+0)*O)),nt=en,Bt=Xr}1&Be||(ut=3*nt+Bt+131074>>2,_(D[z+Be-1],255&ut,ut>>16,Te,Ae+(Be-1)*O),W!=null&&(ut=3*Bt+nt+131074>>2,_(W[G+Be-1],255&ut,ut>>16,Ce,Oe+(Be-1)*O)))}}function ms(){vs[Jv]=pH,vs[Zv]=r3,vs[Jk]=mH,vs[e0]=i3,vs[t0]=a3,vs[Rw]=s3,vs[Zk]=gH,vs[Mw]=r3,vs[Lw]=i3,vs[n0]=a3,vs[Dw]=s3}function g(m){return m&-16384?0>m?0:255:m>>yH}function L(m,_){return g((19077*m>>8)+(26149*_>>8)-14234)}function $(m,_,O){return g((19077*m>>8)-(6419*_>>8)-(13320*O>>8)+8708)}function Z(m,_){return g((19077*m>>8)+(33050*_>>8)-17685)}function we(m,_,O,D,z){D[z+0]=L(m,O),D[z+1]=$(m,_,O),D[z+2]=Z(m,_)}function Ee(m,_,O,D,z){D[z+0]=Z(m,_),D[z+1]=$(m,_,O),D[z+2]=L(m,O)}function Ue(m,_,O,D,z){var W=$(m,_,O);_=W<<3&224|Z(m,_)>>3,D[z+0]=248&L(m,O)|W>>5,D[z+1]=_}function Zt(m,_,O,D,z){var W=240&Z(m,_)|15;D[z+0]=240&L(m,O)|$(m,_,O)>>4,D[z+1]=W}function lr(m,_,O,D,z){D[z+0]=255,we(m,_,O,D,z+1)}function Ht(m,_,O,D,z){Ee(m,_,O,D,z),D[z+3]=255}function cn(m,_,O,D,z){we(m,_,O,D,z),D[z+3]=255}function Fn(m,_,O){N[m]=function(D,z,W,G,Q,te,ie,pe,Ne){for(var ae=pe+(-2&Ne)*O;pe!=ae;)_(D[z+0],W[G+0],Q[te+0],ie,pe),_(D[z+1],W[G+0],Q[te+0],ie,pe+O),z+=2,++G,++te,pe+=2*O;1&Ne&&_(D[z+0],W[G+0],Q[te+0],ie,pe)}}function Ra(m,_,O){return O==0?m==0?_==0?6:5:_==0?4:0:O}function Li(m,_,O,D,z){switch(m>>>30){case 3:df(_,O,D,z,0);break;case 2:gs(_,O,D,z);break;case 1:mn(_,O,D,z)}}function bi(m,_){var O,D,z=_.M,W=_.Nb,G=m.oc,Q=m.pc+40,te=m.oc,ie=m.pc+584,pe=m.oc,Ne=m.pc+600;for(O=0;16>O;++O)G[Q+32*O-1]=129;for(O=0;8>O;++O)te[ie+32*O-1]=129,pe[Ne+32*O-1]=129;for(0<z?G[Q-1-32]=te[ie-1-32]=pe[Ne-1-32]=129:(i(G,Q-32-1,127,21),i(te,ie-32-1,127,9),i(pe,Ne-32-1,127,9)),D=0;D<m.za;++D){var ae=_.ya[_.aa+D];if(0<D){for(O=-1;16>O;++O)r(G,Q+32*O-4,G,Q+32*O+12,4);for(O=-1;8>O;++O)r(te,ie+32*O-4,te,ie+32*O+4,4),r(pe,Ne+32*O-4,pe,Ne+32*O+4,4)}var ve=m.Gd,_e=m.Hd+D,Te=ae.ad,Ae=ae.Hc;if(0<z&&(r(G,Q-32,ve[_e].y,0,16),r(te,ie-32,ve[_e].f,0,8),r(pe,Ne-32,ve[_e].ea,0,8)),ae.Za){var Ce=G,Oe=Q-32+16;for(0<z&&(D>=m.za-1?i(Ce,Oe,ve[_e].y[15],4):r(Ce,Oe,ve[_e+1].y,0,4)),O=0;4>O;O++)Ce[Oe+128+O]=Ce[Oe+256+O]=Ce[Oe+384+O]=Ce[Oe+0+O];for(O=0;16>O;++O,Ae<<=2)Ce=G,Oe=Q+l3[O],Gs[ae.Ob[O]](Ce,Oe),Li(Ae,Te,16*+O,Ce,Oe)}else if(Ce=Ra(D,z,ae.Ob[0]),Mc[Ce](G,Q),Ae!=0)for(O=0;16>O;++O,Ae<<=2)Li(Ae,Te,16*+O,G,Q+l3[O]);for(O=ae.Gc,Ce=Ra(D,z,ae.Dd),Al[Ce](te,ie),Al[Ce](pe,Ne),Ae=Te,Ce=te,Oe=ie,255&(ae=0|O)&&(170&ae?Oo(Ae,256,Ce,Oe):jn(Ae,256,Ce,Oe)),ae=pe,Ae=Ne,255&(O>>=8)&&(170&O?Oo(Te,320,ae,Ae):jn(Te,320,ae,Ae)),z<m.Ub-1&&(r(ve[_e].y,0,G,Q+480,16),r(ve[_e].f,0,te,ie+224,8),r(ve[_e].ea,0,pe,Ne+224,8)),O=8*W*m.B,ve=m.sa,_e=m.ta+16*D+16*W*m.R,Te=m.qa,ae=m.ra+8*D+O,Ae=m.Ha,Ce=m.Ia+8*D+O,O=0;16>O;++O)r(ve,_e+O*m.R,G,Q+32*O,16);for(O=0;8>O;++O)r(Te,ae+O*m.B,te,ie+32*O,8),r(Ae,Ce+O*m.B,pe,Ne+32*O,8)}}function Hs(m,_,O,D,z,W,G,Q,te){var ie=[0],pe=[0],Ne=0,ae=te!=null?te.kd:0,ve=te??new Le;if(m==null||12>O)return 7;ve.data=m,ve.w=_,ve.ha=O,_=[_],O=[O],ve.gb=[ve.gb];e:{var _e=_,Te=O,Ae=ve.gb;if(e(m!=null),e(Te!=null),e(Ae!=null),Ae[0]=0,12<=Te[0]&&!n(m,_e[0],"RIFF")){if(n(m,_e[0]+8,"WEBP")){Ae=3;break e}var Ce=Pe(m,_e[0]+4);if(12>Ce||4294967286<Ce){Ae=3;break e}if(ae&&Ce>Te[0]-8){Ae=7;break e}Ae[0]=Ce,_e[0]+=12,Te[0]-=12}Ae=0}if(Ae!=0)return Ae;for(Ce=0<ve.gb[0],O=O[0];;){e:{var Oe=m;Te=_,Ae=O;var Be=ie,De=pe,dt=_e=[0];if((ut=Ne=[Ne])[0]=0,8>Ae[0])Ae=7;else{if(!n(Oe,Te[0],"VP8X")){if(Pe(Oe,Te[0]+4)!=10){Ae=3;break e}if(18>Ae[0]){Ae=7;break e}var nt=Pe(Oe,Te[0]+8),Bt=1+Re(Oe,Te[0]+12);if(2147483648<=Bt*(Oe=1+Re(Oe,Te[0]+15))){Ae=3;break e}dt!=null&&(dt[0]=nt),Be!=null&&(Be[0]=Bt),De!=null&&(De[0]=Oe),Te[0]+=18,Ae[0]-=18,ut[0]=1}Ae=0}}if(Ne=Ne[0],_e=_e[0],Ae!=0)return Ae;if(Te=!!(2&_e),!Ce&&Ne)return 3;if(W!=null&&(W[0]=!!(16&_e)),G!=null&&(G[0]=Te),Q!=null&&(Q[0]=0),G=ie[0],_e=pe[0],Ne&&Te&&te==null){Ae=0;break}if(4>O){Ae=7;break}if(Ce&&Ne||!Ce&&!Ne&&!n(m,_[0],"ALPH")){O=[O],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{nt=m,Ae=_,Ce=O;var ut=ve.gb;Be=ve.na,De=ve.P,dt=ve.Sa,Bt=22,e(nt!=null),e(Ce!=null),Oe=Ae[0];var en=Ce[0];for(e(Be!=null),e(dt!=null),Be[0]=null,De[0]=null,dt[0]=0;;){if(Ae[0]=Oe,Ce[0]=en,8>en){Ae=7;break e}var Xr=Pe(nt,Oe+4);if(4294967286<Xr){Ae=3;break e}var Vt=8+Xr+1&-2;if(Bt+=Vt,0<ut&&Bt>ut){Ae=3;break e}if(!n(nt,Oe,"VP8 ")||!n(nt,Oe,"VP8L")){Ae=0;break e}if(en[0]<Vt){Ae=7;break e}n(nt,Oe,"ALPH")||(Be[0]=nt,De[0]=Oe+8,dt[0]=Xr),Oe+=Vt,en-=Vt}}if(O=O[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],Ae!=0)break}O=[O],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(ut=m,Ae=_,Ce=O,Be=ve.gb[0],De=ve.Ja,dt=ve.xa,nt=Ae[0],Oe=!n(ut,nt,"VP8 "),Bt=!n(ut,nt,"VP8L"),e(ut!=null),e(Ce!=null),e(De!=null),e(dt!=null),8>Ce[0])Ae=7;else{if(Oe||Bt){if(ut=Pe(ut,nt+4),12<=Be&&ut>Be-12){Ae=3;break e}if(ae&&ut>Ce[0]-8){Ae=7;break e}De[0]=ut,Ae[0]+=8,Ce[0]-=8,dt[0]=Bt}else dt[0]=5<=Ce[0]&&ut[nt+0]==47&&!(ut[nt+4]>>5),De[0]=Ce[0];Ae=0}if(O=O[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],_=_[0],Ae!=0)break;if(4294967286<ve.Ja)return 3;if(Q==null||Te||(Q[0]=ve.xa?2:1),G=[G],_e=[_e],ve.xa){if(5>O){Ae=7;break}Q=G,ae=_e,Te=W,m==null||5>O?m=0:5<=O&&m[_+0]==47&&!(m[_+4]>>5)?(Ce=[0],ut=[0],Be=[0],le(De=new q,m,_,O),ss(De,Ce,ut,Be)?(Q!=null&&(Q[0]=Ce[0]),ae!=null&&(ae[0]=ut[0]),Te!=null&&(Te[0]=Be[0]),m=1):m=0):m=0}else{if(10>O){Ae=7;break}Q=_e,m==null||10>O||!Ed(m,_+3,O-3)?m=0:(ae=m[_+0]|m[_+1]<<8|m[_+2]<<16,Te=16383&(m[_+7]<<8|m[_+6]),m=16383&(m[_+9]<<8|m[_+8]),1&ae||3<(ae>>1&7)||!(ae>>4&1)||ae>>5>=ve.Ja||!Te||!m?m=0:(G&&(G[0]=Te),Q&&(Q[0]=m),m=1))}if(!m||(G=G[0],_e=_e[0],Ne&&(ie[0]!=G||pe[0]!=_e)))return 3;te!=null&&(te[0]=ve,te.offset=_-te.w,e(4294967286>_-te.w),e(te.offset==te.ha-O));break}return Ae==0||Ae==7&&Ne&&te==null?(W!=null&&(W[0]|=ve.na!=null&&0<ve.na.length),D!=null&&(D[0]=G),z!=null&&(z[0]=_e),0):Ae}function gm(m,_,O){var D=_.width,z=_.height,W=0,G=0,Q=D,te=z;if(_.Da=m!=null&&0<m.Da,_.Da&&(Q=m.cd,te=m.bd,W=m.v,G=m.j,11>O||(W&=-2,G&=-2),0>W||0>G||0>=Q||0>=te||W+Q>D||G+te>z))return 0;if(_.v=W,_.j=G,_.va=W+Q,_.o=G+te,_.U=Q,_.T=te,_.da=m!=null&&0<m.da,_.da){if(!qe(Q,te,O=[m.ib],W=[m.hb]))return 0;_.ib=O[0],_.hb=W[0]}return _.ob=m!=null&&m.ob,_.Kb=m==null||!m.Sd,_.da&&(_.ob=_.ib<3*D/4&&_.hb<3*z/4,_.Kb=0),1}function ym(m){if(m==null)return 2;if(11>m.S){var _=m.f.RGBA;_.fb+=(m.height-1)*_.A,_.A=-_.A}else _=m.f.kb,m=m.height,_.O+=(m-1)*_.fa,_.fa=-_.fa,_.N+=(m-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(m-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(m-1)*_.lb,_.lb=-_.lb);return 0}function Tc(m,_,O,D){if(D==null||0>=m||0>=_)return 2;if(O!=null){if(O.Da){var z=O.cd,W=O.bd,G=-2&O.v,Q=-2&O.j;if(0>G||0>Q||0>=z||0>=W||G+z>m||Q+W>_)return 2;m=z,_=W}if(O.da){if(!qe(m,_,z=[O.ib],W=[O.hb]))return 2;m=z[0],_=W[0]}}D.width=m,D.height=_;e:{var te=D.width,ie=D.height;if(m=D.S,0>=te||0>=ie||!(m>=Jv&&13>m))m=2;else{if(0>=D.Rd&&D.sd==null){G=W=z=_=0;var pe=(Q=te*c3[m])*ie;if(11>m||(W=(ie+1)/2*(_=(te+1)/2),m==12&&(G=(z=te)*ie)),(ie=a(pe+2*W+G))==null){m=1;break e}D.sd=ie,11>m?((te=D.f.RGBA).eb=ie,te.fb=0,te.A=Q,te.size=pe):((te=D.f.kb).y=ie,te.O=0,te.fa=Q,te.Fd=pe,te.f=ie,te.N=0+pe,te.Ab=_,te.Cd=W,te.ea=ie,te.W=0+pe+W,te.Db=_,te.Ed=W,m==12&&(te.F=ie,te.J=0+pe+2*W),te.Tc=G,te.lb=z)}if(_=1,z=D.S,W=D.width,G=D.height,z>=Jv&&13>z)if(11>z)m=D.f.RGBA,_&=(Q=Math.abs(m.A))*(G-1)+W<=m.size,_&=Q>=W*c3[z],_&=m.eb!=null;else{m=D.f.kb,Q=(W+1)/2,pe=(G+1)/2,te=Math.abs(m.fa),ie=Math.abs(m.Ab);var Ne=Math.abs(m.Db),ae=Math.abs(m.lb),ve=ae*(G-1)+W;_&=te*(G-1)+W<=m.Fd,_&=ie*(pe-1)+Q<=m.Cd,_=(_&=Ne*(pe-1)+Q<=m.Ed)&te>=W&ie>=Q&Ne>=Q,_&=m.y!=null,_&=m.f!=null,_&=m.ea!=null,z==12&&(_&=ae>=W,_&=ve<=m.Tc,_&=m.F!=null)}else _=0;m=_?0:2}}return m!=0||O!=null&&O.fd&&(m=ym(D)),m}var uf=64,Ma=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],La=24,kc=32,_l=8,Ic=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];We("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(m){return m},N.Predictor2=function(m,_,O){return _[O+0]},N.Predictor3=function(m,_,O){return _[O+1]},N.Predictor4=function(m,_,O){return _[O-1]},N.Predictor5=function(m,_,O){return rt(rt(m,_[O+1]),_[O+0])},N.Predictor6=function(m,_,O){return rt(m,_[O-1])},N.Predictor7=function(m,_,O){return rt(m,_[O+0])},N.Predictor8=function(m,_,O){return rt(_[O-1],_[O+0])},N.Predictor9=function(m,_,O){return rt(_[O+0],_[O+1])},N.Predictor10=function(m,_,O){return rt(rt(m,_[O-1]),rt(_[O+0],_[O+1]))},N.Predictor11=function(m,_,O){var D=_[O+0];return 0>=st(D>>24&255,m>>24&255,(_=_[O-1])>>24&255)+st(D>>16&255,m>>16&255,_>>16&255)+st(D>>8&255,m>>8&255,_>>8&255)+st(255&D,255&m,255&_)?D:m},N.Predictor12=function(m,_,O){var D=_[O+0];return(zt((m>>24&255)+(D>>24&255)-((_=_[O-1])>>24&255))<<24|zt((m>>16&255)+(D>>16&255)-(_>>16&255))<<16|zt((m>>8&255)+(D>>8&255)-(_>>8&255))<<8|zt((255&m)+(255&D)-(255&_)))>>>0},N.Predictor13=function(m,_,O){var D=_[O-1];return(Ct((m=rt(m,_[O+0]))>>24&255,D>>24&255)<<24|Ct(m>>16&255,D>>16&255)<<16|Ct(m>>8&255,D>>8&255)<<8|Ct(255&m,255&D))>>>0};var vm=N.PredictorAdd0;N.PredictorAdd1=vt,We("Predictor2","PredictorAdd2"),We("Predictor3","PredictorAdd3"),We("Predictor4","PredictorAdd4"),We("Predictor5","PredictorAdd5"),We("Predictor6","PredictorAdd6"),We("Predictor7","PredictorAdd7"),We("Predictor8","PredictorAdd8"),We("Predictor9","PredictorAdd9"),We("Predictor10","PredictorAdd10"),We("Predictor11","PredictorAdd11"),We("Predictor12","PredictorAdd12"),We("Predictor13","PredictorAdd13");var Od=N.PredictorAdd2;ot("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Ir,Yv=N.ColorIndexInverseTransform,Co=N.MapARGB,jo=N.VP8LColorIndexInverseTransformAlpha,bm=N.MapAlpha,xm=N.VP8LPredictorsAdd=[];xm.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var wm,_m,Cc,jc,Oc,ff,Rc,df,gs,Oo,mn,jn,Cr,Yr,Sl,Sm,Rd,Xv,Fk,$k,Bk,Vk,Uk,zk,Am,qk,Wk,Hk,Gk=a(511),Kk=a(2041),Yk=a(225),Xk=a(767),Qk=0,Ow=Kk,Qv=Yk,Da=Xk,ys=Gk,Jv=0,Zv=1,Jk=2,e0=3,t0=4,Rw=5,Zk=6,Mw=7,Lw=8,n0=9,Dw=10,eH=[2,3,7],tH=[3,3,11],e3=[280,256,256,256,40],nH=[0,1,1,1,0],rH=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],iH=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],aH=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],sH=8,Fw=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],$w=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Nm=null,oH=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],lH=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],t3=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],cH=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],uH=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],fH=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],dH=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Mc=[],Gs=[],Al=[],hH=1,n3=2,Lc=[],vs=[];ps("UpsampleRgbLinePair",we,3),ps("UpsampleBgrLinePair",Ee,3),ps("UpsampleRgbaLinePair",cn,4),ps("UpsampleBgraLinePair",Ht,4),ps("UpsampleArgbLinePair",lr,4),ps("UpsampleRgba4444LinePair",Zt,2),ps("UpsampleRgb565LinePair",Ue,2);var pH=N.UpsampleRgbLinePair,mH=N.UpsampleBgrLinePair,r3=N.UpsampleRgbaLinePair,i3=N.UpsampleBgraLinePair,a3=N.UpsampleArgbLinePair,s3=N.UpsampleRgba4444LinePair,gH=N.UpsampleRgb565LinePair,r0=16,i0=1<<r0-1,Em=-227,Bw=482,yH=6,o3=0,vH=a(256),bH=a(256),xH=a(256),wH=a(256),_H=a(Bw-Em),SH=a(Bw-Em);Fn("YuvToRgbRow",we,3),Fn("YuvToBgrRow",Ee,3),Fn("YuvToRgbaRow",cn,4),Fn("YuvToBgraRow",Ht,4),Fn("YuvToArgbRow",lr,4),Fn("YuvToRgba4444Row",Zt,2),Fn("YuvToRgb565Row",Ue,2);var l3=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],a0=[0,2,8],AH=[8,7,6,4,4,2,2,2,1,1,1,1],NH=1;this.WebPDecodeRGBA=function(m,_,O,D,z){var W=Zv,G=new Ie,Q=new $t;G.ba=Q,Q.S=W,Q.width=[Q.width],Q.height=[Q.height];var te=Q.width,ie=Q.height,pe=new mt;if(pe==null||m==null)var Ne=2;else e(pe!=null),Ne=Hs(m,_,O,pe.width,pe.height,pe.Pd,pe.Qd,pe.format,null);if(Ne!=0?te=0:(te!=null&&(te[0]=pe.width[0]),ie!=null&&(ie[0]=pe.height[0]),te=1),te){Q.width=Q.width[0],Q.height=Q.height[0],D!=null&&(D[0]=Q.width),z!=null&&(z[0]=Q.height);e:{if(D=new Eo,(z=new Le).data=m,z.w=_,z.ha=O,z.kd=1,_=[0],e(z!=null),((m=Hs(z.data,z.w,z.ha,null,null,null,_,null,z))==0||m==7)&&_[0]&&(m=4),(_=m)==0){if(e(G!=null),D.data=z.data,D.w=z.w+z.offset,D.ha=z.ha-z.offset,D.put=bt,D.ac=Oi,D.bc=qn,D.ma=G,z.xa){if((m=So())==null){G=1;break e}if(function(ae,ve){var _e=[0],Te=[0],Ae=[0];t:for(;;){if(ae==null)return 0;if(ve==null)return ae.a=2,0;if(ae.l=ve,ae.a=0,le(ae.m,ve.data,ve.w,ve.ha),!ss(ae.m,_e,Te,Ae)){ae.a=3;break t}if(ae.xb=n3,ve.width=_e[0],ve.height=Te[0],!Ca(_e[0],Te[0],1,ae,null))break t;return 1}return e(ae.a!=0),0}(m,D)){if(D=(_=Tc(D.width,D.height,G.Oa,G.ba))==0){t:{D=m;n:for(;;){if(D==null){D=0;break t}if(e(D.s.yc!=null),e(D.s.Ya!=null),e(0<D.s.Wb),e((O=D.l)!=null),e((z=O.ma)!=null),D.xb!=0){if(D.ca=z.ba,D.tb=z.tb,e(D.ca!=null),!gm(z.Oa,O,e0)){D.a=2;break n}if(!zs(D,O.width)||O.da)break n;if((O.da||xt(D.ca.S))&&ya(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&ya()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!J(D.s.vb,D.s.Wa.Xa)){D.a=1;break n}D.xb=0}if(!Mi(D,D.V,D.Ba,D.c,D.i,O.o,_o))break n;z.Dc=D.Ma,D=1;break t}e(D.a!=0),D=0}D=!D}D&&(_=m.a)}else _=m.a}else{if((m=new Nd)==null){G=1;break e}if(m.Fa=z.na,m.P=z.P,m.qc=z.Sa,os(m,D)){if((_=Tc(D.width,D.height,G.Oa,G.ba))==0){if(m.Aa=0,O=G.Oa,e((z=m)!=null),O!=null){if(0<(te=0>(te=O.Md)?0:100<te?255:255*te/100)){for(ie=pe=0;4>ie;++ie)12>(Ne=z.pb[ie]).lc&&(Ne.ia=te*AH[0>Ne.lc?0:Ne.lc]>>3),pe|=Ne.ia;pe&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=O.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}(function(ae,ve){if(ae==null)return 0;if(ve==null)return ir(ae,2,"NULL VP8Io parameter in VP8Decode().");if(!ae.cb&&!os(ae,ve))return 0;if(e(ae.cb),ve.ac==null||ve.ac(ve)){ve.ob&&(ae.L=0);var _e=a0[ae.L];if(ae.L==2?(ae.yb=0,ae.zb=0):(ae.yb=ve.v-_e>>4,ae.zb=ve.j-_e>>4,0>ae.yb&&(ae.yb=0),0>ae.zb&&(ae.zb=0)),ae.Va=ve.o+15+_e>>4,ae.Hb=ve.va+15+_e>>4,ae.Hb>ae.za&&(ae.Hb=ae.za),ae.Va>ae.Ub&&(ae.Va=ae.Ub),0<ae.L){var Te=ae.ed;for(_e=0;4>_e;++_e){var Ae;if(ae.Qa.Cb){var Ce=ae.Qa.Lb[_e];ae.Qa.Fb||(Ce+=Te.Tb)}else Ce=Te.Tb;for(Ae=0;1>=Ae;++Ae){var Oe=ae.gd[_e][Ae],Be=Ce;if(Te.Pc&&(Be+=Te.vd[0],Ae&&(Be+=Te.od[0])),0<(Be=0>Be?0:63<Be?63:Be)){var De=Be;0<Te.wb&&(De=4<Te.wb?De>>2:De>>1)>9-Te.wb&&(De=9-Te.wb),1>De&&(De=1),Oe.dd=De,Oe.tc=2*Be+De,Oe.ld=40<=Be?2:15<=Be?1:0}else Oe.tc=0;Oe.La=Ae}}}_e=0}else ir(ae,6,"Frame setup failed"),_e=ae.a;if(_e=_e==0){if(_e){ae.$c=0,0<ae.Aa||(ae.Ic=NH);t:{_e=ae.Ic,Te=4*(De=ae.za);var dt=32*De,nt=De+1,Bt=0<ae.L?De*(0<ae.Aa?2:1):0,ut=(ae.Aa==2?2:1)*De;if((Oe=Te+832+(Ae=3*(16*_e+a0[ae.L])/2*dt)+(Ce=ae.Fa!=null&&0<ae.Fa.length?ae.Kc.c*ae.Kc.i:0))!=Oe)_e=0;else{if(Oe>ae.Vb){if(ae.Vb=0,ae.Ec=a(Oe),ae.Fc=0,ae.Ec==null){_e=ir(ae,1,"no memory during frame initialization.");break t}ae.Vb=Oe}Oe=ae.Ec,Be=ae.Fc,ae.Ac=Oe,ae.Bc=Be,Be+=Te,ae.Gd=s(dt,tf),ae.Hd=0,ae.rb=s(nt+1,ja),ae.sb=1,ae.wa=Bt?s(Bt,oi):null,ae.Y=0,ae.D.Nb=0,ae.D.wa=ae.wa,ae.D.Y=ae.Y,0<ae.Aa&&(ae.D.Y+=De),e(!0),ae.oc=Oe,ae.pc=Be,Be+=832,ae.ya=s(ut,Zu),ae.aa=0,ae.D.ya=ae.ya,ae.D.aa=ae.aa,ae.Aa==2&&(ae.D.aa+=De),ae.R=16*De,ae.B=8*De,De=(dt=a0[ae.L])*ae.R,dt=dt/2*ae.B,ae.sa=Oe,ae.ta=Be+De,ae.qa=ae.sa,ae.ra=ae.ta+16*_e*ae.R+dt,ae.Ha=ae.qa,ae.Ia=ae.ra+8*_e*ae.B+dt,ae.$c=0,Be+=Ae,ae.mb=Ce?Oe:null,ae.nb=Ce?Be:null,e(Be+Ce<=ae.Fc+ae.Vb),rf(ae),i(ae.Ac,ae.Bc,0,Te),_e=1}}if(_e){if(ve.ka=0,ve.y=ae.sa,ve.O=ae.ta,ve.f=ae.qa,ve.N=ae.ra,ve.ea=ae.Ha,ve.Vd=ae.Ia,ve.fa=ae.R,ve.Rc=ae.B,ve.F=null,ve.J=0,!Qk){for(_e=-255;255>=_e;++_e)Gk[255+_e]=0>_e?-_e:_e;for(_e=-1020;1020>=_e;++_e)Kk[1020+_e]=-128>_e?-128:127<_e?127:_e;for(_e=-112;112>=_e;++_e)Yk[112+_e]=-16>_e?-16:15<_e?15:_e;for(_e=-255;510>=_e;++_e)Xk[255+_e]=0>_e?0:255<_e?255:_e;Qk=1}Rc=ls,df=Pd,Oo=Yt,mn=vl,jn=Po,gs=_c,Cr=Pc,Yr=hs,Sl=B,Sm=re,Rd=cf,Xv=T,Fk=de,$k=xe,Bk=Io,Vk=ia,Uk=lf,zk=jd,Gs[0]=pm,Gs[1]=Td,Gs[2]=dm,Gs[3]=hm,Gs[4]=li,Gs[5]=mm,Gs[6]=qs,Gs[7]=Ac,Gs[8]=Nc,Gs[9]=Ws,Mc[0]=cs,Mc[1]=fm,Mc[2]=af,Mc[3]=kd,Mc[4]=To,Mc[5]=Sc,Mc[6]=Id,Al[0]=sf,Al[1]=um,Al[2]=Oa,Al[3]=xl,Al[4]=of,Al[5]=Tn,Al[6]=Cd,_e=1}else _e=0}_e&&(_e=function(en,Xr){for(en.M=0;en.M<en.Va;++en.M){var Vt,ft=en.Jc[en.M&en.Xb],He=en.m,jr=en;for(Vt=0;Vt<jr.za;++Vt){var Dt=He,rn=jr,Wn=rn.Ac,xi=rn.Bc+4*Vt,sa=rn.zc,br=rn.ya[rn.aa+Vt];if(rn.Qa.Bb?br.$b=be(Dt,rn.Pa.jb[0])?2+be(Dt,rn.Pa.jb[2]):be(Dt,rn.Pa.jb[1]):br.$b=0,rn.kc&&(br.Ad=be(Dt,rn.Bd)),br.Za=!be(Dt,145)+0,br.Za){var Di=br.Ob,oa=0;for(rn=0;4>rn;++rn){var Qr,sn=sa[0+rn];for(Qr=0;4>Qr;++Qr){sn=uH[Wn[xi+Qr]][sn];for(var xn=t3[be(Dt,sn[0])];0<xn;)xn=t3[2*xn+be(Dt,sn[xn])];sn=-xn,Wn[xi+Qr]=sn}r(Di,oa,Wn,xi,4),oa+=4,sa[0+rn]=sn}}else sn=be(Dt,156)?be(Dt,128)?1:3:be(Dt,163)?2:0,br.Ob[0]=sn,i(Wn,xi,sn,4),i(sa,0,sn,4);br.Dd=be(Dt,142)?be(Dt,114)?be(Dt,183)?1:3:2:0}if(jr.m.Ka)return ir(en,7,"Premature end-of-partition0 encountered.");for(;en.ja<en.za;++en.ja){if(jr=ft,Dt=(He=en).rb[He.sb-1],Wn=He.rb[He.sb+He.ja],Vt=He.ya[He.aa+He.ja],xi=He.kc?Vt.Ad:0)Dt.la=Wn.la=0,Vt.Za||(Dt.Na=Wn.Na=0),Vt.Hc=0,Vt.Gc=0,Vt.ia=0;else{var xr,wn;if(Dt=Wn,Wn=jr,xi=He.Pa.Xc,sa=He.ya[He.aa+He.ja],br=He.pb[sa.$b],rn=sa.ad,Di=0,oa=He.rb[He.sb-1],sn=Qr=0,i(rn,Di,0,384),sa.Za)var wi=0,Ks=xi[3];else{xn=a(16);var Or=Dt.Na+oa.Na;if(Or=Nm(Wn,xi[1],Or,br.Eb,0,xn,0),Dt.Na=oa.Na=(0<Or)+0,1<Or)Rc(xn,0,rn,Di);else{var va=xn[0]+3>>3;for(xn=0;256>xn;xn+=16)rn[Di+xn]=va}wi=1,Ks=xi[0]}var On=15&Dt.la,Jr=15&oa.la;for(xn=0;4>xn;++xn){var Fa=1&Jr;for(va=wn=0;4>va;++va)On=On>>1|(Fa=(Or=Nm(Wn,Ks,Or=Fa+(1&On),br.Sc,wi,rn,Di))>wi)<<7,wn=wn<<2|(3<Or?3:1<Or?2:rn[Di+0]!=0),Di+=16;On>>=4,Jr=Jr>>1|Fa<<7,Qr=(Qr<<8|wn)>>>0}for(Ks=On,wi=Jr>>4,xr=0;4>xr;xr+=2){for(wn=0,On=Dt.la>>4+xr,Jr=oa.la>>4+xr,xn=0;2>xn;++xn){for(Fa=1&Jr,va=0;2>va;++va)Or=Fa+(1&On),On=On>>1|(Fa=0<(Or=Nm(Wn,xi[2],Or,br.Qc,0,rn,Di)))<<3,wn=wn<<2|(3<Or?3:1<Or?2:rn[Di+0]!=0),Di+=16;On>>=2,Jr=Jr>>1|Fa<<5}sn|=wn<<4*xr,Ks|=On<<4<<xr,wi|=(240&Jr)<<xr}Dt.la=Ks,oa.la=wi,sa.Hc=Qr,sa.Gc=sn,sa.ia=43690&sn?0:br.ia,xi=!(Qr|sn)}if(0<He.L&&(He.wa[He.Y+He.ja]=He.gd[Vt.$b][Vt.Za],He.wa[He.Y+He.ja].La|=!xi),jr.Ka)return ir(en,7,"Premature end-of-file encountered.")}if(rf(en),He=Xr,jr=1,Vt=(ft=en).D,Dt=0<ft.L&&ft.M>=ft.zb&&ft.M<=ft.Va,ft.Aa==0)t:{if(Vt.M=ft.M,Vt.uc=Dt,bi(ft,Vt),jr=1,Vt=(wn=ft.D).Nb,Dt=(sn=a0[ft.L])*ft.R,Wn=sn/2*ft.B,xn=16*Vt*ft.R,va=8*Vt*ft.B,xi=ft.sa,sa=ft.ta-Dt+xn,br=ft.qa,rn=ft.ra-Wn+va,Di=ft.Ha,oa=ft.Ia-Wn+va,Jr=(On=wn.M)==0,Qr=On>=ft.Va-1,ft.Aa==2&&bi(ft,wn),wn.uc)for(Fa=(Or=ft).D.M,e(Or.D.uc),wn=Or.yb;wn<Or.Hb;++wn){wi=wn,Ks=Fa;var la=($a=(_i=Or).D).Nb;xr=_i.R;var $a=$a.wa[$a.Y+wi],Ba=_i.sa,ba=_i.ta+16*la*xr+16*wi,Va=$a.dd,$n=$a.tc;if($n!=0)if(e(3<=$n),_i.L==1)0<wi&&Vk(Ba,ba,xr,$n+4),$a.La&&zk(Ba,ba,xr,$n),0<Ks&&Bk(Ba,ba,xr,$n+4),$a.La&&Uk(Ba,ba,xr,$n);else{var Ua=_i.B,Ys=_i.qa,hf=_i.ra+8*la*Ua+8*wi,Nl=_i.Ha,_i=_i.Ia+8*la*Ua+8*wi;la=$a.ld,0<wi&&(Yr(Ba,ba,xr,$n+4,Va,la),Sm(Ys,hf,Nl,_i,Ua,$n+4,Va,la)),$a.La&&(Xv(Ba,ba,xr,$n,Va,la),$k(Ys,hf,Nl,_i,Ua,$n,Va,la)),0<Ks&&(Cr(Ba,ba,xr,$n+4,Va,la),Sl(Ys,hf,Nl,_i,Ua,$n+4,Va,la)),$a.La&&(Rd(Ba,ba,xr,$n,Va,la),Fk(Ys,hf,Nl,_i,Ua,$n,Va,la))}}if(ft.ia&&alert("todo:DitherRow"),He.put!=null){if(wn=16*On,On=16*(On+1),Jr?(He.y=ft.sa,He.O=ft.ta+xn,He.f=ft.qa,He.N=ft.ra+va,He.ea=ft.Ha,He.W=ft.Ia+va):(wn-=sn,He.y=xi,He.O=sa,He.f=br,He.N=rn,He.ea=Di,He.W=oa),Qr||(On-=sn),On>He.o&&(On=He.o),He.F=null,He.J=null,ft.Fa!=null&&0<ft.Fa.length&&wn<On&&(He.J=bn(ft,He,wn,On-wn),He.F=ft.mb,He.F==null&&He.F.length==0)){jr=ir(ft,3,"Could not decode alpha data.");break t}wn<He.j&&(sn=He.j-wn,wn=He.j,e(!(1&sn)),He.O+=ft.R*sn,He.N+=ft.B*(sn>>1),He.W+=ft.B*(sn>>1),He.F!=null&&(He.J+=He.width*sn)),wn<On&&(He.O+=He.v,He.N+=He.v>>1,He.W+=He.v>>1,He.F!=null&&(He.J+=He.v),He.ka=wn-He.j,He.U=He.va-He.v,He.T=On-wn,jr=He.put(He))}Vt+1!=ft.Ic||Qr||(r(ft.sa,ft.ta-Dt,xi,sa+16*ft.R,Dt),r(ft.qa,ft.ra-Wn,br,rn+8*ft.B,Wn),r(ft.Ha,ft.Ia-Wn,Di,oa+8*ft.B,Wn))}if(!jr)return ir(en,6,"Output aborted.")}return 1}(ae,ve)),ve.bc!=null&&ve.bc(ve),_e&=1}return _e?(ae.cb=0,_e):0})(m,D)||(_=m.a)}}else _=m.a}_==0&&G.Oa!=null&&G.Oa.fd&&(_=ym(G.ba))}G=_}W=G!=0?null:11>W?Q.f.RGBA.eb:Q.f.kb.y}else W=null;return W};var c3=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(N,M){for(var k="",j=0;j<4;j++)k+=String.fromCharCode(N[M++]);return k}function u(N,M){return N[M+0]|N[M+1]<<8}function f(N,M){return(N[M+0]|N[M+1]<<8|N[M+2]<<16)>>>0}function h(N,M){return(N[M+0]|N[M+1]<<8|N[M+2]<<16|N[M+3]<<24)>>>0}new l;var p=[0],b=[0],x=[],v=new l,y=t,w=function(N,M){var k={},j=0,C=!1,V=0,X=0;if(k.frames=[],!function(F,q){for(var ee=0;ee<4;ee++)if(F[q+ee]!="RIFF".charCodeAt(ee))return!0;return!1}(N,M)){for(h(N,M+=4),M+=8;M<N.length;){var ne=c(N,M),oe=h(N,M+=4);M+=4;var Y=oe+(1&oe);switch(ne){case"VP8 ":case"VP8L":k.frames[j]===void 0&&(k.frames[j]={}),(H=k.frames[j]).src_off=C?X:M-8,H.src_size=V+oe+8,j++,C&&(C=!1,V=0,X=0);break;case"VP8X":(H=k.header={}).feature_flags=N[M];var le=M+4;H.canvas_width=1+f(N,le),le+=3,H.canvas_height=1+f(N,le),le+=3;break;case"ALPH":C=!0,V=Y+8,X=M-8;break;case"ANIM":(H=k.header).bgcolor=h(N,M),le=M+4,H.loop_count=u(N,le),le+=2;break;case"ANMF":var K,H;(H=k.frames[j]={}).offset_x=2*f(N,M),M+=3,H.offset_y=2*f(N,M),M+=3,H.width=1+f(N,M),M+=3,H.height=1+f(N,M),M+=3,H.duration=f(N,M),M+=3,K=N[M++],H.dispose=1&K,H.blend=K>>1&1}ne!="ANMF"&&(M+=Y)}return k}}(y,0);w.response=y,w.rgbaoutput=!0,w.dataurl=!1;var S=w.header?w.header:null,E=w.frames?w.frames:null;if(S){S.loop_counter=S.loop_count,p=[S.canvas_height],b=[S.canvas_width];for(var P=0;P<E.length&&E[P].blend!=0;P++);}var R=E[0],I=v.WebPDecodeRGBA(y,R.src_off,R.src_size,b,p);R.rgba=I,R.imgwidth=b[0],R.imgheight=p[0];for(var A=0;A<b[0]*p[0]*4;A++)x[A]=I[A];return this.width=b,this.height=p,this.data=x,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function ERe(){var t,e=this.internal.__metadata__.metadata,n=unescape(encodeURIComponent(e));t=this.internal.__metadata__.rawXml?n:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function PRe(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var e,n,r,i,a,s,o,l,c,u=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new l,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new s,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new s,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=F;Object.defineProperty(this,"pdf",{get:function(){return q}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(J){ee=!!J}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(J){se=!!J}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(J){isNaN(J)||(ce=J)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(J){isNaN(J)||(fe=J)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(J){var he;typeof J=="number"?he=[J,J,J,J]:((he=new Array(4))[0]=J[0],he[1]=J.length>=2?J[1]:he[0],he[2]=J.length>=3?J[2]:he[0],he[3]=J.length>=4?J[3]:he[1]),c.margin=he}});var ye=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ye},set:function(J){ye=J}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(J){ue=J}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(J){be=J}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(J){J instanceof u&&(c=J)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(J){c.path=J}});var Se=[];Object.defineProperty(this,"ctxStack",{get:function(){return Se},set:function(J){Se=J}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(J){var he;he=h(J),this.ctx.fillStyle=he.style,this.ctx.isFillTransparent=he.a===0,this.ctx.fillOpacity=he.a,this.pdf.setFillColor(he.r,he.g,he.b,{a:he.a}),this.pdf.setTextColor(he.r,he.g,he.b,{a:he.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(J){var he=h(J);this.ctx.strokeStyle=he.style,this.ctx.isStrokeTransparent=he.a===0,this.ctx.strokeOpacity=he.a,he.a===0?this.pdf.setDrawColor(255,255,255):(he.a,this.pdf.setDrawColor(he.r,he.g,he.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(J){["butt","round","square"].indexOf(J)!==-1&&(this.ctx.lineCap=J,this.pdf.setLineCap(J))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(J){isNaN(J)||(this.ctx.lineWidth=J,this.pdf.setLineWidth(J))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(J){["bevel","round","miter"].indexOf(J)!==-1&&(this.ctx.lineJoin=J,this.pdf.setLineJoin(J))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(J){isNaN(J)||(this.ctx.miterLimit=J,this.pdf.setMiterLimit(J))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(J){this.ctx.textBaseline=J}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(J){["right","end","center","left","start"].indexOf(J)!==-1&&(this.ctx.textAlign=J)}});var me=null,Re=null,Pe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Pe},set:function(J){me=null,Re=null,Pe=J}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(J){var he;if(this.ctx.font=J,(he=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(J))!==null){var Fe=he[1];he[2];var qe=he[3],je=he[4];he[5];var Ke=he[6],We=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(je)[2];je=Math.floor(We==="px"?parseFloat(je)*this.pdf.internal.scaleFactor:We==="em"?parseFloat(je)*this.pdf.getFontSize():parseFloat(je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(je);var Je=function(ot){var vn,qt,Ft=[],Lt=ot.trim();if(Lt==="")return q_;if(Lt in gD)return[gD[Lt]];for(;Lt!=="";){switch(qt=null,vn=(Lt=vD(Lt)).charAt(0)){case'"':case"'":qt=xRe(Lt.substring(1),vn);break;default:qt=wRe(Lt)}if(qt===null||(Ft.push(qt[0]),(Lt=vD(qt[1]))!==""&&Lt.charAt(0)!==","))return q_;Lt=Lt.replace(/^,/,"")}return Ft}(Ke);if(this.fontFaces){var rt=function(ot,vn){var qt=ot.getFontList(),Ft=JSON.stringify(qt);if(me===null||Re!==Ft){var Lt=function(Dn){var pt=[];return Object.keys(Dn).forEach(function(hn){Dn[hn].forEach(function(xt){var Tt=null;switch(xt){case"bold":Tt={family:hn,weight:"bold"};break;case"italic":Tt={family:hn,style:"italic"};break;case"bolditalic":Tt={family:hn,weight:"bold",style:"italic"};break;case"":case"normal":Tt={family:hn}}Tt!==null&&(Tt.ref={name:hn,style:xt},pt.push(Tt))})}),pt}(qt);me=function(Dn){for(var pt={},hn=0;hn<Dn.length;++hn){var xt=z_(Dn[hn]),Tt=xt.family,pn=xt.stretch,$t=xt.style,mt=xt.weight;pt[Tt]=pt[Tt]||{},pt[Tt][pn]=pt[Tt][pn]||{},pt[Tt][pn][$t]=pt[Tt][pn][$t]||{},pt[Tt][pn][$t][mt]=xt}return pt}(Lt.concat(vn)),Re=Ft}return me}(this.pdf,this.fontFaces),zt=Je.map(function(ot){return{family:ot,stretch:"normal",weight:qe,style:Fe}}),Ct=function(ot,vn,qt){for(var Ft=(qt=qt||{}).defaultFontFamily||"times",Lt=Object.assign({},bRe,qt.genericFontFamilies||{}),Dn=null,pt=null,hn=0;hn<vn.length;++hn)if(Lt[(Dn=z_(vn[hn])).family]&&(Dn.family=Lt[Dn.family]),ot.hasOwnProperty(Dn.family)){pt=ot[Dn.family];break}if(!(pt=pt||ot[Ft]))throw new Error("Could not find a font-family for the rule '"+yD(Dn)+"' and default family '"+Ft+"'.");if(pt=function(xt,Tt){if(Tt[xt])return Tt[xt];var pn=NE[xt],$t=pn<=NE.normal?-1:1,mt=mD(Tt,WW,pn,$t);if(!mt)throw new Error("Could not find a matching font-stretch value for "+xt);return mt}(Dn.stretch,pt),pt=function(xt,Tt){if(Tt[xt])return Tt[xt];for(var pn=qW[xt],$t=0;$t<pn.length;++$t)if(Tt[pn[$t]])return Tt[pn[$t]];throw new Error("Could not find a matching font-style for "+xt)}(Dn.style,pt),!(pt=function(xt,Tt){if(Tt[xt])return Tt[xt];if(xt===400&&Tt[500])return Tt[500];if(xt===500&&Tt[400])return Tt[400];var pn=vRe[xt],$t=mD(Tt,HW,pn,xt<400?-1:1);if(!$t)throw new Error("Could not find a matching font-weight for value "+xt);return $t}(Dn.weight,pt)))throw new Error("Failed to resolve a font for the rule '"+yD(Dn)+"'.");return pt}(rt,zt);this.pdf.setFont(Ct.ref.name,Ct.ref.style)}else{var st="";(qe==="bold"||parseInt(qe,10)>=700||Fe==="bold")&&(st="bold"),Fe==="italic"&&(st+="italic"),st.length===0&&(st="normal");for(var vt="",Mt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},tt=0;tt<Je.length;tt++){if(this.pdf.internal.getFont(Je[tt],st,{noFallback:!0,disableWarning:!0})!==void 0){vt=Je[tt];break}if(st==="bolditalic"&&this.pdf.internal.getFont(Je[tt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)vt=Je[tt],st="bold";else if(this.pdf.internal.getFont(Je[tt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){vt=Je[tt],st="normal";break}}if(vt===""){for(var Nt=0;Nt<Je.length;Nt++)if(Mt[Je[Nt]]){vt=Mt[Je[Nt]];break}}vt=vt===""?"Times":vt,this.pdf.setFont(vt,st)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(J){this.ctx.globalCompositeOperation=J}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(J){this.ctx.globalAlpha=J}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(J){this.ctx.lineDashOffset=J,H.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(J){this.ctx.lineDash=J,H.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(J){this.ctx.ignoreClearRect=!!J}})};f.prototype.setLineDash=function(F){this.lineDash=F},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){E.call(this,"fill",!1)},f.prototype.stroke=function(){E.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(F,q){if(isNaN(F)||isNaN(q))throw Rn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new s(F,q));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new s(F,q)},f.prototype.closePath=function(){var F=new s(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&An(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){F=new s(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(F.x,F.y)},f.prototype.lineTo=function(F,q){if(isNaN(F)||isNaN(q))throw Rn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new s(F,q));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new s(ee.x,ee.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},f.prototype.quadraticCurveTo=function(F,q,ee,se){if(isNaN(ee)||isNaN(se)||isNaN(F)||isNaN(q))throw Rn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new s(ee,se)),fe=this.ctx.transform.applyToPoint(new s(F,q));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new s(ce.x,ce.y)},f.prototype.bezierCurveTo=function(F,q,ee,se,ce,fe){if(isNaN(ce)||isNaN(fe)||isNaN(F)||isNaN(q)||isNaN(ee)||isNaN(se))throw Rn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ye=this.ctx.transform.applyToPoint(new s(ce,fe)),ue=this.ctx.transform.applyToPoint(new s(F,q)),be=this.ctx.transform.applyToPoint(new s(ee,se));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:be.x,y2:be.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new s(ye.x,ye.y)},f.prototype.arc=function(F,q,ee,se,ce,fe){if(isNaN(F)||isNaN(q)||isNaN(ee)||isNaN(se)||isNaN(ce))throw Rn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var ye=this.ctx.transform.applyToPoint(new s(F,q));F=ye.x,q=ye.y;var ue=this.ctx.transform.applyToPoint(new s(0,ee)),be=this.ctx.transform.applyToPoint(new s(0,0));ee=Math.sqrt(Math.pow(ue.x-be.x,2)+Math.pow(ue.y-be.y,2))}Math.abs(ce-se)>=2*Math.PI&&(se=0,ce=2*Math.PI),this.path.push({type:"arc",x:F,y:q,radius:ee,startAngle:se,endAngle:ce,counterclockwise:fe})},f.prototype.arcTo=function(F,q,ee,se,ce){throw new Error("arcTo not implemented.")},f.prototype.rect=function(F,q,ee,se){if(isNaN(F)||isNaN(q)||isNaN(ee)||isNaN(se))throw Rn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,q),this.lineTo(F+ee,q),this.lineTo(F+ee,q+se),this.lineTo(F,q+se),this.lineTo(F,q),this.lineTo(F+ee,q),this.lineTo(F,q)},f.prototype.fillRect=function(F,q,ee,se){if(isNaN(F)||isNaN(q)||isNaN(ee)||isNaN(se))throw Rn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,q,ee,se),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},f.prototype.strokeRect=function(F,q,ee,se){if(isNaN(F)||isNaN(q)||isNaN(ee)||isNaN(se))throw Rn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(F,q,ee,se),this.stroke())},f.prototype.clearRect=function(F,q,ee,se){if(isNaN(F)||isNaN(q)||isNaN(ee)||isNaN(se))throw Rn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,q,ee,se))},f.prototype.save=function(F){F=typeof F!="boolean"||F;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},f.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(q),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(F){var q,ee,se,ce;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))q=0,ee=0,se=0,ce=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(fe!==null)q=parseInt(fe[1]),ee=parseInt(fe[2]),se=parseInt(fe[3]),ce=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)q=parseInt(fe[1]),ee=parseInt(fe[2]),se=parseInt(fe[3]),ce=parseFloat(fe[4]);else{if(ce=1,typeof F=="string"&&F.charAt(0)!=="#"){var ye=new DW(F);F=ye.ok?ye.toHex():"#000000"}F.length===4?(q=F.substring(1,2),q+=q,ee=F.substring(2,3),ee+=ee,se=F.substring(3,4),se+=se):(q=F.substring(1,3),ee=F.substring(3,5),se=F.substring(5,7)),q=parseInt(q,16),ee=parseInt(ee,16),se=parseInt(se,16)}}return{r:q,g:ee,b:se,a:ce,style:F}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(F,q,ee,se){if(isNaN(q)||isNaN(ee)||typeof F!="string")throw Rn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!p.call(this)){var ce=Y(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;j.call(this,{text:F,x:q,y:ee,scale:fe,angle:ce,align:this.textAlign,maxWidth:se})}},f.prototype.strokeText=function(F,q,ee,se){if(isNaN(q)||isNaN(ee)||typeof F!="string")throw Rn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){se=isNaN(se)?void 0:se;var ce=Y(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;j.call(this,{text:F,x:q,y:ee,scale:fe,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:se})}},f.prototype.measureText=function(F){if(typeof F!="string")throw Rn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,ee=this.pdf.internal.scaleFactor,se=q.internal.getFontSize(),ce=q.getStringUnitWidth(F)*se/q.internal.scaleFactor;return new function(fe){var ye=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ye}}),this}({width:ce*=Math.round(96*ee/72*1e4)/1e4})},f.prototype.scale=function(F,q){if(isNaN(F)||isNaN(q))throw Rn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new l(F,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},f.prototype.rotate=function(F){if(isNaN(F))throw Rn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.translate=function(F,q){if(isNaN(F)||isNaN(q))throw Rn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new l(1,0,0,1,F,q);this.ctx.transform=this.ctx.transform.multiply(ee)},f.prototype.transform=function(F,q,ee,se,ce,fe){if(isNaN(F)||isNaN(q)||isNaN(ee)||isNaN(se)||isNaN(ce)||isNaN(fe))throw Rn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ye=new l(F,q,ee,se,ce,fe);this.ctx.transform=this.ctx.transform.multiply(ye)},f.prototype.setTransform=function(F,q,ee,se,ce,fe){F=isNaN(F)?1:F,q=isNaN(q)?0:q,ee=isNaN(ee)?0:ee,se=isNaN(se)?1:se,ce=isNaN(ce)?0:ce,fe=isNaN(fe)?0:fe,this.ctx.transform=new l(F,q,ee,se,ce,fe)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(F,q,ee,se,ce,fe,ye,ue,be){var Se=this.pdf.getImageProperties(F),me=1,Re=1,Pe=1,J=1;se!==void 0&&ue!==void 0&&(Pe=ue/se,J=be/ce,me=Se.width/se*ue/se,Re=Se.height/ce*be/ce),fe===void 0&&(fe=q,ye=ee,q=0,ee=0),se!==void 0&&ue===void 0&&(ue=se,be=ce),se===void 0&&ue===void 0&&(ue=Se.width,be=Se.height);var he=this.ctx.transform.decompose(),Fe=Y(he.rotate.shx),qe=new l,je=(qe=(qe=(qe=qe.multiply(he.translate)).multiply(he.skew)).multiply(he.scale)).applyToRectangle(new o(fe-q*Pe,ye-ee*J,se*me,ce*Re));if(this.autoPaging){for(var Ke,We=v.call(this,je),Je=[],rt=0;rt<We.length;rt+=1)Je.indexOf(We[rt])===-1&&Je.push(We[rt]);S(Je);for(var zt=Je[0],Ct=Je[Je.length-1],st=zt;st<Ct+1;st++){this.pdf.setPage(st);var vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Mt=st===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=st===1?0:tt+(st-2)*Nt;if(this.ctx.clip_path.length!==0){var vn=this.path;Ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Ke,this.posX+this.margin[3],-ot+Mt+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=vn}var qt=JSON.parse(JSON.stringify(je));qt=w([qt],this.posX+this.margin[3],-ot+Mt+this.ctx.prevPageLastElemOffset)[0];var Ft=(st>zt||st<Ct)&&x.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,Nt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",qt.x,qt.y,qt.w,qt.h,null,null,Fe),Ft&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(F,"JPEG",je.x,je.y,je.w,je.h,null,null,Fe)};var v=function(F,q,ee){var se=[];q=q||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":se.push(Math.floor((F.y+ce)/ee)+1);break;case"arc":se.push(Math.floor((F.y+ce-F.radius)/ee)+1),se.push(Math.floor((F.y+ce+F.radius)/ee)+1);break;case"qct":var fe=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);se.push(Math.floor((fe.y+ce)/ee)+1),se.push(Math.floor((fe.y+fe.h+ce)/ee)+1);break;case"bct":var ye=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);se.push(Math.floor((ye.y+ce)/ee)+1),se.push(Math.floor((ye.y+ye.h+ce)/ee)+1);break;case"rect":se.push(Math.floor((F.y+ce)/ee)+1),se.push(Math.floor((F.y+F.h+ce)/ee)+1)}for(var ue=0;ue<se.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<se[ue];)y.call(this);return se},y=function(){var F=this.fillStyle,q=this.strokeStyle,ee=this.font,se=this.lineCap,ce=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=q,this.font=ee,this.lineCap=se,this.lineWidth=ce,this.lineJoin=fe},w=function(F,q,ee){for(var se=0;se<F.length;se++)switch(F[se].type){case"bct":F[se].x2+=q,F[se].y2+=ee;case"qct":F[se].x1+=q,F[se].y1+=ee;default:F[se].x+=q,F[se].y+=ee}return F},S=function(F){return F.sort(function(q,ee){return q-ee})},E=function(F,q){var ee=this.fillStyle,se=this.strokeStyle,ce=this.lineCap,fe=this.lineWidth,ye=Math.abs(fe*this.ctx.transform.scaleX),ue=this.lineJoin;if(this.autoPaging){for(var be,Se,me=JSON.parse(JSON.stringify(this.path)),Re=JSON.parse(JSON.stringify(this.path)),Pe=[],J=0;J<Re.length;J++)if(Re[J].x!==void 0)for(var he=v.call(this,Re[J]),Fe=0;Fe<he.length;Fe+=1)Pe.indexOf(he[Fe])===-1&&Pe.push(he[Fe]);for(var qe=0;qe<Pe.length;qe++)for(;this.pdf.internal.getNumberOfPages()<Pe[qe];)y.call(this);S(Pe);for(var je=Pe[0],Ke=Pe[Pe.length-1],We=je;We<Ke+1;We++){this.pdf.setPage(We),this.fillStyle=ee,this.strokeStyle=se,this.lineCap=ce,this.lineWidth=ye,this.lineJoin=ue;var Je=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rt=We===1?this.posY+this.margin[0]:this.margin[0],zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=We===1?0:zt+(We-2)*Ct;if(this.ctx.clip_path.length!==0){var vt=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(be,this.posX+this.margin[3],-st+rt+this.ctx.prevPageLastElemOffset),P.call(this,F,!0),this.path=vt}if(Se=JSON.parse(JSON.stringify(me)),this.path=w(Se,this.posX+this.margin[3],-st+rt+this.ctx.prevPageLastElemOffset),q===!1||We===0){var Mt=(We>je||We<Ke)&&x.call(this);Mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Je,Ct,null).clip().discardPath()),P.call(this,F,q),Mt&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}this.path=me}else this.lineWidth=ye,P.call(this,F,q),this.lineWidth=fe},P=function(F,q){if((F!=="stroke"||q||!b.call(this))&&(F==="stroke"||q||!p.call(this))){for(var ee,se,ce=[],fe=this.path,ye=0;ye<fe.length;ye++){var ue=fe[ye];switch(ue.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:ue,deltas:[],abs:[]});break;case"lt":var be=ce.length;if(fe[ye-1]&&!isNaN(fe[ye-1].x)&&(ee=[ue.x-fe[ye-1].x,ue.y-fe[ye-1].y],be>0)){for(;be>=0;be--)if(ce[be-1].close!==!0&&ce[be-1].begin!==!0){ce[be-1].deltas.push(ee),ce[be-1].abs.push(ue);break}}break;case"bct":ee=[ue.x1-fe[ye-1].x,ue.y1-fe[ye-1].y,ue.x2-fe[ye-1].x,ue.y2-fe[ye-1].y,ue.x-fe[ye-1].x,ue.y-fe[ye-1].y],ce[ce.length-1].deltas.push(ee);break;case"qct":var Se=fe[ye-1].x+2/3*(ue.x1-fe[ye-1].x),me=fe[ye-1].y+2/3*(ue.y1-fe[ye-1].y),Re=ue.x+2/3*(ue.x1-ue.x),Pe=ue.y+2/3*(ue.y1-ue.y),J=ue.x,he=ue.y;ee=[Se-fe[ye-1].x,me-fe[ye-1].y,Re-fe[ye-1].x,Pe-fe[ye-1].y,J-fe[ye-1].x,he-fe[ye-1].y],ce[ce.length-1].deltas.push(ee);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(ue)}}se=q?null:F==="stroke"?"stroke":"fill";for(var Fe=!1,qe=0;qe<ce.length;qe++)if(ce[qe].arc)for(var je=ce[qe].abs,Ke=0;Ke<je.length;Ke++){var We=je[Ke];We.type==="arc"?A.call(this,We.x,We.y,We.radius,We.startAngle,We.endAngle,We.counterclockwise,void 0,q,!Fe):C.call(this,We.x,We.y),Fe=!0}else if(ce[qe].close===!0)this.pdf.internal.out("h"),Fe=!1;else if(ce[qe].begin!==!0){var Je=ce[qe].start.x,rt=ce[qe].start.y;V.call(this,ce[qe].deltas,Je,rt),Fe=!0}se&&N.call(this,se),q&&M.call(this)}},R=function(F){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-ee;case"top":return F+q-ee;case"hanging":return F+q-2*ee;case"middle":return F+q/2-ee;default:return F}},I=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(q,ee){this.colorStops.push([q,ee])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(F,q,ee,se,ce,fe,ye,ue,be){for(var Se=ne.call(this,ee,se,ce,fe),me=0;me<Se.length;me++){var Re=Se[me];me===0&&(be?k.call(this,Re.x1+F,Re.y1+q):C.call(this,Re.x1+F,Re.y1+q)),X.call(this,F,q,Re.x2,Re.y2,Re.x3,Re.y3,Re.x4,Re.y4)}ue?M.call(this):N.call(this,ye)},N=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(F,q){this.pdf.internal.out(n(F)+" "+r(q)+" m")},j=function(F){var q;switch(F.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var ee,se,ce,fe=this.pdf.getTextDimensions(F.text),ye=R.call(this,F.y),ue=I.call(this,ye)-fe.h,be=this.ctx.transform.applyToPoint(new s(F.x,ye));if(this.autoPaging){var Se=this.ctx.transform.decompose(),me=new l;me=(me=(me=me.multiply(Se.translate)).multiply(Se.skew)).multiply(Se.scale);for(var Re=this.ctx.transform.applyToRectangle(new o(F.x,ye,fe.w,fe.h)),Pe=me.applyToRectangle(new o(F.x,ue,fe.w,fe.h)),J=v.call(this,Pe),he=[],Fe=0;Fe<J.length;Fe+=1)he.indexOf(J[Fe])===-1&&he.push(J[Fe]);S(he);for(var qe=he[0],je=he[he.length-1],Ke=qe;Ke<je+1;Ke++){this.pdf.setPage(Ke);var We=Ke===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rt=this.pdf.internal.pageSize.height-this.margin[2],zt=rt-this.margin[0],Ct=this.pdf.internal.pageSize.width-this.margin[1],st=Ct-this.margin[3],vt=Ke===1?0:Je+(Ke-2)*zt;if(this.ctx.clip_path.length!==0){var Mt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ee,this.posX+this.margin[3],-1*vt+We),P.call(this,"fill",!0),this.path=Mt}var tt=w([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-vt+We+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*F.scale),ce=this.lineWidth,this.lineWidth=ce*F.scale);var Nt=this.autoPaging!=="text";if(Nt||tt.y+tt.h<=rt){if(Nt||tt.y>=We&&tt.x<=Ct){var ot=Nt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||Ct-tt.x)[0],vn=w([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-vt+We+this.ctx.prevPageLastElemOffset)[0],qt=Nt&&(Ke>qe||Ke<je)&&x.call(this);qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,zt,null).clip().discardPath()),this.pdf.text(ot,vn.x,vn.y,{angle:F.angle,align:q,renderingMode:F.renderingMode}),qt&&this.pdf.restoreGraphicsState()}}else tt.y<rt&&(this.ctx.prevPageLastElemOffset+=rt-tt.y);F.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=ce)}}else F.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*F.scale),ce=this.lineWidth,this.lineWidth=ce*F.scale),this.pdf.text(F.text,be.x+this.posX,be.y+this.posY,{angle:F.angle,align:q,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=ce)},C=function(F,q,ee,se){ee=ee||0,se=se||0,this.pdf.internal.out(n(F+ee)+" "+r(q+se)+" l")},V=function(F,q,ee){return this.pdf.lines(F,q,ee,null,null)},X=function(F,q,ee,se,ce,fe,ye,ue){this.pdf.internal.out([e(i(ee+F)),e(a(se+q)),e(i(ce+F)),e(a(fe+q)),e(i(ye+F)),e(a(ue+q)),"c"].join(" "))},ne=function(F,q,ee,se){for(var ce=2*Math.PI,fe=Math.PI/2;q>ee;)q-=ce;var ye=Math.abs(ee-q);ye<ce&&se&&(ye=ce-ye);for(var ue=[],be=se?-1:1,Se=q;ye>1e-5;){var me=Se+be*Math.min(ye,fe);ue.push(oe.call(this,F,Se,me)),ye-=Math.abs(me-Se),Se=me}return ue},oe=function(F,q,ee){var se=(ee-q)/2,ce=F*Math.cos(se),fe=F*Math.sin(se),ye=ce,ue=-fe,be=ye*ye+ue*ue,Se=be+ye*ce+ue*fe,me=4/3*(Math.sqrt(2*be*Se)-Se)/(ye*fe-ue*ce),Re=ye-me*ue,Pe=ue+me*ye,J=Re,he=-Pe,Fe=se+q,qe=Math.cos(Fe),je=Math.sin(Fe);return{x1:F*Math.cos(q),y1:F*Math.sin(q),x2:Re*qe-Pe*je,y2:Re*je+Pe*qe,x3:J*qe-he*je,y3:J*je+he*qe,x4:F*Math.cos(ee),y4:F*Math.sin(ee)}},Y=function(F){return 180*F/Math.PI},le=function(F,q,ee,se,ce,fe){var ye=F+.5*(ee-F),ue=q+.5*(se-q),be=ce+.5*(ee-ce),Se=fe+.5*(se-fe),me=Math.min(F,ce,ye,be),Re=Math.max(F,ce,ye,be),Pe=Math.min(q,fe,ue,Se),J=Math.max(q,fe,ue,Se);return new o(me,Pe,Re-me,J-Pe)},K=function(F,q,ee,se,ce,fe,ye,ue){var be,Se,me,Re,Pe,J,he,Fe,qe,je,Ke,We,Je,rt,zt=ee-F,Ct=se-q,st=ce-ee,vt=fe-se,Mt=ye-ce,tt=ue-fe;for(Se=0;Se<41;Se++)qe=(he=(me=F+(be=Se/40)*zt)+be*((Pe=ee+be*st)-me))+be*(Pe+be*(ce+be*Mt-Pe)-he),je=(Fe=(Re=q+be*Ct)+be*((J=se+be*vt)-Re))+be*(J+be*(fe+be*tt-J)-Fe),Se==0?(Ke=qe,We=je,Je=qe,rt=je):(Ke=Math.min(Ke,qe),We=Math.min(We,je),Je=Math.max(Je,qe),rt=Math.max(rt,je));return new o(Math.round(Ke),Math.round(We),Math.round(Je-Ke),Math.round(rt-We))},H=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,q,ee=(F=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:q}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(ht.API),function(t){var e=function(s){var o,l,c,u,f,h,p,b,x,v;for(l=[],c=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(f=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(h=(f=((f=((f=((f=(f-(v=f%85))/85)-(x=f%85))/85)-(b=f%85))/85)-(p=f%85))/85)%85,l.push(h+33,p+33,b+33,x+33,v+33)):l.push(122);return function(y,w){for(var S=w;S>0;S--)y.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(s){var o,l,c,u,f,h=String,p="length",b=255,x="charCodeAt",v="slice",y="replace";for(s[v](-2),s=s[v](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),c=[],u=0,f=(s+=o="uuuuu"[v](s[p]%5||5))[p];f>u;u+=5)l=52200625*(s[x](u)-33)+614125*(s[x](u+1)-33)+7225*(s[x](u+2)-33)+85*(s[x](u+3)-33)+(s[x](u+4)-33),c.push(b&l>>24,b&l>>16,b&l>>8,b&l);return function(w,S){for(var E=S;E>0;E--)w.pop()}(c,o[p]),h.fromCharCode.apply(h,c)},r=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=vE(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,o){var l=0,c=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(ht.API),function(t){t.loadFile=function(e,n,r){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,h=0,p=function(b){var x=b.length,v=[],y=String.fromCharCode;for(h=0;h<x;h+=1)v.push(y(255&b.charCodeAt(h)));return v.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(p(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return p(f.responseText)}(i,a,s)}catch{}return o}(e,n,r)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile}(ht.API),function(t){function e(){return(Pt.html2canvas?Promise.resolve(Pt.html2canvas):N_(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Pt.DOMPurify?Promise.resolve(Pt.DOMPurify):N_(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=An(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},a=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(o(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var b=u[p],x=b.src.find(function(v){return v.format==="truetype"});x&&c.addFont(x.url,b.ref.name,b.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,u),h}).then(u,f).then(function(h){return c.updateProgress(1),h})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:s.convert(Object.assign({},u),Promise.prototype),h=c.call(f,o,l);return s.convert(h,u.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ht.getPageSize=function(o,l,c){if(An(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,h=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var b,x=0,v=0;if(p.hasOwnProperty(h))x=p[h][1]/f,v=p[h][0]/f;else try{x=c[1],v=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",v>x&&(b=v,v=x,x=b);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",x>v&&(b=v,v=x,x=b)}return{width:v,height:x,unit:l,k:f,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(z_):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}}(ht.API),ht.API.addJS=function(t){var e,n,r=function(i){for(var a="",s=0;s<i.length;s++){var o=i[s];if(o==="("||o===")"){for(var l=0,c=s-1;c>=0&&i[c]==="\\";c--)l++;a+=l%2==0?"\\"+o:o}else a+=o}return a}(t);return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&n!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=r.exec(s);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(a=0;a<c;a++){var f=n.internal.newObject();u.push(f);var h=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<u.length;a++)n.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(ht.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,a,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),b=f.length,x={width:0,height:0,numcomponents:1},v=4;v<b;v+=2){if(v+=p,e.indexOf(f.charCodeAt(v+1))!==-1){h=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),x={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:h,numcomponents:f.charCodeAt(v+9)};break}p=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return x}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(ht.API),ht.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=iRe(t,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,c=a.palette,u=a.depth;i=c&&l===1?function(A){for(var N=A.width,M=A.height,k=A.data,j=A.palette,C=A.depth,V=!1,X=[],ne=[],oe=void 0,Y=!1,le=0,K=0;K<j.length;K++){var H=AL(j[K],4),F=H[0],q=H[1],ee=H[2],se=H[3];X.push(F,q,ee),se!=null&&(se===0?(le++,ne.length<1&&ne.push(K)):se<255&&(Y=!0))}if(Y||le>1){V=!0,ne=void 0;var ce=N*M;oe=new Uint8Array(ce);for(var fe=new DataView(k.buffer),ye=0;ye<ce;ye++){var ue=W_(fe,ye,C),be=AL(j[ue],4)[3];oe[ye]=be}}else le===0&&(ne=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:V?8:void 0,colorBytes:k,alphaBytes:oe,needSMask:V,palette:X,mask:ne}}(a):l===2||l===4?function(A){for(var N=A.data,M=A.width,k=A.height,j=A.channels,C=A.depth,V=j===2?"DeviceGray":"DeviceRGB",X=j-1,ne=M*k,oe=X,Y=ne*oe,le=1*ne,K=Math.ceil(Y*C/8),H=Math.ceil(le*C/8),F=new Uint8Array(K),q=new Uint8Array(H),ee=new DataView(N.buffer),se=new DataView(F.buffer),ce=new DataView(q.buffer),fe=!1,ye=0;ye<ne;ye++){for(var ue=ye*j,be=0;be<oe;be++)PD(se,W_(ee,ue+be,C),ye*oe+be,C);var Se=W_(ee,ue+oe,C);Se<(1<<C)-1&&(fe=!0),PD(ce,Se,1*ye,C)}return{colorSpace:V,colorsPerPixel:X,sMaskBitsPerComponent:fe?C:void 0,colorBytes:F,alphaBytes:q,needSMask:fe}}(a):function(A){var N=A.data,M=A.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:M,colorsPerPixel:M==="DeviceGray"?1:3,colorBytes:N instanceof Uint16Array?function(k){for(var j=k.length,C=new Uint8Array(2*j),V=new DataView(C.buffer,C.byteOffset,C.byteLength),X=0;X<j;X++)V.setUint16(2*X,k[X],!1);return C}(N):N,needSMask:!1}}(a);var f,h,p,b=i,x=b.colorSpace,v=b.colorsPerPixel,y=b.sMaskBitsPerComponent,w=b.colorBytes,S=b.alphaBytes,E=b.needSMask,P=b.palette,R=b.mask,I=null;return r!==ht.API.image_compression.NONE&&typeof vE=="function"?(I=function(A){var N;switch(A){case ht.API.image_compression.FAST:N=11;break;case ht.API.image_compression.MEDIUM:N=13;break;case ht.API.image_compression.SLOW:N=14;break;default:N=12}return N}(r),f=this.decode.FLATE_DECODE,h="/Predictor ".concat(I," /Colors ").concat(v," /BitsPerComponent ").concat(u," /Columns ").concat(s),t=_D(w,Math.ceil(s*v*u/8),v,u,r),E&&(p=_D(S,Math.ceil(s*y/8),1,y,r))):(f=void 0,h=void 0,t=w,E&&(p=S)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:f,decodeParameters:h,transparency:R,palette:P,sMask:p,predictor:I,width:s,height:o,bitsPerComponent:u,sMaskBitsPerComponent:y,colorSpace:x}}},function(t){t.processGIF89A=function(e,n,r,i){var a=new NRe(e),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new H_(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A}(ht.API),Js.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Js.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[t]()}catch(n){Rn.log("bit decode error:"+n)}},Js.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}n!==0&&(this.pos+=4-n)}},Js.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,o=a>>4,l=15&a,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Js.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Js.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,c=a>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=t}},Js.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&n)/n*255|0,c=(s>>11)/e*255|0,u=i*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},Js.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Js.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=s}},Js.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var a=new Js(e,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new H_(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(ht.API),kD.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var a=new kD(e),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new H_(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(ht.API),ht.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=r[c],f=r[c+1],h=r[c+2],p=r[c+3];a[o++]=u,a[o++]=f,a[o++]=h,s[l++]=p}var b=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:b,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ht.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},qd=ht.API,h1=qd.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=e.doKerning!==!1,h=0,p=t.length,b=0,x=o[0]||l,v=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(h=f&&An(c[r])==="object"&&!isNaN(parseInt(c[r][b],10))?c[r][b]/u:0,v.push((o[r]||x)/l+h)),b=r;return v},bD=qd.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return qd.processArabic&&(t=qd.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:h1.apply(this,arguments).reduce(function(a,s){return a+s},0)},xD=function(t,e,n,r){for(var i=[],a=0,s=t.length,o=0;a!==s&&o+e[a]<n;)o+=e[a],a++;i.push(t.slice(0,a));var l=a;for(o=0;a!==s;)o+e[a]>r&&(i.push(t.slice(l,a)),o=0,l=a),o+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},wD=function(t,e,n){n||(n={});var r,i,a,s,o,l,c,u=[],f=[u],h=n.textIndent||0,p=0,b=0,x=t.split(" "),v=h1.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?x[0].length+2:n.lineIndent||0){var y=Array(l).join(" "),w=[];x.map(function(E){(E=E.split(/\s*\n/)).length>1?w=w.concat(E.map(function(P,R){return(R&&P.length?`
`:"")+P})):w.push(E[0])}),x=w,l=bD.apply(this,[y,n])}for(a=0,s=x.length;a<s;a++){var S=0;if(r=x[a],l&&r[0]==`
`&&(r=r.substr(1),S=1),h+p+(b=(i=h1.apply(this,[r,n])).reduce(function(E,P){return E+P},0))>e||S){if(b>e){for(o=xD.apply(this,[r,i,e-(h+p),e]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);b=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(E,P){return E+P},0)}else u=[r];f.push(u),h=b+l,p=v}else u.push(r),h+=p+b,p=v}return c=l?function(E,P){return(P?y:"")+E.join(" ")}:function(E){return E.join(" ")},f.map(c)},qd.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),h="Unicode";return f.metadata[h]?{widths:f.metadata[h].widths||{0:1},kerning:f.metadata[h].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(wD.apply(this,[r[o],s,a]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[n[a]]=e[a],i[e[a]]=n[a];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=t.__fontmetrics__.compress=function(h){var p,b,x,v,y=["{"];for(var w in h){if(p=h[w],isNaN(parseInt(w,10))?b="'"+w+"'":(w=parseInt(w,10),b=(b=s(w).slice(2)).slice(0,-1)+i[b.slice(-1)]),typeof p=="number")p<0?(x=s(p).slice(3),v="-"):(x=s(p).slice(2),v=""),x=v+x.slice(0,-1)+i[x.slice(-1)];else{if(An(p)!=="object")throw new Error("Don't know what to do with value type "+An(p)+".");x=o(p)}y.push(b+x)}return y.push("}"),y.join("")},l=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,b,x,v,y={},w=1,S=y,E=[],P="",R="",I=h.length-1,A=1;A<I;A+=1)(v=h[A])=="'"?p?(x=p.join(""),p=void 0):p=[]:p?p.push(v):v=="{"?(E.push([S,x]),S={},x=void 0):v=="}"?((b=E.pop())[0][b[1]]=S,x=void 0,S=b[0]):v=="-"?w=-1:x===void 0?r.hasOwnProperty(v)?(P+=r[v],x=parseInt(P,16)*w,w=1,P=""):P+=v:r.hasOwnProperty(v)?(R+=r[v],S[x]=parseInt(R,16)*w,w=1,x=void 0,R=""):R+=v;return y},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var p=h.font,b=f.Unicode[p.postScriptName];b&&(p.metadata.Unicode={},p.metadata.Unicode.widths=b.widths,p.metadata.Unicode.kerning=b.kerning);var x=u.Unicode[p.postScriptName];x&&(p.metadata.Unicode.encoding=x,p.encoding=x.codePages[0])}])}(ht.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(U1(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(ht),ht.API.addSvgAsImage=function(t,e,n,r,i,a,s,o){if(isNaN(e)||isNaN(n))throw Rn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Rn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Pt.canvg?Promise.resolve(Pt.canvg):N_(()=>import("./index.es-dlNZ5pdf.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(u)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,s,o)})},ht.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ht.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function h(b,x){var v,y=!1;for(v=0;v<b.length;v+=1)b[v]===x&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=o.length;for(f=0;f<p;f+=1)n[o[f]].value=n[o[f]].defaultValue,n[o[f]].explicitSet=!1}if(An(t)==="object"){for(i in t)if(a=t[i],h(o,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&h(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(c=0;c<a.length;c+=1)if(r=!0,a[c].length===1&&typeof a[c][0]=="number")l.push(String(a[c]-1));else if(a[c].length>1){for(u=0;u<a[c].length;u+=1)typeof a[c][u]!="number"&&(r=!1);r===!0&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,x=[];for(b in n)n[b].explicitSet===!0&&(n[b].type==="name"?x.push("/"+b+" /"+n[b].value):x.push("/"+b+" "+n[b].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},ht.API.addMetadata=function(t,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",PRe),this.internal.events.subscribe("postPutResources",ERe)),this},function(t){var e=t.API,n=e.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,h=a.length;f<h;++f){if(o=s.metadata.characterToGlyph(a.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},r=function(a){var s,o,l,c,u,f,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(o=Object.keys(a).sort(function(p,b){return p-b})).length;f<h;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(c=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",b=0;b<h.length;b++)p+=String.fromCharCode(h[b]);var x=c();u({data:p,addLength1:!0,objectId:x}),l("endobj");var v=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Xd(o.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Xd(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+Xd(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var b=c();u({data:h,addLength1:!0,objectId:b}),l("endobj");var x=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var v=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Xd(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Xd(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,c=a.y,u=a.options||{},f=a.mutex||{},h=f.pdfEscape,p=f.activeFontKey,b=f.fonts,x=p,v="",y=0,w="",S=b[x].encoding;if(b[x].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(w=o,x=p,Array.isArray(o)&&(w=o[0]),y=0;y<w.length;y+=1)b[x].metadata.hasOwnProperty("cmap")&&(s=b[x].metadata.cmap.unicode.codeMap[w[y].charCodeAt(0)]),s||w[y].charCodeAt(0)<256&&b[x].metadata.hasOwnProperty("Unicode")?v+=w[y]:v+="";var E="";return parseInt(x.slice(1))<14||S==="WinAnsiEncoding"?E=h(v,x).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(E=n(v,b[x])),f.isHex=!0,{text:E,x:l,y:c,options:u,mutex:f}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(i(Object.assign({},l,{text:s[c]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(ht),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ht.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,a,s,o,l,c,u,f=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,S=0;this.__bidiEngine__={};var E=function(k){var j=k.charCodeAt(),C=j>>8,V=x[C];return V!==void 0?f[256*V+(255&j)]:C===252||C===253?"AL":y.test(C)?"L":C===8?"R":"N"},P=function(k){for(var j,C=0;C<k.length;C++){if((j=E(k.charAt(C)))==="L")return!1;if(j==="R")return!0}return!1},R=function(k,j,C,V){var X,ne,oe,Y,le=j[V];switch(le){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(le="AN");break;case"AL":w=!0,le="R";break;case"WS":case"BN":le="N";break;case"CS":V<1||V+1>=j.length||(X=C[V-1])!=="EN"&&X!=="AN"||(ne=j[V+1])!=="EN"&&ne!=="AN"?le="N":w&&(ne="AN"),le=ne===X?ne:"N";break;case"ES":le=(X=V>0?C[V-1]:"B")==="EN"&&V+1<j.length&&j[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&C[V-1]==="EN"){le="EN";break}if(w){le="N";break}for(oe=V+1,Y=j.length;oe<Y&&j[oe]==="ET";)oe++;le=oe<Y&&j[oe]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(Y=j.length,oe=V+1;oe<Y&&j[oe]==="NSM";)oe++;if(oe<Y){var K=k[V],H=K>=1425&&K<=2303||K===64286;if(X=j[oe],H&&(X==="R"||X==="AL")){le="R";break}}}le=V<1||(X=j[V-1])==="B"?"N":C[V-1];break;case"B":w=!1,i=!0,le=S;break;case"S":a=!0,le="N"}return le},I=function(k,j,C){var V=k.split("");return C&&A(V,C,{hiLevel:S}),V.reverse(),j&&j.reverse(),V.join("")},A=function(k,j,C){var V,X,ne,oe,Y,le=-1,K=k.length,H=0,F=[],q=S?p:h,ee=[];for(w=!1,i=!1,a=!1,X=0;X<K;X++)ee[X]=E(k[X]);for(ne=0;ne<K;ne++){if(Y=H,F[ne]=R(k,ee,F,ne),V=240&(H=q[Y][b[F[ne]]]),H&=15,j[ne]=oe=q[H][5],V>0)if(V===16){for(X=le;X<ne;X++)j[X]=1;le=-1}else le=-1;if(q[H][6])le===-1&&(le=ne);else if(le>-1){for(X=le;X<ne;X++)j[X]=oe;le=-1}ee[ne]==="B"&&(j[ne]=0),C.hiLevel|=oe}a&&function(se,ce,fe){for(var ye=0;ye<fe;ye++)if(se[ye]==="S"){ce[ye]=S;for(var ue=ye-1;ue>=0&&se[ue]==="WS";ue--)ce[ue]=S}}(ee,j,K)},N=function(k,j,C,V,X){if(!(X.hiLevel<k)){if(k===1&&S===1&&!i)return j.reverse(),void(C&&C.reverse());for(var ne,oe,Y,le,K=j.length,H=0;H<K;){if(V[H]>=k){for(Y=H+1;Y<K&&V[Y]>=k;)Y++;for(le=H,oe=Y-1;le<oe;le++,oe--)ne=j[le],j[le]=j[oe],j[oe]=ne,C&&(ne=C[le],C[le]=C[oe],C[oe]=ne);H=Y}H++}}},M=function(k,j,C){var V=k.split(""),X={hiLevel:S};return C||(C=[]),A(V,C,X),function(ne,oe,Y){if(Y.hiLevel!==0&&u)for(var le,K=0;K<ne.length;K++)oe[K]===1&&(le=v.indexOf(ne[K]))>=0&&(ne[K]=v[le+1])}(V,C,X),N(2,V,j,C,X),N(1,V,j,C,X),V.join("")};return this.__bidiEngine__.doBidiReorder=function(k,j,C){if(function(X,ne){if(ne)for(var oe=0;oe<X.length;oe++)ne[oe]=oe;o===void 0&&(o=P(X)),c===void 0&&(c=P(X))}(k,j),s||!l||c)if(s&&l&&o^c)S=o?1:0,k=I(k,j,C);else if(!s&&l&&c)S=o?1:0,k=M(k,j,C),k=I(k,j);else if(!s||o||l||c){if(s&&!l&&o^c)k=I(k,j),o?(S=0,k=M(k,j,C)):(S=1,k=M(k,j,C),k=I(k,j));else if(s&&o&&!l&&c)S=1,k=M(k,j,C),k=I(k,j);else if(!s&&!l&&o^c){var V=u;o?(S=1,k=M(k,j,C),S=0,u=!1,k=M(k,j,C),u=V):(S=0,k=M(k,j,C),k=I(k,j),S=1,u=!1,k=M(k,j,C),u=V,k=I(k,j))}}else S=0,k=M(k,j,C);else S=o?1:0,k=M(k,j,C);return k},this.__bidiEngine__.setOptions=function(k){k&&(s=k.isInputVisual,l=k.isOutputVisual,o=k.isInputRtl,c=k.isOutputRtl,u=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([n.doBidiReorder(i[o])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ht),ht.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Lu(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new URe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new TRe(this.contents),this.head=new IRe(this),this.name=new MRe(this),this.cmap=new KW(this),this.toUnicode={},this.hhea=new CRe(this),this.maxp=new LRe(this),this.hmtx=new DRe(this),this.post=new ORe(this),this.os2=new jRe(this),this.loca=new VRe(this),this.glyf=new FRe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var xo,Lu=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,a,s,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*s+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)n=e[r],a.push(this.writeByte(n));return a},t}(),TRe=function(){var t;function e(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,a,s,o,l,c,u,f,h,p,b,x;for(x in p=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),s=Math.floor(f/l),u=16*p-f,(i=new Lu).writeInt(this.scalarType),i.writeShort(p),i.writeShort(f),i.writeShort(s),i.writeShort(u),a=16*p,c=i.pos+a,o=null,b=[],n)for(h=n[x],i.writeString(x),i.writeInt(t(h)),i.writeInt(c),i.writeInt(h.length),b=b.concat(h),x==="head"&&(o=c),c+=h.length;c%4;)b.push(0),c++;return i.write(b),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,a,s;for(n=YW.call(n);n.length%4;)n.push(0);for(a=new Lu(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},e}(),kRe={}.hasOwnProperty,dl=function(t,e){for(var n in e)kRe.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};xo=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var IRe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,xo),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Lu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),ID=function(){function t(e,n){var r,i,a,s,o,l,c,u,f,h,p,b,x,v,y,w,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),h=p/2,e.pos+=6,a=function(){var E,P;for(P=[],l=E=0;0<=h?E<h:E>h;l=0<=h?++E:--E)P.push(e.readUInt16());return P}(),e.pos+=2,x=function(){var E,P;for(P=[],l=E=0;0<=h?E<h:E>h;l=0<=h?++E:--E)P.push(e.readUInt16());return P}(),c=function(){var E,P;for(P=[],l=E=0;0<=h?E<h:E>h;l=0<=h?++E:--E)P.push(e.readUInt16());return P}(),u=function(){var E,P;for(P=[],l=E=0;0<=h?E<h:E>h;l=0<=h?++E:--E)P.push(e.readUInt16());return P}(),i=(this.length-e.pos+this.offset)/2,o=function(){var E,P;for(P=[],l=E=0;0<=i?E<i:E>i;l=0<=i?++E:--E)P.push(e.readUInt16());return P}(),l=y=0,S=a.length;y<S;l=++y)for(v=a[l],r=w=b=x[l];b<=v?w<=v:w>=v;r=b<=v?++w:--w)u[l]===0?s=r+c[l]:(s=o[u[l]/2+(r-b)-(h-l)]||0)!==0&&(s+=c[l]),this.codeMap[r]=65535&s}e.pos=f}return t.encode=function(e,n){var r,i,a,s,o,l,c,u,f,h,p,b,x,v,y,w,S,E,P,R,I,A,N,M,k,j,C,V,X,ne,oe,Y,le,K,H,F,q,ee,se,ce,fe,ye,ue,be,Se,me;switch(V=new Lu,s=Object.keys(e).sort(function(Re,Pe){return Re-Pe}),n){case"macroman":for(x=0,v=function(){var Re=[];for(b=0;b<256;++b)Re.push(0);return Re}(),w={0:0},a={},X=0,le=s.length;X<le;X++)w[ue=e[i=s[X]]]==null&&(w[ue]=++x),a[i]={old:e[i],new:w[e[i]]},v[i]=w[e[i]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(v),{charMap:a,subtable:V.data,maxGlyphID:x+1};case"unicode":for(j=[],f=[],S=0,w={},r={},y=c=null,ne=0,K=s.length;ne<K;ne++)w[P=e[i=s[ne]]]==null&&(w[P]=++S),r[i]={old:P,new:w[P]},o=w[P]-i,y!=null&&o===c||(y&&f.push(y),j.push(i),c=o),y=i;for(y&&f.push(y),f.push(65535),j.push(65535),M=2*(N=j.length),A=2*Math.pow(Math.log(N)/Math.LN2,2),h=Math.log(A/2)/Math.LN2,I=2*N-A,l=[],R=[],p=[],b=oe=0,H=j.length;oe<H;b=++oe){if(k=j[b],u=f[b],k===65535){l.push(0),R.push(0);break}if(k-(C=r[k].new)>=32768)for(l.push(0),R.push(2*(p.length+N-b)),i=Y=k;k<=u?Y<=u:Y>=u;i=k<=u?++Y:--Y)p.push(r[i].new);else l.push(C-k),R.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*N+2*p.length),V.writeUInt16(0),V.writeUInt16(M),V.writeUInt16(A),V.writeUInt16(h),V.writeUInt16(I),fe=0,F=f.length;fe<F;fe++)i=f[fe],V.writeUInt16(i);for(V.writeUInt16(0),ye=0,q=j.length;ye<q;ye++)i=j[ye],V.writeUInt16(i);for(be=0,ee=l.length;be<ee;be++)o=l[be],V.writeUInt16(o);for(Se=0,se=R.length;Se<se;Se++)E=R[Se],V.writeUInt16(E);for(me=0,ce=p.length;me<ce;me++)x=p[me],V.writeUInt16(x);return{charMap:r,subtable:V.data,maxGlyphID:S+1}}},t}(),KW=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,xo),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new ID(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=ID.encode(e,n),(i=new Lu).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),CRe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,xo),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),jRe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,xo),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),ORe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,xo),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(e.readUInt32());return l}).call(this)}},t}(),RRe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},MRe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,xo),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,a,s,o,l,c,u,f,h;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),r=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},a=u=0,f=r.length;u<f;a=++u)i=r[a],e.pos=i.offset,c=e.readString(i.length),s=new RRe(c,i),l[h=i.nameID]==null&&(l[h]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),LRe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,xo),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),DRe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,xo),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,a,s,o,l;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)u.push(e.readInt16());return u}(),this.widths=(function(){var c,u,f,h;for(h=[],c=0,u=(f=this.metrics).length;c<u;c++)a=f[c],h.push(a.advance);return h}).call(this),r=this.widths[this.widths.length-1],l=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),YW=[].slice,FRe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,xo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,a,s,o,l,c,u,f;return e in this.cache?this.cache[e]:(a=this.file.loca,n=this.file.contents,r=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,s=(o=new Lu(n.read(i))).readShort(),c=o.readShort(),f=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[e]=s===-1?new BRe(o,c,f,l,u):new $Re(o,s,c,f,l,u),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,a,s,o,l;for(s=[],a=[],o=0,l=n.length;o<l;o++)i=e[n[o]],a.push(s.length),i&&(s=s.concat(i.encode(r)));return a.push(s.length),{table:s,offsets:a}},t}(),$Re=function(){function t(e,n,r,i,a,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),BRe=function(){function t(e,n,r,i,a){var s,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Lu(YW.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),VRe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,xo),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<r.length;++s)if(r[s]=i,a<n.length&&n[a]==s){++a,r[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},t}(),URe=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,a,s,o,l;for(i={},s=0,o=e.length;s<o;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in l=this.glyphsFor(n))r=l[a],i[a]=r;return i},t.prototype.encode=function(e,n){var r,i,a,s,o,l,c,u,f,h,p,b,x,v,y;for(i in r=KW.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),p={0:0},y=r.charMap)p[(l=y[i]).old]=l.new;for(b in h=r.maxGlyphID,s)b in p||(p[b]=h++);return u=function(w){var S,E;for(S in E={},w)E[w[S]]=S;return E}(p),f=Object.keys(u).sort(function(w,S){return w-S}),x=function(){var w,S,E;for(E=[],w=0,S=f.length;w<S;w++)o=f[w],E.push(u[o]);return E}(),a=this.font.glyf.encode(s,x,p),c=this.font.loca.encode(a.offsets,x),v={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},t}();ht.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,a,s;if(Array.isArray(n))return"["+function(){var o,l,c;for(c=[],o=0,l=n.length;o<l;o++)r=n[o],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)s=n[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+n},e}();function CD(t){var n;if(!t)return null;const e=((n=t.toDate)==null?void 0:n.call(t))??new Date(t);return Number.isNaN(e.getTime())?null:e}function Mk(t){if(!t)return;const e=new ht,n=CD(t.paidDate)||new Date,r=CD(t.recordedAt)||n,i=t.propertyName||"Rental Property",a=t.propertyAddress||t.address||"",s=t.propertyType||t.type||"",o=t.propertyBuildingName??t.buildingName,l=t.propertyUnitNumber??t.unitNumber,c=t.propertyFloor??t.floor,u=t.propertyBedrooms??t.bedrooms,f=t.propertyBathrooms??t.bathrooms,h=t.propertySqft??t.sqft,p=t.tenantName||"Tenant",b=t.tenantEmail||"",x=t.amount||0,v=t.method||"Online",y=t.status||"paid",w=t.invoiceNumber||`INV-${(t.propertyId||"").slice(0,4).toUpperCase()}-${(t.id||"").slice(-6).toUpperCase()}`;let S=20;if(e.setFontSize(18),e.text("LeaseEase Rent Invoice",20,S),S+=8,e.setFontSize(11),e.text(`Invoice #: ${w}`,20,S),S+=6,e.text(`Invoice date: ${r.toLocaleDateString()}`,20,S),S+=10,e.setFontSize(12),e.text("Billed To:",20,S),S+=6,e.setFontSize(11),e.text(p,20,S),S+=5,b?(e.text(b,20,S),S+=6):S+=4,e.setFontSize(12),e.text("Apartment Details:",20,S),S+=6,e.setFontSize(11),e.text(i,20,S),S+=5,o||l){const R=[];o&&R.push(o),l&&R.push(`Unit ${l}`),c!=null&&c!==""&&R.push(`Floor ${c}`),R.length&&(e.text(R.join(" - "),20,S),S+=5)}a&&(e.text(a,20,S),S+=5),s&&(e.text(`Type: ${s}`,20,S),S+=5);const E=[];u!=null&&E.push(`${u} bedroom(s)`),f!=null&&E.push(`${f} bathroom(s)`),h!=null&&E.push(`${h} sqft`),E.length?(e.text(E.join("  "),20,S),S+=6):S+=4,S+=4,e.setFontSize(12),e.text("Payment Summary:",20,S),S+=7,e.setFontSize(11),e.text(`Amount: ${x.toLocaleString(void 0,{maximumFractionDigits:2})}`,20,S),S+=5,e.text(`Status: ${y}`,20,S),S+=5,e.text(`Method: ${v}`,20,S),S+=5,e.text(`Paid on: ${n.toLocaleDateString()}`,20,S),S+=10,t.notes&&(e.setFontSize(11),e.text("Notes:",20,S),S+=5,e.text(String(t.notes),20,S),S+=5),e.setFontSize(9),e.text("Thank you for your payment. Keep this invoice for your records.",20,275);const P=`LeaseEase_Invoice_${w}.pdf`;e.save(P)}const jD={paid:{icon:V2,color:"text-sage",bg:"bg-sage/10",label:"Paid"},pending:{icon:Ih,color:"text-amber",bg:"bg-amber/10",label:"Pending"},late:{icon:c4,color:"text-rust",bg:"bg-rust/10",label:"Late"}};function Lk({payment:t,isLast:e,showProperty:n,onDownloadInvoice:r}){var l,c;const{fmt:i}=gi(),a=jD[t.status]||jD.pending,s=a.icon,o=((c=(l=t.paidDate)==null?void 0:l.toDate)==null?void 0:c.call(l))??new Date(t.paidDate);return d.jsxs("div",{className:`flex items-center gap-4 px-5 py-4 hover:bg-stone-50/70 transition-colors ${e?"":"border-b border-stone-100"}`,children:[d.jsx("div",{className:`w-8 h-8 rounded-lg ${a.bg} flex items-center justify-center flex-shrink-0`,children:d.jsx(s,{size:15,className:a.color})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("p",{className:"font-body font-medium text-sm text-ink",children:[t.tenantName||"Payment",n&&t.propertyName&&d.jsxs("span",{className:"font-normal text-stone-400 ml-2 text-xs",children:[" ",t.propertyName,t.propertyUnitNumber&&d.jsxs("span",{className:"text-sage ml-1",children:["(",Tk({unitNumber:t.propertyUnitNumber,floor:t.propertyFloor}),")"]})]})]}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:t.method||"Unknown"})]}),d.jsx("span",{className:"font-body text-xs text-stone-400 hidden sm:block w-28 text-right",children:pi(o,"MMM d, yyyy")}),d.jsx("span",{className:"font-body text-xs text-stone-400 hidden md:block w-24 text-right capitalize",children:t.method||""}),r&&d.jsx("button",{type:"button",onClick:()=>r(t),className:"hidden lg:inline-flex items-center justify-center w-8 h-8 rounded-lg border border-stone-200 hover:bg-stone-100 text-stone-400 hover:text-ink transition-colors",title:"Download invoice",children:d.jsx(ace,{size:14})}),d.jsx("span",{className:`badge text-xs w-20 justify-center ${t.status==="paid"?"badge-sage":t.status==="pending"?"badge-amber":"badge-rust"}`,children:a.label}),d.jsx("span",{className:"font-display font-semibold text-ink text-sm w-28 text-right flex-shrink-0",children:i(t.amount||0)})]})}function zRe({unit:t,fmtRent:e,onRemove:n,onEdit:r}){const i=t.status==="occupied"&&t.tenantId;return d.jsxs(Ge.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"card p-5 hover:shadow-deep transition-shadow relative",children:[d.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${i?"bg-sage/10":"bg-stone-100"}`,children:d.jsx(Kl,{size:18,className:i?"text-sage":"text-stone-400"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-body font-semibold text-ink text-sm",children:t.name}),d.jsx("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-body font-semibold ${i?"bg-sage/10 text-sage":"bg-amber/10 text-amber"}`,children:i?"Occupied":"Vacant"})]})]}),d.jsx("button",{onClick:()=>r(t),className:"p-2 rounded-lg text-stone-300 hover:text-ink hover:bg-stone-100 transition-colors",title:"Edit unit",children:d.jsx(fce,{size:14})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(h4,{size:13,className:"text-stone-400"}),d.jsx("span",{className:"font-body text-sm text-ink font-medium",children:e?e(t.rentAmount,t.billingCycle):`$${t.rentAmount||0}`})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(f4,{size:13,className:"text-stone-400"}),d.jsx("span",{className:"font-body text-sm text-stone-500 capitalize",children:t.billingCycle||"monthly"})]})]}),d.jsxs("div",{className:"flex items-center gap-2 mb-4 px-3 py-2.5 bg-stone-50 rounded-xl border border-stone-100",children:[d.jsx(cc,{size:14,className:i?"text-sage":"text-stone-300"}),d.jsx("span",{className:`font-body text-sm ${i?"text-ink font-medium":"text-stone-400 italic"}`,children:i?t.tenantName||t.tenantEmail||"Assigned":"No tenant assigned"})]}),i&&d.jsx("div",{className:"flex gap-2",children:d.jsxs("button",{onClick:()=>n(t),className:"flex-1 btn-ghost text-xs text-rust hover:bg-rust/8 hover:text-rust",children:[d.jsx(zA,{size:14})," Move-out"]})})]})}function qRe({isOpen:t,onClose:e,onSubmit:n,saving:r,editUnit:i=null,currencySymbol:a="$"}){const[s,o]=U.useState({unitName:"",rentAmount:"",billingCycle:"monthly",tenantName:"",tenantEmail:""});U.useEffect(()=>{var u;o(i?{unitName:i.unitName||"",rentAmount:((u=i.rentAmount)==null?void 0:u.toString())||"",billingCycle:i.billingCycle||"monthly",tenantName:i.tenantName||"",tenantEmail:i.tenantEmail||""}:{unitName:"",rentAmount:"",billingCycle:"monthly",tenantName:"",tenantEmail:""})},[i,t]);const l=u=>f=>o(h=>({...h,[u]:f.target.value})),c=u=>{if(u.preventDefault(),!s.unitName.trim()){Qe.error("Apartment name/number is required.");return}if(!s.rentAmount||isNaN(s.rentAmount)){Qe.error("Valid rent amount is required.");return}n({unitName:s.unitName.trim(),rentAmount:parseInt(s.rentAmount),billingCycle:s.billingCycle,tenantName:s.tenantName.trim(),tenantEmail:s.tenantEmail.trim(),tenantId:s.tenantEmail.trim()&&(i==null?void 0:i.tenantId)||null,status:s.tenantName.trim()?"occupied":"vacant"})};return d.jsx(Ip,{isOpen:t,onClose:e,title:i?"Edit Unit":"Add Apartment / Unit",children:d.jsxs("form",{onSubmit:c,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Apartment Number / Name *"}),d.jsxs("div",{className:"relative",children:[d.jsx(Kl,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-10",placeholder:"e.g. Unit 4B, Apt 12, Room 3",value:s.unitName,onChange:l("unitName"),autoFocus:!0,required:!0})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"label-xs",children:["Rent Amount (",a,") *"]}),d.jsxs("div",{className:"relative",children:[d.jsx(h4,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-10",type:"number",placeholder:"e.g. 250000",value:s.rentAmount,onChange:l("rentAmount"),required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Billing Cycle"}),d.jsxs("div",{className:"relative",children:[d.jsx(f4,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsxs("select",{className:"input-base pl-10 appearance-none",value:s.billingCycle,onChange:l("billingCycle"),children:[d.jsx("option",{value:"monthly",children:"Monthly"}),d.jsx("option",{value:"yearly",children:"Yearly"})]})]})]}),d.jsxs("div",{className:"pt-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(y4,{size:14,className:"text-stone-400"}),d.jsxs("span",{className:"font-body text-xs font-semibold text-stone-400 uppercase tracking-wider",children:["Assign Tenant ",d.jsx("span",{className:"text-stone-300 normal-case",children:"(optional)"})]})]}),d.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Tenant Name"}),s.tenantName?d.jsx("div",{className:"input-base bg-stone-50 text-stone-500 cursor-not-allowed flex items-center overflow-hidden whitespace-nowrap text-ellipsis",children:s.tenantName}):d.jsx("div",{className:"input-base bg-stone-50 text-stone-400 cursor-not-allowed flex items-center italic",children:"Not assigned"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Tenant Email"}),s.tenantEmail?d.jsx("div",{className:"input-base bg-stone-50 text-stone-500 cursor-not-allowed flex items-center overflow-hidden whitespace-nowrap text-ellipsis",children:s.tenantEmail}):d.jsx("div",{className:"input-base bg-stone-50 text-stone-400 cursor-not-allowed flex items-center italic",children:"Not assigned"})]})]})]}),d.jsxs("div",{className:"flex gap-3 justify-end pt-3",children:[d.jsx("button",{type:"button",onClick:e,className:"btn-secondary",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:r,className:"btn-primary",children:r?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):i?"Save Changes":"Add Unit"})]})]})})}const WRe=[{id:"units",label:"Units",icon:Kl},{id:"payments",label:"Payments",icon:Cs},{id:"maintenance",label:"Maintenance",icon:vV}];function HRe(){const{id:t}=tF(),{user:e}=Pr(),{fmt:n,fmtRent:r,currencySymbol:i,country:a}=gi(),[s,o]=U.useState(null),[l,c]=U.useState([]),[u,f]=U.useState([]),[h,p]=U.useState([]),[b]=bX(),[x,v]=U.useState(b.get("tab")||"units"),[y,w]=U.useState(!0),[S,E]=U.useState(!1),[P,R]=U.useState(!1),[I,A]=U.useState({title:"",description:"",priority:"medium"}),[N,M]=U.useState(!1),[k,j]=U.useState(null),[C,V]=U.useState(!1),[X,ne]=U.useState(!1),[oe,Y]=U.useState(null),[le,K]=U.useState(null),[H,F]=U.useState(!1),[q,ee]=U.useState(!1);U.useEffect(()=>{if(!e)return;const he=Ov(e.uid,Ke=>{const We=Ke.find(Je=>Je.id===t);o(We||null),We&&w(!1)}),Fe=T9(e.uid,t,c),qe=pie(e.uid,t,f),je=j9(e.uid,t,p);return()=>{he(),Fe(),qe(),je()}},[e,t]),U.useEffect(()=>{b.get("action")==="add"&&!y&&(j(null),M(!0))},[y,b]);const se=he=>Fe=>A(qe=>({...qe,[he]:Fe.target.value})),ce=async he=>{if(he.preventDefault(),!I.title){Qe.error("Title is required.");return}R(!0);try{await die(e.uid,t,I),Qe.success("Issue logged!"),E(!1),A({title:"",description:"",priority:"medium"})}catch{Qe.error("Failed to save.")}finally{R(!1)}},fe=async he=>{const Fe=he.status==="open"?"in-progress":he.status==="in-progress"?"resolved":"open";await hie(e.uid,t,he.id,{status:Fe}),Qe.success(`Status  ${Fe}`)},ye=async he=>{V(!0);try{k?(await uh(e.uid,t,k.id,he),Qe.success("Unit updated!")):(await mie(e.uid,t,he),Qe.success("Unit added!")),M(!1),j(null)}catch{Qe.error("Failed to save unit.")}finally{V(!1)}},ue=async()=>{F(!0);try{const{link:he}=await Ace({landlordUid:e.uid,propertyId:t,propertyName:(s==null?void 0:s.name)||""});K(he),Qe.success("Property invite link generated!")}catch(he){console.error(he),Qe.error("Failed to generate invite link.")}finally{F(!1)}},be=he=>{j(he),M(!0)},Se=he=>{Y(he),ne(!0)},me=async()=>{if(oe){V(!0);try{const he=await bce(e.uid,t,oe.id);he&&(await b4(e.uid,t,oe.id),await Xje(e.uid,he.id)),await uh(e.uid,t,oe.id,{tenantId:null,tenantName:"",tenantEmail:"",status:"vacant",rentStatus:null}),Qe.success(`Lease terminated. ${oe.unitName||"Unit"} is now vacant.`),ne(!1),Y(null)}catch(he){console.error(he),Qe.error("Failed to move out tenant.")}finally{V(!1)}}},Re=async he=>{V(!0);try{await uh(e.uid,t,he.id,{status:"occupied",tenantId:he.pendingTenantId,tenantName:he.pendingTenantName||"",tenantEmail:he.pendingTenantEmail||"",pendingTenantId:null,pendingTenantName:null,pendingTenantEmail:null,pendingRequestedAt:null}),await v4({tenantId:he.pendingTenantId,landlordId:e.uid,propertyId:t,unitId:he.id,tenantName:he.pendingTenantName||"",tenantEmail:he.pendingTenantEmail||"",unitName:he.name||"",propertyName:(s==null?void 0:s.name)||"",address:(s==null?void 0:s.address)||"",rentAmount:he.rentAmount||0,billingCycle:he.billingCycle||"monthly",currency:(a==null?void 0:a.currency)||"NGN",welcomeMessageSent:!0,welcomeMessageDate:new Date}),Qe.success(`${he.pendingTenantName||"Tenant"} approved for ${he.name}!`)}catch(Fe){console.error(Fe),Qe.error("Failed to approve request.")}finally{V(!1)}},Pe=async he=>{V(!0);try{await uh(e.uid,t,he.id,{status:"vacant",pendingTenantId:null,pendingTenantName:null,pendingTenantEmail:null,pendingRequestedAt:null}),Qe.success(`Request from ${he.pendingTenantName||"tenant"} declined.`)}catch(Fe){console.error(Fe),Qe.error("Failed to decline request.")}finally{V(!1)}};if(y)return d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"w-8 h-8 border-2 border-sage border-t-transparent rounded-full animate-spin"})});if(!s)return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("p",{className:"font-body text-stone-400",children:"Property not found."}),d.jsx(In,{to:"/properties",className:"btn-secondary mt-4 inline-flex",children:" Back to Properties"})]});const J=l.filter(he=>he.status==="paid").reduce((he,Fe)=>he+(Fe.amount||0),0);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs(Ge.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},children:[d.jsxs(In,{to:"/properties",className:"inline-flex items-center gap-1.5 text-sm font-body text-stone-400 hover:text-ink transition-colors mb-4",children:[d.jsx(u4,{size:15})," All Properties"]}),d.jsx("div",{className:"card overflow-hidden",children:d.jsxs("div",{className:"bg-gradient-to-br from-ink to-ink-light p-6 sm:p-8 relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"radial-gradient(circle at 1px 1px, #F5F0E8 1px, transparent 0)",backgroundSize:"24px 24px"}}),d.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-sage/10 rounded-full blur-2xl"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"flex items-start justify-between gap-4 mb-4",children:d.jsx(rW,{status:s.status})}),d.jsx("h1",{className:"font-display text-cream text-2xl sm:text-3xl font-semibold mb-2",children:s.name}),s.unitNumber&&d.jsxs("div",{className:"flex items-center gap-1.5 text-sage mb-3",children:[d.jsx(Vf,{size:14}),d.jsx("span",{className:"font-body text-sm font-medium",children:Bje(s)})]}),d.jsxs("div",{className:"flex items-center gap-1.5 text-stone-400 mb-6",children:[d.jsx(Hp,{size:14}),d.jsx("span",{className:"font-body text-sm",children:s.address})]}),d.jsxs("div",{className:"flex flex-wrap gap-6 mb-6",children:[d.jsx(eg,{label:"Rent",value:r(s.monthlyRent,s.rentType),accent:!0}),d.jsx(eg,{label:"Units",value:h.length}),d.jsx(eg,{label:"Occupied",value:h.filter(he=>he.status==="occupied").length}),d.jsx(eg,{label:"Bedrooms",value:s.bedrooms||""}),d.jsx(eg,{label:"Total Collected",value:n(J)})]})]})]})}),d.jsx("div",{className:"flex border-b border-stone-100 px-2 overflow-x-auto",children:WRe.map(({id:he,label:Fe,icon:qe})=>d.jsxs("button",{onClick:()=>v(he),className:`flex items-center gap-2 px-5 py-4 text-sm font-body font-medium border-b-2 transition-all whitespace-nowrap
                  ${x===he?"border-sage text-sage":"border-transparent text-stone-400 hover:text-ink"}`,children:[d.jsx(qe,{size:15})," ",Fe,he==="units"&&h.length>0&&d.jsx("span",{className:"ml-1 w-5 h-5 rounded-full bg-sage/10 text-sage text-xs font-semibold flex items-center justify-center",children:h.length})]},he))}),d.jsxs("div",{className:"p-6",children:[x==="units"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"p-6 rounded-3xl bg-sage/5 border-2 border-sage/10 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-sage/5 rounded-full blur-3xl -mr-16 -mt-16"}),d.jsxs("div",{className:"relative flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-2xl bg-sage/15 flex items-center justify-center flex-shrink-0",children:d.jsx(oce,{size:24,className:"text-sage"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-display text-ink text-lg font-semibold mb-1",children:"Building Access Link"}),d.jsx("p",{className:"font-body text-stone-500 text-sm",children:"Share this link to let tenants join any vacant unit in this building"})]})]}),d.jsx("div",{className:"w-full md:w-auto flex items-center gap-2",children:le?d.jsxs("div",{className:"flex-1 md:flex-initial flex items-center gap-2 bg-white/80 backdrop-blur-sm border border-sage/20 rounded-2xl p-1.5 pl-4 shadow-sm",children:[d.jsx("span",{className:"font-mono text-xs text-stone-500 truncate max-w-[200px]",children:le}),d.jsx("button",{onClick:()=>{navigator.clipboard.writeText(le),ee(!0),setTimeout(()=>ee(!1),2e3)},className:`flex-shrink-0 flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-body font-bold transition-all ${q?"bg-sage text-white":"bg-sage/10 text-sage hover:bg-sage/20"}`,children:q?d.jsxs(d.Fragment,{children:[d.jsx(ao,{size:14})," Copied"]}):d.jsxs(d.Fragment,{children:[d.jsx(dV,{size:14})," Copy"]})})]}):d.jsx("button",{onClick:ue,disabled:H,className:"btn-primary w-full md:w-auto px-6 py-3 justify-center shadow-lg shadow-sage/10",children:H?d.jsxs(d.Fragment,{children:[d.jsx(pg,{size:16,className:"animate-spin"})," Generating"]}):d.jsxs(d.Fragment,{children:[d.jsx(js,{size:16})," Generate Portal Link"]})})})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{children:d.jsxs("p",{className:"font-body text-sm text-stone-400",children:[h.length," unit",h.length!==1?"s":"","  ",h.filter(he=>he.status==="occupied").length," occupied"]})}),d.jsxs("button",{onClick:()=>{j(null),M(!0)},className:"btn-primary text-xs px-3 py-2",children:[d.jsx(js,{size:13})," Add Unit"]})]}),(()=>{const he=h.filter(Fe=>Fe.status==="pending_approval"&&!!Fe.pendingTenantId);return he.length===0?null:d.jsxs("div",{className:"mb-5 space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(c4,{size:15,className:"text-amber"}),d.jsxs("p",{className:"font-body text-xs font-semibold text-amber uppercase tracking-wider",children:["Action Required  ",he.length," join request",he.length!==1?"s":""]})]}),he.map(Fe=>d.jsx("div",{className:"rounded-2xl border-2 border-amber/30 bg-amber/5 p-4",children:d.jsxs("div",{className:"flex items-start justify-between gap-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-9 h-9 rounded-xl bg-amber/15 flex items-center justify-center flex-shrink-0",children:d.jsx(cc,{size:16,className:"text-amber"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-body text-sm font-semibold text-ink",children:Fe.pendingTenantName||"Unknown Tenant"}),d.jsxs("p",{className:"font-body text-xs text-stone-500",children:[Fe.pendingTenantEmail&&d.jsx("span",{className:"mr-2",children:Fe.pendingTenantEmail}),"requested ",d.jsx("strong",{children:Fe.name})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[d.jsxs("button",{onClick:()=>Pe(Fe),disabled:C,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-xs font-body font-medium bg-white border border-stone-200 text-stone-500 hover:border-rust/40 hover:text-rust transition-all disabled:opacity-50",children:[d.jsx(zA,{size:13})," Decline"]}),d.jsxs("button",{onClick:()=>Re(Fe),disabled:C,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-xs font-body font-medium bg-sage text-cream hover:bg-sage/90 transition-all disabled:opacity-50",children:[d.jsx(yV,{size:13})," Approve"]})]})]})},Fe.id))]})})(),h.length===0?d.jsx(G_,{icon:Kl,title:"No units yet",sub:"Add apartments or units to this property to track tenants and rent."}):d.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:h.map(he=>d.jsx(zRe,{unit:he,fmtRent:r,landlordUid:e.uid,propertyId:t,propertyName:(s==null?void 0:s.name)||"",onRemove:Se,onEdit:be},he.id))})]}),x==="payments"&&d.jsxs("div",{children:[d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsxs("p",{className:"font-body text-sm text-stone-400",children:[l.length," payments recorded"]})}),l.length===0?d.jsx(G_,{icon:Cs,title:"No payments yet",sub:"Payments will appear here automatically after tenants pay online."}):d.jsx("div",{className:"card overflow-hidden",children:l.map((he,Fe)=>d.jsx(Lk,{payment:he,isLast:Fe===l.length-1,onDownloadInvoice:Mk},he.id))})]}),x==="maintenance"&&d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("p",{className:"font-body text-sm text-stone-400",children:[u.filter(he=>he.status!=="resolved").length," open issues"]}),d.jsxs("button",{onClick:()=>E(!0),className:"btn-primary text-xs px-3 py-2",children:[d.jsx(js,{size:13})," Log Issue"]})]}),u.length===0?d.jsx(G_,{icon:vV,title:"No issues logged",sub:"All clear  no maintenance tickets for this property."}):d.jsx("div",{className:"space-y-3",children:u.map(he=>{var Fe,qe;return d.jsxs("div",{className:"flex items-start gap-4 p-4 card hover:shadow-deep transition-shadow",children:[d.jsx("div",{className:`mt-0.5 w-2.5 h-2.5 rounded-full flex-shrink-0 ${he.status==="resolved"?"bg-sage":he.status==="in-progress"?"bg-amber":"bg-rust"}`}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-start justify-between gap-2",children:[d.jsx("p",{className:"font-body font-semibold text-sm text-ink",children:he.title}),d.jsx("span",{className:`badge text-xs ${he.priority==="high"?"badge-rust":he.priority==="medium"?"badge-amber":"badge-stone"}`,children:he.priority})]}),he.description&&d.jsx("p",{className:"font-body text-xs text-stone-400 mt-1 line-clamp-2",children:he.description}),d.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[d.jsxs("button",{onClick:()=>fe(he),className:`inline-flex items-center gap-1.5 text-xs font-body font-medium px-2.5 py-1 rounded-lg border transition-all
                                ${he.status==="resolved"?"bg-sage/10 text-sage border-sage/20":he.status==="in-progress"?"bg-amber/10 text-amber border-amber/20":"bg-rust/10 text-rust border-rust/20"}`,children:[d.jsx(nce,{size:11})," ",he.status==="open"?"Open":he.status==="in-progress"?"In Progress":"Resolved"]}),d.jsx("span",{className:"font-body text-xs text-stone-300",children:he.createdAt?pi(((qe=(Fe=he.createdAt).toDate)==null?void 0:qe.call(Fe))??new Date(he.createdAt),"MMM d"):""})]})]})]},he.id)})})]})]})]}),d.jsx(Ip,{isOpen:S,onClose:()=>E(!1),title:"Log Maintenance Issue",children:d.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Issue Title *"}),d.jsx("input",{className:"input-base",placeholder:"e.g. Leaking roof, Broken AC",value:I.title,onChange:se("title"),required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Description"}),d.jsx("textarea",{className:"input-base min-h-[80px] resize-none",placeholder:"Describe the issue",value:I.description,onChange:se("description")})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Priority"}),d.jsx("div",{className:"flex gap-2",children:["low","medium","high"].map(he=>d.jsx("button",{type:"button",onClick:()=>A(Fe=>({...Fe,priority:he})),className:`flex-1 py-2.5 rounded-xl text-sm font-body font-medium border capitalize transition-all
                    ${I.priority===he?he==="high"?"bg-rust/10 text-rust border-rust/30":he==="medium"?"bg-amber/10 text-amber border-amber/30":"bg-sage/10 text-sage border-sage/30":"bg-stone-50 text-stone-400 border-stone-200 hover:bg-stone-100"}`,children:he},he))})]}),d.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[d.jsx("button",{type:"button",onClick:()=>E(!1),className:"btn-secondary",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:P,className:"btn-primary",children:P?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):"Log Issue"})]})]})}),d.jsx(qRe,{isOpen:N,onClose:()=>{M(!1),j(null)},onSubmit:ye,saving:C,editUnit:k,currencySymbol:i}),d.jsx(Ip,{isOpen:X,onClose:()=>ne(!1),title:"Terminate Lease",size:"sm",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 p-3 bg-rust/8 rounded-xl border border-rust/20",children:[d.jsx(zA,{size:18,className:"text-rust flex-shrink-0"}),d.jsxs("p",{className:"font-body text-sm text-rust",children:["Move out ",d.jsx("strong",{children:(oe==null?void 0:oe.tenantName)||"tenant"})," from ",d.jsx("strong",{children:(oe==null?void 0:oe.unitName)||(oe==null?void 0:oe.name)}),"? Payment history will be kept, and their status will change to ",d.jsx("strong",{children:"FORMER"}),"."]})]}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx("button",{onClick:()=>ne(!1),className:"btn-secondary",children:"Cancel"}),d.jsx("button",{onClick:me,disabled:C,className:"btn-danger",children:C?d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Confirm Move-out"})]})]})})]})}function eg({label:t,value:e,accent:n}){return d.jsxs("div",{children:[d.jsx("p",{className:"font-body text-xs text-stone-500 mb-0.5",children:t}),d.jsx("p",{className:`font-display font-semibold text-xl ${n?"text-sage":"text-cream"}`,children:e})]})}function G_({icon:t,title:e,sub:n}){return d.jsxs("div",{className:"flex flex-col items-center text-center py-12",children:[d.jsx(t,{size:32,className:"text-stone-300 mb-3"}),d.jsx("p",{className:"font-body font-medium text-stone-500 text-sm",children:e}),d.jsx("p",{className:"font-body text-xs text-stone-300 mt-1",children:n})]})}const GRe={overdue:{label:"Overdue",color:"text-rust",bg:"bg-rust/10",border:"border-rust/20",dot:"bg-rust"},urgent:{label:"Urgent",color:"text-rust",bg:"bg-rust/8",border:"border-rust/15",dot:"bg-rust/70"},soon:{label:"Soon",color:"text-amber",bg:"bg-amber/10",border:"border-amber/20",dot:"bg-amber"},ok:{label:"Upcoming",color:"text-sage",bg:"bg-sage/8",border:"border-sage/15",dot:"bg-sage"},paid:{label:"Paid",color:"text-stone-400",bg:"bg-stone-100",border:"border-stone-200",dot:"bg-stone-300"}};function K_(t){var r,i;if(t.status==="paid")return"paid";const e=((i=(r=t.dueDate)==null?void 0:r.toDate)==null?void 0:i.call(r))??new Date(t.dueDate);if(Mu(e))return"overdue";const n=Gp(e,new Date);return n<=3?"urgent":n<=7?"soon":"ok"}function KRe(){const{user:t}=Pr(),{fmt:e,currencySymbol:n}=gi(),[r,i]=U.useState([]),[a,s]=U.useState([]),[o,l]=U.useState("all"),[c,u]=U.useState(!0),[f,h]=U.useState(!1),[p,b]=U.useState(!1),x={tenantName:"",propertyId:"",amount:"",dueDate:"",recurring:!1,notifyDaysBefore:3,notes:""},[v,y]=U.useState(x);U.useEffect(()=>{if(!t)return;const M=zp(t.uid,j=>{i(j),u(!1)}),k=Ov(t.uid,s);return()=>{M(),k()}},[t]);const w=M=>k=>y(j=>({...j,[M]:k.target.type==="checkbox"?k.target.checked:k.target.value})),S=M=>{const k=M.target.value,j=a.find(C=>C.id===k);y(C=>({...C,propertyId:k,tenantName:(j==null?void 0:j.tenantName)||C.tenantName,amount:j!=null&&j.monthlyRent?String(j.monthlyRent):C.amount}))},E=async M=>{var k;if(M.preventDefault(),!v.amount||!v.dueDate){Qe.error("Please fill all required fields.");return}b(!0);try{const j=((k=a.find(C=>C.id===v.propertyId))==null?void 0:k.name)||"";await I9(t.uid,{...v,amount:parseInt(v.amount),dueDate:new Date(v.dueDate),propertyName:j}),Qe.success("Reminder created!"),h(!1),y(x)}catch{Qe.error("Failed to create reminder.")}finally{b(!1)}},P=async M=>{await _A(t.uid,M.id,{status:"paid",paidAt:new Date}),Qe.success("Marked as paid!")},R=async M=>{confirm(`Delete reminder for ${M.tenantName}?`)&&(await C9(t.uid,M.id),Qe.success("Reminder deleted."))},I=o==="all"?r:r.filter(M=>K_(M)===o),A={overdue:0,urgent:0,soon:0,ok:0};r.forEach(M=>{const k=K_(M);A[k]!==void 0&&A[k]++});const N=r.filter(M=>M.status!=="paid").reduce((M,k)=>M+(k.amount||0),0);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs(Ge.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"font-display text-ink text-3xl font-semibold",children:"Reminders"}),d.jsxs("p",{className:"font-body text-stone-400 text-sm mt-0.5",children:[r.filter(M=>M.status!=="paid").length," active  ",e(N)," outstanding"]})]}),d.jsxs("button",{onClick:()=>h(!0),className:"btn-primary",children:[d.jsx(js,{size:16})," New Reminder"]})]}),A.overdue>0&&d.jsxs(Ge.div,{initial:{opacity:0,x:-12},animate:{opacity:1,x:0},className:"flex items-center gap-3 p-4 bg-rust/8 border border-rust/20 rounded-xl",children:[d.jsx(op,{size:18,className:"text-rust flex-shrink-0"}),d.jsxs("div",{children:[d.jsxs("p",{className:"font-body font-semibold text-sm text-rust",children:[A.overdue," overdue reminder",A.overdue>1?"s":""]}),d.jsx("p",{className:"font-body text-xs text-stone-400",children:"Follow up with tenants immediately."})]})]}),d.jsx("div",{className:"flex gap-2 flex-wrap",children:[{key:"all",label:"All",count:r.length},{key:"overdue",label:"Overdue",count:A.overdue},{key:"urgent",label:"Urgent",count:A.urgent},{key:"soon",label:"Soon",count:A.soon},{key:"ok",label:"Upcoming",count:A.ok}].map(({key:M,label:k,count:j})=>d.jsxs("button",{onClick:()=>l(M),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-body font-medium border transition-all
              ${o===M?"bg-ink text-cream border-ink":"bg-white text-stone-500 border-stone-200 hover:border-stone-300"}`,children:[k,j>0&&d.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-xs font-semibold ${o===M?"bg-white/15 text-cream":"bg-stone-100 text-stone-500"}`,children:j})]},M))}),c?d.jsx("div",{className:"space-y-3",children:[1,2,3].map(M=>d.jsx("div",{className:"card h-20 animate-pulse bg-stone-100"},M))}):I.length===0?d.jsxs("div",{className:"card p-16 flex flex-col items-center text-center border-2 border-dashed border-stone-200",children:[d.jsx(Is,{size:40,className:"text-stone-300 mb-3"}),d.jsx("p",{className:"font-body font-medium text-stone-500",children:o==="all"?"No reminders yet":`No ${o} reminders`}),d.jsx("p",{className:"font-body text-xs text-stone-300 mt-1",children:o==="all"&&"Create reminders to track rent due dates."})]}):d.jsx("div",{className:"card overflow-hidden",children:d.jsx(po,{children:I.map(M=>{var ne,oe;const k=K_(M),j=GRe[k],C=((oe=(ne=M.dueDate)==null?void 0:ne.toDate)==null?void 0:oe.call(ne))??new Date(M.dueDate),V=Gp(C,new Date),X=k==="paid";return d.jsxs(Ge.div,{initial:{opacity:0},animate:{opacity:X?.6:1},exit:{opacity:0,height:0},className:"flex items-center gap-4 px-5 py-4 border-b border-stone-100 last:border-0 hover:bg-stone-50/70 transition-colors group",children:[d.jsx("div",{className:`w-2.5 h-2.5 rounded-full flex-shrink-0 ${j.dot}`}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[d.jsx("span",{className:"font-body font-semibold text-sm text-ink",children:M.tenantName}),M.propertyName&&d.jsx("span",{className:"font-body text-xs text-stone-400",children:M.propertyName}),M.recurring&&d.jsx("span",{className:"font-body text-xs px-2 py-0.5 rounded-full bg-stone-100 text-stone-400",children:"Monthly"})]}),d.jsxs("div",{className:"flex items-center gap-3 mt-1 flex-wrap",children:[d.jsx("span",{className:`font-body text-xs font-medium px-2 py-0.5 rounded-full border ${j.bg} ${j.color} ${j.border}`,children:X?"Paid":Mu(C)?"Overdue":V===0?"Due today":V===1?"Due tomorrow":`Due in ${V}d`}),d.jsxs("span",{className:"font-body text-xs text-stone-400",children:[d.jsx(Ih,{size:11,className:"inline mr-1"}),pi(C,"MMM d, yyyy")]})]})]}),d.jsx("div",{className:"text-right flex-shrink-0",children:d.jsx("p",{className:"font-display font-semibold text-lg text-ink",children:e(M.amount||0)})}),!X&&d.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsxs("button",{onClick:()=>P(M),className:"flex items-center gap-1.5 text-xs font-body font-medium px-3 py-1.5 rounded-lg bg-sage/10 text-sage border border-sage/20 hover:bg-sage/20 transition-colors",children:[d.jsx(V2,{size:13})," Paid"]}),d.jsx("button",{onClick:()=>R(M),className:"p-1.5 rounded-lg bg-rust/8 text-rust border border-rust/15 hover:bg-rust/15 transition-colors",children:d.jsx(Fv,{size:13})})]})]},M.id)})})}),d.jsx(Ip,{isOpen:f,onClose:()=>h(!1),title:"New Rent Reminder",children:d.jsxs("form",{onSubmit:E,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Link to Property (optional)"}),d.jsxs("select",{className:"input-base",value:v.propertyId,onChange:S,children:[d.jsx("option",{value:"",children:" Select property "}),a.map(M=>d.jsx("option",{value:M.id,children:M.name},M.id))]})]}),d.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Tenant Name"}),d.jsx("div",{className:"input-base bg-stone-50 text-stone-400 cursor-not-allowed flex items-center overflow-hidden whitespace-nowrap text-ellipsis",children:v.tenantName||"Select a property"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"label-xs",children:["Amount (",n,") *"]}),d.jsx("input",{className:"input-base",type:"number",placeholder:"e.g. 250000",value:v.amount,onChange:w("amount"),required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Due Date *"}),d.jsx("input",{className:"input-base",type:"date",value:v.dueDate,onChange:w("dueDate"),required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Notify N days before"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"range",min:1,max:14,value:v.notifyDaysBefore,onChange:M=>y(k=>({...k,notifyDaysBefore:parseInt(M.target.value)})),className:"flex-1 accent-sage"}),d.jsxs("span",{className:"font-mono text-sm font-medium text-ink w-8 text-right",children:[v.notifyDaysBefore,"d"]})]})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"checkbox",id:"recurring",checked:v.recurring,onChange:w("recurring"),className:"w-4 h-4 rounded accent-sage"}),d.jsx("label",{htmlFor:"recurring",className:"font-body text-sm text-ink cursor-pointer",children:"Recurring monthly reminder"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Notes (optional)"}),d.jsx("input",{className:"input-base",placeholder:"Any additional notes",value:v.notes,onChange:w("notes")})]}),d.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[d.jsx("button",{type:"button",onClick:()=>h(!1),className:"btn-secondary",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:p,className:"btn-primary",children:p?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(js,{size:15})," Create Reminder"]})})]})]})})]})}function YRe(){const{user:t}=Pr(),{fmt:e}=gi(),[n,r]=U.useState([]),[i,a]=U.useState([]),[s,o]=U.useState(!0),[l,c]=U.useState("all"),[u,f]=U.useState("all");U.useEffect(()=>{if(!t)return;const v=[],y=Ov(t.uid,w=>{if(r(w),v.forEach(S=>S==null?void 0:S()),v.length=0,w.length===0){a([]),o(!1);return}w.forEach(S=>{const E=T9(t.uid,S.id,P=>{const R=P.map(I=>({...I,propertyName:S.name,propertyId:S.id}));a(I=>[...I.filter(N=>N.propertyId!==S.id),...R].sort((N,M)=>{var C,V,X,ne;const k=((V=(C=N.paidDate)==null?void 0:C.toDate)==null?void 0:V.call(C))??new Date(N.paidDate);return(((ne=(X=M.paidDate)==null?void 0:X.toDate)==null?void 0:ne.call(X))??new Date(M.paidDate))-k})),o(!1)});v.push(E)})});return()=>{y(),v.forEach(w=>w==null?void 0:w())}},[t]);const h=i.filter(v=>(l==="all"||v.status===l)&&(u==="all"||v.propertyId===u)),p=i.filter(v=>v.status==="paid").reduce((v,y)=>v+(y.amount||0),0),b=i.filter(v=>v.status==="pending").reduce((v,y)=>v+(y.amount||0),0),x=i.filter(v=>v.status==="late").reduce((v,y)=>v+(y.amount||0),0);return d.jsxs("div",{className:"space-y-6",children:[d.jsx(Ge.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},className:"flex items-start justify-between",children:d.jsxs("div",{children:[d.jsx("h1",{className:"font-display text-ink text-3xl font-semibold",children:"Payments"}),d.jsxs("p",{className:"font-body text-stone-400 text-sm mt-0.5",children:[i.length," records across ",n.length," properties"]})]})}),d.jsx("div",{className:"grid sm:grid-cols-3 gap-4",children:[{label:"Total Collected",value:p,color:"text-sage",bg:"bg-sage/10",icon:gV},{label:"Pending",value:b,color:"text-amber",bg:"bg-amber/10",icon:Cs},{label:"Late",value:x,color:"text-rust",bg:"bg-rust/10",icon:Cs}].map(({label:v,value:y,color:w,bg:S,icon:E},P)=>d.jsxs(Ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:P*.06},className:"stat-card",children:[d.jsx("div",{className:`w-10 h-10 rounded-xl ${S} flex items-center justify-center`,children:d.jsx(E,{size:18,className:w})}),d.jsxs("div",{children:[d.jsx("p",{className:`font-display text-2xl font-semibold ${w}`,children:e(y)}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:v})]})]},v))}),d.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[d.jsx("div",{className:"flex gap-2",children:["all","paid","pending","late"].map(v=>d.jsx("button",{onClick:()=>c(v),className:`px-3 py-1.5 rounded-lg text-sm font-body font-medium border capitalize transition-all
                ${l===v?"bg-ink text-cream border-ink":"bg-white text-stone-500 border-stone-200 hover:border-stone-300"}`,children:v},v))}),d.jsx("div",{className:"h-5 w-px bg-stone-200"}),d.jsxs("select",{className:"text-sm font-body border border-stone-200 rounded-lg px-3 py-1.5 bg-white text-stone-500 focus:outline-none focus:border-sage transition-colors",value:u,onChange:v=>f(v.target.value),children:[d.jsx("option",{value:"all",children:"All Properties"}),n.map(v=>d.jsx("option",{value:v.id,children:v.name},v.id))]})]}),s?d.jsx("div",{className:"card overflow-hidden",children:[1,2,3,4].map(v=>d.jsx("div",{className:"h-16 border-b border-stone-100 animate-pulse bg-stone-50/50"},v))}):h.length===0?d.jsxs("div",{className:"card p-16 flex flex-col items-center text-center border-2 border-dashed border-stone-200",children:[d.jsx(Cs,{size:40,className:"text-stone-300 mb-3"}),d.jsx("p",{className:"font-body font-medium text-stone-500",children:"No payments found"}),d.jsx("p",{className:"font-body text-xs text-stone-300 mt-1",children:i.length===0?"Payments will appear here automatically after tenants pay online.":"Try adjusting your filters."}),i.length===0&&d.jsxs(In,{to:"/properties",className:"btn-secondary mt-4 text-sm",children:["Go to Properties ",d.jsx(vd,{size:14})]})]}):d.jsxs(Ge.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"card overflow-hidden",children:[d.jsxs("div",{className:"flex items-center gap-4 px-5 py-3 bg-stone-50 border-b border-stone-100 text-xs font-body font-semibold text-stone-400 uppercase tracking-wider",children:[d.jsx("span",{className:"flex-1",children:"Tenant / Property"}),d.jsx("span",{className:"w-28 text-right hidden sm:block",children:"Date"}),d.jsx("span",{className:"w-24 text-right hidden md:block",children:"Method"}),d.jsx("span",{className:"w-20 text-right",children:"Status"}),d.jsx("span",{className:"w-28 text-right",children:"Amount"})]}),h.map((v,y)=>d.jsx(Lk,{payment:v,isLast:y===h.length-1,showProperty:!0,onDownloadInvoice:Mk},`${v.id}-${v.propertyId}`))]})]})}function XRe(){const{user:t,profile:e}=Pr(),{country:n,countries:r,changeCountry:i}=gi(),[a,s]=U.useState(!1),[o,l]=U.useState((e==null?void 0:e.countryCode)||n.code),[c,u]=U.useState({rentDue:!0,overdue:!0,maintenance:!0,weeklyReport:!1}),f=b=>{l(b.target.value)},h=async()=>{s(!0);try{i(o),t!=null&&t.uid&&await uie(t.uid,{countryCode:o}),Qe.success("Country & currency updated!")}catch{Qe.error("Failed to save settings.")}finally{s(!1)}},p=r.find(b=>b.code===o);return d.jsxs("div",{className:"space-y-6 max-w-2xl",children:[d.jsxs(Ge.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},children:[d.jsx("h1",{className:"font-display text-ink text-3xl font-semibold",children:"Settings"}),d.jsx("p",{className:"font-body text-stone-400 text-sm mt-0.5",children:"App preferences and configuration"})]}),d.jsxs(Ge.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.05},className:"card p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-5 pb-5 border-b border-stone-100",children:[d.jsx(VA,{size:16,className:"text-stone-400"}),d.jsx("h2",{className:"font-body font-semibold text-ink text-sm",children:"Country & Currency"})]}),d.jsx("p",{className:"font-body text-xs text-stone-400 mb-3",children:"All rent amounts, payments and financial data will display in your selected currency."}),d.jsxs("div",{className:"relative mb-3",children:[d.jsx(VA,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("select",{className:"input-base pl-10 appearance-none",value:o,onChange:f,children:r.map(b=>d.jsxs("option",{value:b.code,children:[nd(b.code)," ",b.name,"  ",b.currency," (",b.symbol,")"]},b.code))})]}),p&&d.jsxs("p",{className:"font-body text-xs text-stone-400 mb-4",children:[nd(p.code)," Prices will show in ",d.jsxs("strong",{className:"text-sage",children:[p.currencyName," (",p.symbol,")"]})]}),d.jsx("button",{onClick:h,disabled:a||o===((e==null?void 0:e.countryCode)||n.code),className:"btn-primary btn-sm",children:a?d.jsx("div",{className:"w-3.5 h-3.5 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(ao,{size:13})," Save Changes"]})})]}),d.jsxs(Ge.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.08},className:"card p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-5 pb-5 border-b border-stone-100",children:[d.jsx(Is,{size:16,className:"text-stone-400"}),d.jsx("h2",{className:"font-body font-semibold text-ink text-sm",children:"Notifications"})]}),d.jsx("div",{className:"space-y-1",children:[{key:"rentDue",label:"Rent Due Reminders",sub:"Get notified before rent is due"},{key:"overdue",label:"Overdue Alerts",sub:"Immediate alerts for overdue payments"},{key:"maintenance",label:"Maintenance Updates",sub:"Status changes on maintenance tickets"},{key:"weeklyReport",label:"Weekly Summary",sub:"Weekly digest of your portfolio"}].map(({key:b,label:x,sub:v})=>d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-stone-100 last:border-0",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-body font-medium text-sm text-ink",children:x}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:v})]}),d.jsx("button",{onClick:()=>u(y=>({...y,[b]:!y[b]})),className:`relative w-11 h-6 rounded-full transition-colors duration-200 ${c[b]?"bg-sage":"bg-stone-200"}`,children:d.jsx("span",{className:`absolute top-0.5 left-0.5 w-5 h-5 rounded-full bg-white shadow-sm transition-transform duration-200 ${c[b]?"translate-x-5":"translate-x-0"}`})})]},b))})]}),d.jsx(Ge.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.12},className:"card p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg bg-sage flex items-center justify-center",children:d.jsx(sl,{size:14,className:"text-cream"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-body font-semibold text-ink text-sm",children:"LeaseEase"}),d.jsx("p",{className:"font-body text-xs text-stone-300",children:"Version 1.0.0  Global"})]})]}),d.jsx("span",{className:"badge-sage",children:"Active"})]})})]})}function QRe(){var x,v;const{user:t,profile:e,logout:n}=Pr(),{country:r,currencyName:i,currencySymbol:a}=gi(),s=yo(),[o,l]=ge.useState(!1),c=async()=>{await n(),Qe.success("Signed out."),s("/login")},u=async()=>{try{await N9(t.email),l(!0),Qe.success("Password reset email sent!")}catch{Qe.error("Failed to send reset email.")}},f=((e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||"U").split(" ").map(y=>y[0]).join("").toUpperCase().slice(0,2),h=(x=t==null?void 0:t.metadata)!=null&&x.creationTime?new Date(t.metadata.creationTime).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}):"",p=(e==null?void 0:e.role)||"landlord",b=Rs[((v=e==null?void 0:e.subscription)==null?void 0:v.planId)||"free"]||Rs.free;return d.jsxs("div",{className:"space-y-6 max-w-2xl",children:[d.jsxs(Ge.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},children:[d.jsx("h1",{className:"font-display text-ink text-3xl font-semibold",children:"Profile"}),d.jsx("p",{className:"font-body text-stone-400 text-sm mt-0.5",children:"Your personal identity and account details"})]}),d.jsxs(Ge.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.05},className:"card overflow-hidden",children:[d.jsxs("div",{className:"bg-gradient-to-br from-ink to-ink-light p-6 relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"radial-gradient(circle at 1px 1px, #F5F0E8 1px, transparent 0)",backgroundSize:"24px 24px"}}),d.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-sage/10 rounded-full blur-2xl"}),d.jsxs("div",{className:"relative flex items-center gap-5",children:[d.jsx("div",{className:"w-20 h-20 rounded-2xl bg-sage/20 border-2 border-sage/40 flex items-center justify-center flex-shrink-0 shadow-lg",children:d.jsx("span",{className:"font-display font-bold text-sage text-3xl",children:f})}),d.jsxs("div",{children:[d.jsx("h2",{className:"font-display text-cream text-2xl font-semibold",children:(e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||"User"}),d.jsx("p",{className:"font-body text-stone-400 text-sm mt-0.5",children:t==null?void 0:t.email}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsx("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-lg text-xs font-body font-semibold capitalize ${p==="tenant"?"bg-sage/15 text-sage":"bg-amber/15 text-amber"}`,children:p}),p!=="tenant"&&d.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-body font-semibold ${b.badgeColor}`,children:[d.jsx(Ch,{size:10})," ",b.badge]})]})]})]})]}),d.jsx("div",{className:"p-6 space-y-4",children:d.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[d.jsx(Wd,{icon:cc,label:"Full Name",value:(e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||""}),d.jsx(Wd,{icon:lc,label:"Email",value:(t==null?void 0:t.email)||""}),d.jsx(Wd,{icon:pV,label:"Phone",value:(e==null?void 0:e.phone)||""}),d.jsx(Wd,{icon:Hp,label:"Country",value:r?`${nd(r.code)} ${r.name}`:""}),d.jsx(Wd,{icon:d4,label:"Member Since",value:h}),d.jsx(Wd,{label:"Currency",value:r?`${r.currencyName} (${r.symbol})`:"",icon:()=>d.jsx("span",{className:"text-sm font-semibold text-stone-400",children:a})})]})})]}),p!=="tenant"&&d.jsxs(Ge.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.08},className:"card p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-5 pb-4 border-b border-stone-100",children:[d.jsx(Ch,{size:16,className:"text-stone-400"}),d.jsx("h3",{className:"font-body font-semibold text-ink text-sm",children:"Subscription"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("p",{className:"font-body font-semibold text-ink text-lg",children:b.name}),d.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-body font-semibold ${b.badgeColor}`,children:[d.jsx(Ch,{size:10})," ",b.badge]})]}),d.jsxs("p",{className:"font-body text-xs text-stone-400",children:[b.price===0?"Free forever":`$${b.price}/${b.period}`,"  ",b.maxProperties===1/0?"Unlimited":`Up to ${b.maxProperties}`," properties"]})]}),d.jsx(In,{to:"/subscription",className:"btn-secondary text-sm",children:b.id==="free"?"Upgrade":"Manage Plan"})]})]}),d.jsxs(Ge.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.1},className:"card p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-5 pb-4 border-b border-stone-100",children:[d.jsx(hce,{size:16,className:"text-stone-400"}),d.jsx("h3",{className:"font-body font-semibold text-ink text-sm",children:"Security"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-body font-medium text-sm text-ink",children:"Password"}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:"Send a reset link to your email"})]}),d.jsx("button",{onClick:u,disabled:o,className:"btn-secondary text-sm",children:o?d.jsxs(d.Fragment,{children:[d.jsx(ao,{size:14,className:"text-sage"})," Email Sent"]}):"Reset Password"})]})]}),d.jsxs(Ge.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.15},className:"card p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-stone-100",children:[d.jsx(UA,{size:16,className:"text-stone-400"}),d.jsx("h3",{className:"font-body font-semibold text-ink text-sm",children:"Account"})]}),d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-body font-medium text-sm text-ink",children:(e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||"User"}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:t==null?void 0:t.email})]}),d.jsx("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-lg text-xs font-body font-semibold capitalize ${(e==null?void 0:e.role)==="tenant"?"bg-sage/10 text-sage":"bg-amber/10 text-amber"}`,children:(e==null?void 0:e.role)||"landlord"})]}),d.jsxs("button",{onClick:c,className:"btn-danger w-full",children:[d.jsx(UA,{size:15})," Sign Out"]})]})]})}function Wd({icon:t,label:e,value:n}){return d.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-stone-50 border border-stone-100",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg bg-white border border-stone-100 flex items-center justify-center flex-shrink-0 mt-0.5",children:typeof t=="function"&&t.length===0?d.jsx(t,{}):d.jsx(t,{size:14,className:"text-stone-400"})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:"font-body text-[11px] text-stone-400 uppercase tracking-wider font-semibold",children:e}),d.jsx("p",{className:"font-body text-sm text-ink font-medium mt-0.5 truncate",children:n})]})]})}const OD="ABCDEFGHJKMNPQRSTUVWXYZ23456789";function RD(t=6){const e=crypto.getRandomValues(new Uint8Array(t));return Array.from(e,n=>OD[n%OD.length]).join("")}async function JRe(t,e,n){let r=RD(),i=await al(yn(yt,"inviteCodes",r)),a=0;for(;i.exists()&&a<5;)r=RD(),i=await al(yn(yt,"inviteCodes",r)),a++;await ET(yn(yt,"inviteCodes",r),{code:r,landlordUid:t,propertyId:e,propertyName:n||"",status:"active",createdAt:rr()});const s=yn(yt,"users",t,"properties",e);return await Pa(s,{inviteCode:r}),r}async function ZRe(t,e){try{const n=mi(Er(yt,"inviteCodes"),pr("landlordUid","==",t),pr("propertyId","==",e),pr("status","==","active")),r=await Vp(n);if(!r.empty)return r.docs[0].data().code}catch(n){console.warn("inviteCodes composite query failed, falling back to property doc:",n.message)}try{const n=await al(yn(yt,"users",t,"properties",e));if(n.exists()){const r=n.data().inviteCode;if(r){const i=await al(yn(yt,"inviteCodes",r));if(i.exists()&&i.data().status==="active")return r}}}catch(n){console.warn("Fallback invite code read failed:",n.message)}return null}async function eMe(t){const e=yn(yt,"inviteCodes",t);await Pa(e,{status:"revoked"})}async function tMe(t,e,n){const r=await ZRe(t,e);return r&&await eMe(r),JRe(t,e,n)}function nMe(){const t=yo(),e=Vu(),{user:n}=Pr(),{fmt:r}=gi(),{propertyId:i,propertyName:a,inviteCode:s,monthlyRent:o=0,rentType:l="monthly"}=e.state||{},c=o,u=o+c,f=pi(Ece(new Date,30),"MMM d, yyyy"),[h,p]=U.useState("main"),[b,x]=U.useState(s||""),[v,y]=U.useState(!1),[w,S]=U.useState(!1),[E,P]=U.useState(5),[R,I]=U.useState("1"),[A,N]=U.useState(!1),[M,k]=U.useState(0),[j,C]=U.useState("monthly");if(!i||!a)return d.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[d.jsx("p",{className:"font-body text-stone-400 mb-4",children:"No property data found."}),d.jsx("button",{onClick:()=>t("/properties"),className:"btn-primary",children:"Go to Properties"})]});const V=async()=>{try{await navigator.clipboard.writeText(b),y(!0),Qe.success("Invite code copied!"),setTimeout(()=>y(!1),2e3)}catch{Qe.error("Failed to copy.")}},X=async()=>{if(confirm("Regenerate invite code? The current code will stop working.")){S(!0);try{const Y=await tMe(n.uid,i,a);x(Y),Qe.success("New invite code generated!")}catch{Qe.error("Failed to regenerate.")}finally{S(!1)}}},ne=U.useMemo(()=>{const Y=Math.max(1,Math.min(100,Number(E)||1)),le=/^\d+$/.test(R.trim()),K=le?parseInt(R.trim(),10):1;return Array.from({length:Y},(H,F)=>le?String(K+F):`${R.trim()}${F+1}`)},[E,R]),oe=async()=>{if(ne.length!==0){N(!0);try{await vie(n.uid,i,ne,{rentAmount:o||0,billingCycle:j,payment_frequency:j}),k(ne.length),Qe.success(`${ne.length} units created!`)}catch(Y){console.error("Batch unit creation failed:",Y),Qe.error("Failed to create units. Please try again.")}finally{N(!1)}}};return d.jsx("div",{className:"min-h-[70vh] flex items-center justify-center px-4",children:d.jsxs(po,{mode:"wait",children:[h==="main"&&d.jsxs(Ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.35},className:"w-full max-w-lg text-center",children:[d.jsx("div",{className:"w-20 h-20 rounded-full bg-sage/10 flex items-center justify-center mx-auto mb-6",children:d.jsx(BA,{size:40,className:"text-sage"})}),d.jsx("h1",{className:"font-display text-ink text-3xl font-semibold mb-2",children:"Property Created!"}),d.jsxs("p",{className:"font-body text-stone-400 text-sm mb-2",children:[d.jsx("span",{className:"font-semibold text-ink",children:a})," has been added to your portfolio."]}),d.jsx("p",{className:"font-body text-stone-400 text-sm mb-10",children:"What would you like to do next?"}),d.jsxs("div",{className:"grid gap-4 sm:grid-cols-3 text-left",children:[d.jsxs("button",{onClick:()=>{k(0),p("units")},className:"group card p-5 border-2 border-sage/20 hover:border-sage/50 hover:shadow-deep transition-all text-left",children:[d.jsx("div",{className:"w-11 h-11 rounded-xl bg-sage/10 flex items-center justify-center mb-3 group-hover:bg-sage/20 transition-colors",children:d.jsx(G5,{size:20,className:"text-sage"})}),d.jsx("p",{className:"font-body font-semibold text-ink text-sm mb-1",children:"Quick-Add Units"}),d.jsx("p",{className:"font-body text-xs text-stone-400 leading-relaxed",children:"Batch-create unit numbers for a multi-unit building instantly."}),d.jsxs("div",{className:"flex items-center gap-1 mt-3 text-sage font-body text-xs font-medium",children:["Generate ",d.jsx(Xa,{size:12})]})]}),d.jsxs("button",{onClick:()=>p("invite"),className:"group card p-5 border-2 border-stone-100 hover:border-stone-300 hover:shadow-deep transition-all text-left",children:[d.jsx("div",{className:"w-11 h-11 rounded-xl bg-stone-100 flex items-center justify-center mb-3 group-hover:bg-stone-200 transition-colors",children:d.jsx(y4,{size:20,className:"text-stone-500"})}),d.jsx("p",{className:"font-body font-semibold text-ink text-sm mb-1",children:"Invite Tenant"}),d.jsx("p",{className:"font-body text-xs text-stone-400 leading-relaxed",children:"Generate and share an invite code so your tenant can join."}),d.jsxs("div",{className:"flex items-center gap-1 mt-3 text-stone-400 font-body text-xs font-medium",children:["Continue ",d.jsx(Xa,{size:12})]})]}),d.jsxs("button",{onClick:()=>t("/properties"),className:"group card p-5 border-2 border-stone-100 hover:border-stone-300 hover:shadow-deep transition-all text-left",children:[d.jsx("div",{className:"w-11 h-11 rounded-xl bg-stone-100 flex items-center justify-center mb-3 group-hover:bg-stone-200 transition-colors",children:d.jsx(mo,{size:20,className:"text-stone-500"})}),d.jsx("p",{className:"font-body font-semibold text-ink text-sm mb-1",children:"Add Later"}),d.jsx("p",{className:"font-body text-xs text-stone-400 leading-relaxed",children:"Skip for now  go to your property dashboard and set up later."}),d.jsxs("div",{className:"flex items-center gap-1 mt-3 text-stone-400 font-body text-xs font-medium",children:["Go to Dashboard ",d.jsx(Xa,{size:12})]})]})]}),o>0&&d.jsxs(Ge.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.25},className:"mt-10 text-left",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4 justify-center",children:[d.jsx(sce,{size:16,className:"text-sage"}),d.jsx("p",{className:"font-body text-xs font-semibold text-sage uppercase tracking-wider",children:"First Payment Preview"})]}),d.jsxs("div",{className:"card border border-stone-200 overflow-hidden",children:[d.jsxs("div",{className:"bg-gradient-to-br from-ink to-ink-light px-5 py-4",children:[d.jsx("p",{className:"font-display text-cream text-sm font-semibold",children:"Invoice Preview"}),d.jsx("p",{className:"font-body text-stone-400 text-xs mt-0.5",children:a})]}),d.jsxs("div",{className:"divide-y divide-stone-100",children:[d.jsx(Y_,{label:"Rent Amount",value:r(o)}),d.jsx(Y_,{label:"Security Deposit",value:r(c),sub:"1 monthly rent"}),d.jsx(Y_,{label:"Due Date",value:f,icon:d.jsx(d4,{size:13,className:"text-stone-400"})})]}),d.jsxs("div",{className:"bg-stone-50 px-5 py-3 flex items-center justify-between",children:[d.jsx("span",{className:"font-body text-xs font-semibold text-stone-500 uppercase tracking-wider",children:"Total Due"}),d.jsx("span",{className:"font-display text-lg font-bold text-sage",children:r(u)})]})]}),d.jsx("p",{className:"font-body text-xs text-stone-400 text-center mt-3",children:"This is a preview based on default settings. Amounts may be adjusted before sending."})]})]},"main"),h==="units"&&d.jsxs(Ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.35},className:"w-full max-w-md",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"w-16 h-16 rounded-full bg-sage/10 flex items-center justify-center mx-auto mb-5",children:d.jsx(G5,{size:28,className:"text-sage"})}),d.jsx("h2",{className:"font-display text-ink text-2xl font-semibold mb-1",children:"Quick-Add Units"}),d.jsxs("p",{className:"font-body text-sm text-stone-400",children:["Batch-create units for ",d.jsx("span",{className:"font-semibold text-ink",children:a}),"."]})]}),M>0?d.jsxs(Ge.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 rounded-full bg-sage/10 flex items-center justify-center mx-auto mb-4",children:d.jsx(BA,{size:32,className:"text-sage"})}),d.jsxs("p",{className:"font-display text-ink text-xl font-semibold mb-1",children:[M," unit",M!==1?"s":""," created!"]}),d.jsx("p",{className:"font-body text-sm text-stone-400 mb-8",children:"All units are vacant and ready to assign to tenants."}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("button",{onClick:()=>t(`/properties/${i}`),className:"btn-primary w-full py-3 justify-center",children:[d.jsx(p4,{size:15}),"View Building Portal"]}),d.jsx("button",{onClick:()=>p("main"),className:"btn-secondary w-full py-2.5 justify-center text-sm",children:" Back to Overview"})]})]}):d.jsxs("div",{className:"card p-6 space-y-5",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:"Number of Units"}),d.jsxs("div",{className:"relative",children:[d.jsx(Vf,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{type:"number",min:"1",max:"100",className:"input-base pl-10",value:E,onChange:Y=>{const le=Y.target.value;P(le===""?"":Math.min(100,Number(le)))},onBlur:()=>{(E===""||Number(E)<1)&&P(1)}})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-1.5",children:"Starting Number / Prefix"}),d.jsxs("div",{className:"relative",children:[d.jsx(G5,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{type:"text",className:"input-base pl-10",placeholder:"e.g. 1  or  Apt-  or  101",value:R,onChange:Y=>I(Y.target.value)})]}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-1.5",children:"Numeric prefix counts up from that number. Text prefix appends 1, 2, 3"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-2",children:"Payment Frequency"}),d.jsxs("div",{className:"flex bg-stone-100 p-1 rounded-xl",children:[d.jsx("button",{type:"button",onClick:()=>C("monthly"),className:`flex-1 py-2 text-sm font-body font-medium rounded-lg transition-all ${j==="monthly"?"bg-white text-ink shadow-sm":"text-stone-500 hover:text-ink hover:bg-white/50"}`,children:"Monthly"}),d.jsx("button",{type:"button",onClick:()=>C("yearly"),className:`flex-1 py-2 text-sm font-body font-medium rounded-lg transition-all ${j==="yearly"?"bg-white text-ink shadow-sm":"text-stone-500 hover:text-ink hover:bg-white/50"}`,children:"Yearly"})]}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-2",children:"This applies to all units generated below."})]}),d.jsxs("div",{className:"rounded-xl border border-stone-200 bg-stone-50 px-4 py-3",children:[d.jsx("p",{className:"font-body text-xs font-semibold text-stone-500 uppercase tracking-wider mb-2",children:"Preview"}),d.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[ne.slice(0,5).map((Y,le)=>d.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg bg-white border border-stone-200 font-body text-xs font-medium text-ink shadow-sm",children:Y},le)),ne.length>5&&d.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg bg-white border border-stone-200 font-body text-xs text-stone-400",children:["+",ne.length-5," more"]})]})]}),d.jsx("button",{onClick:oe,disabled:A||ne.length===0,className:"btn-primary w-full py-3 justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:A?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(g4,{size:16})," Generate ",ne.length," Unit",ne.length!==1?"s":""]})})]}),M===0&&d.jsx("div",{className:"flex justify-start mt-5",children:d.jsx("button",{onClick:()=>p("main"),className:"btn-secondary text-sm",children:" Back"})})]},"units"),h==="invite"&&d.jsxs(Ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.35},className:"w-full max-w-md text-center",children:[d.jsx("div",{className:"w-16 h-16 rounded-full bg-sage/10 flex items-center justify-center mx-auto mb-5",children:d.jsx(pce,{size:28,className:"text-sage"})}),d.jsx("h2",{className:"font-display text-ink text-2xl font-semibold mb-1",children:"Invite Your Tenant"}),d.jsxs("p",{className:"font-body text-sm text-stone-400 mb-8",children:["Share this unique code with your tenant for ",d.jsx("span",{className:"font-semibold text-ink",children:a}),"."]}),d.jsx("div",{className:"flex justify-center gap-2 mb-6",children:d.jsx(po,{mode:"wait",children:d.jsx(Ge.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"flex gap-2",children:b.split("").map((Y,le)=>d.jsx("span",{className:"inline-flex items-center justify-center w-12 h-14 rounded-xl bg-white border-2 border-sage/20 font-display text-2xl font-bold text-ink shadow-sm",children:Y},le))},b)})}),d.jsx("p",{className:"font-body text-xs text-stone-400 mb-6",children:"Your tenant can use this code during sign-up to link to this property."}),d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[d.jsxs("button",{onClick:V,className:`inline-flex items-center gap-2 px-5 py-2.5 rounded-xl text-sm font-body font-medium border transition-all ${v?"bg-sage/10 text-sage border-sage/30":"bg-sage text-cream border-sage hover:bg-sage/90"}`,children:[v?d.jsx(ao,{size:15}):d.jsx(dV,{size:15}),v?"Copied!":"Copy to Clipboard"]}),d.jsxs("button",{onClick:X,disabled:w,className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-body font-medium bg-white text-stone-500 border border-stone-200 hover:border-stone-300 transition-all disabled:opacity-50",children:[d.jsx(dce,{size:14,className:w?"animate-spin":""}),"Regenerate"]})]}),d.jsxs("div",{className:"flex items-center justify-center gap-3 pt-4 border-t border-stone-100",children:[d.jsx("button",{onClick:()=>p("main"),className:"btn-secondary text-sm",children:" Back"}),d.jsxs("button",{onClick:()=>t(`/properties/${i}`),className:"btn-primary text-sm",children:["View Property ",d.jsx(Xa,{size:14})]})]})]},"invite")]})})}function Y_({label:t,value:e,sub:n,icon:r}){return d.jsxs("div",{className:"flex items-center justify-between px-5 py-3",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-body text-sm text-ink font-medium",children:t}),n&&d.jsx("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:n})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[r,d.jsx("span",{className:"font-body text-sm font-semibold text-ink",children:e})]})]})}const rMe={free:mo,pro:yce,business:Ch},X_=(t=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t,duration:.4}});function iMe(){const{user:t}=Pr(),[e,n]=U.useState(null),[r,i]=U.useState(!0),[a,s]=U.useState(null);U.useEffect(()=>{t&&kk(t.uid).then(l=>{n(l),i(!1)})},[t]);const o=async l=>{if(l!==(e==null?void 0:e.id)){s(l);try{await zje(t.uid,l),n(Rs[l]);const c=Rs[l];Qe.success(`Switched to ${c.name} plan!`)}catch{Qe.error("Failed to update plan.")}finally{s(null)}}};return r?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"w-8 h-8 border-2 border-sage border-t-transparent rounded-full animate-spin"})}):d.jsxs("div",{className:"space-y-8 max-w-5xl mx-auto",children:[d.jsxs(Ge.div,{...X_(0),className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[d.jsx(g4,{size:20,className:"text-sage"}),d.jsx("span",{className:"font-body text-xs font-semibold text-sage uppercase tracking-wider",children:"Subscription Plans"})]}),d.jsx("h1",{className:"font-display text-ink text-3xl sm:text-4xl font-semibold mb-2",children:"Choose your plan"}),d.jsx("p",{className:"font-body text-stone-400 text-sm max-w-md mx-auto",children:"Scale your property management with the right plan. Upgrade or downgrade anytime."})]}),d.jsx("div",{className:"grid md:grid-cols-3 gap-5",children:Dh.map((l,c)=>{const u=Rs[l],f=(e==null?void 0:e.id)===l,h=rMe[l],p=Dh.indexOf(e==null?void 0:e.id),x=Dh.indexOf(l)>p;return d.jsxs(Ge.div,{...X_(.1+c*.08),className:`relative card flex flex-col overflow-hidden transition-all ${u.popular?"border-2 border-sage shadow-deep":f?"border-2 border-sage/30":"border border-stone-200 hover:border-stone-300"}`,children:[u.popular&&d.jsx("div",{className:"absolute top-0 right-0",children:d.jsx("div",{className:"bg-sage text-cream font-body text-xs font-semibold px-3 py-1 rounded-bl-xl",children:"Popular"})}),d.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center ${l==="business"?"bg-amber/10":l==="pro"?"bg-sage/10":"bg-stone-100"}`,children:d.jsx(h,{size:20,className:l==="business"?"text-amber":l==="pro"?"text-sage":"text-stone-500"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-display text-ink text-lg font-semibold",children:u.name}),f&&d.jsx("span",{className:"font-body text-xs text-sage font-medium",children:"Current plan"})]})]}),d.jsxs("div",{className:"mb-4",children:[u.price===0?d.jsxs("div",{className:"flex items-baseline gap-1",children:[d.jsx("span",{className:"font-display text-ink text-4xl font-bold",children:"$0"}),d.jsx("span",{className:"font-body text-stone-400 text-sm",children:"/ forever"})]}):d.jsxs("div",{className:"flex items-baseline gap-1",children:[d.jsxs("span",{className:"font-display text-ink text-4xl font-bold",children:["$",u.price]}),d.jsxs("span",{className:"font-body text-stone-400 text-sm",children:["/ ",u.period]})]}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-1",children:u.description})]}),d.jsx("div",{className:"flex-1 space-y-2.5 mb-6",children:u.features.map(({label:v,included:y})=>d.jsxs("div",{className:"flex items-center gap-2.5",children:[y?d.jsx("div",{className:"w-5 h-5 rounded-full bg-sage/10 flex items-center justify-center flex-shrink-0",children:d.jsx(ao,{size:12,className:"text-sage"})}):d.jsx("div",{className:"w-5 h-5 rounded-full bg-stone-100 flex items-center justify-center flex-shrink-0",children:d.jsx(U2,{size:10,className:"text-stone-300"})}),d.jsx("span",{className:`font-body text-sm ${y?"text-ink":"text-stone-300"}`,children:v})]},v))}),d.jsx("button",{onClick:()=>o(l),disabled:f||a!==null,className:`w-full py-3 rounded-xl text-sm font-body font-semibold transition-all ${f?"bg-sage/10 text-sage border border-sage/20 cursor-default":u.popular?"bg-sage text-cream hover:bg-sage/90 shadow-sm":"bg-white text-ink border border-stone-200 hover:border-sage hover:text-sage"} disabled:opacity-60`,children:a===l?d.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mx-auto"}):f?d.jsxs("span",{className:"flex items-center justify-center gap-1.5",children:[d.jsx(ao,{size:14})," Current Plan"]}):x?`Upgrade to ${u.name}`:`Switch to ${u.name}`})]})]},l)})}),d.jsxs(Ge.p,{...X_(.4),className:"text-center font-body text-xs text-stone-400",children:["Plans can be changed at any time. Changes take effect immediately.",d.jsx("br",{}),"No credit card required for Free plan."]})]})}const MD=()=>({id:crypto.randomUUID(),name:"",rent:"",rentType:"monthly",tenantName:""});function aMe(){const t=yo(),{user:e,profile:n}=Pr(),{currencySymbol:r}=gi(),[i,a]=U.useState(1),[s,o]=U.useState(!1),[l,c]=U.useState({name:"",address:""}),[u,f]=U.useState([MD()]),h=((n==null?void 0:n.fullName)||(e==null?void 0:e.displayName)||"there").split(" ")[0],p=()=>f(S=>[...S,MD()]),b=S=>{u.length!==1&&f(E=>E.filter(P=>P.id!==S))},x=(S,E,P)=>{f(R=>R.map(I=>I.id===S?{...I,[E]:P}:I))},v=S=>{if(S.preventDefault(),!l.name.trim()){Qe.error("Please enter a property/building name.");return}a(2)},y=async()=>{const S=u.filter(E=>E.name.trim());if(S.length===0){Qe.error("Add at least one apartment/unit.");return}o(!0);try{for(const E of S){const P=await P9(e.uid,{name:E.name.trim(),address:l.address.trim(),buildingName:l.name.trim(),unitNumber:E.name.trim(),type:"Apartment",status:E.tenantName?"occupied":"vacant",monthlyRent:parseInt(E.rent)||0,rentType:E.rentType||"monthly",tenantName:E.tenantName||"",tenantPhone:"",bedrooms:0,bathrooms:0,sqft:0,floor:"",description:""})}Qe.success(`${S.length} unit${S.length>1?"s":""} added to ${l.name}!`),t("/dashboard")}catch(E){console.error(E),Qe.error("Failed to save. Please try again.")}finally{o(!1)}},w=()=>t("/dashboard");return d.jsx("div",{className:"min-h-dvh bg-cream flex items-center justify-center p-4 sm:p-8",children:d.jsxs("div",{className:"w-full max-w-2xl",children:[d.jsxs(Ge.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"flex items-center gap-3 mb-8",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-sage flex items-center justify-center",children:d.jsx(sl,{size:18,className:"text-cream"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-display text-ink text-lg font-semibold leading-tight",children:"LeaseEase"}),d.jsx("p",{className:"font-body text-xs text-stone-400",children:"Set up your first property"})]})]}),d.jsx("div",{className:"flex items-center gap-2 mb-8",children:[1,2].map(S=>d.jsx("div",{className:"flex-1 h-1.5 rounded-full overflow-hidden bg-stone-200",children:d.jsx(Ge.div,{className:"h-full bg-sage rounded-full",initial:{width:"0%"},animate:{width:i>=S?"100%":"0%"},transition:{duration:.4,ease:"easeOut"}})},S))}),d.jsxs(po,{mode:"wait",children:[i===1&&d.jsxs(Ge.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[d.jsxs("h1",{className:"font-display text-ink text-2xl sm:text-3xl font-semibold mb-2",children:["Welcome, ",d.jsx("em",{children:h}),"! "]}),d.jsx("p",{className:"font-body text-stone-400 text-sm mb-8",children:"Let's add your first property or building to get started."}),d.jsxs("form",{onSubmit:v,className:"card p-6 sm:p-8 space-y-5",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Property / Building Name *"}),d.jsxs("div",{className:"relative",children:[d.jsx(mo,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-10",placeholder:"e.g. Sunset Apartments",value:l.name,onChange:S=>c(E=>({...E,name:S.target.value})),autoFocus:!0,required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Address"}),d.jsxs("div",{className:"relative",children:[d.jsx(Hp,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-10",placeholder:"e.g. 42 Marina Road, Lagos",value:l.address,onChange:S=>c(E=>({...E,address:S.target.value}))})]})]}),d.jsx("div",{className:"flex items-center gap-3 pt-2",children:d.jsxs("button",{type:"submit",className:"btn-primary flex-1",children:["Add Apartments / Units ",d.jsx(Xa,{size:15})]})}),d.jsx("button",{type:"button",onClick:w,className:"w-full text-center font-body text-xs text-stone-400 hover:text-stone-500 transition-colors pt-1",children:"Skip for now  go to dashboard"})]})]},"step1"),i===2&&d.jsxs(Ge.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[d.jsx("div",{className:"flex items-center gap-2 mb-1",children:d.jsx("button",{onClick:()=>a(1),className:"font-body text-xs text-stone-400 hover:text-ink transition-colors",children:" Back"})}),d.jsxs("h1",{className:"font-display text-ink text-2xl sm:text-3xl font-semibold mb-1",children:["Add units to ",d.jsx("em",{className:"text-sage",children:l.name})]}),d.jsx("p",{className:"font-body text-stone-400 text-sm mb-6",children:"Add the apartments or units in this building. You can always add more later."}),d.jsx("div",{className:"space-y-4",children:u.map((S,E)=>d.jsxs(Ge.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},className:"card p-5",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("span",{className:"font-body text-xs font-semibold text-stone-400 uppercase tracking-wider",children:["Unit ",E+1]}),u.length>1&&d.jsx("button",{onClick:()=>b(S.id),className:"p-1.5 rounded-lg text-stone-300 hover:text-rust hover:bg-rust/8 transition-colors",children:d.jsx(Fv,{size:14})})]}),d.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Apartment Number / Name *"}),d.jsx("input",{className:"input-base",placeholder:"e.g. Unit 4B, Room 12",value:S.name,onChange:P=>x(S.id,"name",P.target.value)})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"label-xs",children:["Rent Amount (",r,")"]}),d.jsxs("div",{className:"relative",children:[d.jsx(h4,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("input",{className:"input-base pl-9",type:"number",placeholder:"e.g. 250000",value:S.rent,onChange:P=>x(S.id,"rent",P.target.value)})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Billing Cycle"}),d.jsxs("div",{className:"relative",children:[d.jsx(f4,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsxs("select",{className:"input-base pl-9 appearance-none",value:S.rentType,onChange:P=>x(S.id,"rentType",P.target.value),children:[d.jsx("option",{value:"monthly",children:"Monthly"}),d.jsx("option",{value:"yearly",children:"Yearly"}),d.jsx("option",{value:"weekly",children:"Weekly"}),d.jsx("option",{value:"daily",children:"Daily"})]})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"label-xs",children:["Tenant Name ",d.jsx("span",{className:"text-stone-300 normal-case",children:"(optional)"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(y4,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"}),d.jsx("div",{className:"input-base pl-9 bg-stone-50 text-stone-400 cursor-not-allowed flex items-center italic",children:S.tenantName||"Not assigned"})]})]})]})]},S.id))}),d.jsxs("button",{onClick:p,className:"w-full mt-4 py-3 rounded-xl border-2 border-dashed border-stone-200 hover:border-sage/40 text-stone-400 hover:text-sage font-body text-sm font-medium transition-all flex items-center justify-center gap-2",children:[d.jsx(js,{size:16})," Add Another Unit"]}),d.jsx("div",{className:"flex items-center gap-3 mt-6",children:d.jsx("button",{onClick:y,disabled:s,className:"btn-primary flex-1 py-3",children:s?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(ao,{size:16}),"Finish Setup"]})})}),d.jsx("button",{onClick:w,className:"w-full text-center font-body text-xs text-stone-400 hover:text-stone-500 transition-colors mt-3",children:"Skip for now  go to dashboard"})]},"step2")]})]})})}var Dk={};(function t(e,n,r,i){var a=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),s=typeof Path2D=="function"&&typeof DOMMatrix=="function",o=function(){if(!e.OffscreenCanvas)return!1;try{var K=new OffscreenCanvas(1,1),H=K.getContext("2d");H.fillRect(0,0,1,1);var F=K.transferToImageBitmap();H.createPattern(F,"no-repeat")}catch{return!1}return!0}();function l(){}function c(K){var H=n.exports.Promise,F=H!==void 0?H:e.Promise;return typeof F=="function"?new F(K):(K(l,l),null)}var u=function(K,H){return{transform:function(F){if(K)return F;if(H.has(F))return H.get(F);var q=new OffscreenCanvas(F.width,F.height),ee=q.getContext("2d");return ee.drawImage(F,0,0),H.set(F,q),q},clear:function(){H.clear()}}}(o,new Map),f=function(){var K=Math.floor(16.666666666666668),H,F,q={},ee=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(H=function(se){var ce=Math.random();return q[ce]=requestAnimationFrame(function fe(ye){ee===ye||ee+K-1<ye?(ee=ye,delete q[ce],se()):q[ce]=requestAnimationFrame(fe)}),ce},F=function(se){q[se]&&cancelAnimationFrame(q[se])}):(H=function(se){return setTimeout(se,K)},F=function(se){return clearTimeout(se)}),{frame:H,cancel:F}}(),h=function(){var K,H,F={};function q(ee){function se(ce,fe){ee.postMessage({options:ce||{},callback:fe})}ee.init=function(fe){var ye=fe.transferControlToOffscreen();ee.postMessage({canvas:ye},[ye])},ee.fire=function(fe,ye,ue){if(H)return se(fe,null),H;var be=Math.random().toString(36).slice(2);return H=c(function(Se){function me(Re){Re.data.callback===be&&(delete F[be],ee.removeEventListener("message",me),H=null,u.clear(),ue(),Se())}ee.addEventListener("message",me),se(fe,be),F[be]=me.bind(null,{data:{callback:be}})}),H},ee.reset=function(){ee.postMessage({reset:!0});for(var fe in F)F[fe](),delete F[fe]}}return function(){if(K)return K;if(!r&&a){var ee=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{K=new Worker(URL.createObjectURL(new Blob([ee])))}catch(se){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",se),null}q(K)}return K}}(),p={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function b(K,H){return H?H(K):K}function x(K){return K!=null}function v(K,H,F){return b(K&&x(K[H])?K[H]:p[H],F)}function y(K){return K<0?0:Math.floor(K)}function w(K,H){return Math.floor(Math.random()*(H-K))+K}function S(K){return parseInt(K,16)}function E(K){return K.map(P)}function P(K){var H=String(K).replace(/[^0-9a-f]/gi,"");return H.length<6&&(H=H[0]+H[0]+H[1]+H[1]+H[2]+H[2]),{r:S(H.substring(0,2)),g:S(H.substring(2,4)),b:S(H.substring(4,6))}}function R(K){var H=v(K,"origin",Object);return H.x=v(H,"x",Number),H.y=v(H,"y",Number),H}function I(K){K.width=document.documentElement.clientWidth,K.height=document.documentElement.clientHeight}function A(K){var H=K.getBoundingClientRect();K.width=H.width,K.height=H.height}function N(K){var H=document.createElement("canvas");return H.style.position="fixed",H.style.top="0px",H.style.left="0px",H.style.pointerEvents="none",H.style.zIndex=K,H}function M(K,H,F,q,ee,se,ce,fe,ye){K.save(),K.translate(H,F),K.rotate(se),K.scale(q,ee),K.arc(0,0,1,ce,fe,ye),K.restore()}function k(K){var H=K.angle*(Math.PI/180),F=K.spread*(Math.PI/180);return{x:K.x,y:K.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:K.startVelocity*.5+Math.random()*K.startVelocity,angle2D:-H+(.5*F-Math.random()*F),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:K.color,shape:K.shape,tick:0,totalTicks:K.ticks,decay:K.decay,drift:K.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:K.gravity*3,ovalScalar:.6,scalar:K.scalar,flat:K.flat}}function j(K,H){H.x+=Math.cos(H.angle2D)*H.velocity+H.drift,H.y+=Math.sin(H.angle2D)*H.velocity+H.gravity,H.velocity*=H.decay,H.flat?(H.wobble=0,H.wobbleX=H.x+10*H.scalar,H.wobbleY=H.y+10*H.scalar,H.tiltSin=0,H.tiltCos=0,H.random=1):(H.wobble+=H.wobbleSpeed,H.wobbleX=H.x+10*H.scalar*Math.cos(H.wobble),H.wobbleY=H.y+10*H.scalar*Math.sin(H.wobble),H.tiltAngle+=.1,H.tiltSin=Math.sin(H.tiltAngle),H.tiltCos=Math.cos(H.tiltAngle),H.random=Math.random()+2);var F=H.tick++/H.totalTicks,q=H.x+H.random*H.tiltCos,ee=H.y+H.random*H.tiltSin,se=H.wobbleX+H.random*H.tiltCos,ce=H.wobbleY+H.random*H.tiltSin;if(K.fillStyle="rgba("+H.color.r+", "+H.color.g+", "+H.color.b+", "+(1-F)+")",K.beginPath(),s&&H.shape.type==="path"&&typeof H.shape.path=="string"&&Array.isArray(H.shape.matrix))K.fill(oe(H.shape.path,H.shape.matrix,H.x,H.y,Math.abs(se-q)*.1,Math.abs(ce-ee)*.1,Math.PI/10*H.wobble));else if(H.shape.type==="bitmap"){var fe=Math.PI/10*H.wobble,ye=Math.abs(se-q)*.1,ue=Math.abs(ce-ee)*.1,be=H.shape.bitmap.width*H.scalar,Se=H.shape.bitmap.height*H.scalar,me=new DOMMatrix([Math.cos(fe)*ye,Math.sin(fe)*ye,-Math.sin(fe)*ue,Math.cos(fe)*ue,H.x,H.y]);me.multiplySelf(new DOMMatrix(H.shape.matrix));var Re=K.createPattern(u.transform(H.shape.bitmap),"no-repeat");Re.setTransform(me),K.globalAlpha=1-F,K.fillStyle=Re,K.fillRect(H.x-be/2,H.y-Se/2,be,Se),K.globalAlpha=1}else if(H.shape==="circle")K.ellipse?K.ellipse(H.x,H.y,Math.abs(se-q)*H.ovalScalar,Math.abs(ce-ee)*H.ovalScalar,Math.PI/10*H.wobble,0,2*Math.PI):M(K,H.x,H.y,Math.abs(se-q)*H.ovalScalar,Math.abs(ce-ee)*H.ovalScalar,Math.PI/10*H.wobble,0,2*Math.PI);else if(H.shape==="star")for(var Pe=Math.PI/2*3,J=4*H.scalar,he=8*H.scalar,Fe=H.x,qe=H.y,je=5,Ke=Math.PI/je;je--;)Fe=H.x+Math.cos(Pe)*he,qe=H.y+Math.sin(Pe)*he,K.lineTo(Fe,qe),Pe+=Ke,Fe=H.x+Math.cos(Pe)*J,qe=H.y+Math.sin(Pe)*J,K.lineTo(Fe,qe),Pe+=Ke;else K.moveTo(Math.floor(H.x),Math.floor(H.y)),K.lineTo(Math.floor(H.wobbleX),Math.floor(ee)),K.lineTo(Math.floor(se),Math.floor(ce)),K.lineTo(Math.floor(q),Math.floor(H.wobbleY));return K.closePath(),K.fill(),H.tick<H.totalTicks}function C(K,H,F,q,ee){var se=H.slice(),ce=K.getContext("2d"),fe,ye,ue=c(function(be){function Se(){fe=ye=null,ce.clearRect(0,0,q.width,q.height),u.clear(),ee(),be()}function me(){r&&!(q.width===i.width&&q.height===i.height)&&(q.width=K.width=i.width,q.height=K.height=i.height),!q.width&&!q.height&&(F(K),q.width=K.width,q.height=K.height),ce.clearRect(0,0,q.width,q.height),se=se.filter(function(Re){return j(ce,Re)}),se.length?fe=f.frame(me):Se()}fe=f.frame(me),ye=Se});return{addFettis:function(be){return se=se.concat(be),ue},canvas:K,promise:ue,reset:function(){fe&&f.cancel(fe),ye&&ye()}}}function V(K,H){var F=!K,q=!!v(H||{},"resize"),ee=!1,se=v(H,"disableForReducedMotion",Boolean),ce=a&&!!v(H||{},"useWorker"),fe=ce?h():null,ye=F?I:A,ue=K&&fe?!!K.__confetti_initialized:!1,be=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Se;function me(Pe,J,he){for(var Fe=v(Pe,"particleCount",y),qe=v(Pe,"angle",Number),je=v(Pe,"spread",Number),Ke=v(Pe,"startVelocity",Number),We=v(Pe,"decay",Number),Je=v(Pe,"gravity",Number),rt=v(Pe,"drift",Number),zt=v(Pe,"colors",E),Ct=v(Pe,"ticks",Number),st=v(Pe,"shapes"),vt=v(Pe,"scalar"),Mt=!!v(Pe,"flat"),tt=R(Pe),Nt=Fe,ot=[],vn=K.width*tt.x,qt=K.height*tt.y;Nt--;)ot.push(k({x:vn,y:qt,angle:qe,spread:je,startVelocity:Ke,color:zt[Nt%zt.length],shape:st[w(0,st.length)],ticks:Ct,decay:We,gravity:Je,drift:rt,scalar:vt,flat:Mt}));return Se?Se.addFettis(ot):(Se=C(K,ot,ye,J,he),Se.promise)}function Re(Pe){var J=se||v(Pe,"disableForReducedMotion",Boolean),he=v(Pe,"zIndex",Number);if(J&&be)return c(function(Ke){Ke()});F&&Se?K=Se.canvas:F&&!K&&(K=N(he),document.body.appendChild(K)),q&&!ue&&ye(K);var Fe={width:K.width,height:K.height};fe&&!ue&&fe.init(K),ue=!0,fe&&(K.__confetti_initialized=!0);function qe(){if(fe){var Ke={getBoundingClientRect:function(){if(!F)return K.getBoundingClientRect()}};ye(Ke),fe.postMessage({resize:{width:Ke.width,height:Ke.height}});return}Fe.width=Fe.height=null}function je(){Se=null,q&&(ee=!1,e.removeEventListener("resize",qe)),F&&K&&(document.body.contains(K)&&document.body.removeChild(K),K=null,ue=!1)}return q&&!ee&&(ee=!0,e.addEventListener("resize",qe,!1)),fe?fe.fire(Pe,Fe,je):me(Pe,Fe,je)}return Re.reset=function(){fe&&fe.reset(),Se&&Se.reset()},Re}var X;function ne(){return X||(X=V(null,{useWorker:!0,resize:!0})),X}function oe(K,H,F,q,ee,se,ce){var fe=new Path2D(K),ye=new Path2D;ye.addPath(fe,new DOMMatrix(H));var ue=new Path2D;return ue.addPath(ye,new DOMMatrix([Math.cos(ce)*ee,Math.sin(ce)*ee,-Math.sin(ce)*se,Math.cos(ce)*se,F,q])),ue}function Y(K){if(!s)throw new Error("path confetti are not supported in this browser");var H,F;typeof K=="string"?H=K:(H=K.path,F=K.matrix);var q=new Path2D(H),ee=document.createElement("canvas"),se=ee.getContext("2d");if(!F){for(var ce=1e3,fe=ce,ye=ce,ue=0,be=0,Se,me,Re=0;Re<ce;Re+=2)for(var Pe=0;Pe<ce;Pe+=2)se.isPointInPath(q,Re,Pe,"nonzero")&&(fe=Math.min(fe,Re),ye=Math.min(ye,Pe),ue=Math.max(ue,Re),be=Math.max(be,Pe));Se=ue-fe,me=be-ye;var J=10,he=Math.min(J/Se,J/me);F=[he,0,0,he,-Math.round(Se/2+fe)*he,-Math.round(me/2+ye)*he]}return{type:"path",path:H,matrix:F}}function le(K){var H,F=1,q="#000000",ee='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof K=="string"?H=K:(H=K.text,F="scalar"in K?K.scalar:F,ee="fontFamily"in K?K.fontFamily:ee,q="color"in K?K.color:q);var se=10*F,ce=""+se+"px "+ee,fe=new OffscreenCanvas(se,se),ye=fe.getContext("2d");ye.font=ce;var ue=ye.measureText(H),be=Math.ceil(ue.actualBoundingBoxRight+ue.actualBoundingBoxLeft),Se=Math.ceil(ue.actualBoundingBoxAscent+ue.actualBoundingBoxDescent),me=2,Re=ue.actualBoundingBoxLeft+me,Pe=ue.actualBoundingBoxAscent+me;be+=me+me,Se+=me+me,fe=new OffscreenCanvas(be,Se),ye=fe.getContext("2d"),ye.font=ce,ye.fillStyle=q,ye.fillText(H,Re,Pe);var J=1/F;return{type:"bitmap",bitmap:fe.transferToImageBitmap(),matrix:[J,0,0,J,-be*J/2,-Se*J/2]}}n.exports=function(){return ne().apply(this,arguments)},n.exports.reset=function(){ne().reset()},n.exports.create=V,n.exports.shapeFromPath=Y,n.exports.shapeFromText=le})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Dk,!1);const sMe=Dk.exports;Dk.exports.create;const Hc=(t=0)=>({initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:t,duration:.35}});function oMe(){const{user:t,profile:e}=Pr(),{fmt:n,fmtRent:r,country:i}=gi(),[a,s]=U.useState([]),[o,l]=U.useState([]),[c,u]=U.useState([]),[f,h]=U.useState([]);U.useEffect(()=>{if(!(t!=null&&t.uid))return;const A=x4(t.uid,M=>{l(M.map(k=>({...k,id:k.unitId||k.id,type:"unit"})))}),N=k9(t.uid,u);return()=>{A==null||A(),N==null||N()}},[t==null?void 0:t.uid,t==null?void 0:t.email]),U.useEffect(()=>{if(!(t!=null&&t.uid))return;const A=zp(t.uid,N=>{h(N.filter(M=>M.createdBy==="tenant"&&M.status!=="paid"))});return()=>A==null?void 0:A()},[t==null?void 0:t.uid]);const p=c.filter(A=>A.status==="paid").reduce((A,N)=>A+(N.amount||0),0),b=((e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||"there").split(" ")[0],x=o,v=x.filter(A=>A.status==="active"),y=x.filter(A=>A.status==="former"),w=v.reduce((A,N)=>A+(N.rentAmount||0),0),[S,E]=U.useState(()=>t!=null&&t.uid?localStorage.getItem(`leaseease_welcome_dismissed_${t.uid}`)==="true":!1),P=()=>{E(!0),t!=null&&t.uid&&localStorage.setItem(`leaseease_welcome_dismissed_${t.uid}`,"true")},R=U.useRef(null),I=v.filter(A=>{var M,k;if(!A.welcomeMessageSent)return!1;const N=((k=(M=A.welcomeMessageDate)==null?void 0:M.toDate)==null?void 0:k.call(M))||new Date(A.welcomeMessageDate);return que(N,Hue(new Date))});return U.useEffect(()=>{if(I.length>0&&!S){let A,N;const M=setTimeout(()=>{if(!R.current)return;N=sMe.create(R.current,{resize:!0,useWorker:!0});const k=3*1e3,j=Date.now()+k,C={startVelocity:30,spread:360,ticks:60,zIndex:0},V=(X,ne)=>Math.random()*(ne-X)+X;A=setInterval(function(){const X=j-Date.now();if(X<=0)return clearInterval(A);const ne=50*(X/k);N({...C,particleCount:ne,origin:{x:V(.1,.3),y:Math.random()-.2}}),N({...C,particleCount:ne,origin:{x:V(.7,.9),y:Math.random()-.2}})},250)},50);return()=>{clearTimeout(M),clearInterval(A),N&&N.reset()}}},[I.length,S]),d.jsxs("div",{className:"space-y-8",children:[d.jsx(Ge.div,{...Hc(0),className:"flex items-start justify-between",children:d.jsxs("div",{children:[d.jsx("p",{className:"font-body text-stone-400 text-sm",children:i!=null&&i.name?`${i.name}  ${i.currency}`:"Your tenant portal"}),d.jsxs("h1",{className:"font-display text-ink text-3xl font-semibold mt-0.5",children:["Welcome, ",d.jsx("em",{children:b})]})]})}),d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:[d.jsxs(Ge.div,{...Hc(.05),className:"stat-card",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-sage/10 flex items-center justify-center",children:d.jsx(jh,{size:18,className:"text-sage"})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-display text-ink text-2xl font-semibold",children:v.length}),d.jsx("div",{className:"font-body text-stone-400 text-xs mt-0.5",children:"Active homes"})]})]}),d.jsxs(Ge.div,{...Hc(.1),className:"stat-card",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber/10 flex items-center justify-center",children:d.jsx(Cs,{size:18,className:"text-amber"})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-display text-ink text-2xl font-semibold",children:n(w)}),d.jsx("div",{className:"font-body text-stone-400 text-xs mt-0.5",children:"Typical monthly rent"})]})]}),d.jsxs(Ge.div,{...Hc(.15),className:"stat-card hidden lg:flex",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-sage/10 flex items-center justify-center",children:d.jsx(Cs,{size:18,className:"text-sage"})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-display text-ink text-2xl font-semibold",children:n(p)}),d.jsx("div",{className:"font-body text-stone-400 text-xs mt-0.5",children:"Total paid here"})]})]})]}),f.length>0&&d.jsxs(Ge.div,{...Hc(.18),className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"font-display text-ink text-lg font-semibold",children:"Upcoming reminders"}),d.jsxs(In,{to:"/tenant/reminders",className:"btn-ghost text-xs",children:["Manage ",d.jsx(Xa,{size:13})]})]}),d.jsx("ul",{className:"space-y-2",children:f.slice(0,5).map(A=>{var M,k;const N=((k=(M=A.dueDate)==null?void 0:M.toDate)==null?void 0:k.call(M))??new Date(A.dueDate);return d.jsxs("li",{className:"flex items-center justify-between gap-3 py-2 border-b border-stone-100 last:border-0",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Is,{size:14,className:"text-amber"}),d.jsx("span",{className:"font-body text-sm text-ink",children:A.propertyName||"Rent"})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:"font-display text-sm font-semibold text-ink",children:n(A.amount||0)}),d.jsxs("span",{className:"font-body text-xs text-stone-400 block",children:["Due ",pi(N,"MMM d")]})]})]},A.id)})})]}),v.length===0&&y.length>0&&d.jsx(Ge.div,{...Hc(.18),className:"p-4 rounded-xl bg-stone-100 border border-stone-200",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(jh,{size:20,className:"text-stone-500 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-body font-semibold text-ink text-sm",children:"Read-Only Mode"}),d.jsx("p",{className:"font-body text-sm text-stone-500 mt-1",children:"You do not have any active leases. You can still access your past homes and download payment receipts for your records."})]})]})}),d.jsxs(Ge.div,{...Hc(.2),className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"font-display text-ink text-lg font-semibold",children:"Active homes"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(In,{to:"/tenant/reminders",className:"btn-ghost text-xs",children:"Reminders"}),d.jsxs(In,{to:"/tenant/payments",className:"btn-ghost text-xs",children:["View payments ",d.jsx(Xa,{size:13})]})]})]}),v.length===0?d.jsxs("div",{className:"flex flex-col items-center text-center py-8",children:[d.jsx(jh,{size:28,className:"text-stone-300 mb-3"}),d.jsx("p",{className:"font-body text-sm text-stone-500",children:"No active homes."})]}):d.jsx("div",{className:"space-y-3",children:v.map(A=>d.jsxs("div",{className:"flex items-center justify-between gap-3 p-4 rounded-xl border border-sage/20 bg-sage/5 transition-colors",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-body font-semibold text-sm text-ink",children:A.unitName||A.propertyName||A.name}),d.jsxs("p",{className:"font-body text-xs text-sage font-medium flex items-center gap-1 mt-0.5",children:[d.jsx(Vf,{size:10})," ",A.unitNumber||A.name||"Unit"]}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:A.address||"Managed Property"})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"font-display text-sm font-semibold text-ink",children:r(A.monthlyRent||A.rentAmount||0,A.rentType||A.billingCycle||"monthly")}),d.jsx("p",{className:"font-body text-[11px] text-sage font-medium mt-0.5",children:"Active lease"})]})]},A.id))})]}),y.length>0&&d.jsxs(Ge.div,{...Hc(.25),className:"card p-6 bg-stone-50/50",children:[d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsx("h2",{className:"font-display text-stone-500 text-lg font-semibold",children:"Past homes"})}),d.jsx("div",{className:"space-y-3",children:y.map(A=>{var N,M;return d.jsxs("div",{className:"flex items-center justify-between gap-3 p-4 rounded-xl border border-stone-200 bg-white opacity-70 grayscale hover:grayscale-0 transition-all",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-body font-semibold text-sm text-stone-600",children:A.unitName||A.propertyName||A.name}),d.jsxs("p",{className:"font-body text-xs text-stone-500 flex items-center gap-1 mt-0.5",children:[d.jsx(Vf,{size:10})," ",A.unitNumber||A.name||"Unit"]}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:A.address||"Managed Property"})]}),d.jsxs("div",{className:"text-right flex flex-col items-end",children:[d.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-stone-200 text-stone-500 uppercase tracking-widest",children:"Archived"}),A.closedAt&&d.jsxs("p",{className:"font-body text-[11px] text-stone-400 mt-1.5",children:["Moved out: ",pi(((M=(N=A.closedAt)==null?void 0:N.toDate)==null?void 0:M.call(N))||new Date(A.closedAt),"MMM yyyy")]})]})]},A.id)})})]}),d.jsx(po,{children:I.length>0&&!S&&d.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6 pointer-events-none",children:[d.jsx(Ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-stone-900/40 backdrop-blur-sm pointer-events-auto",onClick:P}),d.jsx("canvas",{ref:R,className:"absolute inset-0 w-full h-full pointer-events-none z-0"}),d.jsxs(Ge.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-20},transition:{duration:.4,type:"spring",bounce:.3},className:"relative w-full max-w-2xl bg-white rounded-3xl shadow-2xl flex flex-col pointer-events-auto z-10 overflow-hidden",style:{maxHeight:"calc(100vh - 2rem)"},children:[d.jsx("div",{className:"h-2 w-full bg-gradient-to-r from-sage via-amber to-sage flex-shrink-0"}),d.jsx("button",{onClick:P,className:"absolute top-4 right-4 text-stone-400 hover:text-stone-700 hover:bg-stone-100 p-2 rounded-full transition-colors z-20","aria-label":"Close welcome banner",children:d.jsx(U2,{size:20})}),d.jsx("div",{className:"p-6 md:p-8 overflow-y-auto w-full",children:I.map((A,N)=>d.jsx("div",{className:N>0?"mt-8 pt-8 border-t border-stone-100":"",children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-center md:items-start text-center md:text-left",children:[d.jsxs("div",{className:"flex flex-col items-center md:items-start flex-shrink-0",children:[d.jsxs("div",{className:"w-16 h-16 md:w-20 md:h-20 rounded-[1.25rem] bg-sage flex items-center justify-center mb-4 shadow-lg shadow-sage/20 relative",children:[d.jsx("div",{className:"absolute -top-3 -right-3 text-amber animate-pulse",children:d.jsx(g4,{size:24})}),d.jsx(BA,{size:32,className:"text-cream"})]}),d.jsx("h2",{className:"font-display text-ink text-2xl md:text-3xl font-bold leading-tight break-words",children:"Welcome Home!"}),d.jsxs("p",{className:"font-body text-sage font-semibold mt-1 flex items-center gap-1.5 justify-center md:justify-start text-base md:text-lg",children:[d.jsx(uce,{size:18})," Request Approved"]})]}),d.jsxs("div",{className:"flex-1 w-full space-y-5 min-w-0",children:[d.jsxs("div",{className:"p-4 rounded-2xl bg-stone-50 border border-stone-100 flex flex-col gap-4 overflow-hidden",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-sage/10 flex items-center justify-center flex-shrink-0 text-sage",children:d.jsx(mo,{size:20})}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"font-body text-xs text-stone-400 uppercase tracking-wider font-semibold",children:"Address"}),d.jsx("p",{className:"font-display text-ink font-semibold truncate break-words",children:A.buildingName||A.propertyName||A.name}),d.jsx("p",{className:"font-body text-stone-500 text-sm break-words line-clamp-2",children:A.address}),A.unitNumber&&d.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-sage/10 text-sage text-xs font-bold mt-2",children:[d.jsx(Vf,{size:12})," Unit ",A.unitNumber]})]})]}),d.jsx("div",{className:"h-px bg-stone-200 w-full"}),d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber/10 flex items-center justify-center flex-shrink-0 text-amber",children:d.jsx(lc,{size:20})}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"font-body text-xs text-stone-400 uppercase tracking-wider font-semibold",children:"A quick note"}),d.jsx("p",{className:"font-body text-stone-600 text-sm italic leading-relaxed break-words",children:'"We are glad to have you! Please find building rules attached. Feel free to reach out via management contact if you need anything."'})]})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[d.jsxs(In,{to:"/tenant/payments",className:"btn-primary flex-1 py-3 text-sm justify-center shadow-lg shadow-sage/10 min-w-0 whitespace-nowrap",onClick:P,children:[d.jsx(Cs,{size:16})," Pay Your Rent"]}),d.jsxs("a",{href:`mailto:${A.landlordEmail||""}?subject=Question regarding ${A.name}`,className:"btn-secondary flex-1 py-3 text-sm justify-center min-w-0 whitespace-nowrap",onClick:P,children:[d.jsx(lc,{size:16})," Contact Management"]})]})]})]})},`welcome-${A.id}`))})]})]})})]})}async function lMe({gateway:t="stripe",landlordId:e,propertyId:n,propertyName:r,propertyAddress:i,propertyBuildingName:a,propertyUnitNumber:s,propertyFloor:o,tenantEmail:l,tenantName:c,amount:u,currency:f,successUrl:h,cancelUrl:p,metadata:b={}}){throw new Error("Payments API base URL is not configured (VITE_PAYMENTS_API_BASE).")}const Q_=(t=0)=>({initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:t,duration:.35}});function cMe(){const{user:t}=Pr(),{fmt:e,currency:n,currencySymbol:r}=gi(),[i,a]=U.useState([]),[s,o]=U.useState([]),[l,c]=U.useState(!0),[u,f]=U.useState(!1),[h,p]=U.useState("");U.useEffect(()=>{if(!(t!=null&&t.uid))return;const w=k9(t.uid,E=>{a(E),c(!1)}),S=x4(t.uid,E=>{o(E.filter(P=>P.status==="active"))});return()=>{w==null||w(),S==null||S()}},[t==null?void 0:t.uid]);const b=i.filter(w=>w.status==="paid").reduce((w,S)=>w+(S.amount||0),0),x=w=>{Mk(w)},v=async()=>{if(!h){Qe.error("Select a home to pay for.");return}const w=s.find(E=>E.id===h);if(!w)return;const S=w.rentAmount||0;if(!S){Qe.error("This home has no rent amount configured yet.");return}f(!0);try{await lMe({landlordId:w.landlordId,propertyId:w.propertyId,propertyName:w.propertyName,propertyAddress:w.address||"",propertyBuildingName:"",propertyUnitNumber:w.unitName||"",propertyFloor:"",tenantEmail:t.email,tenantName:t.displayName||"",amount:S,currency:w.currency||n})}catch(E){Qe.error(E.message||"Unable to start payment.")}finally{f(!1)}},y=s.length>0;return d.jsxs("div",{className:"space-y-6",children:[d.jsx(Ge.div,{...Q_(0),className:"flex items-start justify-between",children:d.jsxs("div",{children:[d.jsx("h1",{className:"font-display text-ink text-3xl font-semibold",children:"Payments"}),d.jsxs("p",{className:"font-body text-stone-400 text-sm mt-0.5",children:[i.length," records  ",e(b)," paid via LeaseEase"]})]})}),d.jsxs(Ge.div,{...Q_(.08),className:"card p-4 flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"w-9 h-9 rounded-lg bg-sage/10 flex items-center justify-center flex-shrink-0",children:d.jsx(Cs,{size:18,className:"text-sage"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-body text-sm font-semibold text-ink",children:"Pay your rent online"}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-0.5",children:"Choose a home and well redirect you to a secure checkout page."})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:items-center",children:[d.jsxs("select",{className:"input-base text-sm",value:h,onChange:w=>p(w.target.value),disabled:!y,children:[d.jsx("option",{value:"",children:y?"Select home":"No homes linked yet"}),s.map(w=>d.jsxs("option",{value:w.id,children:[w.propertyName,w.unitName?` - ${w.unitName}`:"","  ",e(w.rentAmount||0)]},w.id))]}),d.jsx("button",{onClick:v,disabled:!y||u,className:"btn-primary text-sm flex items-center justify-center gap-1.5",children:u?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:["Pay ",r,d.jsx(Xa,{size:14})]})})]})]}),l?d.jsx("div",{className:"card overflow-hidden",children:[1,2,3,4].map(w=>d.jsx("div",{className:"h-16 border-b border-stone-100 animate-pulse bg-stone-50/50"},w))}):i.length===0?d.jsxs("div",{className:"card p-16 flex flex-col items-center text-center border-2 border-dashed border-stone-200",children:[d.jsx(Cs,{size:40,className:"text-stone-300 mb-3"}),d.jsx("p",{className:"font-body font-medium text-stone-500",children:"No payments yet"}),d.jsx("p",{className:"font-body text-xs text-stone-300 mt-1",children:"When you pay through LeaseEase, your receipts will appear here."})]}):d.jsxs(Ge.div,{...Q_(.1),className:"card overflow-hidden",children:[d.jsxs("div",{className:"flex items-center gap-4 px-5 py-3 bg-stone-50 border-b border-stone-100 text-xs font-body font-semibold text-stone-400 uppercase tracking-wider",children:[d.jsx("span",{className:"flex-1",children:"Home"}),d.jsx("span",{className:"w-28 text-right hidden sm:block",children:"Date"}),d.jsx("span",{className:"w-24 text-right hidden md:block",children:"Method"}),d.jsx("span",{className:"w-20 text-right",children:"Status"}),d.jsx("span",{className:"w-28 text-right",children:"Amount"})]}),i.map((w,S)=>d.jsx(Lk,{payment:w,isLast:S===i.length-1,showProperty:!0,onDownloadInvoice:x},w.id))]})]})}const XW=[{value:1,label:"1 day before",short:"1 day"},{value:3,label:"3 days before",short:"3 days"},{value:7,label:"1 week before",short:"1 week"},{value:14,label:"2 weeks before",short:"2 weeks"},{value:30,label:"1 month before",short:"1 month"}];function uMe(t){var e;return((e=XW.find(n=>n.value===t))==null?void 0:e.label)??`${t} days before`}function QW(t,e=7){var i;const n=((i=t==null?void 0:t.toDate)==null?void 0:i.call(t))??new Date(t),r=new Date(n);return r.setDate(r.getDate()-(e||0)),r}function JW(t,e){var o;const n=((o=t==null?void 0:t.toDate)==null?void 0:o.call(t))??new Date(t),r=QW(n,e),i=new Date;i.setHours(0,0,0,0);const a=new Date(r);a.setHours(0,0,0,0);const s=new Date(n);return s.setHours(0,0,0,0),a<=i&&s>=i}const fMe={overdue:{label:"Overdue",color:"text-rust",bg:"bg-rust/10",dot:"bg-rust"},urgent:{label:"Urgent",color:"text-rust",bg:"bg-rust/8",dot:"bg-rust/70"},soon:{label:"Soon",color:"text-amber",bg:"bg-amber/10",dot:"bg-amber"},ok:{label:"Upcoming",color:"text-sage",bg:"bg-sage/8",dot:"bg-sage"},paid:{label:"Paid",color:"text-stone-400",bg:"bg-stone-100",dot:"bg-stone-300"}};function J_(t){var r,i;if(t.status==="paid")return"paid";const e=((i=(r=t.dueDate)==null?void 0:r.toDate)==null?void 0:i.call(r))??new Date(t.dueDate);if(Mu(e))return"overdue";const n=Gp(e,new Date);return n<=3?"urgent":n<=7?"soon":"ok"}const p1={propertyId:"",dueDate:"",amount:"",leadTimeDays:7,recurring:!1,notifyEmail:!0,notifySms:!1,notifyInApp:!0,notes:""};function dMe(){const{user:t,profile:e}=Pr(),{fmt:n,currencySymbol:r}=gi(),[i,a]=U.useState([]),[s,o]=U.useState([]),[l,c]=U.useState("all"),[u,f]=U.useState(!0),[h,p]=U.useState(!1),[b,x]=U.useState(null),[v,y]=U.useState(!1),[w,S]=U.useState(p1);U.useEffect(()=>{if(!t)return;const C=zp(t.uid,X=>{a(X.filter(ne=>ne.createdBy==="tenant")),f(!1)}),V=t.uid?x4(t.uid,X=>{o(X.filter(ne=>ne.status==="active"))}):void 0;return()=>{C==null||C(),V==null||V()}},[t==null?void 0:t.uid]);const E=C=>V=>S(X=>({...X,[C]:V.target.type==="checkbox"?V.target.checked:V.target.value})),P=C=>{const V=C.target.value,X=s.find(ne=>ne.id===V);S(ne=>({...ne,propertyId:V,propertyName:(X==null?void 0:X.propertyName)??"",propertyUnitNumber:(X==null?void 0:X.unitName)??"",propertyBuildingName:"",propertyFloor:"",amount:(X==null?void 0:X.rentAmount)!=null?String(X.rentAmount):ne.amount}))},R=()=>{var V,X,ne;x(null);const C=new Date;C.setMonth(C.getMonth()+1),S({...p1,dueDate:pi(C,"yyyy-MM-dd"),propertyId:((V=s[0])==null?void 0:V.id)??"",propertyName:((X=s[0])==null?void 0:X.propertyName)??"",amount:((ne=s[0])==null?void 0:ne.rentAmount)!=null?String(s[0].rentAmount):""}),p(!0)},I=C=>{var X,ne;const V=((ne=(X=C.dueDate)==null?void 0:X.toDate)==null?void 0:ne.call(X))??new Date(C.dueDate);x(C.id),S({propertyId:C.propertyId??"",propertyName:C.propertyName??"",propertyUnitNumber:C.propertyUnitNumber??"",propertyBuildingName:C.propertyBuildingName??"",propertyFloor:C.propertyFloor??"",dueDate:pi(V,"yyyy-MM-dd"),amount:C.amount!=null?String(C.amount):"",leadTimeDays:C.leadTimeDays??7,recurring:!!C.recurring,notifyEmail:C.notifyEmail!==!1,notifySms:!!C.notifySms,notifyInApp:C.notifyInApp!==!1,notes:C.notes??""}),p(!0)},A=async C=>{if(C.preventDefault(),!w.propertyId||!w.amount||!w.dueDate){Qe.error("Please select a home, amount, and due date.");return}y(!0);try{const V=s.find(ne=>ne.id===w.propertyId),X={propertyId:w.propertyId,propertyName:w.propertyName||(V==null?void 0:V.propertyName),propertyUnitNumber:w.propertyUnitNumber||(V==null?void 0:V.unitName)||"",propertyBuildingName:w.propertyBuildingName||"",propertyFloor:w.propertyFloor||"",amount:parseInt(w.amount,10)||0,dueDate:new Date(w.dueDate),leadTimeDays:parseInt(w.leadTimeDays,10)||7,recurring:!!w.recurring,notifyEmail:!!w.notifyEmail,notifySms:!!w.notifySms,notifyInApp:!!w.notifyInApp,notes:(w.notes||"").trim(),createdBy:"tenant",tenantName:(e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||"",tenantEmail:(t==null?void 0:t.email)||""};b?(await _A(t.uid,b,X),Qe.success("Reminder updated.")):(await I9(t.uid,X),Qe.success("Reminder created! Youll get notified by your chosen channels.")),p(!1),S(p1),x(null)}catch{Qe.error("Failed to save reminder.")}finally{y(!1)}},N=async C=>{await _A(t.uid,C.id,{status:"paid",paidAt:new Date}),Qe.success("Marked as paid.")},M=async C=>{confirm(`Delete reminder for ${C.propertyName||"this home"}?`)&&(await C9(t.uid,C.id),Qe.success("Reminder deleted."))},k=l==="all"?i:i.filter(C=>J_(C)===l),j={overdue:0,urgent:0,soon:0,ok:0};return i.forEach(C=>{const V=J_(C);j[V]!==void 0&&j[V]++}),i.filter(C=>C.status!=="paid").reduce((C,V)=>C+(V.amount||0),0),d.jsxs("div",{className:"space-y-6",children:[d.jsxs(Ge.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"font-display text-ink text-3xl font-semibold",children:"Rent reminders"}),d.jsxs("p",{className:"font-body text-stone-400 text-sm mt-0.5",children:["Set custom lead times and get notified by email, SMS, or in-app. Your currency:"," ",d.jsx("strong",{className:"text-sage",children:r})]})]}),d.jsxs("button",{type:"button",onClick:R,disabled:s.length===0,className:"btn-primary",children:[d.jsx(js,{size:16})," New reminder"]})]}),s.length===0&&d.jsxs(Ge.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-3 p-4 bg-amber/8 border border-amber/20 rounded-xl",children:[d.jsx(Is,{size:18,className:"text-amber flex-shrink-0"}),d.jsx("p",{className:"font-body text-sm text-stone-600",children:"Add a home first: ask your landlord to link your email to a property. Then you can set reminders here."})]}),d.jsx("div",{className:"flex gap-2 flex-wrap",children:[{key:"all",label:"All",count:i.length},{key:"overdue",label:"Overdue",count:j.overdue},{key:"urgent",label:"Urgent",count:j.urgent},{key:"soon",label:"Soon",count:j.soon},{key:"ok",label:"Upcoming",count:j.ok}].map(({key:C,label:V,count:X})=>d.jsxs("button",{type:"button",onClick:()=>c(C),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-body font-medium border transition-all ${l===C?"bg-ink text-cream border-ink":"bg-white text-stone-500 border-stone-200 hover:border-stone-300"}`,children:[V,X>0&&d.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-xs font-semibold ${l===C?"bg-white/15 text-cream":"bg-stone-100 text-stone-500"}`,children:X})]},C))}),u?d.jsx("div",{className:"space-y-3",children:[1,2,3].map(C=>d.jsx("div",{className:"card h-20 animate-pulse bg-stone-100"},C))}):k.length===0?d.jsxs("div",{className:"card p-16 flex flex-col items-center text-center border-2 border-dashed border-stone-200",children:[d.jsx(Is,{size:40,className:"text-stone-300 mb-3"}),d.jsx("p",{className:"font-body font-medium text-stone-500",children:l==="all"?"No reminders yet":`No ${l} reminders`}),d.jsx("p",{className:"font-body text-xs text-stone-300 mt-1",children:l==="all"&&"Create a reminder to get email, SMS, or in-app alerts before rent is due."}),s.length>0&&l==="all"&&d.jsxs("button",{type:"button",onClick:R,className:"btn-primary mt-4",children:[d.jsx(js,{size:15})," New reminder"]})]}):d.jsx("div",{className:"card overflow-hidden",children:d.jsx(po,{children:k.map(C=>{var H,F;const V=J_(C),X=fMe[V],ne=((F=(H=C.dueDate)==null?void 0:H.toDate)==null?void 0:F.call(H))??new Date(C.dueDate),oe=Gp(ne,new Date),Y=V==="paid",le=QW(ne,C.leadTimeDays),K=!Y&&JW(C.dueDate,C.leadTimeDays);return d.jsxs(Ge.div,{initial:{opacity:0},animate:{opacity:Y?.6:1},exit:{opacity:0,height:0},className:"flex items-center gap-4 px-5 py-4 border-b border-stone-100 last:border-0 hover:bg-stone-50/70 transition-colors group",children:[d.jsx("div",{className:`w-2.5 h-2.5 rounded-full flex-shrink-0 ${X.dot}`}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[d.jsxs("span",{className:"font-body font-semibold text-sm text-ink",children:[C.propertyName||"Rent",C.propertyUnitNumber&&d.jsxs("span",{className:"text-sage ml-1 font-normal",children:["(",Tk({unitNumber:C.propertyUnitNumber,floor:C.propertyFloor}),")"]})]}),C.recurring&&d.jsx("span",{className:"font-body text-xs px-2 py-0.5 rounded-full bg-stone-100 text-stone-400",children:"Monthly"}),K&&d.jsx("span",{className:"font-body text-xs px-2 py-0.5 rounded-full bg-amber/15 text-amber border border-amber/30",children:"Reminder today"})]}),d.jsxs("div",{className:"flex items-center gap-3 mt-1 flex-wrap",children:[d.jsx("span",{className:`font-body text-xs font-medium px-2 py-0.5 rounded-full border ${X.bg} ${X.color}`,children:Y?"Paid":Mu(ne)?"Overdue":oe===0?"Due today":oe===1?"Due tomorrow":`Due in ${oe}d`}),d.jsxs("span",{className:"font-body text-xs text-stone-400",children:["Notify: ",uMe(C.leadTimeDays)," (",pi(le,"MMM d"),")"]}),d.jsxs("span",{className:"flex items-center gap-1.5 text-stone-400",children:[C.notifyEmail&&d.jsx(lc,{size:11,title:"Email"}),C.notifySms&&d.jsx(wO,{size:11,title:"SMS"}),C.notifyInApp&&d.jsx(_O,{size:11,title:"In-app"})]})]})]}),d.jsx("div",{className:"text-right flex-shrink-0",children:d.jsx("p",{className:"font-display font-semibold text-lg text-ink",children:n(C.amount||0)})}),!Y&&d.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{type:"button",onClick:()=>I(C),className:"text-xs font-body font-medium px-3 py-1.5 rounded-lg bg-stone-100 text-stone-600 hover:bg-stone-200",children:"Edit"}),d.jsxs("button",{type:"button",onClick:()=>N(C),className:"flex items-center gap-1.5 text-xs font-body font-medium px-3 py-1.5 rounded-lg bg-sage/10 text-sage border border-sage/20 hover:bg-sage/20",children:[d.jsx(V2,{size:13})," Paid"]}),d.jsx("button",{type:"button",onClick:()=>M(C),className:"p-1.5 rounded-lg bg-rust/8 text-rust border border-rust/15 hover:bg-rust/15",children:d.jsx(Fv,{size:13})})]})]},C.id)})})}),d.jsx(Ip,{isOpen:h,onClose:()=>{p(!1),x(null),S(p1)},title:b?"Edit reminder":"New rent reminder",size:"lg",children:d.jsxs("form",{onSubmit:A,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Home (property) *"}),d.jsxs("select",{className:"input-base",value:w.propertyId,onChange:P,required:!0,children:[d.jsx("option",{value:"",children:" Select home "}),s.map(C=>d.jsxs("option",{value:C.id,children:[C.propertyName,C.unitName?` - ${C.unitName}`:"","  ",n(C.rentAmount||0),"/month"]},C.id))]})]}),d.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Due date *"}),d.jsx("input",{className:"input-base",type:"date",value:w.dueDate,onChange:E("dueDate"),required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"label-xs",children:["Amount (",r,") *"]}),d.jsx("input",{className:"input-base",type:"number",placeholder:"e.g. 250000",value:w.amount,onChange:E("amount"),required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Remind me"}),d.jsx("select",{className:"input-base",value:w.leadTimeDays,onChange:C=>S(V=>({...V,leadTimeDays:parseInt(C.target.value,10)})),children:XW.map(C=>d.jsx("option",{value:C.value,children:C.label},C.value))}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-1",children:"Youll get notified at this time before the due date."})]}),d.jsxs("div",{children:[d.jsx("p",{className:"label-xs mb-2",children:"Notify me via"}),d.jsxs("div",{className:"flex flex-wrap gap-4",children:[d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:w.notifyEmail,onChange:E("notifyEmail"),className:"w-4 h-4 rounded accent-sage"}),d.jsx(lc,{size:14,className:"text-stone-400"}),d.jsx("span",{className:"font-body text-sm",children:"Email"})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:w.notifySms,onChange:E("notifySms"),className:"w-4 h-4 rounded accent-sage"}),d.jsx(wO,{size:14,className:"text-stone-400"}),d.jsx("span",{className:"font-body text-sm",children:"SMS"})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:w.notifyInApp,onChange:E("notifyInApp"),className:"w-4 h-4 rounded accent-sage"}),d.jsx(_O,{size:14,className:"text-stone-400"}),d.jsx("span",{className:"font-body text-sm",children:"In-app"})]})]}),d.jsx("p",{className:"font-body text-xs text-stone-400 mt-1",children:"In-app alerts show when you open LeaseEase. Email and SMS require your landlord to enable notifications."})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"checkbox",id:"recurring-tenant",checked:w.recurring,onChange:E("recurring"),className:"w-4 h-4 rounded accent-sage"}),d.jsx("label",{htmlFor:"recurring-tenant",className:"font-body text-sm text-ink cursor-pointer",children:"Repeat every month (recurring reminder)"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-xs",children:"Notes (optional)"}),d.jsx("input",{className:"input-base",placeholder:"e.g. Rent for March",value:w.notes,onChange:E("notes")})]}),d.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[d.jsx("button",{type:"button",onClick:()=>p(!1),className:"btn-secondary",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:v,className:"btn-primary",children:v?d.jsx("div",{className:"w-4 h-4 border-2 border-cream border-t-transparent rounded-full animate-spin"}):b?"Save changes":d.jsxs(d.Fragment,{children:[d.jsx(js,{size:15})," Create reminder"]})})]})]})})]})}const hMe=[{to:"/dashboard",icon:hV,label:"Dashboard"},{to:"/notifications",icon:Is,label:"Activity"},{to:"/properties",icon:mo,label:"Properties"},{to:"/archive",icon:fV,label:"Archive"},{to:"/reminders",icon:op,label:"Reminders"},{to:"/payments",icon:Cs,label:"Payments"},{to:"/profile",icon:cc,label:"Profile"},{to:"/settings",icon:mV,label:"Settings"},{to:"/subscription",icon:Ch,label:"Subscription"}],pMe=[{to:"/tenant",icon:hV,label:"My Homes"},{to:"/tenant/reminders",icon:Is,label:"Reminders"},{to:"/tenant/payments",icon:Cs,label:"Payments"},{to:"/profile",icon:cc,label:"Profile"},{to:"/settings",icon:mV,label:"Settings"}];function mMe(){var R;const{user:t,profile:e,logout:n}=Pr(),{country:r,currencySymbol:i}=gi(),a=yo(),[s,o]=U.useState(!1),[l,c]=U.useState(0),[u,f]=U.useState(0),p=((e==null?void 0:e.role)||"landlord")==="tenant",b=p?pMe:hMe,x=Rs[((R=e==null?void 0:e.subscription)==null?void 0:R.planId)||"free"]||Rs.free,v=Vu(),[y,w]=U.useState(p?"/tenant":"/dashboard");U.useEffect(()=>{w(v.pathname)},[v.pathname]),U.useEffect(()=>{if(p||!(t!=null&&t.uid))return;const I=gie(t.uid,c),A=_ie(t.uid,f);return()=>{I(),A()}},[t==null?void 0:t.uid,p]);const S=async()=>{await n(),Qe.success("Signed out successfully"),a("/login")},E=((e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||"U").split(" ").map(I=>I[0]).join("").toUpperCase().slice(0,2),P=()=>d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"px-5 py-6 border-b border-stone-100",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-9 h-9 rounded-xl bg-sage flex items-center justify-center shadow-sm",children:d.jsx(sl,{size:17,className:"text-cream"})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-display font-semibold text-ink text-lg leading-none",children:"LeaseEase"}),d.jsx("div",{className:"text-xs text-stone-400 font-body mt-0.5 tracking-wide",children:"Property Manager"})]})]}),r&&d.jsxs("div",{className:"mt-3 flex items-center gap-1.5 px-2 py-1 bg-stone-50 rounded-lg border border-stone-100 w-fit",children:[d.jsx("span",{className:"text-sm",children:nd(r.code)}),d.jsxs("span",{className:"font-body text-xs text-stone-400",children:[r.currency," (",i,")"]})]})]}),d.jsx("nav",{className:"flex-1 px-3 py-4 space-y-0.5",children:b.map(({to:I,icon:A,label:N})=>d.jsxs(In,{to:I,onClick:()=>{w(I),o(!1)},className:`nav-item ${y===I?"active":""}`,children:[d.jsx(A,{size:17}),d.jsx("span",{children:N}),N==="Dashboard"&&u>0&&d.jsx("span",{className:"ml-auto min-w-[18px] h-[18px] px-1 rounded-full bg-sage text-cream text-[10px] font-body font-bold flex items-center justify-center animate-pulse",children:u>9?"9+":u}),N==="Properties"&&l>0&&d.jsx("span",{className:"ml-auto min-w-[18px] h-[18px] px-1 rounded-full bg-rust text-cream text-[10px] font-body font-bold flex items-center justify-center",children:l>9?"9+":l})]},I))}),d.jsxs("div",{className:"px-3 py-4 border-t border-stone-100",children:[d.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 rounded-xl hover:bg-stone-100 transition-colors cursor-pointer group",onClick:()=>a("/profile"),children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-sage/15 border border-sage/30 flex items-center justify-center flex-shrink-0",children:d.jsx("span",{className:"font-body font-semibold text-sage text-xs",children:E})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-body font-medium text-ink text-sm truncate",children:(e==null?void 0:e.fullName)||(t==null?void 0:t.displayName)||"User"}),d.jsx("div",{className:"font-body text-xs text-stone-400 truncate",children:t==null?void 0:t.email})]}),d.jsx(vd,{size:14,className:"text-stone-300 group-hover:text-stone-400 transition-colors"})]}),!p&&d.jsx("div",{className:"px-3 mb-1",children:d.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-body font-semibold ${x.badgeColor}`,children:[d.jsx(Ch,{size:10}),x.badge]})}),d.jsxs("button",{onClick:S,className:"nav-item w-full mt-1 text-rust hover:bg-rust/8 hover:text-rust",children:[d.jsx(UA,{size:16}),d.jsx("span",{children:"Sign Out"})]})]})]});return d.jsxs("div",{className:"flex min-h-screen bg-stone-50/50",children:[d.jsx("aside",{className:"hidden lg:flex flex-col w-60 bg-white border-r border-stone-100 fixed inset-y-0 left-0 z-40",children:d.jsx(P,{})}),d.jsx(po,{children:s&&d.jsxs(d.Fragment,{children:[d.jsx(Ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-ink/40 backdrop-blur-sm z-40 lg:hidden",onClick:()=>o(!1)}),d.jsxs(Ge.aside,{initial:{x:-280},animate:{x:0},exit:{x:-280},transition:{type:"spring",damping:28,stiffness:300},className:"fixed inset-y-0 left-0 w-72 bg-white z-50 shadow-deep lg:hidden",children:[d.jsxs("div",{className:"flex items-center justify-between px-5 pt-5 pb-0",children:[d.jsx("div",{}),d.jsx("button",{onClick:()=>o(!1),className:"p-2 rounded-lg hover:bg-stone-100 text-stone-400",children:d.jsx(U2,{size:18})})]}),d.jsx(P,{})]})]})}),d.jsxs("main",{className:"flex-1 lg:ml-60 flex flex-col min-h-screen",children:[d.jsxs("div",{className:"lg:hidden flex items-center gap-3 px-4 py-3 bg-white border-b border-stone-100 sticky top-0 z-30",children:[d.jsx("button",{onClick:()=>o(!0),className:"p-2 rounded-lg hover:bg-stone-100 text-stone-600 transition-colors",children:d.jsx(cce,{size:20})}),d.jsx("div",{className:"font-display font-semibold text-ink text-lg",children:"LeaseEase"}),r&&d.jsxs("span",{className:"ml-auto text-sm flex items-center gap-1 font-body text-xs text-stone-400",children:[nd(r.code)," ",r.currency]})]}),d.jsx("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl w-full mx-auto",children:d.jsx(aX,{})})]})]})}const gMe="leaseease_reminder_alert_";function yMe(){return pi(new Date,"yyyy-MM-dd")}function vMe(){const{user:t,profile:e}=Pr(),{fmt:n}=gi(),r=U.useRef(new Set);return U.useEffect(()=>{if(((e==null?void 0:e.role)||"landlord")!=="tenant"||!(t!=null&&t.uid))return;const a=zp(t.uid,s=>{yMe(),s.filter(l=>l.createdBy==="tenant").forEach(l=>{var y,w;if(l.status==="paid"||!l.notifyInApp||!JW(l.dueDate,l.leadTimeDays??7))return;const c=`${gMe}${l.id}_${f}`;try{if(sessionStorage.getItem(c))return}catch{if(r.current.has(c))return}const u=((w=(y=l.dueDate)==null?void 0:y.toDate)==null?void 0:w.call(y))??new Date(l.dueDate),f=new Date;f.setHours(0,0,0,0);const h=new Date(u);h.setHours(0,0,0,0);const p=h.getTime()===f.getTime(),b=l.propertyName||"Rent",x=n(l.amount||0),v=p?`Rent due today: ${b}  ${x}`:`Reminder: ${b}  ${x} due ${pi(u,"MMM d")}`;Qe(v,{icon:"",duration:6e3,style:{background:"#1A1612",color:"#F5F0E8"}});try{sessionStorage.setItem(c,"1")}catch{r.current.add(c)}})});return()=>a==null?void 0:a()},[t==null?void 0:t.uid,e==null?void 0:e.role,n]),null}const Do=t=>{if(!t)return null;if(typeof t.toDate=="function")return t.toDate();const e=new Date(t);return isNaN(e.getTime())?null:e},bMe=(t=0)=>({initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:t,duration:.3}});function xMe(){const{user:t}=Pr(),{fmt:e}=gi(),[n,r]=U.useState([]),[i,a]=U.useState([]),[s,o]=U.useState(!0),[l,c]=U.useState(""),[u,f]=U.useState("all");U.useEffect(()=>{if(!t)return;const y=O9(t.uid,S=>{r(S),o(!1)}),w=zp(t.uid,a);return()=>{y(),w()}},[t]);const h=i.filter(y=>{const w=Do(y.dueDate);return w?!Mu(w)&&Gp(w,new Date)<=5&&y.status!=="paid":!1}),p=i.filter(y=>{const w=Do(y.dueDate);return w?Mu(w)&&y.status!=="paid":!1}),b=[...n.map(y=>({...y,feedType:"notification"})),...p.map(y=>({...y,feedType:"reminder",overdue:!0})),...h.map(y=>({...y,feedType:"reminder",overdue:!1}))].sort((y,w)=>{const S=Do(y.createdAt)||Do(y.dueDate)||new Date(0);return(Do(w.createdAt)||Do(w.dueDate)||new Date(0))-S}),x=b.filter(y=>{const w=!l||(y.tenantName||"").toLowerCase().includes(l.toLowerCase())||(y.unitName||"").toLowerCase().includes(l.toLowerCase());return u==="unread"?w&&y.feedType==="notification"&&!y.read:u==="requests"?w&&y.type==="unit_request":u==="alerts"?w&&y.feedType==="reminder":w}),v={unread:n.filter(y=>!y.read).length,requests:n.filter(y=>y.type==="unit_request").length,alerts:h.length+p.length};return d.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[d.jsxs(Ge.div,{...bMe(0),className:"flex items-end justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"font-display text-ink text-3xl font-semibold",children:"Activity History"}),d.jsx("p",{className:"font-body text-stone-400 text-sm mt-0.5",children:"Your recent updates, requests, and payment alerts"})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("button",{onClick:()=>n.filter(y=>!y.read).forEach(y=>SA(t.uid,y.id)),className:"btn-ghost text-xs",disabled:v.unread===0,children:"Mark all as read"})})]}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[d.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 md:pb-0 w-full md:w-auto no-scrollbar",children:[{id:"all",label:"All Activity",count:b.length},{id:"unread",label:"Unread",count:v.unread},{id:"requests",label:"Requests",count:v.requests},{id:"alerts",label:"Alerts",count:v.alerts}].map(y=>d.jsxs("button",{onClick:()=>f(y.id),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-body font-medium border transition-all whitespace-nowrap
                ${u===y.id?"bg-ink text-cream border-ink":"bg-white text-stone-500 border-stone-200 hover:border-stone-300"}`,children:[y.label,y.count>0&&d.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[10px] font-bold ${u===y.id?"bg-white/15 text-cream":"bg-stone-100 text-stone-500"}`,children:y.count})]},y.id))}),d.jsxs("div",{className:"relative w-full md:w-64",children:[d.jsx(m4,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400",size:14}),d.jsx("input",{type:"text",placeholder:"Search activity...",className:"input-base pl-9 py-2 text-sm",value:l,onChange:y=>c(y.target.value)})]})]}),s?d.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(y=>d.jsx("div",{className:"card h-20 animate-pulse bg-stone-100"},y))}):x.length===0?d.jsxs("div",{className:"card p-16 flex flex-col items-center text-center border-2 border-dashed border-stone-200",children:[d.jsx("div",{className:"w-16 h-16 rounded-full bg-stone-50 flex items-center justify-center mb-4",children:d.jsx(Is,{size:24,className:"text-stone-300"})}),d.jsx("h3",{className:"font-display text-ink text-lg font-semibold",children:"No activity found"}),d.jsx("p",{className:"font-body text-stone-400 text-sm mt-1",children:l?"Try adjusting your search terms.":"You're all caught up! New updates will appear here."})]}):d.jsx("div",{className:"card p-0 overflow-hidden divide-y divide-stone-100",children:d.jsx(po,{children:x.map((y,w)=>d.jsxs(Ge.div,{initial:{opacity:0},animate:{opacity:1},className:`p-5 flex items-start gap-4 transition-colors hover:bg-stone-50/50 ${!y.read&&y.feedType==="notification"?"bg-sage/5":""}`,children:[d.jsx("div",{className:`w-10 h-10 rounded-xl flex-shrink-0 flex items-center justify-center ${y.feedType==="notification"?y.type==="unit_request"?"bg-amber/10 text-amber":"bg-sage/10 text-sage":y.overdue?"bg-rust/10 text-rust":"bg-amber/10 text-amber"}`,children:y.feedType==="notification"?y.type==="unit_request"?d.jsx(cc,{size:18}):d.jsx(Is,{size:18}):d.jsx(op,{size:18})}),d.jsxs("div",{className:"flex-1 min-w-0 py-0.5",children:[d.jsxs("div",{className:"flex items-start justify-between gap-4",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"font-body text-ink leading-snug",children:y.feedType==="notification"?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"font-bold",children:y.tenantName})," ",y.type==="unit_request"?"requested to join":"sent a notification"," "," ",d.jsx("span",{className:"font-bold text-sage",children:y.unitName})]}):d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"font-bold",children:y.tenantName})," ","payment is ",y.overdue?"overdue":"due soon"]})}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("span",{className:"flex items-center gap-1.5 font-body text-xs text-stone-400",children:[d.jsx(Ih,{size:12}),y.feedType==="notification"?Do(y.createdAt)?pi(Do(y.createdAt),"MMM d, h:mm a"):"Recently":Do(y.dueDate)?`Due ${pi(Do(y.dueDate),"MMM d")}`:"Invalid date"]}),y.propertyName&&d.jsx("span",{className:"font-body text-[11px] text-stone-400 bg-stone-100 px-1.5 py-0.5 rounded",children:y.propertyName})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[y.feedType==="notification"&&!y.read&&d.jsx("button",{onClick:()=>SA(t.uid,y.id),className:"p-1.5 rounded-lg text-sage hover:bg-sage/10 transition-colors",title:"Mark as read",children:d.jsx(V2,{size:14})}),d.jsx("button",{onClick:()=>{y.feedType==="notification"?wie(t.uid,y.id):toast.error("Please manage reminders on the Reminders page.")},className:"p-1.5 rounded-lg text-stone-300 hover:text-rust hover:bg-rust/10 transition-colors",title:"Delete Activity",children:d.jsx(Fv,{size:14})})]})]}),y.feedType==="notification"&&y.type==="unit_request"&&d.jsx("div",{className:"mt-4",children:d.jsxs(In,{to:`/properties/${y.propertyId}?tab=units`,className:"inline-flex items-center gap-1.5 px-4 py-2 rounded-xl bg-sage text-cream font-body text-xs font-semibold hover:bg-sage/90 transition-all shadow-sm",children:["Review Request ",d.jsx(vd,{size:14})]})})]})]},y.id))})})]})}const LD=(t=0)=>({initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:t,duration:.4}});function wMe(){const{user:t}=Pr(),{fmtRent:e}=gi(),[n,r]=U.useState([]),[i,a]=U.useState(!0),[s,o]=U.useState(null),[l,c]=U.useState("");U.useEffect(()=>{if(!t)return;a(!0),o(null);const f=xce(t.uid,h=>{r(h.filter(p=>p.status==="former")),a(!1)},h=>{console.error("Archive fetch error:",h),o(h),a(!1)});return()=>f()},[t]);const u=n.filter(f=>{const h=l.toLowerCase();return(f.tenantName||"").toLowerCase().includes(h)||(f.unitName||"").toLowerCase().includes(h)||(f.propertyName||"").toLowerCase().includes(h)});return i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"w-8 h-8 border-2 border-sage border-t-transparent rounded-full animate-spin"})}):s?d.jsx("div",{className:"space-y-6 max-w-5xl mx-auto",children:d.jsxs("div",{className:"card p-12 flex flex-col items-center justify-center text-center",children:[d.jsx("div",{className:"w-16 h-16 rounded-full bg-rust/10 flex items-center justify-center mb-4 text-rust",children:d.jsx(c4,{size:32})}),d.jsx("h2",{className:"font-display text-ink text-xl font-semibold mb-2",children:"Something went wrong"}),d.jsx("p",{className:"font-body text-stone-500 max-w-md",children:"We couldn't load your archived records. This is likely due to a database indexing update. Check the console for details, or try again later."})]})}):d.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto",children:[d.jsx(Ge.div,{...LD(0),className:"flex flex-col sm:flex-row sm:items-end justify-between gap-4",children:d.jsxs("div",{children:[d.jsx("h1",{className:"font-display text-ink text-2xl font-semibold",children:"Archived Tenants"}),d.jsx("p",{className:"font-body text-stone-500 text-sm mt-1",children:"Past leases and historical payment records."})]})}),d.jsxs(Ge.div,{...LD(.1),className:"card p-6 min-h-[400px]",children:[d.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:d.jsxs("div",{className:"relative flex-1 max-w-md",children:[d.jsx(m4,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-stone-400"}),d.jsx("input",{type:"text",placeholder:"Search past tenants or properties...",value:l,onChange:f=>c(f.target.value),className:"input-base pl-10 w-full"})]})}),u.length===0?d.jsxs("div",{className:"text-center py-16",children:[d.jsx("div",{className:"w-16 h-16 rounded-full bg-stone-50 flex items-center justify-center mx-auto mb-4 border border-stone-100",children:d.jsx(fV,{size:24,className:"text-stone-300"})}),d.jsx("p",{className:"font-body text-stone-500 font-medium",children:"No archived records found."}),l&&d.jsx("p",{className:"font-body text-sm text-stone-400 mt-1",children:"Try adjusting your search."})]}):d.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:u.map(f=>{var h,p;return d.jsxs("div",{className:"p-5 rounded-2xl border border-stone-200 bg-stone-50 hover:bg-stone-100 transition-colors",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-body font-semibold text-ink text-base",children:f.tenantName||"Unknown Tenant"}),d.jsx("p",{className:"font-body text-stone-400 text-xs mt-0.5",children:f.tenantEmail||"No email provided"})]}),d.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-stone-200 text-stone-500 uppercase tracking-widest",children:"Archived"})]}),d.jsxs("div",{className:"space-y-2 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-stone-600",children:[d.jsx(Hp,{size:14,className:"text-stone-400"}),d.jsx("span",{className:"font-body truncate",children:f.propertyName||"Property"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-stone-600",children:[d.jsx(Vf,{size:14,className:"text-stone-400"}),d.jsx("span",{className:"font-body",children:f.unitName||"Unit"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-stone-600",children:[d.jsx(d4,{size:14,className:"text-stone-400"}),d.jsxs("span",{className:"font-body",children:["Moved out: ",f.closedAt?pi(((p=(h=f.closedAt).toDate)==null?void 0:p.call(h))||new Date(f.closedAt),"MMM d, yyyy"):"Unknown"]})]})]}),d.jsx("div",{className:"h-px bg-stone-200 w-full mb-4"}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("p",{className:"font-display font-semibold text-ink",children:e(f.rentAmount||0,f.billingCycle||"monthly")}),d.jsxs(In,{to:`/properties/${f.propertyId||""}?tab=payments`,className:"btn-ghost text-xs",children:["View Property ",d.jsx(p4,{size:12,className:"ml-1"})]})]})]},f.id)})})]})]})}function ZW(){return d.jsx("div",{className:"min-h-screen bg-cream flex items-center justify-center",children:d.jsxs("div",{className:"flex flex-col items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 border-2 border-sage border-t-transparent rounded-full animate-spin"}),d.jsx("span",{className:"font-body text-sm text-stone-400",children:"Loading LeaseEase"})]})})}function DD({children:t}){const{user:e,profile:n,loading:r}=Pr();return r||e&&n===void 0?d.jsx(ZW,{}):e?t:d.jsx(Ng,{to:"/login",replace:!0})}function Z_({children:t}){const{user:e,profile:n,loading:r}=Pr();if(r)return null;if(!e)return t;const i=(n==null?void 0:n.role)||"landlord";return d.jsx(Ng,{to:i==="tenant"?"/tenant":"/dashboard",replace:!0})}function _Me(){const{profile:t,loading:e,user:n}=Pr();if(e||n&&t===void 0)return d.jsx(ZW,{});const r=(t==null?void 0:t.role)||"landlord";return d.jsxs(oX,{children:[d.jsx(cr,{path:"/",element:d.jsx(Ng,{to:r==="tenant"?"/tenant":"/dashboard",replace:!0})}),d.jsx(cr,{path:"/login",element:d.jsx(Z_,{children:d.jsx(Kue,{})})}),d.jsx(cr,{path:"/register",element:d.jsx(Z_,{children:d.jsx(Yue,{})})}),d.jsx(cr,{path:"/forgot-password",element:d.jsx(Z_,{children:d.jsx(Xue,{})})}),d.jsx(cr,{path:"/join/:token",element:d.jsx(Gue,{})}),d.jsx(cr,{path:"/onboarding",element:d.jsx(DD,{children:d.jsx(aMe,{})})}),d.jsxs(cr,{element:d.jsx(DD,{children:d.jsx(mMe,{})}),children:[d.jsx(cr,{path:"/dashboard",element:r==="tenant"?d.jsx(Ng,{to:"/tenant",replace:!0}):d.jsx(Uje,{})}),d.jsx(cr,{path:"/tenant",element:d.jsx(oMe,{})}),d.jsx(cr,{path:"/tenant/reminders",element:d.jsx(dMe,{})}),d.jsx(cr,{path:"/properties",element:d.jsx(Kje,{})}),d.jsx(cr,{path:"/properties/:id",element:d.jsx(HRe,{})}),d.jsx(cr,{path:"/properties/:id/success",element:d.jsx(nMe,{})}),d.jsx(cr,{path:"/archive",element:d.jsx(wMe,{})}),d.jsx(cr,{path:"/reminders",element:d.jsx(KRe,{})}),d.jsx(cr,{path:"/notifications",element:d.jsx(xMe,{})}),d.jsx(cr,{path:"/payments",element:d.jsx(YRe,{})}),d.jsx(cr,{path:"/tenant/payments",element:d.jsx(cMe,{})}),d.jsx(cr,{path:"/settings",element:d.jsx(XRe,{})}),d.jsx(cr,{path:"/profile",element:d.jsx(QRe,{})}),d.jsx(cr,{path:"/subscription",element:d.jsx(iMe,{})})]}),d.jsx(cr,{path:"*",element:d.jsx(Ng,{to:r==="tenant"?"/tenant":"/dashboard",replace:!0})})]})}function SMe(){return d.jsx(mX,{children:d.jsx(Aie,{children:d.jsx(Sie,{children:d.jsxs("div",{className:"grain",children:[d.jsx(vMe,{}),d.jsx(_Me,{}),d.jsx(oQ,{position:"top-right",toastOptions:{style:{background:"#1A1612",color:"#F5F0E8",fontFamily:"'DM Sans', sans-serif",fontSize:"13px",borderRadius:"12px",border:"1px solid rgba(245,240,232,0.1)"},success:{iconTheme:{primary:"#4A7C59",secondary:"#F5F0E8"}},error:{iconTheme:{primary:"#B84C3A",secondary:"#F5F0E8"}}}})]})})})})}eS.createRoot(document.getElementById("root")).render(d.jsx(ge.StrictMode,{children:d.jsx(SMe,{})}));export{An as _,h0 as c,Ln as g};
